/*! For license information please see 2.2cc3be70.chunk.js.LICENSE.txt */
(this["webpackJsonpapp-tacr-agritas"]=this["webpackJsonpapp-tacr-agritas"]||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(146)},function(t,e,n){t.exports=n(241)()},function(t,e,n){var r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E;window,t.exports=(r=n(5),i=n(29),o=n(38),a=n(240),s=n(64),u=n(245),l=n(44),c=n(83),h=n(246),f=n(11),p=n(79),d=n(325),g=n(21),m=n(326),y=n(251),v=n(258),b=n(259),E=n(260),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e){t.exports=a},function(t,e){t.exports=s},function(t,e){t.exports=u},function(t,e){t.exports=l},function(t,e){t.exports=c},function(t,e){t.exports=h},function(t,e){t.exports=f},function(t,e){t.exports=p},function(t,e){t.exports=d},function(t,e){t.exports=g},function(t,e){t.exports=m},function(t,e){t.exports=y},function(t,e,n){t.exports=n(21)()},function(t,e){t.exports=v},function(t,e){t.exports=b},function(t,e){t.exports=E},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";var r=n(22);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){var r=n(24),i=n(25);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){"use strict";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],u=e.base?s[0]+e.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var h=a(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(f)):o.push({identifier:c,updater:g(f,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function g(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=u(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(t,e),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},function(t,e,n){(e=n(26)(!1)).push([t.i,".ptr-navlist{background-color:var(--base20);height:100%;padding:1rem 0}.ptr-navlist ul{list-style:none;margin:0;padding:0;white-space:nowrap}.ptr-navlist li.ptr-nav-item-folder{margin-left:3px}.ptr-navlist li.ptr-nav-item{border-left:3px;border-left-style:solid;border-left-color:var(--base40)}.ptr-navlist li.ptr-nav-item:hover,.ptr-navlist li.ptr-nav-item:focus-within{border-left-color:var(--accent70)}.ptr-navlist li.ptr-nav-item.selected{border-left-color:var(--accent70)}.ptr-navlist li.ptr-nav-item a,.ptr-navlist li.ptr-nav-item a:link,.ptr-navlist li.ptr-nav-item a:focus,.ptr-navlist li.ptr-nav-item a:visited{display:block;color:var(--base70);text-decoration:none}.ptr-navlist li.ptr-nav-item.selected a,.ptr-navlist li.ptr-nav-item a:hover,.ptr-navlist li.ptr-nav-item a:focus{color:var(--accent7);background-color:var(--base30)}.ptr-navlist ul li span,.ptr-navlist ul li a{display:inline-block;padding:.5rem 1.5rem}.ptr-navlist ul ul li span,.ptr-navlist ul ul a{padding:.5rem 2.25rem}.ptr-navlist li.ptr-nav-item a.selected{background:var(--accent30)}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r,i,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";n.r(e);var r=n(7),i=n(16),o=n.n(i),a=n(17),s=n.n(a),u=n(18),l=n(4),c=n(13),h=n(11),f=n(10),p=n(1),d=n(3),g=n.n(d),m=n(0),y=n.n(m);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t,e,n){return y.a.isEqual(t.filter,e)&&y.a.isEqual(t.order,n)}var _={getIndex:function(t,e,n){return t&&y.a.find(t,(function(t){return E(t,e,n)}))||null},getUniqueIndexes:function(t){var e=[];return t.forEach((function(t){y.a.find(e,(function(e){return E(t,e.filter,e.order)}))||e.push(t)})),e},mergeFilters:function(t,e,n){if(t&&e){var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n);return e.application&&t.activeApplicationKey&&(r.applicationKey=t.activeApplicationKey),e.case&&t.activeCaseKey&&(r.caseKey=t.activeCaseKey),e.scope&&t.activeScopeKey&&(r.scopeKey=t.activeScopeKey),e.place&&(t.activePlaceKey?r.placeKey=t.activePlaceKey:t.activePlaceKeys&&(r.placeKey={in:t.activePlaceKeys})),e.period&&(t.activePeriodKey?r.periodKey=t.activePeriodKey:t.activePeriodKeys&&(r.periodKey={in:t.activePeriodKeys})),e.attribute&&t.activeAttributeKey&&(r.attributeKey=t.activeAttributeKey),e.layerTemplate&&t.activeLayerTemplateKey&&(r.layerTemplateKey=t.activeLayerTemplateKey),y.a.isEmpty(r)?null:r}return n},isCorrespondingIndex:E,itemFitFilter:function(t,e){return null===t||Object.entries(t).every((function(t){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,2),r=n[0],i=n[1],o=e.data&&e.data.hasOwnProperty(r),a=e.data&&e.data.hasOwnProperty("".concat(r,"Key"));if(o){if(e.data&&e.data[r]===i)return!0;if(Object(m.isObject)(i)&&i.like)return!0;if(Object(m.isObject)(i)&&i.in)return i.in.includes(e.data[r]);if(Object(m.isObject)(i)&&i.notin)return!i.notin.includes(e.data[r])}return!(!a||!e.data||e.data["".concat(r,"Key")]!==i)}))}};function w(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=function(t){return t.scopes.activeKey},T=function(t){return function(e){return t(e).byKey}},O=function(t){return Object(p.createSelector)([T(t)],(function(t){return Object(m.pickBy)(t,(function(t){return!t.hasOwnProperty("removed")}))}))},C=function(t){return function(e){return t(e).activeKey}},A=function(t){return function(e){return t(e).activeKeys}},L=function(t){return g()([O(t),function(t,e){return e}],(function(t,e){return e&&t&&!y.a.isEmpty(t)&&t[e]?t[e]:null}))((function(t,e){return e}))},P=function(t){return function(e){var n=t(e).editedByKey;return n?Object.values(n):null}},R=function(t){return function(e){return t(e).editedByKey}},M=function(t){return function(e,n){var r=R(t)(e);return n&&r&&!y.a.isEmpty(r)&&r[n]?r[n]:null}},k=function(t){return function(e){return t(e).indexes}},I=function(t){return Object(p.createSelector)([k(t),function(t,e){return e},function(t,e,n){return n}],(function(t,e,n){return _.getIndex(t,e,n)}))},N=function(t){return Object(p.createSelector)([I(t),function(t,e,n,r){return r},function(t,e,n,r,i){return i}],(function(t,e,n){if(t&&t.index){for(var r={},i=e;i<e+n&&i<=t.count;i++){var o=t.index[i];r[i]=o||null}return r}return null}))},D=function(t){return function(e){return t(e)&&t(e).inUse?t(e).inUse.indexes:null}},j=Object(p.createSelector)([function(t){return t.scopes&&t.scopes.activeKey},function(t){return t.cases&&t.cases.activeKey},function(t){return t.scenarios&&t.scenarios.activeKey},function(t){return t.places&&t.places.activeKey},function(t){return t.places&&t.places.activeKeys},function(t){return t.periods&&t.periods.activeKey},function(t){return t.periods&&t.periods.activeKeys},function(t){return t.attributes&&t.attributes.activeKey},function(t){return t.layerTemplates&&t.layerTemplates.activeKey},function(t){return t.areaTreeLevelKeys&&t.areaTreeLevelKeys.activeKey},function(t){return t.specific&&t.specific.apps},function(t){return t.app&&t.app.key}],(function(t,e,n,r,i,o,a,s,u,l,c,h){var f={activeScopeKey:t,activeCaseKey:e,activeScenarioKey:n,activePlaceKey:r,activePlaceKeys:i,activePeriodKey:o,activePeriodKeys:a,activeAttributeKey:s,activeLayerTemplateKey:u,activeAreaTreeLevelKey:l};return c?f.activeApplicationKey=c.activeKey:h&&(f.activeApplicationKey=h),f})),F=function(t){return y.a.sortBy(t,["start","length"]).reduce((function(t,e){if(e&&e.start&&e.length){if(t){var n=t.pop();if(e.start<=n.start+n.length){var r=Math.max(n.start+n.length,e.start+e.length);return[].concat(w(t),[{start:n.start,length:r-n.start}])}return[].concat(w(t),[n,e])}return[e]}return t}),null)},V={getActive:function(t){return Object(p.createSelector)([O(t),C(t)],(function(t,e){return t&&t[e]?t[e]:null}))},getActiveModels:function(t){return Object(p.createSelector)([O(t),A(t)],(function(t,e){var n=[];return t&&!y.a.isEmpty(t)&&e&&!y.a.isEmpty(e)&&e.map((function(e){var r=t[e];r&&n.push(r)})),n.length?n:null}))},getActiveKey:C,getActiveKeys:A,getAll:function(t){return Object(p.createSelector)([O(t)],(function(t){return t?Object.values(t):null}))},getAllActiveKeys:j,getAllAsObject:O,getAllForActiveScope:function(t){return Object(p.createSelector)([O(t),k(t),x,function(t,e){return e}],(function(t,e,n,r){if(t&&e&&n){var i={scopeKey:n},o=_.getIndex(e,i,r);if(o&&o.index){for(var a=[],s=1;s<=o.count;s++){var u=o.index[s];if(u){var l=t[u];l?a.push(l):a.push({key:u})}else a.push(null)}return a.length?a:null}return null}return null}))},getByFilterOrder:function(t){return Object(p.createSelector)([O(t),k(t),function(t,e){return e},function(t,e,n){return n}],(function(t,e,n,r){if(t&&e){var i=_.getIndex(e,n,r);if(i&&i.index){for(var o=[],a=1;a<=i.count;a++){var s=i.index[a];if(s){var u=t[s];u?o.push(u):o.push({key:s})}else o.push(null)}return o.length?o:null}return null}return null}))},getBatchByFilterOrder:function(t){return Object(p.createSelector)([O(t),k(t),function(t,e){return e},function(t,e,n){return n}],(function(t,e,n,r){if(t&&e){var i=_.getIndex(e,n,r);if(i&&i.index){for(var o=[],a=0,s=Object.entries(i.index);a<s.length;a++){var u=S(s[a],2),l=(u[0],u[1]);if(l){var c=t[l];c?o.push(c):o.push(null)}else o.push(null)}return o.length?o:null}return null}return null}))},getByKey:L,getByKeysAsObject:function(t){return g()([O(t),function(t,e){return e}],(function(t,e){if(e&&e.length&&t&&!y.a.isEmpty(t)){var n=y.a.pick(t,e);return y.a.isEmpty(n)?null:n}return null}))((function(t,e){return"".concat(e)}))},getByKeys:function(t){return g()([O(t),function(t,e){return e}],(function(t,e){if(e&&e.length&&t&&!y.a.isEmpty(t)){var n=[];return y.a.each(e,(function(e){t[e]&&n.push(t[e])})),n.length?n:null}return null}))((function(t,e){return"".concat(e)}))},getDataByKey:function(t){return Object(p.createSelector)([L(t)],(function(t){return t&&t.data?t.data:null}))},getDeletePermissionByKey:function(t){return Object(p.createSelector)([L(t)],(function(t){return!(!t||!t.permissions)&&(t.permissions.activeUser&&t.permissions.activeUser.delete||t.permissions.guest&&t.permissions.guest.delete)}))},getEditedActive:function(t){return Object(p.createSelector)([R(t),C(t)],(function(t,e){return t&&t[e]?t[e]:null}))},getEditedAll:P,getEditedAllAsObject:R,getEditedByKey:M,getEditedDataByKey:function(t){return Object(p.createSelector)([M(t)],(function(t){return t&&t.data?t.data:null}))},getEditedKeys:function(t){return Object(p.createSelector)([P(t)],(function(t){return t&&!y.a.isEmpty(t)?t.map((function(t){return t.key})):null}))},getIndex:I,getIndexed:function(t){return g()([O(t),k(t),j,function(t,e){return e},function(t,e,n){return n},function(t,e,n,r){return r},function(t,e,n,r,i){return i},function(t,e,n,r,i,o){return o}],(function(t,e,n,r,i,o,a,s){if(t&&e){var u=_.mergeFilters(n,r,i),l=_.getIndex(e,u,o);if(l&&l.index){for(var c=[],h=Math.min(a+s-1,l.count),f=a;f<=h;f++){var p=l.index[f];if(p){var d=t[p];d?c.push(d):c.push({key:p})}else c.push(null)}return c.length?c:null}return null}return null}))((function(t,e,n,r,i,o){return"".concat(JSON.stringify(e),":").concat(JSON.stringify(n),":").concat(JSON.stringify(r),":").concat(i,":").concat(o)}))},getIndexes:k,getIndexChangedOn:function(t){return Object(p.createSelector)([I(t)],(function(t){return t&&t.changedOn?t.changedOn:null}))},getIndexPage:N,getIndexedPage:function(t){return Object(p.createSelector)([N(t),O(t)],(function(t,e){return t&&t.length&&t.map((function(t){return e[t]||null}))||null}))},getIndexTotal:function(t){return Object(p.createSelector)([I(t)],(function(t){return t&&(t.count||0===t.count)?t.count:null}))},getIndexesByFilteredItem:function(t){return Object(p.createSelector)([k(t),function(t,e){return e}],(function(t,e){return t.filter((function(t){return _.itemFitFilter(t.filter,e)}))}))},getKeysToLoad:function(t){return Object(p.createSelector)([O(t),function(t,e){return e}],(function(t,e){if(e&&e.length){if(t){var n=[];return e.forEach((function(e){t[e]&&!t[e].outdated||n.push(e)})),n.length?n:null}return e}return null}))},getStateToSave:function(t){return function(e){var n={};return t(e).activeKey?n.activeKey=t(e).activeKey:t(e).activeKeys&&(n.activeKeys=t(e).activeKeys),n}},getUpdatePermissionByKey:function(t){return Object(p.createSelector)([L(t)],(function(t){return!(!t||!t.permissions)&&(t.permissions.activeUser&&t.permissions.activeUser.update||t.permissions.guest&&t.permissions.guest.update)}))},getUsesForIndex:function(t){return g()(D(t),(function(t,e){return e}),(function(t,e,n){return n}),j,(function(t,e,n,r){var i=null;return y.a.each(t,(function(t){y.a.each(t,(function(t){var o=_.mergeFilters(r,t.filterByActive,t.filter);y.a.isEqual(e,o)&&y.a.isEqual(n,t.order)&&(i?i.inUse.push({start:t.start,length:t.length}):i={filter:e,order:t.order,inUse:[{start:t.start,length:t.length}]})}))})),i?{filter:i.filter,order:i.order,uses:F(Object.values(i.inUse))}:null}))((function(t,e,n){var r=JSON.stringify(n),i=JSON.stringify(y.a.map(e,(function(t,e){return"".concat(e,":").concat(t)})).sort());return"".concat(r,":").concat(i)}))},getUsedIndexPages:function(t){return Object(p.createSelector)([D(t),j],(function(t,e){var n=[],r=[];return y.a.each(t,(function(t){t.forEach((function(t){var r=_.mergeFilters(e,t.filterByActive,t.filter),i=y.a.find(n,(function(e){return y.a.isEqual(e.filter,r)&&y.a.isEqual(e.order,t.order)}));i?i.inUse.push({start:t.start,length:t.length}):n.push({filter:r,order:t.order,inUse:[{start:t.start,length:t.length}]})}))})),y.a.each(n,(function(t){t.inUse&&Object.keys(t.inUse).length&&r.push({filter:t.filter,order:t.order,uses:F(Object.values(t.inUse))})})),r.length?r:null}))},getUsedKeys:function(t){return function(e){var n=t(e).inUse.keys;if(n){var r=y.a.uniq(y.a.flatten(Object.values(n)));return r.length?r:null}return null}},getUsesWithActiveDependency:function(t){return Object(p.createSelector)([D(t),j,function(t,e){return e}],(function(t,e,n){var r=[],i=[];return n?(y.a.map(t,(function(t){y.a.map(t,(function(t){if(y.a.reduce(n,(function(e,n,r){return e&&n&&t.filterByActive&&t.filterByActive[r]}),!0)){var i=_.mergeFilters(e,t.filterByActive,t.filter),o=y.a.find(r,(function(e){return y.a.isEqual(e.filter,i)&&y.a.isEqual(e.order,t.order)}));o?o.inUse.push({start:t.start,length:t.length}):r.push({filter:i,order:t.order,inUse:[{start:t.start,length:t.length}]})}}))})),y.a.map(r,(function(t){t.inUse&&Object.keys(t.inUse).length&&i.push({filter:t.filter,order:t.order,uses:F(Object.values(t.inUse))})})),i.length?i:null):null}))},_mergeIntervals:F},B=function(t){return t._deprecatedSelections},U={getActive:V.getActive(B),getActiveKey:V.getActiveKey(B),getSubstate:B},G=function(t){return t.app.configuration},W=function(t){return t.app.localConfiguration},K={getKey:function(t){return t.app.key},getConfiguration:Object(p.createSelector)([G,function(t,e){return e}],(function(t,e){return y.a.get(t,e,null)})),getCompleteConfiguration:G,getLocalConfiguration:Object(p.createSelector)([W,function(t,e){return e}],(function(t,e){return y.a.get(t,e,null)})),getCompleteLocalConfiguration:W},z=function(t){return t.areas.areaTreeLevels},H=function(t){return t.areas.areaTrees},Y={areaTreeLevels:{getAll:V.getAll(z),getAllAsObject:V.getAllAsObject(z),getAllForActiveScope:V.getAllForActiveScope(z),getActiveKey:V.getActiveKey(z),getActive:V.getActive(z),getSubstate:z},areaTrees:{getAll:V.getAll(H),getAllAsObject:V.getAllAsObject(H),getAllForActiveScope:V.getAllForActiveScope(H),getActiveKey:V.getActiveKey(H),getActive:V.getActive(H),getByKeys:V.getByKeys(H),getByKeysAsObject:V.getByKeysAsObject(H),getSubstate:H}},q=function(t){return t.areaRelations},X=V.getAll(q),Z=Object(p.createSelector)([X],(function(t){return t?y.a.map(t,(function(t){return t.data})):null})),J={getSubstate:q,getFilteredData:Object(p.createSelector)([Z,function(t,e){return e}],(function(t,e){return t&&t.length>0&&e&&!y.a.isEmpty(e)?y.a.filter(t,e):null})),getFilteredDataSourceKeysGroupedByLayerKey:g()([X,function(t,e){return e}],(function(t,e){if(t&&t.length){var n={};return y.a.forEach(e,(function(e){var r=y.a.filter(t,{data:e.filter});r.length&&(n[e.key]=r.map((function(t){return{spatialDataSourceKey:t.data.spatialDataSourceKey,fidColumnName:t.data.fidColumnName}})))})),y.a.isEmpty(n)?null:n}return null}))((function(t,e){return JSON.stringify(e)}))},Q=function(t){return t.attributes},$={getAttributes:V.getAll(Q),getActive:V.getActive(Q),getActiveKey:V.getActiveKey(Q),getAllAsObject:V.getAllAsObject(Q),getByKey:V.getByKey(Q),getByKeys:V.getByKeys(Q),getDataByKey:V.getDataByKey(Q),getDeletePermissionByKey:V.getDeletePermissionByKey(Q),getEditedDataByKey:V.getEditedDataByKey(Q),getUpdatePermissionByKey:V.getUpdatePermissionByKey(Q),getStateToSave:V.getStateToSave(Q),getSubstate:Q};function tt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var et=function(t){return t.attributeRelations},nt=V.getAll(et),rt=V.getIndexed(et),it=g()([nt,function(t,e){return e}],(function(t,e){if(t&&t.length){var n=e.attributeKey.in||[e.attributeKey],r=y.a.omit(e,"attributeKey"),i=y.a.filter(t,{data:r}),o=y.a.filter(i,(function(t){return!t.data.attributeKey||!!y.a.includes(n,t.data.attributeKey)}));return o.length?o.map((function(t){return{attributeDataSourceKey:t.data.attributeDataSourceKey,attributeKey:t.data.attributeKey,periodKey:t.data.periodKey,fidColumnName:t.data.fidColumnName}})):null}return null}))((function(t,e){return JSON.stringify(e)})),ot=g()([nt,function(t,e){return e},function(t,e,n){return n}],(function(t,e,n){if(t&&t.length){var r={};return y.a.forEach(e,(function(e){var i=y.a.find(n,{key:e.key}).attributeKeys;if(!i)return null;var o=y.a.filter(t,{data:e.attributeFilter}),a=y.a.filter(o,(function(t){return!t.data.attributeKey||!!y.a.includes(i,t.data.attributeKey)}));a.length&&(r[e.key]=a.map((function(t){return{attributeDataSourceKey:t.data.attributeDataSourceKey,attributeKey:t.data.attributeKey,fidColumnName:t.data.fidColumnName}})))})),y.a.isEmpty(r)?null:r}return null}))((function(t,e,n){return JSON.stringify(n)})),at=Object(p.createSelector)([nt],(function(t){return t?y.a.map(t,(function(t){return t.data})):null})),st=Object(p.createSelector)([at,function(t,e){return e}],(function(t,e){return t&&t.length>0&&e&&!y.a.isEmpty(e)?y.a.filter(t,e):null})),ut=g()([at,function(t,e){return e}],(function(t,e){return t&&t.length>0&&e&&!y.a.isEmpty(e)?y.a.filter(t,(function(t){var n=!0;return y.a.forIn(e,(function(e,r){t.hasOwnProperty(r)&&(y.a.isObject(e)&&e.in&&y.a.isArray(e.in)?y.a.includes(e.in,t[r])||(n=!1):t[r]!==e&&(n=!1))})),n})):null}))((function(t,e,n){return n?JSON.stringify(e)+":"+JSON.stringify(n):JSON.stringify(e)})),lt=g()([ut],(function(t){return t?t.map((function(t){return{attributeDataSourceKey:t.attributeDataSourceKey,fidColumnName:t.fidColumnName}})):null}))((function(t,e,n){return"".concat(JSON.stringify(e),":").concat(JSON.stringify(n))})),ct=Object(p.createSelector)([st],(function(t){return t&&!Object(m.isEmpty)(t)?t[0].dataSourceKey:null})),ht=Object(p.createSelector)([at,function(t,e){return e}],(function(t,e){if(e&&!y.a.isEmpty(e)){var n={};return e.forEach((function(e){if(e.data&&e.data.key)if(t){var r=y.a.filter(t,e.filter);y.a.isEmpty(r)?n[e.data.key]=[null]:n[e.data.key]=r}else n[e.data.key]=[null]})),y.a.isEmpty(n)?null:n}return null})),ft=Object(p.createSelector)([ht],(function(t){if(t){var e={};return y.a.forIn(t,(function(t,n){e[n]=t})),y.a.isEmpty(e)?null:e}return null})),pt={getFilteredDataSourceKeysWithFidColumn:it,getFilteredDataSourceKeysWithFidColumnGroupedByLayerKey:ot,getIndexed:rt,getAllData:at,getDataSourceKeyFiltered:ct,getFiltered:st,getFilteredRelations:ut,getFilteredDataGroupedByLayerKey:ht,getDataSourceRelationsGroupedByLayerKey:ft,getDataSourceKeysGroupedByLayerKey:Object(p.createSelector)([ft],(function(t){if(t){for(var e={},n=0,r=Object.entries(t);n<r.length;n++){var i=tt(r[n],2),o=i[0],a=i[1];e[o]=a.map((function(t){return t?t.attributeDataSourceKey:null}))}return e}return null})),getDataSourcesFromFilteredRelations:lt,getSubstate:et};function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vt(t){var e=function(t,e){if("object"!==dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===dt(e)?e:String(e)}var bt=function(t){return t.attributeData},Et=V.getAllAsObject(bt),_t=V.getBatchByFilterOrder(bt),wt=V.getByKey(bt),St=Object(p.createSelector)([Et,pt.getDataSourceKeyFiltered],(function(t,e){return e&&t&&!y.a.isEmpty(t)&&t[e]?t[e]:null})),xt=g()([Et,pt.getDataSourcesFromFilteredRelations],(function(t,e){if(t&&!y.a.isEmpty(t)&&e){var n={};return y.a.map(e,(function(e){var r=t[e.attributeDataSourceKey],i=e.fidColumnName,o=e.fidColumnName;if(r&&r.attributeData&&r.attributeData.features){var a=r.attributeData.features;y.a.map(a,(function(t){var e=t.properties[i],r=t.properties,a=(r[i],yt(r,[i].map(vt))),s=[],u=n[e];y.a.map(a,(function(t,e){u?u.data.values.push({key:e,value:t}):s.push({key:e,value:t})})),u||(n[e]={key:e,data:{name:t.properties[o],values:s}})}))}})),y.a.values(n)}return null}))((function(t,e){return"".concat(JSON.stringify(e))})),Tt=g()([Et,pt.getDataSourcesFromFilteredRelations],(function(t,e){if(t&&!y.a.isEmpty(t)&&e){var n={};if(1===e.length){var r=e[0],i=t[r.attributeDataSourceKey],o=r.fidColumnName;if(i&&i.attributeData&&i.attributeData.features){var a=i.attributeData.features;y.a.map(a,(function(t){var e=t.properties[o],r=t.properties,i=(r[o],yt(r,[o].map(vt)));n[e]={key:e,data:{name:y.a.values(i)[0]}}}))}return y.a.values(n)}return null}return null}))((function(t,e,n){return"".concat(JSON.stringify(e),":").concat(JSON.stringify(n))})),Ot={getSubstate:bt,getAllAsObject:Et,getByKey:wt,getFiltered:St,getBatchByFilterOrder:_t,getFilteredGroupedByLayerKey:Object(p.createSelector)([Et,pt.getDataSourceKeysGroupedByLayerKey,pt.getDataSourceRelationsGroupedByLayerKey],(function(t,e,n){if(e){var r={};return y.a.forIn(e,(function(e,i){var o=[];y.a.map(e,(function(e){e&&t&&!y.a.isEmpty(t)&&t[e]&&!y.a.isEmpty(n)&&n[i]?o.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t[e],{attributeRelationData:y.a.find(n[i],(function(t){return t.attributeDataSourceKey===e}))||null})):o.push(null)})),r[i]=o})),r}return null})),getFilteredGroupedByFid:xt,getNamesByFid:Tt};function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){Lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt=function(t){return t.attributeDataSources},Rt=V.getAllAsObject(Pt),Mt=V.getBatchByFilterOrder(Pt),kt=V.getByKey(Pt),It=V.getByKeys(Pt),Nt={getSubstate:Pt,getFilteredDataSources:g()([Rt,pt.getFilteredDataSourceKeysWithFidColumn,Ot.getAllAsObject,function(t,e){return e}],(function(t,e,n,r){if(!y.a.isEmpty(e)&&n&&t){var i=[];return y.a.forEach(e,(function(e){var r=e.attributeDataSourceKey,o=At({},t[r]),a=n[r];a&&a.attributeData&&a.attributeData.features&&(o.data.features=a.attributeData.features.map((function(t){var n;return{properties:(n={},Lt(n,e.attributeKey,t.properties[o.data.columnName]),Lt(n,e.fidColumnName,t.properties[e.fidColumnName]),n)}}))),i.push({dataSource:o,attributeKey:e.attributeKey,periodKey:e.periodKey,fidColumnName:e.fidColumnName})})),i.length?i:null}return null}))((function(t,e){return JSON.stringify(e)})),getFilteredDataSourcesGroupedByLayerKey:g()([pt.getFilteredDataSourceKeysWithFidColumnGroupedByLayerKey,Rt,Ot.getAllAsObject,function(t,e,n){return n}],(function(t,e,n,r){if(t&&!y.a.isEmpty(e)){var i={};return y.a.forIn(t,(function(t,r){i[r]=[],y.a.forEach(t,(function(t){if(e[t.attributeDataSourceKey]){var o=At({},e[t.attributeDataSourceKey]),a=n[t.attributeDataSourceKey];a&&a.attributeData&&a.attributeData.features&&(o.data.features=a.attributeData.features.map((function(e){var n;return{properties:(n={},Lt(n,t.attributeKey,e.properties[o.data.columnName]),Lt(n,t.fidColumnName,e.properties[t.fidColumnName]),n)}}))),i[r].push({dataSource:o,attributeKey:t.attributeKey,fidColumnName:t.fidColumnName})}}))})),i}return null}))((function(t,e,n){return JSON.stringify(n)})),getFiltered:Object(p.createSelector)([Rt,pt.getDataSourceKeyFiltered],(function(t,e){return e&&t&&!y.a.isEmpty(t)&&t[e]?t[e]:null})),getBatchByFilterOrder:Mt,getFilteredGroupedByLayerKey:Object(p.createSelector)([Rt,pt.getDataSourceKeysGroupedByLayerKey,pt.getDataSourceRelationsGroupedByLayerKey],(function(t,e,n){if(e){var r={};return y.a.forIn(e,(function(e,i){var o=[];y.a.map(e,(function(e){e&&t&&!y.a.isEmpty(t)&&t[e]&&!y.a.isEmpty(n)&&n[i]?o.push(At({},t[e],{attributeRelationData:y.a.find(n[i],(function(t){return t.attributeDataSourceKey===e}))||null})):o.push(null)})),r[i]=o})),r}return null})),getByKey:kt,getByKeys:It},Dt=function(t){return t.attributeSets},jt=V.getAll(Dt),Ft=V.getActiveKeys(Dt),Vt=V.getActive(Dt),Bt=V.getStateToSave(Dt),Ut=Object(p.createSelector)([jt,function(t,e){return e}],(function(t,e){if(t&&e){y.a.isArray(e)||(e=[e]);var n=y.a.filter(t,(function(t){return y.a.includes(e,t.data.topic)}));return n.length?n:null}return null})),Gt={getActive:Vt,getActiveKeys:Ft,getAttributeSets:jt,getByTopics:Ut,getStateToSave:Bt,getUniqueAttributeKeysForTopics:Object(p.createSelector)([Ut],(function(t){if(t&&t.length){var e=t.map((function(t){return t.data.attributes})),n=y.a.compact(y.a.uniq(y.a.flatten(e)));return n.length?n:null}return null}))},Wt=function(t){return t.attributeStatistics},Kt=V.getAllAsObject(Wt),zt={getByKey:V.getByKey(Wt),getSubstate:Wt,getAllAsObject:Kt,getBatchByFilterOrder:V.getBatchByFilterOrder(Wt)},Ht=function(t){return t.cases},Yt=V.getAll(Ht),qt=V.getAllAsObject(Ht),Xt=V.getAllForActiveScope(Ht),Zt={getActive:V.getActive(Ht),getActiveKey:V.getActiveKey(Ht),getActiveKeys:V.getActiveKeys(Ht),getActiveModels:V.getActiveModels(Ht),getAll:Yt,getAllAsObject:qt,getAllForActiveScope:Xt,getByKeys:V.getByKeys(Ht),getDataByKey:V.getDataByKey(Ht),getDeletePermissionByKey:V.getDeletePermissionByKey(Ht),getEditedDataByKey:V.getEditedDataByKey(Ht),getIndexed:V.getIndexed(Ht),getUpdatePermissionByKey:V.getUpdatePermissionByKey(Ht),getSubstate:Ht};function Jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(n),!0).forEach((function(e){$t(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var te=function(t,e){return t.charts.sets[e]},ee=Object(p.createSelector)([te,function(t){return t.charts.charts}],(function(t,e){if(t&&t.charts&&t.charts.length){var n={};return y.a.each(t.charts,(function(t){n[t]=e[t]})),n}return null})),ne={getChartConfiguration:g()([function(t,e){return t.charts.charts[e]},function(t){return{activeScopeKey:t.scopes.activeKey,activePeriodKey:t.periods.activeKey,activePeriodKeys:t.periods.activeKeys,activeAttributeKey:t.attributes.activeKey}},function(t,e,n){return n}],(function(t,e,n){if(t&&e){var r=function(t,e,n){var r={},i={},o={};return t&&t.hasOwnProperty("scope")?r.scopeKey=t.scope:n&&n.scope&&(i.scope=!0,e&&e.activeScopeKey&&(o.scopeKey=e.activeScopeKey)),t&&t.hasOwnProperty("periods")?t.periods.length>1?r.periodKey={in:t.periods}:r.periodKey=t.periods[0]:n&&n.period&&(i.period=!0,e&&e.activePeriodKey?o.periodKey=e.activePeriodKey:e&&e.activePeriodKeys&&(o.periodKey={in:e.activePeriodKeys})),t&&t.hasOwnProperty("attributes")?t.attributes.length>1?r.attributeKey={in:t.attributes}:r.attributeKey=t.attributes[0]:n&&n.attribute&&(i.attribute=!0,e&&e.activeAttributeKey?o.attributeKey=e.activeAttributeKey:e&&e.activeAttributeKeys&&(o.attributeKey={in:e.activeAttributeKeys})),t&&t.hasOwnProperty("layerTemplate")&&(r.layerTemplateKey=t.layerTemplate),{filter:r,filterByActive:i,mergedFilter:o=Qt({},r,{},o)}}(t.data,e,n);return Qt({},t,{},r)}return null}))((function(t,e){return"".concat(e&&e.key)})),getChartsBySetKeyAsObject:ee,getDataForChart:g()([Ot.getFilteredGroupedByFid,function(t,e,n){return n}],(function(t,e){return e&&t?t:null}))((function(t,e,n){return"".concat(JSON.stringify(e),":").concat(n)})),getNamesForChart:g()([Ot.getNamesByFid,function(t,e,n){return n}],(function(t,e){return e&&t?t:null}))((function(t,e,n){return"".concat(JSON.stringify(e),":").concat(n)})),getSetByKey:te},re=function(t){return t.components},ie=Object(p.createSelector)([re,function(t,e){return e}],(function(t,e){return t&&e&&t[e]?t[e]:null})),oe={get:Object(p.createSelector)([ie,function(t,e,n){return n}],(function(t,e){return y.a.get(t,e,null)})),getDataByComponentKey:ie,getStateToSave:re},ae={getActiveAoiData:Object(p.createSelector)([function(t){return t.layerPeriods.byAoiKey},function(t){return t.aoi.activeKey}],(function(t,e){return t[e]})),getActivePlaceData:Object(p.createSelector)([function(t){return t.layerPeriods.byPlaceKey},function(t){return t.places.activeKey}],(function(t,e){return t[e]})),getForActiveLpisCase:Object(p.createSelector)([function(t){return t.layerPeriods.byKey},function(t){return t.specific.lpisChangeReviewCases.activeCaseKey}],(function(t,e){return t["lpisCase"+e]}))},se=function(t){return t.layerTemplates},ue=V.getActiveKey(se),le=V.getAll(se),ce=V.getAllAsObject(se),he=V.getByKey(se),fe=V.getDataByKey(se),pe=V.getDeletePermissionByKey(se),de=V.getEditedDataByKey(se),ge=V.getUpdatePermissionByKey(se),me={getActiveKey:ue,getAll:le,getAllAsObject:ce,getByKey:he,getDataByKey:fe,getDeletePermissionByKey:pe,getEditedDataByKey:de,getIndexed:V.getIndexed(se),getUpdatePermissionByKey:ge,getSubstate:se},ye=function(t){return t.layersTrees},ve={getAll:V.getAll(ye),getAllAsObject:V.getAllAsObject(ye),getAllForActiveScope:V.getAllForActiveScope(ye),getByFilterOrder:V.getByFilterOrder(ye),getDataByKey:V.getDataByKey(ye),getDeletePermissionByKey:V.getDeletePermissionByKey(ye),getEditedDataByKey:V.getEditedDataByKey(ye),getUpdatePermissionByKey:V.getUpdatePermissionByKey(ye),getSubstate:ye},be=n(5),Ee=n.n(be),_e=n(2);function we(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(n),!0).forEach((function(e){Te(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oe=new _e.CacheFifo(20),Ce=g()([function(t){return t},function(t,e){return e},function(t,e,n){return n}],(function(t,e,n){var r=xe({},t[n]);t.layerTemplateKey&&(r.layerTemplateKey=t.layerTemplateKey),t.areaTreeLevelKey&&(r.areaTreeLevelKey=t.areaTreeLevelKey);var i={};if(t.filterByActive){var o=t.filterByActive;o.attribute&&e.activeAttributeKey&&(i.attributeKey=e.activeAttributeKey),o.case&&e.activeCaseKey&&(i.caseKey=e.activeCaseKey),o.layerTemplate&&e.activeLayerTemplateKey&&(i.layerTemplateKey=e.activeLayerTemplateKey),o.areaTreeLevelKey&&e.areaTreeLevelKey&&(i.areaTreeLevelKey=e.areaTreeLevelKey),o.period&&e.activePeriodKey&&(i.periodKey=e.activePeriodKey),o.place&&e.activePlaceKey&&(i.placeKey=e.activePlaceKey),o.scenario&&e.activeScenarioKey&&(i.scenarioKey=e.activeScenarioKey),o.scope&&e.activeScopeKey&&(i.scopeKey=e.activeScopeKey)}return xe({},r,{},i)}))((function(t,e){return"".concat(t,"_").concat(e)})),Ae={getBackgroundLayersWithFilter:g()([V.getAllActiveKeys,function(t,e){return e},function(t,e,n){return n}],(function(t,e,n){return e=JSON.parse(e),[{key:n,filter:Ce(e,t,"metadataModifiers")}]}))((function(t,e,n){return"".concat(e,":").concat(n)})),getLayersWithFilter:g()([V.getAllActiveKeys,function(t,e){return e}],(function(t,e){return(e=JSON.parse(e))&&e.length?y.a.map(e,(function(e){return{key:e.key,filter:Ce(e,t,"metedataModifiers"),attributeFilter:Ce(e,t,"attributeMetadataModifiers")}})):null}))((function(t,e){return e})),prepareLayerByDataSourceType:function(t,e,n,r,i,o,a,s){var u=i&&i.options,l=e.data,c=(l.attribution,l.nameInternal,l.type),h=(l.tableName,l.layerName,l.features),f=l.selected,p=we(l,["attribution","nameInternal","type","tableName","layerName","features","selected"]);if("wmts"===c)p.url=p.urls[0];else if("wms"===c){var d=p,g=d.url;p={params:we(d,["url"]),url:g}}else if("vector"===c&&h){if(a&&(h=function(t,e,n,r){var i=JSON.stringify(t),o=Oe.findByKey(i),a={};return o&&o.features===e?a=o.finalFeaturesObject:e.forEach((function(t){var e=t.properties[r];a[e]=xe({},t)})),n.forEach((function(t){var e=t.dataSource.data.features;e&&e.forEach((function(t){var e=t.properties[r];y.a.forIn(t.properties,(function(t,n){a[e].properties[n]=t}))}))})),Oe.addOrUpdate({cacheKey:i,features:e,finalFeaturesObject:a}),Object.values(a)}(t,h,a,n)),s&&u.selected){var m={};y.a.forIn(u.selected,(function(t,e){var n=s[e];n&&n.data&&n.data.featureKeysFilter&&(m[e]={style:{rules:[{styles:[{fill:n.data.colour}]}]},keys:n.data.featureKeysFilter.keys})})),f=m}p=xe({},u,{features:h,selected:f,fidColumnName:n}),o&&o.data&&"definition"===o.data.source&&(p.style=o.data.definition)}return{key:t+"_"+r,layerKey:t,opacity:i&&i.opacity||1,type:c,options:p}}},Le=function(t){return t.spatialVectorDataSources},Pe=V.getAll(Le),Re=V.getAllAsObject(Le),Me=V.getByKey(Le),ke=V.getBatchByFilterOrder(Le),Ie=V.getDataByKey(Le),Ne=function(t,e){return t.spatialDataSources.vector.featuresBySourceKey[e.dataSourceKey]},De={noMemoGetFeaturesBySourceKey:Ne,noMemoGetEditedFeaturesBySourceKey:function(t,e){return t.spatialDataSources.vector.editedFeaturesBySourceKey[e.dataSourceKey]},noMemoGetSelectedFeaturesBySourceKey:function(t,e){return y.a.filter(Ne(t,e),(function(n){return y.a.includes(function(t,e){return t.spatialDataSources.vector.selectedFeaturesKeysBySourceKey[e.dataSourceKey]}(t,e),n.key)}))},getBatchByFilterOrder:ke,getSubstate:Le,getEditedFeatures:function(t){return t.spatialDataSources.vector.editedFeaturesBySourceKey},getAll:Pe,getAllAsObject:Re,getByKey:Me,getDataByKey:Ie};function je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Fe=function(t){return t.spatialRelations},Ve=V.getAll(Fe),Be=Object(p.createSelector)([Ve],(function(t){return t?y.a.map(t,(function(t){return t.data})):null})),Ue=Object(p.createSelector)([Be,function(t,e){return e}],(function(t,e){return t&&t.length>0&&e&&!y.a.isEmpty(e)?y.a.filter(t,e):null})),Ge=g()([Ve,function(t,e){return e}],(function(t,e){if(t&&t.length){var n={};return y.a.forEach(e,(function(e){var r=y.a.filter(t,{data:e.filter});r.length&&(n[e.key]=r.map((function(t){return{spatialDataSourceKey:t.data.spatialDataSourceKey,fidColumnName:t.data.fidColumnName}})))})),y.a.isEmpty(n)?null:n}return null}))((function(t,e){return JSON.stringify(e)})),We=Object(p.createSelector)([Be,function(t,e){return e}],(function(t,e){if(e&&!y.a.isEmpty(e)){var n={};return e.forEach((function(e){if(e.data&&e.data.key)if(t&&t.length){var r=Object(m.cloneDeep)(e.filter);delete r.periodKey,delete r.attributeKey;var i=y.a.filter(t,r);y.a.isEmpty(i)?n[e.data.key]=[null]:n[e.data.key]=i}else n[e.data.key]=[null]})),y.a.isEmpty(n)?null:n}return null})),Ke=Object(p.createSelector)([Ue],(function(t){return t&&t.length?y.a.map(t,(function(t){return t.spatialDataSourceKey})):null})),ze=Object(p.createSelector)([We],(function(t){if(t){var e={};return y.a.forIn(t,(function(t,n){e[n]=t})),y.a.isEmpty(e)?null:e}return null})),He={getSubstate:Fe,getAllData:Be,getFilteredData:Ue,getFilteredDataSourceKeysGroupedByLayerKey:Ge,getDataSourceKeysFiltered:Ke,getDataSourceKeysGroupedByLayerKey:Object(p.createSelector)([ze],(function(t){if(t){for(var e={},n=0,r=Object.entries(t);n<r.length;n++){var i=je(r[n],2),o=i[0],a=i[1];e[o]=a.map((function(t){return t?t.spatialDataSourceKey:null}))}return e}return null})),getDataSourceRelationsGroupedByLayerKey:We,getDataSourceRelationsForLayerKey:Object(p.createSelector)([ze,function(t,e){return e},function(t,e){return e}],(function(t,e){return t&&t[e]||null})),getFilteredDataGroupedByLayerKey:We},Ye=function(t){return t.spatialData},qe={getAllAsObject:V.getAllAsObject(Ye),getByKey:V.getByKey(Ye),getSubstate:Ye};function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(n),!0).forEach((function(e){Je(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qe=function(t){return t.spatialDataSources},$e=V.getAllAsObject(Qe),tn={getSubstate:Qe,getByKeys:V.getByKeys(Qe),getFilteredSourcesGroupedByLayerKey:g()([$e,He.getFilteredDataSourceKeysGroupedByLayerKey,J.getFilteredDataSourceKeysGroupedByLayerKey,qe.getAllAsObject],(function(t,e,n,r){var i={};if(n&&(i=Ze({},i,{},n)),e&&(i=Ze({},i,{},e)),i&&!y.a.isEmpty(t)){var o={};return y.a.forIn(i,(function(e,n){o[n]=[],y.a.forEach(e,(function(e){if(t[e.spatialDataSourceKey]){var i=Ze({},t[e.spatialDataSourceKey]),a=r[e.spatialDataSourceKey];a&&a.spatialData&&a.spatialData.features&&(i.data.features=a.spatialData.features),o[n].push({dataSource:i,fidColumnName:e.fidColumnName})}}))})),o}return null}))((function(t,e){return JSON.stringify(e)})),getFilteredGroupedByLayerKey:Object(p.createSelector)([$e,He.getDataSourceKeysGroupedByLayerKey,He.getDataSourceRelationsGroupedByLayerKey],(function(t,e,n){if(e&&Object.keys(t).length){var r={};return y.a.forIn(e,(function(e,i){var o=[];e.forEach((function(e){e&&t&&!y.a.isEmpty(t)&&t[e]&&!y.a.isEmpty(n)&&n[i]?o.push(Ze({},t[e],{spatialRelationData:y.a.find(n[i],(function(t){return t.spatialDataSourceKey===e}))||null})):o.push(null)})),r[i]=o})),r}return null})),getFilteredData:Object(p.createSelector)([$e,function(t,e){return e}],(function(t,e){return t&&t.length>0&&e&&!y.a.isEmpty(e)?y.a.filter(t,e):null})),vector:De},en=n(12),nn=function(t){return t.styles},rn=V.getAll(nn),on=V.getAllAsObject(nn),an=g()([on,function(t,e){return e}],(function(t,e){if(t&&!y.a.isEmpty(t)&&e){var n={};return e.forEach((function(e){e.styleKey&&(n[e.key]=t[e.styleKey])})),n}return null}))((function(t,e){return JSON.stringify(e)})),sn={getAll:rn,getAllAsObject:on,getByKey:V.getByKey(nn),getGroupedByLayerKey:an,getSubstate:nn},un=function(t){return t.selections},ln=V.getActive(un),cn={getActiveKey:V.getActiveKey(un),getActive:ln,getAllAsObject:V.getAllAsObject(un)};function hn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function fn(t,e,n){return(fn=hn()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&pn(i,n.prototype),i}).apply(null,arguments)}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function gn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(n),!0).forEach((function(e){yn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vn=new _e.CacheFifo(10),bn=new _e.CacheFifo(10),En=function(t){return t.maps.maps},_n=function(t){return t.maps.sets},wn=function(t){return t.maps.activeMapKey},Sn=Object(p.createSelector)([En],(function(t){return t&&!y.a.isEmpty(t)?Object.values(t):null})),xn=Object(p.createSelector)([_n],(function(t){return t&&!y.a.isEmpty(t)?Object.values(t):null})),Tn=g()([En,function(t,e){return e}],(function(t,e){return t&&!y.a.isEmpty(t)&&e&&t[e]?t[e]:null}))((function(t,e){return e})),On=Object(p.createSelector)([Tn],(function(t){return t&&t.data&&t.data.layers||null})),Cn=Object(p.createSelector)([_n,function(t,e){return e}],(function(t,e){return t&&!y.a.isEmpty(t)&&e&&t[e]?t[e]:null})),An=Object(p.createSelector)([xn,function(t,e){return e}],(function(t,e){if(t&&!y.a.isEmpty(t)&&e){var n=null;return t.forEach((function(t){t.maps&&y.a.includes(t.maps,e)&&(n=t)})),n}return null})),Ln=Object(p.createSelector)([Cn],(function(t){return t&&t.maps&&t.maps.length?t.maps:null})),Pn=Object(p.createSelector)([Tn],(function(t){return t&&t.data&&t.data.backgroundLayer?t.data.backgroundLayer:null})),Rn=Object(p.createSelector)([Tn],(function(t){return t&&t.data&&t.data.layers?t.data.layers:null})),Mn=Object(p.createSelector)([Tn],(function(t){return t&&t.data&&t.data.metadataModifiers?t.data.metadataModifiers:null})),kn=Object(p.createSelector)([Tn],(function(t){return t&&t.data&&t.data.filterByActive?t.data.filterByActive:null})),In=Object(p.createSelector)([An],(function(t){return t&&t.data&&t.data.backgroundLayer?t.data.backgroundLayer:null})),Nn=Object(p.createSelector)([An],(function(t){return t&&t.data&&t.data.layers?t.data.layers:null})),Dn=Object(p.createSelector)([An],(function(t){return t&&t.data&&t.data.metadataModifiers?t.data.metadataModifiers:null})),jn=Object(p.createSelector)([An],(function(t){return t&&t.data&&t.data.filterByActive?t.data.filterByActive:null})),Fn=Object(p.createSelector)([Cn],(function(t){return t&&t.data&&t.data.layers?t.data.layers:null})),Vn=Object(p.createSelector)([Rn,function(t,e,n){return n}],(function(t,e){return t&&e?t.find((function(t){return t.key===e})):null})),Bn=g()([kn,jn],(function(t,e){return(e||t)&&mn({},e,{},t)}))((function(t,e){return e})),Un=g()([Pn,In],(function(t,e){return t||e}))((function(t,e){return"".concat(e)})),Gn=g()([Rn,Nn,Mn,Dn,Bn],(function(t,e,n,r,i){if(t||e){var o=[].concat(dn(e||[]),dn(t||[])),a={};return r&&(a=r),a=mn({},a,{},n),o=o.map((function(t){var e=t.metadataModifiers?mn({},a,{},t.metadataModifiers):a,n=t.filterByActive?mn({},i,{},t.filterByActive):i;return mn({},t,{metadataModifiers:e,filterByActive:n})})),y.a.uniqBy(o,"key")}return null}))((function(t,e){return e})),Wn=Object(p.createSelector)([Un,Gn],(function(t,e){return e||t?(e=e||[],t?[t=mn({},t,{key:"pantherBackgroundLayer"})].concat(dn(e)):e):null})),Kn=Object(p.createSelector)([wn,Cn],(function(t,e){if(e){var n=y.a.includes(e.maps,t);return e.activeMapKey||n&&t||null}return null})),zn=Object(p.createSelector)([Tn,An],(function(t,e){if(t){if(e){var n=t.data&&t.data.view;e.sync&&!y.a.isEmpty(e.sync)&&(n=y.a.omitBy(n,(function(t,n){return e.sync[n]})));var r=e.data&&e.data.view,i=_e.map.mergeViews(en.mapConstants.defaultMapView,r,n);return y.a.isEmpty(i)?null:i}var o=t.data&&t.data.view;return _e.map.mergeViews(en.mapConstants.defaultMapView,o)}return null})),Hn=Object(p.createSelector)([Cn],(function(t){if(t){var e=t.data&&t.data.view;return _e.map.mergeViews(en.mapConstants.defaultMapView,e)}return null})),Yn=Object(p.createSelector)([Kn,Cn,En],(function(t,e,n){var r=n[t];if(r){if(e){var i=r.data&&r.data.view;e.sync&&!y.a.isEmpty(e.sync)&&(i=y.a.omitBy(i,(function(t,n){return e.sync[n]})));var o=e.data&&e.data.view,a=_e.map.mergeViews(en.mapConstants.defaultMapView,o,i);return y.a.isEmpty(a)?null:a}var s=r.data&&r.data.view;return _e.map.mergeViews(en.mapConstants.defaultMapView,s)}return null})),qn=function(t,e){if(e){if(e.type)return e;var n="pantherBackgroundLayer",r=Ae.getBackgroundLayersWithFilter(t,JSON.stringify(e),n),i=tn.getFilteredSourcesGroupedByLayerKey(t,r);if(i&&i[n]){var o=JSON.stringify(r),a=vn.findByKey(o),s=i[n];if(a&&a.layersWithFilter===r&&a.layerDataSources===s)return a.mapLayers;var u=y.a.map(i[n],(function(t,e){return Ae.prepareLayerByDataSourceType(n,t.dataSource,t.fidColumnName,e)}));return vn.addOrUpdate({cacheKey:o,layersWithFilter:r,layerDataSources:s,mapLayers:u}),u}return null}return null},Xn=function(t,e){var n=Ae.getLayersWithFilter(t,JSON.stringify(e));if(n&&n.length){var r=tn.getFilteredSourcesGroupedByLayerKey(t,n),i=Nt.getFilteredDataSourcesGroupedByLayerKey(t,n,e),o=sn.getGroupedByLayerKey(t,e),a=cn.getAllAsObject(t);if(r&&!y.a.isEmpty(r)){var s=[],u=JSON.stringify(n),l=bn.findByKey(u);return l&&l.layersWithFilter===n&&l.dataSourcesByLayerKey===r&&l.stylesByLayerKey===o&&l.attributeDataSourcesByLayerKey===i&&l.selections===a?l.mapLayers:(e.forEach((function(e){var n=e.key,u=r[n],l=i&&i[n],c=o&&o[n];u&&u.length&&u.forEach((function(r,i){var o=r&&r.dataSource,u=r&&r.fidColumnName;if("tacrGeoinvaze"===K.getKey(t)){var h=ho.app.getLocalConfiguration(t,"apiGeoserverWMSProtocol"),f=ho.app.getLocalConfiguration(t,"apiGeoserverWMSHost"),p=ho.app.getLocalConfiguration(t,"apiGeoserverWMSPath");o&&o.data&&o.data.layerName&&("vector"===o.data.type||"raster"===o.data.type)?s.push({key:n+"_"+o.key,layerKey:n,type:"wms",options:{url:h+"://"+be.join(f,p),params:{layers:o.data.layerName}}}):s.push(Ae.prepareLayerByDataSourceType(n,o,u,i))}else s.push(Ae.prepareLayerByDataSourceType(n,o,u,i,e,c,l,a))}))})),bn.addOrUpdate({cacheKey:u,layersWithFilter:n,dataSourcesByLayerKey:r,attributeDataSourcesByLayerKey:i,mapLayers:s,stylesByLayerKey:o,selections:a}),s)}return null}return null},Zn=Object(p.createSelector)([Sn,function(t,e){return e}],(function(t,e){if(t&&e){var n=y.a.filter(t,(function(t){return!(!t.data||!t.data.metadataModifiers)&&y.a.isMatch(t.data.metadataModifiers,e)}));return n&&n.length?n[0]:null}return null})),Jn=Object(p.createSelector)([Tn,An],(function(t,e){if(t){if(e){var n=t.data&&t.data.worldWindNavigator,r=mn({},e.data&&e.data.worldWindNavigator,{},n);return y.a.isEmpty(r)?null:r}var i=t.data&&t.data.worldWindNavigator;return i&&!y.a.isEmpty(i)?i:null}return null})),Qn=Object(p.createSelector)([Cn],(function(t){return t?t.data&&t.data.worldWindNavigator&&t.data.worldWindNavigator.range:null})),$n=Object(p.createSelector)([tn.getFilteredGroupedByLayerKey,Ot.getFilteredGroupedByLayerKey,K.getCompleteLocalConfiguration,function(t,e){return e}],(function(t,e,n,r){return t&&e&&r?r.map((function(r){return ar(n,r,t[r.data.key],e[r.data.key])})):null})),tr=Object(p.createSelector)([Tn,An,V.getAllActiveKeys],(function(t,e,n){var r=null;return t&&t.data&&t.data.backgroundLayer?r=t.data.backgroundLayer:e&&e.data&&e.data.backgroundLayer&&(r=e.data.backgroundLayer),r?sr(mn({},{place:null,period:null,case:null,scenario:null},{layerTemplate:r.layerTemplate,key:r.key}),n):null})),er=Object(p.createSelector)([Tn,An,V.getAllActiveKeys,function(t,e,n){return n}],(function(t,e,n,r){var i=e&&e.data&&e.data.layers||null,o=t&&t.data&&t.data.layers||null;if(t&&(o||i)){var a=[].concat(dn(i||[]),dn(o||[])),s={};return e&&(e.data.metadataModifiers,s=mn({},s,{},e.data.metadataModifiers)),s=mn({},s,{},t.data.metadataModifiers),a.map((function(t){return sr(mn({},s,{},t),n,r)}))}return null})),nr=Object(p.createSelector)([er,tr],(function(t,e){var n=e?[or(e)]:[],r=t?t.map(or):[];return fn(Array,dn(r).concat(n))})),rr=Object(p.createSelector)([En,Ln],(function(t,e){return t&&!y.a.isEmpty(t)&&e&&!y.a.isEmpty(e)?e.map((function(e){return t[e]})):null})),ir=Object(p.createSelector)([Cn,rr,V.getAllActiveKeys],(function(t,e,n){var r={},i=t&&t.data&&t.data.layers||null;return e&&e.forEach((function(e){var o=e&&e.data&&e.data.layers||null;if(e&&(o||i)){var a=[].concat(dn(i||[]),dn(o||[])),s={};t&&(t.data.metadataModifiers,s=mn({},s,{},t.data.metadataModifiers)),s=mn({},s,{},e.data.metadataModifiers);var u={scope:!0,attribute:!0,period:!0};a=a.map((function(t){return sr(mn({},s,{},t),n,u)})),r[e.key]=a}})),r})),or=function(t){return{filter:t.mergedFilter,data:t.layer}},ar=function(t,e,n,r){var i=null;return n&&[n[0]].forEach((function(n){var r="".concat(e.data.key),o={wmsMapServerUrl:"".concat(t.apiGeoserverWMSProtocol,"://").concat(t.apiGeoserverWMSHost,"/").concat(t.apiGeoserverWMSPath),wfsMapServerUrl:"".concat(t.apiGeoserverWFSProtocol,"://").concat(t.apiGeoserverWFSHost,"/").concat(t.apiGeoserverWFSPath)};n?(r+="-".concat(n.key),i=mn({},n.data,{spatialDataSourceKey:n.key,spatialRelationsData:n.spatialRelationData,key:r,mapServerConfig:o})):i={key:r,mapServerConfig:o}})),r&&i&&r.forEach((function(t){t&&t.attributeRelationData&&t.attributeRelationData.layerTemplateKey&&(i.attributeRelationsData=t.attributeRelationData)})),i};function sr(t,e,n){var r={},i={},o={};return t&&t.hasOwnProperty("scope")?r.scopeKey=t.scope:(!n||n&&n.scope)&&(i.scope=!0,e&&e.activeScopeKey&&(o.scopeKey=e.activeScopeKey)),t&&t.hasOwnProperty("place")?r.placeKey=t.place:(!n||n&&n.place)&&(i.place=!0,e&&e.activePlaceKey&&(o.placeKey=e.activePlaceKey)),t&&t.hasOwnProperty("period")?r.periodKey=t.period:(!n||n&&n.period)&&(i.period=!0,e&&e.activePeriodKey&&(o.periodKey=e.activePeriodKey)),t&&t.hasOwnProperty("case")?r.caseKey=t.case:(!n||n&&n.case)&&(i.case=!0,e&&e.activeCaseKey&&(o.caseKey=e.activeCaseKey)),t&&t.hasOwnProperty("scenario")?r.scenarioKey=t.scenario:(!n||n&&n.scenario)&&(i.scenario=!0,e&&e.activeScenarioKey&&(o.scenarioKey=e.activeScenarioKey)),t&&t.hasOwnProperty("layerTemplate")&&(r.layerTemplateKey=t.layerTemplate),t&&t.hasOwnProperty("attribute")?r.attributeKey=t.attribute:(!n||n&&n.attribute)&&(i.attribute=!0,e&&e.activeAttributeKey&&(o.attributeKey=e.activeAttributeKey)),{layer:t||null,filter:r,filterByActive:i,mergedFilter:o=mn({},r,{},o)}}var ur={getActiveMapKey:wn,getActiveSetKey:function(t){return t.maps.activeSetKey},getAllLayersStateByMapKey:Wn,getBackgroundLayer:qn,getMapBackgroundLayer:function(t,e){var n=Un(t,e);return qn(t,n)},getBackgroundLayerStateByMapKey:Un,getFilterByActiveByMapKey:Bn,getLayers:Xn,getMapLayers:function(t,e){var n=Gn(t,e);return Xn(t,n)},getLayersStateByMapKey:Gn,getMapByKey:Tn,getMapLayerByMapKeyAndLayerKey:Vn,getMapLayersByMapKey:On,getMapsAsObject:En,getMapSetActiveMapKey:Kn,getMapSetActiveMapView:Yn,getMapSetByKey:Cn,getMapSetByMapKey:An,getMapSetLayersStateBySetKey:Fn,getMapSetMapKeys:Ln,getMapSetView:Hn,getMapSets:xn,getMapSetsAsObject:_n,getSubstate:function(t){return t.maps},getView:zn,getAllLayersStateByMapKey_deprecated:nr,getBackgroundLayerStateByMapKey_deprecated:tr,getFiltersForUse_deprecated:sr,getLayers_deprecated:$n,getLayersStateByMapKey_deprecated:er,getLayersStateByMapSetKey_deprecated:ir,getMapByMetadata_deprecated:Zn,getMapSetNavigatorRange_deprecated:Qn,getNavigator_deprecated:Jn},lr=n(9),cr=n.n(lr),hr=function(t){return t.periods},fr=V.getAll(hr),pr=V.getAllAsObject(hr),dr=V.getAllForActiveScope(hr),gr=V.getActive(hr),mr=V.getActiveKey(hr),yr=V.getActiveKeys(hr),vr=V.getActiveModels(hr),br=V.getByKey(hr),Er=V.getByKeys(hr),_r=V.getDataByKey(hr),wr=V.getDeletePermissionByKey(hr),Sr=V.getEditedDataByKey(hr),xr=V.getIndexed(hr),Tr=V.getUpdatePermissionByKey(hr),Or=g()([pt.getFilteredRelations],(function(t){return t?y.a.map(t,(function(t){return t.periodKey})):null}))((function(t,e,n){return JSON.stringify(e)+":"+JSON.stringify(n)})),Cr={getActive:gr,getActiveKey:mr,getActiveKeys:yr,getActiveModels:vr,getAll:fr,getAllAsObject:pr,getAllForActiveScope:dr,getByKey:br,getByKeys:Er,getByFullPeriodAsObject:g()([pr,function(t,e){return e},function(t,e,n){return n}],(function(t,e,n){return t&&e&&n?y.a.pickBy(t,(function(t){var r=t.data&&t.data.start,i=t.data&&t.data.end;return r&&i?cr()(r).isBetween(e,n,null,"[]")&&cr()(i).isBetween(e,n,null,"[]"):r?cr()(r).isBetween(e,n,null,"[]"):!i||cr()(i).isBetween(e,n,null,"[]")})):t}))((function(t,e,n){return"".concat(e,"_").concat(n)})),getDataByKey:_r,getDeletePermissionByKey:wr,getEditedDataByKey:Sr,getIndexed:xr,getKeysByAttributeRelations:Or,getUpdatePermissionByKey:Tr,getSubstate:hr,getActivePeriod:gr,getPeriods:fr},Ar=function(t){return t.scopes},Lr=V.getAll(Ar),Pr=V.getAllAsObject(Ar),Rr=V.getActive(Ar),Mr=V.getActiveKey(Ar),kr=V.getByKey(Ar),Ir=V.getByKeys(Ar),Nr=V.getByFilterOrder(Ar),Dr=V.getDataByKey(Ar),jr=V.getEditedDataByKey(Ar),Fr=V.getDeletePermissionByKey(Ar),Vr=V.getUpdatePermissionByKey(Ar),Br=V.getIndexed(Ar),Ur=V.getStateToSave(Ar),Gr={getActive:Rr,getActiveKey:Mr,getActiveScopeConfiguration:Object(p.createSelector)([Rr],(function(t){return t&&t.data&&t.data.configuration?t.data.configuration:null})),getAll:Lr,getAllAsObject:Pr,getByFilterOrder:Nr,getDataByKey:Dr,getByKeys:Ir,getDeletePermissionByKey:Fr,getEditedDataByKey:jr,getIndexed:Br,getUpdatePermissionByKey:Vr,getStateToSave:Ur,getSubstate:Ar,getActiveScopeData:Rr,getActiveScopeKey:Mr,getScopes:Lr,getScopeData:kr},Wr=function(t){return t.places},Kr=V.getAll(Wr),zr=V.getAllAsObject(Wr),Hr=V.getAllForActiveScope(Wr),Yr=V.getActiveKey(Wr),qr=V.getActiveKeys(Wr),Xr=V.getActive(Wr),Zr=V.getActiveModels(Wr),Jr=V.getDataByKey(Wr),Qr=V.getDeletePermissionByKey(Wr),$r=V.getEditedDataByKey(Wr),ti=V.getUpdatePermissionByKey(Wr),ei=Object(p.createSelector)([Kr,Gr.getActiveScopeKey],(function(t,e){return y.a.filter(t,(function(t){return t.data&&t.data.dataset===e}))})),ni={getPlaces:Kr,getAll:Kr,getAllAsObject:zr,getAllForActiveScope:Hr,getActiveKey:Yr,getActiveKeys:qr,getActive:Xr,getActivePlaces:Zr,getActiveView:Object(p.createSelector)([Xr],(function(t){return t&&t.data&&t.data.bbox?_e.map.getViewFromBoundingBox(t.data.bbox,!0):null})),getByKey:V.getByKey(Wr),getDataByKey:Jr,getDeletePermissionByKey:Qr,getEditedDataByKey:$r,getIndexed:V.getIndexed(Wr),getPlacesForActiveScope:ei,getUpdatePermissionByKey:ti,getSubstate:Wr},ri=function(t){return t.scenarios.scenarios},ii=V.getAll(ri),oi=V.getAllAsObject(ri),ai=V.getActiveKey(ri),si=V.getActiveKeys(ri),ui={getActive:V.getActive(ri),getActiveKey:ai,getActiveKeys:si,getActiveScenarios:V.getActiveModels(ri),getAll:ii,getAllAsObject:oi,getByKey:V.getByKey(ri),getEditedAll:V.getEditedAll(ri),getEditedAllAsObject:V.getEditedAllAsObject(ri),getEditedByKey:V.getEditedByKey(ri),getEditedKeys:V.getEditedKeys(ri),getSubstate:ri,isDefaultSituationActive:function(t){return t.scenarios.scenarios.defaultSituationActive},getPucsScenariosVectorSource:Object(p.createSelector)([function(t,e,n){return{scenarioKey:e,defaultSituation:n}}],(function(t,e){var n=null;return t.scenarioKey&&e.length?n=y.a.find(e,{scenarioKey:t.scenarioKey}):t.defaultSituation&&e.length&&(n=y.a.find(e,{scenarioKey:null})),n||null}))};function li(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ci=function(t){return t.scenarios.cases},hi=V.getAll(ci),fi=V.getActiveKey(ci),pi=V.getActive(ci),di=V.getByKey(ci),gi=V.getEditedAll(ci),mi=V.getEditedActive(ci),yi=Object(p.createSelector)([pi],(function(t){return!!(t&&t.data&&t.data.scenariosLoaded)&&t.data.scenariosLoaded})),vi=Object(p.createSelector)([pi],(function(t){return t&&t.data&&t.data.scenarios?t.data.scenarios:null})),bi=Object(p.createSelector)([mi],(function(t){return t&&t.data&&t.data.scenarios?t.data.scenarios:null})),Ei=Object(p.createSelector)([ui.getAllAsObject,vi],(function(t,e){if(t&&!y.a.isEmpty(t)&&e){var n=y.a.pick(t,e);return n&&!y.a.isEmpty(n)?Object.values(n):null}return null})),_i=Object(p.createSelector)([pi,ui.getEditedKeys],(function(t,e){if(t&&t.data&&t.data.scenarios&&e){var n=y.a.intersection(t.data.scenarios,e);return n&&n.length?n:null}return null})),wi=Object(p.createSelector)([ui.getEditedAllAsObject,vi,bi],(function(t,e,n){if(t&&!y.a.isEmpty(t)){var r=[];e&&n?r=[].concat(li(e),li(n)):e&&!n?r=e:!e&&n&&(r=n);var i=y.a.pick(t,r);return i&&!y.a.isEmpty(i)?Object.values(i):null}return null})),Si={cases:{getActive:pi,getActiveKey:fi,getAll:hi,getByKey:di,getEditedAll:gi,activeCaseScenariosLoaded:yi,getActiveCaseEdited:mi,getActiveCaseEditedScenarioKeys:bi,getActiveCaseScenarioKeys:vi,getActiveCaseScenarioEdited:Object(p.createSelector)([wi],(function(t){return t&&1===t.length?t[0]:null})),getActiveCaseScenarios:Ei,getActiveCaseScenariosEdited:wi,getActiveCaseScenariosEditedKeys:_i,getActivePlaceCases:Object(p.createSelector)([hi,ni.getActiveKey],(function(t,e){return t&&t.length&&e?y.a.filter(t,(function(t){return y.a.includes(t.data.place_ids,e)})):[]})),getSubstate:ci},scenarios:ui},xi=function(t){return t.screens.screens},Ti=function(t){return t.screens.sets},Oi=Object(p.createSelector)([Ti,function(t,e){return e}],(function(t,e){return t&&!y.a.isEmpty(t)&&e&&t[e]?t[e]:null})),Ci=Object(p.createSelector)([Oi,xi],(function(t,e){if(t){var n={};return y.a.each(t.orderBySpace,(function(t){n[t]=e[t]})),n}return null})),Ai=Object(p.createSelector)([Ti,function(t,e){return e}],(function(t,e){var n=null;return y.a.forIn(t,(function(t,r){y.a.includes(t.orderByHistory,e)&&(n=r)})),n})),Li={getScreenByLineage:Object(p.createSelector)([xi,function(t,e){return e}],(function(t,e){return t&&!y.a.isEmpty(t)&&e&&t[e]?t[e]:null})),getScreensBySetKey:Ci,getSetByKey:Oi,getSetKeyByScreenLineage:Ai},Pi={getAll:V.getAll((function(t){return t.snapshots}))},Ri=function(t){return t.tags},Mi=V.getAll(Ri),ki=V.getAllAsObject(Ri),Ii=V.getByKey(Ri),Ni=V.getByKeys(Ri),Di=V.getDataByKey(Ri),ji=V.getEditedDataByKey(Ri),Fi=V.getIndexed(Ri),Vi={getAll:Mi,getAllAsObject:ki,getByKey:Ii,getByKeys:Ni,getDataByKey:Di,getDeletePermissionByKey:V.getDeletePermissionByKey(Ri),getEditedDataByKey:ji,getIndexed:Fi,getUpdatePermissionByKey:V.getUpdatePermissionByKey(Ri),getSubstate:Ri},Bi=function(t){return t.users},Ui=function(t){return t.users.groups},Gi=V.getAll(Bi),Wi=V.getAll(Ui),Ki=V.getActiveKey(Bi),zi=V.getActive(Bi),Hi=V.getByKey(Bi),Yi=function(t){return t.users.isAdmin},qi=Object(p.createSelector)([zi],(function(t){return!!t&&y.a.includes(t.groups,1)})),Xi=Object(p.createSelector)([zi],(function(t){return t&&t.permissions?t.permissions:null})),Zi=Object(p.createSelector)([Yi,qi],(function(t,e){return t||e})),Ji=Object(p.createSelector)([zi],(function(t){return t&&t.groups?t.groups:[]})),Qi={getAll:Gi,getActive:zi,getByKey:Hi,getActiveKey:Ki,getActiveUser:zi,getGroupKeysForActiveUser:Ji,getGroupsForActiveUser:Ji,getUsers:Gi,getGroups:Wi,getSubstate:Bi,getGroupsSubstate:Ui,hasActiveUserPermissionToCreate:Object(p.createSelector)([Xi,function(t,e){return e},function(t,e,n){return n}],(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"metadata";return e&&t&&t[n]&&t[n][e]&&t[n][e].create})),isAdmin:Yi,isAdminGroupMember:qi,isAdminOrAdminGroupMember:Zi,isLoggedIn:function(t){return!!t.users.activeKey},isDromasAdmin:function(t){var e=!1;if(t.users&&t.users.data&&t.users.data.length){var n=t.users.data.filter((function(e){return e.key===t.users.activeKey}));n.length>0&&n[0].groups.forEach((function(t){"Aktualizace LPIS Gisat admin"===t.name&&(e=!0)}))}return e||t.users.isAdmin},getActiveUserDromasLpisChangeReviewGroup:Object(p.createSelector)([Ji,Gr.getActiveScopeConfiguration],(function(t,e){return y.a.includes(t,e.dromasLpisChangeReview.groups.gisatAdmins)?"gisatAdmins":y.a.includes(t,e.dromasLpisChangeReview.groups.szifAdmins)?"szifAdmins":y.a.includes(t,e.dromasLpisChangeReview.groups.gisatUsers)?"gisatUsers":y.a.includes(t,e.dromasLpisChangeReview.groups.szifUsers)?"szifUsers":null}))},$i=function(t){return t.views},to=V.getActiveKey($i),eo=V.getActiveKeys($i),no=V.getAll($i),ro=V.getAllAsObject($i),io=V.getByKey($i),oo={getActiveKey:to,getActiveKeys:eo,getByKeys:V.getByKeys($i),getDataByKey:V.getDataByKey($i),getEditedDataByKey:V.getEditedDataByKey($i),getViewsData:io,getAll:no,getAllAsObject:ro,getDeletePermissionByKey:V.getDeletePermissionByKey($i),getUpdatePermissionByKey:V.getUpdatePermissionByKey($i),getStateToSave:Object(p.createSelector)([$.getStateToSave,Gt.getStateToSave,oe.getStateToSave,Gr.getStateToSave],(function(t,e,n,r){return{attributes:t,attributeSets:e,components:n,scopes:r}})),getSubstate:$i},ao=function(t){return t.windows.windows},so=Object(p.createSelector)([function(t){return t.windows.sets},function(t,e){return e}],(function(t,e){return t&&t[e]})),uo=Object(p.createSelector)([ao,function(t,e){return e}],(function(t,e){return t&&t[e]})),lo=Object(p.createSelector)([so,ao],(function(t,e){if(t&&t.orderByHistory&&t.orderByHistory.length){var n={};return y.a.each(t.orderByHistory,(function(t){n[t]=e[t]})),n}return null})),co=Object(p.createSelector)([uo],(function(t){return t&&t.data&&"open"===t.data.state})),ho={_deprecatedSelections:U,app:K,areas:Y,areaRelations:J,attributes:$,attributeData:Ot,attributeDataSources:Nt,attributeStatistics:zt,attributeRelations:pt,attributeSets:Gt,cases:Zt,charts:ne,components:oe,layerPeriods:ae,layerTemplates:me,layersTrees:ve,maps:ur,periods:Cr,places:ni,scenarios:Si,scopes:Gr,screens:Li,selections:cn,snapshots:Pi,spatialData:qe,spatialDataSources:tn,spatialRelations:He,styles:sn,tags:Vi,users:Qi,views:oo,windows:{getSetByKey:so,getWindow:uo,getWindowsBySetKeyAsObject:lo,isOpen:co}},fo=n(6),po=n.n(fo),go=n(14),mo=n.n(go);function yo(t,e,n,r,i,o){y.a.isUndefined(o)&&(o=5);var a=t.apiBackendProtocol+"://"+Ee.a.join(t.apiBackendHost,t.apiBackendPath,e);return r&&(a+="?"+mo.a.stringify(r)),po()(a,{method:n,credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:i?JSON.stringify(i):null}).then((function(t){var e=t.headers.get("Content-type");if(t.ok&&e&&-1!==e.indexOf("application/json"))return t.json().then((function(t){if(t.data)return t;throw new Error("no data returned")}));throw new Error("response error")}),(function(t){if(!(o-1))throw t;yo(e,n,r,i,o-1)}))}var vo={INITIALIZE:"INITIALIZE",AOI_ADD:"AOI_ADD",AOI_SET_ACTIVE:"AOI_SET_ACTIVE",AOI_REQUEST:"AOI_REQUEST",AOI_RECEIVE:"AOI_RECEIVE",AOI_REQUEST_ERROR:"AOI_REQUEST_ERROR",AOI_GEOMETRY_RECEIVE:"AOI_GEOMETRY_RECEIVE",AOI_GEOMETRY_REQUEST_ERROR:"AOI_GEOMETRY_REQUEST_ERROR",APP:{SET_KEY:null,SET_BASE_URL:null,SET_LOCAL_CONFIGURATION:null,UPDATE_LOCAL_CONFIGURATION:null,RECEIVE_CONFIGURATION:null},AREAS:{AREA_TREE_LEVELS:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},AREA_TREES:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}}},AREA_RELATIONS:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null}}},AREAS_SELECTIONS_SET_ACTIVE_MULTIPLE:"AREAS_SELECTIONS_SET_ACTIVE_MULTIPLE",AREAS_SELECTIONS_UPDATE:"AREAS_SELECTIONS_UPDATE",ATTRIBUTES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null,CLEAR_INDEX:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null},INDEXED_BATCH:{REGISTER:null}}},ATTRIBUTE_SETS:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},CASES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null,CLEAR_INDEX:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},CHOROPLETHS_SET_ACTIVE_KEYS:"CHOROPLETHS_SET_ACTIVE_KEYS",CHOROPLETHS_UPDATE:"CHOROPLETHS_UPDATE",COMMON:{DATA:{CLEANUP_ON_LOGOUT:null,SET_OUTDATED:null},EDITED:{REMOVE_PROPERTY_VALUES:null}},COMPONENTS:{UPDATE:null,SET:null},CHARTS:{UPDATE:null,SET_INITIAL:null},DATAVIEWS_REMOVE:"DATAVIEWS_REMOVE",DATAVIEWS_DELETE_RECEIVE:"DATAVIEWS_DELETE_RECEIVE",DATAVIEWS_DELETE_REQUEST:"DATAVIEWS_DELETE_REQUEST",DATAVIEWS_DELETE_REQUEST_ERROR:"DATAVIEWS_DELETE_REQUEST_ERROR",DATAVIEWS:{ADD:null,ADD_UNRECEIVED:null,INDEX:{ADD:null,CLEAR_ALL:null},SET_ACTIVE_KEY:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},INDICATORS:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},LAYER_PERIODS_AOI_LAYER_REQUEST:"LAYER_PERIODS_AOI_LAYER_REQUEST",LAYER_PERIODS_AOI_LAYER_REQUEST_ERROR:"LAYER_PERIODS_AOI_LAYER_REQUEST_ERROR",LAYER_PERIODS_AOI_LAYER_RECEIVE:"LAYER_PERIODS_AOI_LAYER_RECEIVE",LAYER_PERIODS_PLACE_LAYER_REQUEST:"LAYER_PERIODS_PLACE_LAYER_REQUEST",LAYER_PERIODS_PLACE_LAYER_REQUEST_ERROR:"LAYER_PERIODS_PLACE_LAYER_REQUEST_ERROR",LAYER_PERIODS_PLACE_LAYER_RECEIVE:"LAYER_PERIODS_PLACE_LAYER_RECEIVE",LAYER_PERIODS_KEY_LAYER_REQUEST:"LAYER_PERIODS_KEY_LAYER_REQUEST",LAYER_PERIODS_KEY_LAYER_REQUEST_ERROR:"LAYER_PERIODS_KEY_LAYER_REQUEST_ERROR",LAYER_PERIODS_KEY_LAYER_RECEIVE:"LAYER_PERIODS_KEY_LAYER_RECEIVE",LAYER_TEMPLATES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},MAPS_ADD:"MAPS_ADD",MAPS_REMOVE:"MAPS_REMOVE",MAPS_UPDATE:"MAPS_UPDATE",MAPS_UPDATE_DEFAULTS:"MAPS_UPDATE_DEFAULTS",MAPS_SET_ACTIVE:"MAPS_SET_ACTIVE",MAPS_SET_INDEPENDENT_OF_PERIOD:"MAPS_SET_INDEPENDENT_OF_PERIOD",MAPS:{SET_INITIAL:null,SET_ACTIVE_MAP_KEY:null,SET_ACTIVE_SET_KEY:null,SET_SCOPE:null,SET_SCENARIO:null,SET_PERIOD:null,SET_PLACE:null,SET_CASE:null,SET_BACKGROUND_LAYER:null,SET:{ADD:null,SET_BACKGROUND_LAYER:null,REMOVE:null,ADD_MAP:null,SET_MAPS:null,REMOVE_MAP:null,WORLD_WIND_NAVIGATOR:{SET:null,UPDATE:null},VIEW:{SET:null,UPDATE:null},SET_ACTIVE_MAP_KEY:null,SET_SYNC:null},MAP:{ADD:null,LAYERS:{SET:{HOVERED_FEATURE_KEYS:null,SELECTION:null},CLEAR:{SELECTION:null}},REMOVE:null,SET_NAME:null,SET_DATA:null,WORLD_WIND_NAVIGATOR:{SET:null,UPDATE:null},VIEW:{SET:null,UPDATE:null}},LAYERS:{ADD_LAYERS:null,REMOVE_LAYERS:null,LAYER:{ADD:null,REMOVE:null,SET:null,UPDATE:null,SET_INDEX:null},SET:null},UPDATE:null},PERIODS:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null,CLEAR_INDEX:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},PLACES_ADD:"PLACES_ADD",PLACES_SET_ACTIVE_MULTI:"PLACES_SET_ACTIVE_MULTI",PLACES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},REDIRECT_TO_VIEW:"REDIRECT_TO_VIEW",SCENARIOS:{ADD:null,ADD_UNRECEIVED:null},SCENARIOS_ADD:"SCENARIOS_ADD",SCENARIOS_EDITED_UPDATE:"SCENARIOS_EDITED_UPDATE",SCENARIOS_EDITED_REMOVE:"SCENARIOS_EDITED_REMOVE",SCENARIOS_EDITED_REMOVE_PROPERTY:"SCENARIOS_EDITED_REMOVE_PROPERTY",SCENARIOS_SET_ACTIVE:"SCENARIOS_SET_ACTIVE",SCENARIOS_SET_ACTIVE_MULTI:"SCENARIOS_SET_ACTIVE_MULTI",SCENARIOS_SET_DEFAULT_SITUATION_ACTIVE:"SCENARIOS_SET_DEFAULT_SITUATION_ACTIVE",SCENARIOS_CASES_ADD:"SCENARIOS_CASES_ADD",SCENARIOS_CASES_REMOVE:"SCENARIOS_CASES_REMOVE",SCENARIOS_CASES_SET_ACTIVE:"SCENARIOS_CASES_SET_ACTIVE",SCENARIOS_UPDATE:"SCENARIOS_UPDATE",SCENARIOS_REQUEST:"SCENARIOS_REQUEST",SCENARIOS_RECEIVE:"SCENARIOS_RECEIVE",SCENARIOS_REQUEST_ERROR:"SCENARIOS_REQUEST_ERROR",SCENARIOS_CASES_REQUEST:"SCENARIOS_CASES_REQUEST",SCENARIOS_CASES_RECEIVE:"SCENARIOS_CASES_RECEIVE",SCENARIOS_CASES_REQUEST_ERROR:"SCENARIOS_CASES_REQUEST_ERROR",SCENARIOS_CASES_UPDATE:"SCENARIOS_CASES_UPDATE",SCENARIOS_CASES_EDITED_UPDATE:"SCENARIOS_CASES_EDITED_UPDATE",SCENARIOS_CASES_EDITED_REMOVE:"SCENARIOS_CASES_EDITED_REMOVE",SCENARIOS_CASES_EDITED_REMOVE_ACTIVE:"SCENARIOS_CASES_EDITED_REMOVE_ACTIVE",SCENARIOS_CASES_EDITED_REMOVE_PROPERTY:"SCENARIOS_CASE_EDITED_REMOVE_PROPERTY",SCENARIOS_API_PROCESSING_FILE_STARTED:"SCENARIOS_API_PROCESSING_FILE_STARTED",SCENARIOS_API_PROCESSING_FILE_SUCCESS:"SCENARIOS_API_PROCESSING_FILE_SUCCESS",SCENARIOS_API_PROCESSING_FILE_ERROR:"SCENARIOS_API_PROCESSING_FILE_ERROR",SCENARIOS_CASES_API_CREATE_REQUEST:"SCENARIOS_CASES_API_CREATE_REQUEST",SCENARIOS_CASES_API_CREATE_RECEIVE:"SCENARIOS_CASES_API_CREATE_RECEIVE",SCENARIOS_CASES_API_CREATE_ERROR:"SCENARIOS_CASES_API_CREATE_ERROR",SCENARIOS_CASES_API_DELETE_REQUEST:"SCENARIOS_CASES_API_DELETE_REQUEST",SCENARIOS_CASES_API_DELETE_RECEIVE:"SCENARIOS_CASES_API_DELETE_RECEIVE",SCENARIOS_CASES_API_DELETE_ERROR:"SCENARIOS_CASES_API_DELETE_ERROR",SCENARIOS_CASES_API_UPDATE_REQUEST:"SCENARIOS_CASES_API_UPDATE_REQUEST",SCENARIOS_CASES_API_UPDATE_RECEIVE:"SCENARIOS_CASES_API_UPDATE_RECEIVE",SCENARIOS_CASES_API_UPDATE_ERROR:"SCENARIOS_CASES_API_UPDATE_ERROR",SCOPES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},SCREENS:{ADD:null,CLOSE:null,OPEN:null,REMOVE:null,REMOVE_ALL:null,RETRACT:null,SETS:{ADD:null,REMOVE:null},TOP_HISTORY:null,UPDATE:null},SELECTIONS:{ADD:null,ADD_UNRECEIVED:null,SET_ACTIVE_KEY:null,SET:{FEATURE_KEYS_FILTER:{KEYS:null}}},_DEPRECATED_SELECTIONS:{ADD:null,REMOVE:null,SET_ACTIVE_KEY:null,UPDATE_FROM_VIEW:null},SPATIAL_RELATIONS:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null}}},SPATIAL_DATA:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},USE:{ADD:null,ADD_UNRECEIVED:null,INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},SPATIAL_DATA_SOURCES:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},USE:{ADD:null,ADD_UNRECEIVED:null,INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null},INDEXED_BATCH:{REGISTER:null}},VECTOR:{ADD:null,ADD_BATCH:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null,ADD_BATCH:null},LOAD:{ERROR:null,REQUEST:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null},INDEXED_BATCH:{REGISTER:null}}}},ATTRIBUTE_DATA_SOURCES:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},USE:{ADD:null,ADD_UNRECEIVED:null,INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null},INDEXED_BATCH:{REGISTER:null}}},ATTRIBUTE_DATA:{ADD:null,ADD_BATCH:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null,ADD_BATCH:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},INDEXED_BATCH:{REGISTER:null}}},ATTRIBUTE_STATISTICS:{ADD:null,ADD_BATCH:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null,ADD_BATCH:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},INDEXED_BATCH:{REGISTER:null}}},ATTRIBUTE_RELATIONS:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null}}},SPATIAL_DATA_SOURCES_DOWNLOAD_FILE_ERROR:"SPATIAL_DATA_SOURCES_DOWNLOAD_FILE_ERROR",SPATIAL_DATA_SOURCES_DOWNLOAD_FILE_REQUEST:"SPATIAL_DATA_SOURCES_DOWNLOAD_FILE_REQUEST",SPATIAL_DATA_SOURCES_RECEIVE:"SPATIAL_DATA_SOURCES_RECEIVE",SPATIAL_DATA_SOURCES_REQUEST:"SPATIAL_DATA_SOURCES_REQUEST",SPATIAL_DATA_SOURCES_FILTERED_REQUEST:"SPATIAL_DATA_SOURCES_FILTERED_REQUEST",SPATIAL_DATA_SOURCES_REQUEST_ERROR:"SPATIAL_DATA_SOURCES_REQUEST_ERROR",SPATIAL_DATA_SOURCES_ADD:"SPATIAL_DATA_SOURCES_ADD",SPATIAL_DATA_SOURCES_VECTOR_FEATURES_RECEIVE:"SPATIAL_DATA_SOURCES_VECTOR_FEATURES_RECEIVE",SPATIAL_DATA_SOURCES_VECTOR_FEATURES_BBOX_REQUEST:"SPATIAL_DATA_SOURCES_VECTOR_FEATURES_BBOX_REQUEST",SPATIAL_DATA_SOURCES_VECTOR_FEATURES_BBOX_REQUEST_ERROR:"SPATIAL_DATA_SOURCES_VECTOR_FEATURES_BBOX_REQUEST_ERROR",SPATIAL_DATA_SOURCES_VECTOR_FEATURES_POINT_REQUEST:"SPATIAL_DATA_SOURCES_VECTOR_FEATURES_POINT_REQUEST",SPATIAL_DATA_SOURCES_VECTOR_FEATURES_POINT_REQUEST_ERROR:"SPATIAL_DATA_SOURCES_VECTOR_FEATURES_POINT_REQUEST_ERROR",SPATIAL_DATA_SOURCES_VECTOR_FEATURES_SELECT:"SPATIAL_DATA_SOURCES_VECTOR_FEATURES_SELECT",SPATIAL_DATA_SOURCES_VECTOR_FEATURES_EDITED_ADD:"SPATIAL_DATA_SOURCES_VECTOR_FEATURES_EDITED_ADD",STYLES:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},SNAPSHOTS_ADD:"SNAPSHOTS_ADD",SNAPSHOTS_REMOVE:"SNAPSHOTS_REMOVE",TAGS:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},THEMES:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},USERS:{ADD:null,ADD_UNRECEIVED:null,GROUPS:{ADD:null,ADD_UNRECEIVED:null,INDEX:{ADD:null,CLEAR_ALL:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},SET_ACTIVE_KEY:null,CURRENT:{REQUEST:null},LOGIN:{REQUEST:null},INDEX:{ADD:null,CLEAR_ALL:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},USER_GROUPS:{ADD:null,ADD_UNRECEIVED:null},USERS_ADD:"USERS_ADD",USERS_LOAD_REQUEST:"USERS_LOAD_REQUEST",USERS_LOAD_REQUEST_ERROR:"USERS_LOAD_REQUEST_ERROR",USERS_LOAD_CURRENT_REQUEST:"USERS_LOAD_CURRENT_REQUEST",USERS_LOAD_CURRENT_REQUEST_ERROR:"USERS_LOAD_CURRENT_REQUEST_ERROR",USERS_LOGIN_REQUEST:"USERS_LOGIN_REQUEST",USERS_LOGIN_REQUEST_ERROR:"USERS_LOGIN_REQUEST_ERROR",USERS_LOGOUT_REQUEST:"USERS_LOGOUT_REQUEST",USERS_LOGOUT_REQUEST_ERROR:"USERS_LOGOUT_REQUEST_ERROR",USERS_UPDATE:"USERS_UPDATE",LAYERSTREES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},VIEWS:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},VISUALIZATIONS:{ADD:null,ADD_UNRECEIVED:null,INDEX:{ADD:null,CLEAR_ALL:null},SET_ACTIVE_KEY:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},WMS_LAYERS:{ADD:null,ADD_UNRECEIVED:null,INDEX:{ADD:null,CLEAR_ALL:null},SET_ACTIVE_KEY:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},WINDOWS:{ADD:null,OPEN:null,REMOVE:null,SETS:{ADD:null,REMOVE:null},TOP:null,UPDATE:null},LPIS_CASES_ADD:"LPIS_CASES_ADD",LPIS_CASE_CHANGES_ADD:"LPIS_CASE_CHANGES_ADD",LPIS_CASES_SEARCH_STRING_CHANGE:"LPIS_CASES_SEARCH_STRING_CHANGE",LPIS_CASES_SELECTED_STATUS_CHANGE:"LPIS_CASES_SELECTED_STATUS_CHANGE",LPIS_CASES_EDIT_ACTIVE_EDITED_CASE:"LPIS_CASES_EDIT_ACTIVE_EDITED_CASE",LPIS_CASES_CREATE_NEW_ACTIVE_EDITED_CASE:"LPIS_CASES_CREATE_NEW_ACTIVE_EDITED_CASE",LPIS_CASES_REMOVE_EDITED_CASES_BY_KEYS:"LPIS_CASES_REMOVE_EDITED_CASES_BY_KEYS",LPIS_CASES_SET_ACTIVE:"LPIS_CASES_SET_ACTIVE",LPIS_CASES_CLEAR_EDITED_CASE:"LPIS_CASES_CLEAR_EDITED_CASE",LPIS_CASE_EDIT_ACTIVE_CASE:"LPIS_CASE_EDIT_ACTIVE_CASE",LPIS_CASE_EDIT_ACTIVE_CASE_STATUS:"LPIS_CASE_EDIT_ACTIVE_CASE_STATUS",LPIS_CASE_EDIT_CASE_STATUS:"LPIS_CASE_EDIT_CASE_STATUS",LPIS_CASE_SET_NEXT_ACTIVE_CASE_KEY:"LPIS_CASE_SET_NEXT_ACTIVE_CASE_KEY",LPISCHECK_CASES_ADD:"LPISCHECK_CASES_ADD",LPISCHECK_UPDATE_CASE:"LPISCHECK_UPDATE_CASE",LPISCHECK_CASES_SET_ACTIVE:"LPISCHECK_CASES_SET_ACTIVE",LPIS_CHECK_CASES_SEARCH_PARAM_CHANGE:"LPIS_CHECK_CASES_SEARCH_PARAM_CHANGE"},bo=_e.utils.deepKeyMirror(vo);function Eo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Eo(Object(n),!0).forEach((function(e){So(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wo(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function So(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xo=function(t,e,n){return function(r,i){return yo(ho.app.getCompleteLocalConfiguration(i()),"backend/rest/"+e,"DELETE",null,{data:So({},t,n)}).then((function(e){if(e.errors&&e.errors[t]||e.data&&!e.data[t])r(Vo(e.errors[t]||new Error("no data")));else{if(e.data[t].length>0)return e;console.warn("No data updated for ".concat(t," metadata type"))}})).catch((function(t){r(Vo(t))}))}},To=function(t,e,n,r,i){return function(o,a){return yo(ho.app.getCompleteLocalConfiguration(a()),"backend/rest/"+r,"PUT",null,{data:So({},e,i)}).then((function(i){i.errors&&i.errors[e]||i.data&&!i.data[e]?o(Vo(i.errors[e]||new Error("no data"))):o(No(t,n,i,e,r))})).catch((function(t){o(Vo(t))}))}};function Oo(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"metadata";return function(a,s){var u=s(),l=V.getUsesForIndex(t)(u,n,r);l&&y.a.each(l.uses,(function(n){a(Po(t,e,l.filter,l.order,n.start,n.length,i,o))}))}}function Co(t,e,n,r,i,o){return function(a){e.data[n].length&&a(Go(t,e.data[n],r)),a(function(t,e,n,r,i,o,a){return Uo(t,"INDEX.ADD",{filter:e,order:n,count:r,start:i,data:o,changedOn:a})}(t,r,i,e.total,o,e.data[n],e.changes&&e.changes[n]))}}function Ao(t,e,n,r,i,o){return function(a){e.data[n].length&&a(Wo(t,e.data[n],o)),a(Ko(t,r,i,e.data[n],o))}}function Lo(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"metadata";return function(o,a){var s=a(),u=ho.app.getLocalConfiguration(s,"requestPageSize"),l=V.getKeysToLoad(t)(s,r),c=[];return l&&(l=y.a.chunk(l,u),y.a.each(l,(function(t){c.push(o(Mo(e,n,t,i)))}))),Promise.all(c)}}function Po(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"metadata";return function(u,l){var c=l(),h=ho.app.getCompleteLocalConfiguration(c).requestPageSize,f=V.getIndexTotal(t)(c,n,r),p=V.getIndexChangedOn(t)(c,n,r);if(f||0===f){for(var d=[],g=V.getIndexPage(t)(c,n,r,i,o),m=g?Object.keys(g).length:0,y=0;y<m;y+=h){for(var v=[],b=!1,E=0;E<h&&i+y+E<=f;E++)g[i+y+E]?v.push(g[i+y+E]):b=!0;if(b){var _=v.length?_o({},n,{key:{notin:v}}):n,w=u(ko(e,_,r,i+y,p,a,s)).catch((function(i){"Index outdated"===i.message&&u(Oo(t,e,n,r,a,s))}));d.push(w)}}return d.length?Promise.all(d):Promise.resolve()}return u(ko(e,n,r,i,p,a,s)).then((function(l){if(l&&l.message&&!1===l.success);else if(o>h)return u(Po(t,e,n,r,i+h,o-h,a,s))})).catch((function(i){if("Index outdated"!==i.message)throw new Error("_common/actions#ensure: ".concat(i));u(Oo(t,e,n,r,a,s))}))}}function Ro(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"metadata",o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;return function(s){return s(Io(t,e,n,r,i,o,a)).then((function(t){})).catch((function(t){throw new Error("_common/actions#ensure: ".concat(t))}))}}function Mo(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metadata";return function(i,o){return yo(ho.app.getCompleteLocalConfiguration(o()),ta(r,t),"POST",null,{filter:{key:{in:n}}}).then((function(r){if(r.errors&&r.errors[t]||r.data&&!r.data[t])throw new Error(r.errors[t]||"no data");i(Do(e,r,t,n))})).catch((function(t){return i(Vo(t)),t}))}}function ko(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"metadata";return function(s,u){var l=ho.app.getCompleteLocalConfiguration(u()),c=l.requestPageSize;return yo(l,ta(a,t),"POST",null,{filter:e&&_o({},e),offset:r-1,order:n,limit:c}).then((function(a){if(a.errors&&a.errors[t]||a.data&&!a.data[t])throw new Error(a.errors[t]||"no data");if(a.changes&&a.changes[t]&&cr()(a.changes[t]).isAfter(i))throw new Error("Index outdated");s(Co(o,a,t,e,n,r))})).catch((function(t){return s(Vo(t)),t}))}}function Io(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"metadata",o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;return function(s,u){var l=ho.app.getCompleteLocalConfiguration(u()),c=ta(i,t),h={filter:_o({},e),order:n};return a&&(h=_o({},h,{},a)),yo(l,c,"POST",null,h).then((function(i){if(i.errors&&i.errors[t]||i.data&&!i.data[t])throw new Error(i.errors[t]||"no data");s(Ao(r,i,t,e,n,o))})).catch((function(t){return s(Vo(t)),t}))}}function No(t,e,n,r,i){return function(o,a){var s=n.data[r];if(s.length){var u=V.getAllAsObject(t)(a());o(Go(e,s));var l=V.getEditedAllAsObject(t)(a()),c=[];s.forEach((function(n){var r=u[n.key],i=l[n.key].data;y.a.forIn(i,(function(t,r){(n.data[r]===t||y.a.isObject(t)&&(JSON.stringify(t)===JSON.stringify(n.data[r])||y.a.isArray(t)&&y.a.isEmpty(t)&&(y.a.isEmpty(n.data[r])||n.data&&!n.data[r])))&&o(Zo(e,n.key,r))})),c=(c=c.concat(V.getIndexesByFilteredItem(t)(a(),n))).concat(V.getIndexesByFilteredItem(t)(a(),r))})),_.getUniqueIndexes(c).forEach((function(n){o(zo(e,n.filter,n.order)),o(Oo(t,r,n.filter,n.order,e,i))}))}else console.warn("No data updated for ".concat(r," metadata type"))}}function Do(t,e,n,r){return function(i){e.data[n].length&&i(Go(t,e.data[n])),y.a.remove(r,(function(t){return y.a.find(e.data[n],{key:t})})),r.length&&i(function(t,e){return y.a.isArray(e)||(e=[e]),Uo(t,"ADD_UNRECEIVED",{keys:e})}(t,r))}}function jo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"metadata";return function(n){var r=So({},t,!0);y.a.map(Uc,(function(t){t.hasOwnProperty("ensureIndexesWithFilterByActive")&&n(t.ensureIndexesWithFilterByActive(r,e))}))}}function Fo(t,e){return{type:bo.COMMON.EDITED.REMOVE_PROPERTY_VALUES,dataType:t,keys:e}}function Vo(t){return console.error("common/actions error",t),{type:"ERROR"}}var Bo=function(t){return function(e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(n){n(t.apply(void 0,[e].concat(r)))}}}};function Uo(t,e,n){if(e=e.split("."),y.a.each(e,(function(r){if(!t.hasOwnProperty(r))throw console.error("common/actions#action: Action not in namespace",e,n),new Error("common/actions#action: Action not in namespace");t=t[r]})),"string"!=typeof t)throw new Error("common/actions#action: Action type not string");return _o({},n,{type:t})}function Go(t,e,n){return y.a.isArray(e)||(e=[e]),Uo(t,"ADD",{data:e,filter:n})}function Wo(t,e,n){return y.a.isArray(e)||(e=[e]),Uo(t,"ADD_BATCH",{data:e,key:n})}function Ko(t,e,n,r,i){return Uo(t,"INDEX.ADD_BATCH",{filter:e,order:n,data:r,key:i})}function zo(t,e,n){return Uo(t,"INDEX.CLEAR_INDEX",{filter:e,order:n})}var Ho=function(t,e,n){return Uo(t,"MARK_DELETED",{key:e,date:n})};function Yo(t){return Uo(t,"INDEX.CLEAR_ALL")}function qo(t,e){return Uo(t,"SET_ACTIVE_KEY",{key:e})}function Xo(t,e){return Uo(t,"SET_ACTIVE_KEYS",{keys:e})}function Zo(t,e,n){return Uo(t,"EDITED.REMOVE_PROPERTY",{key:e,property:n})}function Jo(t,e,n,r,i,o,a){return Uo(t,"USE.INDEXED.REGISTER",{componentId:e,filterByActive:n,filter:r,order:i,start:o,length:a})}function Qo(t,e,n,r,i){return Uo(t,"USE.INDEXED_BATCH.REGISTER",{componentId:e,filterByActive:n,filter:r,order:i})}function $o(t,e,n){return Uo(t,"USE.KEYS.REGISTER",{componentId:e,keys:n})}var ta=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"metadata",e=arguments.length>1?arguments[1]:void 0;return Ee.a.join("backend/rest",t,"filtered",e)},ea=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e.utils.uuid(),n=arguments.length>2?arguments[2]:void 0,r={data:{}},i={key:e,data:{}};return n&&(i.data={applicationKey:n}),r.data[t]=[i],r},na={add:Bo(Go),addBatch:Bo(Wo),addBatchIndex:Bo(Ko),action:Uo,actionAdd:Go,actionGeneralError:Vo,apiUpdate:To,creator:Bo,create:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metadata";return function(i,o){return function(a,s){var u=s(),l=Ee.a.join("backend/rest",r),c=ho.app.getCompleteLocalConfiguration(u),h=null;if(o)h=o;else{var f=ho.app.getKey(u);f&&(h=f)}return yo(c,l,"POST",null,ea(e,i,h)).then((function(i){if(i.errors&&i.errors[e]||i.data&&!i.data[e])a(Vo(i.errors[e]||new Error("no data")));else{var o=i.data[e];a(Go(n,o));var u=[];o.forEach((function(e){u=u.concat(V.getIndexesByFilteredItem(t)(s(),e))})),_.getUniqueIndexes(u).forEach((function(i){a(zo(n,i.filter,i.order)),a(Oo(t,e,i.filter,i.order,n,r))}))}})).catch((function(t){a(Vo(t))}))}}},delete:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metadata";return function(i){return function(o,a){return i?i.key?o(xo(e,r,[{key:i.key}])).then((function(s){var u=s.data[e].map((function(t){return t.key}));if(!Object(m.isEqual)(u,[i.key]))return o(Vo("common/actions#deleteItem: Deleted key is not equal to key to delete!"));var l=cr()((new Date).toString()).utc().format();u.forEach((function(t){o(Ho(n,t,l))})),o(Fo(e,u));var c=a();V.getIndexesByFilteredItem(t)(c,i).forEach((function(i){o(zo(n,i.filter,i.order)),o(Oo(t,e,i.filter,i.order,n,r))}))})):o(Vo("common/actions#deleteItem: item key to delete is missing!")):o(Vo("common/actions#deleteItem: item to delete is missing!"))}}},ensure:Lo,ensureIndexed:Po,ensureIndexesWithFilterByActive:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metadata";return function(i){return function(o,a){var s=a(),u=V.getUsesWithActiveDependency(t)(s,i);y.a.map(u,(function(i){y.a.map(i.uses,(function(a){o(Po(t,e,i.filter,i.order,a.start,a.length,n,r))}))}))}}},ensureKeys:Lo,loadAll:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"metadata";return function(r,i){var o=ho.app.getCompleteLocalConfiguration(i()),a=o.requestPageSize,s=ta(n,t);yo(o,s,"POST",null,{limit:a}).then((function(n){if(n.errors&&n.errors[t]||n.data&&!n.data[t])r(Vo(n.errors[t]||new Error("no data")));else if(n.total<=a)r(Go(e,n.data[t]));else{for(var i=[],u=Math.ceil((n.total-a)/a),l=0;l<u;l++){var c={offset:(l+1)*a,limit:a};i.push(yo(o,s,"POST",null,c))}Promise.all(i).then((function(i){var o=y.a.flatten(i.map((function(e){return e.data[t]})));r(Go(e,[].concat(wo(n.data[t]),wo(o))))}))}})).catch((function(t){r(Vo(t))}))}},loadFiltered:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metadata";return function(i,o){var a=ho.app.getCompleteLocalConfiguration(o()),s=a.requestPageSize,u=ta(r,t);return yo(a,u,"POST",null,{filter:n,limit:s}).then((function(r){if(!(r.errors&&r.errors[t]||r.data&&!r.data[t])){if(r.total<=s)return i(Go(e,r.data[t]));for(var o=[],l=Math.ceil((r.total-s)/s),c=0;c<l;c++){var h={filter:n,offset:(c+1)*s,limit:s};o.push(yo(a,u,"POST",null,h))}return Promise.all(o).then((function(n){var o=y.a.flatten(n.map((function(e){return e.data[t]})));i(Go(e,[].concat(wo(r.data[t]),wo(o))))}))}i(Vo(r.errors[t]||new Error("no data")))})).catch((function(t){i(Vo(t))}))}},useIndexedBatch:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"metadata";return function(r,i,o,a,s,u){return function(l,c){l(Qo(e,a,r,i,o));var h=c(),f=_.mergeFilters({activeApplicationKey:h.app.key,activeScopeKey:V.getActiveKey((function(t){return t.scopes}))(h),activePeriodKey:V.getActiveKey((function(t){return t.periods}))(h),activePeriodKeys:V.getActiveKeys((function(t){return t.periods}))(h),activePlaceKey:V.getActiveKey((function(t){return t.places}))(h),activePlaceKeys:V.getActiveKeys((function(t){return t.places}))(h)},r,i);return l(Ro(t,f,o,e,n,s,u))}}},loadIndexedPage:ko,loadKeysPage:Mo,setActiveKey:Bo(qo),setActiveKeyAndEnsureDependencies:function(t,e){return function(n){return function(r){r(qo(t,n)),r(jo(e))}}},setActiveKeysAndEnsureDependencies:function(t,e){return function(n){return function(r){r(Xo(t,n)),r(jo(e))}}},setActiveKeys:Bo(Xo),receiveUpdated:No,receiveIndexed:Co,receiveKeys:Do,refreshUses:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metadata";return function(){return function(i,o){i(Yo(n));var a=o(),s=V.getUsedKeys(t)(a);i(Lo(t,e,n,s,r));var u=V.getUsedIndexPages(t)(a);y.a.each(u,(function(o){y.a.each(o.uses,(function(a){i(Po(t,e,o.filter,o.order,a.start,a.length,n,r))}))}))}}},request:function(t,e,n,r,i,o){return function(a,s){yo(ho.app.getCompleteLocalConfiguration(s()),t,e,n,r).then((function(t){a(i(t.data))})).catch((function(t){a(o(t))}))}},saveEdited:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metadata";return function(i){return function(o,a){if(!t)return o(Vo("common/actions#saveEdited: setSubstate parameter is missing!"));if(!e)return o(Vo("common/actions#saveEdited: dataType parameter is missing!"));if(!n)return o(Vo("common/actions#saveEdited: actionTypes parameter is missing!"));if(!i)return o(Vo("common/actions#saveEdited: Model key is missing!"));var s=a(),u=V.getByKey(t)(s,i),l=V.getEditedByKey(t)(s,i);u&&o(To(t,e,n,r,[l])).then((function(){}))}}},updateSubstateFromView:function(t){return function(e){return function(n){e&&e.activeKey?n(qo(t,e.activeKey)):e&&e.activeKeys&&n(Xo(t,e.activeKeys))}}},updateEdited:function(t,e){return function(n,r,i){return function(o,a){if(!t)return o(Vo("common/actions#updateEdited: setSubstate parameter is missing!"));if(!e)return o(Vo("common/actions#updateEdited: actionTypes parameter is missing!"));if(!n)return o(Vo("common/actions#updateEdited: Model key is missing!"));if(!r)return o(Vo("common/actions#updateEdited: Property key is missing!"));var s=V.getByKey(t)(a(),n);s&&(i===s.data[r]||Object(m.isEqual)(s.data[r],i))?o(Zo(e,n,r)):o(function(t,e){return Uo(t,"EDITED.UPDATE",{data:e})}(e,[{key:n,data:So({},r,i)}]))}}},useKeys:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metadata";return function(i,o){return function(a){return a($o(n,o,i)),a(Lo(t,e,n,i,r))}}},useKeysClear:Bo((function(t,e){return Uo(t,"USE.KEYS.CLEAR",{componentId:e})})),useIndexed:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"metadata";return function(i,o,a,s,u,l){return function(c,h){c(Jo(n,l,i,o,a,s,u));var f=h(),p=_.mergeFilters({activeApplicationKey:f.app.key,activeAttributeKey:V.getActiveKey((function(t){return t.attributes}))(f),activeScopeKey:V.getActiveKey((function(t){return t.scopes}))(f),activePeriodKey:V.getActiveKey((function(t){return t.periods}))(f),activePeriodKeys:V.getActiveKeys((function(t){return t.periods}))(f),activePlaceKey:V.getActiveKey((function(t){return t.places}))(f),activePlaceKeys:V.getActiveKeys((function(t){return t.places}))(f)},i,o);return c(Po(t,e,p,a,s,u,n,r))}}},clearIndex:Bo(zo),useIndexedRegister:Jo,useIndexedClear:Bo((function(t,e){return Uo(t,"USE.INDEXED.CLEAR",{componentId:e})})),useIndexedClearAll:Bo((function(t){return Uo(t,"USE.INDEXED.CLEAR_ALL")})),setInitial:Bo((function(t){return Uo(t,"SET_INITIAL")})),actionDataSetOutdated:function(){return{type:bo.COMMON.DATA.SET_OUTDATED}},actionSetActiveKey:qo};function ra(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ra(Object(n),!0).forEach((function(e){oa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aa=na.add(bo._DEPRECATED_SELECTIONS),sa=na.setActiveKey(bo._DEPRECATED_SELECTIONS),ua={clearActiveSelection:function(){return function(t,e){var n,r=ho._deprecatedSelections.getActiveKey(e());r&&(t(sa(null)),t((n=[r],{type:bo._DEPRECATED_SELECTIONS.REMOVE,keys:n})))}},updateActiveSelection:function(t,e,n){return function(r,i){var o=ho._deprecatedSelections.getActive(i()),a={name:t,values:e,areas:n};if(o){var s=ia({},o,{data:ia({},o.data,{},a)});r(aa(s))}else r(function(t){return function(e){var n={key:_e.utils.uuid(),data:t};e(aa([n])),e(sa(n.key))}}(a))}},updateStateFromView:function(t){return function(e){t&&e(function(t){return{type:bo._DEPRECATED_SELECTIONS.UPDATE_FROM_VIEW,data:t}}(t))}}},la=function(t){return{type:bo.APP.RECEIVE_CONFIGURATION,configuration:t}},ca={add:la,setKey:function(t){return{type:bo.APP.SET_KEY,key:t}},updateLocalConfiguration:function(t){return{type:bo.APP.UPDATE_LOCAL_CONFIGURATION,update:t}},setBaseUrl:function(t){return{type:bo.APP.SET_BASE_URL,url:t}},setLocalConfiguration:function(t,e){return{type:bo.APP.SET_LOCAL_CONFIGURATION,path:t,value:e}},loadConfiguration:function(){return function(t,e){return yo(ho.app.getCompleteLocalConfiguration(e()),"backend/rest/applications/filtered/configurations","POST",null,{filter:{applicationKey:K.getKey(e())}}).then((function(e){e.errors&&e.errors.configurations||e.data&&!e.data.configurations?t(na.actionGeneralError(e.errors.configurations||new Error("no data"))):e.data.configurations.length&&e.data.configurations[0].data&&e.data.configurations[0].data.data?t(la(e.data.configurations[0].data.data)):t(na.actionGeneralError(new Error("empty configuration")))})).catch((function(e){t(na.actionGeneralError(e))}))}}},ha=na.setActiveKey(bo.AREAS.AREA_TREE_LEVELS),fa=na.useIndexed(ho.areas.areaTreeLevels.getSubstate,"areaTreeLevels",bo.AREAS.AREA_TREE_LEVELS),pa=na.useKeys(ho.areas.areaTreeLevels.getSubstate,"areaTreeLevels",bo.AREAS.AREA_TREE_LEVELS),da=na.refreshUses(ho.areas.areaTreeLevels.getSubstate,"areaTreeLevels",bo.AREAS.AREA_TREE_LEVELS),ga={ensureIndexesWithFilterByActive:na.ensureIndexesWithFilterByActive(ho.areas.areaTrees.getSubstate,"areaTreeLevels",bo.AREAS.AREA_TREE_LEVELS),refreshUses:da,setActiveKey:ha,useIndexed:fa,useIndexedClear:function(t){return{type:bo.AREAS.AREA_TREE_LEVELS.USE.INDEXED.CLEAR,componentId:t}},useKeys:pa},ma=na.setActiveKey(bo.AREAS.AREA_TREES),ya=na.useIndexed(ho.areas.areaTrees.getSubstate,"areaTrees",bo.AREAS.AREA_TREES),va=na.useKeys(ho.areas.areaTrees.getSubstate,"areaTrees",bo.AREAS.AREA_TREES),ba=na.refreshUses(ho.areas.areaTrees.getSubstate,"areaTrees",bo.AREAS.AREA_TREES),Ea={areaTreeLevels:ga,areaTrees:{ensureIndexesWithFilterByActive:na.ensureIndexesWithFilterByActive(ho.areas.areaTrees.getSubstate,"areaTrees",bo.AREAS.AREA_TREES),refreshUses:ba,setActiveKey:ma,useIndexed:ya,useIndexedClear:function(t){return{type:bo.AREAS.AREA_TREES.USE.INDEXED.CLEAR,componentId:t}},useKeys:va,useKeysClear:na.useKeysClear(bo.AREAS.AREA_TREES)}},_a={add:na.add(bo.AREA_RELATIONS),useIndexedRegister:function(t,e,n,r,i,o){return na.useIndexedRegister(bo.AREA_RELATIONS,t,e,n,r,i,o)},useIndexedClearAll:na.useIndexedClearAll(bo.AREA_RELATIONS),ensureIndexed:function(t,e,n,r){return na.ensureIndexed(ho.areaRelations.getSubstate,"area",t,e,n,r,bo.AREA_RELATIONS,"relations")}},wa=na.create(ho.attributes.getSubstate,"attributes",bo.ATTRIBUTES),Sa=na.refreshUses(ho.attributes.getSubstate,"attributes",bo.ATTRIBUTES),xa=na.delete(ho.attributes.getSubstate,"attributes",bo.ATTRIBUTES),Ta=na.saveEdited(ho.attributes.getSubstate,"attributes",bo.ATTRIBUTES),Oa=na.updateEdited(ho.attributes.getSubstate,bo.ATTRIBUTES),Ca=na.useIndexed(ho.attributes.getSubstate,"attributes",bo.ATTRIBUTES),Aa=na.useIndexedClear(bo.ATTRIBUTES),La=na.useKeys(ho.attributes.getSubstate,"attributes",bo.ATTRIBUTES),Pa=na.useKeysClear(bo.ATTRIBUTES),Ra=na.ensureIndexesWithFilterByActive(ho.attributes.getSubstate,"attributes",bo.ATTRIBUTES),Ma=na.updateSubstateFromView(bo.ATTRIBUTES),ka=na.useIndexedBatch("attributes",bo.ATTRIBUTES,"data"),Ia=na.setActiveKeyAndEnsureDependencies(bo.ATTRIBUTES,"attribute"),Na={create:wa,delete:xa,ensureIndexesWithFilterByActive:Ra,updateStateFromView:Ma,refreshUses:Sa,saveEdited:Ta,setActiveKey:function(t){return function(e){e(Ia(t))}},updateEdited:Oa,useIndexed:Ca,useIndexedClear:Aa,useKeys:La,useKeysClear:Pa,useIndexedBatch:ka,loadAttributeData:function(t,e){return function(n,r){return n(ka(null,t,null,e,"attributeDataSourceKey"))}}},Da=na.useIndexed(ho.attributeData.getSubstate,"attribute",bo.ATTRIBUTE_DATA,"data"),ja=na.useIndexedClear(bo.ATTRIBUTE_DATA),Fa=na.useIndexedBatch("attribute",bo.ATTRIBUTE_DATA,"data"),Va={useIndexed:Da,useIndexedClear:ja,loadFilteredData:function(t,e){return function(n){return n(Fa(null,t,null,e,"attributeDataSourceKey"))}}},Ba=na.useIndexedClear(bo.ATTRIBUTE_STATISTICS),Ua=na.useIndexedBatch("attribute",bo.ATTRIBUTE_STATISTICS,"statistic"),Ga={useIndexedClear:Ba,loadFilteredData:function(t,e){return function(n){return n(Ua(null,t,null,e,"attributeDataSourceKey"))}}},Wa={useKeys:na.useKeys(ho.attributeDataSources.getSubstate,"attribute",bo.ATTRIBUTE_DATA_SOURCES,"dataSources"),useKeysClear:na.useKeysClear(bo.ATTRIBUTE_DATA_SOURCES)};function Ka(t,e,n,r,i,o){return function(a,s){a(na.ensureIndexed(ho.attributeRelations.getSubstate,"attribute",t,e,n,r,bo.ATTRIBUTE_RELATIONS,"relations")).then((function(){var e=ho.attributeRelations.getFilteredRelations(s(),t);if(e){var n=y.a.map(e,(function(t){return t.attributeDataSourceKey})),r=y.a.map(e,(function(t){return t.attributeKey})),u=null,l=[];e.map((function(t){u=t.fidColumnName,l.push(t.attributeDataSourceKey)}));var c=y.a.uniq(l),h={fidColumnName:u,attributeDataSourceKey:{in:c}},f={percentile:_e.statistics.quartilePercentiles,attributeDataSourceKey:{in:c}};if(r&&r.length){var p=y.a.uniq(r);a(Na.useKeys(p,i))}a(Wa.useKeys(n,i));var d=ho.attributeStatistics.getBatchByFilterOrder(s(),f,null);o||d||a(Ga.loadFilteredData(f,i)),ho.attributeData.getBatchByFilterOrder(s(),h,null)||a(Va.loadFilteredData(h,i))}})).catch((function(t){a(na.actionGeneralError(t))}))}}var za={useIndexed:na.useIndexed(ho.attributeRelations.getSubstate,"attribute",bo.ATTRIBUTE_RELATIONS,"relations"),useIndexedClearAll:na.useIndexedClearAll(bo.ATTRIBUTE_RELATIONS),useIndexedRegister:function(t,e,n,r,i,o){return na.useIndexedRegister(bo.ATTRIBUTE_RELATIONS,t,e,n,r,i,o)},ensureIndexed:function(t,e,n,r){return na.ensureIndexed(ho.attributeRelations.getSubstate,"attribute",t,e,n,r,bo.ATTRIBUTE_RELATIONS,"relations")},ensureIndexesWithFilterByActive:function(t){return function(e,n){var r=n(),i=V.getUsesWithActiveDependency(ho.attributeRelations.getSubstate)(r,t);y.a.each(i,(function(t){y.a.each(t.uses,(function(n){e(Ka(t.filter,t.order,n.start,n.length))}))}))}},ensureIndexedSpecific:Ka},Ha={setActiveKeys:na.setActiveKeys(bo.ATTRIBUTE_SETS)},Ya=na.add(bo.CASES),qa=na.create(ho.cases.getSubstate,"cases",bo.CASES),Xa=na.delete(ho.cases.getSubstate,"cases",bo.CASES),Za=na.saveEdited(ho.cases.getSubstate,"cases",bo.CASES),Ja=na.updateEdited(ho.cases.getSubstate,bo.CASES),Qa=na.updateSubstateFromView(bo.CASES),$a=na.useKeys(ho.cases.getSubstate,"cases",bo.CASES),ts=na.useKeysClear(bo.CASES),es=na.useIndexed(ho.cases.getSubstate,"cases",bo.CASES),ns=na.useIndexedClear(bo.CASES),rs=na.refreshUses(ho.cases.getSubstate,"cases",bo.CASES),is=na.setActiveKeyAndEnsureDependencies(bo.CASES,"case"),os=na.setActiveKeysAndEnsureDependencies(bo.CASES,"case"),as={add:Ya,create:qa,delete:Xa,ensureIndexesWithFilterByActive:na.ensureIndexesWithFilterByActive(ho.cases.getSubstate,"cases",bo.CASES),refreshUses:rs,saveEdited:Za,setActiveKey:function(t){return function(e){e(is(t))}},setActiveKeys:function(t){return function(e){e(os(t))}},updateEdited:Ja,updateStateFromView:Qa,useIndexed:es,useIndexedClear:ns,useKeys:$a,useKeysClear:ts},ss=na.setInitial(bo.CHARTS),us={updateStateFromView:function(t){return function(e){t&&e(function(t){return{type:bo.CHARTS.UPDATE,data:t}}(t))}},use:function(t,e){return function(n,r){var i=ho.charts.getChartConfiguration(r(),t,e),o="chart-"+t;i&&(n(Uc.attributeRelations.useIndexedRegister(o,i.filterByActive,i.mergedFilter,null,1,1e3)),n(Uc.attributeRelations.ensureIndexedSpecific(i.mergedFilter,null,1,1e3,o)))}},useClear:function(t){return function(e){e(na.useIndexedClear(bo.ATTRIBUTE_RELATIONS)("chart_".concat(t)))}},setInitial:ss};function ls(t,e){return{type:bo.COMPONENTS.UPDATE,component:t,update:e}}var cs={update:function(t,e){return function(n){n(ls(t,e))}},updateStateFromView:function(t){return function(e){t&&y.a.forIn(t,(function(t,n){e(ls(n,t))}))}},set:function(t,e,n){return{type:bo.COMPONENTS.SET,component:t,path:e,value:n}}};function hs(t,e,n){return{type:bo.LAYER_PERIODS_AOI_LAYER_REQUEST_ERROR,aoiKey:t,layerKey:e,error:n}}function fs(t,e,n){return{type:bo.LAYER_PERIODS_PLACE_LAYER_REQUEST_ERROR,placeKey:t,layerKey:e,error:n}}function ps(t,e,n,r){return{type:bo.LAYER_PERIODS_KEY_LAYER_REQUEST_ERROR,key:t,geometry:e,layerKey:n,error:r}}var ds={loadForAoi:function(t){return function(e,n){var r=n(),i=y.a.find(ho.aoi.getAois(r),{key:t});y.a.each(r.wmsLayers.data,(function(t){t.getDates&&e(function t(e,n,r){return y.a.isUndefined(r)&&(r=3),function(i,o){var a,s,u=o(),l=ho.app.getLocalConfiguration(u,"apiBackendProtocol"),c=ho.app.getLocalConfiguration(u,"apiBackendHost"),h=ho.app.getLocalConfiguration(u,"apiBackendPath"),f=ho.app.getLocalConfiguration(u,"apiBackendAoiLayerPeriodsPath");y.a.isObject(e)||(e=y.a.find(ho.aoi.getAois(o()),{key:e})),y.a.isObject(n)||(n=y.a.find(o().wmsLayers.data,{key:n})),i((a=e.key,s=n.key,{type:bo.LAYER_PERIODS_AOI_LAYER_REQUEST,aoiKey:a,layerKey:s}));var p=l+"://"+Ee.a.join(c,h,f),d={data:{geometry:e.geometry,layerName:n.layerName}};return po()(p,{method:"POST",body:JSON.stringify(d),headers:{"content-type":"application/json"}}).then((function(o){console.log("#### LayerPeriods receive",o),o.ok?o.json().then((function(t){i(t?function(t,e,n){return{type:bo.LAYER_PERIODS_AOI_LAYER_RECEIVE,aoiKey:t,layerKey:e,periods:n}}(e.key,n.key,t.dates):hs(e.key,n.key,"no data returned"))})).catch((function(i){r-1&&t(e,n,r-1)})):i(hs(e.key,n.key,o))}))}}(i,t))}))}},loadForPlace:function(t){return function(e,n){var r=n(),i=y.a.find(ho.places.getPlaces(r),{key:t});i&&i.geometry&&y.a.each(r.wmsLayers.data,(function(t){t.getDates&&e(function t(e,n,r){return y.a.isUndefined(r)&&(r=3),function(i,o){var a,s,u=o(),l=ho.app.getLocalConfiguration(u,"apiBackendProtocol"),c=ho.app.getLocalConfiguration(u,"apiBackendHost"),h=ho.app.getLocalConfiguration(u,"apiBackendPath"),f=ho.app.getLocalConfiguration(u,"apiBackendAoiLayerPeriodsPath");y.a.isObject(e)||(e=y.a.find(ho.places.getPlaces(o()),{key:e})),y.a.isObject(n)||(n=y.a.find(o().wmsLayers.data,{key:n})),i((a=e.key,s=n.key,{type:bo.LAYER_PERIODS_PLACE_LAYER_REQUEST,placeKey:a,layerKey:s}));var p=l+"://"+Ee.a.join(c,h,f),d={data:{geometry:e.geometry,layerName:n.layerName}};return po()(p,{method:"POST",body:JSON.stringify(d),headers:{"content-type":"application/json"}}).then((function(o){console.log("#### LayerPeriods receive",o),o.ok?o.json().then((function(t){i(t?function(t,e,n){return{type:bo.LAYER_PERIODS_PLACE_LAYER_RECEIVE,placeKey:t,layerKey:e,periods:n}}(e.key,n.key,t.dates):fs(e.key,n.key,"no data returned"))})).catch((function(i){r-1&&t(e,n,r-1)})):i(fs(e.key,n.key,o))}))}}(i,t))}))}},loadForKey:function(t,e){return function(n,r){var i=r(),o=ho.wmsLayers.getLayersWithGetDate(i);y.a.each(o,(function(r){n(function t(e,n,r,i){return y.a.isUndefined(i)&&(i=3),function(o,a){var s=a(),u=ho.app.getCompleteLocalConfiguration(s);y.a.isObject(r)||(r=y.a.find(s.wmsLayers.data,{key:r})),o(function(t,e,n){return{type:bo.LAYER_PERIODS_KEY_LAYER_REQUEST,key:t,geometry:e,layerKey:n}}(e,n,r.key));var l=u.apiBackendProtocol+"://"+Ee.a.join(u.apiBackendHost,u.apiBackendPath,u.apiBackendAoiLayerPeriodsPath),c={data:{geometry:n,layerName:r.layerName}};return po()(l,{method:"POST",body:JSON.stringify(c),headers:{"content-type":"application/json"}}).then((function(a){console.log("#### LayerPeriods receive",a),a.ok?a.json().then((function(t){o(t?function(t,e,n,r){return{type:bo.LAYER_PERIODS_KEY_LAYER_RECEIVE,key:t,geometry:e,layerKey:n,periods:r}}(e,n,r.key,t.dates):ps(e,n,r.key,"no data returned"))})).catch((function(o){i-1&&t(e,n,r,i-1)})):o(ps(e,n,r.key,a))}))}}(t,e,r))}))}}},gs=na.add(bo.LAYER_TEMPLATES),ms=na.create(ho.layerTemplates.getSubstate,"layerTemplates",bo.LAYER_TEMPLATES),ys=na.delete(ho.layerTemplates.getSubstate,"layerTemplates",bo.LAYER_TEMPLATES),vs=na.saveEdited(ho.layerTemplates.getSubstate,"layerTemplates",bo.LAYER_TEMPLATES),bs=na.updateEdited(ho.layerTemplates.getSubstate,bo.LAYER_TEMPLATES),Es=na.useKeys(ho.layerTemplates.getSubstate,"layerTemplates",bo.LAYER_TEMPLATES),_s=na.useKeysClear(bo.LAYER_TEMPLATES),ws=na.useIndexed(ho.layerTemplates.getSubstate,"layerTemplates",bo.LAYER_TEMPLATES),Ss=na.useIndexedClear(bo.LAYER_TEMPLATES),xs={add:gs,clearIndex:na.clearIndex(bo.LAYER_TEMPLATES),create:ms,delete:ys,ensureIndexesWithFilterByActive:na.ensureIndexesWithFilterByActive(ho.layerTemplates.getSubstate,"layerTemplates",bo.LAYER_TEMPLATES),saveEdited:vs,setActiveKey:na.setActiveKeyAndEnsureDependencies(bo.LAYER_TEMPLATES,"layerTemplate"),updateEdited:bs,useIndexed:ws,useIndexedClear:Ss,useKeys:Es,useKeysClear:_s},Ts=na.create(ho.layersTrees.getSubstate,"layerTrees",bo.LAYERSTREES,"applications"),Os=na.delete(ho.layersTrees.getSubstate,"layerTrees",bo.LAYERSTREES,"applications"),Cs=na.saveEdited(ho.layersTrees.getSubstate,"layerTrees",bo.LAYERSTREES,"applications"),As=na.updateEdited(ho.layersTrees.getSubstate,bo.LAYERSTREES),Ls=na.useKeys(ho.layersTrees.getSubstate,"layerTrees",bo.LAYERSTREES,"applications"),Ps=na.useKeysClear(bo.LAYERSTREES),Rs=na.useIndexedClear(bo.LAYERSTREES),Ms=na.useIndexed(ho.layersTrees.getSubstate,"layerTrees",bo.LAYERSTREES,"applications"),ks={create:Ts,delete:Os,ensureData:function(t,e){return function(n){return n(Ms(null,t,null,1,100,e)).then()}},refreshUses:na.refreshUses(ho.layersTrees.getSubstate,"layerTrees",bo.LAYERSTREES,"applications"),saveEdited:Cs,updateEdited:As,updateStateFromView:na.updateSubstateFromView(bo.LAYERSTREES),useIndexed:Ms,useIndexedClear:Rs,useKeys:Ls,useKeysClear:Ps};function Is(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Is(Object(n),!0).forEach((function(e){Ds(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ds(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var js=na.actionGeneralError,Fs=na.setInitial(bo.MAPS),Vs=function(t){return function(e,n){var r=ho.maps.getMapSetByMapKey(n(),t);r&&e(Qs(r.key,t))}},Bs=function(t){return function(e,n){var r=n();if(!ho.maps.getMapSetByKey(r,t))return e(js("Can not set setKey ".concat(t," as active, because set with this key dont exists.")));var i=ho.maps.getActiveSetKey(r);return t!==i?e($s(t)):void 0}},Us=function(t,e,n,r){return function(i,o){var a=o(),s=_e.layerTree.getFlattenLayers(t[0][e]).filter((function(t){return t.visible})).map((function(t){return t.key}));n&&n.forEach((function(n){var o=ho.maps.getLayersStateByMapKey_deprecated(a,n,r);(o?s.filter((function(t){return!o.some((function(e){return e.layer&&e.layer.layerTemplate===t}))})):s).forEach((function(o){var a=_e.layerTree.getLayerZindex(t[0],o),s={layerTemplate:o};switch(e){case"backgroundLayers":return i(qs(n,s,a));case"layers":default:return i(zs(n,s,a,r))}}))}))}},Gs=function(t,e){return function(n,r){var i=r(),o=ho.maps.getMapSetByKey(i,t);return o?o.maps&&o.maps.includes(e)?n(js("Set ".concat(t," alredy contains map ").concat(e,"."))):(n(tu(t,e)),void(ho.maps.getMapSetActiveMapKey(i,t)||n(Vs(e)))):n(js("No set found for setKey ".concat(t,".")))}},Ws=function(t){return function(e,n){if(t&&!t.key)return e(js("Undefined mapKey for map ".concat(t)));var r=n(),i=ho.maps.getMapByKey(r,t.key);return e(i?js("Map with given mapKey (".concat(t.key,") already exists ").concat(i)):nu(t))}},Ks=function(t){return function(e,n){var r=n();return e(ho.maps.getMapByKey(r,t)?ru(t):js("No map found for mapKey ".concat(t,".")))}},zs=function(t,e,n,r){return function(i,o){var a=o();if(e.key||(e.key=_e.utils.uuid()),!ho.maps.getMapByKey(a,t))return i(js("No map found for mapKey ".concat(t,".")));i(ou(t,e,n)),i(Uc.maps.deprecated_use(t,r))}},Hs=function(t,e){return function(n,r){if(e){var i=r();return n(ho.maps.getMapByKey(i,t)?ho.maps.getMapLayerByMapKeyAndLayerKey(i,t,e)?au(t,e):js("No layer (".concat(e,") found in mapKey ").concat(t,".")):js("No map found for mapKey ".concat(t,".")))}return n(js("Undefined layer key."))}},Ys=function(t,e){return function(n,r){var i=ho.maps.getMapSetByMapKey(r(),t),o=null,a=null;i&&i.sync?(o=y.a.pickBy(e,(function(t,e){return i.sync[e]})),a=y.a.omitBy(e,(function(t,e){return i.sync[e]}))):a=e,o&&(o=_e.map.ensureViewIntegrity(o),n(eu(i.key,o))),a&&(a=_e.map.ensureViewIntegrity(a),n(iu(t,a)))}},qs=function(t,e){return function(n,r){var i=r();if(e&&!e.key&&(e.key=_e.utils.uuid()),!ho.maps.getMapByKey(i,t))return n(js("No map found for mapKey ".concat(t,".")));n(uu(t,e)),n(Uc.maps.deprecated_use(t))}};function Xs(t){return function(e){e(na.useIndexedClear(bo.SPATIAL_RELATIONS)("map_".concat(t))),e(na.useKeysClear(bo.SPATIAL_DATA_SOURCES)("map_".concat(t))),e(na.useKeysClear(bo.LAYER_TEMPLATES)("map_".concat(t))),e(na.useKeysClear(bo.AREAS.AREA_TREE_LEVELS)("map_".concat(t))),e(na.useKeysClear(bo.STYLES)("map_".concat(t)))}}var Zs=function(t){return t.heading&&t.heading>360&&(t.heading=t.heading-360),t.heading&&t.heading<-360&&(t.heading=t.heading+360),t.tilt&&t.tilt<0&&(t.tilt=0),t.tilt&&t.tilt>90&&(t.tilt=90),t},Js=function(t,e){return function(n,r){var i=ho.maps.getMapSetByMapKey(r(),t),o={},a={};i&&i.sync?(o=y.a.pickBy(e,(function(t,e){return"lookAtLocation"===e?i.sync.location:i.sync[e]})),a=y.a.omitBy(e,(function(t,e){return"lookAtLocation"===e?i.sync.location:i.sync[e]}))):a=e,o&&!y.a.isEmpty(o)&&(o=Zs(o),n(lu(i.key,o))),a&&!y.a.isEmpty(a)&&(a=Zs(a),n(cu(t,a)))}},Qs=function(t,e){return{type:bo.MAPS.SET.SET_ACTIVE_MAP_KEY,mapKey:e,setKey:t}},$s=function(t){return{type:bo.MAPS.SET_ACTIVE_SET_KEY,setKey:t}},tu=function(t,e){return{type:bo.MAPS.SET.ADD_MAP,setKey:t,mapKey:e}},eu=function(t,e){return{type:bo.MAPS.SET.VIEW.UPDATE,setKey:t,update:e}},nu=function(t){return{type:bo.MAPS.MAP.ADD,map:t}},ru=function(t){return{type:bo.MAPS.MAP.REMOVE,mapKey:t}},iu=function(t,e){return{type:bo.MAPS.MAP.VIEW.UPDATE,mapKey:t,update:e}},ou=function(t,e,n){return{type:bo.MAPS.LAYERS.LAYER.ADD,mapKey:t,layer:e,index:n}},au=function(t,e){return{type:bo.MAPS.LAYERS.LAYER.REMOVE,mapKey:t,layerKey:e}},su=function(t,e,n){return{type:bo.MAPS.MAP.LAYERS.SET.HOVERED_FEATURE_KEYS,mapKey:t,layerKey:e,hoveredFeatureKeys:n}},uu=function(t,e){return{type:bo.MAPS.SET_BACKGROUND_LAYER,mapKey:t,backgroundLayer:e}},lu=function(t,e){return{type:bo.MAPS.SET.WORLD_WIND_NAVIGATOR.UPDATE,setKey:t,worldWindNavigator:e}},cu=function(t,e){return{type:bo.MAPS.MAP.WORLD_WIND_NAVIGATOR.UPDATE,mapKey:t,worldWindNavigator:e}},hu={addLayer:zs,addLayers:function(t,e){return function(n,r){var i=r();return ho.maps.getMapByKey(i,t)?e.map((function(e){return n(zs(t,e))})):n(js("No map found for mapKey ".concat(t,".")))}},addLayersToMaps:function(t,e,n){return function(r,i){var o=i(),a=ho.layersTrees.getByFilterOrder(o,t,null);if(a){var s=a[a.length-1];if(s&&s.data&&s.data.structure&&s.data.structure.length>0){var u=s.data.structure;r(Us(u,"layers",e,n)),r(Us(u,"backgroundLayers",e,n))}}}},addMap:Ws,addMapForPeriod:function(t,e){return function(n,r){var i=r(),o=ho.maps.getMapByMetadata_deprecated(i,{period:t});if(!o){var a=_e.utils.uuid();n(Ws(o={key:a,data:{metadataModifiers:{period:t}}}))}n(Gs(e,o.key)),n(function(t){return function(e,n){var r=n(),i=ho.maps.getMapSetMapKeys(r,t),o=ho.maps.getMapsAsObject(r),a=ho.periods.getAllAsObject(r);if(i&&o&&a){var s=i.map((function(t){var e=y.a.cloneDeep(o[t]),n=e&&e.data&&e.data.metadataModifiers&&e.data.metadataModifiers.period;return n&&a[n]&&(e.data.metadataModifiers.period=a[n].data.period||a[n].data.nameDisplay),e}));if(s&&s.length){var u=y.a.orderBy(s,["data.metadataModifiers.period"],["asc"]).map((function(t){return t.key}));e(function(t,e){return{type:bo.MAPS.SET.SET_MAPS,setKey:t,maps:e}}(t,u))}}}}(e))}},addMapToSet:Gs,addSet:function(t){return function(e,n){var r=n(),i=t.key;if(!i)return e(js("Undefined setKey for set ".concat(t)));var o=ho.maps.getMapSetByKey(r,i);if(o)return e(js("Set with given setKey (".concat(i,") already exists ").concat(o)));e(function(t){return{type:bo.MAPS.SET.ADD,set:t}}(t)),ho.maps.getActiveSetKey(r)||e($s(i))}},goToPlace:function(t){return function(e,n){t&&t.length&&_e.map.getLocationFromPlaceString(t).then((function(t){if(t){var r=ho.maps.getActiveMapKey(n());e(Ys(r,t));var i={range:t.boxRange,lookAtLocation:{latitude:t.center.lat,longitude:t.center.lon}};e(Js(r,i))}}))}},removeLayer:Hs,removeLayers:function(t,e){return function(n,r){var i=r();return ho.maps.getMapByKey(i,t)?e.map((function(e){return n(Hs(t,e))})):n(js("No map found for mapKey ".concat(t,".")))}},removeMap:Ks,removeMapForPeriod:function(t,e){return function(e,n){var r=n(),i=ho.maps.getMapByMetadata_deprecated(r,{period:t});e(i?Ks(i.key):js("No map found for period ".concat(t,".")))}},removeMapKeyFromSet:function(t,e){return function(n,r){var i=r(),o=ho.maps.getMapSetByKey(i,t);return o?o.maps&&o.maps.includes(e)?n(function(t,e){return{type:bo.MAPS.SET.REMOVE_MAP,setKey:t,mapKey:e}}(t,e)):n(js("Set ".concat(t," do not contains map ").concat(e,"."))):n(js("No set found for setKey ".concat(t,".")))}},removeSet:function(t){return function(e,n){var r=n();return e(ho.maps.getMapSetByKey(r,t)?function(t){return{type:bo.MAPS.SET.REMOVE,setKey:t}}(t):js("No set found for setKey ".concat(t,".")))}},resetViewHeading:function(t){return function(e,n){var r=ho.maps.getView(n(),t);_e.map.resetHeading(r.heading,(function(n){return e(Ys(t,{heading:n}))}))}},setActiveMapKey:function(t){return function(e,n){var r=n();if(!ho.maps.getMapByKey(r,t))return e(js("Can not set mapKey ".concat(t," as active, because map with this key dont exists.")));var i=ho.maps.getActiveMapKey(r);if(t!==i){e(function(t){return{type:bo.MAPS.SET_ACTIVE_MAP_KEY,mapKey:t}}(t));var o=ho.maps.getMapSetByMapKey(r,t);o&&e(Bs(o.key))}}},setActiveSetKey:Bs,setLayerHoveredFeatureKeys:function(t,e,n){return function(r,i){var o=i(),a=ho.maps.getMapLayerByMapKeyAndLayerKey(o,t,e);if(a){var s=a&&a.options&&a.options.hovered&&a.options.hovered.keys;s?JSON.stringify(y.a.sortBy(s))!==JSON.stringify(y.a.sortBy(n))&&r(su(t,e,n)):r(su(t,e,n))}else ho.maps.getMapSetByMapKey(o,t)}},setLayerSelectedFeatureKeys:function(t,e,n){return function(r,i){var o=i(),a=ho.maps.getMapLayerByMapKeyAndLayerKey(o,t,e),s=ho.selections.getActiveKey(o),u=s||_e.utils.uuid();if(s)r(Uc.selections.setActiveSelectionFeatureKeysFilterKeys(n));else{var l={key:u,data:{colour:"#00ffff",featureKeysFilter:{keys:n}}};r(Uc.selections.add([l])),r(Uc.selections.setActiveKey(u))}a?(r(function(t,e){return{type:bo.MAPS.MAP.LAYERS.CLEAR.SELECTION,mapKey:t,selectionKey:e}}(t,u)),r(function(t,e,n){return{type:bo.MAPS.MAP.LAYERS.SET.SELECTION,mapKey:t,layerKey:e,selectionKey:n}}(t,e,u))):ho.maps.getMapSetByMapKey(o,t)}},setLayerIndex:function(t,e,n){return function(r,i){var o=i();if(!ho.maps.getMapByKey(o,t))return r(js("No map found for mapKey ".concat(t,".")));r(function(t,e,n){return{type:bo.MAPS.LAYERS.LAYER.SET_INDEX,mapKey:t,layerKey:e,index:n}}(t,e,n))}},setMapBackgroundLayer:qs,setMapCase:function(t,e){return function(n,r){var i=r();if(!ho.maps.getMapByKey(i,t))return n(js("No map found for mapKey ".concat(t,".")));n(function(t,e){return{type:bo.MAPS.SET_CASE,mapKey:t,case:e}}(t,e))}},setMapData:function(t,e){return function(n,r){var i=r();return n(ho.maps.getMapByKey(i,t)?function(t,e){return{type:bo.MAPS.MAP.SET_DATA,mapKey:t,data:e}}(t,e):js("No map found for mapKey ".concat(t,".")))}},setMapLayer:function(t,e,n){return function(r,i){var o=i();return ho.maps.getMapByKey(o,t)?ho.maps.getMapLayerByMapKeyAndLayerKey(o,t,e)?void r(function(t,e,n){return{type:bo.MAPS.LAYERS.LAYER.SET,mapKey:t,layerKey:e,layer:n}}(t,e,n)):r(js("No layer (".concat(e,") found in mapKey ").concat(t,"."))):r(js("No map found for mapKey ".concat(t,".")))}},setMapLayers:function(t,e){return function(n,r){var i=r();if(!ho.maps.getMapByKey(i,t))return n(js("No map found for mapKey ".concat(t,".")));n(function(t,e){return{type:bo.MAPS.LAYERS.SET,mapKey:t,layers:e}}(t,e)),n(Uc.maps.use(t))}},setMapName:function(t,e){return function(n,r){var i=r();return n(ho.maps.getMapByKey(i,t)?function(t,e){return{type:bo.MAPS.MAP.SET_NAME,mapKey:t,name:e}}(t,e):js("No map found for mapKey ".concat(t,".")))}},setMapPeriod:function(t,e){return function(n,r){var i=r();if(!ho.maps.getMapByKey(i,t))return n(js("No map found for mapKey ".concat(t,".")));n(function(t,e){return{type:bo.MAPS.SET_PERIOD,mapKey:t,period:e}}(t,e))}},setMapPlace:function(t,e){return function(n,r){var i=r();if(!ho.maps.getMapByKey(i,t))return n(js("No map found for mapKey ".concat(t,".")));n(function(t,e){return{type:bo.MAPS.SET_PLACE,mapKey:t,place:e}}(t,e))}},setMapScenario:function(t,e){return function(n,r){var i=r();if(!ho.maps.getMapByKey(i,t))return n(js("No map found for mapKey ".concat(t,".")));n(function(t,e){return{type:bo.MAPS.SET_SCENARIO,mapKey:t,scenario:e}}(t,e))}},setMapScope:function(t,e){return function(n,r){var i=r();if(!ho.maps.getMapByKey(i,t))return n(js("No map found for mapKey ".concat(t,".")));n(function(t,e){return{type:bo.MAPS.SET_SCOPE,mapKey:t,scope:e}}(t,e))}},setMapView:function(t,e){return function(n,r){var i=r();return n(ho.maps.getMapByKey(i,t)?function(t,e){return{type:bo.MAPS.MAP.VIEW.SET,mapKey:t,view:e}}(t,e):js("No map found for mapKey ".concat(t,".")))}},setMapSetActiveMapKey:Vs,setSetBackgroundLayer:function(t,e){return function(n,r){var i=r();if(!ho.maps.getMapSetByKey(i,t))return n(js("No map set found for setKey ".concat(t,".")));n(function(t,e){return{type:bo.MAPS.SET.SET_BACKGROUND_LAYER,setKey:t,backgroundLayer:e}}(t,e))}},setSetSync:function(t,e){return function(n,r){var i=r();return n(ho.maps.getMapSetByKey(i,t)?function(t,e){return{type:bo.MAPS.SET.SET_SYNC,setKey:t,sync:e}}(t,e):js("No set found for setKey ".concat(t,".")))}},setSetView:function(t,e){return function(n,r){var i=r();return n(ho.maps.getMapSetByKey(i,t)?function(t,e){return{type:bo.MAPS.SET.VIEW.SET,setKey:t,view:e}}(t,e):js("No set found for setKey ".concat(t,".")))}},setInitial:Fs,updateMapLayer:function(t,e,n){return function(r,i){var o=i();return ho.maps.getMapByKey(o,t)?ho.maps.getMapLayerByMapKeyAndLayerKey(o,t,e)?void r(function(t,e,n){return{type:bo.MAPS.LAYERS.LAYER.UPDATE,mapKey:t,layerKey:e,layer:n}}(t,e,n)):r(js("No layer (".concat(e,") found in mapKey ").concat(t,"."))):r(js("No map found for mapKey ".concat(t,".")))}},updateStateFromView:function(t){return function(e){t&&e(function(t){return{type:bo.MAPS.UPDATE,data:t}}(t))}},updateMapAndSetView:Ys,updateSetView:function(t,e){return function(n,r){var i=ho.maps.getMapSetActiveMapKey(r(),t);n(Ys(i,e))}},use:function(t,e,n){return function(r,i){r(Xs(t));var o=i();e||n?e&&(e=Ns({},e,{key:"pantherBackgroundLayer"}),n=[e].concat(function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(n=n||[]))):n=ho.maps.getAllLayersStateByMapKey(o,t);var a=V.getAllActiveKeys(o);if(n){var s="map_".concat(t);n.forEach((function(t){var e=Ns({},t.metadataModifiers);t.layerTemplateKey?(e.layerTemplateKey=t.layerTemplateKey,r(Uc.layerTemplates.useKeys([t.layerTemplateKey],s))):t.areaTreeLevelKey&&(e.areaTreeLevelKey=t.areaTreeLevelKey,r(Uc.areas.areaTreeLevels.useKeys([t.areaTreeLevelKey],s)));var n,o,u=t.filterByActive||null,l=_.mergeFilters(a,u,e);if((t.layerTemplateKey||t.areaTreeLevelKey||l.layerTemplateKey)&&(t.layerTemplateKey||l.layerTemplateKey?(n=Uc.spatialRelations,o=ho.spatialRelations):t.areaTreeLevelKey&&(n=Uc.areaRelations,o=ho.areaRelations),r(n.useIndexedRegister(s,u,e,null,1,1e3)),r(n.ensureIndexed(l,null,1,1e3)).then((function(){var t=o.getFilteredData(i(),l);if(t&&t.length){var e=t.map((function(t){return{spatialDataSourceKey:t.spatialDataSourceKey,fidColumnName:t.fidColumnName}})),n=y.a.uniq(e.map((function(t){return t.spatialDataSourceKey})));r(Uc.spatialDataSources.useKeys(n,s)).then((function(){var t=ho.spatialDataSources.getByKeys(i(),n);t&&t.forEach((function(t){if(t&&t.data&&"vector"===t.data.type){var n=y.a.find(e,{spatialDataSourceKey:t.key});r(Uc.spatialData.useIndexed(null,n,null,1,1,s))}}))}))}}))),t.attributeKeys){r(Uc.attributes.useKeys(t.attributeKeys,s));var c=Ns({},t.attributeMetadataModifiers,{attributeKey:{in:t.attributeKeys}});t.layerTemplateKey?c.layerTemplateKey=t.layerTemplateKey:t.areaTreeLevelKey&&(c.areaTreeLevelKey=t.areaTreeLevelKey);var h=t.attributeFilterByActive||null,f=_.mergeFilters(a,h,c);r(Uc.attributeRelations.useIndexedRegister(s,h,c,null,1,2e3)),r(Uc.attributeRelations.ensureIndexed(f,null,1,2e3)).then((function(){var t=ho.attributeRelations.getIndexed(i(),h,c,null,1,2e3);if(t&&t.length){var e=t.map((function(t){return{attributeDataSourceKey:t.data&&t.data.attributeDataSourceKey,fidColumnName:t.data&&t.data.fidColumnName}})).map((function(t){return t.attributeDataSourceKey}));r(Uc.attributeDataSources.useKeys(e,s)).then((function(){var n=ho.attributeDataSources.getByKeys(i(),e);if(n){var o=[];n.forEach((function(t){o.push(t.key)}));var a={attributeDataSourceKey:{in:o},fidColumnName:t[0].data.fidColumnName};r(Uc.attributeData.useIndexed(null,a,null,1,1,s))}}))}}))}t.styleKey&&r(Uc.styles.useKeys([t.styleKey],s))}))}}},useClear:Xs,deprecated_resetWorldWindNavigatorHeading:function t(e,n){return function(r,i){var o=ho.maps.getNavigator_deprecated(i(),e),a=1;Math.abs(o.heading)>60?a=2:Math.abs(o.heading)>120&&(a=3),(o.heading>0&&o.heading<180||o.heading<0&&o.heading<-180)&&(a=-a),a=n||a,setTimeout((function(){var n;Math.abs(o.heading)>Math.abs(a)?(n=o.heading+a,r(Js(e,{heading:n})),r(t(e,a))):r(Js(e,{heading:n=0}))}),20)}},deprecated_setMapWorldWindNavigator:function(t,e){return function(n,r){var i=r();return n(ho.maps.getMapByKey(i,t)?function(t,e){return{type:bo.MAPS.MAP.WORLD_WIND_NAVIGATOR.SET,mapKey:t,worldWindNavigator:e}}(t,e):js("No map found for mapKey ".concat(t,".")))}},deprecated_setSetWorldWindNavigator:function(t,e){return function(n,r){var i=r();return n(ho.maps.getMapSetByKey(i,t)?function(t,e){return{type:bo.MAPS.SET.WORLD_WIND_NAVIGATOR.SET,setKey:t,worldWindNavigator:e}}(t,e):js("No set found for setKey ".concat(t,".")))}},deprecated_updateWorldWindNavigator:Js,deprecated_use:function(t,e){return function(n,r){var i=r(),o=ho.maps.getLayersStateByMapKey_deprecated(i,t,e),a=ho.maps.getBackgroundLayerStateByMapKey_deprecated(i,t),s=[];if(a&&s.push(a),o&&(s=s.concat(o)),s.length){var u="map_".concat(t);s.forEach((function(t){var e=y.a.cloneDeep(t.mergedFilter),i=y.a.cloneDeep(t.filterByActive);e.periodKey&&delete e.periodKey,e.attributeKey&&delete e.attributeKey,i.attribute&&delete i.attribute,n(Uc.spatialRelations.useIndexedRegister(u,i,e,null,1,1e3)),n(Uc.spatialRelations.ensureIndexed(e,null,1,1e3)).then((function(){var i=ho.spatialRelations.getDataSourceKeysFiltered(r(),e);i&&i.length&&n(Uc.spatialDataSources.useKeys([i[0]],u)).then((function(){var o=ho.spatialDataSources.getByKeys(r(),i);if(o&&o[0]&&"vector"===o[0].data.type){var a=ho.spatialRelations.getFilteredData(r(),e),s={spatialDataSourceKey:o[0].key,fidColumnName:a[0].fidColumnName};ho.spatialDataSources.vector.getBatchByFilterOrder(r(),s,null)||n(Uc.spatialDataSources.vector.loadLayerData(s,u));var l=y.a.cloneDeep(t.mergedFilter);n(Uc.attributeRelations.useIndexedRegister(u,t.filterByActive,l,null,1,1e3)),n(Uc.attributeRelations.ensureIndexedSpecific(l,null,1,1e3,u))}}))})).catch((function(t){n(na.actionGeneralError(t))}))}))}}},deprecated_useClear:function(t){return function(e){e(na.useIndexedClear(bo.SPATIAL_RELATIONS)("map_".concat(t)))}}},fu=na.add(bo.PERIODS),pu=na.create(ho.periods.getSubstate,"periods",bo.PERIODS),du=na.delete(ho.periods.getSubstate,"periods",bo.PERIODS),gu=na.saveEdited(ho.periods.getSubstate,"periods",bo.PERIODS),mu=na.updateEdited(ho.periods.getSubstate,bo.PERIODS),yu=na.updateSubstateFromView(bo.PERIODS),vu=na.useKeys(ho.periods.getSubstate,"periods",bo.PERIODS),bu=na.useKeysClear(bo.PERIODS),Eu=na.useIndexed(ho.periods.getSubstate,"periods",bo.PERIODS),_u=na.useIndexedClear(bo.PERIODS),wu=na.refreshUses(ho.periods.getSubstate,"periods",bo.PERIODS),Su=na.setActiveKeyAndEnsureDependencies(bo.PERIODS,"period"),xu=na.setActiveKeysAndEnsureDependencies(bo.PERIODS,"period"),Tu={add:fu,create:pu,delete:du,ensureIndexesWithFilterByActive:na.ensureIndexesWithFilterByActive(ho.periods.getSubstate,"periods",bo.PERIODS),refreshUses:wu,saveEdited:gu,setActiveKey:function(t){return function(e){e(Su(t))}},setActiveKeys:function(t){return function(e){e(xu(t))}},updateEdited:mu,updateStateFromView:yu,useIndexed:Eu,useIndexedClear:_u,useKeys:vu,useKeysClear:bu},Ou=na.add(bo.PLACES),Cu=na.create(ho.places.getSubstate,"places",bo.PLACES),Au=na.delete(ho.places.getSubstate,"places",bo.PLACES),Lu=na.saveEdited(ho.places.getSubstate,"places",bo.PLACES),Pu=na.setActiveKey(bo.PLACES),Ru=na.setActiveKeys(bo.PLACES),Mu=na.updateEdited(ho.places.getSubstate,bo.PLACES),ku=na.useIndexed(ho.places.getSubstate,"places",bo.PLACES),Iu=na.useIndexedClear(bo.PLACES),Nu=na.useKeys(ho.places.getSubstate,"places",bo.PLACES),Du=na.useKeysClear(bo.PLACES),ju=na.refreshUses(ho.places.getSubstate,"places",bo.PLACES),Fu={add:Ou,create:Cu,delete:Au,ensureIndexesWithFilterByActive:na.ensureIndexesWithFilterByActive(ho.places.getSubstate,"places",bo.PLACES),refreshUses:ju,saveEdited:Lu,setActiveKey:Pu,setActiveKeys:Ru,updateEdited:Mu,useIndexed:ku,useIndexedClear:Iu,useKeys:Nu,useKeysClear:Du};function Vu(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bu(Object(n),!0).forEach((function(e){Gu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ku={};function zu(){return function(t,e){var n=ho.scenarios.cases.getActiveCaseScenarioKeys(e()),r=ho.scenarios.cases.getActiveCaseEditedScenarioKeys(e()),i=[];n&&(i=[].concat(Wu(i),Wu(n))),r&&(i=[].concat(Wu(i),Wu(r))),t(function(t){return{type:bo.SCENARIOS_EDITED_REMOVE,keys:t}}(i))}}function Hu(t,e){return function(n,r){var i,o,a=r(),s=ho.scenarios.cases.getActiveKey(a),u=ho.scenarios.cases.getActive(a),l=!1;if(u&&u.data){if(("geometry"===t||"scenarios"===t)&&u.data[t]){var c=y.a.cloneDeep(u.data[t]);l=JSON.stringify(e)===JSON.stringify(c)}l||e===u.data[t]||!u.data[t]&&0===e.length?n((i=s,o=t,{type:bo.SCENARIOS_CASES_EDITED_REMOVE_PROPERTY,caseKey:i,property:o})):n(hl([{key:s,data:Gu({},t,e)}]))}else n(hl([{key:s,data:Gu({},t,e)}]))}}function Yu(t){return function(e,n){var r=ho.scenarios.cases.getActiveKey(n());if(e(sl(t)),t){var i=ho.scenarios.cases.getActiveCaseScenarioKeys(n());t!==r&&e(al(i))}else e(al(null))}}function qu(t){return function(e,n){var r=ho.scenarios.scenarios.getActiveKeys(n());e(al(y.a.without(r,t)))}}function Xu(t){return function(e,n){var r=n(),i=ho.app.getCompleteLocalConfiguration(r);if(r.scenarios.loading);else{e(function(t){return{type:bo.SCENARIOS_REQUEST,caseKey:t}}(t));var o={scenario_case_id:t};e(na.request(i,"backend/rest/metadata/scenarios","GET",o,null,Zu,ll))}}}function Zu(t){return t=t.scenarios?t.scenarios:t,function(e){t?(e(function(t){return{type:bo.SCENARIOS_RECEIVE,data:t}}(t=y.a.map(t,(function(t){var e=t.id;return Uu({},Vu(t,["id"]),{key:e})})))),e((function(t,e){var n=ho.scenarios.cases.getActive(e());n&&(t(function(t){return function(e){e(function(t){return{type:bo.SCENARIOS_CASES_UPDATE,data:t}}(t))}}([Uu({},n,{data:Uu({},n.data,{scenariosLoaded:!0})})])),t(Uc.maps.updateWithScenarios()))}))):console.error("Scenarios actions#loadReceive: No scenarios loaded")}}function Ju(t){return function(e){var n;e((n=t=y.a.map(t,(function(t){var e=t.id,n=t.data,r=Vu(t,["id","data"]),i=n.scenario_ids,o=Vu(n,["scenario_ids"]);return Uu({},r,{key:e,data:Uu({},o,{geometry:JSON.parse(o.geometry),scenarios:i})})})),{type:bo.SCENARIOS_CASES_RECEIVE,data:n}))}}function Qu(t,e,n){return y.a.isUndefined(n)&&(n=5),function(r,i){var o;r((o=y.a.map(t,"key"),{type:bo.SCENARIOS_CASES_API_UPDATE_REQUEST,keys:o}));var a=i(),s=ho.app.getCompleteLocalConfiguration(a),u=s.apiBackendProtocol+"://"+Ee.a.join(s.apiBackendHost,s.apiBackendPath,"backend/rest/metadata"),l={data:{scenario_cases:y.a.map(t,(function(t){var e=Uu({},t.data,{scenario_ids:t.data.scenarios});return delete e.scenarios,e.scenariosLoaded&&delete e.scenariosLoaded,{id:t.key,data:e}})),scenarios:y.a.map(e,(function(t){var e={data:Uu({},t.data)};return"number"==typeof t.key?e.id=t.key:e.uuid=t.key,delete e.data.file,e}))}};return po()(u,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)}).then((function(t){var n=t.headers.get("Content-type");if(t.ok&&n&&-1!==n.indexOf("application/json"))return t.json().then((function(t){if(t.data){r(function(t){return function(e){var n=t.scenario_cases,r=t.scenarios;r.length&&(e(zu()),e(Zu(r))),e(Ju(n)),e(pl())}}(t.data));var n=[],o=[];y.a.each(t.data.scenarios,(function(t){var r=y.a.find(e,{key:t.uuid||t.id});if(r&&r.data.file)n.push({key:t.id,data:r.data});else if(r&&r.dataSourceCloneKey){var a=ho.spatialDataSources.getDataSource(i(),r.dataSourceCloneKey);o.push({key:t.id,layerName:a.data.layer_name,data:r.data})}})),n.length&&r(tl(n)),o.length&&r((s=y.a.map(o,(function(t){return{scenario_id:t.key,scope_id:ho.scopes.getActiveScopeKey(a),place_id:ho.places.getActiveKey(a),localLayer:t.layerName}})),function(t,e){var n=ho.app.getCompleteLocalConfiguration(e());(s=y.a.isArray(s)?s:[s]).forEach((function(e){e.scenario_id&&t(nl(e.scenario_id))})),function(t){return Promise.resolve().then((function(){return{data:y.a.map(t,(function(t){return{uuid:_e.utils.uuid(),data:t}}))}}))}(s).then((function(e){!function r(){(function(t,e){return po()(e.apiBackendProtocol+"://"+Ee.a.join(e.apiBackendHost,e.apiBackendPath,"backend/rest/pucs/publish"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(t){if(200===t.status)return t.json();throw new Error("wrong status")}))})(e,n).then((function(e){return function(t,e){return Promise.resolve().then((function(){var n=!1;if(t.data.forEach((function(t){"running"===t.status&&(n=!0)})),n)return n;var r=[];t.data.forEach((function(t){"done"===t.status&&t.spatial_relations&&(y.a.each(t.spatial_relations,(function(t){r.push(t.data.data_source_id)})),e(Uc.spatialRelations.loadRelationsReceive(t.spatial_relations)),e(il(t.data.scenario_id)))})),e(Uc.spatialDataSources.loadFiltered({id:r}))}))}(e,t)})).then((function(t){t&&setTimeout((function(){r()}),2e3)})).catch((function(t){console.log("apiExecuteMultipleMatlabProcessAndPublisResults#error",t)}))}()}))}))}else r(gl("no data returned"));var s}));r(gl(t))}),(function(i){console.log("#### update scenario case error",i),r(n-1?Qu(t,e,n-1):gl("scenarios#actions load cases: cases weren't loaded!"))}))}}function $u(t){return function(e){var n;e((n=t,{type:bo.SCENARIOS_CASES_API_DELETE_REQUEST,error:n}))}}function tl(t){return function(e,n){var r=ho.app.getCompleteLocalConfiguration(n()),i=r.apiBackendProtocol+"://"+Ee.a.join(r.apiBackendHost,r.apiBackendPath,"backend/rest/importer/upload"),o=[],a=[];if(t.forEach((function(t){if(t&&t.data&&t.data.file){e(nl(t.key)),a.push(t.key);var n=new FormData;n.append("file",t.data.file),o.push(po()(i,{method:"POST",credentials:"include",body:n}).then((function(t){return t.json()}),(function(n){e(ol(t.key,n))})).then((function(e){return{scenarioKey:t.key,uploadKey:e.data.uploadKey}})).catch((function(n){e(ol(t.key,n))})))}})),o.length)return Promise.all(o).then((function(t){var n;e((n=t,function(t,e){var r=ho.app.getCompleteLocalConfiguration(e()),i=r.apiBackendProtocol+"://"+Ee.a.join(r.apiBackendHost,r.apiBackendPath,"backend/rest/pucs/execute_matlab"),o=e(),a=[];n.forEach((function(e){a.push(e.scenarioKey);var n=_e.utils.uuid(),r=function(){po()(i,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({data:{uploadKey:e.uploadKey,placeId:ho.places.getActiveKey(o),scopeId:ho.scopes.getActiveScopeKey(o)}})}).then((function(r){return r.json().then((function(i){var o;!r.ok||i.hasOwnProperty("success")&&!i.success?(el(n),t(rl(a,r.statusText))):i.result&&(el(n),t((o=[{scenarioKey:e.scenarioKey,processResults:JSON.parse(i.result)}],function(t,e){var n,r,i,a=ho.app.getCompleteLocalConfiguration(e()),s=a.apiBackendProtocol+"://"+Ee.a.join(a.apiBackendHost,a.apiBackendPath,"backend/rest/relations"),u=ho.places.getActive(e()),l=u?u.key:null,c=ho.scopes.getActiveScopeConfiguration(e());if(c.pucsLandUseScenarios&&c.pucsLandUseScenarios.templates){var h=c.pucsLandUseScenarios.templates;n=h.sourceVector,r=h.hwd,i=h.uhi}else console.error("Scenarios actions#apiCreateRelationsForScenarioProcessResults: pucsLandUseScenarios configuration is missing!");var f=[],p=[];if(o.forEach((function(t){if(l&&t.scenarioKey){p.push(t.scenarioKey);var e=t.processResults[0].inputVectors,o=t.processResults[0].outputRasters,a=e[0],s=y.a.find(o,{indicator:"hwd"}),u=y.a.find(o,{indicator:"uhi"});a&&s&&u&&(f.push({data:{place_id:Number(l),scenario_id:Number(t.scenarioKey),layer_template_id:n,data_source_id:a.spatialDataSourceId}}),f.push({data:{place_id:Number(l),scenario_id:Number(t.scenarioKey),layer_template_id:r,data_source_id:s.spatialDataSourceId}}),f.push({data:{place_id:Number(l),scenario_id:Number(t.scenarioKey),layer_template_id:i,data_source_id:u.spatialDataSourceId}}))}})),f.length)return po()(s,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({data:{spatial:f}})}).then((function(t){return t.json()})).then((function(e){if(e.data.spatial){var n=y.a.compact(y.a.map(e.data.spatial,(function(t){return t.data.data_source_id})));t(Uc.spatialRelations.loadRelationsReceive(e.data.spatial)),t(Uc.spatialDataSources.loadFiltered({id:n})),t(function(t){return function(e,n){t.forEach((function(t){e(il(t))}))}}(p))}else t(rl(p,"Relations were not loaded"))})).catch((function(e){t(rl(p,e))}))})))})).catch((function(e){el(n),t(rl(a,e))}))})).catch((function(e){el(n),t(rl(a,e))}))};r(),Ku[n]=setInterval((function(){r()}),5e3)}))}))})).catch((function(t){e(rl(a,t))}))}}function el(t){Ku.hasOwnProperty(t)&&clearInterval(Ku[t])}function nl(t){return function(e,n){var r,i=ho.scenarios.scenarios.getByKey(n(),t);i&&e((r=[Uu({},i,{fileProcessing:{started:!0}})],{type:bo.SCENARIOS_API_PROCESSING_FILE_STARTED,data:r}))}}function rl(t,e){return function(n,r){t.forEach((function(t){n(ol(t,e))}))}}function il(t){return function(e,n){var r,i=ho.scenarios.scenarios.getByKey(n(),t);i&&e((r=[Uu({},i,{fileProcessing:{started:!0,finished:!0}})],{type:bo.SCENARIOS_API_PROCESSING_FILE_SUCCESS,data:r}))}}function ol(t,e){return function(n,r){var i,o=ho.scenarios.scenarios.getByKey(r(),t);o&&(n((i=[Uu({},o,{fileProcessing:{started:!0,finished:!0,error:!0,message:e}})],{type:bo.SCENARIOS_API_PROCESSING_FILE_ERROR,data:i})),console.error("Scenarios/actions#apiProcessingScenarioFileError",e))}}function al(t){return{type:bo.SCENARIOS_SET_ACTIVE_MULTI,keys:t}}function sl(t){return{type:bo.SCENARIOS_CASES_SET_ACTIVE,key:t}}function ul(t){return{type:bo.SCENARIOS_SET_DEFAULT_SITUATION_ACTIVE,active:t}}function ll(t){return{type:bo.SCENARIOS_REQUEST_ERROR,error:t}}function cl(t){return{type:bo.SCENARIOS_CASES_REQUEST_ERROR,error:t}}function hl(t){return{type:bo.SCENARIOS_CASES_EDITED_UPDATE,data:t}}function fl(t){return{type:bo.SCENARIOS_EDITED_UPDATE,data:t}}function pl(){return{type:bo.SCENARIOS_CASES_EDITED_REMOVE_ACTIVE}}function dl(t){return{type:bo.SCENARIOS_CASES_API_CREATE_ERROR,error:t}}function gl(t){return{type:bo.SCENARIOS_CASES_API_UPDATE_ERROR,keys:t}}var ml={add:na.add(bo.SCENARIOS),setActive:function(t){return{type:bo.SCENARIOS_SET_ACTIVE,data:t}},removeEditedActiveCase:pl,applyDataviewSettings:function(t){return function(e,n){e(Yu(t.cases.activeKey)),e(Xu(t.cases.activeKey)),e(al(t.scenarios.activeKeys)),e(ul(t.scenarios.defaultSituationActive))}},setDefaultSituationActive:ul,addActiveScenario:function(t){return function(e,n){var r=ho.scenarios.scenarios.getActiveKeys(n());e(al(y.a.union(r,[t])))}},removeActiveScenario:qu,deleteActiveCase:function(){return function(t,e){var n=e(),r=ho.scenarios.cases.getActive(n);r&&t(function t(e,n){return y.a.isUndefined(n)&&(n=5),function(r,i){var o;r((o=y.a.map(e,"key"),{type:bo.SCENARIOS_CASES_API_DELETE_REQUEST,keys:o}));var a=ho.app.getCompleteLocalConfiguration(i()),s=a.apiBackendProtocol+"://"+Ee.a.join(a.apiBackendHost,a.apiBackendPath,"backend/rest/metadata"),u={data:{scenario_cases:y.a.map(e,(function(t){return{id:t.key}}))}};return po()(s,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(u)}).then((function(t){console.log("#### delete scenario case response",t);var e=t.headers.get("Content-type");if(t.ok&&e&&-1!==e.indexOf("application/json"))return t.json().then((function(t){if(t&&t.data&&t.data.scenario_cases){var e=[];t.data.scenario_cases.map((function(t){t.deleted&&e.push(t.id)})),r(function(t){return function(e,n){e(function(t){return{type:bo.SCENARIOS_CASES_REMOVE,keys:t}}(t))}}(e))}else r($u("no data about scenario cases returned"))}));r($u(t))}),(function(i){console.log("#### delete scenario case error",i),r(n-1?t(e,n-1):$u("scenarios#actions load cases: cases weren't loaded!"))}))}}([r]))}},saveActiveCase:function(){return function(t,e){var n=e(),r=ho.scenarios.cases.getActive(n),i=ho.scenarios.cases.getActiveCaseEdited(n),o=y.a.filter(ho.scenarios.scenarios.getEditedAll(n),(function(t){var e=i&&i.data&&i.data.scenarios?i.data.scenarios:r.data.scenarios;return y.a.includes(e,t.key)})),a=ho.places.getActiveKey(n);t(r?Qu(i?[i]:[],o):function t(e,n,r,i){return y.a.isUndefined(i)&&(i=5),function(o,a){var s;o((s=y.a.map(e,"key"),{type:bo.SCENARIOS_CASES_API_CREATE_REQUEST,keys:s}));var u=ho.app.getCompleteLocalConfiguration(a()),l=u.apiBackendProtocol+"://"+Ee.a.join(u.apiBackendHost,u.apiBackendPath,"backend/rest/metadata"),c={data:{scenario_cases:y.a.map(e,(function(t){var e=Uu({},t.data,{scenario_ids:t.data.scenarios});return delete e.scenarios,{uuid:t.key,data:Uu({},e,{place_ids:[r]})}})),scenarios:y.a.map(n,(function(t){var e=Uu({},t.data);return delete e.file,{uuid:t.key,data:Uu({},e)}}))}};return po()(l,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(c)}).then((function(t){console.log("#### create scenario cases response",t);var e=t.headers.get("Content-type");if(t.ok&&e&&-1!==e.indexOf("application/json"))return t.json().then((function(t){if(t.data){o(function(t){return function(e,n){var r=t.scenario_cases,i=t.scenarios;e(Ju(r)),e(function(t){return function(e,n){e(Zu(t));var r=ho.scenarios.cases.getEditedAll(n()),i=[];y.a.each(r,(function(e){var n,r=y.a.map(e.data.scenarios,(function(e){var r=y.a.find(t,{uuid:e});return r?(n=!0,r.id):e}));n&&i.push({key:e.key,data:{scenarios:r}})})),i.length&&e(hl(i)),e(zu())}}(i));var o,a=ho.scenarios.cases.getActiveKey(n());if(a){var s=y.a.find(r,{uuid:a});s&&e(sl(s.id))}e((o=y.a.map(r,"uuid"),{type:bo.SCENARIOS_CASES_EDITED_REMOVE,keys:o}))}}(t.data));var e=[];y.a.each(t.data.scenarios,(function(t){var r=y.a.find(n,{key:t.uuid});r&&e.push({key:t.id,data:r.data})})),o(tl(e))}else o(dl("no data returned"))}));o(dl(t))}),(function(a){console.log("#### create scenario case error",a),o(i-1?t(e,n,r,i-1):dl("scenarios#actions create cases: cases weren't created!"))}))}}(i?[i]:[],o,a))}},setActiveCase:Yu,load:Xu,loadCases:function t(e){return y.a.isUndefined(e)&&(e=5),function(n,r){var i=r(),o=ho.app.getCompleteLocalConfiguration(i);if(i.scenarios.loading);else{n({type:bo.SCENARIOS_CASES_REQUEST});var a=ho.places.getActiveKey(i);if(a){var s=o.apiBackendProtocol+"://"+Ee.a.join(o.apiBackendHost,o.apiBackendPath,"backend/rest/metadata/scenario_cases"),u=mo.a.stringify({place_id:a});return u&&(s+="?"+u),po()(s,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){console.log("#### load scenarios cases response",t);var e=t.headers.get("Content-type");if(t.ok&&e&&-1!==e.indexOf("application/json"))return t.json().then((function(t){t.data&&t.data.scenario_cases?n(Ju(t.data.scenario_cases)):n(cl("no data returned"))}));n(cl(t))}),(function(r){console.log("#### load scenario cases error",r),n(e-1?t(e-1):cl("scenarios#actions load cases: cases weren't loaded!"))}))}n(cl("scenarios#actions load cases: no active place"))}}},addEditedScenario:function(t,e){return function(n,r){var i=ho.scenarios.cases.getActiveCaseScenarioKeys(r()),o=ho.scenarios.cases.getActiveCaseEditedScenarioKeys(r()),a=o?[].concat(Wu(o),[t]):i?[].concat(Wu(i),[t]):[t];n(fl([Uu({key:t},e)])),n(Hu("scenarios",a))}},removeActiveCaseEditedScenarios:zu,removeScenarioFromActiveCase:function(t){return function(e,n){var r=ho.scenarios.cases.getActive(n());if(r&&r.data&&r.data.scenarios){var i=y.a.without(r.data.scenarios,t),o=Uu({},r,{data:Uu({},r.data,{scenarios:i})});e(qu(t)),e(Qu([o],[]))}}},removeScenarioFromActiveCaseEdited:function(t){return function(e,n){var r=ho.scenarios.cases.getActiveCaseEdited(n());r&&r.data&&r.data.scenarios&&e(Hu("scenarios",y.a.without(r.data.scenarios,t)))}},updateEditedActiveCase:Hu,updateEditedScenario:function(t,e,n){return function(r,i){var o=i(),a=ho.scenarios.scenarios.getByKey(o,t),s=ho.scenarios.cases.getActiveKey(o),u=ho.scenarios.cases.getActiveCaseScenarioKeys(o),l=ho.scenarios.cases.getActiveCaseEditedScenarioKeys(o),c=[];u&&(c=y.a.union(c,u)),l&&(c=y.a.union(c,l)),a&&(n===a.data[e]||!a.data[e]&&0===n.length)?r(function(t,e){return{type:bo.SCENARIOS_EDITED_REMOVE_PROPERTY,scenarioKey:t,property:e}}(t,e)):(r(hl([{key:s,data:{scenarios:c}}])),r(fl([{key:t,data:Gu({},e,n)}])))}}},yl=na.add(bo.SCOPES),vl=na.create(ho.scopes.getSubstate,"scopes",bo.SCOPES),bl=na.delete(ho.scopes.getSubstate,"scopes",bo.SCOPES),El=na.saveEdited(ho.scopes.getSubstate,"scopes",bo.SCOPES),_l=na.updateEdited(ho.scopes.getSubstate,bo.SCOPES),wl=na.useKeys(ho.scopes.getSubstate,"scopes",bo.SCOPES),Sl=na.useKeysClear(bo.SCOPES),xl=na.useIndexedClear(bo.SCOPES),Tl=na.useIndexed(ho.scopes.getSubstate,"scopes",bo.SCOPES),Ol=na.refreshUses(ho.scopes.getSubstate,"scopes",bo.SCOPES),Cl=na.setActiveKeyAndEnsureDependencies(bo.SCOPES,"scope"),Al=na.ensureIndexesWithFilterByActive(ho.scopes.getSubstate,"scopes",bo.SCOPES);function Ll(t){return function(e,n){e(Cl(t));var r=ho.scopes.getActive(n());r&&r.data&&r.data.configuration&&r.data.configuration.areaNameAttributeKey&&e(za.ensureIndexedSpecific({scopeKey:t,attributeKey:r.data.configuration.areaNameAttributeKey},null,1,10,"scopes.actions#setActiveScope",!0)),r&&r.data&&r.data.configuration&&r.data.configuration.countryCodeAttributeKey&&e(za.ensureIndexedSpecific({scopeKey:t,attributeKey:r.data.configuration.countryCodeAttributeKey},null,1,10,"scopes.actions#setActiveScope",!0))}}var Pl={add:yl,create:vl,delete:bl,ensureIndexesWithFilterByActive:Al,refreshUses:Ol,saveEdited:El,setActiveKey:Ll,updateEdited:_l,updateStateFromView:function(t){return function(e){t&&(t&&t.byKey&&e(yl(y.a.values(t.byKey))),t&&t.activeKey&&e(Ll(t.activeKey)))}},useIndexed:Tl,useIndexedClear:xl,useKeys:wl,useKeysClear:Sl},Rl={};function Ml(t,e){return function(n,r){"base"!==e&&n(Il(t,e)),n(Nl(t,e))}}var kl=function(t){return{type:bo.SCREENS.SETS.ADD,setKey:t}},Il=function(t,e){return{type:bo.SCREENS.OPEN,setKey:t,lineage:e}},Nl=function(t,e){return{type:bo.SCREENS.TOP_HISTORY,setKey:t,lineage:e}},Dl={addOrUpdate:function(t,e,n,r,i,o){return function(a,s){ho.screens.getScreenByLineage(s(),e)?(Rl[e]&&clearTimeout(Rl[e]),a(function(t,e,n){return{type:bo.SCREENS.UPDATE,setKey:t,lineage:e,data:n}}(t,e,{width:n,minActiveWidth:r,desiredState:"opening",component:i,props:o}))):a(function(t,e,n){return{type:bo.SCREENS.ADD,setKey:t,lineage:e,data:n}}(t,e,{width:n,minActiveWidth:r,desiredState:"opening",component:i,props:o})),setTimeout((function(){a(Ml(t,e))}),1)}},addSet:kl,close:function(t,e){return function(n,r){n(function(t,e){return{type:bo.SCREENS.CLOSE,setKey:t,lineage:e}}(t,e)),n(Nl(t,e)),Rl[e]=setTimeout((function(){n(function(t,e){return{type:bo.SCREENS.REMOVE,setKey:t,lineage:e}}(t,e))}),550)}},open:Ml,removeAllScreensFromSet:function(t){return function(e){e(function(t){return{type:bo.SCREENS.REMOVE_ALL,setKey:t}}(t))}},retract:function(t,e){return function(n,r){n(function(t,e){return{type:bo.SCREENS.RETRACT,setKey:t,lineage:e}}(t,e)),n(Nl(t,e))}},topHistory:function(t,e){return function(n){n(function(t){return function(e,n){ho.screens.getSetByKey(n(),t)||e(kl(t))}}(t)),n(Nl(t,e))}}},jl={add:na.add(bo.SELECTIONS),setActiveSelectionFeatureKeysFilterKeys:function(t){return function(e,n){var r,i,o=ho.selections.getActiveKey(n());o&&t&&e((r=o,i=t,{type:bo.SELECTIONS.SET.FEATURE_KEYS_FILTER.KEYS,key:r,featureKeys:i}))}},setActiveKey:na.setActiveKey(bo.SELECTIONS)},Fl=function(t){return function(e){y.a.isArray(t)||(t=[t]),e(function(t){return{type:bo.SNAPSHOTS_ADD,data:t}}(t))}},Vl={add:Fl,remove:function(t){return function(e){y.a.isArray(t)||(t=[t]),e(function(t){return{type:bo.SNAPSHOTS_REMOVE,keys:t}}(t))}},createMapSnapshot:function(){return function(t){window.Stores.generateSnapshot().then((function(e){e.forEach((function(e){t(Fl({key:e.uuid,data:{name:e.name,type:"map",source:e.source}}))}))}))}}},Bl={useIndexed:na.useIndexed(ho.spatialData.getSubstate,"spatial",bo.SPATIAL_DATA,"data")},Ul=na.useKeys(ho.spatialDataSources.vector.getSubstate,"spatial",bo.SPATIAL_DATA_SOURCES.VECTOR,"data"),Gl=na.useKeysClear(bo.SPATIAL_DATA_SOURCES.VECTOR),Wl=na.useIndexed(ho.spatialDataSources.vector.getSubstate,"spatial",bo.SPATIAL_DATA_SOURCES.VECTOR,"data"),Kl=na.useIndexedBatch("spatial",bo.SPATIAL_DATA_SOURCES.VECTOR,"data"),zl=na.useIndexedClear(bo.SPATIAL_DATA_SOURCES.VECTOR),Hl=na.clearIndex(bo.SPATIAL_DATA_SOURCES.VECTOR),Yl={addBatch:na.addBatch(bo.SPATIAL_DATA_SOURCES.VECTOR),addBatchIndex:na.addBatchIndex(bo.SPATIAL_DATA_SOURCES.VECTOR),loadLayerData:function(t,e){return function(n,r){var i={},o=ho.app.getLocalConfiguration(r(),"geometriesAccuracy");return o&&(i.transformation={snapToGrid:{size:o},transform:4326}),n(Kl(null,t,null,e,"spatialDataSourceKey",i))}},useKeys:Ul,useKeysClear:Gl,useIndexed:Wl,useIndexedClear:zl,clearIndex:Hl},ql=na.useKeys(ho.spatialDataSources.getSubstate,"spatial",bo.SPATIAL_DATA_SOURCES,"dataSources"),Xl=na.useKeysClear(bo.SPATIAL_DATA_SOURCES),Zl=na.add(bo.SPATIAL_DATA_SOURCES),Jl={vector:Yl,add:Zl,useKeys:ql,useKeysClear:Xl},Ql={add:na.add(bo.SPATIAL_RELATIONS),useIndexedRegister:function(t,e,n,r,i,o){return na.useIndexedRegister(bo.SPATIAL_RELATIONS,t,e,n,r,i,o)},useIndexedClearAll:na.useIndexedClearAll(bo.SPATIAL_RELATIONS),ensureIndexed:function(t,e,n,r){return na.ensureIndexed(ho.spatialRelations.getSubstate,"spatial",t,e,n,r,bo.SPATIAL_RELATIONS,"relations")},ensureIndexesWithFilterByActive:function(t){return function(e,n){var r=n(),i=V.getUsesWithActiveDependency(ho.spatialRelations.getSubstate)(r,t);y.a.each(i,(function(t){y.a.each(t.uses,(function(n){var r,i,o,a;e((r=t.filter,i=t.order,o=n.start,a=n.length,function(t,e){t(na.ensureIndexed(ho.spatialRelations.getSubstate,"spatial",r,i,o,a,bo.SPATIAL_RELATIONS,"relations")).then((function(){var n=ho.spatialRelations.getFilteredData(e(),r);if(n){var i=y.a.map(n,(function(t){return t.spatialDataSourceKey})),o=y.a.uniq(i);o&&t(Uc.spatialDataSources.useKeys(o,void 0)).then((function(){}))}})).catch((function(e){t(na.actionGeneralError(e))}))}))}))}))}}},$l={add:na.add(bo.STYLES),useKeys:na.useKeys(ho.styles.getSubstate,"styles",bo.STYLES),useKeysClear:na.useKeysClear(bo.STYLES)},tc=na.create(ho.tags.getSubstate,"tags",bo.TAGS),ec=na.delete(ho.tags.getSubstate,"tags",bo.TAGS),nc=na.saveEdited(ho.tags.getSubstate,"tags",bo.TAGS),rc=na.updateEdited(ho.tags.getSubstate,bo.TAGS),ic=na.useKeys(ho.tags.getSubstate,"tags",bo.TAGS),oc=na.useKeysClear(bo.TAGS),ac=na.useIndexedClear(bo.TAGS),sc=na.useIndexed(ho.tags.getSubstate,"tags",bo.TAGS),uc=na.refreshUses(ho.tags.getSubstate,"tags",bo.TAGS),lc={create:tc,delete:ec,ensureIndexesWithFilterByActive:na.ensureIndexesWithFilterByActive(ho.tags.getSubstate,"tags",bo.TAGS),saveEdited:nc,updateEdited:rc,useKeys:ic,useKeysClear:oc,refreshUses:uc,useIndexed:sc,useIndexedClear:ac};function cc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cc(Object(n),!0).forEach((function(e){fc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pc=na.add(bo.USERS),dc=na.setActiveKey(bo.USERS),gc=function(){return function(t){t(na.refreshUses(ho.users.getSubstate,"users",bo.USERS,"user")()),t(na.refreshUses(ho.users.getGroupsSubstate,"groups",bo.USERS.GROUPS,"user")())}},mc=na.useKeys(ho.users.getSubstate,"users",bo.USERS,"user"),yc=na.useKeysClear(bo.USERS),vc=na.useIndexed(ho.users.getSubstate,"users",bo.USERS,"user"),bc=na.useIndexed(ho.users.getGroupsSubstate,"groups",bo.USERS.GROUPS,"user");function Ec(){return function(t,e){var n=ho.app.getCompleteLocalConfiguration(e());return t({type:bo.USERS.CURRENT.REQUEST}),yo(n,"backend/rest/user/current","GET",null,null).then((function(e){if(e.errors)throw new Error(e.errors);var n;0===e.key?t(wc(_c(e.groups))):e.key&&(t(dc(e.key)),t(pc(hc({},n=e,{permissions:hc({},n.permissions,{guest:{get:!1}}),groups:y.a.map(n.groups,"key")}))),t(wc(_c(e.groups))))})).catch((function(e){return t(na.actionGeneralError(e)),e}))}}function _c(t){return t.map((function(t){return hc({},t,{permissions:{guest:{get:!1}}})}))}function wc(t){return{type:bo.USERS.GROUPS.ADD,data:t}}function Sc(t){return{type:bo.USERS_LOGOUT_REQUEST_ERROR,error:t}}var xc={add:pc,apiLoadCurrentUser:Ec,apiLoginUser:function(t,e){return function(n,r){var i=ho.app.getCompleteLocalConfiguration(r());return n({type:bo.USERS.LOGIN.REQUEST}),yo(i,"backend/api/login/login","POST",null,{username:t,password:e}).then((function(t){"ok"===t.data.status&&n((function(t){t(na.actionDataSetOutdated()),t(Ec()),t(Uc.scopes.refreshUses()),t(Uc.places.refreshUses()),t(Uc.periods.refreshUses()),t(gc())}))})).catch((function(t){return n(na.actionGeneralError(t)),t}))}},apiLogoutUser:function t(e){return y.a.isUndefined(e)&&(e=5),function(n,r){var i=ho.app.getLocalConfiguration(r(),"apiBackendProtocol"),o=ho.app.getLocalConfiguration(r(),"apiBackendHost");n({type:bo.USERS_LOGOUT_REQUEST});var a=i+"://"+Ee.a.join(o,"backend/api/login/logout");return po()(a,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){console.log("#### logout user response",t),t.ok?n((function(t){t({type:bo.COMMON.DATA.CLEANUP_ON_LOGOUT}),t(dc(null)),t(Uc.scopes.refreshUses()),t(Uc.places.refreshUses()),t(Uc.periods.refreshUses()),t(gc())})):n(Sc("user#action logout Problem with logging out the User, please try later."))}),(function(r){console.log("#### logout user error",r),n(e-1?t(e-1):Sc("user#action logout Problem with logging out the User, please try later."))}))}},refreshUses:gc,useKeys:mc,useKeysClear:yc,useIndexedUsers:vc,useIndexedGroups:bc,useIndexedUsersClear:function(t){return{type:bo.USERS.USE.INDEXED.CLEAR,componentId:t}},useIndexedGroupsClear:function(t){return{type:bo.USERS.GROUPS.USE.INDEXED.CLEAR,componentId:t}}},Tc=na.add(bo.VIEWS),Oc=na.setActiveKey(bo.VIEWS),Cc=na.setActiveKeys(bo.VIEWS),Ac=na.create(ho.views.getSubstate,"views",bo.VIEWS,"views"),Lc=na.delete(ho.views.getSubstate,"views",bo.VIEWS,"views"),Pc=na.saveEdited(ho.views.getSubstate,"views",bo.VIEWS,"views"),Rc=na.updateEdited(ho.views.getSubstate,bo.VIEWS,"views"),Mc=na.useKeys(ho.views.getSubstate,"views",bo.VIEWS,"views"),kc=na.useKeysClear(bo.VIEWS),Ic=na.useIndexedClear(bo.VIEWS),Nc=na.useIndexed(ho.views.getSubstate,"views",bo.VIEWS,"views"),Dc=na.refreshUses(ho.views.getSubstate,"views",bo.VIEWS,"views"),jc=na.ensureIndexesWithFilterByActive(ho.views.getSubstate,"views",bo.VIEWS,"views");function Fc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fc(Object(n),!0).forEach((function(e){Bc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Uc={_deprecatedSelections:ua,app:ca,areas:Ea,areaRelations:_a,attributes:Na,attributeData:Va,attributeDataSources:Wa,attributeRelations:za,attributeStatistics:Ga,attributeSets:Ha,cases:as,charts:us,components:cs,layerPeriods:ds,layerTemplates:xs,layersTrees:ks,maps:hu,periods:Tu,places:Fu,scenarios:ml,scopes:Pl,screens:Dl,selections:jl,snapshots:Vl,spatialData:Bl,spatialDataSources:Jl,spatialRelations:Ql,styles:$l,tags:lc,users:xc,views:{add:Tc,apply:function(t,e){return function(n,r){return n(na.ensureKeys(ho.views.getSubstate,"views",bo.VIEWS,[t],"views")).then((function(){var i=ho.views.getDataByKey(r(),t);if(i&&i.state){var o=[];y.a.each(e,(function(t,e){t.hasOwnProperty("updateStateFromView")&&i.state[e]&&o.push(t.updateStateFromView(i.state[e]))})),e.specific&&y.a.each(e.specific,(function(t,e){t.hasOwnProperty("updateStateFromView")&&i.state[e]&&o.push(t.updateStateFromView(i.state[e]))})),n(o)}else n(na.actionGeneralError("Views#apply: View or state of view doesn't exist! View key: "+t))})).catch((function(t){n(na.actionGeneralError("Views#apply: "+t))}))}},setActiveKey:Oc,setActiveKeys:Cc,create:Ac,delete:Lc,ensureIndexesWithFilterByActive:jc,saveEdited:Pc,updateEdited:Rc,useKeys:Mc,useKeysClear:kc,refreshUses:Dc,useIndexed:Nc,useIndexedClear:Ic},windows:{addOrOpen:function(t,e,n,r,i){return function(o,a){o(ho.windows.getWindow(a(),e)?function(t,e){return{type:bo.WINDOWS.OPEN,setKey:t,windowKey:e}}(t,e):function(t,e,n,r,i,o){return{type:bo.WINDOWS.ADD,setKey:t,windowKey:e,state:n,settings:r,component:i,props:o}}(t,e,"open",n,r,i))}},remove:function(t,e){return{type:bo.WINDOWS.REMOVE,setKey:t,windowKey:e}},topWindow:function(t,e){return{type:bo.WINDOWS.TOP,setKey:t,windowKey:e}},updateSettings:function(t,e){return function(n,r){var i=ho.windows.getWindow(r(),t),o=Vc({},i.data,{settings:Vc({},i.data.settings,{},e)});n(function(t,e){return{type:bo.WINDOWS.UPDATE,windowKey:t,data:e}}(t,o))}}}},Gc=Object(l.connect)((function(t,e){return{activeUser:ho.users.getActive(t),loginOverlayOpen:ho.components.get(t,"App_Container","loginOverlayOpen")}}),(function(t){return{onLogIn:function(e,n){t(Uc.users.apiLoginUser(e,n))},onLoginOverlayClose:function(){t(Uc.components.set("App_Container","loginOverlayOpen",!1))}}})),Wc=Object(l.connect)((function(t,e){return{set:ho.charts.getSetByKey(t,e.setKey),charts:ho.charts.getChartsBySetKeyAsObject(t,e.setKey)}}),(function(t,e){return{}})),Kc=Object(l.connect)((function(t){return{}}),(function(t){return{goToPlace:function(e){t(Uc.maps.goToPlace(e))}}})),zc=Object(l.connect)((function(t,e){return e.stateMapKey?{backgroundLayer:ho.maps.getMapBackgroundLayer(t,e.stateMapKey),layers:ho.maps.getMapLayers(t,e.stateMapKey),view:ho.maps.getView(t,e.stateMapKey),mapKey:e.stateMapKey}:{backgroundLayer:ho.maps.getBackgroundLayer(t,e.backgroundLayer),layers:ho.maps.getLayers(t,e.layers)}}),(function(){var t="Map_"+_e.utils.randomString(6);return function(e,n){if(n.stateMapKey)return{onMount:function(){e(Uc.maps.use(n.stateMapKey))},onUnmount:function(){e(Uc.maps.useClear(n.stateMapKey))},refreshUse:function(){e(Uc.maps.use(n.stateMapKey))},onViewChange:function(t){e(Uc.maps.updateMapAndSetView(n.stateMapKey,t))},resetHeading:function(){},onClick:function(t){e(Uc.maps.setMapSetActiveMapKey(n.stateMapKey))},onLayerClick:function(t,r,i){e(Uc.maps.setLayerSelectedFeatureKeys(n.stateMapKey,r,i))}};var r=n.mapKey||t;return{onMount:function(){e(Uc.maps.use(r,n.backgroundLayer,n.layers))},onUnmount:function(){e(Uc.maps.useClear(r))},refreshUse:function(){e(Uc.maps.use(r,n.backgroundLayer,n.layers))},onViewChange:n.onViewChange||function(t){},onClick:n.onClick||function(t){}}}})),Hc=Object(l.connect)((function(t,e){var n=ho.maps.getActiveMapKey(t);return{view:ho.maps.getView(t,n),mapKey:n}}),(function(t){return{updateView:function(e,n){t(Uc.maps.updateMapAndSetView(n,e))},resetHeading:function(e){t(Uc.maps.resetViewHeading(e))}}})),Yc=Object(l.connect)((function(t,e){return e.stateMapSetKey?{activeMapKey:ho.maps.getMapSetActiveMapKey(t),activeMapView:ho.maps.getMapSetActiveMapView(t,e.stateMapSetKey),maps:ho.maps.getMapSetMapKeys(t,e.stateMapSetKey),view:ho.maps.getMapSetView(t,e.stateMapSetKey)}:{backgroundLayer:ho.maps.getBackgroundLayer(t,e.backgroundLayer),layers:ho.maps.getLayers(t,e.layers)}}),(function(){var t="MapSet_"+_e.utils.randomString(6);return function(e,n){if(n.stateMapSetKey)return{updateView:function(t){e(Uc.maps.updateSetView(n.stateMapSetKey,t))}};var r=n.setKey||t;return{onMount:function(){e(Uc.maps.use(r,n.backgroundLayer,n.layers))},onUnmount:function(){e(Uc.maps.useClear(r))},refreshUse:function(){e(Uc.maps.use(r,n.backgroundLayer,n.layers))}}}})),qc=n(8),Xc=n.n(qc),Zc=n(15),Jc=n.n(Zc),Qc=n(19),$c=n.n(Qc),th=n(20),eh=n.n(th);function nh(t){return(nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oh(t,e){return!e||"object"!==nh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ah(t){return(ah=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sh(t,e){return(sh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(23);var uh=function(t){function e(){return rh(this,e),oh(this,ah(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sh(t,e)}(e,t),n=e,(r=[{key:"onNavKeyPress",value:function(t,e){32===e.charCode&&this.props.history.replace(t)}},{key:"componentDidMount",value:function(){this.props.componentData&&this.props.componentData.lastPathname?this.props.history.replace(this.props.componentData.lastPathname):this.props.location&&this.props.location.pathname&&this.props.update({lastPathname:this.props.location.pathname})}},{key:"componentDidUpdate",value:function(t){t.location&&this.props.location&&t.location.pathname!==this.props.location.pathname&&this.props.update({lastPathname:this.props.location.pathname})}},{key:"getDescendant",value:function(t){switch(t.type){case"folder":return[Xc.a.createElement("li",{key:t.title,className:"ptr-nav-item-folder"},Xc.a.createElement("span",null,t.title)),Xc.a.createElement("ul",{key:"".concat(t.title,"-folder")},this.getDescendants(t.items,t))];case"leaf":var e=!!Object(f.matchPath)(this.props.location.pathname,t.path);return Xc.a.createElement("li",{key:t.title,className:"ptr-nav-item ".concat(e?"selected":"")},Xc.a.createElement(h.NavLink,{tabIndex:this.props.unfocusable?-1:0,onKeyPress:this.onNavKeyPress.bind(this,t.path),to:t.path,activeClassName:"selected"},t.title))}}},{key:"getDescendants",value:function(t,e){var n=this;return $c()(t)?t.map((function(t){return n.getDescendant(t)})):eh()(t)?[this.getDescendant(t)]:void 0}},{key:"render",value:function(){return Xc.a.createElement("div",{className:"ptr-navlist"},Xc.a.createElement("ul",{ref:this.list},this.getDescendants(this.props.items)))}}])&&ih(n.prototype,r),e}(Xc.a.PureComponent);uh.defaultProps={items:[]},uh.propTypes={items:Jc.a.array.isRequired,unfocusable:Jc.a.bool};var lh=Object(h.withRouter)(uh),ch={AppContainer:Gc,ChartSet:Wc,GoToPlace:Kc,Map:zc,MapControls:Hc,MapSet:Yc,NavList:Object(l.connect)((function(t,e){return{componentData:ho.components.getDataByComponentKey(t,e.componentKey)}}),(function(t,e){return{update:function(n){t(Uc.components.update(e.componentKey,n))}}}))(lh),Screens:Object(l.connect)((function(t,e){return{screens:ho.screens.getScreensBySetKey(t,e.setKey),set:ho.screens.getSetByKey(t,e.setKey)}}),(function(t,e){return{onFocusScreen:function(n){t(Uc.screens.topHistory(e.setKey,n))},onCloseScreen:function(n){t(Uc.screens.close(e.setKey,n))},onOpenScreen:function(n){t(Uc.screens.open(e.setKey,n))},onRetractScreen:function(n){t(Uc.screens.retract(e.setKey,n))}}})),User:Object(l.connect)((function(t,e){return{user:ho.users.getActiveUser(t)}}),(function(t){return{login:function(){t(Uc.components.set("App_Container","loginOverlayOpen",!0))},logout:function(){t(Uc.users.apiLogoutUser())}}})),WindowsContainer:Object(l.connect)((function(t,e){return{set:ho.windows.getSetByKey(t,e.setKey),windows:ho.windows.getWindowsBySetKeyAsObject(t,e.setKey)}}),(function(t,e){return{onWindowClick:function(n){t(Uc.windows.topWindow(e.setKey,n))},onWindowClose:function(n){t(Uc.windows.remove(e.setKey,n))},onWindowDragStart:function(n){t(Uc.windows.topWindow(e.setKey,n))},onWindowDragStop:function(e,n){t(Uc.windows.updateSettings(e,{position:n}))},onWindowResize:function(e,n,r,i){t(Uc.windows.updateSettings(e,{width:n,height:r,position:i}))}}}))};function hh(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ph(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fh(Object(n),!0).forEach((function(e){dh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gh={activeKey:null,byKey:null,count:null,editedByKey:null,indexes:null,inUse:{indexes:null,keys:null},lastChangedOn:null,loading:!1,loadingKeys:null},mh={add:function(t,e){var n=ph({},t.byKey);return e.data&&e.data.length&&e.data.forEach((function(t){n[t.key]=ph({},n[t.key],{},t),delete n[t.key].outdated,delete n[t.key].unreceived})),ph({},t,{byKey:n})},addBatch:function(t,e){var n=ph({},t.byKey);return e.data&&e.data.length&&e.data.forEach((function(t){n[t[e.key]]=ph({},n[t[e.key]],{},t),delete n[t[e.key]].outdated,delete n[t[e.key]].unreceived})),ph({},t,{byKey:n})},addUnreceivedKeys:function(t,e){var n=ph({},t.byKey);return e.keys&&e.keys.length&&e.keys.forEach((function(t){n[t]={key:t,unreceived:!0}})),ph({},t,{byKey:n})},addIndex:function(t,e){var n,r=[],i={};return t.indexes&&t.indexes.forEach((function(t){y.a.isEqual(t.filter,e.filter)&&y.a.isEqual(t.order,e.order)?i=t:r.push(t)})),e.data.length&&(n=ph({},i.index),e.data.forEach((function(t,r){n[e.start+r]=t.key}))),i={filter:i.filter||e.filter,order:i.order||e.order,count:e.count,changedOn:e.changedOn,index:n||i.index},r.push(i),ph({},t,{indexes:r})},addBatchIndex:function(t,e){var n,r=[],i={};return t.indexes&&t.indexes.forEach((function(t){y.a.isEqual(t.filter,e.filter)&&y.a.isEqual(t.order,e.order)?i=t:r.push(t)})),e.data.length&&(n=ph({},i.index),e.data.forEach((function(t,r){n[r]=t[e.key]}))),i={filter:i.filter||e.filter,order:i.order||e.order,index:n||i.index},r.push(i),ph({},t,{indexes:r})},registerUseIndexed:function(t,e){var n={filterByActive:e.filterByActive,filter:e.filter,order:e.order,start:e.start,length:e.length},r=!1;return t.inUse.indexes&&t.inUse.indexes[e.componentId]&&(r=y.a.find(t.inUse.indexes[e.componentId],n)),r?t:ph({},t,{inUse:ph({},t.inUse,{indexes:ph({},t.inUse.indexes,dh({},e.componentId,t.inUse.indexes&&t.inUse.indexes[e.componentId]?[].concat(hh(t.inUse.indexes[e.componentId]),[n]):[n]))})})},registerBatchUseIndexed:function(t,e){var n={filterByActive:e.filterByActive,filter:e.filter,order:e.order},r=!1;return t.inUse.indexes&&t.inUse.indexes[e.componentId]&&(r=y.a.find(t.inUse.indexes[e.componentId],n)),r?t:ph({},t,{inUse:ph({},t.inUse,{indexes:ph({},t.inUse.indexes,dh({},e.componentId,t.inUse.indexes&&t.inUse.indexes[e.componentId]?[].concat(hh(t.inUse.indexes[e.componentId]),[n]):[n]))})})},useIndexedClear:function(t,e){if(t.inUse&&t.inUse.indexes&&t.inUse.indexes.hasOwnProperty(e.componentId)){var n=ph({},t.inUse.indexes);return delete n[e.componentId],ph({},t,{inUse:ph({},t.inUse,{indexes:y.a.isEmpty(n)?null:n})})}return t},useIndexedClearAll:function(t,e){return t.inUse&&t.inUse.indexes?ph({},t,{inUse:ph({},t.inUse,{indexes:null})}):t},useKeysRegister:function(t,e){return ph({},t,{inUse:ph({},t.inUse,{keys:ph({},t.inUse.keys,dh({},e.componentId,t.inUse.keys&&t.inUse.keys[e.componentId]?y.a.union(t.inUse.keys[e.componentId],e.keys):e.keys))})})},useKeysClear:function(t,e){var n=ph({},t.inUse.keys);return delete n[e.componentId],ph({},t,{inUse:ph({},t.inUse,{keys:y.a.isEmpty(n)?null:n})})},markDeleted:function(t,e){if(t.byKey&&t.byKey[e.key]){var n=ph({},t.byKey);return n[e.key].removed=!0,ph({},t,{byKey:n})}return t},remove:function(t,e){return ph({},t,{byKey:t.byKey?y.a.omit(t.byKey,e.keys):null})},removeEdited:function(t,e){return ph({},t,{editedByKey:t.editedByKey?y.a.omit(t.editedByKey,e.keys):null})},removeEditedActive:function(t){var e=null;return t.editedByKey&&(e=y.a.omit(t.editedByKey,t.activeKey)),ph({},t,{editedByKey:e})},removeEditedProperty:function(t,e){var n=t.editedByKey&&t.editedByKey[e.key]&&t.editedByKey[e.key].data?y.a.omit(t.editedByKey[e.key].data,e.property):null;if(n&&!y.a.isEmpty(n))return ph({},t,{editedByKey:ph({},t.editedByKey,dh({},e.key,ph({},t.editedByKey[e.key],{data:n})))});if(n&&y.a.isEmpty(n)){var r=ph({},t.editedByKey);return delete r[e.key],ph({},t,{editedByKey:r})}return t},removeEditedPropertyValues:function(t,e){var n=e.dataType.slice(0,-1),r=n+"Key",i=n+"Keys",o=ph({},t.editedByKey);if(y.a.isEmpty(o))return t;var a={},s=!1;return y.a.forIn(o,(function(t,n){if(t.data&&t.data[r])y.a.includes(e.keys,t.data[r])?(a[n]=ph({},t,{data:ph({},t.data,dh({},r,null))}),s=!0):a[n]=t;else if(t.data&&t.data[i]){var o=y.a.difference(t.data[i],e.keys);o.length!==t.data[i]?(a[n]=ph({},t,{data:ph({},t.data,dh({},i,o))}),s=!0):a[n]=t}else a[n]=t})),s?ph({},t,{editedByKey:a}):t},setActive:function(t,e){return ph({},t,{activeKey:e.key,activeKeys:null})},setActiveMultiple:function(t,e){return ph({},t,{activeKeys:e.keys,activeKey:null})},updateEdited:function(t,e){var n=ph({},t.editedByKey);return e.data&&e.data.length&&e.data.forEach((function(t){n[t.key]?n[t.key]=ph({},n[t.key],{data:ph({},n[t.key].data,{},t.data)}):n[t.key]=t})),ph({},t,{editedByKey:n})},clearIndexes:function(t,e){var n=y.a.map(t.indexes,(function(t){return ph({},t,{index:null,count:null,changedOn:null,outdated:t.index,outdatedCount:t.count})}));return ph({},t,{indexes:n.length?n:null})},clearIndex:function(t,e){var n=t.indexes.map((function(t){return _.isCorrespondingIndex(t,e.filter,e.order)&&(t.outdated=t.index,t.outdatedCount=t.count,t.index=null,t.count=null,t.changedOn=null),t}));return ph({},t,{indexes:hh(n)})},dataSetOutdated:function(t,e){if(t.byKey){var n={};return y.a.each(t.byKey,(function(t,e){n[e]=ph({},t,{outdated:!0})})),ph({},t,{byKey:n})}return t},cleanupOnLogout:function(t,e){if(t.byKey){var n={};return y.a.each(t.byKey,(function(t,e){t.permissions&&t.permissions.guest.get&&(n[e]=ph({},t,{permissions:{guest:t.permissions.guest}}))})),ph({},t,{byKey:n})}return t}};function yh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bh={activeKey:null,byKey:null},Eh=function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yh(Object(n),!0).forEach((function(e){vh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{},e)},_h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bh,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo._DEPRECATED_SELECTIONS.ADD:return mh.add(t,e);case bo._DEPRECATED_SELECTIONS.REMOVE:return mh.remove(t,e);case bo._DEPRECATED_SELECTIONS.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo._DEPRECATED_SELECTIONS.UPDATE_FROM_VIEW:return Eh(t,e.data);default:return t}};function wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wh(Object(n),!0).forEach((function(e){xh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Th={key:null},Oh=function(t,e){return Sh({},t,{key:e.key})},Ch=function(t,e){return Sh({},t,{baseUrl:e.url})},Ah=function(t,e){var n=e.path.split(".");return Sh({},t,{localConfiguration:Ph(t.localConfiguration,n,e.value)})},Lh=function(t,e){return Sh({},t,{localConfiguration:t.localConfiguration?Sh({},t.localConfiguration,{},e.update):e.update})};function Ph(t,e,n){var r=function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(e),i=r.shift();return r.length?Sh({},t,xh({},i,Ph(t[i],r,n))):Sh({},t,xh({},i,n))}var Rh=function(t,e){return Sh({},t,{configuration:e.configuration})},Mh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Th,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.APP.SET_BASE_URL:return Ch(t,e);case bo.APP.SET_KEY:return Oh(t,e);case bo.APP.SET_LOCAL_CONFIGURATION:return Ah(t,e);case bo.APP.UPDATE_LOCAL_CONFIGURATION:return Lh(t,e);case bo.APP.RECEIVE_CONFIGURATION:return Rh(t,e);default:return t}};function kh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ih(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nh=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kh(Object(n),!0).forEach((function(e){Ih(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh);function Dh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fh=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dh(Object(n),!0).forEach((function(e){jh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),Vh=Object(r.combineReducers)({areaTreeLevels:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nh,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.AREAS.AREA_TREE_LEVELS.ADD:return mh.add(t,e);case bo.AREAS.AREA_TREE_LEVELS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.AREAS.AREA_TREE_LEVELS.INDEX.ADD:return mh.addIndex(t,e);case bo.AREAS.AREA_TREE_LEVELS.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.AREAS.AREA_TREE_LEVELS.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.AREAS.AREA_TREE_LEVELS.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.AREAS.AREA_TREE_LEVELS.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.AREAS.AREA_TREE_LEVELS.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.AREAS.AREA_TREE_LEVELS.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}},areaTrees:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fh,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.AREAS.AREA_TREES.ADD:return mh.add(t,e);case bo.AREAS.AREA_TREES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.AREAS.AREA_TREES.INDEX.ADD:return mh.addIndex(t,e);case bo.AREAS.AREA_TREES.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.AREAS.AREA_TREES.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.AREAS.AREA_TREES.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.AREAS.AREA_TREES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.AREAS.AREA_TREES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.AREAS.AREA_TREES.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}}});function Bh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gh=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bh(Object(n),!0).forEach((function(e){Uh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),Wh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gh,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.AREA_RELATIONS.ADD:return mh.add(t,e);case bo.AREA_RELATIONS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.AREA_RELATIONS.INDEX.ADD:return mh.addIndex(t,e);case bo.AREA_RELATIONS.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.AREA_RELATIONS.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.AREA_RELATIONS.USE.INDEXED.CLEAR_ALL:return mh.useIndexedClearAll(t,e);default:return t}};function Kh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hh=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kh(Object(n),!0).forEach((function(e){zh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),Yh=function(t,e){return e&&e.data&&e.data.length&&e.data.forEach((function(t){t.data.color||(t.data.color="#008000")})),mh.add(t,e)},qh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hh,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.ATTRIBUTES.ADD:return Yh(t,e);case bo.ATTRIBUTES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.ATTRIBUTES.DELETE:return mh.remove(t,e);case bo.ATTRIBUTES.EDITED.REMOVE:return mh.removeEdited(t,e);case bo.ATTRIBUTES.EDITED.REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.ATTRIBUTES.EDITED.UPDATE:return mh.updateEdited(t,e);case bo.ATTRIBUTES.INDEX.ADD:return mh.addIndex(t,e);case bo.ATTRIBUTES.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.ATTRIBUTES.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.ATTRIBUTES.MARK_DELETED:return mh.markDeleted(t,e);case bo.ATTRIBUTES.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.ATTRIBUTES.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.ATTRIBUTES.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.ATTRIBUTES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.ATTRIBUTES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);case bo.COMMON.EDITED.REMOVE_PROPERTY_VALUES:return mh.removeEditedPropertyValues(t,e);default:return t}};function Xh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xh(Object(n),!0).forEach((function(e){Jh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qh=Zh({},gh),$h=function(t,e){var n=Zh({},t.byKey);return e.data&&e.data.length&&e.data.forEach((function(t){var r=n[t.attributeDataSourceKey];if(r){var i=e.filter.fidColumnName,o=r.attributeData.features,a=t.attributeData.features,s={};y.a.forEach(o,(function(t){s[t.properties[i]]=t})),y.a.forEach(a,(function(t){var e=t.properties[i];s[e]=t})),n[t.attributeDataSourceKey]=Zh({},n[t.attributeDataSourceKey],{attributeData:Zh({},n[t.attributeDataSourceKey].attributeData,{features:Object.values(s)})})}else n[t.attributeDataSourceKey]=t})),Zh({},t,{byKey:n})},tf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.ATTRIBUTE_DATA.ADD:return $h(t,e);case bo.ATTRIBUTE_DATA.ADD_BATCH:return mh.addBatch(t,e);case bo.ATTRIBUTE_DATA.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.ATTRIBUTE_DATA.INDEX.ADD:return mh.addIndex(t,e);case bo.ATTRIBUTE_DATA.INDEX.ADD_BATCH:return mh.addBatchIndex(t,e);case bo.ATTRIBUTE_DATA.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.ATTRIBUTE_DATA.USE.INDEXED_BATCH.REGISTER:return mh.registerBatchUseIndexed(t,e);case bo.ATTRIBUTE_DATA.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);default:return t}};function ef(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rf=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ef(Object(n),!0).forEach((function(e){nf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),of=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.ATTRIBUTE_DATA_SOURCES.ADD:return mh.add(t,e);case bo.ATTRIBUTE_DATA_SOURCES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.ATTRIBUTE_DATA_SOURCES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.ATTRIBUTE_DATA_SOURCES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);default:return t}};function af(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uf=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?af(Object(n),!0).forEach((function(e){sf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):af(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),lf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.ATTRIBUTE_RELATIONS.ADD:return mh.add(t,e);case bo.ATTRIBUTE_RELATIONS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.ATTRIBUTE_RELATIONS.INDEX.ADD:return mh.addIndex(t,e);case bo.ATTRIBUTE_RELATIONS.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.ATTRIBUTE_RELATIONS.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.ATTRIBUTE_RELATIONS.USE.INDEXED.CLEAR_ALL:return mh.useIndexedClearAll(t,e);default:return t}};function cf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ff=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cf(Object(n),!0).forEach((function(e){hf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh,{activeKeys:null}),pf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ff,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.ATTRIBUTE_SETS.ADD:return mh.add(t,e);case bo.ATTRIBUTE_SETS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.ATTRIBUTE_SETS.SET_ACTIVE_KEYS:return mh.setActiveMultiple(t,e);default:return t}};function df(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mf=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?df(Object(n),!0).forEach((function(e){gf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):df(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),yf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mf,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.CASES.ADD:return mh.add(t,e);case bo.CASES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.CASES.DELETE:return mh.remove(t,e);case bo.CASES.EDITED.REMOVE:return mh.removeEdited(t,e);case bo.CASES.EDITED.REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.CASES.EDITED.UPDATE:return mh.updateEdited(t,e);case bo.CASES.INDEX.ADD:return mh.addIndex(t,e);case bo.CASES.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.CASES.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.CASES.MARK_DELETED:return mh.markDeleted(t,e);case bo.CASES.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.CASES.SET_ACTIVE_KEYS:return mh.setActiveMultiple(t,e);case bo.CASES.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.CASES.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.CASES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.CASES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}};function vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vf(Object(n),!0).forEach((function(e){Ef(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ef(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _f={};function wf(t,e){return bf({},t,Ef({},e.component,t[e.component]?bf({},t[e.component],{},e.update):e.update))}function Sf(t,e){var n=e.path.split(".");return bf({},t,Ef({},e.component,function t(e,n,r){var i=function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(n),o=i.shift();return i.length?bf({},e,Ef({},o,t(e[o],i,r))):bf({},e,Ef({},o,r))}(t[e.component],n,e.value)))}var xf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.COMPONENTS.UPDATE:return wf(t,e);case bo.COMPONENTS.SET:return Sf(t,e);default:return t}};function Tf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Of(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tf(Object(n),!0).forEach((function(e){Cf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Af={charts:{},sets:{}};function Lf(){return Of({},Af)}function Pf(t,e){return Of({},t,{},e.data)}var Rf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Af,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.CHARTS.UPDATE:return Pf(t,e);case bo.CHARTS.SET_INITIAL:return Lf();default:return t}};function Mf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mf(Object(n),!0).forEach((function(e){If(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function If(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nf={byAoiKey:{},byPlaceKey:{},byKey:{}};function Df(t,e){var n=kf({},Yf(t,e.aoiKey,e.layerKey),{data:e.periods,loading:!0}),r=kf({},Hf(t,e.aoiKey),If({},e.layerKey,n)),i=kf({},t.byAoiKey[e.aoiKey],{byLayerKey:r}),o=kf({},t.byAoiKey,If({},e.aoiKey,i));return kf({},t,{byAoiKey:o})}function jf(t,e){var n=kf({},Yf(t,e.aoiKey,e.layerKey),{loading:!1}),r=kf({},Hf(t,e.aoiKey),If({},e.layerKey,n)),i=kf({},t.byAoiKey[e.aoiKey],{byLayerKey:r}),o=kf({},t.byAoiKey,If({},e.aoiKey,i));return kf({},t,{byAoiKey:o})}function Ff(t,e){var n=kf({},Yf(t,e.aoiKey,e.layerKey),{data:e.periods,loading:!1}),r=kf({},Hf(t,e.aoiKey),If({},e.layerKey,n)),i=kf({},t.byAoiKey[e.aoiKey],{byLayerKey:r}),o=kf({},t.byAoiKey,If({},e.aoiKey,i));return kf({},t,{byAoiKey:o})}function Vf(t,e){var n=kf({},Xf(t,e.placeKey,e.layerKey),{data:e.periods,loading:!0}),r=kf({},qf(t,e.placeKey),If({},e.layerKey,n)),i=kf({},t.byPlaceKey[e.placeKey],{byLayerKey:r}),o=kf({},t.byPlaceKey,If({},e.placeKey,i));return kf({},t,{byPlaceKey:o})}function Bf(t,e){var n=kf({},Xf(t,e.placeKey,e.layerKey),{loading:!1}),r=kf({},qf(t,e.placeKey),If({},e.layerKey,n)),i=kf({},t.byPlaceKey[e.placeKey],{byLayerKey:r}),o=kf({},t.byPlaceKey,If({},e.placeKey,i));return kf({},t,{byPlaceKey:o})}function Uf(t,e){var n=kf({},Xf(t,e.placeKey,e.layerKey),{data:e.periods,loading:!1}),r=kf({},qf(t,e.placeKey),If({},e.layerKey,n)),i=kf({},t.byPlaceKey[e.placeKey],{byLayerKey:r}),o=kf({},t.byPlaceKey,If({},e.placeKey,i));return kf({},t,{byPlaceKey:o})}function Gf(t,e){var n=kf({},Jf(t,e.key,e.layerKey),{data:e.periods,loading:!0}),r=kf({},Zf(t,e.key),If({},e.layerKey,n)),i=kf({},t.byKey[e.key],{byLayerKey:r}),o=kf({},t.byKey,If({},e.key,i));return kf({},t,{byKey:o})}function Wf(t,e){var n=kf({},Jf(t,e.key,e.layerKey),{loading:!1}),r=kf({},Zf(t,e.key),If({},e.layerKey,n)),i=kf({},t.byKey[e.key],{byLayerKey:r}),o=kf({},t.byKey,If({},e.key,i));return kf({},t,{byKey:o})}function Kf(t,e){var n=kf({},Jf(t,e.key,e.layerKey),{data:e.periods,loading:!1}),r=kf({},Zf(t,e.key),If({},e.layerKey,n)),i=kf({},t.byKey[e.key],{byLayerKey:r}),o=kf({},t.byKey,If({},e.key,i));return kf({},t,{byKey:o})}var zf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nf,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.LAYER_PERIODS_AOI_LAYER_REQUEST:return Df(t,e);case bo.LAYER_PERIODS_AOI_LAYER_RECEIVE:return Ff(t,e);case bo.LAYER_PERIODS_AOI_LAYER_REQUEST_ERROR:return jf(t,e);case bo.LAYER_PERIODS_PLACE_LAYER_REQUEST:return Vf(t,e);case bo.LAYER_PERIODS_PLACE_LAYER_RECEIVE:return Uf(t,e);case bo.LAYER_PERIODS_PLACE_LAYER_REQUEST_ERROR:return Bf(t,e);case bo.LAYER_PERIODS_KEY_LAYER_REQUEST:return Gf(t,e);case bo.LAYER_PERIODS_KEY_LAYER_RECEIVE:return Kf(t,e);case bo.LAYER_PERIODS_KEY_LAYER_REQUEST_ERROR:return Wf(t,e);default:return t}};function Hf(t,e){return t&&t.byAoiKey&&t.byAoiKey[e]&&t.byAoiKey[e].byLayerKey}function Yf(t,e,n){return Hf(t,e)&&t.byAoiKey[e].byLayerKey[n]}function qf(t,e){return t&&t.byPlaceKey&&t.byPlaceKey[e]&&t.byPlaceKey[e].byLayerKey}function Xf(t,e,n){return qf(t,e)&&t.byPlaceKey[e].byLayerKey[n]}function Zf(t,e){return t&&t.byKey&&t.byKey[e]&&t.byKey[e].byLayerKey}function Jf(t,e,n){return Zf(t,e)&&t.byKey[e].byLayerKey[n]}function Qf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tp=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qf(Object(n),!0).forEach((function(e){$f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),ep=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tp,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.LAYER_TEMPLATES.ADD:return mh.add(t,e);case bo.LAYER_TEMPLATES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.LAYER_TEMPLATES.DELETE:return mh.remove(t,e);case bo.LAYER_TEMPLATES.EDITED.REMOVE:return mh.removeEdited(t,e);case bo.LAYER_TEMPLATES.EDITED.REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.LAYER_TEMPLATES.EDITED.UPDATE:return mh.updateEdited(t,e);case bo.LAYER_TEMPLATES.INDEX.ADD:return mh.addIndex(t,e);case bo.LAYER_TEMPLATES.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.LAYER_TEMPLATES.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.LAYER_TEMPLATES.MARK_DELETED:return mh.markDeleted(t,e);case bo.LAYER_TEMPLATES.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.LAYER_TEMPLATES.SET_ACTIVE_KEYS:return mh.setActiveMultiple(t,e);case bo.LAYER_TEMPLATES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.LAYER_TEMPLATES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.LAYER_TEMPLATES.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.LAYER_TEMPLATES.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}};function np(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ip=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?np(Object(n),!0).forEach((function(e){rp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),op=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ip,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.LAYERSTREES.ADD:return mh.add(t,e);case bo.LAYERSTREES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.LAYERSTREES.DELETE:return mh.remove(t,e);case bo.LAYERSTREES.EDITED.REMOVE:return mh.removeEdited(t,e);case bo.LAYERSTREES.EDITED.REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.LAYERSTREES.EDITED.UPDATE:return mh.updateEdited(t,e);case bo.LAYERSTREES.INDEX.ADD:return mh.addIndex(t,e);case bo.LAYERSTREES.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.LAYERSTREES.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.LAYERSTREES.MARK_DELETED:return mh.markDeleted(t,e);case bo.LAYERSTREES.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.LAYERSTREES.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.LAYERSTREES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.LAYERSTREES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}};function ap(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function sp(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function up(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?up(Object(n),!0).forEach((function(e){cp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hp={center:{lat:50.1,lon:14.5},boxRange:1e5,roll:0,tilt:0,heading:0,elevationExaggeration:0},fp={key:null,layerTemplate:null,style:null,opacity:100},pp={key:null,name:null,data:{backgroundLayer:null,layers:null,metadataModifiers:null,worldWindNavigator:null,view:null,filterByActive:null}},dp={key:null,maps:[],sync:{location:!1,center:!1,roll:!1,range:!1,tilt:!1,heading:!1,elevation:!1},data:{backgroundLayer:null,layers:null,metadataModifiers:null,worldWindNavigator:null,view:null,filterByActive:null}},gp={activeSetKey:null,activeMapKey:null,maps:{},sets:{}},mp=function(t,e){return t.sets[e]},yp=function(t,e){return t.maps[e]},vp=function(){return lp({},gp)},bp=function(t,e){return lp({},t,{activeMapKey:e})},Ep=function(t,e,n){var r=mp(t,e);return lp({},t,{sets:lp({},t.sets,cp({},e,lp({},r,{activeMapKey:n})))})},_p=function(t,e){return lp({},t,{activeSetKey:e})},wp=function(t,e){var n=y.a.merge(y.a.cloneDeep(dp),e),r=lp({},t.sets);return r[n.key]=n,lp({},t,{sets:lp({},r)})},Sp=function(t,e){return lp({},t,{sets:_e.stateManagement.removeItemByKey(t.sets,e)})},xp=function(t,e,n){var r=mp(t,e);return lp({},t,{sets:lp({},t.sets,cp({},e,lp({},r,{sync:lp({},r.sync,{},n)})))})},Tp=function(t,e,n){var r=mp(t,e);return lp({},t,{sets:lp({},t.sets,cp({},e,lp({},r,{maps:n})))})},Op=function(t,e,n){var r=mp(t,e);return lp({},t,{sets:lp({},t.sets,cp({},e,lp({},r,{maps:[].concat(sp(r.maps),[n])})))})},Cp=function(t,e,n){var r=mp(t,e),i=r.maps.indexOf(n);return lp({},t,{sets:lp({},t.sets,cp({},e,lp({},r,{maps:_e.stateManagement.removeItemByIndex(r.maps,i)})))})},Ap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hp,r=lp({},hp,{},n),i=mp(t,e);return lp({},t,{sets:lp({},t.sets,cp({},e,lp({},i,{data:lp({},i.data,{view:r})})))})},Lp=function(t,e,n){return n&&!y.a.isEmpty(n)?lp({},t,{sets:lp({},t.sets,cp({},e,lp({},t.sets[e],{data:lp({},t.sets[e].data,{view:t.sets[e].data.view?lp({},t.sets[e].data.view,{},n):n})})))}):t},Pp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pp,n=y.a.merge(y.a.cloneDeep(pp),e);return lp({},t,{maps:lp({},t.maps,cp({},n.key,n))})},Rp=function(t,e){for(var n=lp({},t,{maps:_e.stateManagement.removeItemByKey(t.maps,e)}),r=0,i=Object.entries(t.sets);r<i.length;r++){var o=ap(i[r],2),a=(o[0],o[1]);a.maps.includes(e)&&(n=lp({},Cp(n,a.key,e)))}return n},Mp=function(t,e,n){return lp({},t,{maps:cp({},e,lp({},yp(t,e),{name:n}))})},kp=function(t,e,n,r){var i=yp(t,e),o=i.data.layers.findIndex((function(t){return t.key===n})),a=y.a.find(i.data.layers,(function(t){return t.key===n}));if(a){var s=lp({},a,{options:lp({},a.options,{hovered:a.options.hovered?lp({},a.options.hovered,{keys:r}):{keys:r}})}),u=_e.stateManagement.replaceItemOnIndex(i.data.layers,o,s);return Dp(t,lp({},i,{data:lp({},i.data,{layers:u})}))}return t},Ip=function(t,e,n,r){var i=yp(t,e),o=i.data.layers.findIndex((function(t){return t.key===n})),a=y.a.find(i.data.layers,(function(t){return t.key===n}));if(a){var s=lp({},a,{options:lp({},a.options,{selected:a.options.selected?lp({},a.options.selected,cp({},r,{})):cp({},r,{})})}),u=_e.stateManagement.replaceItemOnIndex(i.data.layers,o,s);return Dp(t,lp({},i,{data:lp({},i.data,{layers:u})}))}return t},Np=function(t,e,n){var r=yp(t,e),i=y.a.map(sp(r.data.layers),(function(t){return t.options&&t.options.selected[n]&&delete t.options.selected[n],t}));return Dp(t,lp({},r,{data:lp({},r.data,{layers:i})}))},Dp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pp,n=y.a.merge(y.a.cloneDeep(pp),e);return lp({},t,{maps:lp({},t.maps,cp({},n.key,lp({},n)))})},jp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return lp({},t,{maps:lp({},t.maps,cp({},e,lp({},t.maps[e],{data:n})))})},Fp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hp,r=lp({},hp,{},n);return lp({},t,{maps:lp({},t.maps,cp({},e,lp({},t.maps[e],{data:lp({},t.maps[e].data,{view:r})})))})},Vp=function(t,e,n){var r=lp({},t.maps[e].data.view,{},n);return lp({},t,{maps:lp({},t.maps,cp({},e,lp({},t.maps[e],{data:lp({},t.maps[e].data,{view:r})})))})},Bp=function(t,e,n,r){var i=yp(t,e);i.data.layers||(i=lp({},i,{data:lp({},i.data,{layers:[]})}));var o=Dp(t,lp({},i,{data:lp({},i.data,{layers:[].concat(sp(i.data.layers),[n])})}));return Object(m.isNumber)(r)?Wp(o,e,n.key,r):o},Up=function(t,e,n){var r=yp(t,e),i=r.data.layers.findIndex((function(t){return t.key===n}));return Dp(t,lp({},r,{data:lp({},r.data,{layers:_e.stateManagement.removeItemByIndex(r.data.layers,i)})}))},Gp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=lp({},t),i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=Up(r,e,l);r=lp({},r,{maps:lp({},r.maps,cp({},e,lp({},r.maps[e],{data:lp({},r.maps[e].data,{layers:sp(c.maps[e].data.layers)})})))})}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r},Wp=function(t,e,n,r){var i=yp(t,e),o=i.data.layers.findIndex((function(t){return t.key===n})),a=lp({},i.data.layers[o]),s=_e.stateManagement.removeItemByIndex(i.data.layers,o),u=_e.stateManagement.addItemToIndex(s,r,a);return Dp(t,lp({},i,{data:lp({},i.data,{layers:u})}))},Kp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fp,r=arguments.length>3?arguments[3]:void 0,i=y.a.merge(y.a.cloneDeep(fp),n),o=_e.stateManagement.removeItemByKey(i,"key");o.key=r;var a=yp(t,e),s=a.data.layers.findIndex((function(t){return t.key===r}));if(s>-1){var u=_e.stateManagement.replaceItemOnIndex(a.data.layers,s,o);return Dp(t,lp({},a,{data:lp({},a.data,{layers:u})}))}return t},zp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fp,r=arguments.length>3?arguments[3]:void 0,i=yp(t,e),o=i.data.layers.findIndex((function(t){return t.key===r}));if(o>-1){n.key=r;var a=y.a.merge(y.a.cloneDeep(lp({},i.data.layers[o])),n),s=_e.stateManagement.replaceItemOnIndex(i.data.layers,o,a);return Dp(t,lp({},i,{data:lp({},i.data,{layers:s})}))}return t},Hp=function(t,e,n){var r=yp(t,e);return Dp(t,lp({},r,{scope:n}))},Yp=function(t,e,n){var r=yp(t,e);return Dp(t,lp({},r,{place:n}))},qp=function(t,e,n){var r=yp(t,e);return Dp(t,lp({},r,{scenario:n}))},Xp=function(t,e,n){var r=yp(t,e);return Dp(t,lp({},r,{case:n}))},Zp=function(t,e,n){var r=yp(t,e);return Dp(t,lp({},r,{period:n}))},Jp=function(t,e,n){var r=yp(t,e);return Dp(t,lp({},r,{data:lp({},r.data,{backgroundLayer:n})}))},Qp=function(t,e,n){var r=yp(t,e);return lp({},t,{maps:lp({},t.maps,cp({},e,lp({},r,{data:lp({},r.data,{layers:n})})))})},$p=function(t,e,n){return lp({},t,{sets:lp({},t.sets,cp({},e,lp({},t.sets[e],{data:lp({},t.sets[e].data,{backgroundLayer:n})})))})},td=function(t,e){return lp({},t,{},e)},ed={lookAtLocation:{latitude:50.1,longitude:14.5},range:1e5,roll:0,tilt:0,heading:0,elevation:0},nd=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ed,r=y.a.merge(y.a.cloneDeep(ed),n),i=mp(t,e);return lp({},t,{sets:lp({},t.sets,cp({},e,lp({},i,{data:lp({},i.data,{worldWindNavigator:r})})))})},rd=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ed,r=y.a.merge(y.a.cloneDeep(ed),n),i=yp(t,e);return Dp(t,lp({},i,{data:lp({},i.data,{worldWindNavigator:r})}))},id=function(t,e,n){var r=yp(t,e);return Dp(t,lp({},r,{data:lp({},r.data,{worldWindNavigator:r.data.worldWindNavigator?lp({},r.data.worldWindNavigator,{},n):n})}))},od=function(t,e,n){return lp({},t,{sets:lp({},t.sets,cp({},e,lp({},t.sets[e],{data:lp({},t.sets[e].data,{worldWindNavigator:t.sets[e].data.worldWindNavigator?lp({},t.sets[e].data.worldWindNavigator,{},n):n})})))})};function ad(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gp,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.MAPS.SET_INITIAL:return vp();case bo.MAPS.SET_ACTIVE_MAP_KEY:return bp(t,e.mapKey);case bo.MAPS.SET_ACTIVE_SET_KEY:return _p(t,e.setKey);case bo.MAPS.SET.ADD:return wp(t,e.set);case bo.MAPS.SET.REMOVE:return Sp(t,e.setKey);case bo.MAPS.SET.ADD_MAP:return Op(t,e.setKey,e.mapKey);case bo.MAPS.SET.REMOVE_MAP:return Cp(t,e.setKey,e.mapKey);case bo.MAPS.SET.SET_BACKGROUND_LAYER:return $p(t,e.setKey,e.backgroundLayer);case bo.MAPS.SET.VIEW.SET:return Ap(t,e.setKey,e.view);case bo.MAPS.SET.VIEW.UPDATE:return Lp(t,e.setKey,e.update);case bo.MAPS.SET.SET_ACTIVE_MAP_KEY:return Ep(t,e.setKey,e.mapKey);case bo.MAPS.SET.SET_MAPS:return Tp(t,e.setKey,e.maps);case bo.MAPS.SET.SET_SYNC:return xp(t,e.setKey,e.sync);case bo.MAPS.MAP.ADD:return Pp(t,e.map);case bo.MAPS.MAP.LAYERS.SET.HOVERED_FEATURE_KEYS:return kp(t,e.mapKey,e.layerKey,e.hoveredFeatureKeys);case bo.MAPS.MAP.LAYERS.SET.SELECTION:return Ip(t,e.mapKey,e.layerKey,e.selectionKey);case bo.MAPS.MAP.LAYERS.CLEAR.SELECTION:return Np(t,e.mapKey,e.selectionKey);case bo.MAPS.MAP.REMOVE:return Rp(t,e.mapKey);case bo.MAPS.MAP.SET_NAME:return Mp(t,e.mapKey,e.name);case bo.MAPS.MAP.SET_DATA:return jp(t,e.mapKey,e.data);case bo.MAPS.MAP.VIEW.SET:return Fp(t,e.mapKey,e.view);case bo.MAPS.MAP.VIEW.UPDATE:return Vp(t,e.mapKey,e.update);case bo.MAPS.LAYERS.LAYER.ADD:return Bp(t,e.mapKey,e.layer,e.index);case bo.MAPS.LAYERS.LAYER.REMOVE:return Up(t,e.mapKey,e.layerKey);case bo.MAPS.LAYERS.REMOVE_LAYERS:return Gp(t,e.mapKey,e.layersKeys);case bo.MAPS.LAYERS.LAYER.SET_INDEX:return Wp(t,e.mapKey,e.layerKey,e.index);case bo.MAPS.LAYERS.LAYER.UPDATE:return zp(t,e.mapKey,e.layer,e.layerKey);case bo.MAPS.LAYERS.LAYER.SET:return Kp(t,e.mapKey,e.layer,e.layerKey);case bo.MAPS.LAYERS.SET:return Qp(t,e.mapKey,e.layers);case bo.MAPS.SET_SCOPE:return Hp(t,e.mapKey,e.scope);case bo.MAPS.SET_SCENARIO:return qp(t,e.mapKey,e.scenario);case bo.MAPS.SET_PERIOD:return Zp(t,e.mapKey,e.period);case bo.MAPS.SET_PLACE:return Yp(t,e.mapKey,e.place);case bo.MAPS.SET_CASE:return Xp(t,e.mapKey,e.case);case bo.MAPS.SET_BACKGROUND_LAYER:return Jp(t,e.mapKey,e.backgroundLayer);case bo.MAPS.UPDATE:return td(t,e.data);case bo.MAPS.SET.WORLD_WIND_NAVIGATOR.SET:return nd(t,e.setKey,e.worldWindNavigator);case bo.MAPS.SET.WORLD_WIND_NAVIGATOR.UPDATE:return od(t,e.setKey,e.worldWindNavigator);case bo.MAPS.MAP.WORLD_WIND_NAVIGATOR.SET:return rd(t,e.mapKey,e.worldWindNavigator);case bo.MAPS.MAP.WORLD_WIND_NAVIGATOR.UPDATE:return id(t,e.mapKey,e.worldWindNavigator);default:return t}}function sd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ud(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ld=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sd(Object(n),!0).forEach((function(e){ud(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),cd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ld,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.PERIODS.ADD:return mh.add(t,e);case bo.PERIODS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.PERIODS.DELETE:return mh.remove(t,e);case bo.PERIODS.EDITED.REMOVE:return mh.removeEdited(t,e);case bo.PERIODS.EDITED.REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.PERIODS.EDITED.UPDATE:return mh.updateEdited(t,e);case bo.PERIODS.INDEX.ADD:return mh.addIndex(t,e);case bo.PERIODS.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.PERIODS.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.PERIODS.MARK_DELETED:return mh.markDeleted(t,e);case bo.PERIODS.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.PERIODS.SET_ACTIVE_KEYS:return mh.setActiveMultiple(t,e);case bo.PERIODS.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.PERIODS.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.PERIODS.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.PERIODS.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}};function hd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pd=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hd(Object(n),!0).forEach((function(e){fd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh,{activeKeys:null}),dd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.PLACES.ADD:return mh.add(t,e);case bo.PLACES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.PLACES.DELETE:return mh.remove(t,e);case bo.PLACES.EDITED.REMOVE:return mh.removeEdited(t,e);case bo.PLACES.EDITED.REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.PLACES.EDITED.UPDATE:return mh.updateEdited(t,e);case bo.PLACES.INDEX.ADD:return mh.addIndex(t,e);case bo.PLACES.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.PLACES.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.PLACES.MARK_DELETED:return mh.markDeleted(t,e);case bo.PLACES.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.PLACES.SET_ACTIVE_KEYS:return mh.setActiveMultiple(t,e);case bo.PLACES.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.PLACES.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.PLACES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.PLACES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}};function gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function md(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yd=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gd(Object(n),!0).forEach((function(e){md(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh);function vd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vd(Object(n),!0).forEach((function(e){Ed(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _d=bd({},gh,{activeKeys:null,defaultSituationActive:!0}),wd=function(t){return bd({},t,{loading:!0})},Sd=function(t){return bd({},t,{loading:!1})},xd=function(t,e){return bd({},t,{defaultSituationActive:e.active})},Td=Object(r.combineReducers)({cases:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yd,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SCENARIOS_CASES_ADD:return mh.add(t,e);case bo.SCENARIOS_CASES_SET_ACTIVE:return mh.setActive(t,e);case bo.SCENARIOS_CASES_EDITED_UPDATE:return mh.updateEdited(t,e);case bo.SCENARIOS_CASES_EDITED_REMOVE:return mh.removeEdited(t,e);case bo.SCENARIOS_CASES_EDITED_REMOVE_ACTIVE:return mh.removeEditedActive(t,e);case bo.SCENARIOS_CASES_EDITED_REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.SCENARIOS_CASES_RECEIVE:return mh.add(t,e);case bo.SCENARIOS_CASES_REMOVE:return mh.remove(t,e);case bo.SCENARIOS_CASES_UPDATE:return mh.add(t,e);default:return t}},scenarios:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SCENARIOS.ADD:return mh.add(t,e);case bo.SCENARIOS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.SCENARIOS_EDITED_UPDATE:return mh.updateEdited(t,e);case bo.SCENARIOS_EDITED_REMOVE:return mh.removeEdited(t,e);case bo.SCENARIOS_EDITED_REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.SCENARIOS_RECEIVE:return mh.add(t,e);case bo.SCENARIOS_REQUEST:return wd(t);case bo.SCENARIOS_REQUEST_ERROR:return Sd(t);case bo.SCENARIOS_SET_ACTIVE:return mh.setActive(t,e);case bo.SCENARIOS_SET_ACTIVE_MULTI:return mh.setActiveMultiple(t,e);case bo.SCENARIOS_SET_DEFAULT_SITUATION_ACTIVE:return xd(t,e);case bo.SCENARIOS_API_PROCESSING_FILE_ERROR:case bo.SCENARIOS_API_PROCESSING_FILE_STARTED:case bo.SCENARIOS_API_PROCESSING_FILE_SUCCESS:return mh.add(t,e);default:return t}}});function Od(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ad=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Od(Object(n),!0).forEach((function(e){Cd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),Ld=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SCOPES.ADD:return mh.add(t,e);case bo.SCOPES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.SCOPES.DELETE:return mh.remove(t,e);case bo.SCOPES.EDITED.REMOVE:return mh.removeEdited(t,e);case bo.SCOPES.EDITED.REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.SCOPES.EDITED.UPDATE:return mh.updateEdited(t,e);case bo.SCOPES.INDEX.ADD:return mh.addIndex(t,e);case bo.SCOPES.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.SCOPES.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.SCOPES.MARK_DELETED:return mh.markDeleted(t,e);case bo.SCOPES.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.SCOPES.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.SCOPES.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.SCOPES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.SCOPES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}};function Pd(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rd(Object(n),!0).forEach((function(e){kd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Id={screens:{},sets:{}},Nd={orderByHistory:[],orderBySpace:[]},Dd={width:null,minActiveWidth:null,desiredState:"open"},jd=function(t,e){var n=Md({},t.screens);n[e.lineage]={lineage:e.lineage,data:Md({},Dd,{},e.data)};var r=Md({},t.sets);return r[e.setKey]=Md({},Nd,{},r[e.setKey]),r[e.setKey].orderBySpace=[].concat(Pd(r[e.setKey].orderBySpace),[e.lineage]),r[e.setKey].orderByHistory=[].concat(Pd(r[e.setKey].orderByHistory),[e.lineage]),Md({},t,{screens:n,sets:r})},Fd=function(t,e){var n=Md({},t.sets);return n[e.setKey]=Md({},Nd),Md({},t,{sets:n})},Vd=function(t,e){var n=Md({},t.screens);return n[e.lineage]={lineage:e.lineage,data:Md({},n[e.lineage].data,{desiredState:"closing"})},Md({},t,{screens:n})},Bd=function(t,e){var n=Md({},t.screens);return n[e.lineage]={lineage:e.lineage,data:Md({},n[e.lineage].data,{desiredState:"open"})},Md({},t,{screens:n})},Ud=function(t,e){var n=Md({},t.sets),r=y.a.without(Pd(n[e.setKey].orderByHistory),e.lineage),i=y.a.without(Pd(n[e.setKey].orderBySpace),e.lineage);return Md({},t,{sets:Md({},n,kd({},e.setKey,{orderByHistory:r,orderBySpace:i}))})},Gd=function(t,e){var n=Md({},t.sets);return Md({},t,{sets:Md({},n,kd({},e.setKey,{orderByHistory:[],orderBySpace:[]}))})},Wd=function(t,e){var n=Md({},t.screens);return n[e.lineage]={lineage:e.lineage,data:Md({},n[e.lineage].data,{desiredState:"retracted"})},Md({},t,{screens:n})},Kd=function(t,e){var n=Md({},t.sets),r=y.a.without(Pd(n[e.setKey].orderByHistory),e.lineage);return r.push(e.lineage),Md({},t,{sets:Md({},n,kd({},e.setKey,Md({},n[e.setKey],{orderByHistory:r})))})},zd=function(t,e){var n=Md({},t.screens);n[e.lineage]=Md({},n[e.lineage],{data:Md({},n[e.lineage].data,{},e.data)});var r=Md({},t.sets);r[e.setKey]=Md({},Nd,{},r[e.setKey]);var i=y.a.without(r[e.setKey].orderByHistory,e.lineage);if(i.push(e.lineage),r[e.setKey].orderByHistory=i,!y.a.find(r[e.setKey].orderBySpace,(function(t){return t===e.lineage}))){var o=y.a.without(r[e.setKey].orderBySpace,e.lineage);o.push(e.lineage),r[e.setKey].orderBySpace=o}return Md({},t,{screens:n,sets:r})},Hd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Id,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SCREENS.ADD:return jd(t,e);case bo.SCREENS.CLOSE:return Vd(t,e);case bo.SCREENS.OPEN:return Bd(t,e);case bo.SCREENS.REMOVE:return Ud(t,e);case bo.SCREENS.REMOVE_ALL:return Gd(t,e);case bo.SCREENS.RETRACT:return Wd(t,e);case bo.SCREENS.SETS.ADD:return Fd(t,e);case bo.SCREENS.TOP_HISTORY:return Kd(t,e);case bo.SCREENS.UPDATE:return zd(t,e);default:return t}};function Yd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yd(Object(n),!0).forEach((function(e){Xd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zd=qd({},gh),Jd=function(t,e,n){var r=qd({},t.byKey,Xd({},e,qd({},t.byKey[e],{data:qd({},t.byKey[e].data,{featureKeysFilter:qd({},t.byKey[e].data.featureKeysFilter,{keys:n})})})));return qd({},t,{byKey:r})},Qd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zd,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SELECTIONS.ADD:return mh.add(t,e);case bo.SELECTIONS.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.SELECTIONS.SET.FEATURE_KEYS_FILTER.KEYS:return Jd(t,e.key,e.featureKeys);default:return t}};function $d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$d(Object(n),!0).forEach((function(e){eg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ng={byKey:null},rg=function(t,e){var n=tg({},t.byKey);return e.data&&e.data.length&&e.data.forEach((function(t){n[t.key]=tg({},n[t.key],{},t)})),tg({},t,{byKey:n})},ig=function(t,e){return tg({},t,{byKey:t.byKey?y.a.omit(t.byKey,e.keys):null})},og=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ng,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SNAPSHOTS_ADD:return rg(t,e);case bo.SNAPSHOTS_REMOVE:return ig(t,e);default:return t}};function ag(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ag(Object(n),!0).forEach((function(e){ug(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ug(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lg=sg({},gh),cg=function(t,e){var n=sg({},t.byKey);return e.data&&e.data.length&&e.data.forEach((function(t){n[t.spatialDataSourceKey]=sg({},n[t.spatialDataSourceKey],{},t)})),sg({},t,{byKey:n})},hg=function(t,e){return t},fg=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lg,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SPATIAL_DATA.ADD:return cg(t,e);case bo.SPATIAL_DATA.INDEX.ADD:return hg(t);case bo.SPATIAL_DATA.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);default:return t}};function pg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gg=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pg(Object(n),!0).forEach((function(e){dg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),mg=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gg,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SPATIAL_DATA_SOURCES.ADD:return mh.add(t,e);case bo.SPATIAL_DATA_SOURCES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.SPATIAL_DATA_SOURCES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.SPATIAL_DATA_SOURCES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);default:return t}};function yg(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vg(Object(n),!0).forEach((function(e){Eg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Eg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _g=bg({featuresBySourceKey:{},editedFeaturesBySourceKey:{},selectedFeaturesKeysBySourceKey:{},loading:!1},gh);function wg(t,e){var n;if(t.featuresBySourceKey.hasOwnProperty(e.dataSourceKey)&&t.featuresBySourceKey[e.dataSourceKey].length){var r=y.a.reject(t.featuresBySourceKey[e.dataSourceKey],(function(t){return y.a.find(e.data,{key:t.key})}));n=[].concat(yg(r),yg(e.data))}else n=yg(e.data);return bg({},t,{loading:!1,featuresBySourceKey:bg({},t.featuresBySourceKey,Eg({},e.dataSourceKey,n))})}function Sg(t,e){var n=t.selectedFeaturesKeysBySourceKey[e.dataSourceKey]||[];switch(e.selectionMode){case"replace":n=e.featureKeys;break;case"add":n=y.a.uniq([].concat(yg(n),yg(e.featureKeys)));break;case"remove":n=y.a.without(n,e.featureKeys)}return bg({},t,{selectedFeaturesKeysBySourceKey:bg({},t.selectedFeaturesKeysBySourceKey,Eg({},e.dataSourceKey,n))})}function xg(t,e){var n=y.a.reject(t.editedFeaturesBySourceKey[e.dataSourceKey],(function(t){return y.a.find(e.features,{key:t.key})})),r=[].concat(yg(n),yg(e.features));return bg({},t,{editedFeaturesBySourceKey:bg({},t.editedFeaturesBySourceKey,Eg({},e.dataSourceKey,r))})}var Tg=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_g,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SPATIAL_DATA_SOURCES_VECTOR_FEATURES_RECEIVE:return wg(t,e);case bo.SPATIAL_DATA_SOURCES_VECTOR_FEATURES_SELECT:return Sg(t,e);case bo.SPATIAL_DATA_SOURCES_VECTOR_FEATURES_EDITED_ADD:return xg(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.ADD:return mh.add(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.ADD_BATCH:return mh.addBatch(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.INDEX.ADD:return mh.addIndex(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.INDEX.ADD_BATCH:return mh.addBatchIndex(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.USE.INDEXED_BATCH.REGISTER:return mh.registerBatchUseIndexed(t,e);case bo.SPATIAL_DATA_SOURCES.VECTOR.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);default:return t}};function Og(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ag=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Og(Object(n),!0).forEach((function(e){Cg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Og(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),Lg=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ag,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.SPATIAL_RELATIONS.ADD:return mh.add(t,e);case bo.SPATIAL_RELATIONS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.SPATIAL_RELATIONS.INDEX.ADD:return mh.addIndex(t,e);case bo.SPATIAL_RELATIONS.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.SPATIAL_RELATIONS.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.SPATIAL_RELATIONS.USE.INDEXED.CLEAR_ALL:return mh.useIndexedClearAll(t,e);default:return t}};function Pg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mg=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pg(Object(n),!0).forEach((function(e){Rg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),kg=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mg,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.STYLES.ADD:return mh.add(t,e);case bo.STYLES.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.STYLES.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.STYLES.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}};function Ig(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ng(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dg=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ig(Object(n),!0).forEach((function(e){Ng(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ig(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),jg=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dg,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.ATTRIBUTE_STATISTICS.ADD:return mh.add(t,e);case bo.ATTRIBUTE_STATISTICS.ADD_BATCH:return mh.addBatch(t,e);case bo.ATTRIBUTE_STATISTICS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.ATTRIBUTE_STATISTICS.INDEX.ADD:return mh.addIndex(t,e);case bo.ATTRIBUTE_STATISTICS.INDEX.ADD_BATCH:return mh.addBatchIndex(t,e);case bo.ATTRIBUTE_STATISTICS.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.ATTRIBUTE_STATISTICS.USE.INDEXED_BATCH.REGISTER:return mh.registerBatchUseIndexed(t,e);case bo.ATTRIBUTE_DATA_SOURCES.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);default:return t}};function Fg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bg=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fg(Object(n),!0).forEach((function(e){Vg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),Ug=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bg,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.TAGS.ADD:return mh.add(t,e);case bo.TAGS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.TAGS.DELETE:return mh.remove(t,e);case bo.TAGS.EDITED.REMOVE:return mh.removeEdited(t,e);case bo.TAGS.EDITED.REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.TAGS.EDITED.UPDATE:return mh.updateEdited(t,e);case bo.TAGS.INDEX.ADD:return mh.addIndex(t,e);case bo.TAGS.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.TAGS.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.TAGS.MARK_DELETED:return mh.markDeleted(t,e);case bo.TAGS.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.TAGS.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.TAGS.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.TAGS.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}};function Gg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gg(Object(n),!0).forEach((function(e){Kg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zg=Wg({},gh,{groups:Wg({},gh)});function Hg(t,e){var n=e.data,r=(n.userId,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(n,["userId"]));return r.activeKey=e.data.userId,Wg({},t,{},r)}function Yg(t,e){return Wg({},t,{loading:!0})}function qg(t,e){return Wg({},t,{loading:!1})}var Xg=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zg,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.USERS.ADD:return mh.add(t,e);case bo.USERS.INDEX.ADD:return mh.addIndex(t,e);case bo.USERS.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.USERS.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.USERS.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.USERS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.USERS.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.USERS.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.USERS.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.COMMON.DATA.SET_OUTDATED:return Wg({},mh.dataSetOutdated(t,e),{groups:mh.dataSetOutdated(t.groups,e)});case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return Wg({},mh.cleanupOnLogout(t,e),{groups:mh.cleanupOnLogout(t.groups,e)});case bo.USERS_LOAD_REQUEST:return Yg(t);case bo.USERS_LOAD_REQUEST_ERROR:return qg(t);case bo.USERS_UPDATE:return Hg(t,e);case bo.USERS.GROUPS.ADD:return Wg({},t,{groups:mh.add(t.groups,e)});case bo.USERS.GROUPS.INDEX.ADD:return Wg({},t,{groups:mh.addIndex(t.groups,e)});case bo.USERS.GROUPS.INDEX.CLEAR_ALL:return Wg({},t,{groups:mh.clearIndexes(t.groups,e)});case bo.USERS.GROUPS.ADD_UNRECEIVED:return Wg({},t,{groups:mh.addUnreceivedKeys(t.groups,e)});case bo.USERS.GROUPS.USE.INDEXED.CLEAR:return Wg({},t,{groups:mh.useIndexedClear(t.groups,e)});case bo.USERS.GROUPS.USE.KEYS.CLEAR:return Wg({},t,{groups:mh.useKeysClear(t.groups,e)});case bo.USERS.GROUPS.USE.INDEXED.REGISTER:return Wg({},t,{groups:mh.registerUseIndexed(t.groups,e)});default:return t}};function Zg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qg=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zg(Object(n),!0).forEach((function(e){Jg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gh),$g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qg,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.VIEWS.ADD:return mh.add(t,e);case bo.VIEWS.ADD_UNRECEIVED:return mh.addUnreceivedKeys(t,e);case bo.VIEWS.DELETE:return mh.remove(t,e);case bo.VIEWS.EDITED.REMOVE:return mh.removeEdited(t,e);case bo.VIEWS.EDITED.REMOVE_PROPERTY:return mh.removeEditedProperty(t,e);case bo.VIEWS.EDITED.UPDATE:return mh.updateEdited(t,e);case bo.VIEWS.INDEX.ADD:return mh.addIndex(t,e);case bo.VIEWS.SET_ACTIVE_KEY:return mh.setActive(t,e);case bo.VIEWS.SET_ACTIVE_KEYS:return mh.setActiveMultiple(t,e);case bo.VIEWS.USE.KEYS.REGISTER:return mh.useKeysRegister(t,e);case bo.VIEWS.USE.KEYS.CLEAR:return mh.useKeysClear(t,e);case bo.VIEWS.USE.INDEXED.REGISTER:return mh.registerUseIndexed(t,e);case bo.VIEWS.USE.INDEXED.CLEAR:return mh.useIndexedClear(t,e);case bo.VIEWS.INDEX.CLEAR_ALL:return mh.clearIndexes(t,e);case bo.VIEWS.INDEX.CLEAR_INDEX:return mh.clearIndex(t,e);case bo.VIEWS.MARK_DELETED:return mh.markDeleted(t,e);case bo.COMMON.DATA.SET_OUTDATED:return mh.dataSetOutdated(t,e);case bo.COMMON.DATA.CLEANUP_ON_LOGOUT:return mh.cleanupOnLogout(t,e);default:return t}};function tm(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?em(Object(n),!0).forEach((function(e){rm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var im={windows:{},sets:{}},om={orderByHistory:[]},am={minWidth:100,minHeight:200,maxWidth:500,maxHeight:500,width:200,height:300,position:{top:50,left:50}},sm=function(t,e){var n=nm({},t.windows);n[e.windowKey]={key:e.windowKey,data:{state:e.state?e.state:null,settings:nm({},am,{},e.settings),component:e.component,props:e.props}};var r=nm({},t.sets);return r[e.setKey]=nm({},om,{},r[e.setKey]),r[e.setKey].orderByHistory=[].concat(tm(r[e.setKey].orderByHistory),[e.windowKey]),nm({},t,{windows:n,sets:r})},um=function(t,e){var n=nm({},t.windows);n[e.windowKey]={key:e.windowKey,data:nm({},n[e.windowKey].data,{state:"open"})};var r=nm({},t.sets);return r[e.setKey]=nm({},om,{},r[e.setKey]),r[e.setKey].orderByHistory=[].concat(tm(r[e.setKey].orderByHistory),[e.windowKey]),nm({},t,{windows:n,sets:r})},lm=function(t,e){var n=nm({},t.sets);if(y.a.isEmpty(n)||y.a.isEmpty(n[e.setKey])||!e.windowKey)return t;var r=y.a.without(tm(n[e.setKey].orderByHistory),e.windowKey),i=nm({},t.windows);return i[e.windowKey]&&(i[e.windowKey]={key:e.windowKey,data:nm({},i[e.windowKey].data,{state:"close"})}),nm({},t,{windows:i,sets:nm({},n,rm({},e.setKey,{orderByHistory:r}))})},cm=function(t,e){var n=nm({},t.sets),r=y.a.without(tm(n[e.setKey].orderByHistory),e.windowKey);return r.push(e.windowKey),nm({},t,{sets:nm({},n,rm({},e.setKey,nm({},n[e.setKey],{orderByHistory:r})))})},hm=function(t,e){var n=nm({},t.windows);return n[e.windowKey]={key:e.windowKey,data:nm({},n[e.windowKey].data,{},e.data)},nm({},t,{windows:n})},fm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:im,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bo.WINDOWS.ADD:return sm(t,e);case bo.WINDOWS.OPEN:return um(t,e);case bo.WINDOWS.REMOVE:return lm(t,e);case bo.WINDOWS.SETS.ADD:case bo.WINDOWS.TOP:return cm(t,e);case bo.WINDOWS.UPDATE:return hm(t,e);default:return t}};n.d(e,"_deprecatedSelectionsActions",(function(){return pm})),n.d(e,"_deprecatedSelectionsSelectors",(function(){return dm})),n.d(e,"appActions",(function(){return gm})),n.d(e,"appSelectors",(function(){return mm})),n.d(e,"areaRelationsActions",(function(){return ym})),n.d(e,"areaRelationsSelectors",(function(){return vm})),n.d(e,"areasActions",(function(){return bm})),n.d(e,"areasSelectors",(function(){return Em})),n.d(e,"attributeDataActions",(function(){return _m})),n.d(e,"attributeDataSelectors",(function(){return wm})),n.d(e,"attributeDataSourcesActions",(function(){return Sm})),n.d(e,"attributeDataSourcesSelectors",(function(){return xm})),n.d(e,"attributeRelationsActions",(function(){return Tm})),n.d(e,"attributeRelationsSelectors",(function(){return Om})),n.d(e,"attributesActions",(function(){return Cm})),n.d(e,"attributesSelectors",(function(){return Am})),n.d(e,"attributeSetsActions",(function(){return Lm})),n.d(e,"attributeSetsSelectors",(function(){return Pm})),n.d(e,"attributeStatisticsActions",(function(){return Rm})),n.d(e,"attributeStatisticsSelectors",(function(){return Mm})),n.d(e,"casesActions",(function(){return km})),n.d(e,"casesSelectors",(function(){return Im})),n.d(e,"chartsActions",(function(){return Nm})),n.d(e,"chartsSelectors",(function(){return Dm})),n.d(e,"componentsActions",(function(){return jm})),n.d(e,"componentsSelectors",(function(){return Fm})),n.d(e,"layerPeriodsActions",(function(){return Vm})),n.d(e,"layerPeriodsSelectors",(function(){return Bm})),n.d(e,"layersTreesActions",(function(){return Um})),n.d(e,"layersTreesSelectors",(function(){return Gm})),n.d(e,"layerTemplatesActions",(function(){return Wm})),n.d(e,"layerTemplatesSelectors",(function(){return Km})),n.d(e,"mapsActions",(function(){return zm})),n.d(e,"mapsSelectors",(function(){return Hm})),n.d(e,"periodsActions",(function(){return Ym})),n.d(e,"periodsSelectors",(function(){return qm})),n.d(e,"placesActions",(function(){return Xm})),n.d(e,"placesSelectors",(function(){return Zm})),n.d(e,"scenariosActions",(function(){return Jm})),n.d(e,"scenariosSelectors",(function(){return Qm})),n.d(e,"scopesActions",(function(){return $m})),n.d(e,"scopesSelectors",(function(){return ty})),n.d(e,"screensActions",(function(){return ey})),n.d(e,"screensSelectors",(function(){return ny})),n.d(e,"selectionsActions",(function(){return ry})),n.d(e,"selectionsSelectors",(function(){return iy})),n.d(e,"snapshotsActions",(function(){return oy})),n.d(e,"snapshotsSelectors",(function(){return ay})),n.d(e,"spatialDataActions",(function(){return sy})),n.d(e,"spatialDataSelectors",(function(){return uy})),n.d(e,"spatialDataSourcesActions",(function(){return ly})),n.d(e,"spatialDataSourcesSelectors",(function(){return cy})),n.d(e,"spatialRelationsActions",(function(){return hy})),n.d(e,"spatialRelationsSelectors",(function(){return fy})),n.d(e,"stylesActions",(function(){return py})),n.d(e,"stylesSelectors",(function(){return dy})),n.d(e,"tagsActions",(function(){return gy})),n.d(e,"tagsSelectors",(function(){return my})),n.d(e,"usersActions",(function(){return yy})),n.d(e,"usersSelectors",(function(){return vy})),n.d(e,"viewsActions",(function(){return by})),n.d(e,"viewsSelectors",(function(){return Ey})),n.d(e,"windowsActions",(function(){return _y})),n.d(e,"windowsSelectors",(function(){return wy})),n.d(e,"createStore",(function(){return r.createStore})),n.d(e,"combineReducers",(function(){return r.combineReducers})),n.d(e,"applyMiddleware",(function(){return r.applyMiddleware})),n.d(e,"compose",(function(){return r.compose})),n.d(e,"thunk",(function(){return o.a})),n.d(e,"logger",(function(){return s.a})),n.d(e,"reduxBatch",(function(){return u.reduxBatch})),n.d(e,"connect",(function(){return l.connect})),n.d(e,"Provider",(function(){return l.Provider})),n.d(e,"connectRouter",(function(){return c.connectRouter})),n.d(e,"ConnectedRouter",(function(){return c.ConnectedRouter})),n.d(e,"routerMiddleware",(function(){return c.routerMiddleware})),n.d(e,"Link",(function(){return h.Link})),n.d(e,"NavLink",(function(){return h.NavLink})),n.d(e,"withRouter",(function(){return h.withRouter})),n.d(e,"Redirect",(function(){return f.Redirect})),n.d(e,"Route",(function(){return f.Route})),n.d(e,"Switch",(function(){return f.Switch})),n.d(e,"matchPath",(function(){return f.matchPath})),n.d(e,"connects",(function(){return ch})),n.d(e,"commonActionTypesDefinitions",(function(){return vo})),n.d(e,"Action",(function(){return Uc})),n.d(e,"Select",(function(){return ho})),n.d(e,"commonActions",(function(){return na})),n.d(e,"commonHelpers",(function(){return _})),n.d(e,"commonReducers",(function(){return mh})),n.d(e,"commonSelectors",(function(){return V})),n.d(e,"DEFAULT_INITIAL_STATE",(function(){return gh})),n.d(e,"_deprecatedSelectionsReducers",(function(){return _h})),n.d(e,"appReducers",(function(){return Mh})),n.d(e,"areaRelationsReducers",(function(){return Wh})),n.d(e,"areasReducers",(function(){return Vh})),n.d(e,"attributeDataReducers",(function(){return tf})),n.d(e,"attributeDataSourcesReducers",(function(){return of})),n.d(e,"attributeRelationsReducers",(function(){return lf})),n.d(e,"attributesReducers",(function(){return qh})),n.d(e,"attributeSetsReducers",(function(){return pf})),n.d(e,"attributeStatisticsReducers",(function(){return jg})),n.d(e,"casesReducers",(function(){return yf})),n.d(e,"chartsReducers",(function(){return Rf})),n.d(e,"componentsReducers",(function(){return xf})),n.d(e,"layerPeriodsReducers",(function(){return zf})),n.d(e,"layersTreesReducers",(function(){return op})),n.d(e,"layerTemplatesReducers",(function(){return ep})),n.d(e,"mapsReducers",(function(){return ad})),n.d(e,"periodsReducers",(function(){return cd})),n.d(e,"placesReducers",(function(){return dd})),n.d(e,"scenariosReducers",(function(){return Td})),n.d(e,"scopesReducers",(function(){return Ld})),n.d(e,"screensReducers",(function(){return Hd})),n.d(e,"selectionsReducers",(function(){return Qd})),n.d(e,"snapshotsReducers",(function(){return og})),n.d(e,"spatialDataReducers",(function(){return fg})),n.d(e,"spatialDataSourcesReducers",(function(){return mg})),n.d(e,"spatialVectorDataSourcesActions",(function(){return Yl})),n.d(e,"spatialVectorDataSourcesReducers",(function(){return Tg})),n.d(e,"spatialVectorDataSourcesSelectors",(function(){return De})),n.d(e,"spatialRelationsReducers",(function(){return Lg})),n.d(e,"stylesReducers",(function(){return kg})),n.d(e,"tagsReducers",(function(){return Ug})),n.d(e,"usersReducers",(function(){return Xg})),n.d(e,"viewsReducers",(function(){return $g})),n.d(e,"windowsReducers",(function(){return fm}));var pm=Uc._deprecatedSelections,dm=ho._deprecatedSelections,gm=Uc.app,mm=ho.app,ym=Uc.areaRelations,vm=ho.areaRelations,bm=Uc.areas,Em=ho.areas,_m=Uc.attributeData,wm=ho.attributeData,Sm=Uc.attributeDataSources,xm=ho.attributeDataSources,Tm=Uc.attributeRelations,Om=ho.attributeRelations,Cm=Uc.attributes,Am=ho.attributes,Lm=Uc.attributeSets,Pm=ho.attributeSets,Rm=Uc.attributeStatistics,Mm=ho.attributeStatistics,km=Uc.cases,Im=ho.cases,Nm=Uc.charts,Dm=ho.charts,jm=Uc.components,Fm=ho.components,Vm=Uc.layerPeriods,Bm=ho.layerPeriods,Um=Uc.layersTrees,Gm=ho.layersTrees,Wm=Uc.layerTemplates,Km=ho.layerTemplates,zm=Uc.maps,Hm=ho.maps,Ym=Uc.periods,qm=ho.periods,Xm=Uc.places,Zm=ho.places,Jm=Uc.scenarios,Qm=ho.scenarios,$m=Uc.scopes,ty=ho.scopes,ey=Uc.screens,ny=ho.screens,ry=Uc.selections,iy=ho.selections,oy=Uc.snapshots,ay=ho.snapshots,sy=Uc.spatialData,uy=ho.spatialData,ly=Uc.spatialDataSources,cy=ho.spatialDataSources,hy=Uc.spatialRelations,fy=ho.spatialRelations,py=Uc.styles,dy=ho.styles,gy=Uc.tags,my=ho.tags,yy=Uc.users,vy=ho.users,by=Uc.views,Ey=ho.views,_y=Uc.windows,wy=ho.windows;e.default={commonActionTypesDefinitions:vo,Action:Uc,Select:ho,commonActions:na,commonHelpers:_,commonReducers:mh,commonSelectors:V,DEFAULT_INITIAL_STATE:gh}}]))},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},function(t,e,n){(function(t,r){var i;(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",d="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Object]",v="[object RegExp]",b="[object Set]",E="[object String]",_="[object Symbol]",w="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",T="[object Float32Array]",O="[object Float64Array]",C="[object Int8Array]",A="[object Int16Array]",L="[object Int32Array]",P="[object Uint8Array]",R="[object Uint16Array]",M="[object Uint32Array]",k=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,F=RegExp(D.source),V=RegExp(j.source),B=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(H.source),q=/^\s+|\s+$/g,X=/^\s+/,Z=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",gt="["+pt+"]",mt="["+ft+"]",yt="\\d+",vt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Et="[^\\ud800-\\udfff"+pt+yt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_t="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",St="(?:\\ud83c[\\udde6-\\uddff]){2}",xt="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ot="(?:"+bt+"|"+Et+")",Ct="(?:"+Tt+"|"+Et+")",At="(?:"+mt+"|"+_t+")"+"?",Lt="[\\ufe0e\\ufe0f]?"+At+("(?:\\u200d(?:"+[wt,St,xt].join("|")+")[\\ufe0e\\ufe0f]?"+At+")*"),Pt="(?:"+[vt,St,xt].join("|")+")"+Lt,Rt="(?:"+[wt+mt+"?",mt,St,xt,dt].join("|")+")",Mt=RegExp("['\u2019]","g"),kt=RegExp(mt,"g"),It=RegExp(_t+"(?="+_t+")|"+Rt+Lt,"g"),Nt=RegExp([Tt+"?"+bt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[gt,Tt,"$"].join("|")+")",Ct+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[gt,Tt+Ot,"$"].join("|")+")",Tt+"?"+Ot+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Tt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yt,Pt].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff"+ft+"\\ufe0e\\ufe0f]"),jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ft=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vt=-1,Bt={};Bt[T]=Bt[O]=Bt[C]=Bt[A]=Bt[L]=Bt[P]=Bt["[object Uint8ClampedArray]"]=Bt[R]=Bt[M]=!0,Bt[u]=Bt[l]=Bt[S]=Bt[c]=Bt[x]=Bt[h]=Bt[f]=Bt[p]=Bt[g]=Bt[m]=Bt[y]=Bt[v]=Bt[b]=Bt[E]=Bt[w]=!1;var Ut={};Ut[u]=Ut[l]=Ut[S]=Ut[x]=Ut[c]=Ut[h]=Ut[T]=Ut[O]=Ut[C]=Ut[A]=Ut[L]=Ut[g]=Ut[m]=Ut[y]=Ut[v]=Ut[b]=Ut[E]=Ut[_]=Ut[P]=Ut["[object Uint8ClampedArray]"]=Ut[R]=Ut[M]=!0,Ut[f]=Ut[p]=Ut[w]=!1;var Gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wt=parseFloat,Kt=parseInt,zt="object"==typeof t&&t&&t.Object===Object&&t,Ht="object"==typeof self&&self&&self.Object===Object&&self,Yt=zt||Ht||Function("return this")(),qt=e&&!e.nodeType&&e,Xt=qt&&"object"==typeof r&&r&&!r.nodeType&&r,Zt=Xt&&Xt.exports===qt,Jt=Zt&&zt.process,Qt=function(){try{var t=Xt&&Xt.require&&Xt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(e){}}(),$t=Qt&&Qt.isArrayBuffer,te=Qt&&Qt.isDate,ee=Qt&&Qt.isMap,ne=Qt&&Qt.isRegExp,re=Qt&&Qt.isSet,ie=Qt&&Qt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ue(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ce(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function he(t,e){return!!(null==t?0:t.length)&&_e(t,e,0)>-1}function fe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function de(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ge(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function me(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ve=Te("length");function be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ee(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function _e(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ee(t,Se,n)}function we(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Se(t){return t!==t}function xe(t,e){var n=null==t?0:t.length;return n?Ae(t,e)/n:NaN}function Te(t){return function(e){return null==e?void 0:e[t]}}function Oe(t){return function(e){return null==t?void 0:t[e]}}function Ce(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ae(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Le(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Pe(t){return function(e){return t(e)}}function Re(t,e){return pe(e,(function(e){return t[e]}))}function Me(t,e){return t.has(e)}function ke(t,e){for(var n=-1,r=t.length;++n<r&&_e(e,t[n],0)>-1;);return n}function Ie(t,e){for(var n=t.length;n--&&_e(e,t[n],0)>-1;);return n}function Ne(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var De=Oe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),je=Oe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fe(t){return"\\"+Gt[t]}function Ve(t){return Dt.test(t)}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ue(t,e){return function(n){return t(e(n))}}function Ge(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function We(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Ke(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ze(t){return Ve(t)?function(t){var e=It.lastIndex=0;for(;It.test(t);)++e;return e}(t):ve(t)}function He(t){return Ve(t)?function(t){return t.match(It)||[]}(t):function(t){return t.split("")}(t)}var Ye=Oe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var qe=function t(e){var n=(e=null==e?Yt:qe.defaults(Yt.Object(),e,qe.pick(Yt,Ft))).Array,r=e.Date,i=e.Error,ft=e.Function,pt=e.Math,dt=e.Object,gt=e.RegExp,mt=e.String,yt=e.TypeError,vt=n.prototype,bt=ft.prototype,Et=dt.prototype,_t=e["__core-js_shared__"],wt=bt.toString,St=Et.hasOwnProperty,xt=0,Tt=function(){var t=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ot=Et.toString,Ct=wt.call(dt),At=Yt._,Lt=gt("^"+wt.call(St).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=Zt?e.Buffer:void 0,Rt=e.Symbol,It=e.Uint8Array,Dt=Pt?Pt.allocUnsafe:void 0,Gt=Ue(dt.getPrototypeOf,dt),zt=dt.create,Ht=Et.propertyIsEnumerable,qt=vt.splice,Xt=Rt?Rt.isConcatSpreadable:void 0,Jt=Rt?Rt.iterator:void 0,Qt=Rt?Rt.toStringTag:void 0,ve=function(){try{var t=Qi(dt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Oe=e.clearTimeout!==Yt.clearTimeout&&e.clearTimeout,Xe=r&&r.now!==Yt.Date.now&&r.now,Ze=e.setTimeout!==Yt.setTimeout&&e.setTimeout,Je=pt.ceil,Qe=pt.floor,$e=dt.getOwnPropertySymbols,tn=Pt?Pt.isBuffer:void 0,en=e.isFinite,nn=vt.join,rn=Ue(dt.keys,dt),on=pt.max,an=pt.min,sn=r.now,un=e.parseInt,ln=pt.random,cn=vt.reverse,hn=Qi(e,"DataView"),fn=Qi(e,"Map"),pn=Qi(e,"Promise"),dn=Qi(e,"Set"),gn=Qi(e,"WeakMap"),mn=Qi(dt,"create"),yn=gn&&new gn,vn={},bn=Oo(hn),En=Oo(fn),_n=Oo(pn),wn=Oo(dn),Sn=Oo(gn),xn=Rt?Rt.prototype:void 0,Tn=xn?xn.valueOf:void 0,On=xn?xn.toString:void 0;function Cn(t){if(Wa(t)&&!Ma(t)&&!(t instanceof Rn)){if(t instanceof Pn)return t;if(St.call(t,"__wrapped__"))return Co(t)}return new Pn(t)}var An=function(){function t(){}return function(e){if(!Ga(e))return{};if(zt)return zt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Ln(){}function Pn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Rn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new In;++e<n;)this.add(t[e])}function Dn(t){var e=this.__data__=new kn(t);this.size=e.size}function jn(t,e){var n=Ma(t),r=!n&&Ra(t),i=!n&&!r&&Da(t),o=!n&&!r&&!i&&Ja(t),a=n||r||i||o,s=a?Le(t.length,mt):[],u=s.length;for(var l in t)!e&&!St.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||oo(l,u))||s.push(l);return s}function Fn(t){var e=t.length;return e?t[Nr(0,e-1)]:void 0}function Vn(t,e){return So(mi(t),qn(e,0,t.length))}function Bn(t){return So(mi(t))}function Un(t,e,n){(void 0===n||Aa(t[e],n))&&(void 0!==n||e in t)||Hn(t,e,n)}function Gn(t,e,n){var r=t[e];St.call(t,e)&&Aa(r,n)&&(void 0!==n||e in t)||Hn(t,e,n)}function Wn(t,e){for(var n=t.length;n--;)if(Aa(t[n][0],e))return n;return-1}function Kn(t,e,n,r){return $n(t,(function(t,i,o){e(r,t,n(t),o)})),r}function zn(t,e){return t&&yi(e,bs(e),t)}function Hn(t,e,n){"__proto__"==e&&ve?ve(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var r=-1,i=e.length,o=n(i),a=null==t;++r<i;)o[r]=a?void 0:ds(t,e[r]);return o}function qn(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Xn(t,e,n,r,i,o){var a,s=1&e,l=2&e,f=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ga(t))return t;var w=Ma(t);if(w){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&St.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return mi(t,a)}else{var k=eo(t),I=k==p||k==d;if(Da(t))return ci(t,s);if(k==y||k==u||I&&!i){if(a=l||I?{}:ro(t),!s)return l?function(t,e){return yi(t,to(t),e)}(t,function(t,e){return t&&yi(e,Es(e),t)}(a,t)):function(t,e){return yi(t,$i(t),e)}(t,zn(a,t))}else{if(!Ut[k])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case S:return hi(t);case c:case h:return new r(+t);case x:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case T:case O:case C:case A:case L:case P:case"[object Uint8ClampedArray]":case R:case M:return fi(t,n);case g:return new r;case m:case E:return new r(t);case v:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case _:return i=t,Tn?dt(Tn.call(i)):{}}var i}(t,k,s)}}o||(o=new Dn);var N=o.get(t);if(N)return N;o.set(t,a),qa(t)?t.forEach((function(r){a.add(Xn(r,e,n,r,t,o))})):Ka(t)&&t.forEach((function(r,i){a.set(i,Xn(r,e,n,i,t,o))}));var D=w?void 0:(f?l?zi:Ki:l?Es:bs)(t);return se(D||t,(function(r,i){D&&(r=t[i=r]),Gn(a,i,Xn(r,e,n,i,t,o))})),a}function Zn(t,e,n){var r=n.length;if(null==t)return!r;for(t=dt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new yt(o);return bo((function(){t.apply(void 0,n)}),e)}function Qn(t,e,n,r){var i=-1,o=he,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=pe(e,Pe(n))),r?(o=fe,a=!1):e.length>=200&&(o=Me,a=!1,e=new Nn(e));t:for(;++i<s;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h===h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,r)||u.push(c)}return u}Cn.templateSettings={escape:B,evaluate:U,interpolate:G,variable:"",imports:{_:Cn}},Cn.prototype=Ln.prototype,Cn.prototype.constructor=Cn,Pn.prototype=An(Ln.prototype),Pn.prototype.constructor=Pn,Rn.prototype=An(Ln.prototype),Rn.prototype.constructor=Rn,Mn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Mn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Mn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return St.call(e,t)?e[t]:void 0},Mn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:St.call(e,t)},Mn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},kn.prototype.clear=function(){this.__data__=[],this.size=0},kn.prototype.delete=function(t){var e=this.__data__,n=Wn(e,t);return!(n<0)&&(n==e.length-1?e.pop():qt.call(e,n,1),--this.size,!0)},kn.prototype.get=function(t){var e=this.__data__,n=Wn(e,t);return n<0?void 0:e[n][1]},kn.prototype.has=function(t){return Wn(this.__data__,t)>-1},kn.prototype.set=function(t,e){var n=this.__data__,r=Wn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},In.prototype.clear=function(){this.size=0,this.__data__={hash:new Mn,map:new(fn||kn),string:new Mn}},In.prototype.delete=function(t){var e=Zi(this,t).delete(t);return this.size-=e?1:0,e},In.prototype.get=function(t){return Zi(this,t).get(t)},In.prototype.has=function(t){return Zi(this,t).has(t)},In.prototype.set=function(t,e){var n=Zi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Nn.prototype.add=Nn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Nn.prototype.has=function(t){return this.__data__.has(t)},Dn.prototype.clear=function(){this.__data__=new kn,this.size=0},Dn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Dn.prototype.get=function(t){return this.__data__.get(t)},Dn.prototype.has=function(t){return this.__data__.has(t)},Dn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof kn){var r=n.__data__;if(!fn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new In(r)}return n.set(t,e),this.size=n.size,this};var $n=Ei(sr),tr=Ei(ur,!0);function er(t,e){var n=!0;return $n(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function nr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a===a&&!Za(a):n(a,s)))var s=a,u=o}return u}function rr(t,e){var n=[];return $n(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function ir(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=io),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ir(s,e-1,n,r,i):de(i,s):r||(i[i.length]=s)}return i}var or=_i(),ar=_i(!0);function sr(t,e){return t&&or(t,e,bs)}function ur(t,e){return t&&ar(t,e,bs)}function lr(t,e){return ce(e,(function(e){return Va(t[e])}))}function cr(t,e){for(var n=0,r=(e=ai(e,t)).length;null!=t&&n<r;)t=t[To(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Ma(t)?r:de(r,n(t))}function fr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Qt&&Qt in dt(t)?function(t){var e=St.call(t,Qt),n=t[Qt];try{t[Qt]=void 0;var r=!0}catch(o){}var i=Ot.call(t);r&&(e?t[Qt]=n:delete t[Qt]);return i}(t):function(t){return Ot.call(t)}(t)}function pr(t,e){return t>e}function dr(t,e){return null!=t&&St.call(t,e)}function gr(t,e){return null!=t&&e in dt(t)}function mr(t,e,r){for(var i=r?fe:he,o=t[0].length,a=t.length,s=a,u=n(a),l=1/0,c=[];s--;){var h=t[s];s&&e&&(h=pe(h,Pe(e))),l=an(h.length,l),u[s]=!r&&(e||o>=120&&h.length>=120)?new Nn(s&&h):void 0}h=t[0];var f=-1,p=u[0];t:for(;++f<o&&c.length<l;){var d=h[f],g=e?e(d):d;if(d=r||0!==d?d:0,!(p?Me(p,g):i(c,g,r))){for(s=a;--s;){var m=u[s];if(!(m?Me(m,g):i(t[s],g,r)))continue t}p&&p.push(g),c.push(d)}}return c}function yr(t,e,n){var r=null==(t=go(t,e=ai(e,t)))?t:t[To(Fo(e))];return null==r?void 0:oe(r,t,n)}function vr(t){return Wa(t)&&fr(t)==u}function br(t,e,n,r,i){return t===e||(null==t||null==e||!Wa(t)&&!Wa(e)?t!==t&&e!==e:function(t,e,n,r,i,o){var a=Ma(t),s=Ma(e),p=a?l:eo(t),d=s?l:eo(e),w=(p=p==u?y:p)==y,T=(d=d==u?y:d)==y,O=p==d;if(O&&Da(t)){if(!Da(e))return!1;a=!0,w=!1}if(O&&!w)return o||(o=new Dn),a||Ja(t)?Gi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!o(new It(t),new It(e)));case c:case h:case m:return Aa(+t,+e);case f:return t.name==e.name&&t.message==e.message;case v:case E:return t==e+"";case g:var s=Be;case b:var u=1&r;if(s||(s=We),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var p=Gi(s(t),s(e),r,i,o,a);return a.delete(t),p;case _:if(Tn)return Tn.call(t)==Tn.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var C=w&&St.call(t,"__wrapped__"),A=T&&St.call(e,"__wrapped__");if(C||A){var L=C?t.value():t,P=A?e.value():e;return o||(o=new Dn),i(L,P,n,r,o)}}if(!O)return!1;return o||(o=new Dn),function(t,e,n,r,i,o){var a=1&n,s=Ki(t),u=s.length,l=Ki(e).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var h=s[c];if(!(a?h in e:St.call(e,h)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var p=!0;o.set(t,e),o.set(e,t);var d=a;for(;++c<u;){h=s[c];var g=t[h],m=e[h];if(r)var y=a?r(m,g,h,e,t,o):r(g,m,h,t,e,o);if(!(void 0===y?g===m||i(g,m,n,r,o):y)){p=!1;break}d||(d="constructor"==h)}if(p&&!d){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,br,i))}function Er(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=dt(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var h=new Dn;if(r)var f=r(l,c,u,t,e,h);if(!(void 0===f?br(c,l,3,r,h):f))return!1}}return!0}function _r(t){return!(!Ga(t)||(e=t,Tt&&Tt in e))&&(Va(t)?Lt:at).test(Oo(t));var e}function wr(t){return"function"==typeof t?t:null==t?zs:"object"==typeof t?Ma(t)?Ar(t[0],t[1]):Cr(t):tu(t)}function Sr(t){if(!co(t))return rn(t);var e=[];for(var n in dt(t))St.call(t,n)&&"constructor"!=n&&e.push(n);return e}function xr(t){if(!Ga(t))return function(t){var e=[];if(null!=t)for(var n in dt(t))e.push(n);return e}(t);var e=co(t),n=[];for(var r in t)("constructor"!=r||!e&&St.call(t,r))&&n.push(r);return n}function Tr(t,e){return t<e}function Or(t,e){var r=-1,i=Ia(t)?n(t.length):[];return $n(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Cr(t){var e=Ji(t);return 1==e.length&&e[0][2]?fo(e[0][0],e[0][1]):function(n){return n===t||Er(n,t,e)}}function Ar(t,e){return so(t)&&ho(e)?fo(To(t),e):function(n){var r=ds(n,t);return void 0===r&&r===e?gs(n,t):br(e,r,3)}}function Lr(t,e,n,r,i){t!==e&&or(e,(function(o,a){if(i||(i=new Dn),Ga(o))!function(t,e,n,r,i,o,a){var s=yo(t,n),u=yo(e,n),l=a.get(u);if(l)return void Un(t,n,l);var c=o?o(s,u,n+"",t,e,a):void 0,h=void 0===c;if(h){var f=Ma(u),p=!f&&Da(u),d=!f&&!p&&Ja(u);c=u,f||p||d?Ma(s)?c=s:Na(s)?c=mi(s):p?(h=!1,c=ci(u,!0)):d?(h=!1,c=fi(u,!0)):c=[]:Ha(u)||Ra(u)?(c=s,Ra(s)?c=os(s):Ga(s)&&!Va(s)||(c=ro(u))):h=!1}h&&(a.set(u,c),i(c,u,r,o,a),a.delete(u));Un(t,n,c)}(t,e,a,n,Lr,r,i);else{var s=r?r(yo(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),Un(t,a,s)}}),Es)}function Pr(t,e){var n=t.length;if(n)return oo(e+=e<0?n:0,n)?t[e]:void 0}function Rr(t,e,n){var r=-1;return e=pe(e.length?e:[zs],Pe(Xi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Or(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=pi(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Mr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=cr(t,a);n(s,a)&&Br(o,ai(a,t),s)}return o}function kr(t,e,n,r){var i=r?we:_e,o=-1,a=e.length,s=t;for(t===e&&(e=mi(e)),n&&(s=pe(t,Pe(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&qt.call(s,u,1),qt.call(t,u,1);return t}function Ir(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;oo(i)?qt.call(t,i,1):Qr(t,i)}}return t}function Nr(t,e){return t+Qe(ln()*(e-t+1))}function Dr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function jr(t,e){return Eo(po(t,e,zs),t+"")}function Fr(t){return Fn(As(t))}function Vr(t,e){var n=As(t);return So(n,qn(e,0,n.length))}function Br(t,e,n,r){if(!Ga(t))return t;for(var i=-1,o=(e=ai(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=To(e[i]),l=n;if(i!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=Ga(c)?c:oo(e[i+1])?[]:{})}Gn(s,u,l),s=s[u]}return t}var Ur=yn?function(t,e){return yn.set(t,e),t}:zs,Gr=ve?function(t,e){return ve(t,"toString",{configurable:!0,enumerable:!1,value:Gs(e),writable:!0})}:zs;function Wr(t){return So(As(t))}function Kr(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function zr(t,e){var n;return $n(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Hr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Za(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Yr(t,e,zs,n)}function Yr(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=Za(e),l=void 0===e;i<o;){var c=Qe((i+o)/2),h=n(t[c]),f=void 0!==h,p=null===h,d=h===h,g=Za(h);if(a)var m=r||d;else m=l?d&&(r||f):s?d&&f&&(r||!p):u?d&&f&&!p&&(r||!g):!p&&!g&&(r?h<=e:h<e);m?i=c+1:o=c}return an(o,4294967294)}function qr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Aa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Xr(t){return"number"==typeof t?t:Za(t)?NaN:+t}function Zr(t){if("string"==typeof t)return t;if(Ma(t))return pe(t,Zr)+"";if(Za(t))return On?On.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jr(t,e,n){var r=-1,i=he,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=fe;else if(o>=200){var l=e?null:Di(t);if(l)return We(l);a=!1,i=Me,u=new Nn}else u=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function Qr(t,e){return null==(t=go(t,e=ai(e,t)))||delete t[To(Fo(e))]}function $r(t,e,n,r){return Br(t,e,n(cr(t,e)),r)}function ti(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Kr(t,r?0:o,r?o+1:i):Kr(t,r?o+1:0,r?i:o)}function ei(t,e){var n=t;return n instanceof Rn&&(n=n.value()),ge(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function ni(t,e,r){var i=t.length;if(i<2)return i?Jr(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=Qn(a[o]||s,t[u],e,r));return Jr(ir(a,1),e,r)}function ri(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function ii(t){return Na(t)?t:[]}function oi(t){return"function"==typeof t?t:zs}function ai(t,e){return Ma(t)?t:so(t,e)?[t]:xo(as(t))}var si=jr;function ui(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Kr(t,e,n)}var li=Oe||function(t){return Yt.clearTimeout(t)};function ci(t,e){if(e)return t.slice();var n=t.length,r=Dt?Dt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new It(e).set(new It(t)),e}function fi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function pi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t===t,o=Za(t),a=void 0!==e,s=null===e,u=e===e,l=Za(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function di(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,l=e.length,c=on(a-s,0),h=n(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function gi(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,l=-1,c=e.length,h=on(a-u,0),f=n(h+c),p=!i;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++s<u;)(p||o<a)&&(f[d+r[s]]=t[o++]);return f}function mi(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function yi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?Hn(n,s,u):Gn(n,s,u)}return n}function vi(t,e){return function(n,r){var i=Ma(n)?ae:Kn,o=e?e():{};return i(n,t,Xi(r,2),o)}}function bi(t){return jr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&ao(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=dt(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function Ei(t,e){return function(n,r){if(null==n)return n;if(!Ia(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=dt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function _i(t){return function(e,n,r){for(var i=-1,o=dt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function wi(t){return function(e){var n=Ve(e=as(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?ui(n,1).join(""):e.slice(1);return r[t]()+i}}function Si(t){return function(e){return ge(Vs(Rs(e).replace(Mt,"")),t,"")}}function xi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=An(t.prototype),r=t.apply(n,e);return Ga(r)?r:n}}function Ti(t){return function(e,n,r){var i=dt(e);if(!Ia(e)){var o=Xi(n,3);e=bs(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Oi(t){return Wi((function(e){var n=e.length,r=n,i=Pn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new yt(o);if(i&&!s&&"wrapper"==Yi(a))var s=new Pn([],!0)}for(r=s?r:n;++r<n;){var u=Yi(a=e[r]),l="wrapper"==u?Hi(a):void 0;s=l&&uo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Yi(l[0])].apply(s,l[3]):1==a.length&&uo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Ma(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ci(t,e,r,i,o,a,s,u,l,c){var h=128&e,f=1&e,p=2&e,d=24&e,g=512&e,m=p?void 0:xi(t);return function y(){for(var v=arguments.length,b=n(v),E=v;E--;)b[E]=arguments[E];if(d)var _=qi(y),w=Ne(b,_);if(i&&(b=di(b,i,o,d)),a&&(b=gi(b,a,s,d)),v-=w,d&&v<c){var S=Ge(b,_);return Ii(t,e,Ci,y.placeholder,r,b,S,u,l,c-v)}var x=f?r:this,T=p?x[t]:t;return v=b.length,u?b=mo(b,u):g&&v>1&&b.reverse(),h&&l<v&&(b.length=l),this&&this!==Yt&&this instanceof y&&(T=m||xi(T)),T.apply(x,b)}}function Ai(t,e){return function(n,r){return function(t,e,n,r){return sr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Li(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Xr(n),r=Xr(r)),i=t(n,r)}return i}}function Pi(t){return Wi((function(e){return e=pe(e,Pe(Xi())),jr((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Ri(t,e){var n=(e=void 0===e?" ":Zr(e)).length;if(n<2)return n?Dr(e,t):e;var r=Dr(e,Je(t/ze(e)));return Ve(e)?ui(He(r),0,t).join(""):r.slice(0,t)}function Mi(t){return function(e,r,i){return i&&"number"!=typeof i&&ao(e,r,i)&&(r=i=void 0),e=es(e),void 0===r?(r=e,e=0):r=es(r),function(t,e,r,i){for(var o=-1,a=on(Je((e-t)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=t,t+=r;return s}(e,r,i=void 0===i?e<r?1:-1:es(i),t)}}function ki(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=is(e),n=is(n)),t(e,n)}}function Ii(t,e,n,r,i,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var h=[t,e,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],f=n.apply(void 0,h);return uo(t)&&vo(f,h),f.placeholder=r,_o(f,t,e)}function Ni(t){var e=pt[t];return function(t,n){if(t=is(t),(n=null==n?0:an(ns(n),292))&&en(t)){var r=(as(t)+"e").split("e");return+((r=(as(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Di=dn&&1/We(new dn([,-0]))[1]==1/0?function(t){return new dn(t)}:Zs;function ji(t){return function(e){var n=eo(e);return n==g?Be(e):n==b?Ke(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Fi(t,e,r,i,s,u,l,c){var h=2&e;if(!h&&"function"!=typeof t)throw new yt(o);var f=i?i.length:0;if(f||(e&=-97,i=s=void 0),l=void 0===l?l:on(ns(l),0),c=void 0===c?c:ns(c),f-=s?s.length:0,64&e){var p=i,d=s;i=s=void 0}var g=h?void 0:Hi(t),m=[t,e,r,i,s,p,d,u,l,c];if(g&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?di(l,u,e[4]):u,t[4]=l?Ge(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?gi(l,u,e[6]):u,t[6]=l?Ge(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&r&&(t[8]=null==t[8]?e[8]:an(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(m,g),t=m[0],e=m[1],r=m[2],i=m[3],s=m[4],!(c=m[9]=void 0===m[9]?h?0:t.length:on(m[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)y=8==e||16==e?function(t,e,r){var i=xi(t);return function o(){for(var a=arguments.length,s=n(a),u=a,l=qi(o);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:Ge(s,l);if((a-=c.length)<r)return Ii(t,e,Ci,o.placeholder,void 0,s,c,void 0,void 0,r-a);var h=this&&this!==Yt&&this instanceof o?i:t;return oe(h,this,s)}}(t,e,c):32!=e&&33!=e||s.length?Ci.apply(void 0,m):function(t,e,r,i){var o=1&e,a=xi(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==Yt&&this instanceof e?a:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++s];return oe(f,o?r:this,h)}}(t,e,r,i);else var y=function(t,e,n){var r=1&e,i=xi(t);return function e(){var o=this&&this!==Yt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,r);return _o((g?Ur:vo)(y,m),t,e)}function Vi(t,e,n,r){return void 0===t||Aa(t,Et[n])&&!St.call(r,n)?e:t}function Bi(t,e,n,r,i,o){return Ga(t)&&Ga(e)&&(o.set(e,t),Lr(t,e,void 0,Bi,o),o.delete(e)),t}function Ui(t){return Ha(t)?void 0:t}function Gi(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,f=2&n?new Nn:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var p=t[c],d=e[c];if(r)var g=a?r(d,p,c,e,t,o):r(p,d,c,t,e,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!ye(e,(function(t,e){if(!Me(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)}))){h=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Wi(t){return Eo(po(t,void 0,ko),t+"")}function Ki(t){return hr(t,bs,$i)}function zi(t){return hr(t,Es,to)}var Hi=yn?function(t){return yn.get(t)}:Zs;function Yi(t){for(var e=t.name+"",n=vn[e],r=St.call(vn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function qi(t){return(St.call(Cn,"placeholder")?Cn:t).placeholder}function Xi(){var t=Cn.iteratee||Hs;return t=t===Hs?wr:t,arguments.length?t(arguments[0],arguments[1]):t}function Zi(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ji(t){for(var e=bs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Qi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return _r(n)?n:void 0}var $i=$e?function(t){return null==t?[]:(t=dt(t),ce($e(t),(function(e){return Ht.call(t,e)})))}:ru,to=$e?function(t){for(var e=[];t;)de(e,$i(t)),t=Gt(t);return e}:ru,eo=fr;function no(t,e,n){for(var r=-1,i=(e=ai(e,t)).length,o=!1;++r<i;){var a=To(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ua(i)&&oo(a,i)&&(Ma(t)||Ra(t))}function ro(t){return"function"!=typeof t.constructor||co(t)?{}:An(Gt(t))}function io(t){return Ma(t)||Ra(t)||!!(Xt&&t&&t[Xt])}function oo(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ut.test(t))&&t>-1&&t%1==0&&t<e}function ao(t,e,n){if(!Ga(n))return!1;var r=typeof e;return!!("number"==r?Ia(n)&&oo(e,n.length):"string"==r&&e in n)&&Aa(n[e],t)}function so(t,e){if(Ma(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Za(t))||(K.test(t)||!W.test(t)||null!=e&&t in dt(e))}function uo(t){var e=Yi(t),n=Cn[e];if("function"!=typeof n||!(e in Rn.prototype))return!1;if(t===n)return!0;var r=Hi(n);return!!r&&t===r[0]}(hn&&eo(new hn(new ArrayBuffer(1)))!=x||fn&&eo(new fn)!=g||pn&&"[object Promise]"!=eo(pn.resolve())||dn&&eo(new dn)!=b||gn&&eo(new gn)!=w)&&(eo=function(t){var e=fr(t),n=e==y?t.constructor:void 0,r=n?Oo(n):"";if(r)switch(r){case bn:return x;case En:return g;case _n:return"[object Promise]";case wn:return b;case Sn:return w}return e});var lo=_t?Va:iu;function co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Et)}function ho(t){return t===t&&!Ga(t)}function fo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in dt(n)))}}function po(t,e,r){return e=on(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=on(i.length-e,0),s=n(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(s),oe(t,this,u)}}function go(t,e){return e.length<2?t:cr(t,Kr(e,0,-1))}function mo(t,e){for(var n=t.length,r=an(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=oo(o,n)?i[o]:void 0}return t}function yo(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var vo=wo(Ur),bo=Ze||function(t,e){return Yt.setTimeout(t,e)},Eo=wo(Gr);function _o(t,e,n){var r=e+"";return Eo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(J,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return se(s,(function(n){var r="_."+n[0];e&n[1]&&!he(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split($):[]}(r),n)))}function wo(t){var e=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function So(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Nr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var xo=function(t){var e=wa(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(z,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function To(t){if("string"==typeof t||Za(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Oo(t){if(null!=t){try{return wt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Co(t){if(t instanceof Rn)return t.clone();var e=new Pn(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ao=jr((function(t,e){return Na(t)?Qn(t,ir(e,1,Na,!0)):[]})),Lo=jr((function(t,e){var n=Fo(e);return Na(n)&&(n=void 0),Na(t)?Qn(t,ir(e,1,Na,!0),Xi(n,2)):[]})),Po=jr((function(t,e){var n=Fo(e);return Na(n)&&(n=void 0),Na(t)?Qn(t,ir(e,1,Na,!0),void 0,n):[]}));function Ro(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ns(n);return i<0&&(i=on(r+i,0)),Ee(t,Xi(e,3),i)}function Mo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ns(n),i=n<0?on(r+i,0):an(i,r-1)),Ee(t,Xi(e,3),i,!0)}function ko(t){return(null==t?0:t.length)?ir(t,1):[]}function Io(t){return t&&t.length?t[0]:void 0}var No=jr((function(t){var e=pe(t,ii);return e.length&&e[0]===t[0]?mr(e):[]})),Do=jr((function(t){var e=Fo(t),n=pe(t,ii);return e===Fo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,Xi(e,2)):[]})),jo=jr((function(t){var e=Fo(t),n=pe(t,ii);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Fo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Vo=jr(Bo);function Bo(t,e){return t&&t.length&&e&&e.length?kr(t,e):t}var Uo=Wi((function(t,e){var n=null==t?0:t.length,r=Yn(t,e);return Ir(t,pe(e,(function(t){return oo(t,n)?+t:t})).sort(pi)),r}));function Go(t){return null==t?t:cn.call(t)}var Wo=jr((function(t){return Jr(ir(t,1,Na,!0))})),Ko=jr((function(t){var e=Fo(t);return Na(e)&&(e=void 0),Jr(ir(t,1,Na,!0),Xi(e,2))})),zo=jr((function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,Jr(ir(t,1,Na,!0),void 0,e)}));function Ho(t){if(!t||!t.length)return[];var e=0;return t=ce(t,(function(t){if(Na(t))return e=on(t.length,e),!0})),Le(e,(function(e){return pe(t,Te(e))}))}function Yo(t,e){if(!t||!t.length)return[];var n=Ho(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var qo=jr((function(t,e){return Na(t)?Qn(t,e):[]})),Xo=jr((function(t){return ni(ce(t,Na))})),Zo=jr((function(t){var e=Fo(t);return Na(e)&&(e=void 0),ni(ce(t,Na),Xi(e,2))})),Jo=jr((function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,ni(ce(t,Na),void 0,e)})),Qo=jr(Ho);var $o=jr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Yo(t,n)}));function ta(t){var e=Cn(t);return e.__chain__=!0,e}function ea(t,e){return e(t)}var na=Wi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Rn&&oo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ea,args:[i],thisArg:void 0}),new Pn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ra=vi((function(t,e,n){St.call(t,n)?++t[n]:Hn(t,n,1)}));var ia=Ti(Ro),oa=Ti(Mo);function aa(t,e){return(Ma(t)?se:$n)(t,Xi(e,3))}function sa(t,e){return(Ma(t)?ue:tr)(t,Xi(e,3))}var ua=vi((function(t,e,n){St.call(t,n)?t[n].push(e):Hn(t,n,[e])}));var la=jr((function(t,e,r){var i=-1,o="function"==typeof e,a=Ia(t)?n(t.length):[];return $n(t,(function(t){a[++i]=o?oe(e,t,r):yr(t,e,r)})),a})),ca=vi((function(t,e,n){Hn(t,n,e)}));function ha(t,e){return(Ma(t)?pe:Or)(t,Xi(e,3))}var fa=vi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var pa=jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ao(t,e[0],e[1])?e=[]:n>2&&ao(e[0],e[1],e[2])&&(e=[e[0]]),Rr(t,ir(e,1),[])})),da=Xe||function(){return Yt.Date.now()};function ga(t,e,n){return e=n?void 0:e,Fi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ma(t,e){var n;if("function"!=typeof e)throw new yt(o);return t=ns(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ya=jr((function(t,e,n){var r=1;if(n.length){var i=Ge(n,qi(ya));r|=32}return Fi(t,r,e,n,i)})),va=jr((function(t,e,n){var r=3;if(n.length){var i=Ge(n,qi(va));r|=32}return Fi(e,r,t,n,i)}));function ba(t,e,n){var r,i,a,s,u,l,c=0,h=!1,f=!1,p=!0;if("function"!=typeof t)throw new yt(o);function d(e){var n=r,o=i;return r=i=void 0,c=e,s=t.apply(o,n)}function g(t){return c=t,u=bo(y,e),h?d(t):s}function m(t){var n=t-l;return void 0===l||n>=e||n<0||f&&t-c>=a}function y(){var t=da();if(m(t))return v(t);u=bo(y,function(t){var n=e-(t-l);return f?an(n,a-(t-c)):n}(t))}function v(t){return u=void 0,p&&r?d(t):(r=i=void 0,s)}function b(){var t=da(),n=m(t);if(r=arguments,i=this,l=t,n){if(void 0===u)return g(l);if(f)return li(u),u=bo(y,e),d(l)}return void 0===u&&(u=bo(y,e)),s}return e=is(e)||0,Ga(n)&&(h=!!n.leading,a=(f="maxWait"in n)?on(is(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==u&&li(u),c=0,r=l=i=u=void 0},b.flush=function(){return void 0===u?s:v(da())},b}var Ea=jr((function(t,e){return Jn(t,1,e)})),_a=jr((function(t,e,n){return Jn(t,is(e)||0,n)}));function wa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new yt(o);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(wa.Cache||In),n}function Sa(t){if("function"!=typeof t)throw new yt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}wa.Cache=In;var xa=si((function(t,e){var n=(e=1==e.length&&Ma(e[0])?pe(e[0],Pe(Xi())):pe(ir(e,1),Pe(Xi()))).length;return jr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Ta=jr((function(t,e){return Fi(t,32,void 0,e,Ge(e,qi(Ta)))})),Oa=jr((function(t,e){return Fi(t,64,void 0,e,Ge(e,qi(Oa)))})),Ca=Wi((function(t,e){return Fi(t,256,void 0,void 0,void 0,e)}));function Aa(t,e){return t===e||t!==t&&e!==e}var La=ki(pr),Pa=ki((function(t,e){return t>=e})),Ra=vr(function(){return arguments}())?vr:function(t){return Wa(t)&&St.call(t,"callee")&&!Ht.call(t,"callee")},Ma=n.isArray,ka=$t?Pe($t):function(t){return Wa(t)&&fr(t)==S};function Ia(t){return null!=t&&Ua(t.length)&&!Va(t)}function Na(t){return Wa(t)&&Ia(t)}var Da=tn||iu,ja=te?Pe(te):function(t){return Wa(t)&&fr(t)==h};function Fa(t){if(!Wa(t))return!1;var e=fr(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ha(t)}function Va(t){if(!Ga(t))return!1;var e=fr(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ba(t){return"number"==typeof t&&t==ns(t)}function Ua(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ga(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wa(t){return null!=t&&"object"==typeof t}var Ka=ee?Pe(ee):function(t){return Wa(t)&&eo(t)==g};function za(t){return"number"==typeof t||Wa(t)&&fr(t)==m}function Ha(t){if(!Wa(t)||fr(t)!=y)return!1;var e=Gt(t);if(null===e)return!0;var n=St.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&wt.call(n)==Ct}var Ya=ne?Pe(ne):function(t){return Wa(t)&&fr(t)==v};var qa=re?Pe(re):function(t){return Wa(t)&&eo(t)==b};function Xa(t){return"string"==typeof t||!Ma(t)&&Wa(t)&&fr(t)==E}function Za(t){return"symbol"==typeof t||Wa(t)&&fr(t)==_}var Ja=ie?Pe(ie):function(t){return Wa(t)&&Ua(t.length)&&!!Bt[fr(t)]};var Qa=ki(Tr),$a=ki((function(t,e){return t<=e}));function ts(t){if(!t)return[];if(Ia(t))return Xa(t)?He(t):mi(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=eo(t);return(e==g?Be:e==b?We:As)(t)}function es(t){return t?(t=is(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function ns(t){var e=es(t),n=e%1;return e===e?n?e-n:e:0}function rs(t){return t?qn(ns(t),0,4294967295):0}function is(t){if("number"==typeof t)return t;if(Za(t))return NaN;if(Ga(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ga(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(q,"");var n=ot.test(t);return n||st.test(t)?Kt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function os(t){return yi(t,Es(t))}function as(t){return null==t?"":Zr(t)}var ss=bi((function(t,e){if(co(e)||Ia(e))yi(e,bs(e),t);else for(var n in e)St.call(e,n)&&Gn(t,n,e[n])})),us=bi((function(t,e){yi(e,Es(e),t)})),ls=bi((function(t,e,n,r){yi(e,Es(e),t,r)})),cs=bi((function(t,e,n,r){yi(e,bs(e),t,r)})),hs=Wi(Yn);var fs=jr((function(t,e){t=dt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&ao(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Es(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||Aa(c,Et[l])&&!St.call(t,l))&&(t[l]=o[l])}return t})),ps=jr((function(t){return t.push(void 0,Bi),oe(ws,void 0,t)}));function ds(t,e,n){var r=null==t?void 0:cr(t,e);return void 0===r?n:r}function gs(t,e){return null!=t&&no(t,e,gr)}var ms=Ai((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),t[e]=n}),Gs(zs)),ys=Ai((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),St.call(t,e)?t[e].push(n):t[e]=[n]}),Xi),vs=jr(yr);function bs(t){return Ia(t)?jn(t):Sr(t)}function Es(t){return Ia(t)?jn(t,!0):xr(t)}var _s=bi((function(t,e,n){Lr(t,e,n)})),ws=bi((function(t,e,n,r){Lr(t,e,n,r)})),Ss=Wi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=ai(e,t),r||(r=e.length>1),e})),yi(t,zi(t),n),r&&(n=Xn(n,7,Ui));for(var i=e.length;i--;)Qr(n,e[i]);return n}));var xs=Wi((function(t,e){return null==t?{}:function(t,e){return Mr(t,e,(function(e,n){return gs(t,n)}))}(t,e)}));function Ts(t,e){if(null==t)return{};var n=pe(zi(t),(function(t){return[t]}));return e=Xi(e),Mr(t,n,(function(t,n){return e(t,n[0])}))}var Os=ji(bs),Cs=ji(Es);function As(t){return null==t?[]:Re(t,bs(t))}var Ls=Si((function(t,e,n){return e=e.toLowerCase(),t+(n?Ps(e):e)}));function Ps(t){return Fs(as(t).toLowerCase())}function Rs(t){return(t=as(t))&&t.replace(lt,De).replace(kt,"")}var Ms=Si((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),ks=Si((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Is=wi("toLowerCase");var Ns=Si((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ds=Si((function(t,e,n){return t+(n?" ":"")+Fs(e)}));var js=Si((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Fs=wi("toUpperCase");function Vs(t,e,n){return t=as(t),void 0===(e=n?void 0:e)?function(t){return jt.test(t)}(t)?function(t){return t.match(Nt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Bs=jr((function(t,e){try{return oe(t,void 0,e)}catch(n){return Fa(n)?n:new i(n)}})),Us=Wi((function(t,e){return se(e,(function(e){e=To(e),Hn(t,e,ya(t[e],t))})),t}));function Gs(t){return function(){return t}}var Ws=Oi(),Ks=Oi(!0);function zs(t){return t}function Hs(t){return wr("function"==typeof t?t:Xn(t,1))}var Ys=jr((function(t,e){return function(n){return yr(n,t,e)}})),qs=jr((function(t,e){return function(n){return yr(t,n,e)}}));function Xs(t,e,n){var r=bs(e),i=lr(e,r);null!=n||Ga(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=lr(e,bs(e)));var o=!(Ga(n)&&"chain"in n)||!!n.chain,a=Va(t);return se(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function Zs(){}var Js=Pi(pe),Qs=Pi(le),$s=Pi(ye);function tu(t){return so(t)?Te(To(t)):function(t){return function(e){return cr(e,t)}}(t)}var eu=Mi(),nu=Mi(!0);function ru(){return[]}function iu(){return!1}var ou=Li((function(t,e){return t+e}),0),au=Ni("ceil"),su=Li((function(t,e){return t/e}),1),uu=Ni("floor");var lu=Li((function(t,e){return t*e}),1),cu=Ni("round"),hu=Li((function(t,e){return t-e}),0);return Cn.after=function(t,e){if("function"!=typeof e)throw new yt(o);return t=ns(t),function(){if(--t<1)return e.apply(this,arguments)}},Cn.ary=ga,Cn.assign=ss,Cn.assignIn=us,Cn.assignInWith=ls,Cn.assignWith=cs,Cn.at=hs,Cn.before=ma,Cn.bind=ya,Cn.bindAll=Us,Cn.bindKey=va,Cn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ma(t)?t:[t]},Cn.chain=ta,Cn.chunk=function(t,e,r){e=(r?ao(t,e,r):void 0===e)?1:on(ns(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=n(Je(i/e));o<i;)s[a++]=Kr(t,o,o+=e);return s},Cn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Cn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(Ma(r)?mi(r):[r],ir(e,1))},Cn.cond=function(t){var e=null==t?0:t.length,n=Xi();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new yt(o);return[n(t[0]),t[1]]})):[],jr((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},Cn.conforms=function(t){return function(t){var e=bs(t);return function(n){return Zn(n,t,e)}}(Xn(t,1))},Cn.constant=Gs,Cn.countBy=ra,Cn.create=function(t,e){var n=An(t);return null==e?n:zn(n,e)},Cn.curry=function t(e,n,r){var i=Fi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Cn.curryRight=function t(e,n,r){var i=Fi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Cn.debounce=ba,Cn.defaults=fs,Cn.defaultsDeep=ps,Cn.defer=Ea,Cn.delay=_a,Cn.difference=Ao,Cn.differenceBy=Lo,Cn.differenceWith=Po,Cn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Kr(t,(e=n||void 0===e?1:ns(e))<0?0:e,r):[]},Cn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Kr(t,0,(e=r-(e=n||void 0===e?1:ns(e)))<0?0:e):[]},Cn.dropRightWhile=function(t,e){return t&&t.length?ti(t,Xi(e,3),!0,!0):[]},Cn.dropWhile=function(t,e){return t&&t.length?ti(t,Xi(e,3),!0):[]},Cn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ao(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ns(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ns(r))<0&&(r+=i),r=n>r?0:rs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Cn.filter=function(t,e){return(Ma(t)?ce:rr)(t,Xi(e,3))},Cn.flatMap=function(t,e){return ir(ha(t,e),1)},Cn.flatMapDeep=function(t,e){return ir(ha(t,e),1/0)},Cn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ns(n),ir(ha(t,e),n)},Cn.flatten=ko,Cn.flattenDeep=function(t){return(null==t?0:t.length)?ir(t,1/0):[]},Cn.flattenDepth=function(t,e){return(null==t?0:t.length)?ir(t,e=void 0===e?1:ns(e)):[]},Cn.flip=function(t){return Fi(t,512)},Cn.flow=Ws,Cn.flowRight=Ks,Cn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Cn.functions=function(t){return null==t?[]:lr(t,bs(t))},Cn.functionsIn=function(t){return null==t?[]:lr(t,Es(t))},Cn.groupBy=ua,Cn.initial=function(t){return(null==t?0:t.length)?Kr(t,0,-1):[]},Cn.intersection=No,Cn.intersectionBy=Do,Cn.intersectionWith=jo,Cn.invert=ms,Cn.invertBy=ys,Cn.invokeMap=la,Cn.iteratee=Hs,Cn.keyBy=ca,Cn.keys=bs,Cn.keysIn=Es,Cn.map=ha,Cn.mapKeys=function(t,e){var n={};return e=Xi(e,3),sr(t,(function(t,r,i){Hn(n,e(t,r,i),t)})),n},Cn.mapValues=function(t,e){var n={};return e=Xi(e,3),sr(t,(function(t,r,i){Hn(n,r,e(t,r,i))})),n},Cn.matches=function(t){return Cr(Xn(t,1))},Cn.matchesProperty=function(t,e){return Ar(t,Xn(e,1))},Cn.memoize=wa,Cn.merge=_s,Cn.mergeWith=ws,Cn.method=Ys,Cn.methodOf=qs,Cn.mixin=Xs,Cn.negate=Sa,Cn.nthArg=function(t){return t=ns(t),jr((function(e){return Pr(e,t)}))},Cn.omit=Ss,Cn.omitBy=function(t,e){return Ts(t,Sa(Xi(e)))},Cn.once=function(t){return ma(2,t)},Cn.orderBy=function(t,e,n,r){return null==t?[]:(Ma(e)||(e=null==e?[]:[e]),Ma(n=r?void 0:n)||(n=null==n?[]:[n]),Rr(t,e,n))},Cn.over=Js,Cn.overArgs=xa,Cn.overEvery=Qs,Cn.overSome=$s,Cn.partial=Ta,Cn.partialRight=Oa,Cn.partition=fa,Cn.pick=xs,Cn.pickBy=Ts,Cn.property=tu,Cn.propertyOf=function(t){return function(e){return null==t?void 0:cr(t,e)}},Cn.pull=Vo,Cn.pullAll=Bo,Cn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?kr(t,e,Xi(n,2)):t},Cn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?kr(t,e,void 0,n):t},Cn.pullAt=Uo,Cn.range=eu,Cn.rangeRight=nu,Cn.rearg=Ca,Cn.reject=function(t,e){return(Ma(t)?ce:rr)(t,Sa(Xi(e,3)))},Cn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Xi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Ir(t,i),n},Cn.rest=function(t,e){if("function"!=typeof t)throw new yt(o);return jr(t,e=void 0===e?e:ns(e))},Cn.reverse=Go,Cn.sampleSize=function(t,e,n){return e=(n?ao(t,e,n):void 0===e)?1:ns(e),(Ma(t)?Vn:Vr)(t,e)},Cn.set=function(t,e,n){return null==t?t:Br(t,e,n)},Cn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Br(t,e,n,r)},Cn.shuffle=function(t){return(Ma(t)?Bn:Wr)(t)},Cn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ao(t,e,n)?(e=0,n=r):(e=null==e?0:ns(e),n=void 0===n?r:ns(n)),Kr(t,e,n)):[]},Cn.sortBy=pa,Cn.sortedUniq=function(t){return t&&t.length?qr(t):[]},Cn.sortedUniqBy=function(t,e){return t&&t.length?qr(t,Xi(e,2)):[]},Cn.split=function(t,e,n){return n&&"number"!=typeof n&&ao(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=as(t))&&("string"==typeof e||null!=e&&!Ya(e))&&!(e=Zr(e))&&Ve(t)?ui(He(t),0,n):t.split(e,n):[]},Cn.spread=function(t,e){if("function"!=typeof t)throw new yt(o);return e=null==e?0:on(ns(e),0),jr((function(n){var r=n[e],i=ui(n,0,e);return r&&de(i,r),oe(t,this,i)}))},Cn.tail=function(t){var e=null==t?0:t.length;return e?Kr(t,1,e):[]},Cn.take=function(t,e,n){return t&&t.length?Kr(t,0,(e=n||void 0===e?1:ns(e))<0?0:e):[]},Cn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Kr(t,(e=r-(e=n||void 0===e?1:ns(e)))<0?0:e,r):[]},Cn.takeRightWhile=function(t,e){return t&&t.length?ti(t,Xi(e,3),!1,!0):[]},Cn.takeWhile=function(t,e){return t&&t.length?ti(t,Xi(e,3)):[]},Cn.tap=function(t,e){return e(t),t},Cn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new yt(o);return Ga(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ba(t,e,{leading:r,maxWait:e,trailing:i})},Cn.thru=ea,Cn.toArray=ts,Cn.toPairs=Os,Cn.toPairsIn=Cs,Cn.toPath=function(t){return Ma(t)?pe(t,To):Za(t)?[t]:mi(xo(as(t)))},Cn.toPlainObject=os,Cn.transform=function(t,e,n){var r=Ma(t),i=r||Da(t)||Ja(t);if(e=Xi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ga(t)&&Va(o)?An(Gt(t)):{}}return(i?se:sr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Cn.unary=function(t){return ga(t,1)},Cn.union=Wo,Cn.unionBy=Ko,Cn.unionWith=zo,Cn.uniq=function(t){return t&&t.length?Jr(t):[]},Cn.uniqBy=function(t,e){return t&&t.length?Jr(t,Xi(e,2)):[]},Cn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jr(t,void 0,e):[]},Cn.unset=function(t,e){return null==t||Qr(t,e)},Cn.unzip=Ho,Cn.unzipWith=Yo,Cn.update=function(t,e,n){return null==t?t:$r(t,e,oi(n))},Cn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:$r(t,e,oi(n),r)},Cn.values=As,Cn.valuesIn=function(t){return null==t?[]:Re(t,Es(t))},Cn.without=qo,Cn.words=Vs,Cn.wrap=function(t,e){return Ta(oi(e),t)},Cn.xor=Xo,Cn.xorBy=Zo,Cn.xorWith=Jo,Cn.zip=Qo,Cn.zipObject=function(t,e){return ri(t||[],e||[],Gn)},Cn.zipObjectDeep=function(t,e){return ri(t||[],e||[],Br)},Cn.zipWith=$o,Cn.entries=Os,Cn.entriesIn=Cs,Cn.extend=us,Cn.extendWith=ls,Xs(Cn,Cn),Cn.add=ou,Cn.attempt=Bs,Cn.camelCase=Ls,Cn.capitalize=Ps,Cn.ceil=au,Cn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=is(n))===n?n:0),void 0!==e&&(e=(e=is(e))===e?e:0),qn(is(t),e,n)},Cn.clone=function(t){return Xn(t,4)},Cn.cloneDeep=function(t){return Xn(t,5)},Cn.cloneDeepWith=function(t,e){return Xn(t,5,e="function"==typeof e?e:void 0)},Cn.cloneWith=function(t,e){return Xn(t,4,e="function"==typeof e?e:void 0)},Cn.conformsTo=function(t,e){return null==e||Zn(t,e,bs(e))},Cn.deburr=Rs,Cn.defaultTo=function(t,e){return null==t||t!==t?e:t},Cn.divide=su,Cn.endsWith=function(t,e,n){t=as(t),e=Zr(e);var r=t.length,i=n=void 0===n?r:qn(ns(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Cn.eq=Aa,Cn.escape=function(t){return(t=as(t))&&V.test(t)?t.replace(j,je):t},Cn.escapeRegExp=function(t){return(t=as(t))&&Y.test(t)?t.replace(H,"\\$&"):t},Cn.every=function(t,e,n){var r=Ma(t)?le:er;return n&&ao(t,e,n)&&(e=void 0),r(t,Xi(e,3))},Cn.find=ia,Cn.findIndex=Ro,Cn.findKey=function(t,e){return be(t,Xi(e,3),sr)},Cn.findLast=oa,Cn.findLastIndex=Mo,Cn.findLastKey=function(t,e){return be(t,Xi(e,3),ur)},Cn.floor=uu,Cn.forEach=aa,Cn.forEachRight=sa,Cn.forIn=function(t,e){return null==t?t:or(t,Xi(e,3),Es)},Cn.forInRight=function(t,e){return null==t?t:ar(t,Xi(e,3),Es)},Cn.forOwn=function(t,e){return t&&sr(t,Xi(e,3))},Cn.forOwnRight=function(t,e){return t&&ur(t,Xi(e,3))},Cn.get=ds,Cn.gt=La,Cn.gte=Pa,Cn.has=function(t,e){return null!=t&&no(t,e,dr)},Cn.hasIn=gs,Cn.head=Io,Cn.identity=zs,Cn.includes=function(t,e,n,r){t=Ia(t)?t:As(t),n=n&&!r?ns(n):0;var i=t.length;return n<0&&(n=on(i+n,0)),Xa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&_e(t,e,n)>-1},Cn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ns(n);return i<0&&(i=on(r+i,0)),_e(t,e,i)},Cn.inRange=function(t,e,n){return e=es(e),void 0===n?(n=e,e=0):n=es(n),function(t,e,n){return t>=an(e,n)&&t<on(e,n)}(t=is(t),e,n)},Cn.invoke=vs,Cn.isArguments=Ra,Cn.isArray=Ma,Cn.isArrayBuffer=ka,Cn.isArrayLike=Ia,Cn.isArrayLikeObject=Na,Cn.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&fr(t)==c},Cn.isBuffer=Da,Cn.isDate=ja,Cn.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Ha(t)},Cn.isEmpty=function(t){if(null==t)return!0;if(Ia(t)&&(Ma(t)||"string"==typeof t||"function"==typeof t.splice||Da(t)||Ja(t)||Ra(t)))return!t.length;var e=eo(t);if(e==g||e==b)return!t.size;if(co(t))return!Sr(t).length;for(var n in t)if(St.call(t,n))return!1;return!0},Cn.isEqual=function(t,e){return br(t,e)},Cn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?br(t,e,void 0,n):!!r},Cn.isError=Fa,Cn.isFinite=function(t){return"number"==typeof t&&en(t)},Cn.isFunction=Va,Cn.isInteger=Ba,Cn.isLength=Ua,Cn.isMap=Ka,Cn.isMatch=function(t,e){return t===e||Er(t,e,Ji(e))},Cn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,Er(t,e,Ji(e),n)},Cn.isNaN=function(t){return za(t)&&t!=+t},Cn.isNative=function(t){if(lo(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _r(t)},Cn.isNil=function(t){return null==t},Cn.isNull=function(t){return null===t},Cn.isNumber=za,Cn.isObject=Ga,Cn.isObjectLike=Wa,Cn.isPlainObject=Ha,Cn.isRegExp=Ya,Cn.isSafeInteger=function(t){return Ba(t)&&t>=-9007199254740991&&t<=9007199254740991},Cn.isSet=qa,Cn.isString=Xa,Cn.isSymbol=Za,Cn.isTypedArray=Ja,Cn.isUndefined=function(t){return void 0===t},Cn.isWeakMap=function(t){return Wa(t)&&eo(t)==w},Cn.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==fr(t)},Cn.join=function(t,e){return null==t?"":nn.call(t,e)},Cn.kebabCase=Ms,Cn.last=Fo,Cn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ns(n))<0?on(r+i,0):an(i,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Ee(t,Se,i,!0)},Cn.lowerCase=ks,Cn.lowerFirst=Is,Cn.lt=Qa,Cn.lte=$a,Cn.max=function(t){return t&&t.length?nr(t,zs,pr):void 0},Cn.maxBy=function(t,e){return t&&t.length?nr(t,Xi(e,2),pr):void 0},Cn.mean=function(t){return xe(t,zs)},Cn.meanBy=function(t,e){return xe(t,Xi(e,2))},Cn.min=function(t){return t&&t.length?nr(t,zs,Tr):void 0},Cn.minBy=function(t,e){return t&&t.length?nr(t,Xi(e,2),Tr):void 0},Cn.stubArray=ru,Cn.stubFalse=iu,Cn.stubObject=function(){return{}},Cn.stubString=function(){return""},Cn.stubTrue=function(){return!0},Cn.multiply=lu,Cn.nth=function(t,e){return t&&t.length?Pr(t,ns(e)):void 0},Cn.noConflict=function(){return Yt._===this&&(Yt._=At),this},Cn.noop=Zs,Cn.now=da,Cn.pad=function(t,e,n){t=as(t);var r=(e=ns(e))?ze(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ri(Qe(i),n)+t+Ri(Je(i),n)},Cn.padEnd=function(t,e,n){t=as(t);var r=(e=ns(e))?ze(t):0;return e&&r<e?t+Ri(e-r,n):t},Cn.padStart=function(t,e,n){t=as(t);var r=(e=ns(e))?ze(t):0;return e&&r<e?Ri(e-r,n)+t:t},Cn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),un(as(t).replace(X,""),e||0)},Cn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ao(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=es(t),void 0===e?(e=t,t=0):e=es(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ln();return an(t+i*(e-t+Wt("1e-"+((i+"").length-1))),e)}return Nr(t,e)},Cn.reduce=function(t,e,n){var r=Ma(t)?ge:Ce,i=arguments.length<3;return r(t,Xi(e,4),n,i,$n)},Cn.reduceRight=function(t,e,n){var r=Ma(t)?me:Ce,i=arguments.length<3;return r(t,Xi(e,4),n,i,tr)},Cn.repeat=function(t,e,n){return e=(n?ao(t,e,n):void 0===e)?1:ns(e),Dr(as(t),e)},Cn.replace=function(){var t=arguments,e=as(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Cn.result=function(t,e,n){var r=-1,i=(e=ai(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[To(e[r])];void 0===o&&(r=i,o=n),t=Va(o)?o.call(t):o}return t},Cn.round=cu,Cn.runInContext=t,Cn.sample=function(t){return(Ma(t)?Fn:Fr)(t)},Cn.size=function(t){if(null==t)return 0;if(Ia(t))return Xa(t)?ze(t):t.length;var e=eo(t);return e==g||e==b?t.size:Sr(t).length},Cn.snakeCase=Ns,Cn.some=function(t,e,n){var r=Ma(t)?ye:zr;return n&&ao(t,e,n)&&(e=void 0),r(t,Xi(e,3))},Cn.sortedIndex=function(t,e){return Hr(t,e)},Cn.sortedIndexBy=function(t,e,n){return Yr(t,e,Xi(n,2))},Cn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Hr(t,e);if(r<n&&Aa(t[r],e))return r}return-1},Cn.sortedLastIndex=function(t,e){return Hr(t,e,!0)},Cn.sortedLastIndexBy=function(t,e,n){return Yr(t,e,Xi(n,2),!0)},Cn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Hr(t,e,!0)-1;if(Aa(t[n],e))return n}return-1},Cn.startCase=Ds,Cn.startsWith=function(t,e,n){return t=as(t),n=null==n?0:qn(ns(n),0,t.length),e=Zr(e),t.slice(n,n+e.length)==e},Cn.subtract=hu,Cn.sum=function(t){return t&&t.length?Ae(t,zs):0},Cn.sumBy=function(t,e){return t&&t.length?Ae(t,Xi(e,2)):0},Cn.template=function(t,e,n){var r=Cn.templateSettings;n&&ao(t,e,n)&&(e=void 0),t=as(t),e=ls({},e,r,Vi);var i,o,a=ls({},e.imports,r.imports,Vi),s=bs(a),u=Re(a,s),l=0,c=e.interpolate||ct,h="__p += '",f=gt((e.escape||ct).source+"|"+c.source+"|"+(c===G?nt:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),p="//# sourceURL="+(St.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Vt+"]")+"\n";t.replace(f,(function(e,n,r,a,s,u){return r||(r=a),h+=t.slice(l,u).replace(ht,Fe),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var d=St.call(e,"variable")&&e.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(k,""):h).replace(I,"$1").replace(N,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Bs((function(){return ft(s,p+"return "+h).apply(void 0,u)}));if(g.source=h,Fa(g))throw g;return g},Cn.times=function(t,e){if((t=ns(t))<1||t>9007199254740991)return[];var n=4294967295,r=an(t,4294967295);t-=4294967295;for(var i=Le(r,e=Xi(e));++n<t;)e(n);return i},Cn.toFinite=es,Cn.toInteger=ns,Cn.toLength=rs,Cn.toLower=function(t){return as(t).toLowerCase()},Cn.toNumber=is,Cn.toSafeInteger=function(t){return t?qn(ns(t),-9007199254740991,9007199254740991):0===t?t:0},Cn.toString=as,Cn.toUpper=function(t){return as(t).toUpperCase()},Cn.trim=function(t,e,n){if((t=as(t))&&(n||void 0===e))return t.replace(q,"");if(!t||!(e=Zr(e)))return t;var r=He(t),i=He(e);return ui(r,ke(r,i),Ie(r,i)+1).join("")},Cn.trimEnd=function(t,e,n){if((t=as(t))&&(n||void 0===e))return t.replace(Z,"");if(!t||!(e=Zr(e)))return t;var r=He(t);return ui(r,0,Ie(r,He(e))+1).join("")},Cn.trimStart=function(t,e,n){if((t=as(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Zr(e)))return t;var r=He(t);return ui(r,ke(r,He(e))).join("")},Cn.truncate=function(t,e){var n=30,r="...";if(Ga(e)){var i="separator"in e?e.separator:i;n="length"in e?ns(e.length):n,r="omission"in e?Zr(e.omission):r}var o=(t=as(t)).length;if(Ve(t)){var a=He(t);o=a.length}if(n>=o)return t;var s=n-ze(r);if(s<1)return r;var u=a?ui(a,0,s).join(""):t.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Ya(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=gt(i.source,as(rt.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,void 0===h?s:h)}}else if(t.indexOf(Zr(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},Cn.unescape=function(t){return(t=as(t))&&F.test(t)?t.replace(D,Ye):t},Cn.uniqueId=function(t){var e=++xt;return as(t)+e},Cn.upperCase=js,Cn.upperFirst=Fs,Cn.each=aa,Cn.eachRight=sa,Cn.first=Io,Xs(Cn,function(){var t={};return sr(Cn,(function(e,n){St.call(Cn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Cn.VERSION="4.17.15",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Cn[t].placeholder=Cn})),se(["drop","take"],(function(t,e){Rn.prototype[t]=function(n){n=void 0===n?1:on(ns(n),0);var r=this.__filtered__&&!e?new Rn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Rn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Rn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Rn.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Rn.prototype[t]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter(zs)},Rn.prototype.find=function(t){return this.filter(t).head()},Rn.prototype.findLast=function(t){return this.reverse().find(t)},Rn.prototype.invokeMap=jr((function(t,e){return"function"==typeof t?new Rn(this):this.map((function(n){return yr(n,t,e)}))})),Rn.prototype.reject=function(t){return this.filter(Sa(Xi(t)))},Rn.prototype.slice=function(t,e){t=ns(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Rn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ns(e))<0?n.dropRight(-e):n.take(e-t)),n)},Rn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},sr(Rn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Cn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Cn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Rn,u=a[0],l=s||Ma(e),c=function(t){var e=i.apply(Cn,de([t],a));return r&&h?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,d=s&&!f;if(!o&&l){e=d?e:new Rn(this);var g=t.apply(e,a);return g.__actions__.push({func:ea,args:[c],thisArg:void 0}),new Pn(g,h)}return p&&d?t.apply(this,a):(g=this.thru(c),p?r?g.value()[0]:g.value():g)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=vt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Cn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ma(i)?i:[],t)}return this[n]((function(n){return e.apply(Ma(n)?n:[],t)}))}})),sr(Rn.prototype,(function(t,e){var n=Cn[e];if(n){var r=n.name+"";St.call(vn,r)||(vn[r]=[]),vn[r].push({name:e,func:n})}})),vn[Ci(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var t=new Rn(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},Rn.prototype.reverse=function(){if(this.__filtered__){var t=new Rn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Rn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ma(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=an(e,t+a);break;case"takeRight":t=on(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,p=an(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return ei(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var g=-1,m=t[l+=e];++g<h;){var y=c[g],v=y.iteratee,b=y.type,E=v(m);if(2==b)m=E;else if(!E){if(1==b)continue t;break t}}d[f++]=m}return d},Cn.prototype.at=na,Cn.prototype.chain=function(){return ta(this)},Cn.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},Cn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Cn.prototype.plant=function(t){for(var e,n=this;n instanceof Ln;){var r=Co(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Cn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Rn){var e=t;return this.__actions__.length&&(e=new Rn(this)),(e=e.reverse()).__actions__.push({func:ea,args:[Go],thisArg:void 0}),new Pn(e,this.__chain__)}return this.thru(Go)},Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Cn.prototype.first=Cn.prototype.head,Jt&&(Cn.prototype[Jt]=function(){return this}),Cn}();Yt._=qe,void 0===(i=function(){return qe}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(27),n(45)(t))},function(t,e,n){!function(t){"use strict";var e=Object.freeze;function n(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}Object.freeze=function(t){return t};var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function s(t,e,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}}function u(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function l(){return!1}function c(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function p(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function d(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var g=/\{ *([\w_-]+) *\}/g;function m(t,e){return t.replace(g,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"===typeof r&&(r=r(e)),r}))}var y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var _=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-_));return _=e+n,window.setTimeout(t,n)}var S=window.requestAnimationFrame||E("RequestAnimationFrame")||w,x=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||S!==w)return S.call(window,i(t,e));t.call(e)}function O(t){t&&x.call(window,t)}var C=(Object.freeze||Object)({freeze:e,extend:n,create:r,bind:i,lastId:o,stamp:a,throttle:s,wrapNum:u,falseFn:l,formatNum:c,trim:h,splitWords:f,setOptions:p,getParamString:d,template:m,isArray:y,indexOf:v,emptyImageUrl:b,requestFn:S,cancelFn:x,requestAnimFrame:T,cancelAnimFrame:O});function A(){}A.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=r(i);for(var a in o.constructor=e,e.prototype=o,this)this.hasOwnProperty(a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!==typeof L&&L&&L.Mixin){t=y(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),n.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=n(r(o.options),t.options)),n(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},A.include=function(t){return n(this.prototype,t),this},A.mergeOptions=function(t){return n(this.prototype.options,t),this},A.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var P={on:function(t,e,n){if("object"===typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=f(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(t)if("object"===typeof t)for(var r in t)this._off(r,t[r],e);else for(var i=0,o=(t=f(t)).length;i<o;i++)this._off(t[i],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=void 0);for(var i={fn:e,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(i)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(e){if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var a=r[i];if(a.ctx===n&&a.fn===e)return a.fn=l,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,o=r.length;i<o;i++)r[i].fn=l;delete this._events[t]}},fire:function(t,e,r){if(!this.listens(t,r))return this;var i=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"===typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=i((function(){this.off(t,e,n).off(t,o,n)}),this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};P.addEventListener=P.on,P.removeEventListener=P.clearAllEventListeners=P.off,P.addOneTimeEventListener=P.once,P.fireEvent=P.fire,P.hasEventListeners=P.listens;var R=A.extend(P);function M(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var k=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function I(t,e,n){return t instanceof M?t:y(t)?new M(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new M(t.x,t.y):new M(t,e,n)}function N(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function D(t,e){return!t||t instanceof N?t:new N(t,e)}function j(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function F(t,e){return t instanceof j?t:new j(t,e)}function V(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function B(t,e,n){return t instanceof V?t:y(t)&&"object"!==typeof t[0]?3===t.length?new V(t[0],t[1],t[2]):2===t.length?new V(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new V(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new V(t,e,n)}M.prototype={clone:function(){return new M(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new M(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new M(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=k(this.x),this.y=k(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},N.prototype={extend:function(t){return t=I(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new M(this.min.x,this.max.y)},getTopRight:function(){return new M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof M?I(t):D(t))instanceof N?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=D(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,a=i.y>=e.y&&r.y<=n.y;return o&&a},overlaps:function(t){t=D(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,a=i.y>e.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},j.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof V)e=t,n=t;else{if(!(t instanceof j))return t?this.extend(B(t)||F(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new V(e.lat,e.lng),this._northEast=new V(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new j(new V(e.lat-r,e.lng-i),new V(n.lat+r,n.lng+i))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof V||"lat"in t?B(t):F(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof j?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,a=i.lng>=e.lng&&r.lng<=n.lng;return o&&a},overlaps:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,a=i.lng>e.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=F(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},V.prototype={equals:function(t,e){return!!t&&(t=B(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return G.distance(this,B(t))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return F([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new V(this.lat,this.lng,this.alt)}};var U={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new N(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new V(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new j(new V(o.lat-r,o.lng-i),new V(a.lat-r,a.lng-i))}},G=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),W={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new M(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new V((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new N([-t,-t],[t,t])}()};function K(t,e,n,r){if(y(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function z(t,e,n,r){return new K(t,e,n,r)}K.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new M((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var H=n({},G,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return z(t,.5,-t,.5)}()}),Y=n({},H,{code:"EPSG:900913"});function q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t,e){var n,r,i,o,a,s,u="";for(n=0,i=t.length;n<i;n++){for(r=0,o=(a=t[n]).length;r<o;r++)u+=(r?"L":"M")+(s=a[r]).x+" "+s.y;u+=e?Ct?"z":"x":""}return u||"M0 0"}var Z=document.documentElement.style,J="ActiveXObject"in window,Q=J&&!document.addEventListener,$="msLaunchUri"in navigator&&!("documentMode"in document),tt=Lt("webkit"),et=Lt("android"),nt=Lt("android 2")||Lt("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=et&&Lt("Google")&&rt<537&&!("AudioNode"in window),ot=!!window.opera,at=Lt("chrome"),st=Lt("gecko")&&!tt&&!ot&&!J,ut=!at&&Lt("safari"),lt=Lt("phantom"),ct="OTransition"in Z,ht=0===navigator.platform.indexOf("Win"),ft=J&&"transition"in Z,pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nt,dt="MozPerspective"in Z,gt=!window.L_DISABLE_3D&&(ft||pt||dt)&&!ct&&!lt,mt="undefined"!==typeof orientation||Lt("mobile"),yt=mt&&tt,vt=mt&&pt,bt=!window.PointerEvent&&window.MSPointerEvent,Et=!tt&&!(!window.PointerEvent&&!bt),_t=!window.L_NO_TOUCH&&(Et||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),wt=mt&&ot,St=mt&&st,xt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(n){}return t},Ot=!!document.createElement("canvas").getContext,Ct=!(!document.createElementNS||!q("svg").createSVGRect),At=!Ct&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}();function Lt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Pt=(Object.freeze||Object)({ie:J,ielt9:Q,edge:$,webkit:tt,android:et,android23:nt,androidStock:it,opera:ot,chrome:at,gecko:st,safari:ut,phantom:lt,opera12:ct,win:ht,ie3d:ft,webkit3d:pt,gecko3d:dt,any3d:gt,mobile:mt,mobileWebkit:yt,mobileWebkit3d:vt,msPointer:bt,pointer:Et,touch:_t,mobileOpera:wt,mobileGecko:St,retina:xt,passiveEvents:Tt,canvas:Ot,svg:Ct,vml:At}),Rt=bt?"MSPointerDown":"pointerdown",Mt=bt?"MSPointerMove":"pointermove",kt=bt?"MSPointerUp":"pointerup",It=bt?"MSPointerCancel":"pointercancel",Nt=["INPUT","SELECT","OPTION"],Dt={},jt=!1,Ft=0;function Vt(t,e,n,r){return"touchstart"===e?function(t,e,n){var r=i((function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Nt.indexOf(t.target.tagName)<0))return;De(t)}Wt(t,e)}));t["_leaflet_touchstart"+n]=r,t.addEventListener(Rt,r,!1),jt||(document.documentElement.addEventListener(Rt,Bt,!0),document.documentElement.addEventListener(Mt,Ut,!0),document.documentElement.addEventListener(kt,Gt,!0),document.documentElement.addEventListener(It,Gt,!0),jt=!0)}(t,n,r):"touchmove"===e?function(t,e,n){var r=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Wt(t,e)};t["_leaflet_touchmove"+n]=r,t.addEventListener(Mt,r,!1)}(t,n,r):"touchend"===e&&function(t,e,n){var r=function(t){Wt(t,e)};t["_leaflet_touchend"+n]=r,t.addEventListener(kt,r,!1),t.addEventListener(It,r,!1)}(t,n,r),this}function Bt(t){Dt[t.pointerId]=t,Ft++}function Ut(t){Dt[t.pointerId]&&(Dt[t.pointerId]=t)}function Gt(t){delete Dt[t.pointerId],Ft--}function Wt(t,e){for(var n in t.touches=[],Dt)t.touches.push(Dt[n]);t.changedTouches=[t],e(t)}var Kt=bt?"MSPointerDown":Et?"pointerdown":"touchstart",zt=bt?"MSPointerUp":Et?"pointerup":"touchend",Ht="_leaflet_";function Yt(t,e,n){var r,i,o=!1;function a(t){var e;if(Et){if(!$||"mouse"===t.pointerType)return;e=Ft}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(r||n);i=t.touches?t.touches[0]:t,o=a>0&&a<=250,r=n}}function s(t){if(o&&!i.cancelBubble){if(Et){if(!$||"mouse"===t.pointerType)return;var n,a,s={};for(a in i)n=i[a],s[a]=n&&n.bind?n.bind(i):n;i=s}i.type="dblclick",i.button=0,e(i),r=null}}return t[Ht+Kt+n]=a,t[Ht+zt+n]=s,t[Ht+"dblclick"+n]=e,t.addEventListener(Kt,a,!!Tt&&{passive:!1}),t.addEventListener(zt,s,!!Tt&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function qt(t,e){var n=t[Ht+Kt+e],r=t[Ht+zt+e],i=t[Ht+"dblclick"+e];return t.removeEventListener(Kt,n,!!Tt&&{passive:!1}),t.removeEventListener(zt,r,!!Tt&&{passive:!1}),$||t.removeEventListener("dblclick",i,!1),this}var Xt,Zt,Jt,Qt,$t,te=me(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ee=me(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ne="webkitTransition"===ee||"OTransition"===ee?ee+"End":"transitionend";function re(t){return"string"===typeof t?document.getElementById(t):t}function ie(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function oe(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function ae(t){var e=t.parentNode;e&&e.removeChild(t)}function se(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ue(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function le(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=de(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function he(t,e){if(void 0!==t.classList)for(var n=f(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!ce(t,e)){var o=de(t);pe(t,(o?o+" ":"")+e)}}function fe(t,e){void 0!==t.classList?t.classList.remove(e):pe(t,h((" "+de(t)+" ").replace(" "+e+" "," ")))}function pe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function de(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ge(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(i){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}(t,e)}function me(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ye(t,e,n){var r=e||new M(0,0);t.style[te]=(ft?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function ve(t,e){t._leaflet_pos=e,gt?ye(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function be(t){return t._leaflet_pos||new M(0,0)}if("onselectstart"in document)Xt=function(){Ae(window,"selectstart",De)},Zt=function(){Pe(window,"selectstart",De)};else{var Ee=me(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xt=function(){if(Ee){var t=document.documentElement.style;Jt=t[Ee],t[Ee]="none"}},Zt=function(){Ee&&(document.documentElement.style[Ee]=Jt,Jt=void 0)}}function _e(){Ae(window,"dragstart",De)}function we(){Pe(window,"dragstart",De)}function Se(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(xe(),Qt=t,$t=t.style.outline,t.style.outline="none",Ae(window,"keydown",xe))}function xe(){Qt&&(Qt.style.outline=$t,Qt=void 0,$t=void 0,Pe(window,"keydown",xe))}function Te(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Oe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ce=(Object.freeze||Object)({TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ne,get:re,getStyle:ie,create:oe,remove:ae,empty:se,toFront:ue,toBack:le,hasClass:ce,addClass:he,removeClass:fe,setClass:pe,getClass:de,setOpacity:ge,testProp:me,setTransform:ye,setPosition:ve,getPosition:be,disableTextSelection:Xt,enableTextSelection:Zt,disableImageDrag:_e,enableImageDrag:we,preventOutline:Se,restoreOutline:xe,getSizedParentNode:Te,getScale:Oe});function Ae(t,e,n,r){if("object"===typeof e)for(var i in e)Re(t,i,e[i],n);else for(var o=0,a=(e=f(e)).length;o<a;o++)Re(t,e[o],n,r);return this}var Le="_leaflet_events";function Pe(t,e,n,r){if("object"===typeof e)for(var i in e)Me(t,i,e[i],n);else if(e)for(var o=0,a=(e=f(e)).length;o<a;o++)Me(t,e[o],n,r);else{for(var s in t[Le])Me(t,s,t[Le][s]);delete t[Le]}return this}function Re(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):"");if(t[Le]&&t[Le][i])return this;var o=function(e){return n.call(r||t,e||window.event)},s=o;Et&&0===e.indexOf("touch")?Vt(t,e,o,i):!_t||"dblclick"!==e||!Yt||Et&&at?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,!!Tt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,ze(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",o,!1)):("click"===e&&et&&(o=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,r=Ue&&n-Ue;r&&r>100&&r<500||t.target._simulatedClick&&!t._simulated?je(t):(Ue=n,e(t))}(t,s)}),t.addEventListener(e,o,!1)):"attachEvent"in t&&t.attachEvent("on"+e,o):Yt(t,o,i),t[Le]=t[Le]||{},t[Le][i]=o}function Me(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):""),o=t[Le]&&t[Le][i];if(!o)return this;Et&&0===e.indexOf("touch")?function(t,e,n){var r=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Rt,r,!1):"touchmove"===e?t.removeEventListener(Mt,r,!1):"touchend"===e&&(t.removeEventListener(kt,r,!1),t.removeEventListener(It,r,!1))}(t,e,i):!_t||"dblclick"!==e||!qt||Et&&at?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,!!Tt&&{passive:!1}):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o):qt(t,i),t[Le][i]=null}function ke(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ke(t),this}function Ie(t){return Re(t,"mousewheel",ke),this}function Ne(t){return Ae(t,"mousedown touchstart dblclick",ke),Re(t,"click",We),this}function De(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function je(t){return De(t),ke(t),this}function Fe(t,e){if(!e)return new M(t.clientX,t.clientY);var n=Oe(e),r=n.boundingClientRect;return new M((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Ve=ht&&at?2*window.devicePixelRatio:st?window.devicePixelRatio:1;function Be(t){return $?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ve:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ue,Ge={};function We(t){Ge[t.type]=!0}function Ke(t){var e=Ge[t.type];return Ge[t.type]=!1,e}function ze(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t}var He=(Object.freeze||Object)({on:Ae,off:Pe,stopPropagation:ke,disableScrollPropagation:Ie,disableClickPropagation:Ne,preventDefault:De,stop:je,getMousePosition:Fe,getWheelDelta:Be,fakeStop:We,skipped:Ke,isExternalTarget:ze,addListener:Ae,removeListener:Pe}),Ye=R.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=be(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ve(this._el,n),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),qe=R.extend({options:{crs:H,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(B(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ee&&gt&&!wt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ae(this._proxy,ne,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(B(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof M?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():F(t);var n=I(e.paddingTopLeft||e.padding||[0,0]),r=I(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"===typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=F(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=I(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ye,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){he(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!gt)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),a=this._zoom;t=B(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,e),l=i.distanceTo(r)||1;function c(t){var e=(u*u-s*s+2.0164*(t?-1:1)*2.0164*l*l)/(2*(t?u:s)*2.0164*l),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function h(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var p=c(0);function d(t){return s*(f(p)*(h(e=p+1.42*t)/f(e))-h(p))/2.0164;var e}var g=Date.now(),m=(c(1)-p)/1.42,y=n.duration?1e3*n.duration:1e3*m*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-g)/y,u=function(t){return 1-Math.pow(1-t,1.5)}(o)*m;o<=1?(this._flyToFrame=T(n,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(d(u)/l)),a),this.getScaleZoom(s/function(t){return s*(f(p)/f(p+1.42*t))}(u),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=F(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=I((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=I(e.paddingBottomRight||e.padding||[0,0]),i=this.getCenter(),o=this.project(i),a=this.project(t),s=this.getPixelBounds(),u=s.getSize().divideBy(2),l=D([s.min.add(n),s.max.subtract(r)]);if(!l.contains(a)){this._enforcingBounds=!0;var c=o.subtract(a),h=I(a.x+c.x,a.y+c.y);(a.x<l.min.x||a.x>l.max.x)&&(h.x=o.x-c.x,c.x>0?h.x+=u.x-n.x:h.x-=u.x-r.x),(a.y<l.min.y||a.y>l.max.y)&&(h.y=o.y-c.y,c.y>0?h.y+=u.y-n.y:h.y-=u.y-r.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=e.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new V(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"===typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ae(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=oe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new j(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=F(t),n=I(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),l=D(this.project(s,r),this.project(a,r)).getSize(),c=gt?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,p=e?Math.max(h,f):Math.min(h,f);return r=this.getScaleZoom(p,r),c&&(r=Math.round(r/(c/100))*(c/100),r=e?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new N(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(B(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(B(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(B(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(F(t))},distance:function(t,e){return this.options.crs.distance(B(t),B(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(t)))},mouseEventToContainerPoint:function(t){return Fe(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=re(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ae(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt,he(t,"leaflet-container"+(_t?" leaflet-touch":"")+(xt?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(ut?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ie(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(he(t.markerPane,"leaflet-zoom-hide"),he(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ve(this._mapPane,new M(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,!1)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ve(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Pe:Ae;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),gt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(i&&!ze(o,t))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!ze(o,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!Ke(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Se(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if("click"===t.type){var i=n({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,e))).length){var o=r[0];"contextmenu"===e&&o.listens(e,!0)&&De(t);var a={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(e,a,!0),a.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return be(this._mapPane)||new M(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return D([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new N(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new N(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=D(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max);return new M(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=gt?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=te,n=this._proxy.style[e];ye(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ye(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(T((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,he(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T((function(){this._moveEnd(!0)}),this))}}),Xe=A.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return he(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ze=function(t){return new Xe(t)};qe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=oe("div",e+"control-container",this._container);function r(r,i){var o=e+r+" "+e+i;t[r+i]=oe("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ae(this._controlCorners[t]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Je=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Xe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){he(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(he(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ne(e),Ie(e);var r=this._section=oe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),et||Ae(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=oe("a",t+"-toggle",e);i.href="#",i.title="Layers",_t?(Ae(i,"click",je),Ae(i,"click",this.expand,this)):Ae(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=oe("div",t+"-base",r),this._separator=oe("div",t+"-separator",r),this._overlaysList=oe("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;se(this._baseLayersList),se(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(e),e.layerId=a(t.layer),Ae(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Qe=Xe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=oe("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=oe("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Ne(o),Ae(o,"click",je),Ae(o,"click",i,this),Ae(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";fe(this._zoomInButton,e),fe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&he(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&he(this._zoomInButton,e)}});qe.mergeOptions({zoomControl:!0}),qe.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Qe,this.addControl(this.zoomControl))}));var $e=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=oe("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=oe("div",e,n)),t.imperial&&(this._iScale=oe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),tn=Xe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Ne(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});qe.mergeOptions({attributionControl:!0}),qe.addInitHook((function(){this.options.attributionControl&&(new tn).addTo(this)})),Xe.Layers=Je,Xe.Zoom=Qe,Xe.Scale=$e,Xe.Attribution=tn,Ze.layers=function(t,e,n){return new Je(t,e,n)},Ze.zoom=function(t){return new Qe(t)},Ze.scale=function(t){return new $e(t)},Ze.attribution=function(t){return new tn(t)};var en=A.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(t,e){return t.addHandler(e,this),this};var nn,rn={Events:P},on=_t?"touchstart mousedown":"mousedown",an={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},sn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},un=R.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){p(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ae(this._dragStartTarget,on,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(),Pe(this._dragStartTarget,on,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ce(this._element,"leaflet-zoom-anim")&&!(un._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(un._dragging=this,this._preventOutline&&Se(this._element),_e(),Xt(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Te(this._element);this._startPoint=new M(e.clientX,e.clientY),this._parentScale=Oe(n),Ae(document,sn[t.type],this._onMove,this),Ae(document,an[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new M(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,De(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=be(this._element).subtract(n),he(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),he(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,O(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ve(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),sn)Pe(document,sn[t],this._onMove,this),Pe(document,an[t],this._onUp,this);we(),Zt(),this._moved&&this._moving&&(O(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,un._dragging=!1}});function ln(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,function t(e,n,r,i,o){var a,s,u,l=0;for(s=i+1;s<=o-1;s++)(u=gn(e[s],e[i],e[o],!0))>l&&(a=s,l=u);l>r&&(n[a]=1,t(e,n,r,i,a),t(e,n,r,a,o))}(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}(t=function(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)dn(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<o-1&&n.push(t[o-1]),n}(t,n),n)}function cn(t,e,n){return Math.sqrt(gn(t,e,n,!0))}function hn(t,e,n,r,i){var o,a,s,u=r?nn:pn(t,n),l=pn(e,n);for(nn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;s=pn(a=fn(t,e,o=u||l,n,i),n),o===u?(t=a,u=s):(e=a,l=s)}}function fn(t,e,n,r,i){var o,a,s=e.x-t.x,u=e.y-t.y,l=r.min,c=r.max;return 8&n?(o=t.x+s*(c.y-t.y)/u,a=c.y):4&n?(o=t.x+s*(l.y-t.y)/u,a=l.y):2&n?(o=c.x,a=t.y+u*(c.x-t.x)/s):1&n&&(o=l.x,a=t.y+u*(l.x-t.x)/s),new M(o,a,i)}function pn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function dn(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function gn(t,e,n,r){var i,o=e.x,a=e.y,s=n.x-o,u=n.y-a,l=s*s+u*u;return l>0&&((i=((t.x-o)*s+(t.y-a)*u)/l)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=t.x-o,u=t.y-a,r?s*s+u*u:new M(o,a)}function mn(t){return!y(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function yn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(t)}var vn=(Object.freeze||Object)({simplify:ln,pointToSegmentDistance:cn,closestPointOnSegment:function(t,e,n){return gn(t,e,n)},clipSegment:hn,_getEdgeIntersection:fn,_getBitCode:pn,_sqClosestPointOnSegment:gn,isFlat:mn,_flat:yn});function bn(t,e,n){var r,i,o,a,s,u,l,c,h,f=[1,4,2,8];for(i=0,l=t.length;i<l;i++)t[i]._code=pn(t[i],e);for(a=0;a<4;a++){for(c=f[a],r=[],i=0,o=(l=t.length)-1;i<l;o=i++)s=t[i],u=t[o],s._code&c?u._code&c||((h=fn(u,s,c,e,n))._code=pn(h,e),r.push(h)):(u._code&c&&((h=fn(u,s,c,e,n))._code=pn(h,e),r.push(h)),r.push(s));t=r}return t}var En=(Object.freeze||Object)({clipPolygon:bn}),_n={project:function(t){return new M(t.lng,t.lat)},unproject:function(t){return new V(t.y,t.x)},bounds:new N([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new M(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=l=Math.PI/2-2*Math.atan(a*e)-s;return new V(s*n,t.x*n/r)}},Sn=(Object.freeze||Object)({LonLat:_n,Mercator:wn,SphericalMercator:W}),xn=n({},G,{code:"EPSG:3395",projection:wn,transformation:function(){var t=.5/(Math.PI*wn.R);return z(t,.5,-t,.5)}()}),Tn=n({},G,{code:"EPSG:4326",projection:_n,transformation:z(1/180,1,-1/180,.5)}),On=n({},U,{projection:_n,transformation:z(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});U.Earth=G,U.EPSG3395=xn,U.EPSG3857=H,U.EPSG900913=Y,U.EPSG4326=Tn,U.Simple=On;var Cn=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});qe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?y(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var An=Cn.extend({initialize:function(t,e){var n,r;if(p(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Ln=An.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),An.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),An.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new j;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Pn=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"===typeof r&&(r=[r,r]);var i=I(r),o=I("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return xt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Rn=Pn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Rn.imagePath||(Rn.imagePath=this._detectIconPath()),(this.options.imagePath||Rn.imagePath)+Pn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),e=ie(t,"background-image")||ie(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Mn=en.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new un(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),he(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=be(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=D(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var l=I((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),ve(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=be(e._icon),i=e._map.layerPointToLatLng(r);n&&ve(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),kn=Cn.extend({options:{icon:new Rn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=B(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=B(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),he(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(he(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ve(this._icon,t),this._shadow&&ve(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(he(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ge(this._icon,t),this._shadow&&ge(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),In=Cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Nn=In.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=B(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=B(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return In.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new N(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Dn=Nn.extend({initialize:function(t,e,r){if("number"===typeof e&&(e=n({},r,{radius:e})),p(this,e),this._latlng=B(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:In.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===G.distance){var i=Math.PI/180,o=this._mRadius/G.R/i,a=n.project([e+o,t]),s=n.project([e-o,t]),u=a.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(l*i))/(Math.cos(e*i)*Math.cos(l*i)))/i;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,t-c]).x,this._radiusY=u.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),jn=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=gn,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){var h=o(t,e=u[l-1],n=u[l],!0);h<r&&(r=h,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,r=0;t<u-1;t++)if(i=s[t],o=s[t+1],(r+=n=i.distanceTo(o))>e)return a=(r-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=B(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new j,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=mn(t),r=0,i=t.length;r<i;r++)n?(e[r]=B(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new M(t,t);this._pxBounds=new N([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var r,i,o=t[0]instanceof V,a=t.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,o,a,s,u=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,o=(s=this._rings[e]).length;n<o-1;n++)(a=hn(s[n],s[n+1],t,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=ln(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((e||0!==r)&&cn(t,s[i],s[r])<=u)return!0;return!1}});jn._flat=yn;var Fn=jn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=a=s=0,t=0,e=c-1;t<c;e=t++)n=l[t],r=l[e],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return u=0===o?l[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=jn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof V&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){jn.prototype._setLatLngs.call(this,t),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new M(e,e);if(t=new N(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=bn(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,a,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(u=(e=this._parts[i]).length)-1;o<u;a=o++)n=e[o],r=e[a],n.y>t.y!==r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||jn.prototype._containsPoint.call(this,t,!0)}}),Vn=Ln.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=y(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=Bn(t,o);return a?(a.feature=Yn(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Bn(t,e){var n,r,i,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Gn;if(!s&&!a)return null;switch(a.type){case"Point":return Un(l,t,n=c(s),e);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=c(s[i]),u.push(Un(l,t,n,e));return new Ln(u);case"LineString":case"MultiLineString":return r=Wn(s,"LineString"===a.type?0:1,c),new jn(r,e);case"Polygon":case"MultiPolygon":return r=Wn(s,"Polygon"===a.type?1:2,c),new Fn(r,e);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=Bn({geometry:a.geometries[i],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new Ln(u);default:throw new Error("Invalid GeoJSON object.")}}function Un(t,e,n,r){return t?t(e,n):new kn(n,r&&r.markersInheritOptions&&r)}function Gn(t){return new V(t[1],t[0],t[2])}function Wn(t,e,n){for(var r,i=[],o=0,a=t.length;o<a;o++)r=e?Wn(t[o],e-1,n):(n||Gn)(t[o]),i.push(r);return i}function Kn(t,e){return e="number"===typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function zn(t,e,n,r){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?zn(t[o],e-1,n,r):Kn(t[o],r));return!e&&n&&i.push(i[0]),i}function Hn(t,e){return t.feature?n({},t.feature,{geometry:e}):Yn(e)}function Yn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var qn={toGeoJSON:function(t){return Hn(this,{type:"Point",coordinates:Kn(this.getLatLng(),t)})}};function Xn(t,e){return new Vn(t,e)}kn.include(qn),Dn.include(qn),Nn.include(qn),jn.include({toGeoJSON:function(t){var e=!mn(this._latlngs);return Hn(this,{type:(e?"Multi":"")+"LineString",coordinates:zn(this._latlngs,e?1:0,!1,t)})}}),Fn.include({toGeoJSON:function(t){var e=!mn(this._latlngs),n=e&&!mn(this._latlngs[0]),r=zn(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),Hn(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),An.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Hn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var o=Yn(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?Hn(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Zn=Xn,Jn=Cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=F(e),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(he(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ue(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=F(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:oe("img");he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ye(this._image,n,e)},_reset:function(){var t=this._image,e=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ve(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ge(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Qn=Jn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:oe("video");if(he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[e.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=oe("source");s.src=this._url[a],e.appendChild(s)}}}}),$n=Jn.extend({_initImage:function(){var t=this._image=this._url;he(t,"leaflet-image-layer"),this._zoomAnimated&&he(t,"leaflet-zoom-animated"),this.options.className&&he(t,this.options.className),t.onselectstart=l,t.onmousemove=l}}),tr=Cn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ge(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ge(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(ge(this._container,0),this._removeTimeout=setTimeout(i(ae,void 0,this._container),200)):ae(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=B(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ue(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Cn||(n=e,e=t),e instanceof Ln)for(var r in t._layers){e=t._layers[r];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?ve(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),er=tr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){tr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",ke))},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",ke))},getEvents:function(){var t=tr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=oe("div",t+"-content-wrapper",e);if(this._contentNode=oe("div",t+"-content",n),Ne(n),Ie(this._contentNode),Ae(n,"contextmenu",ke),this._tipContainer=oe("div",t+"-tip-container",e),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=oe("a",t+"-close-button",e);r.href="#close",r.innerHTML="&#215;",Ae(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight;i&&r>i?(e.height=i+"px",he(t,"leaflet-popup-scrolled")):fe(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ve(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ie(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new M(this._containerLeft,-n-this._containerBottom);i._add(be(this._container));var o=t.layerPointToContainerPoint(i),a=I(this.options.autoPanPadding),s=I(this.options.autoPanPaddingTopLeft||a),u=I(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),c=0,h=0;o.x+r+u.x>l.x&&(c=o.x+r-l.x+u.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+u.y>l.y&&(h=o.y+n-l.y+u.y),o.y-h-s.y<0&&(h=o.y-s.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),je(t)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});qe.mergeOptions({closePopupOnClick:!0}),qe.include({openPopup:function(t,e,n){return t instanceof er||(t=new er(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Cn.include({bindPopup:function(t,e){return t instanceof er?(p(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new er(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(je(t),e instanceof In?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var nr=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){tr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=tr.prototype.getEvents.call(this);return _t&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,r=e.latLngToContainerPoint(e.getCenter()),i=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=I(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(I(-a/2+u.x,-s+u.y+l.y,!0)):"bottom"===o?t=t.subtract(I(a/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(I(a/2+u.x,s/2-l.y+u.y,!0)):"right"===o||"auto"===o&&i.x<r.x?(o="right",t=t.add(I(u.x+l.x,l.y-s/2+u.y,!0))):(o="left",t=t.subtract(I(a+l.x-u.x,s/2-l.y-u.y,!0))),fe(n,"leaflet-tooltip-right"),fe(n,"leaflet-tooltip-left"),fe(n,"leaflet-tooltip-top"),fe(n,"leaflet-tooltip-bottom"),he(n,"leaflet-tooltip-"+o),ve(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ge(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});qe.include({openTooltip:function(t,e,n){return t instanceof nr||(t=new nr(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Cn.include({bindTooltip:function(t,e){return t instanceof nr?(p(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new nr(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),_t&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(he(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var rr=Pn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(se(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=I(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Pn.Default=Rn;var ir=Cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:mt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ae(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof M?t:new M(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){ge(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);ge(i.el,o),o<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(O(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ae(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ae(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new M(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var a=new M(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom)&&(i=void 0);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();gt?ye(t.el,i,r):ve(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new N(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new N(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new M(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var f=i.min.x;f<=i.max.x;f++){var p=new M(f,h);if(p.z=this._tileZoom,this._isValidTile(p)){var d=this._tiles[this._tileCoordsToKey(p)];d?d.current=!0:a.push(p)}}if(a.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(f=0;f<a.length;f++)this._addTile(a[f],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new j(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new M(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ae(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){he(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,Q&&this.options.opacity<1&&ge(t,this.options.opacity),et&&!nt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&T(i(this._tileReady,this,t,null,o)),ve(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(ge(n.el,0),O(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(he(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new M(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new N(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),or=ir.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&xt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),et||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ae(n,"load",i(this._tileOnLoad,this,e,n)),Ae(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:xt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return m(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=b,ae(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return it||e.el.setAttribute("src",b),ir.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==b))return ir.prototype._tileReady.call(this,t,e,n)}});function ar(t,e){return new or(t,e)}var sr=or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=n({},this.defaultWmsParams);for(var i in e)i in this.options||(r[i]=e[i]);var o=(e=p(this,e)).detectRetina&&xt?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,or.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=D(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Tn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=or.prototype.getTileUrl.call(this,t);return s+d(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});or.WMS=sr,ar.wms=function(t,e){return new sr(t,e)};var ur=Cn.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&he(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=be(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e).subtract(o),s=i.multiplyBy(-n).add(r).add(i).subtract(a);gt?ye(this._container,s,n):ve(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new N(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lr=ur.extend({getEvents:function(){var t=ur.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ae(t,"mousemove",this._onMouseMove,this),Ae(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ae(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,ae(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ur.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=xt?2:1;ve(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",xt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&!this._map._draggableMoved(e)&&(n=e);n&&(We(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(fe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,r,i=this._drawFirst;i;i=i.next)(n=i.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(he(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(L.bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function cr(t){return Ot?new lr(t):null}var hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),fr={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ur.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=hr("shape");he(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=hr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ae(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=hr("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=hr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ue(t._container)},_bringToBack:function(t){le(t._container)}},pr=At?hr:q,dr=ur.extend({getEvents:function(){var t=ur.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=pr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ur.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ve(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=pr("path");t.options.className&&he(e,t.options.className),t.options.interactive&&he(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ae(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,X(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ue(t._path)},_bringToBack:function(t){le(t._path)}});function gr(t){return Ct||At?new dr(t):null}At&&dr.include(fr),qe.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&cr(t)||gr(t)}});var mr=Fn.extend({initialize:function(t,e){Fn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=F(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});dr.create=pr,dr.pointsToPath=X,Vn.geometryToLayer=Bn,Vn.coordsToLatLng=Gn,Vn.coordsToLatLngs=Wn,Vn.latLngToCoords=Kn,Vn.latLngsToCoords=zn,Vn.getFeature=Hn,Vn.asFeature=Yn,qe.mergeOptions({boxZoom:!0});var yr=en.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),_e(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ae(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),he(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new N(this._point,this._startPoint),n=e.getSize();ve(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ae(this._box),fe(this._container,"leaflet-crosshair")),Zt(),we(),Pe(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});qe.addInitHook("addHandler","boxZoom",yr),qe.mergeOptions({doubleClickZoom:!0});var vr=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});qe.addInitHook("addHandler","doubleClickZoom",vr),qe.mergeOptions({dragging:!0,inertia:!nt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var br=en.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new un(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}he(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=F(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),h=l/(n.inertiaDeceleration*a),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),T((function(){e.panBy(f,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});qe.addInitHook("addHandler","dragging",br),qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Er=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ae(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=I(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}je(t)}}});qe.addInitHook("addHandler","keyboard",Er),qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _r=en.extend({addHooks:function(){Ae(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Be(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),je(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});qe.addInitHook("addHandler","scrollWheelZoom",_r),qe.mergeOptions({tap:!0,tapTolerance:15});var wr=en.extend({addHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(De(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new M(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&he(n,"leaflet-active"),this._holdTimeout=setTimeout(i((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Ae(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Pe(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&fe(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new M(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});_t&&!Et&&qe.addInitHook("addHandler","tap",wr),qe.mergeOptions({touchZoom:_t&&!nt,bounceAtZoomLimits:!0});var Sr=en.extend({addHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend",this._onTouchEnd,this),De(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var s=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(s,this,!0),De(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,O(this._animRequest),Pe(document,"touchmove",this._onTouchMove),Pe(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});qe.addInitHook("addHandler","touchZoom",Sr),qe.BoxZoom=yr,qe.DoubleClickZoom=vr,qe.Drag=br,qe.Keyboard=Er,qe.ScrollWheelZoom=_r,qe.Tap=wr,qe.TouchZoom=Sr,Object.freeze=e,t.version="1.6.0",t.Control=Xe,t.control=Ze,t.Browser=Pt,t.Evented=R,t.Mixin=rn,t.Util=C,t.Class=A,t.Handler=en,t.extend=n,t.bind=i,t.stamp=a,t.setOptions=p,t.DomEvent=He,t.DomUtil=Ce,t.PosAnimation=Ye,t.Draggable=un,t.LineUtil=vn,t.PolyUtil=En,t.Point=M,t.point=I,t.Bounds=N,t.bounds=D,t.Transformation=K,t.transformation=z,t.Projection=Sn,t.LatLng=V,t.latLng=B,t.LatLngBounds=j,t.latLngBounds=F,t.CRS=U,t.GeoJSON=Vn,t.geoJSON=Xn,t.geoJson=Zn,t.Layer=Cn,t.LayerGroup=An,t.layerGroup=function(t,e){return new An(t,e)},t.FeatureGroup=Ln,t.featureGroup=function(t){return new Ln(t)},t.ImageOverlay=Jn,t.imageOverlay=function(t,e,n){return new Jn(t,e,n)},t.VideoOverlay=Qn,t.videoOverlay=function(t,e,n){return new Qn(t,e,n)},t.SVGOverlay=$n,t.svgOverlay=function(t,e,n){return new $n(t,e,n)},t.DivOverlay=tr,t.Popup=er,t.popup=function(t,e){return new er(t,e)},t.Tooltip=nr,t.tooltip=function(t,e){return new nr(t,e)},t.Icon=Pn,t.icon=function(t){return new Pn(t)},t.DivIcon=rr,t.divIcon=function(t){return new rr(t)},t.Marker=kn,t.marker=function(t,e){return new kn(t,e)},t.TileLayer=or,t.tileLayer=ar,t.GridLayer=ir,t.gridLayer=function(t){return new ir(t)},t.SVG=dr,t.svg=gr,t.Renderer=ur,t.Canvas=lr,t.canvas=cr,t.Path=In,t.CircleMarker=Nn,t.circleMarker=function(t,e){return new Nn(t,e)},t.Circle=Dn,t.circle=function(t,e,n){return new Dn(t,e,n)},t.Polyline=jn,t.polyline=function(t,e){return new jn(t,e)},t.Polygon=Fn,t.polygon=function(t,e){return new Fn(t,e)},t.Rectangle=mr,t.rectangle=function(t,e){return new mr(t,e)},t.Map=qe,t.map=function(t,e){return new qe(t,e)};var xr=window.L;t.noConflict=function(){return window.L=xr,this},window.L=t}(e)},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(7);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var r=n(144),i="undefined"!==typeof t?t:{},o=Object(r.a)(i),a=(o.flush,o.hydrate,o.cx,o.merge,o.getRegisteredStyles,o.injectGlobal),s=(o.keyframes,o.css);o.sheet,o.caches}).call(this,n(27))},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){return void 0===t}function s(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return Se(t,e,n,r,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function d(t){if(null==t._isValid){var e=p(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=f(NaN);return null!=t?h(p(e),t):p(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var m=r.momentProperties=[];function y(t,e){var n,r,i;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=p(e)),a(e._locale)||(t._locale=e._locale),m.length>0)for(n=0;n<m.length;n++)a(i=e[r=m[n]])||(t[r]=i);return t}var v=!1;function b(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function E(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=_(e)),n}function S(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&w(t[r])!==w(e[r]))&&a++;return a+o}function x(t){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,e){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}x(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var O,C={};function A(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),C[t]||(x(e),C[t]=!0)}function L(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var n,r=h({},t);for(n in e)c(e,n)&&(o(t[n])&&o(e[n])?(r[n]={},h(r[n],t[n]),h(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)c(t,n)&&!c(e,n)&&o(t[n])&&(r[n]=h({},r[n]));return r}function R(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,O=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var M={};function k(t,e){var n=t.toLowerCase();M[n]=M[n+"s"]=M[e]=t}function I(t){return"string"===typeof t?M[t]||M[t.toLowerCase()]:void 0}function N(t){var e,n,r={};for(n in t)c(t,n)&&(e=I(n))&&(r[e]=t[n]);return r}var D={};function j(t,e){D[t]=e}function F(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var V=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},G={};function W(t,e,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),t&&(G[t]=i),e&&(G[e[0]]=function(){return F(i.apply(this,arguments),e[1],e[2])}),n&&(G[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function K(t,e){return t.isValid()?(e=z(e,t.localeData()),U[e]=U[e]||function(t){var e,n,r,i=t.match(V);for(e=0,n=i.length;e<n;e++)G[i[e]]?i[e]=G[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=L(i[r])?i[r].call(e,t):i[r];return o}}(e),U[e](t)):t.localeData().invalidDate()}function z(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(B.lastIndex=0;n>=0&&B.test(t);)t=t.replace(B,r),B.lastIndex=0,n-=1;return t}var H=/\d/,Y=/\d\d/,q=/\d{3}/,X=/\d{4}/,Z=/[+-]?\d{6}/,J=/\d\d?/,Q=/\d\d\d\d?/,$=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,nt=/[+-]?\d{1,6}/,rt=/\d+/,it=/[+-]?\d+/,ot=/Z|[+-]\d\d:?\d\d/gi,at=/Z|[+-]\d\d(?::?\d\d)?/gi,st=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={};function lt(t,e,n){ut[t]=L(e)?e:function(t,r){return t&&n?n:e}}function ct(t,e){return c(ut,t)?ut[t](e._strict,e._locale):new RegExp(ht(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function pt(t,e){var n,r=e;for("string"===typeof t&&(t=[t]),s(e)&&(r=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)ft[t[n]]=r}function dt(t,e){pt(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function gt(t,e,n){null!=e&&c(ft,t)&&ft[t](e,n._a,n,t)}function mt(t){return yt(t)?366:365}function yt(t){return t%4===0&&t%100!==0||t%400===0}W("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),k("year","y"),j("year",1),lt("Y",it),lt("YY",J,Y),lt("YYYY",et,X),lt("YYYYY",nt,Z),lt("YYYYYY",nt,Z),pt(["YYYYY","YYYYYY"],0),pt("YYYY",(function(t,e){e[0]=2===t.length?r.parseTwoDigitYear(t):w(t)})),pt("YY",(function(t,e){e[0]=r.parseTwoDigitYear(t)})),pt("Y",(function(t,e){e[0]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var vt,bt=Et("FullYear",!0);function Et(t,e){return function(n){return null!=n?(wt(this,t,n),r.updateOffset(this,e),this):_t(this,t)}}function _t(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function wt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&yt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),St(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function St(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?yt(t)?29:28:31-r%7%2}vt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),W("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),k("month","M"),j("month",8),lt("M",J),lt("MM",J,Y),lt("MMM",(function(t,e){return e.monthsShortRegex(t)})),lt("MMMM",(function(t,e){return e.monthsRegex(t)})),pt(["M","MM"],(function(t,e){e[1]=w(t)-1})),pt(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[1]=i:p(n).invalidMonth=t}));var xt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ct(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=vt.call(this._shortMonthsParse,a))?i:null:-1!==(i=vt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=vt.call(this._shortMonthsParse,a))||-1!==(i=vt.call(this._longMonthsParse,a))?i:null:-1!==(i=vt.call(this._longMonthsParse,a))||-1!==(i=vt.call(this._shortMonthsParse,a))?i:null}function At(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=w(e);else if(!s(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),St(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Lt(t){return null!=t?(At(this,t),r.updateOffset(this,!0),this):_t(this,"Month")}var Pt=st,Rt=st;function Mt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=f([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=ht(r[e]),i[e]=ht(i[e]);for(e=0;e<24;e++)o[e]=ht(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function kt(t,e,n,r,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}function It(t){var e;if(t<100&&t>=0){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Nt(t,e,n){var r=7+e-n;return-(7+It(t,0,r).getUTCDay()-e)%7+r-1}function Dt(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+Nt(t,r,i);return s<=0?a=mt(o=t-1)+s:s>mt(t)?(o=t+1,a=s-mt(t)):(o=t,a=s),{year:o,dayOfYear:a}}function jt(t,e,n){var r,i,o=Nt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+Ft(i=t.year()-1,e,n):a>Ft(t.year(),e,n)?(r=a-Ft(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Ft(t,e,n){var r=Nt(t,e,n),i=Nt(t+1,e,n);return(mt(t)-r+i)/7}function Vt(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),j("week",5),j("isoWeek",5),lt("w",J),lt("ww",J,Y),lt("W",J),lt("WW",J,Y),dt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=w(t)})),W("d",0,"do","day"),W("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),W("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),W("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),lt("d",J),lt("e",J),lt("E",J),lt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),lt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),lt("dddd",(function(t,e){return e.weekdaysRegex(t)})),dt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:p(n).invalidWeekday=t})),dt(["d","e","E"],(function(t,e,n,r){e[r]=w(t)}));var Bt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ut="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Wt(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=vt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=vt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=vt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=vt.call(this._weekdaysParse,a))||-1!==(i=vt.call(this._shortWeekdaysParse,a))||-1!==(i=vt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=vt.call(this._shortWeekdaysParse,a))||-1!==(i=vt.call(this._weekdaysParse,a))||-1!==(i=vt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=vt.call(this._minWeekdaysParse,a))||-1!==(i=vt.call(this._weekdaysParse,a))||-1!==(i=vt.call(this._shortWeekdaysParse,a))?i:null}var Kt=st,zt=st,Ht=st;function Yt(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],l=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(t),s.sort(t),u.sort(t),l.sort(t),e=0;e<7;e++)s[e]=ht(s[e]),u[e]=ht(u[e]),l[e]=ht(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function qt(){return this.hours()%12||12}function Xt(t,e){W(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Zt(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,qt),W("k",["kk",2],0,(function(){return this.hours()||24})),W("hmm",0,0,(function(){return""+qt.apply(this)+F(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+qt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+F(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)})),Xt("a",!0),Xt("A",!1),k("hour","h"),j("hour",13),lt("a",Zt),lt("A",Zt),lt("H",J),lt("h",J),lt("k",J),lt("HH",J,Y),lt("hh",J,Y),lt("kk",J,Y),lt("hmm",Q),lt("hmmss",$),lt("Hmm",Q),lt("Hmmss",$),pt(["H","HH"],3),pt(["k","kk"],(function(t,e,n){var r=w(t);e[3]=24===r?0:r})),pt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),pt(["h","hh"],(function(t,e,n){e[3]=w(t),p(n).bigHour=!0})),pt("hmm",(function(t,e,n){var r=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r)),p(n).bigHour=!0})),pt("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r,2)),e[5]=w(t.substr(i)),p(n).bigHour=!0})),pt("Hmm",(function(t,e,n){var r=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r))})),pt("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r,2)),e[5]=w(t.substr(i))}));var Jt,Qt=Et("Hours",!0),$t={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Tt,monthsShort:Ot,week:{dow:0,doy:6},weekdays:Bt,weekdaysMin:Gt,weekdaysShort:Ut,meridiemParse:/[ap]\.?m?\.?/i},te={},ee={};function ne(t){return t?t.toLowerCase().replace("_","-"):t}function re(e){var n=null;if(!te[e]&&"undefined"!==typeof t&&t&&t.exports)try{n=Jt._abbr,!function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),ie(n)}catch(r){}return te[e]}function ie(t,e){var n;return t&&((n=a(e)?ae(t):oe(t,e))?Jt=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Jt._abbr}function oe(t,e){if(null!==e){var n,r=$t;if(e.abbr=t,null!=te[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=te[t]._config;else if(null!=e.parentLocale)if(null!=te[e.parentLocale])r=te[e.parentLocale]._config;else{if(null==(n=re(e.parentLocale)))return ee[e.parentLocale]||(ee[e.parentLocale]=[]),ee[e.parentLocale].push({name:t,config:e}),null;r=n._config}return te[t]=new R(P(r,e)),ee[t]&&ee[t].forEach((function(t){oe(t.name,t.config)})),ie(t),te[t]}return delete te[t],null}function ae(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Jt;if(!i(t)){if(e=re(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=ne(t[o]).split("-")).length,n=(n=ne(t[o+1]))?n.split("-"):null;e>0;){if(r=re(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&S(i,n,!0)>=e-1)break;e--}o++}return Jt}(t)}function se(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>St(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,p(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),p(t)._overflowWeeks&&-1===e&&(e=7),p(t)._overflowWeekday&&-1===e&&(e=8),p(t).overflow=e),t}function ue(t,e,n){return null!=t?t:null!=e?e:n}function le(t){var e,n,i,o,a,s=[];if(!t._d){for(i=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,i,o,a,s,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=ue(e.GG,t._a[0],jt(xe(),1,4).year),r=ue(e.W,1),((i=ue(e.E,1))<1||i>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=jt(xe(),o,a);n=ue(e.gg,t._a[0],l.year),r=ue(e.w,l.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o}r<1||r>Ft(n,o,a)?p(t)._overflowWeeks=!0:null!=u?p(t)._overflowWeekday=!0:(s=Dt(n,r,i,o,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=ue(t._a[0],i[0]),(t._dayOfYear>mt(a)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=It(a,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?It:kt).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==o&&(p(t).weekdayMismatch=!0)}}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,he=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/Z|[+-]\d\d(?::?\d\d)?/,pe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],de=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function me(t){var e,n,r,i,o,a,s=t._i,u=ce.exec(s)||he.exec(s);if(u){for(p(t).iso=!0,e=0,n=pe.length;e<n;e++)if(pe[e][1].exec(u[1])){i=pe[e][0],r=!1!==pe[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=de.length;e<n;e++)if(de[e][1].exec(u[3])){o=(u[2]||" ")+de[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!fe.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),_e(t)}else t._isValid=!1}var ye=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ve(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var be={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ee(t){var e=ye.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(e){var n=function(t,e,n,r,i,o){var a=[ve(t),Ot.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,n){return!t||Ut.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}(e[1],n,t))return;t._a=n,t._tzm=function(t,e,n){if(t)return be[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(e[8],e[9],e[10]),t._d=It.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function _e(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],p(t).empty=!0;var e,n,i,o,a,s=""+t._i,u=s.length,l=0;for(i=z(t._f,t._locale).match(V)||[],e=0;e<i.length;e++)o=i[e],(n=(s.match(ct(o,t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&p(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),l+=n.length),G[o]?(n?p(t).empty=!1:p(t).unusedTokens.push(o),gt(o,n,t)):t._strict&&!n&&p(t).unusedTokens.push(o);p(t).charsLeftOver=u-l,s.length>0&&p(t).unusedInput.push(s),t._a[3]<=12&&!0===p(t).bigHour&&t._a[3]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),le(t),se(t)}else Ee(t);else me(t)}function we(t){var e=t._i,n=t._f;return t._locale=t._locale||ae(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),E(e)?new b(se(e)):(u(e)?t._d=e:i(n)?function(t){var e,n,r,i,o;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],_e(e),d(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==r||o<r)&&(r=o,n=e));h(t,n||e)}(t):n?_e(t):function(t){var e=t._i;a(e)?t._d=new Date(r.now()):u(e)?t._d=new Date(e.valueOf()):"string"===typeof e?function(t){var e=ge.exec(t._i);null===e?(me(t),!1===t._isValid&&(delete t._isValid,Ee(t),!1===t._isValid&&(delete t._isValid,r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):i(e)?(t._a=l(e.slice(0),(function(t){return parseInt(t,10)})),le(t)):o(e)?function(t){if(!t._d){var e=N(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),le(t)}}(t):s(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),d(t)||(t._d=null),t))}function Se(t,e,n,r,a){var s={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=n,s._i=t,s._f=e,s._strict=r,function(t){var e=new b(se(we(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}(s)}function xe(t,e,n,r){return Se(t,e,n,r,!1)}r.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Te=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()})),Oe=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}));function Ce(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return xe();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Le(t){var e=N(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===vt.call(Ae,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Ae.length;++r)if(t[Ae[r]]){if(n)return!1;parseFloat(t[Ae[r]])!==w(t[Ae[r]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ae(),this._bubble()}function Pe(t){return t instanceof Le}function Re(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Me(t,e){W(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+F(~~(t/60),2)+e+F(~~t%60,2)}))}Me("Z",":"),Me("ZZ",""),lt("Z",at),lt("ZZ",at),pt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Ie(at,t)}));var ke=/([\+\-]|\d\d)/gi;function Ie(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(ke)||["-",0,0],i=60*r[1]+w(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ne(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(E(t)||u(t)?t.valueOf():xe(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):xe(t).local()}function De(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function je(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Fe=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Be(t,e){var n,r,i,o=t,a=null;return Pe(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Fe.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:w(a[2])*n,h:w(a[3])*n,m:w(a[4])*n,s:w(a[5])*n,ms:w(Re(1e3*a[6]))*n}):(a=Ve.exec(t))?(n="-"===a[1]?-1:1,o={y:Ue(a[2],n),M:Ue(a[3],n),w:Ue(a[4],n),d:Ue(a[5],n),h:Ue(a[6],n),m:Ue(a[7],n),s:Ue(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Ne(e,t),t.isBefore(e)?n=Ge(t,e):((n=Ge(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(xe(o.from),xe(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Le(o),Pe(t)&&c(t,"_locale")&&(r._locale=t._locale),r}function Ue(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ge(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function We(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ke(this,Be(n="string"===typeof n?+n:n,r),t),this}}function Ke(t,e,n,i){var o=e._milliseconds,a=Re(e._days),s=Re(e._months);t.isValid()&&(i=null==i||i,s&&At(t,_t(t,"Month")+s*n),a&&wt(t,"Date",_t(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&r.updateOffset(t,a||s))}Be.fn=Le.prototype,Be.invalid=function(){return Be(NaN)};var ze=We(1,"add"),He=We(-1,"subtract");function Ye(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ae(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xe=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Ze(){return this._locale}function Je(t,e){return(t%e+e)%e}function Qe(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function $e(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function tn(t,e){W(0,[t,t.length],0,e)}function en(t,e,n,r,i){var o;return null==t?jt(this,r,i).year:(e>(o=Ft(t,r,i))&&(e=o),nn.call(this,t,e,n,r,i))}function nn(t,e,n,r,i){var o=Dt(t,e,n,r,i),a=It(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),lt("G",it),lt("g",it),lt("GG",J,Y),lt("gg",J,Y),lt("GGGG",et,X),lt("gggg",et,X),lt("GGGGG",nt,Z),lt("ggggg",nt,Z),dt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=w(t)})),dt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),W("Q",0,"Qo","quarter"),k("quarter","Q"),j("quarter",7),lt("Q",H),pt("Q",(function(t,e){e[1]=3*(w(t)-1)})),W("D",["DD",2],"Do","date"),k("date","D"),j("date",9),lt("D",J),lt("DD",J,Y),lt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),pt(["D","DD"],2),pt("Do",(function(t,e){e[2]=w(t.match(J)[0])}));var rn=Et("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),j("dayOfYear",4),lt("DDD",tt),lt("DDDD",q),pt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=w(t)})),W("m",["mm",2],0,"minute"),k("minute","m"),j("minute",14),lt("m",J),lt("mm",J,Y),pt(["m","mm"],4);var on=Et("Minutes",!1);W("s",["ss",2],0,"second"),k("second","s"),j("second",15),lt("s",J),lt("ss",J,Y),pt(["s","ss"],5);var an,sn=Et("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),k("millisecond","ms"),j("millisecond",16),lt("S",tt,H),lt("SS",tt,Y),lt("SSS",tt,q),an="SSSS";an.length<=9;an+="S")lt(an,rt);function un(t,e){e[6]=w(1e3*("0."+t))}for(an="S";an.length<=9;an+="S")pt(an,un);var ln=Et("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var cn=b.prototype;function hn(t){return t}cn.add=ze,cn.calendar=function(t,e){var n=t||xe(),i=Ne(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=e&&(L(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,xe(n)))},cn.clone=function(){return new b(this)},cn.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ne(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=I(e)){case"year":o=Ye(this,r)/12;break;case"month":o=Ye(this,r);break;case"quarter":o=Ye(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:_(o)},cn.endOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?$e:Qe;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Je(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Je(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Je(e,1e3)-1}return this._d.setTime(e),r.updateOffset(this,!0),this},cn.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=K(this,t);return this.localeData().postformat(e)},cn.from=function(t,e){return this.isValid()&&(E(t)&&t.isValid()||xe(t).isValid())?Be({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.fromNow=function(t){return this.from(xe(),t)},cn.to=function(t,e){return this.isValid()&&(E(t)&&t.isValid()||xe(t).isValid())?Be({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.toNow=function(t){return this.to(xe(),t)},cn.get=function(t){return L(this[t=I(t)])?this[t]():this},cn.invalidAt=function(){return p(this).overflow},cn.isAfter=function(t,e){var n=E(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},cn.isBefore=function(t,e){var n=E(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},cn.isBetween=function(t,e,n,r){var i=E(t)?t:xe(t),o=E(e)?e:xe(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},cn.isSame=function(t,e){var n,r=E(t)?t:xe(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},cn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},cn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},cn.isValid=function(){return d(this)},cn.lang=Xe,cn.locale=qe,cn.localeData=Ze,cn.max=Oe,cn.min=Te,cn.parsingFlags=function(){return h({},p(this))},cn.set=function(t,e){if("object"===typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:D[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=N(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(L(this[t=I(t)]))return this[t](e);return this},cn.startOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?$e:Qe;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Je(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Je(e,6e4);break;case"second":e=this._d.valueOf(),e-=Je(e,1e3)}return this._d.setTime(e),r.updateOffset(this,!0),this},cn.subtract=He,cn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},cn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},cn.toDate=function(){return new Date(this.valueOf())},cn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?K(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",K(n,"Z")):K(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},cn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},cn.toJSON=function(){return this.isValid()?this.toISOString():null},cn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cn.unix=function(){return Math.floor(this.valueOf()/1e3)},cn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cn.year=bt,cn.isLeapYear=function(){return yt(this.year())},cn.weekYear=function(t){return en.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cn.isoWeekYear=function(t){return en.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},cn.quarter=cn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},cn.month=Lt,cn.daysInMonth=function(){return St(this.year(),this.month())},cn.week=cn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},cn.isoWeek=cn.isoWeeks=function(t){var e=jt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},cn.weeksInYear=function(){var t=this.localeData()._week;return Ft(this.year(),t.dow,t.doy)},cn.isoWeeksInYear=function(){return Ft(this.year(),1,4)},cn.date=rn,cn.day=cn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!==typeof t?t:isNaN(t)?"number"===typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},cn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},cn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},cn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},cn.hour=cn.hours=Qt,cn.minute=cn.minutes=on,cn.second=cn.seconds=sn,cn.millisecond=cn.milliseconds=ln,cn.utcOffset=function(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=Ie(at,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=De(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?Ke(this,Be(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:De(this)},cn.utc=function(t){return this.utcOffset(0,t)},cn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(De(this),"m")),this},cn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=Ie(ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},cn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?xe(t).utcOffset():0,(this.utcOffset()-t)%60===0)},cn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cn.isLocal=function(){return!!this.isValid()&&!this._isUTC},cn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cn.isUtc=je,cn.isUTC=je,cn.zoneAbbr=function(){return this._isUTC?"UTC":""},cn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cn.dates=T("dates accessor is deprecated. Use date instead.",rn),cn.months=T("months accessor is deprecated. Use month instead",Lt),cn.years=T("years accessor is deprecated. Use year instead",bt),cn.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),cn.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=we(t))._a){var e=t._isUTC?f(t._a):xe(t._a);this._isDSTShifted=this.isValid()&&S(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var fn=R.prototype;function pn(t,e,n,r){var i=ae(),o=f().set(r,e);return i[n](o,t)}function dn(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return pn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=pn(t,r,n,"month");return i}function gn(t,e,n,r){"boolean"===typeof t?(s(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,s(e)&&(n=e,e=void 0),e=e||"");var i,o=ae(),a=t?o._week.dow:0;if(null!=n)return pn(e,(n+a)%7,r,"day");var u=[];for(i=0;i<7;i++)u[i]=pn(e,(i+a)%7,r,"day");return u}fn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return L(r)?r.call(e,n):r},fn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},fn.invalidDate=function(){return this._invalidDate},fn.ordinal=function(t){return this._ordinal.replace("%d",t)},fn.preparse=hn,fn.postformat=hn,fn.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return L(i)?i(t,e,n,r):i.replace(/%d/i,t)},fn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return L(n)?n(e):n.replace(/%s/i,e)},fn.set=function(t){var e,n;for(n in t)L(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fn.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||xt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},fn.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[xt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fn.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return Ct.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},fn.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Mt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Rt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},fn.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Mt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Pt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},fn.week=function(t){return jt(t,this._week.dow,this._week.doy).week},fn.firstDayOfYear=function(){return this._week.doy},fn.firstDayOfWeek=function(){return this._week.dow},fn.weekdays=function(t,e){var n=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Vt(n,this._week.dow):t?n[t.day()]:n},fn.weekdaysMin=function(t){return!0===t?Vt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},fn.weekdaysShort=function(t){return!0===t?Vt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},fn.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return Wt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},fn.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Yt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Kt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},fn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Yt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Yt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ht),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},fn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},ie("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=T("moment.lang is deprecated. Use moment.locale instead.",ie),r.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ae);var mn=Math.abs;function yn(t,e,n,r){var i=Be(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function vn(t){return t<0?Math.floor(t):Math.ceil(t)}function bn(t){return 4800*t/146097}function En(t){return 146097*t/4800}function _n(t){return function(){return this.as(t)}}var wn=_n("ms"),Sn=_n("s"),xn=_n("m"),Tn=_n("h"),On=_n("d"),Cn=_n("w"),An=_n("M"),Ln=_n("Q"),Pn=_n("y");function Rn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Mn=Rn("milliseconds"),kn=Rn("seconds"),In=Rn("minutes"),Nn=Rn("hours"),Dn=Rn("days"),jn=Rn("months"),Fn=Rn("years"),Vn=Math.round,Bn={ss:44,s:45,m:45,h:22,d:26,M:11};function Un(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}var Gn=Math.abs;function Wn(t){return(t>0)-(t<0)||+t}function Kn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Gn(this._milliseconds)/1e3,r=Gn(this._days),i=Gn(this._months);t=_(n/60),e=_(t/60),n%=60,t%=60;var o=_(i/12),a=i%=12,s=r,u=e,l=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var f=h<0?"-":"",p=Wn(this._months)!==Wn(h)?"-":"",d=Wn(this._days)!==Wn(h)?"-":"",g=Wn(this._milliseconds)!==Wn(h)?"-":"";return f+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?d+s+"D":"")+(u||l||c?"T":"")+(u?g+u+"H":"")+(l?g+l+"M":"")+(c?g+c+"S":"")}var zn=Le.prototype;return zn.isValid=function(){return this._isValid},zn.abs=function(){var t=this._data;return this._milliseconds=mn(this._milliseconds),this._days=mn(this._days),this._months=mn(this._months),t.milliseconds=mn(t.milliseconds),t.seconds=mn(t.seconds),t.minutes=mn(t.minutes),t.hours=mn(t.hours),t.months=mn(t.months),t.years=mn(t.years),this},zn.add=function(t,e){return yn(this,t,e,1)},zn.subtract=function(t,e){return yn(this,t,e,-1)},zn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=I(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+bn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(En(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},zn.asMilliseconds=wn,zn.asSeconds=Sn,zn.asMinutes=xn,zn.asHours=Tn,zn.asDays=On,zn.asWeeks=Cn,zn.asMonths=An,zn.asQuarters=Ln,zn.asYears=Pn,zn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},zn._bubble=function(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*vn(En(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=_(o/1e3),u.seconds=t%60,e=_(t/60),u.minutes=e%60,n=_(e/60),u.hours=n%24,a+=_(n/24),i=_(bn(a)),s+=i,a-=vn(En(i)),r=_(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},zn.clone=function(){return Be(this)},zn.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},zn.milliseconds=Mn,zn.seconds=kn,zn.minutes=In,zn.hours=Nn,zn.days=Dn,zn.weeks=function(){return _(this.days()/7)},zn.months=jn,zn.years=Fn,zn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var r=Be(t).abs(),i=Vn(r.as("s")),o=Vn(r.as("m")),a=Vn(r.as("h")),s=Vn(r.as("d")),u=Vn(r.as("M")),l=Vn(r.as("y")),c=i<=Bn.ss&&["s",i]||i<Bn.s&&["ss",i]||o<=1&&["m"]||o<Bn.m&&["mm",o]||a<=1&&["h"]||a<Bn.h&&["hh",a]||s<=1&&["d"]||s<Bn.d&&["dd",s]||u<=1&&["M"]||u<Bn.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,Un.apply(null,c)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},zn.toISOString=Kn,zn.toString=Kn,zn.toJSON=Kn,zn.locale=qe,zn.localeData=Ze,zn.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kn),zn.lang=Xe,W("X",0,0,"unix"),W("x",0,0,"valueOf"),lt("x",it),lt("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),pt("x",(function(t,e,n){n._d=new Date(w(t))})),r.version="2.24.0",e=xe,r.fn=cn,r.min=function(){var t=[].slice.call(arguments,0);return Ce("isBefore",t)},r.max=function(){var t=[].slice.call(arguments,0);return Ce("isAfter",t)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(t){return xe(1e3*t)},r.months=function(t,e){return dn(t,e,"months")},r.isDate=u,r.locale=ie,r.invalid=g,r.duration=Be,r.isMoment=E,r.weekdays=function(t,e,n){return gn(t,e,n,"weekdays")},r.parseZone=function(){return xe.apply(null,arguments).parseZone()},r.localeData=ae,r.isDuration=Pe,r.monthsShort=function(t,e){return dn(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return gn(t,e,n,"weekdaysMin")},r.defineLocale=oe,r.updateLocale=function(t,e){if(null!=e){var n,r,i=$t;null!=(r=re(t))&&(i=r._config),e=P(i,e),(n=new R(e)).parentLocale=te[t],te[t]=n,ie(t)}else null!=te[t]&&(null!=te[t].parentLocale?te[t]=te[t].parentLocale:null!=te[t]&&delete te[t]);return te[t]},r.locales=function(){return O(te)},r.weekdaysShort=function(t,e,n){return gn(t,e,n,"weekdaysShort")},r.normalizeUnits=I,r.relativeTimeRounding=function(t){return void 0===t?Vn:"function"===typeof t&&(Vn=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==Bn[t]&&(void 0===e?Bn[t]:(Bn[t]=e,"s"===t&&(Bn.ss=e-1),!0))},r.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=cn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(45)(t))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";var r=n(8);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),l=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var h=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),h++):h&&(o(a,f),h--)}if(!l)for(;h--;h)a.unshift("..");!l||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"===typeof e||"object"===typeof n){var r=s(e),i=s(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1};var l=function(t,e){if(!t)throw new Error("Invariant failed")};function c(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function m(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function y(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return O})),n.d(e,"d",(function(){return A})),n.d(e,"c",(function(){return g})),n.d(e,"f",(function(){return m})),n.d(e,"e",(function(){return d}));var v=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(t,e){e(window.confirm(t))}function E(){try{return window.history.state||{}}catch(t){return{}}}function _(t){void 0===t&&(t={}),v||l(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,m=o.keyLength,_=void 0===m?6:m,w=t.basename?p(c(t.basename)):"";function S(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return w&&(o=f(o,w)),g(o,r,n)}function x(){return Math.random().toString(36).substr(2,_)}var T=y();function O(t){Object(r.a)(F,t),F.length=e.length,T.notifyListeners(F.location,F.action)}function C(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||P(S(t.state))}function A(){P(S(E()))}var L=!1;function P(t){if(L)L=!1,O();else{T.confirmTransitionTo(t,"POP",h,(function(e){e?O({action:"POP",location:t}):function(t){var e=F.location,n=M.indexOf(e.key);-1===n&&(n=0);var r=M.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(L=!0,I(i))}(t)}))}}var R=S(E()),M=[R.key];function k(t){return w+d(t)}function I(t){e.go(t)}var N=0;function D(t){1===(N+=t)&&1===t?(window.addEventListener("popstate",C),i&&window.addEventListener("hashchange",A)):0===N&&(window.removeEventListener("popstate",C),i&&window.removeEventListener("hashchange",A))}var j=!1;var F={length:e.length,action:"POP",location:R,createHref:k,push:function(t,r){var i=g(t,r,x(),F.location);T.confirmTransitionTo(i,"PUSH",h,(function(t){if(t){var r=k(i),o=i.key,a=i.state;if(n)if(e.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=M.indexOf(F.location.key),l=M.slice(0,u+1);l.push(i.key),M=l,O({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(t,r){var i=g(t,r,x(),F.location);T.confirmTransitionTo(i,"REPLACE",h,(function(t){if(t){var r=k(i),o=i.key,a=i.state;if(n)if(e.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=M.indexOf(F.location.key);-1!==u&&(M[u]=i.key),O({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(t){void 0===t&&(t=!1);var e=T.setPrompt(t);return j||(D(1),j=!0),function(){return j&&(j=!1,D(-1)),e()}},listen:function(t){var e=T.appendListener(t);return D(1),function(){D(-1),e()}}};return F}var w={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:c},slash:{encodePath:c,decodePath:c}};function S(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function x(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function T(t){window.location.replace(S(window.location.href)+"#"+t)}function O(t){void 0===t&&(t={}),v||l(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?p(c(t.basename)):"",h=w[s],m=h.encodePath,E=h.decodePath;function _(){var t=E(x());return u&&(t=f(t,u)),g(t)}var O=y();function C(t){Object(r.a)(V,t),V.length=e.length,O.notifyListeners(V.location,V.action)}var A=!1,L=null;function P(){var t,e,n=x(),r=m(n);if(n!==r)T(r);else{var i=_(),a=V.location;if(!A&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(L===d(i))return;L=null,function(t){if(A)A=!1,C();else{O.confirmTransitionTo(t,"POP",o,(function(e){e?C({action:"POP",location:t}):function(t){var e=V.location,n=I.lastIndexOf(d(e));-1===n&&(n=0);var r=I.lastIndexOf(d(t));-1===r&&(r=0);var i=n-r;i&&(A=!0,N(i))}(t)}))}}(i)}}var R=x(),M=m(R);R!==M&&T(M);var k=_(),I=[d(k)];function N(t){e.go(t)}var D=0;function j(t){1===(D+=t)&&1===t?window.addEventListener("hashchange",P):0===D&&window.removeEventListener("hashchange",P)}var F=!1;var V={length:e.length,action:"POP",location:k,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=S(window.location.href)),n+"#"+m(u+d(t))},push:function(t,e){var n=g(t,void 0,void 0,V.location);O.confirmTransitionTo(n,"PUSH",o,(function(t){if(t){var e=d(n),r=m(u+e);if(x()!==r){L=e,function(t){window.location.hash=t}(r);var i=I.lastIndexOf(d(V.location)),o=I.slice(0,i+1);o.push(e),I=o,C({action:"PUSH",location:n})}else C()}}))},replace:function(t,e){var n=g(t,void 0,void 0,V.location);O.confirmTransitionTo(n,"REPLACE",o,(function(t){if(t){var e=d(n),r=m(u+e);x()!==r&&(L=e,T(r));var i=I.indexOf(d(V.location));-1!==i&&(I[i]=e),C({action:"REPLACE",location:n})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(t){void 0===t&&(t=!1);var e=O.setPrompt(t);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),e()}},listen:function(t){var e=O.appendListener(t);return j(1),function(){j(-1),e()}}};return V}function C(t,e,n){return Math.min(Math.max(t,e),n)}function A(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,l=void 0===u?6:u,c=y();function h(t){Object(r.a)(E,t),E.length=E.entries.length,c.notifyListeners(E.location,E.action)}function f(){return Math.random().toString(36).substr(2,l)}var p=C(s,0,o.length-1),m=o.map((function(t){return g(t,void 0,"string"===typeof t?f():t.key||f())})),v=d;function b(t){var e=C(E.index+t,0,E.entries.length-1),r=E.entries[e];c.confirmTransitionTo(r,"POP",n,(function(t){t?h({action:"POP",location:r,index:e}):h()}))}var E={length:m.length,action:"POP",location:m[p],index:p,entries:m,createHref:v,push:function(t,e){var r=g(t,e,f(),E.location);c.confirmTransitionTo(r,"PUSH",n,(function(t){if(t){var e=E.index+1,n=E.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),h({action:"PUSH",location:r,index:e,entries:n})}}))},replace:function(t,e){var r=g(t,e,f(),E.location);c.confirmTransitionTo(r,"REPLACE",n,(function(t){t&&(E.entries[E.index]=r,h({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=E.index+t;return e>=0&&e<E.entries.length},block:function(t){return void 0===t&&(t=!1),c.setPrompt(t)},listen:function(t){return c.appendListener(t)}};return E}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){var n=e.distance,r=e.left,i=e.right,o=e.up,a=e.down,s=e.top,l=e.bottom,c=e.big,h=e.mirror,p=e.opposite,d=(n?n.toString():0)+((r?1:0)|(i?2:0)|(s||a?4:0)|(l||o?8:0)|(h?16:0)|(p?32:0)|(t?64:0)|(c?128:0));if(f.hasOwnProperty(d))return f[d];var g=r||i||o||a||s||l,m=void 0,y=void 0;if(g){if(!h!=!(t&&p)){var v=[i,r,l,s,a,o];r=v[0],i=v[1],s=v[2],l=v[3],o=v[4],a=v[5]}var b=n||(c?"2000px":"100%");m=r?"-"+b:i?b:"0",y=a||s?"-"+b:o||l?b:"0"}return f[d]=(0,u.animation)((t?"to":"from")+" {opacity: 0;"+(g?" transform: translate3d("+m+", "+y+", 0);":"")+"}\n     "+(t?"from":"to")+" {opacity: 1;transform: none;} "),f[d]}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.defaults,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.children,o=(t.out,t.forever),a=t.timeout,s=t.duration,l=void 0===s?u.defaults.duration:s,h=t.delay,f=void 0===h?u.defaults.delay:h,p=t.count,d=void 0===p?u.defaults.count:p,g=r(t,["children","out","forever","timeout","duration","delay","count"]),m={make:i,duration:void 0===a?l:a,delay:f,forever:o,count:d,style:{animationFillMode:"both"},reverse:g.left};return e?(0,c.default)(g,m,m,n):m}Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(1),u=n(81),l=n(113),c=(a=l)&&a.__esModule?a:{default:a},h={out:s.bool,left:s.bool,right:s.bool,top:s.bool,bottom:s.bool,big:s.bool,mirror:s.bool,opposite:s.bool,duration:s.number,timeout:s.number,distance:s.string,delay:s.number,count:s.number,forever:s.bool},f={};o.propTypes=h,e.default=o,t.exports=e.default},function(t,e,n){var r,i,o,a,s,u,l,c,h,f,p,d,g;window,t.exports=(r=n(304),i=n(1),o=n(38),a=n(306),s=n(5),u=n(20),l=n(6),c=n(21),h=n(307),f=n(322),p=n(31),d=n(59),g=n(311),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=43)}([function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e){t.exports=a},function(t,e){t.exports=s},function(t,e){t.exports=u},function(t,e){t.exports=l},function(t,e){t.exports=c},function(t,e,n){"use strict";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],u=e.base?s[0]+e.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var h=a(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(f)):o.push({identifier:c,updater:g(f,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function g(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=u(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(t,e),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r,i,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e){t.exports=h},function(t,e){t.exports=f},function(t,e){t.exports=p},function(t,e){t.exports=d},function(t,e){t.exports=g},function(t,e,n){var r=n(8),i=n(16);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(9)(!1)).push([t.i,".ptr-go-to-place-box{width:12rem}.ptr-go-to-place-box>.ptr-input-text{border:1px solid var(--accent55)}.ptr-go-to-place-box>.ptr-input-text input::placeholder{color:rgba(var(--base50rgb), 0.8)}.ptr-go-to-place-box>.ptr-input-text>.ptr-icon{width:1.25rem;margin-right:.25rem}.ptr-go-to-place-box>.ptr-input-text>.ptr-icon .line{fill:var(--accent55)}.ptr-go-to-place-box>.ptr-input-text.focus>.ptr-icon .line{fill:var(--accent55)}\n",""]),t.exports=e},function(t,e,n){var r=n(8),i=n(18);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(9)(!1)).push([t.i,".ptr-map-grid{width:100%;height:100%;position:relative;display:flex;flex-wrap:wrap}.ptr-map-grid .ptr-map{position:relative}.ptr-map-grid :not(.row1)>.ptr-map{border-top:1px solid #888}.ptr-map-grid :not(.col1)>.ptr-map{border-left:1px solid #888}.ptr-map-wrapper{overflow:hidden;position:relative}\n",""]),t.exports=e},function(t,e,n){var r=n(8),i=n(20);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(9)(!1)).push([t.i,".ptr-map-controls{position:absolute;bottom:.5rem;right:.5rem;z-index:999;display:flex;flex-direction:column}.ptr-map-controls .control{background:rgba(255,255,255,0.8);border-radius:.3rem;z-index:15;box-shadow:0 0 0.3rem 0 rgba(0,0,0,0.3);margin-bottom:.5rem}.ptr-map-controls .control:last-child{margin-bottom:0}.ptr-map-controls.small{bottom:13px}.ptr-map-controls.small .control{margin-bottom:5px}.ptr-map-controls .control>button:focus,.ptr-map-controls .menu-control>button:focus{outline:none}.ptr-map-controls .control>button,.ptr-map-controls .menu-control>button{padding:0;background:none;border:0;user-select:none;display:block;width:2rem;height:2rem;text-align:center;font-size:1.125rem;color:var(--base50);cursor:pointer;transition:color .2s ease-in-out,\r background .2s ease-in-out}.ptr-map-controls .control .hold-button{display:flex;align-items:center;justify-content:center}.ptr-map-controls .control .ptr-icon{width:1.35rem;height:1.35rem}.ptr-map-controls .legend-control .ptr-icon{width:1.6rem;height:1.6rem}.ptr-map-controls .legend-control.open .ptr-icon{color:var(--accent50)}.ptr-map-controls.small .control>button{width:1.6rem;height:1.6rem;font-size:.975rem}.ptr-map-controls .control>button:not(:first-child){border-top:1px solid rgba(0,0,0,0.1)}.ptr-map-controls .control>button:first-child{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.ptr-map-controls .control>button:last-child{border-bottom-right-radius:.3rem;border-bottom-left-radius:.3rem}.ptr-map-controls .control>button:hover,.ptr-map-controls .menu-control>button:hover{background-color:#fff;color:var(--accent50)}.ptr-map-controls .hold-button .ptr-icon .line{transition:fill .2s ease-in-out}.ptr-map-controls .hold-button:hover .ptr-icon .line{fill:var(--accent50)}.ptr-map-controls button>.ptr-icon .line{fill:currentColor}.ptr-map-controls button.disabled .ptr-icon .line{color:var(--base35)}.ptr-map-controls .rotate-needle-control i{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.ptr-map-controls .tilt-control button{background-position:center center;background-size:1.2rem;background-repeat:no-repeat}\n",""]),t.exports=e},function(t,e,n){var r=n(8),i=n(22);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(9)(!1)).push([t.i,".ptr-map-set{width:100%;height:100%;position:relative}.ptr-map-set-maps{width:100%;height:100%}\n",""]),t.exports=e},function(t,e,n){var r=n(8),i=n(24);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(9)(!1)).push([t.i,".map-tools{position:absolute;bottom:2.5rem;right:.5rem;z-index:3;display:flex;flex-direction:column}.control{background:rgba(255,255,255,0.8);border-radius:.3rem;z-index:15;box-shadow:0 0 0.3rem 0 rgba(0,0,0,0.3);margin-bottom:.5rem}.map-tools.small{bottom:13px}.map-tools.small .control{margin-bottom:5px}.map-tools .control>button:focus,.menu-control>button:focus{outline:none}.map-tools .control>button,.menu-control>button{padding:0;background:none;border:0;user-select:none;display:block;width:2rem;height:2rem;text-align:center;font-size:1.125rem;color:var(--base50);cursor:pointer;transition:color .2s ease-in-out,\r background .2s ease-in-out}.map-tools .control .hold-button{display:flex;align-items:center;justify-content:center}.map-tools .control .ptr-icon{width:1.35rem;height:1.35rem}.map-tools .legend-control .ptr-icon{width:1.6rem;height:1.6rem}.map-tools .control.open .ptr-icon{color:var(--accent50)}.map-tools.small .control>button{width:1.6rem;height:1.6rem;font-size:.975rem}.map-tools .control>button:not(:first-child){border-top:1px solid rgba(0,0,0,0.1)}.map-tools .control>button:first-child{border-top-right-radius:.3rem;border-top-left-radius:.3rem}.map-tools .control>button:last-child{border-bottom-right-radius:.3rem;border-bottom-left-radius:.3rem}.map-tools .control>button:hover,.menu-control>button:hover{background-color:#fff;color:var(--accent50)}.map-tools .hold-button .ptr-icon .line{transition:fill .2s ease-in-out}.map-tools .hold-button:hover .ptr-icon .line{fill:var(--accent50)}.map-tools button>.ptr-icon .line{fill:currentColor}.map-tools button.disabled .ptr-icon .line{color:var(--base35)}\n",""]),t.exports=e},function(t,e,n){var r=n(8),i=n(26);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(9)(!1)).push([t.i,".ptr-leaflet-map{width:100%;height:100%;isolation:isolate;position:relative;z-index:1}\n",""]),t.exports=e},function(t,e,n){var r=n(8),i=n(28);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){var r=n(9),i=n(29),o=n(30),a=n(31),s=n(32);e=r(!1);var u=i(o),l=i(a),c=i(s);e.push([t.i,"/* required styles */\r\n\r\n.leaflet-pane,\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-tile-container,\r\n.leaflet-pane > svg,\r\n.leaflet-pane > canvas,\r\n.leaflet-zoom-box,\r\n.leaflet-image-layer,\r\n.leaflet-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\t}\r\n.leaflet-container {\r\n\toverflow: hidden;\r\n\t}\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        user-select: none;\r\n\t  -webkit-user-drag: none;\r\n\t}\r\n/* Prevents IE11 from highlighting tiles in blue */\r\n.leaflet-tile::selection {\r\n\tbackground: transparent;\r\n}\r\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\r\n.leaflet-safari .leaflet-tile {\r\n\timage-rendering: -webkit-optimize-contrast;\r\n\t}\r\n/* hack that prevents hw layers \"stretching\" when loading new tiles */\r\n.leaflet-safari .leaflet-tile-container {\r\n\twidth: 1600px;\r\n\theight: 1600px;\r\n\t-webkit-transform-origin: 0 0;\r\n\t}\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\tdisplay: block;\r\n\t}\r\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\r\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\r\n.leaflet-container .leaflet-overlay-pane svg,\r\n.leaflet-container .leaflet-marker-pane img,\r\n.leaflet-container .leaflet-shadow-pane img,\r\n.leaflet-container .leaflet-tile-pane img,\r\n.leaflet-container img.leaflet-image-layer,\r\n.leaflet-container .leaflet-tile {\r\n\tmax-width: none !important;\r\n\tmax-height: none !important;\r\n\t}\r\n\r\n.leaflet-container.leaflet-touch-zoom {\r\n\t-ms-touch-action: pan-x pan-y;\r\n\ttouch-action: pan-x pan-y;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag {\r\n\t-ms-touch-action: pinch-zoom;\r\n\t/* Fallback for FF which doesn't support pinch-zoom */\r\n\ttouch-action: none;\r\n\ttouch-action: pinch-zoom;\r\n}\r\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\r\n\t-ms-touch-action: none;\r\n\ttouch-action: none;\r\n}\r\n.leaflet-container {\r\n\t-webkit-tap-highlight-color: transparent;\r\n}\r\n.leaflet-container a {\r\n\t-webkit-tap-highlight-color: rgba(51, 181, 229, 0.4);\r\n}\r\n.leaflet-tile {\r\n\tfilter: inherit;\r\n\tvisibility: hidden;\r\n\t}\r\n.leaflet-tile-loaded {\r\n\tvisibility: inherit;\r\n\t}\r\n.leaflet-zoom-box {\r\n\twidth: 0;\r\n\theight: 0;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\tz-index: 800;\r\n\t}\r\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\r\n.leaflet-overlay-pane svg {\r\n\t-moz-user-select: none;\r\n\t}\r\n\r\n.leaflet-pane         { z-index: 400; }\r\n\r\n.leaflet-tile-pane    { z-index: 200; }\r\n.leaflet-overlay-pane { z-index: 400; }\r\n.leaflet-shadow-pane  { z-index: 500; }\r\n.leaflet-marker-pane  { z-index: 600; }\r\n.leaflet-tooltip-pane   { z-index: 650; }\r\n.leaflet-popup-pane   { z-index: 700; }\r\n\r\n.leaflet-map-pane canvas { z-index: 100; }\r\n.leaflet-map-pane svg    { z-index: 200; }\r\n\r\n.leaflet-vml-shape {\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\t}\r\n.lvml {\r\n\tbehavior: url(#default#VML);\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\t}\r\n\r\n\r\n/* control positioning */\r\n\r\n.leaflet-control {\r\n\tposition: relative;\r\n\tz-index: 800;\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-top,\r\n.leaflet-bottom {\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-top {\r\n\ttop: 0;\r\n\t}\r\n.leaflet-right {\r\n\tright: 0;\r\n\t}\r\n.leaflet-bottom {\r\n\tbottom: 0;\r\n\t}\r\n.leaflet-left {\r\n\tleft: 0;\r\n\t}\r\n.leaflet-control {\r\n\tfloat: left;\r\n\tclear: both;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tfloat: right;\r\n\t}\r\n.leaflet-top .leaflet-control {\r\n\tmargin-top: 10px;\r\n\t}\r\n.leaflet-bottom .leaflet-control {\r\n\tmargin-bottom: 10px;\r\n\t}\r\n.leaflet-left .leaflet-control {\r\n\tmargin-left: 10px;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tmargin-right: 10px;\r\n\t}\r\n\r\n\r\n/* zoom and fade animations */\r\n\r\n.leaflet-fade-anim .leaflet-tile {\r\n\twill-change: opacity;\r\n\t}\r\n.leaflet-fade-anim .leaflet-popup {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.2s linear;\r\n\t   -moz-transition: opacity 0.2s linear;\r\n\t        transition: opacity 0.2s linear;\r\n\t}\r\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\r\n\topacity: 1;\r\n\t}\r\n.leaflet-zoom-animated {\r\n\t-webkit-transform-origin: 0 0;\r\n\t    -ms-transform-origin: 0 0;\r\n\t        transform-origin: 0 0;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\twill-change: transform;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t}\r\n.leaflet-zoom-anim .leaflet-tile,\r\n.leaflet-pan-anim .leaflet-tile {\r\n\t-webkit-transition: none;\r\n\t   -moz-transition: none;\r\n\t        transition: none;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-hide {\r\n\tvisibility: hidden;\r\n\t}\r\n\r\n\r\n/* cursors */\r\n\r\n.leaflet-interactive {\r\n\tcursor: pointer;\r\n\t}\r\n.leaflet-grab {\r\n\tcursor: -webkit-grab;\r\n\tcursor:    -moz-grab;\r\n\tcursor:         grab;\r\n\t}\r\n.leaflet-crosshair,\r\n.leaflet-crosshair .leaflet-interactive {\r\n\tcursor: crosshair;\r\n\t}\r\n.leaflet-popup-pane,\r\n.leaflet-control {\r\n\tcursor: auto;\r\n\t}\r\n.leaflet-dragging .leaflet-grab,\r\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\r\n.leaflet-dragging .leaflet-marker-draggable {\r\n\tcursor: move;\r\n\tcursor: -webkit-grabbing;\r\n\tcursor:    -moz-grabbing;\r\n\tcursor:         grabbing;\r\n\t}\r\n\r\n/* marker & overlays interactivity */\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-image-layer,\r\n.leaflet-pane > svg path,\r\n.leaflet-tile-container {\r\n\tpointer-events: none;\r\n\t}\r\n\r\n.leaflet-marker-icon.leaflet-interactive,\r\n.leaflet-image-layer.leaflet-interactive,\r\n.leaflet-pane > svg path.leaflet-interactive,\r\nsvg.leaflet-image-layer.leaflet-interactive path {\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n\r\n/* visual tweaks */\r\n\r\n.leaflet-container {\r\n\tbackground: #ddd;\r\n\toutline: 0;\r\n\t}\r\n.leaflet-container a {\r\n\tcolor: #0078A8;\r\n\t}\r\n.leaflet-container a.leaflet-active {\r\n\toutline: 2px solid orange;\r\n\t}\r\n.leaflet-zoom-box {\r\n\tborder: 2px dotted #38f;\r\n\tbackground: rgba(255,255,255,0.5);\r\n\t}\r\n\r\n\r\n/* general typography */\r\n.leaflet-container {\r\n\tfont: 12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n\t}\r\n\r\n\r\n/* general toolbar styles */\r\n\r\n.leaflet-bar {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\tborder-radius: 4px;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #ccc;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-control-layers-toggle {\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #f4f4f4;\r\n\t}\r\n.leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\t}\r\n.leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\tborder-bottom: none;\r\n\t}\r\n.leaflet-bar a.leaflet-disabled {\r\n\tcursor: default;\r\n\tbackground-color: #f4f4f4;\r\n\tcolor: #bbb;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-bar a {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 2px;\r\n\tborder-top-right-radius: 2px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 2px;\r\n\tborder-bottom-right-radius: 2px;\r\n\t}\r\n\r\n/* zoom control */\r\n\r\n.leaflet-control-zoom-in,\r\n.leaflet-control-zoom-out {\r\n\tfont: bold 18px 'Lucida Console', Monaco, monospace;\r\n\ttext-indent: 1px;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\r\n\tfont-size: 22px;\r\n\t}\r\n\r\n\r\n/* layers control */\r\n\r\n.leaflet-control-layers {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\tbackground: #fff;\r\n\tborder-radius: 5px;\r\n\t}\r\n.leaflet-control-layers-toggle {\r\n\tbackground-image: url("+u+");\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\t}\r\n.leaflet-retina .leaflet-control-layers-toggle {\r\n\tbackground-image: url("+l+");\r\n\tbackground-size: 26px 26px;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers-toggle {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\t}\r\n.leaflet-control-layers .leaflet-control-layers-list,\r\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\r\n\tdisplay: none;\r\n\t}\r\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\t}\r\n.leaflet-control-layers-expanded {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tcolor: #333;\r\n\tbackground: #fff;\r\n\t}\r\n.leaflet-control-layers-scrollbar {\r\n\toverflow-y: scroll;\r\n\toverflow-x: hidden;\r\n\tpadding-right: 5px;\r\n\t}\r\n.leaflet-control-layers-selector {\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\t}\r\n.leaflet-control-layers label {\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-control-layers-separator {\r\n\theight: 0;\r\n\tborder-top: 1px solid #ddd;\r\n\tmargin: 5px -10px 5px -6px;\r\n\t}\r\n\r\n/* Default icon URLs */\r\n.leaflet-default-icon-path {\r\n\tbackground-image: url("+c+');\r\n\t}\r\n\r\n\r\n/* attribution and scale controls */\r\n\r\n.leaflet-container .leaflet-control-attribution {\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.7);\r\n\tmargin: 0;\r\n\t}\r\n.leaflet-control-attribution,\r\n.leaflet-control-scale-line {\r\n\tpadding: 0 5px;\r\n\tcolor: #333;\r\n\t}\r\n.leaflet-control-attribution a {\r\n\ttext-decoration: none;\r\n\t}\r\n.leaflet-control-attribution a:hover {\r\n\ttext-decoration: underline;\r\n\t}\r\n.leaflet-container .leaflet-control-attribution,\r\n.leaflet-container .leaflet-control-scale {\r\n\tfont-size: 11px;\r\n\t}\r\n.leaflet-left .leaflet-control-scale {\r\n\tmargin-left: 5px;\r\n\t}\r\n.leaflet-bottom .leaflet-control-scale {\r\n\tmargin-bottom: 5px;\r\n\t}\r\n.leaflet-control-scale-line {\r\n\tborder: 2px solid #777;\r\n\tborder-top: none;\r\n\tline-height: 1.1;\r\n\tpadding: 2px 5px 1px;\r\n\tfont-size: 11px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.5);\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child) {\r\n\tborder-top: 2px solid #777;\r\n\tborder-bottom: none;\r\n\tmargin-top: -2px;\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\r\n\tborder-bottom: 2px solid #777;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-attribution,\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tbox-shadow: none;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tborder: 2px solid rgba(0,0,0,0.2);\r\n\tbackground-clip: padding-box;\r\n\t}\r\n\r\n\r\n/* popup */\r\n\r\n.leaflet-popup {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\tmargin-bottom: 20px;\r\n\t}\r\n.leaflet-popup-content-wrapper {\r\n\tpadding: 1px;\r\n\ttext-align: left;\r\n\tborder-radius: 12px;\r\n\t}\r\n.leaflet-popup-content {\r\n\tmargin: 13px 19px;\r\n\tline-height: 1.4;\r\n\t}\r\n.leaflet-popup-content p {\r\n\tmargin: 18px 0;\r\n\t}\r\n.leaflet-popup-tip-container {\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tmargin-left: -20px;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-popup-tip {\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tpadding: 1px;\r\n\r\n\tmargin: -10px auto 0;\r\n\r\n\t-webkit-transform: rotate(45deg);\r\n\t   -moz-transform: rotate(45deg);\r\n\t    -ms-transform: rotate(45deg);\r\n\t        transform: rotate(45deg);\r\n\t}\r\n.leaflet-popup-content-wrapper,\r\n.leaflet-popup-tip {\r\n\tbackground: white;\r\n\tcolor: #333;\r\n\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tpadding: 4px 4px 0 0;\r\n\tborder: none;\r\n\ttext-align: center;\r\n\twidth: 18px;\r\n\theight: 14px;\r\n\tfont: 16px/14px Tahoma, Verdana, sans-serif;\r\n\tcolor: #c3c3c3;\r\n\ttext-decoration: none;\r\n\tfont-weight: bold;\r\n\tbackground: transparent;\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button:hover {\r\n\tcolor: #999;\r\n\t}\r\n.leaflet-popup-scrolled {\r\n\toverflow: auto;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tborder-top: 1px solid #ddd;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-popup-content-wrapper {\r\n\tzoom: 1;\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\twidth: 24px;\r\n\tmargin: 0 auto;\r\n\r\n\t-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\r\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip-container {\r\n\tmargin-top: -1px;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-control-zoom,\r\n.leaflet-oldie .leaflet-control-layers,\r\n.leaflet-oldie .leaflet-popup-content-wrapper,\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\tborder: 1px solid #999;\r\n\t}\r\n\r\n\r\n/* div icon */\r\n\r\n.leaflet-div-icon {\r\n\tbackground: #fff;\r\n\tborder: 1px solid #666;\r\n\t}\r\n\r\n\r\n/* Tooltip */\r\n/* Base styles for the element that has a tooltip */\r\n.leaflet-tooltip {\r\n\tposition: absolute;\r\n\tpadding: 6px;\r\n\tbackground-color: #fff;\r\n\tborder: 1px solid #fff;\r\n\tborder-radius: 3px;\r\n\tcolor: #222;\r\n\twhite-space: nowrap;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n\tpointer-events: none;\r\n\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-tooltip.leaflet-clickable {\r\n\tcursor: pointer;\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-tooltip-top:before,\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\tposition: absolute;\r\n\tpointer-events: none;\r\n\tborder: 6px solid transparent;\r\n\tbackground: transparent;\r\n\tcontent: "";\r\n\t}\r\n\r\n/* Directions */\r\n\r\n.leaflet-tooltip-bottom {\r\n\tmargin-top: 6px;\r\n}\r\n.leaflet-tooltip-top {\r\n\tmargin-top: -6px;\r\n}\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-top:before {\r\n\tleft: 50%;\r\n\tmargin-left: -6px;\r\n\t}\r\n.leaflet-tooltip-top:before {\r\n\tbottom: 0;\r\n\tmargin-bottom: -12px;\r\n\tborder-top-color: #fff;\r\n\t}\r\n.leaflet-tooltip-bottom:before {\r\n\ttop: 0;\r\n\tmargin-top: -12px;\r\n\tmargin-left: -6px;\r\n\tborder-bottom-color: #fff;\r\n\t}\r\n.leaflet-tooltip-left {\r\n\tmargin-left: -6px;\r\n}\r\n.leaflet-tooltip-right {\r\n\tmargin-left: 6px;\r\n}\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\ttop: 50%;\r\n\tmargin-top: -6px;\r\n\t}\r\n.leaflet-tooltip-left:before {\r\n\tright: 0;\r\n\tmargin-right: -12px;\r\n\tborder-left-color: #fff;\r\n\t}\r\n.leaflet-tooltip-right:before {\r\n\tleft: 0;\r\n\tmargin-left: -12px;\r\n\tborder-right-color: #fff;\r\n\t}\r\n',""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,n){"use strict";n.r(e),e.default=n.p+"a6137456ed160d7606981aa57c559898.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"4f0283c6ce28e888000e978e537a6a56.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"2273e3d8ad9264b7daa5bdbf8e6b47f8.png"},function(t,e,n){var r=n(8),i=n(34);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(9)(!1)).push([t.i,".ptr-map-controls-wrapper{height:100%;position:relative}\n",""]),t.exports=e},function(t,e,n){var r=n(8),i=n(36);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(9)(!1)).push([t.i,'.ptr-simple-layers-control{position:relative}.ptr-simple-layers-control .hold-button{border-radius:.3rem}.ptr-simple-layers-control-menu{position:absolute;bottom:0;border-radius:.25rem;width:0;background:var(--base0);transition:width .15s ease-in-out .15s, height .15s ease-in-out, border-radius 0s;filter:drop-shadow(0 0 0.2rem rgba(0,0,0,0.2))}.ptr-simple-layers-control-menu-content{overflow:hidden;display:flex;flex-wrap:wrap}.ptr-simple-layers-control-menu.open{transition:width .15s ease-in-out, height .15s ease-in-out .15s, border-radius 0s ease-in-out .3s}.ptr-simple-layers-control-menu:after{content:"";position:absolute;bottom:0;border-bottom-color:transparent;border-bottom-style:solid;border-bottom-width:0;border-top-color:transparent;border-top-style:solid;border-top-width:0}.ptr-simple-layers-control-menu.open:after{border-bottom-width:1rem;border-top-width:1rem}.ptr-simple-layers-control-menu.left{right:calc(100% + 1.5rem);border-bottom-right-radius:0}.ptr-simple-layers-control-menu.left:not(.open){border-top-right-radius:0}.ptr-simple-layers-control-menu.left:after{border-left-color:var(--base0);border-left-style:solid;border-left-width:0;right:-1rem;transition:border-bottom-width 0s ease-in-out .3s, border-top-width 0s ease-in-out .3s, border-left-width 0s ease-in-out .3s}.ptr-simple-layers-control-menu.left.open:after{border-left-width:1rem;transition:border-bottom-width 0s, border-top-width 0s, border-left-width 0s}.ptr-simple-layers-control-menu.right{left:calc(100% + 1.5rem);border-bottom-left-radius:0}.ptr-simple-layers-control-menu.right:not(.open){border-top-left-radius:0}.ptr-simple-layers-control-menu.right:after{border-right-color:var(--base0);border-right-style:solid;border-right-width:0;left:-1rem;transition:border-bottom-width 0s ease-in-out .3s, border-top-width 0s ease-in-out .3s, border-right-width 0s ease-in-out .3s}.ptr-simple-layers-control-menu.right.open:after{border-right-width:1rem;transition:border-bottom-width 0s, border-top-width 0s, border-right-width 0s}.ptr-simple-layers-control-tile{background-image:linear-gradient(0deg, #b2b2b2 0%, #e9e9e9 100%);background-size:cover;border:2px solid var(--base50);border-bottom:0;border-radius:.15rem;display:flex;align-items:flex-end;cursor:pointer}.ptr-simple-layers-control-tile.active{border-color:var(--accent50)}.ptr-simple-layers-control-tile-name{color:var(--base0);background:var(--base50);font-size:.809rem;width:100%;text-align:center;padding:.15rem 0}.ptr-simple-layers-control-tile.active .ptr-simple-layers-control-tile-name{background:var(--accent50)}\n',""]),t.exports=e},function(t,e,n){var r={"./bingAerial.png":38,"./cartoDbVoyagerNoLabels.png":39,"./wikimedia.png":40};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=37},function(t,e,n){"use strict";n.r(e),e.default=n.p+"00d752875e89762f3c18bb2537199e01.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"e49f328be1aec52203c7ba8f7aa98578.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"8d7872bb2ae1088f699c414dbe4c1a63.png"},function(t,e,n){var r=n(8),i=n(42);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(9)(!1)).push([t.i,".ptr-world-wind-map{position:relative;height:100%;width:100%}.ptr-world-wind-map-canvas{display:block;height:100%;width:100%;position:absolute;background-color:#000}\n",""]),t.exports=e},function(t,e,n){"use strict";n.r(e);var r={numberOfLevels:18,defaultLevelsRange:[1,18],zoomCoefficient:500,vectorLayerDefaultFeatureStyle:{fillColor:null,fillOpacity:0,strokeColor:"#444",strokeWidth:2},vectorLayerHighlightedFeatureStyle:{strokeColor:"#00FFFF",strokeWidth:2},vectorLayerDefaultSelectedFeatureStyle:{outlineWidth:3,outlineColor:"#ff0000",outlineOpacity:1},vectorLayerDefaultHoveredFeatureStyle:{outlineWidth:2,outlineColor:"#00ffff",outlineOpacity:1}},i={getBoxRangeFromZoomLevelAndLatitude:function(t,e){return r.zoomCoefficient*Math.abs(Math.cos(Math.PI/180))*Math.pow(2,r.numberOfLevels-t)},getZoomLevelFromView:function(t){t.center.lat;var e=r.zoomCoefficient*Math.abs(Math.cos(Math.PI/180)),n=Math.floor(Math.log(t.boxRange/e)/Math.log(2));return n>r.numberOfLevels&&(n=r.numberOfLevels),r.numberOfLevels-n}},o=n(0),a=n.n(o),s=n(1),u=n.n(s),l=(n(15),n(5));function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=f(e).call(this,t))||"object"!==c(r)&&"function"!=typeof r?p(this):r).state={text:null,previousSearching:null},n.search=n.search.bind(p(n)),n.onTextChange=n.onTextChange.bind(p(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(r=[{key:"onTextChange",value:function(t){this.setState({text:t})}},{key:"search",value:function(t){13===t.charCode&&this.props.goToPlace&&this.state.text!==this.state.previousSearching&&(this.props.goToPlace(this.state.text),this.state.previousSearching=this.state.text)}},{key:"render",value:function(){return a.a.createElement("div",{className:"ptr-go-to-place-box",onKeyPress:this.search},a.a.createElement(l.Input,{placeholder:"Zoom to",onChange:this.onTextChange,value:this.state.text},a.a.createElement(l.Icon,{icon:"search"})))}}])&&h(n.prototype,r),e}(a.a.PureComponent);g.propTypes={goToPlace:u.a.func};var m=g,y=n(12),v=n.n(y);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(17);var S=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,_(e).call(this,t))).ref=a.a.createRef(),n.state={width:null,height:null},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.resize(),window&&window.addEventListener("resize",this.resize.bind(this),{passive:!0})}},{key:"resize",value:function(){if(this.ref&&this.ref.current){var t=this.ref.current.clientWidth,e=this.ref.current.clientHeight;this.setState({width:t,height:e})}}},{key:"render",value:function(){return a.a.createElement("div",{className:"ptr-map-grid",ref:this.ref},this.renderMaps())}},{key:"renderMaps",value:function(){var t=this.state.width,e=this.state.height;if(this.props.children.length&&t&&e){var n=t/e,r=1,i=1;switch(this.props.children.length){case 1:break;case 2:n>1?i=2:r=2;break;case 3:n>2?i=3:n<.6666?r=3:(i=2,r=2);break;case 4:n>3?i=4:n<.5?r=4:(i=2,r=2);break;case 5:case 6:n>1?(i=3,r=2):(i=2,r=3);break;case 7:case 8:n>2?(i=4,r=2):n<.6666?(i=2,r=4):(i=3,r=3);break;case 9:n>2.5?(i=5,r=2):n<.5?(i=2,r=5):(i=3,r=3);break;default:n>1?(i=4,r=3):(i=3,r=4)}var o={width:+(100/i).toFixed(4)+"%",height:+(100/r).toFixed(4)+"%"};return this.props.children.map((function(t,e){e++;var n=Math.ceil(e/i),r=e%i||i,s=v()("ptr-map-wrapper","row"+n,"col"+r,t.props.wrapperClasses);return a.a.createElement("div",{key:"map-wrapper-"+e,className:s,style:o},t)}))}return null}}])&&E(n.prototype,r),e}(a.a.PureComponent);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(19);var A=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,O(e).call(this))).tiltIncrement=5,t.headingIncrement=1,t.zoomIncrement=.04,t.exaggerationIncrement=1,t}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,t),n=e,(o=[{key:"handleTiltUp",value:function(){var t={tilt:this.props.view.tilt-this.tiltIncrement};this.props.updateView(t,this.props.mapKey)}},{key:"handleTiltDown",value:function(){var t={tilt:this.props.view.tilt+this.tiltIncrement};this.props.updateView(t,this.props.mapKey)}},{key:"handleHeadingRight",value:function(){var t={heading:this.props.view.heading-this.headingIncrement};this.props.updateView(t,this.props.mapKey)}},{key:"handleHeadingLeft",value:function(){var t={heading:this.props.view.heading+this.headingIncrement};this.props.updateView(t,this.props.mapKey)}},{key:"handleZoomIn",value:function(){var t;t=this.props.levelsBased&&this.props.view&&this.props.view.boxRange?{boxRange:this.props.view.boxRange/2}:{boxRange:this.props.view.boxRange*(1-this.zoomIncrement)},this.props.updateView(t,this.props.mapKey)}},{key:"handleZoomOut",value:function(){var t;t=this.props.levelsBased&&this.props.view&&this.props.view.boxRange?{boxRange:2*this.props.view.boxRange}:{boxRange:this.props.view.boxRange*(1+this.zoomIncrement)},this.props.updateView(t,this.props.mapKey)}},{key:"handleResetHeading",value:function(){this.props.resetHeading(this.props.mapKey)}},{key:"handleExaggeratePlus",value:function(){}},{key:"handleExaggerateMinus",value:function(){}},{key:"render",value:function(){var t=this,e=null,n=!1,o=!1;if(this.props.levelsBased){this.props.view&&this.props.view.boxRange&&(e=i.getZoomLevelFromView(this.props.view));var s=this.props.levelsBased.length?this.props.levelsBased:r.defaultLevelsRange;n=e>=s[1],o=e<=s[0]}return a.a.createElement("div",{className:"ptr-map-controls"},a.a.createElement("div",{className:"zoom-control control"},a.a.createElement(l.HoldButton,{pressCallback:function(){t.handleZoomIn()},onClick:function(){t.handleZoomIn()},onMouseDown:200,pressCallbackTimeout:20,finite:!1,disabled:n},a.a.createElement(l.Icon,{icon:"plus-thick"})),a.a.createElement(l.HoldButton,{pressCallback:function(){t.handleZoomOut()},onClick:function(){t.handleZoomOut()},onMouseDown:200,pressCallbackTimeout:20,finite:!1,disabled:o},a.a.createElement(l.Icon,{icon:"minus-thick"}))),this.props.zoomOnly?null:a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"rotate-control control"},a.a.createElement(l.HoldButton,{pressCallback:function(){t.handleHeadingRight()},onClick:function(){t.handleHeadingRight()},onMouseDown:200,pressCallbackTimeout:20,finite:!1},a.a.createElement(l.Icon,{icon:"rotate-right"})),a.a.createElement(l.HoldButton,{onClick:function(){t.handleResetHeading()}},a.a.createElement(l.Icon,{style:{transform:"rotate(".concat(this.props.view?-this.props.view.heading:0,"deg)")},icon:"north-arrow"})),a.a.createElement(l.HoldButton,{pressCallback:function(){t.handleHeadingLeft()},onClick:function(){t.handleHeadingLeft()},onMouseDown:200,pressCallbackTimeout:20,finite:!1},a.a.createElement(l.Icon,{icon:"rotate-left"}))),a.a.createElement("div",{className:"tilt-control control"},a.a.createElement(l.HoldButton,{className:"tilt-more-control",pressCallback:function(){t.handleTiltDown()},onClick:function(){t.handleTiltDown()},onMouseDown:200,pressCallbackTimeout:20,finite:!1},a.a.createElement(l.Icon,{icon:"tilt-more"})),a.a.createElement(l.HoldButton,{className:"tilt-more-control",pressCallback:function(){t.handleTiltUp()},onClick:function(){t.handleTiltUp()},onMouseDown:200,pressCallbackTimeout:20,finite:!1},a.a.createElement(l.Icon,{icon:"tilt-less"})))))}}])&&T(n.prototype,o),e}(a.a.PureComponent);A.propTypes={view:u.a.object,updateView:u.a.func,resetHeading:u.a.func,mapKey:u.a.string,zoomOnly:u.a.bool,levelsBased:u.a.bool};var L=A,P=n(4),R=n.n(P),M=n(2),k=n.n(M),I=n(7);function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e,n){return e&&B(t.prototype,e),n&&B(t,n),t}function G(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}n(21);var z=function(t){function e(){return V(this,e),G(this,W(e).apply(this,arguments))}return K(e,t),U(e,[{key:"render",value:function(){return null}}]),e}(a.a.PureComponent),H=function(t){function e(){return V(this,e),G(this,W(e).apply(this,arguments))}return K(e,t),U(e,[{key:"render",value:function(){return null}}]),e}(a.a.PureComponent),Y=function(t){function e(t){var n;return V(this,e),n=G(this,W(e).call(this,t)),t.stateMapSetKey||(n.state={view:M.map.mergeViews(I.mapConstants.defaultMapView,t.view),activeMapKey:t.activeMapKey,mapViews:{}},R.a.forEach(n.props.children,(function(e){!e||"object"!==F(e)||e.type!==z&&e.type!==n.props.connectedMapComponent&&e.type!==H||e.props.mapKey!==t.activeMapKey||(n.state.mapViews[e.mapKey]=M.map.mergeViews(I.mapConstants.defaultMapView,t.view,e.props.view))}))),n}return K(e,t),U(e,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount&&this.props.onUnmount()}},{key:"componentDidUpdate",value:function(t,e,n){var r=this.props;if(!r.stateMapSetKey){if(t.view!==r.view){var i=R.a.mapValues(this.state.mapViews,(function(t){return D({},t,{},r.view)}));this.setState({view:D({},this.state.view,{},r.view),mapViews:i})}(r.layers&&r.layers!==t.layers||r.backgroundLayer&&r.backgroundLayer!==t.backgroundLayer)&&r.refreshUse}}},{key:"onViewChange",value:function(t,e){var n,r=this;e=M.map.ensureViewIntegrity(e),t=t||this.state.activeMapKey,this.props.sync&&(n=R.a.pickBy(e,(function(t,e){return r.props.sync[e]})),n=M.map.ensureViewIntegrity(n));var i=R.a.mapValues(this.state.mapViews,(function(t){return M.map.mergeViews(t,n)}));if(i[t]=M.map.mergeViews(this.state.mapViews[t],e),n&&!R.a.isEmpty(n)){var o=M.map.mergeViews(this.state.view,n);this.setState({view:o,mapViews:i}),this.props.onViewChange&&this.props.onViewChange(o)}else this.setState({mapViews:i})}},{key:"onMapClick",value:function(t,e){if(this.state.mapViews[t])this.setState({activeMapKey:t});else{var n=D({},this.state.mapViews);n[t]=e,this.setState({activeMapKey:t,mapViews:n})}}},{key:"render",value:function(){return a.a.createElement("div",{className:"ptr-map-set"},a.a.createElement("div",{className:"ptr-map-set-maps"},this.renderMaps()),a.a.createElement("div",{className:"ptr-map-set-controls"},this.renderControls()))}},{key:"renderControls",value:function(){var t,e,n;return this.props.stateMapSetKey?(t=this.props.updateView,e=this.props.resetHeading,n=this.props.activeMapView||this.props.view):(t=this.onViewChange.bind(this,null),e=function(){},n=M.map.mergeViews(this.state.view,this.state.mapViews[this.state.activeMapKey])),a.a.Children.map(this.props.children,(function(r){if("object"!==F(r)||r.type!==z)return a.a.cloneElement(r,D({},r.props,{view:n,updateView:t,resetHeading:e}))}))}},{key:"renderMaps",value:function(){var t=this,e=[];return this.props.stateMapSetKey?this.props.maps&&this.props.maps.length&&this.props.maps.map((function(n){var r={key:n,stateMapKey:n};e.push(a.a.createElement(t.props.connectedMapComponent,D({},r,{mapComponent:t.props.mapComponent})))})):a.a.Children.map(this.props.children,(function(n,r){var i=n.props,o=i.view,s=i.layers,u=i.backgroundLayer,l=i.mapKey,c=D({},function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(i,["view","layers","backgroundLayer","mapKey"]),{key:r,view:M.map.mergeViews(t.state.view,o,t.state.mapViews[l]),backgroundLayer:u||t.props.backgroundLayer,layers:M.map.mergeLayers(t.props.layers,s),onViewChange:t.onViewChange.bind(t,l),onClick:t.onMapClick.bind(t,l),mapKey:l});l===t.state.activeMapKey&&(c.wrapperClasses="active"),"object"!==F(n)||n.type!==z&&n.type!==t.props.connectedMapComponent?"object"===F(n)&&n.type===H&&e.push(a.a.createElement(t.props.mapComponent,c,n.props.children)):e.push(a.a.createElement(t.props.connectedMapComponent,D({},c,{mapComponent:t.props.mapComponent})))})),a.a.createElement(S,null,e)}}]),e}(a.a.PureComponent);Y.propTypes={activeMapKey:u.a.string,activeMapView:u.a.object,mapSetKey:u.a.string,maps:u.a.array,mapComponent:u.a.func,view:u.a.object,stateMapSetKey:u.a.string,sync:u.a.object};var q=z,X=H,Z=Y,J=(n(23),function(t){return a.a.createElement("div",{className:"map-tools"},t.children)}),Q=n(6),$=n.n(Q);function tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nt={center:{lat:50,lng:15},zoom:12};function rt(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(n),!0).forEach((function(e){et(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},nt);return t&&(t.center&&((t.center.lat||0===t.center.lat)&&(e.center.lat=t.center.lat),(t.center.lon||0===t.center.lon)&&(e.center.lng=t.center.lon)),t.boxRange&&(e.zoom=i.getZoomLevelFromView(t))),e}var it=function(t){var e=rt(t);return{zoom:e.zoom,center:[e.center.lat,e.center.lng]}},ot=function(t,e){var n=t.getCenter(),r=t.getZoom(),i=rt(e);n.lat===i.center.lat&&n.lng===i.center.lng&&r===i.zoom||t.setView(i.center||n,i.zoom||r)};function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=I.Context.getContext("HoverContext"),ft=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=ut(e).call(this,t))||"object"!==at(r)&&"function"!=typeof r?lt(this):r).layer=$.a.geoJSON(t.data.options.features,{style:n.getLayerStyle.bind(lt(n)),onEachFeature:n.onEachFeature.bind(lt(n)),zIndex:n.props.zIndex}),t.group.addLayer(n.layer),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){this.context&&this.checkContext()}},{key:"componentDidUpdate",value:function(){this.context&&this.checkContext()}},{key:"getLayerStyle",value:function(t){var e=this.props.data&&this.props.data.options&&this.props.data.options.style,n=r.vectorLayerDefaultFeatureStyle.fillColor;return e&&e.fillColor&&(n="function"==typeof e.fillColor?e.fillColor(t.properties[this.props.data.options.valueProperty]):e.fillColor),{opacity:this.props.data&&this.props.data.opacity||1,fillOpacity:e&&e.fillOpacity||r.vectorLayerDefaultFeatureStyle.fillOpacity,fillColor:n,weight:e&&e.strokeWidth||r.vectorLayerDefaultFeatureStyle.strokeWidth,color:e&&e.strokeColor||r.vectorLayerDefaultFeatureStyle.strokeColor}}},{key:"checkContext",value:function(){var t=this.props.data.options.keyProperty;if(t){var e=this;this.layer.eachLayer((function(n){var r=n.feature.properties[t],i=!1,o=!1;e.context.hoveredItems&&(i=-1!==R.a.indexOf(e.context.hoveredItems,r)),e.context.selectedItems&&(o=-1!==R.a.indexOf(e.context.selectedItems,r)),i||o?e.highlightFeature(n):e.layer.resetStyle(n)}))}}},{key:"highlightFeature",value:function(t){t.setStyle({color:r.vectorLayerHighlightedFeatureStyle.strokeColor||t.options.color,fillOpacity:r.vectorLayerHighlightedFeatureStyle.fillOpacity||t.options.fillOpacity,fillColor:r.vectorLayerHighlightedFeatureStyle.fillColor||t.options.fillColor,weight:r.vectorLayerHighlightedFeatureStyle.strokeWidth||t.options.weight})}},{key:"onEachFeature",value:function(t,e){var n=this;e.on({mousemove:function(t){if(n.context&&n.context.onHover){n.highlightFeature(t.target),$.a.Browser.ie||$.a.Browser.opera||$.a.Browser.edge||e.bringToFront();var r=n.props.data.options.keyProperty,i=n.props.data.options.nameProperty;r&&n.context.onHover([t.target.feature.properties[r]],{popup:{x:t.originalEvent.pageX,y:t.originalEvent.pageY,content:a.a.createElement("div",{className:"ptr-popup-header"},t.target.feature.properties[i]||"Area")}})}},mouseout:function(t){n.context&&n.context.onHoverOut?(n.checkContext(),n.context.onHoverOut()):n.layer.resetStyle(t.target)},click:function(t){if(n.context&&n.context.onClick){n.highlightFeature(t.target),$.a.Browser.ie||$.a.Browser.opera||$.a.Browser.edge||e.bringToFront();var r=n.props.data.options.keyProperty;r&&n.context.onClick([t.target.feature.properties[r]])}}})}},{key:"render",value:function(){return null}}])&&st(n.prototype,i),e}(a.a.PureComponent);ft.contextType=ht,ft.propTypes={data:u.a.object,group:u.a.object,zIndex:u.a.number};var pt=ft;function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vt=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,mt(e).call(this,t));var r={layers:t.data.options.params.layers,format:t.data.options.params.imageFormat||"image/png",transparent:!0,opacity:t.data.opacity||1,zIndex:n.props.zIndex};return t.data.options.params.styles&&(r.styles=t.data.options.params.styles),n.layer=$.a.tileLayer.wms(t.data.options.url,r),t.group.addLayer(n.layer),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return null}}])&&gt(n.prototype,r),e}(a.a.PureComponent);vt.propTypes={data:u.a.object,group:u.a.object,zIndex:u.a.number};var bt=vt;function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,wt(e).call(this,t))).layer=$.a.tileLayer(t.data.options.url,{zIndex:n.props.zIndex}),t.group.addLayer(n.layer),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return null}}])&&_t(n.prototype,r),e}(a.a.PureComponent);xt.propTypes={data:u.a.object,group:u.a.object,zIndex:u.a.number};var Tt=xt,Ot=function(t,e,n){if(!t.type)return null;switch(t.type){case"wmts":return a.a.createElement(Tt,{key:t.key,data:t,group:e,zIndex:n});case"wms":return a.a.createElement(bt,{key:t.key,data:t,group:e,zIndex:n});case"vector":return a.a.createElement(pt,{key:t.key,data:t,group:e,zIndex:n});default:return null}};function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){Pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(25),n(27);var Nt=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=Mt(e).call(this,t))||"object"!==Ct(r)&&"function"!=typeof r?kt(this):r).state={backgroundLayer:null,layers:null},n.onZoomChange=n.onZoomChange.bind(kt(n)),n.onMoveChange=n.onMoveChange.bind(kt(n)),n.onClick=n.onClick.bind(kt(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=Lt({},I.mapConstants.defaultMapView,{},this.props.view);this.map=$.a.map(this.props.mapKey,{zoomAnimationThreshold:2,zoomControl:!1,attributionControl:!1}).setView([t.center.lat,t.center.lon],i.getZoomLevelFromView(t)),this.backgroundLayer=$.a.layerGroup().addTo(this.map),this.layers=$.a.layerGroup().addTo(this.map),this.map.on("zoomend",this.onZoomChange),this.map.on("moveend",this.onMoveChange),this.props.scale&&$.a.control.scale().addTo(this.map);var e=$.a.GridLayer.prototype._initTile;$.a.GridLayer.include({_initTile:function(t){e.call(this,t);var n=this.getTileSize();t.style.width=n.x+1+"px",t.style.height=n.y+1+"px"}}),this.handleScrollWheelZoom(),this.updateBackgroundLayer(),this.updateLayers()}},{key:"componentDidUpdate",value:function(t){if(this.props.view&&t.view!==this.props.view&&this.updateView(),t.backgroundLayer!==this.props.backgroundLayer){this.clearBackgroundLayer();var e=this;setTimeout((function(){e.updateBackgroundLayer()}),200)}if(t.layers!==this.props.layers){this.clearLayers();var n=this;setTimeout((function(){n.updateLayers()}),200)}}},{key:"clearBackgroundLayer",value:function(){this.backgroundLayer.clearLayers(),this.setState({backgroundLayer:null})}},{key:"clearLayers",value:function(){this.layers.clearLayers(),this.setState({layers:null})}},{key:"updateBackgroundLayer",value:function(){var t=null;this.props.backgroundLayer&&(t=Ot(this.props.backgroundLayer,this.backgroundLayer,1)),this.setState({backgroundLayer:t})}},{key:"updateLayers",value:function(){var t=this,e=[];this.props.layers&&this.props.layers.forEach((function(n){e.push(Ot(n,t.layers,2))})),this.setState({layers:e})}},{key:"updateView",value:function(){this.map.off("zoomend",this.onZoomChange),this.map.off("moveend",this.onMoveChange);var t=Lt({},this.getCurrentView(),{},this.props.view);ot(this.map,t),this.map.on("zoomend",this.onZoomChange),this.map.on("moveend",this.onMoveChange)}},{key:"handleScrollWheelZoom",value:function(){var t=this;"disabled"===this.props.scrollWheelZoom?this.map.scrollWheelZoom.disable():"afterClick"===this.props.scrollWheelZoom&&(this.map.scrollWheelZoom.disable(),this.map.on("click",(function(){t.map.scrollWheelZoom.enable()})))}},{key:"onZoomChange",value:function(){this.props.onViewChange&&this.props.onViewChange({boxRange:this.getBoxRange(),center:this.getCenter()})}},{key:"onMoveChange",value:function(){this.props.onViewChange&&this.props.onViewChange({center:this.getCenter()})}},{key:"onClick",value:function(){if(this.props.onClick){var t=this.getCurrentView();this.props.onClick(t)}}},{key:"getCurrentView",value:function(){return{boxRange:this.getBoxRange(),center:this.getCenter()}}},{key:"getCenter",value:function(){var t=this.map.getCenter();return{lon:t.lng,lat:t.lat}}},{key:"getBoxRange",value:function(){var t=this.getCenter(),e=this.map.getZoom();return i.getBoxRangeFromZoomLevelAndLatitude(e,t.lat)}},{key:"render",value:function(){return a.a.createElement("div",{className:"ptr-map ptr-leaflet-map",key:this.props.mapKey,id:this.props.mapKey,onClick:this.onClick},this.state.backgroundLayer,this.state.layers,this.props.children)}}])&&Rt(n.prototype,r),e}(a.a.PureComponent);Nt.propTypes={mapKey:u.a.string.isRequired,backgroundLayer:u.a.object,layers:u.a.array,view:u.a.object,scale:u.a.bool,scrollWheelZoom:u.a.string,onClick:u.a.func,onViewChange:u.a.func};var Dt=Nt;function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){Bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t,e){return(Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(33);var zt=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=!(r=Gt(e).call(this,t))||"object"!==jt(r)&&"function"!=typeof r?Wt(this):r,t.stateMapKey||(n.state={view:Vt({},I.mapConstants.defaultMapView,{},t.view)}),n.onViewChange=n.onViewChange.bind(Wt(n)),n.resetHeading=n.resetHeading.bind(Wt(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount()}},{key:"componentDidUpdate",value:function(t){var e=this.props;e.view&&(t&&t.view&&R.a.isEqual(e.view,t.view)||this.setState({view:Vt({},I.mapConstants.defaultMapView,{},e.view)})),e.layers&&e.layers!==t.layers||e.backgroundLayer&&(e.backgroundLayer,t.backgroundLayer)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount&&this.props.onUnmount()}},{key:"onViewChange",value:function(t){var e=Vt({},this.state.view,{},t);e=M.map.ensureViewIntegrity(e),R.a.isEqual(e,this.state.view)||this.setState({view:e})}},{key:"resetHeading",value:function(){var t=this;M.map.resetHeading(this.state.view.heading,(function(e){return t.setState({view:Vt({},t.state.view,{heading:e})})}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.mapComponent,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,["children","mapComponent"]);if(r){i.stateMapKey||(i.view=this.state.view||i.view,i.onViewChange=this.onViewChange);var o=a.a.createElement(r,i,n);return n?a.a.createElement("div",{className:"ptr-map-controls-wrapper"},o,a.a.Children.map(n,(function(e){return a.a.cloneElement(e,Vt({},e.props,{view:t.props.stateMapKey?t.props.view:t.state.view||t.props.view,updateView:t.props.stateMapKey?t.props.onViewChange:t.onViewChange,resetHeading:t.props.stateMapKey?t.props.resetHeading:t.resetHeading}))}))):o}return a.a.createElement(l.Error,{centered:!0},"mapComponent not supplied to Map")}}])&&Ut(n.prototype,r),e}(a.a.PureComponent);zt.propTypes={mapComponent:u.a.oneOfType([u.a.element,u.a.func])};var Ht=zt,Yt=n(11);function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ee=I.Context.getContext("HoverContext"),ne=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=Qt(e).call(this,t))||"object"!==qt(r)&&"function"!=typeof r?$t(this):r).state={layerKey:M.utils.uuid()},n.getStyle=n.getStyle.bind($t(n)),n.onEachFeature=n.onEachFeature.bind($t(n)),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&te(t,e)}(e,t),n=e,(i=[{key:"componentDidUpdate",value:function(t,e,n){this.props.features!==t.features&&this.setState({layerKey:M.utils.uuid()})}},{key:"getStyle",value:function(t,e){var n=M.mapStyle.getStyleObject(t.properties,this.props.style),r=this.getSelectedStyle(t.properties),i=null;e&&(i=this.getHoveredStyle());var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(n),!0).forEach((function(e){Zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n,{},r,{},i);return{color:o.outlineColor,weight:o.outlineWidth,opacity:o.outlineOpacity,fillColor:o.fill,fillOpacity:o.fillOpacity}}},{key:"getSelectedStyle",value:function(t){if(this.props.selected){var e=t[this.props.fidColumnName],n=null;return R.a.forIn(this.props.selected,(function(t,i){t.keys&&R.a.includes(t.keys,e)&&(n=t.style||r.vectorLayerDefaultSelectedFeatureStyle)})),M.mapStyle.getStyleObject(t,n,!0)}return null}},{key:"getHoveredStyle",value:function(){return this.props.hovered&&this.props.hovered.style?M.mapStyle.getStyleObject(null,this.props.hovered.style,!0):r.vectorLayerDefaultHoveredFeatureStyle}},{key:"onEachFeature",value:function(t,e){var n=this,r=t.properties[this.props.fidColumnName];e.on({click:function(t){e.bringToFront(),n.props.onClick&&n.props.onClick(n.props.layerKey,[r])},mousemove:function(i){n.context&&n.context.onHover&&(e.bringToFront(),n.context.onHover([r],{popup:{x:i.originalEvent.pageX,y:i.originalEvent.pageY,fidColumnName:n.props.fidColumnName,data:t.properties}})),i.target.setStyle(n.getStyle(t,!0))},mouseout:function(e){n.context&&n.context.onHoverOut&&n.context.onHoverOut(),e.target.setStyle(n.getStyle(t))}})}},{key:"render",value:function(){return a.a.createElement(Yt.GeoJSON,{key:this.state.layerKey,opacity:this.props.opacity||1,data:this.props.features,style:this.getStyle,onEachFeature:this.onEachFeature})}}])&&Jt(n.prototype,i),e}(a.a.PureComponent);ne.contextType=ee,ne.propTypes={layerKey:u.a.string,features:u.a.array,selected:u.a.object,hovered:u.a.object,style:u.a.object,onClick:u.a.func};var re=Object(Yt.withLeaflet)(ne);function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ae(t){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function se(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ue(t,e){return(ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var le=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=ae(e).call(this,t))||"object"!==ie(r)&&"function"!=typeof r?se(this):r).onLayerClick=n.onLayerClick.bind(se(n)),n.onViewportChange=n.onViewportChange.bind(se(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ue(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=$.a.GridLayer.prototype._initTile;$.a.GridLayer.include({_initTile:function(e){t.call(this,e);var n=this.getTileSize();e.style.width=n.x+1+"px",e.style.height=n.y+1+"px"}})}},{key:"onViewportChange",value:function(t){var e={lat:t.center[0],lon:t.center[1]},n=i.getBoxRangeFromZoomLevelAndLatitude(t.zoom,e.lat);this.props.onViewChange&&this.props.onViewChange({center:e,boxRange:n})}},{key:"render",value:function(){var t=this,e=this.getLayerByType(this.props.backgroundLayer),n=this.props.layers&&this.props.layers.map((function(e,n){return t.getLayerByType(e,n)})),r=it(this.props.view);return a.a.createElement(Yt.Map,{id:this.props.mapKey,className:"ptr-map ptr-leaflet-map",onViewportChanged:this.onViewportChange,center:r.center,zoom:r.zoom,zoomControl:!1,attributionControl:!1},e,n,this.props.children)}},{key:"getLayerByType",value:function(t,e){if(!t.type)return null;switch(t.type){case"wmts":return this.getTileLayer(t);case"wms":return this.getWmsTileLayer(t,e);case"vector":return this.getVectorLayer(t,e);default:return null}}},{key:"getTileLayer",value:function(t){return a.a.createElement(Yt.TileLayer,{url:t.options.url})}},{key:"getWmsTileLayer",value:function(t,e){var n=t.options;return a.a.createElement(Yt.WMSTileLayer,{key:e,url:n.url,layers:n.params&&n.params.layers,opacity:t.opacity||1,transparent:!0,format:n.params&&n.params.imageFormat||"image/png"})}},{key:"getVectorLayer",value:function(t,e){var n=t.options;return a.a.createElement(re,{key:e,layerKey:t.key,opacity:t.opacity||1,features:n.features,selected:n.selected,hovered:n.hovered,style:n.style,fidColumnName:n.fidColumnName,onClick:this.onLayerClick})}},{key:"onLayerClick",value:function(t,e){this.props.onLayerClick&&this.props.onLayerClick(this.props.mapKey,t,e)}}])&&oe(n.prototype,r),e}(a.a.PureComponent);le.propTypes={backgroundLayer:u.a.object,mapKey:u.a.string.isRequired,onLayerClick:u.a.func,onViewChange:u.a.func,view:u.a.object};var ce=le;function he(t){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pe(t){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function de(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(35);var me=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=pe(e).call(this,t))||"object"!==he(r)&&"function"!=typeof r?de(this):r).ref=a.a.createRef(),n.state={open:!1},n.onControlButtonClick=n.onControlButtonClick.bind(de(n)),n.onBlur=n.onBlur.bind(de(n)),n}var r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(e,t),r=e,(i=[{key:"onBlur",value:function(t){var e=this;setTimeout((function(){e.setState({open:!1})}),50)}},{key:"onControlButtonClick",value:function(){this.setState({open:!this.state.open})}},{key:"onLayerTileClick",value:function(t){this.props.onSelect&&this.props.onSelect(t)}},{key:"render",value:function(){var t=v()("ptr-simple-layers-control control",{open:this.state.open});return a.a.createElement("div",{className:t,onBlur:this.onBlur,ref:this.ref},a.a.createElement(l.HoldButton,{onClick:this.onControlButtonClick},a.a.createElement(l.Icon,{icon:"layers"})),this.renderMenu())}},{key:"renderMenu",value:function(){var t=this,e=this.props.layers;if(e){var n=this.getGrid(e.length),r=v()("ptr-simple-layers-control-menu",{open:this.state.open,right:this.props.right,left:!this.props.right}),i={width:this.state.open?"".concat(7.5*n.width+2,"rem"):0,height:this.state.open?"".concat(5.5*n.height+2,"rem"):"2rem"},o={margin:"".concat(1,"rem"),width:"calc(100% - ".concat(2,"rem)"),height:"calc(100% - ".concat(2,"rem)")};return a.a.createElement("div",{className:r,style:i},a.a.createElement("div",{className:"ptr-simple-layers-control-menu-content",style:o},e.map((function(e){return t.renderTile(e,7,5,.25)}))))}return null}},{key:"renderTile",value:function(t,e,r,i){var o=t.key===this.props.activeLayer.key,s=v()("ptr-simple-layers-control-tile",{active:o}),u={width:"".concat(e,"rem"),height:"".concat(r,"rem"),margin:"".concat(i,"rem")};return t.thumbnail&&(u.backgroundImage="url(".concat(n(37)("./"+t.thumbnail+".png"),")")),a.a.createElement("div",{key:t.key,style:u,className:s,onClick:this.onLayerTileClick.bind(this,t.key)},a.a.createElement("div",{className:"ptr-simple-layers-control-tile-name"},t.name))}},{key:"getGrid",value:function(t){var e=1,n=1;return t>=7?(e=3,n=3):t>=5?(e=2,n=3):4===t?(e=2,n=2):3===t?n=3:2===t&&(n=2),{width:e,height:n}}}])&&fe(r.prototype,i),e}(a.a.PureComponent);me.propTypes={activeLayer:u.a.object,layers:u.a.array,onSelect:u.a.func,right:u.a.bool};var ye=me,ve=n(3),be=n.n(ve),Ee=be.a.Angle,_e=be.a.WWMath;function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(n),!0).forEach((function(e){Te(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ae(t,e){return(Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Le=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.name||"";return(r=function(t,e){return!e||"object"!==we(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Ce(e).call(this,i))).opacity=t.opacity||1,r.pantherProps={features:n.features||[],fidColumnName:n.fidColumnName,hovered:xe({},n.hovered),selected:xe({},n.selected),key:t.key,layerKey:t.layerKey,onHover:n.onHover,onClick:n.onClick,style:n.style},r.addFeatures(r.pantherProps.features),r}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(e,t),n=e,(i=[{key:"addFeatures",value:function(t){var e=this,n={type:"FeatureCollection",features:t};new be.a.GeoJSONParser(n).load((function(t){t.renderables.forEach((function(t){var n=t.userProperties&&t.userProperties.style,r=k.a.mapStyle.hexToRgb(n.outlineColor),i=k.a.mapStyle.hexToRgb(n.fill);t.userProperties.worldWindDefaultStyle={outlineWidth:n.outlineWidth,outlineColor:new be.a.Color(r.r/255,r.g/256,r.b/256,n.outlineOpacity),interiorColor:new be.a.Color(i.r/255,i.g/256,i.b/256,n.fillOpacity)},e.applyStyles(t)}))}),(function(t,n){return{userProperties:xe({},n,{style:k.a.mapStyle.getStyleObject(n,e.pantherProps.style)})}}),this)}},{key:"updateHoveredFeatures",value:function(t){var e=this;this.renderables.forEach((function(n){var r=n.userProperties[e.pantherProps.fidColumnName];R.a.includes(t,r)?e.applyHoveredStyle(n):e.applyStyles(n)}))}},{key:"applyStyles",value:function(t){this.applyRenderableDefaultStyle(t);var e=this.getSelectionStyle(t);e&&this.applySelectedStyle(t,e)}},{key:"applyRenderableDefaultStyle",value:function(t){t.attributes.outlineWidth=t.userProperties.worldWindDefaultStyle.outlineWidth,t.attributes.outlineColor=t.userProperties.worldWindDefaultStyle.outlineColor,t.attributes.interiorColor=t.userProperties.worldWindDefaultStyle.interiorColor}},{key:"applyHoveredStyle",value:function(t){var e={outlineWidth:3,outlineColor:"#ffaaaa",outlineOpacity:1,fillOpacity:0};this.pantherProps.hovered&&this.pantherProps.hovered.style&&(e=xe({},e,{},k.a.mapStyle.getStyleObject(null,this.pantherProps.hovered.style,!0))),this.setRenderableStyle(t,e)}},{key:"applySelectedStyle",value:function(t,e){var n=xe({},r.vectorLayerDefaultSelectedFeatureStyle,{},k.a.mapStyle.getStyleObject(null,e,!0));this.setRenderableStyle(t,n)}},{key:"setRenderableStyle",value:function(t,e){var n=k.a.mapStyle.hexToRgb(e.outlineColor);if(t.attributes.outlineWidth=e.outlineWidth,t.attributes.outlineColor=new be.a.Color(n.r/255,n.g/256,n.b/256,e.outlineOpacity),e.fill){var r=k.a.mapStyle.hexToRgb(e.fill);t.attributes.interiorColor=new be.a.Color(r.r/255,r.g/256,r.b/256,e.fillOpacity)}}},{key:"getSelectionStyle",value:function(t){if(this.pantherProps.selected){var e=t.userProperties[this.pantherProps.fidColumnName],n=null;return R.a.forIn(this.pantherProps.selected,(function(t,i){t.keys&&R.a.includes(t.keys,e)&&(n=t.style||r.vectorLayerDefaultSelectedFeatureStyle)})),n}return null}}])&&Oe(n.prototype,i),e}(be.a.RenderableLayer);function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ie(t,e){return(Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ne=be.a.Location,De=be.a.Sector,je=be.a.MercatorTiledImageLayer,Fe=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||"Open Street Map",(n=!(r=Me(e).call(this,new De(-85.05,85.05,-180,180),new Ne(85.05,180),19,"image/png",t,256,256))||"object"!==Pe(r)&&"function"!=typeof r?ke(this):r).displayName=t,n.pickEnabled=!1,n.destCanvas=document.createElement("canvas"),n.destContext=n.destCanvas.getContext("2d"),n.urlBuilder={urlForTile:function(t,e){return"https://otile1.mqcdn.com/tiles/1.0.0/osm/"+(t.level.levelNumber+1)+"/"+t.column+"/"+t.row+".png"}},n.doRender=n.doRender.bind(ke(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}(e,t),n=e,(r=[{key:"doRender",value:function(t){je.prototype.doRender.call(this,t)}},{key:"createTopLevelTiles",value:function(t){this.topLevelTiles=[],this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),0,0)),this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),0,1)),this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),1,0)),this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),1,1))}},{key:"mapSizeForLevel",value:function(t){return 256<<t+1}}])&&Re(n.prototype,r),e}(je);function Ve(t){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ke=be.a.ArgumentError,ze=be.a.Logger,He=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==Ve(e)&&"function"!=typeof e?Ge(t):e}(this,Ue(e).call(this,""))).imageSize=256,!t.source&&!t.sourceObject)throw new Ke(ze.logMessage(ze.LEVEL_SEVERE,"MyOsmLayer","constructor","missingSource"));n._source=t.sourceObject?n.buildSourceUrl(t.sourceObject):t.source,n._attribution=t.attribution,n._imageType=t.imageType?t.imageType:"png",n.cachePath=n._source,n.detailControl=t.detailControl?t.detailControl:1,n.levels.numLevels=18;var r=Ge(n);return n.urlBuilder={urlForTile:function(t,e){return r._source+(t.level.levelNumber+1)+"/"+t.column+"/"+t.row+"."+r._imageType}},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(e,t),n=e,(r=[{key:"buildSourceUrl",value:function(t){var e=this.buildPrefix(t.prefixes);return(t.protocol?t.protocol+"://":"http://")+e+t.host+"/"+(t.path?t.path+"/":"")}},{key:"buildPrefix",value:function(t){var e="";return t&&(e=t[Math.floor(Math.random()*t.length)]+"."),e}}])&&Be(n.prototype,r),e}(Fe);function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ze(t,e){return(Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Je=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.key,i=t.options,o=t.opacity,a=i.params,s=a.imageFormat,u=a.layers,l=a.name,c=a.styles,h=a.version,f=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(a,["imageFormat","layers","name","styles","version"]),p={key:r,format:s||"image/png",layerNames:u,levelZeroDelta:new be.a.Location(45,45),name:l,numLevels:18,opacity:o||1,params:R.a.isEmpty(f)?null:f,sector:new be.a.Sector(-90,90,-180,180),service:i.url,size:256,styleNames:c,version:h||"1.3.0"};return(n=function(t,e){return!e||"object"!==Ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Xe(e).call(this,p))).key=r,n.attributions=i.attributions,n.layerNames=u,n.service=i.url,n.styleNames=c||"",n.customParams=f,n.numLevels=p.numLevels,n.cachePath="".concat(n.service,"/").concat(n.layerNames),n.styleNames&&(n.cachePath+="/".concat(n.styleNames)),n.customParams&&n.customParams.time&&(n.cachePath+="/".concat(n.customParams.time)),n.opacity=p.opacity,n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ze(t,e)}(e,t),n=e,(r=[{key:"doRender",value:function(t){be.a.WmsLayer.prototype.doRender.call(this,t),t.screenCreditController.clear()}}])&&qe(n.prototype,r),e}(be.a.WmsLayer),Qe=n(14),$e=n.n(Qe);function tn(t){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function en(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function an(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sn(t,e){return(sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var un=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=on(e).call(this,""))||"object"!==tn(r)&&"function"!=typeof r?an(this):r).imageSize=256,n.detailControl=1,n.levels.numLevels=18,n.cachePath=t.options.url,n.urlBuilder=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?en(Object(n),!0).forEach((function(e){nn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n.urlBuilder,{urlForTile:n.urlForTile.bind(an(n),t.options.url)}),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sn(t,e)}(e,t),n=e,(r=[{key:"urlForTile",value:function(t,e,n){var r=$e()(t);if(r&&r.varNames&&r.varNames.length){var i=["a","b","c"],o=i.length,a=e.row%o;return r.fill({s:i[a],z:e.level.levelNumber+1,x:e.column,y:e.row})}return"".concat(t,"/").concat(e.level.levelNumber+1,"/").concat(e.column,"/").concat(e.row,".").concat(be.a.WWUtil.suffixForMimeType(n))}}])&&rn(n.prototype,r),e}(Fe),ln=n(10),cn=n(13);function hn(t,e){t.restore(),t.fillStyle=e.fill,t.lineWidth=e.outlineWidth,t.strokeStyle=e.outlineColor,t.globalAlpha=e.fillOpacity||e.outlineOpacity,t.fill(),t.stroke()}var fn=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.strokeStyle=o,t.lineWidth=a,t.stroke()},pn=function(t,e,n,r,i,o){t.save(),t.beginPath(),t.translate(e-r,n-i),t.scale(r,i),t.arc(1,1,1,0,2*Math.PI,!1),hn(t,o)},dn=function(t,e,n){t.save(),t.beginPath(),e.forEach((function(e,n){0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),hn(t,n)},gn=function(t,e,n,r,i,o){t.save(),t.beginPath(),t.rect(e,n,r,i),hn(t,o)};function mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mn(Object(n),!0).forEach((function(e){vn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var En=function(){function t(e,n,r,i,o,a){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e,this._style=r,this._fidColumnName=i,this._hovered=a,this._hovered&&this._hovered.keys&&(this._hoveredStyle=M.mapStyle.getStyleObject(null,this._hovered.style,!0)),o&&!R.a.isEmpty(o)){var s=[];R.a.forIn(o,(function(t){t&&!R.a.isEmpty(t)&&s.push({keys:t.keys,style:M.mapStyle.getStyleObject(null,t.style,!0)})})),this._selected=s.length?s:null}this._sector=n.sector,this._canvas=this.createCanvas(n.width,n.height),this._width=n.width,this._height=n.height;var u=(this._sector.maxLatitude+this._sector.minLatitude)*(Math.PI/180)/2;this._latitudeFactor=1/Math.cos(Math.abs(u))}var e,n;return e=t,(n=[{key:"url",value:function(){return this.draw().toDataURL()}},{key:"canvas",value:function(){return this.draw()}},{key:"draw",value:function(){for(var t=this,e=this._canvas.getContext("2d"),n=[],r=[],i=0;i<this._data.length;i++){var o=this._data[i],a=o.data,s=this.isHovered(a);this.isSelected(a)?r.push(o):s?n.push(o):this.shape(e,o)}return n.forEach((function(n){t.shape(e,n,!0)})),r.forEach((function(n){t.shape(e,n,!1,!0)})),this._canvas}},{key:"isHovered",value:function(t){if(this._hovered&&this._hovered.keys)return-1!==this._hovered.keys.indexOf(t[this._fidColumnName])}},{key:"isSelected",value:function(t){var e=this,n=!1;return this._selected&&this._selected.forEach((function(r){-1!==r.keys.indexOf(t[e._fidColumnName])&&(n=!0)})),n}},{key:"shape",value:function(t,e,n,r){var i=this,o=e.data,a=M.mapStyle.getStyleObject(o,this._style);n&&(a=yn({},a,{},this._hoveredStyle)),r&&this._selected.forEach((function(t){-1!==t.keys.indexOf(o[i._fidColumnName])&&(a=yn({},a,{},t.style))})),a.shape?"circle-with-arrow"===a.shape?this.circleWithArrow(t,e,a):"circle"===a.shape?this.point(t,e,a):"square"===a.shape?this.square(t,e,a):"diamond"===a.shape?this.diamond(t,e,a):"triangle"===a.shape?this.triangle(t,e,a):this.point(t,e,a):this.point(t,e,a)}},{key:"point",value:function(t,e,n){var r=this.getSize(n)/2,i=this.getCenterCoordinates(e),o=r,a=r*this._latitudeFactor;pn(t,i[0],i[1],a,o,n)}},{key:"square",value:function(t,e,n){var r=this.getSize(n),i=this.getCenterCoordinates(e),o=r*this._latitudeFactor;gn(t,i[0]-o/2,i[1]-r/2,o,r,n)}},{key:"diamond",value:function(t,e,n){var r=this.getSize(n),i=Math.sqrt(2)*r,o=this.getCenterCoordinates(e),a=i*this._latitudeFactor,s=[[o[0]-a/2,o[1]],[o[0],o[1]-i/2],[o[0]+a/2,o[1]],[o[0],o[1]+i/2],[o[0]-a/2,o[1]]];dn(t,s,n)}},{key:"triangle",value:function(t,e,n){var r=this.getSize(n),i=Math.sqrt(Math.pow(r,2)-Math.pow(r/2,2)),o=this.getCenterCoordinates(e),a=r*this._latitudeFactor,s=[[o[0]-a/2,o[1]+i/3],[o[0],o[1]-2*i/3],[o[0]+a/2,o[1]+i/3],[o[0]-a/2,o[1]+i/3]];dn(t,s,n)}},{key:"circleWithArrow",value:function(t,e,n){var r=this.getSize(n)/2,i=n.arrowDirection||1,o=this.getCenterCoordinates(e),a=r,s=r*this._latitudeFactor;pn(t,o[0],o[1],s,a,n);var u=o[0]+i*s,l=o[1],c=u+i*n.arrowLength;fn(t,u,l,c,l,n.arrowColor,n.arrowWidth)}},{key:"getSize",value:function(t){return t.size?t.size:t.volume?"triangle"===t.shape?Math.sqrt(t.volume/2):"square"===t.shape||"diamond"===t.shape?Math.sqrt(t.volume):Math.sqrt(t.volume/Math.PI):M.mapStyle.DEFAULT_SIZE}},{key:"getCenterCoordinates",value:function(t){return[this.longitudeInSector(t,this._sector,this._width),this._height-this.latitudeInSector(t,this._sector,this._height)]}},{key:"createCanvas",value:function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}},{key:"latitudeInSector",value:function(t,e,n){var r=e.maxLatitude-e.minLatitude,i=t.y-90-e.minLatitude;return Math.ceil(i/r*n)}},{key:"longitudeInSector",value:function(t,e,n){var r=e.maxLongitude-e.minLongitude,i=t.x-180-e.minLongitude;return Math.ceil(i/r*n)}}])&&bn(e.prototype,n),t}();function _n(t){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach((function(e){xn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function On(t){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function An(t,e){return(An=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ln=be.a.Location,Pn=be.a.REDRAW_EVENT_TYPE,Rn=be.a.Sector,Mn=(be.a.SurfaceCircle,function(t){function e(t,n,r){var i,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=!(o=On(e).call(this,new Rn(-90,90,-180,180),new Ln(45,45),18,"image/png",r.key,256,256))||"object"!==_n(o)&&"function"!=typeof o?Cn(this):o).tileWidth=256,i.tileHeight=256,i.detailControl=1,i.wwd=t,i.processedTiles={},i.quadTree=new ln.QuadTree(new ln.Box(0,0,360,180)),i.pantherProps={features:n.features,fidColumnName:n.fidColumnName,hovered:Sn({},n.hovered),selected:Sn({},n.selected),key:r.key,layerKey:r.layerKey,onHover:n.onHover,onClick:n.onClick,pointHoverBuffer:n.pointHoverBuffer||M.mapStyle.DEFAULT_SIZE,style:n.style,wwd:t},i.pantherProps.features?i.addFeatures(i.pantherProps.features):i.loadData(n.url),i.onClick=i.onClick.bind(Cn(i),t),i.onMouseMove=i.onMouseMove.bind(Cn(i),t),t.addEventListener("click",i.onClick),t.addEventListener("mousemove",i.onMouseMove),i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&An(t,e)}(e,t),n=e,(r=[{key:"removeListeners",value:function(){this.pantherProps.wwd.removeEventListener("click",this.onClick),this.pantherProps.wwd.removeEventListener("mousemove",this.onMouseMove)}},{key:"loadData",value:function(t){var e=this;fetch(t).then((function(t){return t.json()})).then((function(t){if(t.features.length>1e6)throw new Error("Too many features.");e.addFeatures(t.features)}))}},{key:"addFeatures",value:function(t){var e=this;t.forEach((function(t){var n=t.geometry&&t.geometry.type,r=null,i=Sn({},t.properties);if("Point"===n)i.centroid=t.geometry.coordinates,r=new ln.Point(t.geometry.coordinates[0]+180,t.geometry.coordinates[1]+90,i);else if("MultiPoint"===n){var o=t.geometry.coordinates[0];i.centroid=o,r=new ln.Point(o[0]+180,o[1]+90,i)}else if("MultiPolygon"===n){var a=cn.centroid(t.geometry);i.centroid=a.geometry.coordinates,r=new ln.Point(a.geometry.coordinates[0]+180,a.geometry.coordinates[1]+90,i)}r&&e.quadTree.insert(r)})),this.refresh()}},{key:"handleEvent",value:function(t,e){var n=e.touches&&e.touches[0]&&e.touches[0].clientX||e.clientX,r=e.touches&&e.touches[0]&&e.touches[0].clientY||e.clientY,i=e.touches&&e.touches[0]&&e.touches[0].pageX||e.pageX,o=e.touches&&e.touches[0]&&e.touches[0].pageY||e.pageY,a=t.pickTerrain(t.canvasCoordinates(n,r)).terrainObject(),s=this.getPointHoverBuffer(t);if(a){var u=a.position,l=this.quadTree.query(new ln.Circle(u.longitude+180,u.latitude+90,s));if(l.length>1){var c=cn.point([u.longitude,u.latitude]),h=l.map((function(t){return cn.point([t.data.centroid[0],t.data.centroid[1]],Sn({},t))})),f=cn.featureCollection(h);l=[cn.nearestPoint(c,f).properties]}return{points:l,x:i,y:o}}return{points:[],x:i,y:o}}},{key:"onMouseMove",value:function(t,e){this.onMouseMoveResult(this.handleEvent(t,e))}},{key:"onClick",value:function(t,e){this.onClickResult(this.handleEvent(t,e))}},{key:"onClickResult",value:function(t){var e=this;if(this.pantherProps.onClick){var n=t.points.map((function(t){return t.data[e.pantherProps.fidColumnName]}));n&&n.length&&this.pantherProps.onClick(this.pantherProps.layerKey,n)}}},{key:"onMouseMoveResult",value:function(t){var e=this;if(this.pantherProps.onHover){var n=t.points.map((function(t){return t.data[e.pantherProps.fidColumnName]}));this.pantherProps.onHover(this.pantherProps.layerKey,n,t.x,t.y,null,t.points,this.pantherProps.fidColumnName)}}},{key:"retrieveTileImage",value:function(t,e,n){this.processedTiles[e.imagePath]=!0;var r=e.sector,i=this.calculateExtendedSector(r,.2,.2),o=this.filterGeographically(i.sector);if(o){var a=e.imagePath,s=t.gpuResourceCache,u=this.createPointTile(o,{sector:r,width:this.tileWidth,height:this.tileHeight}).canvas(),l=this.createTexture(t,e,u);if(this.removeFromCurrentRetrievals(a),l&&(s.putResource(a,l,l.size),this.currentTilesInvalid=!0,this.absentResourceList.unmarkResourceAbsent(a),!n)){var c=document.createEvent("Event");c.initEvent(Pn,!0,!0),window.dispatchEvent(c)}}}},{key:"filterGeographically",value:function(t){var e=t.maxLongitude-t.minLongitude,n=t.maxLatitude-t.minLatitude;return this.quadTree.query(new ln.Box(t.minLongitude+180,t.minLatitude+90,e,n))}},{key:"calculateExtendedSector",value:function(t,e,n){var r=(t.maxLatitude-t.minLatitude)*n,i=(t.maxLongitude-t.minLongitude)*e;return{sector:new Rn(t.minLatitude-r,t.maxLatitude+r,t.minLongitude-i,t.maxLongitude+i),extensionFactorHeight:n,extensionFactorWidth:e}}},{key:"createPointTile",value:function(t,e){return new En(t,e,this.pantherProps.style,this.pantherProps.fidColumnName,this.pantherProps.selected,this.pantherProps.hovered)}},{key:"updateHoveredKeys",value:function(t,e,n){var r=this;this.pantherProps.hovered.keys=t;var i=this.wwd.pickTerrain(this.wwd.canvasCoordinates(e,n)).terrainObject();if(i){var o=i.position.latitude,a=i.position.longitude;R.a.each(this.currentTiles,(function(t){var e=t.sector,n=r.previousHoveredCoordinates,i=Math.abs(e.maxLatitude-e.minLatitude)/10,s=Math.abs(e.maxLongitude-e.minLongitude)/10,u=o<=e.maxLatitude+i&&o>=e.minLatitude-i&&a<=e.maxLongitude+s&&a>=e.minLongitude-s,l=n&&n.lat<=e.maxLatitude+i&&n.lat>=e.minLatitude-i&&n.lon<=e.maxLongitude+s&&n.lon>=e.minLongitude-s;(u||l)&&r.retrieveTileImage(r.wwd.drawContext,t,!0)})),this.previousHoveredCoordinates={lat:o,lon:a}}}},{key:"getPointHoverBuffer",value:function(t){var e=t.canvas.clientWidth;return t.navigator.range/e*this.pantherProps.pointHoverBuffer*1e-5}}])&&Tn(n.prototype,r),e}(be.a.TiledImageLayer));function kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function In(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nn(t,e,n,r){if(!t.type)return null;switch(t.type){case"worldwind":switch(t.options.layer){case"bingAerial":return new be.a.BingAerialLayer(null);case"bluemarble":return new be.a.BMNGLayer;case"wikimedia":return new He({attribution:"Wikimedia maps - Map data \xa9 OpenStreetMap contributors",sourceObject:{host:"maps.wikimedia.org",path:"osm-intl",protocol:"https"}});default:return null}case"wmts":return new un(t);case"wms":return new Je(t);case"vector":return function(t,e,n,r){var i=t.options&&t.options.url,o=t.options&&t.options.features&&t.options.features.length,a=t.key||"Vector layer",s=t.layerKey||a,u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach((function(e){In(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.options,{key:a,layerKey:s,onHover:n,onClick:r});return i||o>499?(u.pointHoverBuffer=M.mapStyle.DEFAULT_SIZE,new Mn(e,u,t)):new Le(t,u)}(t,e,n,r);default:return null}}var Dn={getLayerByType:Nn,updateVectorLayer:function(t,e,n,r){var i=null,o=t.layerKey,a=R.a.find(e.layers,(function(t){return t.pantherProps&&t.pantherProps.layerKey&&t.pantherProps.layerKey===o}));return a?a.pantherProps.features===t.options.features?i=a:(a.removeListeners(),i=Nn(t,e,n,r)):i=Nn(t,e,n,r),i}},jn=function(t,e){var n={};return t.boxRange!==e.boxRange&&(n.boxRange=e.boxRange),t.heading!==e.heading&&(n.heading=e.heading),t.tilt!==e.tilt&&(n.tilt=e.tilt),t.roll!==e.roll&&(n.roll=e.roll),t.center.lat===e.center.lat&&t.center.lon===e.center.lon||(n.center={lat:e.center.lat,lon:e.center.lon}),n},Fn=function(t){var e={},n=t.lookAtLocation,r=t.range;return r&&(e.boxRange=r),n&&(e.center={},n.latitude&&(e.center.lat=n.latitude),n.longitude&&(e.center.lon=n.longitude)),(t.heading||0===t.heading)&&(e.heading=t.heading),(t.tilt||0===t.tilt)&&(e.tilt=t.tilt),(t.roll||0===t.roll)&&(e.roll=t.roll),e},Vn=function(t,e){var n=t.navigator,r=function(t){var e=t.center,n=t.boxRange,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,["center","boxRange"]);return n&&(r.range=n),e&&(r.lookAtLocation={},e.lat&&(r.lookAtLocation.latitude=e.lat),e.lon&&(r.lookAtLocation.longitude=e.lon)),r}(e),i=!1;r.range&&n.range!==r.range&&(n.range=r.range,i=!0),r.tilt&&n.tilt!==r.tilt&&(n.tilt=r.tilt,i=!0),r.roll&&n.roll!==r.roll&&(n.roll=r.roll,i=!0),r.heading&&n.heading!==r.heading&&(n.heading=r.heading,i=!0),r.lookAtLocation&&r.lookAtLocation.latitude&&n.lookAtLocation.latitude!==r.lookAtLocation.latitude&&(n.lookAtLocation.latitude=r.lookAtLocation.latitude,i=!0),r.lookAtLocation&&r.lookAtLocation.longitude&&n.lookAtLocation.longitude!==r.lookAtLocation.longitude&&(n.lookAtLocation.longitude=r.lookAtLocation.longitude,i=!0),i&&t.redraw()};function Bn(t){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Un(Object(n),!0).forEach((function(e){Wn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yn(t,e){return(Yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(41);var qn=I.Context.getContext("HoverContext"),Xn=be.a.WorldWindow,Zn=be.a.ElevationModel,Jn=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=zn(e).call(this,t))||"object"!==Bn(r)&&"function"!=typeof r?Hn(this):r).canvasId=M.utils.uuid(),n.onClick=n.onClick.bind(Hn(n)),n.onLayerHover=n.onLayerHover.bind(Hn(n)),n.onWorldWindHover=n.onWorldWindHover.bind(Hn(n)),n.onLayerClick=n.onLayerClick.bind(Hn(n)),n.onMouseOut=n.onMouseOut.bind(Hn(n)),n.onZoomLevelsBased=n.onZoomLevelsBased.bind(Hn(n)),n}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yn(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){var t;this.wwd=new Xn(this.canvasId,this.getElevationModel()),(t=this.wwd.worldWindowController).applyLimits=function(){var e=t.wwd.navigator;if(e.lookAtLocation.latitude=_e.clamp(e.lookAtLocation.latitude,-90,90),e.lookAtLocation.longitude=Ee.normalizedDegreesLongitude(e.lookAtLocation.longitude),e.range=_e.clamp(e.range,1,Number.MAX_VALUE),e.heading=Ee.normalizedDegrees(e.heading),e.tilt=_e.clamp(e.tilt,0,90),e.roll=Ee.normalizedDegrees(e.roll),t.wwd.globe.is2D()&&e.enable2DLimits){var n=2*Math.PI*t.wwd.globe.equatorialRadius;e.range=_e.clamp(e.range,1,n),e.tilt=0}"function"==typeof t.onNavigatorChanged&&t.onNavigatorChanged(e)},t.onNavigatorChanged=null,this.wwd.worldWindowController.onNavigatorChanged=this.onNavigatorChange.bind(this),this.props.levelsBased&&(this.wwd.eventListeners.wheel.listeners=[this.onZoomLevelsBased.bind(this)]),new M.CyclicPickController(this.wwd,["mousemove","mousedown","mouseup","mouseout","touchstart","touchmove","touchend"],this.onWorldWindHover,!0),this.updateNavigator(I.mapConstants.defaultMapView),this.updateLayers()}},{key:"onZoomLevelsBased",value:function(t){if(t.preventDefault(),t.wheelDelta){var e=i.getZoomLevelFromView(this.props.view);t.wheelDelta>0?e++:e--;var n=this.props.levelsBased.length?this.props.levelsBased:r.defaultLevelsRange;if(e<=n[1]&&e>=n[0]){var o=i.getBoxRangeFromZoomLevelAndLatitude(e);this.props.onViewChange&&this.props.onViewChange({boxRange:o})}}}},{key:"componentDidUpdate",value:function(t){t&&(this.props.view&&t.view!==this.props.view&&this.updateNavigator(),t.layers===this.props.layers&&t.backgroundLayer===this.props.backgroundLayer||this.updateLayers(),this.context&&this.context.hoveredItems&&JSON.stringify(R.a.sortBy(this.context.hoveredItems))!==this.previousHoveredItemsString&&this.updateHoveredFeatures())}},{key:"updateLayers",value:function(){var t=this,e=[];this.props.backgroundLayer&&(R.a.isArray(this.props.backgroundLayer)?this.props.backgroundLayer:[this.props.backgroundLayer]).forEach((function(n){e.push(Dn.getLayerByType(n,t.wwd))})),this.props.layers&&this.props.layers.forEach((function(n){var r=Dn.getLayerByType(n,t.wwd,t.onLayerHover,t.onLayerClick);e.push(r)})),this.invalidateLayers(this.wwd.layers),this.wwd.layers=e,this.wwd.redraw()}},{key:"invalidateLayers",value:function(t){t.forEach((function(t){t instanceof Mn&&t.removeListeners()}))}},{key:"updateHoveredFeatures",value:function(){var t=this;this.wwd.layers.forEach((function(e){e instanceof Mn?e.updateHoveredKeys(t.context.hoveredItems,t.context.x,t.context.y):e instanceof Le&&e.updateHoveredFeatures(t.context.hoveredItems)})),this.wwd.redraw(),this.previousHoveredItemsString=JSON.stringify(R.a.sortBy(this.context.hoveredItems))}},{key:"updateNavigator",value:function(t){var e=Gn({},t||Fn(this.wwd.navigator),{},this.props.view);Vn(this.wwd,e)}},{key:"getElevationModel",value:function(){switch(this.props.elevationModel){case"default":return null;case null:var t=new Zn;return t.removeAllCoverages(),t}}},{key:"onNavigatorChange",value:function(t){var e=this;if(t){var n=Fn(t),r=jn(Gn({},I.mapConstants.efaultMapView,{},this.props.view),n);this.props.onViewChange&&(R.a.isEmpty(r)||(this.props.delayedWorldWindNavigatorSync?(this.changedNavigatorTimeout&&clearTimeout(this.changedNavigatorTimeout),this.changedNavigatorTimeout=setTimeout((function(){e.props.onViewChange(r)}),this.props.delayedWorldWindNavigatorSync)):this.props.onViewChange(r)))}}},{key:"onClick",value:function(){if(this.props.onClick){var t=Fn(this.wwd.navigator);this.props.onClick(t)}}},{key:"onMouseOut",value:function(){this.context&&this.context.onHoverOut&&this.context.onHoverOut()}},{key:"onLayerHover",value:function(t,e,n,r,i,o,a){this.context&&this.context.onHover&&this.context.onHover(e,{popup:{x:n,y:r,content:i,data:o,fidColumnName:a}})}},{key:"onLayerClick",value:function(t,e){this.props.onLayerClick&&this.props.onLayerClick(this.props.mapKey,t,e)}},{key:"onWorldWindHover",value:function(t,e){if(t.length){var n=t[0].parentLayer.pantherProps,r=t.map((function(t){return{data:t.userObject.userProperties}})),i=r.map((function(t){return t.data[n.fidColumnName]}));"mousedown"===e.type?this.onLayerClick(n.layerKey,i):this.onLayerHover(n.layerKey,i,e.pageX,e.pageY,a.a.createElement("div",null,i.join(",")),r,n.fidColumnName)}else this.context&&this.context.onHoverOut&&this.context.onHoverOut()}},{key:"render",value:function(){return a.a.createElement("div",{className:"ptr-map ptr-world-wind-map",onClick:this.onClick,onMouseOut:this.onMouseOut},a.a.createElement("canvas",{className:"ptr-world-wind-map-canvas",id:this.canvasId},"Your browser does not support HTML5 Canvas."))}}])&&Kn(n.prototype,o),e}(a.a.PureComponent);Jn.contextType=qn,Jn.defaultProps={elevationModel:null},Jn.propTypes={backgroundLayer:u.a.oneOfType([u.a.object,u.a.array]),layers:u.a.array,view:u.a.object,onClick:u.a.func,onViewChange:u.a.func,elevationModel:u.a.string};var Qn=Jn;n.d(e,"constants",(function(){return r})),n.d(e,"viewUtils",(function(){return i})),n.d(e,"GoToPlace",(function(){return m})),n.d(e,"MapControls",(function(){return L})),n.d(e,"MapGrid",(function(){return S})),n.d(e,"MapTools",(function(){return J})),n.d(e,"MapSetMap",(function(){return q})),n.d(e,"MapSetPresentationMap",(function(){return X})),n.d(e,"MapSet",(function(){return Z})),n.d(e,"LeafletMap",(function(){return Dt})),n.d(e,"PresentationMap",(function(){return Ht})),n.d(e,"ReactLeafletMap",(function(){return ce})),n.d(e,"SimpleLayersControl",(function(){return ye})),n.d(e,"WorldWindMap",(function(){return Qn})),e.default={constants:r,viewUtils:i,GoToPlace:m,MapControls:L,MapGrid:S,MapSetMap:q,MapSetPresentationMap:X,MapSet:Z,MapTools:J,LeafletMap:Dt,PresentationMap:Ht,SimpleLayersControl:ye,ReactLeafletMap:ce,WorldWindMap:Qn}}]))},function(t,e,n){var r,i,o,a,s,u,l;window,t.exports=(r=n(108),i=n(1),o=n(31),a=n(5),s=n(283),u=n(327),l=n(38),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=80)}([function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e){t.exports=a},function(t,e,n){"use strict";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],u=e.base?s[0]+e.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var h=a(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(f)):o.push({identifier:c,updater:g(f,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function g(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=u(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(t,e),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r,i,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"flush",(function(){return a})),n.d(e,"hydrate",(function(){return s})),n.d(e,"cx",(function(){return u})),n.d(e,"merge",(function(){return l})),n.d(e,"getRegisteredStyles",(function(){return c})),n.d(e,"injectGlobal",(function(){return h})),n.d(e,"keyframes",(function(){return f})),n.d(e,"css",(function(){return p})),n.d(e,"sheet",(function(){return d})),n.d(e,"caches",(function(){return g}));var r=n(29),i=void 0!==t?t:{},o=Object(r.a)(i),a=o.flush,s=o.hydrate,u=o.cx,l=o.merge,c=o.getRegisteredStyles,h=o.injectGlobal,f=o.keyframes,p=o.css,d=o.sheet,g=o.caches}.call(this,n(13))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMenuPlacement=E,e.MenuPortal=e.menuPortalCSS=e.LoadingMessage=e.NoOptionsMessage=e.loadingMessageCSS=e.noOptionsMessageCSS=e.MenuList=e.menuListCSS=e.default=e.MenuPlacer=e.menuCSS=void 0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(6),a=n(14),s=(r=n(1))&&r.__esModule?r:{default:r},u=n(8);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){b(t,e,n[e])}))}return t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function g(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?v(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,a=t.isFixedPosition,s=t.theme.spacing,l=(0,u.getScrollParent)(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var h=l.getBoundingClientRect().height,f=n.getBoundingClientRect(),p=f.bottom,d=f.height,g=f.top,m=n.offsetParent.getBoundingClientRect().top,y=window.innerHeight,v=(0,u.getScrollTop)(l),b=parseInt(getComputedStyle(n).marginBottom,10),E=parseInt(getComputedStyle(n).marginTop,10),_=m-E,w=y-g,S=_+v,x=h-v-g,T=p-y+v+b,O=v+g-E;switch(i){case"auto":case"bottom":if(w>=d)return{placement:"bottom",maxHeight:e};if(x>=d&&!a)return o&&(0,u.animatedScrollTo)(l,T,160),{placement:"bottom",maxHeight:e};if(!a&&x>=r||a&&w>=r)return o&&(0,u.animatedScrollTo)(l,T,160),{placement:"bottom",maxHeight:a?w-b:x-b};if("auto"===i||a){var C=e,A=a?_:S;return A>=r&&(C=Math.min(A-b-s.controlHeight,e)),{placement:"top",maxHeight:C}}if("bottom"===i)return(0,u.scrollTo)(l,T),{placement:"bottom",maxHeight:e};break;case"top":if(_>=d)return{placement:"top",maxHeight:e};if(S>=d&&!a)return o&&(0,u.animatedScrollTo)(l,O,160),{placement:"top",maxHeight:e};if(!a&&S>=r||a&&_>=r){var L=e;return(!a&&S>=r||a&&_>=r)&&(L=a?_-E:S-E),o&&(0,u.animatedScrollTo)(l,O,160),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var _=function(t){return"auto"===t?"bottom":t};e.menuCSS=function(t){var e,n=t.placement,r=t.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return b(e={label:"menu"},function(t){return t?{bottom:"top",top:"bottom"}[t]:"bottom"}(n),"100%"),b(e,"backgroundColor",a.neutral0),b(e,"borderRadius",i),b(e,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),b(e,"marginBottom",o.menuGutter),b(e,"marginTop",o.menuGutter),b(e,"position","absolute"),b(e,"width","100%"),b(e,"zIndex",1),e};var w=function(t){function e(){var t,n;f(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return b(v(v(n=g(this,(t=m(e)).call.apply(t,[this].concat(i))))),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),b(v(v(n)),"getPlacement",(function(t){var e=n.props,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,a=e.menuPosition,s=e.menuShouldScrollIntoView,u=e.theme,l=n.context.getPortalPlacement;if(t){var c="fixed"===a,h=E({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!c,isFixedPosition:c,theme:u});l&&l(h),n.setState(h)}})),b(v(v(n)),"getUpdatedProps",(function(){var t=n.props.menuPlacement,e=n.state.placement||_(t);return h({},n.props,{placement:e,maxHeight:n.state.maxHeight})})),n}return y(e,t),d(e,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),e}(i.Component);e.MenuPlacer=w,b(w,"contextTypes",{getPortalPlacement:s.default.func}),e.default=function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,s=t.innerRef,u=t.innerProps,l=r((0,o.css)(a("menu",t)),{menu:!0},n);return i.default.createElement("div",c({className:l},u,{ref:s}),e)},e.menuListCSS=function(t){var e=t.maxHeight,n=t.theme.spacing.baseUnit;return{maxHeight:e,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},e.MenuList=function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,s=t.isMulti,u=t.innerRef;return i.default.createElement("div",{className:r((0,o.css)(a("menuList",t)),{"menu-list":!0,"menu-list--is-multi":s},n),ref:u},e)};var S=function(t){var e=t.theme,n=e.spacing.baseUnit;return{color:e.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},x=S;e.noOptionsMessageCSS=x;var T=S;e.loadingMessageCSS=T;var O=function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,s=t.innerProps;return i.default.createElement("div",c({className:r((0,o.css)(a("noOptionsMessage",t)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},s),e)};e.NoOptionsMessage=O,O.defaultProps={children:"No options"};var C=function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,s=t.innerProps;return i.default.createElement("div",c({className:r((0,o.css)(a("loadingMessage",t)),{"menu-notice":!0,"menu-notice--loading":!0},n)},s),e)};e.LoadingMessage=C,C.defaultProps={children:"Loading..."},e.menuPortalCSS=function(t){var e=t.rect,n=t.offset,r=t.position;return{left:e.left,position:r,top:n,width:e.width,zIndex:1}};var A=function(t){function e(){var t,n;f(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return b(v(v(n=g(this,(t=m(e)).call.apply(t,[this].concat(i))))),"state",{placement:null}),b(v(v(n)),"getPortalPlacement",(function(t){var e=t.placement;e!==_(n.props.menuPlacement)&&n.setState({placement:e})})),n}return y(e,t),d(e,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var t=this.props,e=t.appendTo,n=t.children,r=t.controlElement,s=t.menuPlacement,l=t.menuPosition,c=t.getStyles,h="fixed"===l;if(!e&&!h||!r)return null;var f=this.state.placement||_(s),p=(0,u.getBoundingClientObj)(r),d=h?0:window.pageYOffset,g={offset:p[f]+d,position:l,rect:p},m=i.default.createElement("div",{className:(0,o.css)(c("menuPortal",g))},n);return e?(0,a.createPortal)(m,e):m}}]),e}(i.Component);e.MenuPortal=A,b(A,"childContextTypes",{getPortalPlacement:s.default.func})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.classNames=function(t,e,n,r){var i=[e,r];if(n&&t)for(var o in n)n.hasOwnProperty(o)&&n[o]&&i.push("".concat(s(t,o)));return i.filter((function(t){return t})).map((function(t){return String(t).trim()})).join(" ")},e.handleInputChange=function(t,e,n){if(n){var r=n(t,e);if("string"==typeof r)return r}return t},e.isDocumentElement=u,e.normalizedHeight=function(t){return u(t)?window.innerHeight:t.clientHeight},e.getScrollTop=l,e.scrollTo=c,e.getScrollParent=function(t){var e=getComputedStyle(t),n="absolute"===e.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===e.position)return i;for(var o=t;o=o.parentElement;)if(e=getComputedStyle(o),(!n||"static"!==e.position)&&r.test(e.overflow+e.overflowY+e.overflowX))return o;return i},e.animatedScrollTo=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a,o=l(t),s=e-o,u=10,f=0;function p(){var e=h(f+=u,o,s,n);c(t,e),f<n?(0,i.default)(p):r(t)}p()},e.scrollIntoView=function(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?c(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&c(t,Math.max(e.offsetTop-i,0))},e.getBoundingClientObj=function(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}},e.toKey=function(t){return t.replace(/\W/g,"-")},e.isTouchCapable=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},e.isMobileDevice=function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}},e.cleanValue=e.emptyString=e.noop=void 0;var r,i=(r=n(55))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=function(){};function s(t,e){return e?"-"===e[0]?t+e:t+"__"+e:t}function u(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function l(t){return u(t)?window.pageYOffset:t.scrollTop}function c(t,e){u(t)?window.scrollTo(0,e):t.scrollTop=e}function h(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}e.noop=a,e.emptyString=function(){return""},e.cleanValue=function(t){return Array.isArray(t)?t.filter(Boolean):"object"===o(t)&&null!==t?[t]:[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=n(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){return a(this,e),u(this,l(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.props.innerRef((0,i.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}])&&s(n.prototype,r),e}(r.Component);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingIndicator=e.loadingIndicatorCSS=e.IndicatorSeparator=e.indicatorSeparatorCSS=e.ClearIndicator=e.clearIndicatorCSS=e.DropdownIndicator=e.dropdownIndicatorCSS=e.DownChevron=e.CrossIcon=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(6);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=function(t){var e=t.size,n=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,["size"]);return i.default.createElement("svg",a({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:(0,o.css)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},u=function(t){return i.default.createElement(s,a({size:20},t),i.default.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))};e.CrossIcon=u;var l=function(t){return i.default.createElement(s,a({size:20},t),i.default.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))};e.DownChevron=l;var c=function(t){var e=t.isFocused,n=t.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:e?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:e?i.neutral80:i.neutral40}}},h=c;e.dropdownIndicatorCSS=h,e.DropdownIndicator=function(t){var e=t.children,n=t.className,r=t.cx,s=t.getStyles,u=t.innerProps;return i.default.createElement("div",a({},u,{className:r((0,o.css)(s("dropdownIndicator",t)),{indicator:!0,"dropdown-indicator":!0},n)}),e||i.default.createElement(l,null))};var f=c;e.clearIndicatorCSS=f,e.ClearIndicator=function(t){var e=t.children,n=t.className,r=t.cx,s=t.getStyles,l=t.innerProps;return i.default.createElement("div",a({},l,{className:r((0,o.css)(s("clearIndicator",t)),{indicator:!0,"clear-indicator":!0},n)}),e||i.default.createElement(u,null))},e.indicatorSeparatorCSS=function(t){var e=t.isDisabled,n=t.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:e?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},e.IndicatorSeparator=function(t){var e=t.className,n=t.cx,r=t.getStyles,s=t.innerProps;return i.default.createElement("span",a({},s,{className:n((0,o.css)(r("indicatorSeparator",t)),{"indicator-separator":!0},e)}))};var p=!1;e.loadingIndicatorCSS=function(t){var e=t.isFocused,n=t.size,r=t.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:e?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}};var d=function(t){var e=t.color,n=t.delay,r=t.offset;return i.default.createElement("span",{className:(0,o.css)({animationDuration:"1s",animationDelay:"".concat(n,"ms"),animationIterationCount:"infinite",animationName:"react-select-loading-indicator",animationTimingFunction:"ease-in-out",backgroundColor:e,borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},g=function(t){var e=t.className,n=t.cx,r=t.getStyles,s=t.innerProps,u=t.isFocused,l=t.isRtl,c=t.theme.colors,h=u?c.neutral80:c.neutral20;return p||((0,o.injectGlobal)("@keyframes ","react-select-loading-indicator","{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),p=!0),i.default.createElement("div",a({},s,{className:n((0,o.css)(r("loadingIndicator",t)),{indicator:!0,"loading-indicator":!0},e)}),i.default.createElement(d,{color:h,delay:0,offset:l}),i.default.createElement(d,{color:h,delay:160,offset:!0}),i.default.createElement(d,{color:h,delay:320,offset:!l}))};e.LoadingIndicator=g,g.defaultProps={size:4}},function(t,e,n){var r,i;window,t.exports=(r=n(0),i=n(3),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=32)}([function(t,e){t.exports=r},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n(13);var r=n(8),i=n.n(r);function o(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&(e[0]="react-i18next:: ".concat(e[0])),console.warn.apply(null,e)}}var a={};function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&a[e[0]]||("string"==typeof e[0]&&(a[e[0]]=new Date),o.apply(void 0,e))}function u(){t&&t.env}var l=!1,c=!1;function h(t,e){!c&&t.initialI18nStore&&(t.i18n.services.resourceStore.data=t.initialI18nStore,e&&(t.i18n.options.isInitialSSR=!0),t.i18nOptions&&(t.i18nOptions.wait=!1),c=!0),!l&&t.initialLanguage&&(t.i18n.changeLanguage(t.initialLanguage),l=!0)}Object.entries;var f=Object.prototype.hasOwnProperty;function p(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function d(t,e){if(p(t,e))return!0;if("object"!==i()(t)||null===t||"object"!==i()(e)||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!f.call(e,n[o])||!p(t[n[o]],e[n[o]]))return!1;return!0}}).call(this,n(19))},function(t,e,n){var r=n(8),i=n(9);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(24);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(25);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(23);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e,n){"use strict";var r=n(26),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={};a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var s=Object.defineProperty,u=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(f){var p=h(n);p&&p!==f&&t(e,p,r)}var d=u(n);l&&(d=d.concat(l(n)));for(var g=a[e.$$typeof]||i,m=a[n.$$typeof]||i,y=0;y<d.length;++y){var v=d[y];if(!(o[v]||r&&r[v]||m&&m[v]||g&&g[v])){var b=c(n,v);try{s(e,v,b)}catch(t){}}}return e}return e}},function(t,e){t.exports=i},function(t,e,n){var r=n(20),i=n(21),o=n(22);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e,n){t.exports={parse:n(28),stringify:n(31)}},function(t){t.exports=JSON.parse('{"days":{"monday":"Pond\u011bl\xed","wednesday":"St\u0159eda"},"cancelCapitalized":"Zru\u0161it","createCapitalized":"Vytvo\u0159it","deleteCapitalized":"Smazat","months":{"january":"Leden","february":"\xdanor","march":"B\u0159ezen"},"nameCapitalized":"N\xe1zev","saveCapitalized":"Ulo\u017eit","user":{"login":"P\u0159ihl\xe1sit","logout":"Odhl\xe1sit","passphrase":"Heslo"},"layers":{"backgroundLayer":"Podkladov\xe1 vrstva","backgroundLayer_plural":"Podkladov\xe9 vrstvy","layers":"Vrstvy","layer":"Vrstva"}}')},function(t){t.exports=JSON.parse('{"days":{"monday":"Monday","tuesday":"Tuesday","wednesday":"Wednesday"},"cancelCapitalized":"Cancel","createCapitalized":"Create","deleteCapitalized":"Delete","months":{"january":"January","february":"February","march":"March"},"nameCapitalized":"Name","saveCapitalized":"Save","user":{"login":"Log in","logout":"Log out","passphrase":"Passphrase"},"layers":{"backgroundLayer":"Background layer","backgroundLayer_plural":"Background layers","layers":"Layers","layer":"Layer"}}')},function(t){t.exports=JSON.parse('{"formLabels":{"allApps":"V\u0161echny aplikace","application":"Aplikace","boundingBox":"Bounding box","color":"Barva","configuration":"Konfigurace","description":"Popis","geometry":"Geometrie","name":"N\xe1zev","nameInternal":"Intern\xed n\xe1zev","period":"Perioda","state":"Stav","type":"Typ","unit":"Jednotka","valueType":"Typ hodnoty"},"metadata":{"names":{"attribute":"Atribut","attribute_plural":"Atributy","case":"P\u0159\xedpad","case_plural":"P\u0159\xedpady","esponFuoreIndicator":"Indik\xe1tor","esponFuoreIndicator_plural":"Indik\xe1tory","layerTemplate":"\u0160ablona vrstvy","layerTemplate_plural":"\u0160ablony vrstev","period":"Perioda","period_plural":"Periody","place":"M\xedsto","place_plural":"M\xedsta","tag":"Tag","tag_plural":"Tagy","view":"Pohled","view_plural":"Pohledy"}},"apps":{"names":{"scope":"R\xe1mec","scope_plural":"R\xe1mce","configuration":"Konfigurace","configuration_plural":"Konfigurace","layerTrees":"Stromy vrstev"}}}')},function(t){t.exports=JSON.parse('{"formLabels":{"allApps":"All applications","application":"Application","boundingBox":"Bounding box","color":"Color","configuration":"Configuration","description":"Description","geometry":"Geometry","name":"Name","nameInternal":"Internal name","period":"Period","state":"State","type":"Type","unit":"Unit","valueType":"Value type"},"metadata":{"names":{"attribute":"Attribute","attribute_plural":"Attributes","case":"Case","case_plural":"Cases","esponFuoreIndicator":"Indicator","esponFuoreIndicator_plural":"Indicators","layerTemplate":"Layer template","layerTemplate_plural":"Layer templates","period":"Period","period_plural":"Periods","place":"Place","place_plural":"Places","tag":"Tag","tag_plural":"Tags","view":"View","view_plural":"Views"}},"apps":{"names":{"scope":"Scope","scope_plural":"Scopes","configuration":"Configuration","configuration_plural":"Configurations","layerTrees":"Layer trees"}}}')},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){"use strict";t.exports=n(27)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function _(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case p:case y:case m:case l:return t;default:return e}}case o:return e}}}function w(t){return _(t)===f}e.typeOf=_,e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=y,e.Memo=m,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===f||t===u||t===s||t===d||t===g||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===l||t.$$typeof===c||t.$$typeof===p||t.$$typeof===v||t.$$typeof===b||t.$$typeof===E)},e.isAsyncMode=function(t){return w(t)||_(t)===h},e.isConcurrentMode=w,e.isContextConsumer=function(t){return _(t)===c},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return _(t)===p},e.isFragment=function(t){return _(t)===a},e.isLazy=function(t){return _(t)===y},e.isMemo=function(t){return _(t)===m},e.isPortal=function(t){return _(t)===o},e.isProfiler=function(t){return _(t)===u},e.isStrictMode=function(t){return _(t)===s},e.isSuspense=function(t){return _(t)===d}},function(t,e,n){var r=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,i=n(29),o=Object.create?Object.create(null):{};function a(t,e,n,r,i){var o=e.indexOf("<",r),a=e.slice(r,-1===o?void 0:o);/^\s*$/.test(a)&&(a=" "),(!i&&o>-1&&n+t.length>=0||" "!==a)&&t.push({type:"text",content:a})}t.exports=function(t,e){e||(e={}),e.components||(e.components=o);var n,s=[],u=-1,l=[],c={},h=!1;return t.replace(r,(function(r,o){if(h){if(r!=="</"+n.name+">")return;h=!1}var f,p="/"!==r.charAt(1),d=0===r.indexOf("\x3c!--"),g=o+r.length,m=t.charAt(g);p&&!d&&(u++,"tag"===(n=i(r)).type&&e.components[n.name]&&(n.type="component",h=!0),n.voidElement||h||!m||"<"===m||a(n.children,t,u,g,e.ignoreWhitespace),c[n.tagName]=n,0===u&&s.push(n),(f=l[u-1])&&f.children.push(n),l[u]=n),(d||!p||n.voidElement)&&(d||u--,!h&&"<"!==m&&m&&a(f=-1===u?s:l[u].children,t,u,g,e.ignoreWhitespace))})),!s.length&&t.length&&a(s,t,0,0,e.ignoreWhitespace),s}},function(t,e,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,i=n(30);t.exports=function(t){var e,n=0,o=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return t.replace(r,(function(r){if("="===r)return o=!0,void n++;o?0===n?((i[r]||"/"===t.charAt(t.length-2))&&(a.voidElement=!0),a.name=r):(a.attrs[e]=r.replace(/^['"]|['"]$/g,""),e=void 0):(e&&(a.attrs[e]=e),e=r),n++,o=!1})),a}},function(t,e){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(t,e){function n(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(t){var e=[];for(var n in t)e.push(n+'="'+t[n]+'"');return e.length?" "+e.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(n,"")+"</"+e.name+">"}}t.exports=function(t){return t.reduce((function(t,e){return t+n("",e)}),"")}},function(t,e,n){"use strict";n.r(e);var r=n(12);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(e))}},y=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),this.init(e,n)}return l(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||m,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,a({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}()),v=function(){function t(){s(this,t),this.observers={}}return l(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.observers[t]){var i=[].concat(this.observers[t]);i.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function b(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function E(t){return null==t?"":""+t}function _(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function w(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!t[a]&&n&&(t[a]=new n),t=t[a]}return i()?{}:{obj:t,k:r(o.shift())}}function S(t,e,n){var r=w(t,e,Object);r.obj[r.k]=n}function x(t,e){var n=w(t,e),r=n.obj,i=n.k;if(r)return r[i]}function T(t,e,n){var r=x(t,n);return void 0!==r?r:x(e,n)}function O(t,e,n){for(var r in e)r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):O(t[r],e[r],n):t[r]=e[r];return t}function C(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function L(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return A[t]})):t}var P=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return s(this,e),n=h(this,f(e).call(this)),v.call(c(n)),n.data=t||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return d(e,t),l(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=t.split(".")),x(this.data,o)}},{key:"addResource",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),S(this.data,a,r),i.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(t,e,i,n[i],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var u=x(this.data,s)||{};r?O(u,n,i):u=a({},u,n),S(this.data,s,u),o.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?a({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(v),R={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach((function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))})),e}},M={},k=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,e),n=h(this,f(e).call(this)),v.call(c(n)),_(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,c(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=y.create("translator"),n}return d(e,t),l(e,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var o=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),t=o.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}}},{key:"translate",value:function(t,e){var n=this;if("object"!==i(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,o=this.extractFromKey(t[t.length-1],e),s=o.key,u=o.namespaces,l=u[u.length-1],c=e.lng||this.language,h=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(h){var f=e.nsSeparator||this.options.nsSeparator;return l+f+s}return s}var p=this.resolve(t,e),d=p&&p.res,g=p&&p.usedKey||s,m=p&&p.exactUsedKey||s,y=Object.prototype.toString.apply(d),v=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,_="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(E&&d&&_&&v.indexOf(y)<0&&("string"!=typeof b||"[object Array]"!==y)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,d,e):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(r){var w="[object Array]"===y,S=w?[]:{},x=w?m:g;for(var T in d)if(Object.prototype.hasOwnProperty.call(d,T)){var O="".concat(x).concat(r).concat(T);S[T]=this.translate(O,a({},e,{joinArrays:!1,ns:u})),S[T]===O&&(S[T]=d[T])}d=S}}else if(E&&"string"==typeof b&&"[object Array]"===y)(d=d.join(b))&&(d=this.extendTranslation(d,t,e));else{var C=!1,A=!1;if(!this.isValidLookup(d)&&void 0!==e.defaultValue){if(C=!0,void 0!==e.count){var L=this.pluralResolver.getSuffix(c,e.count);d=e["defaultValue".concat(L)]}d||(d=e.defaultValue)}this.isValidLookup(d)||(A=!0,d=s);var P=e.defaultValue&&e.defaultValue!==d&&this.options.updateMissing;if(A||C||P){this.logger.log(P?"updateKey":"missingKey",c,l,s,P?e.defaultValue:d);var R=[],M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&M&&M[0])for(var k=0;k<M.length;k++)R.push(M[k]);else"all"===this.options.saveMissingTo?R=this.languageUtils.toResolveHierarchy(e.lng||this.language):R.push(e.lng||this.language);var I=function(t,r){n.options.missingKeyHandler?n.options.missingKeyHandler(t,l,r,P?e.defaultValue:d,P,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,l,r,P?e.defaultValue:d,P,e),n.emit("missingKey",t,l,r,d)};if(this.options.saveMissing){var N=void 0!==e.count&&"string"!=typeof e.count;this.options.saveMissingPlurals&&N?R.forEach((function(t){n.pluralResolver.getPluralFormsOfKey(t,s).forEach((function(e){return I([t],e)}))})):I(R,s)}}d=this.extendTranslation(d,t,e,p),A&&d===s&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(s)),A&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d}},{key:"extendTranslation",value:function(t,e,n,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(a({},n,{interpolation:a({},this.options.interpolation,n.interpolation)}));var o=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(o=a({},this.options.interpolation.defaultVariables,o)),t=this.interpolator.interpolate(t,o,n.lng||this.language,n),!1!==n.nest&&(t=this.interpolator.nest(t,(function(){return i.translate.apply(i,arguments)}),n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,u="string"==typeof s?[s]:s;return null!=t&&u&&u.length&&!1!==n.applyPostProcessor&&(t=R.handle(u,t,e,this.options&&this.options.postProcessPassResolved?a({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var u=a.extractFromKey(t,s),l=u.key;n=l;var c=u.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var h=void 0!==s.count&&"string"!=typeof s.count,f=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(t){a.isValidLookup(e)||(o=t,!M["".concat(p[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(M["".concat(p[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(n,'" for namespace "').concat(o,'" for languages "').concat(p.join(", "),"\" won't get resolved as namespace was not yet loaded"),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(e)){i=n;var o,u,c=l,p=[c];for(a.i18nFormat&&a.i18nFormat.addLookupKeys?a.i18nFormat.addLookupKeys(p,l,n,t,s):(h&&(o=a.pluralResolver.getSuffix(n,s.count)),h&&f&&p.push(c+o),f&&p.push(c+="".concat(a.options.contextSeparator).concat(s.context)),h&&p.push(c+=o));u=p.pop();)a.isValidLookup(e)||(r=u,e=a.getResource(n,t,u,s))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}]),e}(v);function I(t){return t.charAt(0).toUpperCase()+t.slice(1)}var N=function(){function t(e){s(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=y.create("languageUtils")}return l(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=I(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=I(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=I(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){t&&(n.isWhitelisted(t)?i.push(t):n.logger.warn("rejecting non-whitelisted language code: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach((function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))})),i}}]),t}(),D=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],j={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||t>10)&&t%10==0?2:3)}};function F(){var t={};return D.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:j[e.fc]}}))})),t}var V=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),this.languageUtils=e,this.options=n,this.logger=y.create("pluralResolver"),this.rules=F()}return l(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=this,r=[],i=this.getRule(t);return i?(i.numbers.forEach((function(i){var o=n.getSuffix(t,i);r.push("".concat(e).concat(o))})),r):r}},{key:"getSuffix",value:function(t,e){var n=this,r=this.getRule(t);if(r){var i=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),B=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.logger=y.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return l(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:L,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?C(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?C(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?C(e.nestingPrefix):e.nestingPrefixEscaped||C("$t("),this.nestingSuffix=e.nestingSuffix?C(e.nestingSuffix):e.nestingSuffixEscaped||C(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var i,o,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(s.formatSeparator)<0){var i=T(e,u,t);return s.alwaysFormat?s.format(i,void 0,n):i}var o=t.split(s.formatSeparator),a=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(T(e,u,a),l,n,r)};this.resetRegExp();var h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler;for(a=0;i=this.regexpUnescape.exec(t);){if(void 0===(o=c(i[1].trim())))if("function"==typeof h){var f=h(t,i,r);o="string"==typeof f?f:""}else this.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(t)),o="";else"string"==typeof o||this.useRawValueToEscape||(o=E(o));if(t=t.replace(i[0],l(o)),this.regexpUnescape.lastIndex=0,++a>=this.maxReplaces)break}for(a=0;i=this.regexp.exec(t);){if(void 0===(o=c(i[1].trim())))if("function"==typeof h){var p=h(t,i,r);o="string"==typeof p?p:""}else this.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(t)),o="";else"string"==typeof o||this.useRawValueToEscape||(o=E(o));if(o=this.escapeValue?l(this.escape(o)):l(o),t=t.replace(i[0],o),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a({},i);function s(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);t=r[0],i=(i=this.interpolate(i,o)).replace(/'/g,'"');try{o=JSON.parse(i),e&&(o=a({},e,o))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(i)}return delete o.defaultValue,t}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(t);){if((r=e(s.call(this,n[1].trim(),o),o))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=E(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}(),U=function(t){function e(t,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,e),i=h(this,f(e).call(this)),v.call(c(i)),i.backend=t,i.store=n,i.services=r,i.languageUtils=r.languageUtils,i.options=o,i.logger=y.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,o.backend,o),i}return d(e,t),l(e,[{key:"queueLoad",value:function(t,e,n,r){var i=this,o=[],a=[],s=[],u=[];return t.forEach((function(t){var r=!0;e.forEach((function(e){var s="".concat(t,"|").concat(e);!n.reload&&i.store.hasResourceBundle(t,e)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),u.indexOf(e)<0&&u.push(e)))})),r||s.push(t)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(t,e,n){var r=g(t.split("|"),2),i=r[0],o=r[1];e&&this.emit("failedLoading",i,o,e),n&&this.store.addResourceBundle(i,o,n),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(n){var r,s,u,l,c;r=n.loaded,s=o,(l=(u=w(r,[i],Object)).obj)[c=u.k]=l[c]||[],l[c].push(s),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){a[t]||(a[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){a[t].indexOf(e)<0&&a[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(s,u){s&&u&&i<5?setTimeout((function(){r.read.call(r,t,e,n,i+1,2*o,a)}),o):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),i=g(r,2),o=i[0],a=i[1];this.read(o,a,"read",void 0,void 0,(function(r,i){r&&e.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(o," failed"),r),!r&&i&&e.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(o),i),e.loaded(t,r,i)}))}},{key:"saveMissing",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" for namespace "').concat(e,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,a({},o,{isUpdate:i})),t&&t[0]&&this.store.addResource(t[0],e,n,r))}}]),e}(v);function G(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===i(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===i(t[2])||"object"===i(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3}}}function W(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}function K(){}var z,H=new(function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(s(this,e),t=h(this,f(e).call(this)),v.call(c(t)),t.options=W(n),t.services={},t.logger=y,t.modules={external:[]},r&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,r),h(t,c(t));setTimeout((function(){t.init(n,r)}),0)}return t}return d(e,t),l(e,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),this.options=a({},G(),this.options,W(e)),this.format=this.options.interpolation.format,n||(n=K),!this.options.isClone){this.modules.logger?y.init(r(this.modules.logger),this.options):y.init(null,this.options);var i=new N(this.options);this.store=new P(this.options.resources,this.options);var o=this.services;o.logger=y,o.resourceStore=this.store,o.languageUtils=i,o.pluralResolver=new V(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new B(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new U(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new k(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var s=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var u=b(),l=function(){t.changeLanguage(t.options.lng,(function(e,r){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),u.resolve(r),n(e,r)}))};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,r=n,i="string"==typeof t?t:this.language;if("function"==typeof t&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){o.indexOf(t)<0&&o.push(t)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(t){return a(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return a(t)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(t,e,n){var r=b();return t||(t=this.languages),e||(e=this.options.ns),n||(n=K),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&R.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=b();this.emit("languageChanging",t);var i=function(t){t&&(n.language||(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t)),n.translator.language||n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(t,(function(i){!function(t,i){i?(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(i,t)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e){var n=this,r=function t(e,r){var o;if("object"!==i(r)){for(var s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];o=n.options.overloadTranslationOptionHandler([e,r].concat(u))}else o=a({},r);return o.lng=o.lng||t.lng,o.lngs=o.lngs||t.lngs,o.ns=o.ns||t.ns,n.t(e,o)};return"string"==typeof t?r.lng=t:r.lngs=t,r.ns=e,r}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var o=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};return!!this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||!(!o(n,t)||r&&!o(i,t))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=b();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=b();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],i=t.filter((function(t){return r.indexOf(t)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new e(t,n)}},{key:"cloneInstance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,i=a({},this.options,n,{isClone:!0}),o=new e(i),s=["store","services","language"];return s.forEach((function(e){o[e]=t[e]})),o.translator=new k(o.services,o.options),o.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t].concat(n))})),o.init(i,r),o.translator.options=o.options,o}}]),e}(v)),Y=n(1),q=n(10),X=n.n(q),Z=n(3),J=n.n(Z),Q=n(4),$=n.n(Q),tt=n(5),et=n.n(tt),nt=n(2),rt=n.n(nt),it=n(6),ot=n.n(it),at=n(7),st=n.n(at),ut=n(0),lt=n.n(ut),ct=n(11),ht=n.n(ct),ft={wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",translateFuncName:"t",nsMode:"default",usePureComponent:!1,omitBoundRerender:!0,transEmptyNodeValue:""};function pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ft=J()({},ft,t)}function dt(t){z=t}var gt={type:"3rdParty",init:function(t){pt(t.options.react),dt(t)}},mt=lt.a.createContext();function yt(){return function(t){var e,n=function(t){return function(e){function n(){return $()(this,n),rt()(this,ot()(n).apply(this,arguments))}return st()(n,e),et()(n,[{key:"render",value:function(){var e=this.props,n=e.innerRef,r=X()(e,["innerRef"]);return n&&(r.ref=n),lt.a.createElement(mt.Consumer,null,(function(e){return lt.a.createElement(t,J()({},e,r))}))}}]),n}(ut.Component)}(function(e){function n(){return $()(this,n),rt()(this,ot()(n).apply(this,arguments))}return st()(n,e),et()(n,[{key:"render",value:function(){var e=this,n=this.props,r=n.innerRef,i=X()(n,["innerRef"]);r&&(i.ref=r);var o={},a=this.props.i18nOptions||this.i18nOptions,s=this.props.i18n||z;if(!a){var u=Object.keys(ft).reduce((function(t,n){return e.props[n]&&(t[n]=e.props[n]),t}),{});a=J()({},ft,s&&s.options&&s.options.react,u),this.i18nOptions=a}return s&&(o.i18n=s,o.t=s.t.bind(s),o.lng=s.language,o.i18nOptions=a),lt.a.createElement(t,J()({},o,i))}}]),n}(ut.Component));return n.WrappedComponent=t,n.displayName="WithMergedOptions(".concat((e=t).displayName||e.name||"Component",")"),ht()(n,t)}}var vt=n(9),bt=n.n(vt),Et=!1,_t=function(t){function e(t){var n;if($()(this,e),n=rt()(this,ot()(e).call(this,t)),!t.i18n)return n.state={i18nLoadedAt:null,ready:!1},rt()(n,Object(Y.e)("You will need pass in an i18next instance either by props, using I18nextProvider or by using i18nextReactModule. Learn more https://react.i18next.com/components/overview#getting-the-i-18-n-function-into-the-flow"));if("function"==typeof t.i18n.then)return n.state={i18nLoadedAt:null,ready:!1},rt()(n,Object(Y.e)("Detected a promise instead of an i18next instance. Probably you passed the return value of the i18next.init() function, this is not possible anymore with v13 of i18next. Just pass in the i18next instance directly."));Object(Y.b)(t),t.i18n.options&&t.i18n.options.isInitialSSR&&(t.i18nOptions.wait=!1);var r=n.getNamespaces();t.reportNS&&r.forEach(t.reportNS);var i=t.i18n.languages&&t.i18n.languages[0],o=!!i&&r.every((function(e){return t.i18n.hasResourceBundle(i,e)}));return n.state={i18nLoadedAt:null,ready:o},n.t=n.getI18nTranslate(),n.onI18nChanged=n.onI18nChanged.bind(bt()(bt()(n))),n.getI18nTranslate=n.getI18nTranslate.bind(bt()(bt()(n))),n.namespaces=n.getNamespaces.bind(bt()(bt()(n))),n}return st()(e,t),et()(e,[{key:"componentDidMount",value:function(){this.loadNamespaces()}},{key:"componentDidUpdate",value:function(t){this.props.ns&&t.ns!==this.props.ns&&this.loadNamespaces()}},{key:"componentWillUnmount",value:function(){var t=this,e=this.props,n=e.i18n,r=e.i18nOptions;this.mounted=!1,this.onI18nChanged&&(r.bindI18n&&r.bindI18n.split(" ").forEach((function(e){return n.off(e,t.onI18nChanged)})),r.bindStore&&r.bindStore.split(" ").forEach((function(e){return n.store&&n.store.off(e,t.onI18nChanged)})))}},{key:"onI18nChanged",value:function(){var t=this.props.i18nOptions,e=this.state.ready;this.mounted&&(!e&&t.omitBoundRerender||(this.t=this.getI18nTranslate(),this.setState({i18nLoadedAt:new Date})))}},{key:"getI18nTranslate",value:function(){var t=this.props,e=t.i18n,n=t.i18nOptions,r=this.getNamespaces();return e.getFixedT(null,"fallback"===n.nsMode?r:r&&r.length?r[0]:"translation")}},{key:"getNamespaces",value:function(){var t=this.props,e=t.i18n,n=t.ns,r=t.defaultNS,i="function"==typeof n?n(this.props):n||r||e.options&&e.options.defaultNS;return"string"==typeof i?[i]:i||[]}},{key:"loadNamespaces",value:function(){var t=this,e=this.props,n=e.i18n,r=e.i18nOptions,i=this.state.ready,o=function(){r.bindI18n&&n&&n.on(r.bindI18n,t.onI18nChanged),r.bindStore&&n.store&&n.store.on(r.bindStore,t.onI18nChanged)};this.mounted=!0,n.loadNamespaces(this.getNamespaces(),(function(){var e=function(){t.mounted&&!i&&t.setState({ready:!0},(function(){r.wait||t.onI18nChanged()})),r.wait&&t.mounted&&o()};n.isInitialized?e():n.on("initialized",(function t(){setTimeout((function(){n.off("initialized",t)}),1e3),e()}))})),r.wait||o()}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.i18n,r=t.defaultNS,i=t.reportNS,o=t.i18nOptions,a=(this.state||{ready:!1}).ready,s=this.t;return!a&&o.wait?null:(n.options&&n.options.isInitialSSR&&!Et&&(Et=!0,setTimeout((function(){delete n.options.isInitialSSR}),100)),lt.a.createElement(mt.Provider,{value:{i18n:n,t:s,defaultNS:r,reportNS:i,lng:n&&n.language}},e(this.t,{i18n:n,t:s,lng:n.language,ready:a})))}}]),e}(ut.Component),wt=yt()(_t);function St(t){return t.displayName||t.name||"Component"}function xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=function(r){function i(){return $()(this,i),rt()(this,ot()(i).apply(this,arguments))}return st()(i,r),et()(i,[{key:"shouldComponentUpdate",value:function(t){return!this.props.i18nOptions.usePureComponent&&!e.usePureComponent||!Object(Y.c)(this.props,t)}},{key:"render",value:function(){var r=this,i=this.props,o=i.namespaces,a=i.i18nOptions,s=J()({},a,e),u={};return s.innerRef&&(u.ref=s.innerRef),lt.a.createElement(wt,J()({ns:o||t},this.props,{i18nOptions:Object.keys(s).length>0?s:null}),(function(t,e){var i=e.ready,o=X()(e,["ready"]);return lt.a.createElement(n,J()({tReady:i},r.props,u,o))}))}}]),i}(ut.Component),i=yt()(r);return i.WrappedComponent=n,i.displayName="LoadNamespace(".concat(St(n),")"),i.namespaces=t,ht()(i,n)}}xt.setDefaults=pt,xt.setI18n=dt;var Tt=n(8),Ot=n.n(Tt),Ct=n(14),At=n.n(Ct);function Lt(t){return t&&(t.children||t.props&&t.props.children)}function Pt(t){return t&&t.children?t.children:t.props&&t.props.children}function Rt(t,e,n){if(""===e)return[];if(!t)return[e];var r={};!function t(e){"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e.forEach((function(e){"string"!=typeof e&&(Lt(e)?t(Pt(e)):"object"!==Ot()(e)||lt.a.isValidElement(e)||Object.assign(r,e))}))}(t),e=n.services.interpolator.interpolate(e,r,n.language);var i=function t(e,n){return"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),n.reduce((function(n,r,i){if("tag"===r.type){var o=e[parseInt(r.name,10)]||{},a=lt.a.isValidElement(o);if("string"==typeof o)n.push(o);else if(Lt(o)){var s=t(Pt(o),r.children);o.dummy&&(o.children=s),n.push(lt.a.cloneElement(o,J()({},o.props,{key:i}),s))}else if("object"!==Ot()(o)||a)n.push(o);else{var u=r.children[0]?r.children[0].content:null;u&&n.push(u)}}else"text"===r.type&&n.push(r.content);return n}),[])}([{dummy:!0,children:t}],At.a.parse("<0>".concat(e,"</0>")));return Pt(i[0])}var Mt=function(t){function e(){return $()(this,e),rt()(this,ot()(e).apply(this,arguments))}return st()(e,t),et()(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.count,r=t.parent,i=t.i18nKey,o=t.tOptions,a=t.values,s=t.defaults,u=t.components,l=t.ns,c=t.i18n,h=t.t,f=(t.defaultNS,t.reportNS,t.lng,t.i18nOptions,X()(t,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t","defaultNS","reportNS","lng","i18nOptions"])),p=h||c.t.bind(c),d=c.options&&c.options.react||{},g=void 0!==r?r:d.defaultTransParent,m=s||function t(e,n,r){return n?("[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),n.forEach((function(n,r){var i="".concat(r);if("string"==typeof n)e="".concat(e).concat(n);else if(Lt(n))e="".concat(e,"<").concat(i,">").concat(t("",Pt(n)),"</").concat(i,">");else if(lt.a.isValidElement(n))e="".concat(e,"<").concat(i,"></").concat(i,">");else if("object"===Ot()(n)){var o=J()({},n),a=o.format;delete o.format;var s=Object.keys(o);a&&1===s.length?e="".concat(e,"{{").concat(s[0],", ").concat(a,"}}"):1===s.length?e="".concat(e,"{{").concat(s[0],"}}"):Object(Y.d)("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",n)}else Object(Y.d)("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",n)})),e):""}("",e)||d.transEmptyNodeValue,y=d.hashTransKey,v=i||(y?y(m):m),b=a?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},E=v?p(v,J()({},o,a,b,{defaultValue:m,count:n,ns:l})):m;if(d.exposeNamespace){var _="string"==typeof p.ns?p.ns:p.ns[0];i&&c.options&&c.options.nsSeparator&&i.indexOf(c.options.nsSeparator)>-1&&(_=i.split(c.options.nsSeparator)[0]),p.ns&&(f["data-i18next-options"]=JSON.stringify({ns:_}))}return g?lt.a.createElement(g,f,Rt(u||e,E,c)):Rt(u||e,E,c)}}]),e}(lt.a.Component),kt=(yt()(Mt),ut.Component,function(t){function e(t){var n;return $()(this,e),n=rt()(this,ot()(e).call(this,t)),Object(Y.a)('Interpolate is deprecated and will be removed in the next major version (v9.0.0). Usage can be replaced by the "Trans" component'),n}return st()(e,t),et()(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.i18n,r=e.t,i=e.i18nKey,o=e.options,a=e.className,s=e.style,u=this.props.parent||"span",l=this.props.regexp||n.services.interpolator.regexp,c=this.props.useDangerouslySetInnerHTML||!1,h=this.props.dangerouslySetInnerHTMLPartElement||"span",f=r(i,J()({},{},o,{interpolation:{prefix:"#$?",suffix:"?$#"}}));if(!f||"string"!=typeof f)return lt.a.createElement("noscript",null);var p=[];f.split(l).reduce((function(e,r,i){var o;if(i%2==0){if(0===r.length)return e;o=c?lt.a.createElement(h,{dangerouslySetInnerHTML:{__html:r}}):r}else o=function(t,e){if(t.indexOf(n.options.interpolation.formatSeparator)<0)return void 0===e[t]&&n.services.logger.warn("interpolator: missed to pass in variable ".concat(t," for interpolating ").concat(f)),e[t];var r=t.split(n.options.interpolation.formatSeparator),i=r.shift().trim(),o=r.join(n.options.interpolation.formatSeparator).trim();return void 0===e[i]&&n.services.logger.warn("interpolator: missed to pass in variable ".concat(i," for interpolating ").concat(f)),n.options.interpolation.format(e[i],o,n.language)}(r,t.props);return e.push(o),e}),p);var d={};if(n.options.react&&n.options.react.exposeNamespace){var g="string"==typeof r.ns?r.ns:r.ns[0];i&&n.options.nsSeparator&&i.indexOf(n.options.nsSeparator)>-1&&(g=i.split(n.options.nsSeparator)[0]),r.ns&&(d["data-i18next-options"]=JSON.stringify({ns:g}))}return a&&(d.className=a),s&&(d.style=s),lt.a.createElement.apply(this,[u,d].concat(p))}}]),e}(ut.Component)),It=(yt()(kt),n(15)),Nt=n(16),Dt={cz:{backOffice:n(17),common:It},en:{backOffice:n(18),common:Nt}};H.use(gt).init({resources:Dt,lng:"en",fallbackLng:"en",keySeparator:".",interpolation:{escapeValue:!1},defaultNS:"common",fallbackNS:"common"});var jt=H,Ft={addI18nResources:function(t,e){Object(r.forIn)(e,(function(e,n){jt.addResourceBundle(n,t,e,!0,!0)}))}};n.d(e,"i18n",(function(){return jt})),n.d(e,"localesUtils",(function(){return Ft})),n.d(e,"withNamespaces",(function(){return xt})),e.default={i18n:jt,localesUtils:Ft,withNamespaces:xt}}]))},function(t,e,n){var r=n(4),i=n(52);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndicatorsContainer=e.indicatorsContainerCSS=e.ValueContainer=e.valueContainerCSS=e.SelectContainer=e.containerCSS=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=n(6);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.containerCSS=function(t){var e=t.isDisabled;return{label:"container",direction:t.isRtl?"rtl":null,pointerEvents:e?"none":null,position:"relative"}},e.SelectContainer=function(t){var e=t.children,n=t.className,o=t.cx,a=t.getStyles,s=t.innerProps,u=t.isDisabled,l=t.isRtl;return r.default.createElement("div",h({className:o((0,i.css)(a("container",t)),{"--is-disabled":u,"--is-rtl":l},n)},s),e)},e.valueContainerCSS=function(t){var e=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(e.baseUnit/2,"px ").concat(2*e.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}};var f=function(t){function e(){return a(this,e),u(this,l(e).apply(this,arguments))}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,o=t.cx,a=t.isMulti,s=t.getStyles,u=t.hasValue;return r.default.createElement("div",{className:o((0,i.css)(s("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":u},n)},e)}}])&&s(n.prototype,o),e}(r.Component);e.ValueContainer=f,e.indicatorsContainerCSS=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},e.IndicatorsContainer=function(t){var e=t.children,n=t.className,o=t.cx,a=t.getStyles;return r.default.createElement("div",{className:o((0,i.css)(a("indicatorsContainer",t)),{indicators:!0},n)},e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.css=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(6);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.css=function(t){var e=t.isDisabled,n=t.isFocused,r=t.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:e?i.neutral5:i.neutral0,borderColor:e?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},e.default=function(t){var e=t.children,n=t.cx,r=t.getStyles,s=t.className,u=t.isDisabled,l=t.isFocused,c=t.innerRef,h=t.innerProps,f=t.menuIsOpen;return i.default.createElement("div",a({ref:c,className:n((0,o.css)(r("control",t)),{control:!0,"control--is-disabled":u,"control--is-focused":l,"control--menu-is-open":f},s)},h),e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GroupHeading=e.groupHeadingCSS=e.groupCSS=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(6);function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){s(t,e,n[e])}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.groupCSS=function(t){var e=t.theme.spacing;return{paddingBottom:2*e.baseUnit,paddingTop:2*e.baseUnit}},e.groupHeadingCSS=function(t){var e=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*e.baseUnit,paddingRight:3*e.baseUnit,textTransform:"uppercase"}},e.GroupHeading=function(t){var e=t.className,n=t.cx,r=t.getStyles,s=t.theme,l=(t.selectProps,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,["className","cx","getStyles","theme","selectProps"]));return i.default.createElement("div",u({className:n((0,o.css)(r("groupHeading",a({theme:s},l))),{"group-heading":!0},e)},l))},e.default=function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,s=t.Heading,l=t.headingProps,c=t.label,h=t.theme,f=t.selectProps;return i.default.createElement("div",{className:r((0,o.css)(a("group",t)),{group:!0},n)},i.default.createElement(s,u({},l,{selectProps:f,theme:h,getStyles:a,cx:r}),c),i.default.createElement("div",null,e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.inputCSS=void 0;var r=a(n(0)),i=n(6),o=a(n(72));function a(t){return t&&t.__esModule?t:{default:t}}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){l(t,e,n[e])}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.inputCSS=function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:e?"hidden":"visible",color:i.neutral80}};var c=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}};e.default=function(t){var e=t.className,n=t.cx,a=t.getStyles,l=t.innerRef,h=t.isHidden,f=t.isDisabled,p=t.theme,d=(t.selectProps,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return r.default.createElement("div",{className:(0,i.css)(a("input",u({theme:p},d)))},r.default.createElement(o.default,s({className:n(null,{input:!0},e),inputRef:l,inputStyle:c(h),disabled:f},d)))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MultiValueRemove=e.MultiValueLabel=e.MultiValueContainer=e.MultiValueGeneric=e.multiValueRemoveCSS=e.multiValueLabelCSS=e.multiValueCSS=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=n(6),o=n(10);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){u(t,e,n[e])}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}e.multiValueCSS=function(t){var e=t.theme,n=e.spacing,r=e.borderRadius;return{label:"multiValue",backgroundColor:e.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},e.multiValueLabelCSS=function(t){var e=t.theme,n=e.borderRadius,r=e.colors,i=t.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},e.multiValueRemoveCSS=function(t){var e=t.theme,n=e.spacing,r=e.borderRadius,i=e.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:t.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}};var g=function(t){var e=t.children,n=t.innerProps;return r.default.createElement("div",n,e)};e.MultiValueGeneric=g;var m=g;e.MultiValueContainer=m;var y=g;e.MultiValueLabel=y;var v=function(t){function e(){return l(this,e),f(this,p(e).apply(this,arguments))}return d(e,t),h(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.innerProps;return r.default.createElement("div",n,e||r.default.createElement(o.CrossIcon,{size:14}))}}]),e}(r.Component);e.MultiValueRemove=v;var b=function(t){function e(){return l(this,e),f(this,p(e).apply(this,arguments))}return d(e,t),h(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,o=t.components,a=t.cx,u=t.data,l=t.getStyles,c=t.innerProps,h=t.isDisabled,f=t.removeProps,p=t.selectProps,d=o.Container,g=o.Label,m=o.Remove,y=s({className:a((0,i.css)(l("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":h},n)},c),v={className:a((0,i.css)(l("multiValueLabel",this.props)),{"multi-value__label":!0},n)},b=s({className:a((0,i.css)(l("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},f);return r.default.createElement(d,{data:u,innerProps:y,selectProps:p},r.default.createElement(g,{data:u,innerProps:v,selectProps:p},e),r.default.createElement(m,{data:u,innerProps:b,selectProps:p}))}}]),e}(r.Component);u(b,"defaultProps",{cropWithEllipsis:!0});var E=b;e.default=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.optionCSS=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(6);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.optionCSS=function(t){var e=t.isDisabled,n=t.isFocused,r=t.isSelected,i=t.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:e?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!e&&(r?a.primary:a.primary50)}}},e.default=function(t){var e=t.children,n=t.className,r=t.cx,s=t.getStyles,u=t.isDisabled,l=t.isFocused,c=t.isSelected,h=t.innerRef,f=t.innerProps;return i.default.createElement("div",a({ref:h,className:r((0,o.css)(s("option",t)),{option:!0,"option--is-disabled":u,"option--is-focused":l,"option--is-selected":c},n)},f),e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.placeholderCSS=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(6);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.placeholderCSS=function(t){var e=t.theme,n=e.spacing;return{label:"placeholder",color:e.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},e.default=function(t){var e=t.children,n=t.className,r=t.cx,s=t.getStyles,u=t.innerProps;return i.default.createElement("div",a({className:r((0,o.css)(s("placeholder",t)),{placeholder:!0},n)},u),e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.css=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(6);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.css=function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:e?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},e.default=function(t){var e=t.children,n=t.className,r=t.cx,s=t.getStyles,u=t.isDisabled,l=t.innerProps;return i.default.createElement("div",a({className:r((0,o.css)(s("singleValue",t)),{"single-value":!0,"single-value--is-disabled":u},n)},l),e)}},function(t){t.exports=JSON.parse('{"requiredFieldLabel":"Povinn\xe9"}')},function(t){t.exports=JSON.parse('{"requiredFieldLabel":"Required"}')},function(t,e){t.exports=u},function(t,e){t.exports=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.makeCreatableSelect=e.defaultProps=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=s(n(53)),o=n(8),a=s(n(75));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=String(t).toLowerCase(),r=String(e.value).toLowerCase(),i=String(e.label).toLowerCase();return r===n||i===n},y=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){g(t,e,n[e])}))}return t}({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,e,n){return!(!t||e.some((function(e){return m(t,e)}))||n.some((function(e){return m(t,e)})))},getNewOptionData:function(t,e){return{label:e,value:t,__isNew__:!0}}});e.defaultProps=y;var v=function(t){var e,n;return n=e=function(e){function n(t){var e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r=f(n).call(this,t),e=!r||"object"!==u(r)&&"function"!=typeof r?d(this):r,g(d(d(e)),"select",void 0),g(d(d(e)),"onChange",(function(t,n){var r=e.props,i=r.getNewOptionData,a=r.inputValue,s=r.isMulti,u=r.onChange,l=r.onCreateOption,h=r.value;if("select-option"!==n.action)return u(t,n);var f=e.state.newOption,p=Array.isArray(t)?t:[t];if(p[p.length-1]!==f)u(t,n);else if(l)l(a);else{var d=i(a,a);u(s?[].concat(c((0,o.cleanValue)(h)),[d]):d,{action:"create-option"})}}));var i=t.options||[];return e.state={newOption:void 0,options:i},e}var i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(n,e),i=n,(a=[{key:"componentWillReceiveProps",value:function(t){var e=t.allowCreateWhileLoading,n=t.createOptionPosition,r=t.formatCreateLabel,i=t.getNewOptionData,a=t.inputValue,s=t.isLoading,u=t.isValidNewOption,l=t.value,h=t.options||[],f=this.state.newOption;f=u(a,(0,o.cleanValue)(l),h)?i(a,r(a)):void 0,this.setState({newOption:f,options:!e&&s||!f?h:"first"===n?[f].concat(c(h)):[].concat(c(h),[f])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var e=this,n=l({},this.props),i=this.state.options;return r.default.createElement(t,l({},n,{ref:function(t){e.select=t},options:i,onChange:this.onChange}))}}])&&h(i.prototype,a),n}(r.Component),g(e,"defaultProps",y),n};e.makeCreatableSelect=v;var b=v(i.default),E=(0,a.default)(b);e.default=E},function(t,e,n){t.exports=function(){"use strict";return function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,r,i,o,a,s,u,l,c,h){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return t(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}}()},function(t,e,n){"use strict";var r={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=function(t){function e(t,e,r){var i=e.trim().split(d);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=n(t,e[s],r).trim();break;default:var u=s=0;for(e=[];s<o;++s)for(var l=0;l<a;++l)e[u++]=n(t[l]+" ",i[s],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(g,"$1"+t.trim());case 58:return t.trim()+e.replace(g,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(g,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,o){var a=t+";",s=2*e+3*n+4*o;if(944===s){t=a.indexOf(":",9)+1;var u=a.substring(t,a.length-1).trim();return u=a.substring(0,t).trim()+u+";",1===L||2===L&&i(u,1)?"-webkit-"+u+u:u}if(0===L||2===L&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(T,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return f.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(e=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(u=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(w,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(w,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===x.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function i(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),k(2!==e?r:r.replace(S,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(_," or ($1)").substring(4):"("+e+")"}function a(t,e,n,r,i,o,a,s,l,c){for(var h,f=0,p=e;f<M;++f)switch(h=R[f].call(u,t,p,n,r,i,o,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==e)return p}function s(t){return void 0!==(t=t.prefix)&&(k=null,t?"function"!=typeof t?L=1:(L=2,k=t):L=0),s}function u(t,n){var s=t;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<M){var u=a(-1,n,s,s,C,O,0,0,0,0);void 0!==u&&"string"==typeof u&&(n=u)}var h=function t(n,s,u,h,f){for(var p,d,g,b,_,w=0,S=0,x=0,T=0,R=0,k=0,N=g=p=0,D=0,j=0,F=0,V=0,B=u.length,U=B-1,G="",W="",K="",z="";D<B;){if(d=u.charCodeAt(D),D===U&&0!==S+T+x+w&&(0!==S&&(d=47===S?10:47),T=x=w=0,B++,U++),0===S+T+x+w){if(D===U&&(0<j&&(G=G.replace(c,"")),0<G.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:G+=u.charAt(D)}d=59}switch(d){case 123:for(p=(G=G.trim()).charCodeAt(0),g=1,V=++D;D<B;){switch(d=u.charCodeAt(D)){case 123:g++;break;case 125:g--;break;case 47:switch(d=u.charCodeAt(D+1)){case 42:case 47:t:{for(N=D+1;N<U;++N)switch(u.charCodeAt(N)){case 47:if(42===d&&42===u.charCodeAt(N-1)&&D+2!==N){D=N+1;break t}break;case 10:if(47===d){D=N+1;break t}}D=N}}break;case 91:d++;case 40:d++;case 34:case 39:for(;D++<U&&u.charCodeAt(D)!==d;);}if(0===g)break;D++}switch(g=u.substring(V,D),0===p&&(p=(G=G.replace(l,"").trim()).charCodeAt(0)),p){case 64:switch(0<j&&(G=G.replace(c,"")),d=G.charCodeAt(1)){case 100:case 109:case 115:case 45:j=s;break;default:j=P}if(V=(g=t(s,j,g,d,f+1)).length,0<M&&(_=a(3,g,j=e(P,G,F),s,C,O,V,d,f,h),G=j.join(""),void 0!==_&&0===(V=(g=_.trim()).length)&&(d=0,g="")),0<V)switch(d){case 115:G=G.replace(E,o);case 100:case 109:case 45:g=G+"{"+g+"}";break;case 107:g=(G=G.replace(m,"$1 $2"))+"{"+g+"}",g=1===L||2===L&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=G+g,112===h&&(W+=g,g="")}else g="";break;default:g=t(s,e(s,G,F),g,h,f+1)}K+=g,g=F=j=N=p=0,G="",d=u.charCodeAt(++D);break;case 125:case 59:if(1<(V=(G=(0<j?G.replace(c,""):G).trim()).length))switch(0===N&&(p=G.charCodeAt(0),45===p||96<p&&123>p)&&(V=(G=G.replace(" ",":")).length),0<M&&void 0!==(_=a(1,G,s,n,C,O,W.length,h,f,h))&&0===(V=(G=_.trim()).length)&&(G="\0\0"),p=G.charCodeAt(0),d=G.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){z+=G+u.charAt(D);break}default:58!==G.charCodeAt(V-1)&&(W+=r(G,p,d,G.charCodeAt(2)))}F=j=N=p=0,G="",d=u.charCodeAt(++D)}}switch(d){case 13:case 10:47===S?S=0:0===1+p&&107!==h&&0<G.length&&(j=1,G+="\0"),0<M*I&&a(0,G,s,n,C,O,W.length,h,f,h),O=1,C++;break;case 59:case 125:if(0===S+T+x+w){O++;break}default:switch(O++,b=u.charAt(D),d){case 9:case 32:if(0===T+w+S)switch(R){case 44:case 58:case 9:case 32:b="";break;default:32!==d&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===T+S+w&&(j=F=1,b="\f"+b);break;case 108:if(0===T+S+w+A&&0<N)switch(D-N){case 2:112===R&&58===u.charCodeAt(D-3)&&(A=R);case 8:111===k&&(A=k)}break;case 58:0===T+S+w&&(N=D);break;case 44:0===S+x+T+w&&(j=1,b+="\r");break;case 34:case 39:0===S&&(T=T===d?0:0===T?d:T);break;case 91:0===T+S+x&&w++;break;case 93:0===T+S+x&&w--;break;case 41:0===T+S+w&&x--;break;case 40:if(0===T+S+w){if(0===p)switch(2*R+3*k){case 533:break;default:p=1}x++}break;case 64:0===S+x+T+w+N+g&&(g=1);break;case 42:case 47:if(!(0<T+w+x))switch(S){case 0:switch(2*d+3*u.charCodeAt(D+1)){case 235:S=47;break;case 220:V=D,S=42}break;case 42:47===d&&42===R&&V+2!==D&&(33===u.charCodeAt(V+2)&&(W+=u.substring(V,D+1)),b="",S=0)}}0===S&&(G+=b)}k=R,R=d,D++}if(0<(V=W.length)){if(j=s,0<M&&void 0!==(_=a(2,W,j,n,C,O,V,h,f,h))&&0===(W=_).length)return z+W+K;if(W=j.join(",")+"{"+W+"}",0!=L*A){switch(2!==L||i(W,2)||(A=0),A){case 111:W=W.replace(v,":-moz-$1")+W;break;case 112:W=W.replace(y,"::-webkit-input-$1")+W.replace(y,"::-moz-$1")+W.replace(y,":-ms-input-$1")+W}A=0}}return z+W+K}(P,s,n,0,0);return 0<M&&void 0!==(u=a(-2,h,s,s,C,O,h.length,0,0,0))&&(h=u),A=0,O=C=1,h}var l=/^\0+/g,c=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,d=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,w=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,O=1,C=1,A=0,L=1,P=[],R=[],M=0,k=null,I=0;return u.use=function t(e){switch(e){case void 0:case null:M=R.length=0;break;default:switch(e.constructor){case Array:for(var n=0,r=e.length;n<r;++n)t(e[n]);break;case Function:R[M++]=e;break;case Boolean:I=0|!!e}}return t},u.set=s,void 0!==t&&s(t),u},o=n(28),a=n.n(o),s=/[A-Z]|^ms/g,u=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){return t.replace(s,"-$&").toLowerCase()})),l=function(t,e){return null==e||"boolean"==typeof e?"":1===r[t]||45===t.charCodeAt(1)||isNaN(e)||0===e?e:e+"px"},c=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"function":a=t([o()]);break;case"object":if(Array.isArray(o))a=t(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i},h="undefined"!=typeof document;function f(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key||""),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),(void 0!==t.container?t.container:document.head).appendChild(e),e}var p=function(){function t(t){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=t}var e=t.prototype;return e.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=f(this.opts),this.injected=!0},e.speedy=function(t){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!t},e.insert=function(t,e){if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(this.tags[this.tags.length-1]);try{n.insertRule(t,n.cssRules.length)}catch(t){}}else{var r=f(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(t+(e||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(f(this.opts))},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0,this.injected=!1},t}();e.a=function(t,e){if(void 0!==t.__SECRET_EMOTION__)return t.__SECRET_EMOTION__;void 0===e&&(e={});var n,r,o=e.key||"css",s=a()((function(t){n+=t,h&&d.insert(t,m)}));void 0!==e.prefix&&(r={prefix:e.prefix});var f={registered:{},inserted:{},nonce:e.nonce,key:o},d=new p(e);h&&d.inject();var g=new i(r);g.use(e.stylisPlugins)(s);var m="";function y(t,e){if(null==t)return"";switch(typeof t){case"boolean":return"";case"function":return void 0!==t.__emotion_styles?t.toString():y.call(this,void 0===this?t():t(this.mergedProps,this.context),e);case"object":return _.call(this,t);default:var n=f.registered[t];return!1===e&&void 0!==n?n:t}}var v,b,E=new WeakMap;function _(t){if(E.has(t))return E.get(t);var e="";return Array.isArray(t)?t.forEach((function(t){e+=y.call(this,t,!1)}),this):Object.keys(t).forEach((function(n){"object"!=typeof t[n]?void 0!==f.registered[t[n]]?e+=n+"{"+f.registered[t[n]]+"}":e+=u(n)+":"+l(n,t[n])+";":Array.isArray(t[n])&&"string"==typeof t[n][0]&&void 0===f.registered[t[n][0]]?t[n].forEach((function(t){e+=u(n)+":"+l(n,t)+";"})):e+=n+"{"+y.call(this,t[n],!1)+"}"}),this),E.set(t,e),e}var w=/label:\s*([^\s;\n{]+)\s*;/g,S=function(t,e){return function(t){for(var e,n=t.length,r=n^n,i=0;n>=4;)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+((1540483477*(e>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&t.charCodeAt(i+2))<<16;case 2:r^=(255&t.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)}(t+e)+e},x=function(t){var e=!0,n="",r="";null==t||void 0===t.raw?(e=!1,n+=y.call(this,t,!1)):n+=t[0];for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.forEach((function(r,i){n+=y.call(this,r,46===n.charCodeAt(n.length-1)),!0===e&&void 0!==t[i+1]&&(n+=t[i+1])}),this),b=n,n=n.replace(w,(function(t,e){return r+="-"+e,""})),v=S(n,r),n};function T(t,e){void 0===f.inserted[v]&&(n="",g(t,e),f.inserted[v]=n)}var O=function(){var t=x.apply(this,arguments),e=o+"-"+v;return void 0===f.registered[e]&&(f.registered[e]=b),T("."+e,t),e};function C(t,e){var n="";return e.split(" ").forEach((function(e){void 0!==f.registered[e]?t.push(e):n+=e+" "})),n}function A(t,e){var n=[],r=C(n,t);return n.length<2?t:r+O(n,e)}function L(t){f.inserted[t]=!0}if(h){var P=document.querySelectorAll("[data-emotion-"+o+"]");Array.prototype.forEach.call(P,(function(t){d.tags[0].parentNode.insertBefore(t,d.tags[0]),t.getAttribute("data-emotion-"+o).split(" ").forEach(L)}))}var R={flush:function(){h&&(d.flush(),d.inject()),f.inserted={},f.registered={}},hydrate:function(t){t.forEach(L)},cx:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A(c(e))},merge:A,getRegisteredStyles:C,injectGlobal:function(){var t=x.apply(this,arguments);T("",t)},keyframes:function(){var t=x.apply(this,arguments),e="animation-"+v;return T("","@keyframes "+e+"{"+t+"}"),e},css:O,sheet:d,caches:f};return t.__SECRET_EMOTION__=R,R}},function(t,e,n){var r=n(4),i=n(31);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-item,a.ptr-item{height:2rem;display:flex;border-radius:.25rem;border:2px solid var(--accent30);background:var(--accent10);margin-bottom:.5rem;color:var(--accent80);position:relative}.ptr-item.disabled,a.ptr-item.disabled{pointer-events:none;border-color:var(--base30);background:var(--base10);color:var(--base30)}a.ptr-item{cursor:pointer}.ptr-item .ptr-icon.hover:hover{color:var(--accent50)}.ptr-item:hover{border-color:var(--accent50)}.ptr-item .label{padding:.125rem 0.375rem 0;line-height:calc(2rem - 4px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ptr-item .option-id{line-height:1rem;display:inline-block;width:1.75rem;font-size:.618rem;color:var(--base40)}.ptr-item .ptr-item-actions-end{padding:0 0.375rem;flex-grow:2;display:flex;justify-content:flex-end}.ptr-item .ptr-item-actions-start{padding:0 0.375rem;display:flex;justify-content:flex-end}.ptr-item .ptr-order-placeholder{width:1rem;height:1rem}.ptr-item.ptr-option-add{border-style:dashed;background:none}\n",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(33);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-icon.ptr-inline-icon {\r\n\theight: 1em;\r\n\twidth: 1em;\r\n\tfill: currentColor;\r\n}\r\n\r\n.ptr-icon-baseline .ptr-icon.ptr-inline-icon {\r\n\ttop: .2em;\r\n\tposition: relative;\r\n}\r\n\r\n.ptr-icon-inline-wrap {\r\n\tdisplay: inline-flex;\r\n\talign-self: center;\r\n}",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(35);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-adjustable-columns{display:flex;width:100%;height:100%}.ptr-adjustable-column{overflow:hidden}.ptr-adjustable-column-handle{width:0;flex:0;position:relative}.ptr-adjustable-column-handle>div{width:4px;position:absolute;left:-2px;top:0;bottom:0;z-index:10;cursor:ew-resize}.ptr-adjustable-columns.fixed .ptr-adjustable-column-handle{display:none}.ptr-adjustable-columns-content{width:100%;height:100%;overflow:auto;position:relative}\n",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(37);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-menu {\r\n\toverflow: hidden;\r\n\tbackground: #eee;\r\n\t/*box-shadow: 0 0 2px 1px rgba(0,0,0,0.3);*/\r\n\r\n\ttransition:\r\n\t\theight .2s ease-in-out,\r\n\t\tbox-shadow .1s .1s ease-in-out;\r\n}\r\n.ptr-menu.open {\r\n\tbox-shadow: 0 0 2px 1px rgba(0,0,0,0.3);\r\n\r\n\ttransition:\r\n\t\theight .2s ease-in-out,\r\n\t\tbox-shadow .1s ease-in-out;\r\n}\r\n\r\n.ptr-menu-item {\r\n\theight: 2rem;\r\n\tpadding: .25rem;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\r\n\tbackground: var(--base10);\r\n\r\n\ttransition:\r\n\t\tbackground .3s ease-in-out;\r\n}\r\n.ptr-menu-item.disabled {\r\n\tpointer-events: none;\r\n\tcolor: var(--base20);\r\n}\r\n.ptr-menu-item.disabled > .ptr-icon .line,\r\n.ptr-menu-item.disabled > .ptr-icon .polygon {\r\n\tstroke: #b7b7b7;\r\n}\r\n.ptr-menu-item:not(:first-child) {\r\n\tborder-top: 1px solid var(--base30);\r\n}\r\n\r\n\r\n.ptr-menu-item:hover {\r\n\tbackground: var(--base30);\r\n}\r\n\r\n.ptr-menu-item > .ptr-icon {\r\n\tdisplay: inline-block;\r\n\twidth: 1.25rem;\r\n\theight: 1.25rem;\r\n\tmargin: .125rem .25rem;\r\n}\r\n.ptr-menu-item > .ptr-icon .line,\r\n.ptr-menu-item > .ptr-icon .polygon {\r\n\tstroke: #333;\r\n}\r\n\r\n.ptr-menu-item-caption {\r\n\tcolor: var(--base95);\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n\tfont-size: .9375rem;\r\n\tline-height: 1.5rem;\r\n\tmargin: 0 .25rem;\r\n}\r\n\r\n.ptr-menu-item.disabled .ptr-menu-item-caption {\r\n\tcolor: var(--base30);\r\n}",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(39);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-button{background:var(--base25);color:var(--base90);border:1px solid rgba(0,0,0,0.02);border-radius:.2rem;box-shadow:0 1px 2px 0 rgba(0,0,0,0.1);display:inline-block;min-height:2rem;outline:none;padding:0 .35rem;position:relative;vertical-align:top;font-size:0;transition:background .3s ease-in-out,\r border-color .3s ease-in-out,\r color .3s ease-in-out}.ptr-button>*{position:relative;z-index:1}.ptr-button:after{content:\"\";position:absolute;left:-1px;top:-1px;bottom:-1px;right:-1px;background:transparent;transition:background .3s ease-in-out;z-index:0}.ptr-button:hover{color:var(--base100)}.ptr-button:not(.ghost):hover{border-color:transparent}.ptr-button:not(.ghost):not(.invisible):hover:after{background:rgba(255,255,255,0.15)}.ptr-button:not(.ghost):not(.invisible):not(.primary):not(.inverted):hover:after,.ptr-dark .ptr-button.inverted:not(.ghost):not(.invisible):not(.primary):hover:after{background:rgba(255,255,255,0.25)}.ptr-dark .ptr-button:not(.ghost):not(.invisible):not(.primary):not(.inverted):hover:after,.ptr-button.inverted:not(.ghost):not(.invisible):not(.primary):hover:after{background:rgba(255,255,255,0.07)}.ptr-button:focus::after{content:' ';position:absolute;top:0;right:0;bottom:0;left:0;border-radius:.2rem;box-shadow:0 0 2px 2px var(--accent50);pointer-events:none}.ptr-button:focus::after,.ptr-button.inverted.primary:focus::after{border:1px solid rgba(var(--base100rgb), 0.5)}.ptr-button.primary:focus::after,.ptr-button.inverted:focus::after{border:1px solid rgba(var(--base0rgb), 0.5)}.ptr-button.ghost:focus::after,.ptr-button.invisible:focus::after{border:0}.ptr-button-caption{display:inline-block;vertical-align:top;font-size:1rem;margin:0 0.25rem;line-height:1;padding:calc(0.55rem - 1px) 0 calc(0.45rem - 1px)}.ptr-button-content{padding:calc(0.55rem - 1px) 0 calc(0.45rem - 1px);margin:0 0.25rem;font-size:1rem}.ptr-button>.ptr-icon{display:inline-block;width:1.25rem;height:1.25rem;margin:calc(.375rem - 1px) 0.25rem}.ptr-button>.ptr-icon .line{fill:currentColor}.ptr-button>.ptr-icon .polygon{fill:transparent;stroke:currentColor}.ptr-button.large{min-height:3rem;padding:0 .5rem}.ptr-button.large:focus::after{box-shadow:0 0 3px 3px var(--accent50)}.ptr-button.large .ptr-button-caption{font-size:1.309rem;padding:calc(.8455rem - 1px) 0;margin:0 .4rem}.ptr-button.large>.ptr-icon{width:1.5rem;height:1.5rem;margin:calc(.75rem - 1px) 0.4rem}.ptr-button.small{min-height:1.5rem;padding:0 .35rem}.ptr-button.small .ptr-button-caption{font-size:.809rem;padding:calc(0.4rem - 1px) 0 calc(0.291rem - 1px);margin:0 .15rem}.ptr-button.small>.ptr-icon{width:1rem;height:1rem;margin:calc(.25rem - 1px) 0.15rem}.ptr-button.primary{background:var(--accent50);color:var(--base0)}.ptr-button.primary:hover{color:var(--base0)}.ptr-button.secondary{background:var(--accent30);color:var(--base90)}.ptr-button.invisible,.ptr-button.invisible.disabled{background:transparent;border-color:transparent;box-shadow:none}.ptr-button.invisible:hover{background:var(--base20)}.ptr-button.invisible.primary{color:var(--accent60)}.ptr-button.invisible.primary:hover{background:var(--accent20)}.ptr-button.circular{width:2.5rem;height:2.5rem;border-radius:50%;position:relative;top:-.15rem;left:-.15rem;outline:none;padding:0}.ptr-button.circular>.ptr-icon{width:1.25rem;height:1.25rem;margin:calc(.625rem - 1px)}.ptr-button.circular{padding:0}.ptr-button.circular:after{border-radius:50%}.ptr-button.circular:focus::after{border-radius:50%}.ptr-button.circular.small{width:2rem;height:2rem}.ptr-button.circular.small>.ptr-icon{width:1rem;height:1rem;margin:calc(.5rem - 1px)}.ptr-button.circular.large{width:3.5rem;height:3.5rem}.ptr-button.circular.large>.ptr-icon{width:1.5rem;height:1.5rem;margin:calc(1rem - 1px)}.ptr-button.side{padding:0}.ptr-button.side-left,.ptr-button.side-right{width:1.6rem;height:2.5rem}.ptr-button.side-left>.ptr-icon,.ptr-button.side-right>.ptr-icon{margin:calc(.625rem - 1px) calc(.2rem - 1px)}.ptr-button.side-left{border-radius:0 .2rem .2rem 0}.ptr-button.side-right{border-radius:.2rem 0 0 .2rem}.ptr-button.side-top,.ptr-button.side-bottom{height:1.6rem;width:2.5rem}.ptr-button.side-top>.ptr-icon,.ptr-button.side-bottom>.ptr-icon{margin:calc(.2rem - 1px) calc(.625rem - 1px)}.ptr-button.side-top{border-radius:0 0 .2rem .2rem}.ptr-button.side-bottom{border-radius:.2rem .2rem 0 0}.ptr-button.ghost{background:transparent;border:1px solid var(--base60);box-shadow:none;padding:0 calc(.35rem - 1px)}.ptr-button.ghost:hover{background:var(--base20)}.ptr-button.ghost.small{padding:0 calc(.35rem - 1px)}.ptr-button.ghost.large{border-width:2px;padding:0 calc(.5rem - 2px)}.ptr-button.ghost.large .ptr-button-caption{padding:calc(.8455rem - 2px) 0}.ptr-button.ghost.large .ptr-icon{margin:calc(.75rem - 2px) 0.4rem}.ptr-button.ghost.primary{border-color:var(--accent50);color:var(--accent60)}.ptr-button.ghost.primary:hover{background:var(--accent15)}.ptr-button.ghost.side{padding:0}.ptr-button.ghost.side-left{border-left-width:0}.ptr-button.ghost.side-right{border-right-width:0}.ptr-button.ghost.side-top{border-top-width:0}.ptr-button.ghost.side-bottom{border-bottom-width:0}.ptr-button.ghost.side-left>.ptr-icon,.ptr-button.ghost.side-right>.ptr-icon{margin:calc(.625rem - 1px) calc(.2rem - 1px)}.ptr-button.ghost.side-top>.ptr-icon,.ptr-button.ghost.side-bottom>.ptr-icon{margin:calc(.2rem - 1px) calc(.625rem - 1px)}.ptr-button.inverted{background:var(--base70);color:var(--base0);border-radius:.2rem}.ptr-button.primary.inverted{background:var(--accent50);color:var(--base100)}.ptr-button.primary.inverted:hover{color:var(--base100)}.ptr-button.secondary.inverted{background:var(--accent70);color:var(--base10)}.ptr-button.secondary.inverted:hover{color:var(--base0)}.ptr-button.inverted.invisible{background:transparent;border-color:transparent;box-shadow:none}.ptr-button.invisible.inverted:hover{background:var(--base80)}.ptr-button.inverted.ghost{border-color:var(--base30);background:transparent;box-shadow:none}.ptr-button.inverted.ghost:hover{background:var(--base85)}.ptr-button.inverted.ghost.primary{border-color:var(--accent50);color:var(--accent50)}.ptr-button.inverted.ghost.primary:hover{background:var(--accent95)}.ptr-button:not(.disabled){cursor:pointer}.ptr-button.disabled,.ptr-button.primary.disabled,.ptr-button.secondary.disabled{pointer-events:none;background:var(--base15);color:var(--base35)}.ptr-button.inverted.disabled,.ptr-button.primary.inverted.disabled,.ptr-button.secondary.inverted.disabled{background:var(--base85);color:var(--base65)}.ptr-button.ghost.disabled{background:transparent;border-color:var(--base25);color:var(--base35)}.ptr-button.disabled .ptr-icon .line{fill:var(--base35)}.ptr-button.disabled .ptr-icon .polygon{stroke:var(--base35)}.ptr-button-menu{position:absolute;z-index:2}.ptr-button-menu.bottom{top:100%}.ptr-button-menu.top{bottom:100%}.ptr-button-menu.left{right:0}.ptr-button-menu.right{left:0}.ptr-buttons .ptr-button{margin-bottom:.5rem}.ptr-buttons .ptr-button:not(:first-child),.ptr-buttons .ptr-button-group:not(:first-child){margin-left:.5rem}.ptr-buttons.vertical{display:flex;flex-direction:column}.ptr-buttons.vertical .ptr-button{margin-left:0;margin-bottom:0}.ptr-buttons.vertical .ptr-button:not(:first-child){margin-top:.5rem}.ptr-button-group{display:inline-block;position:relative}.ptr-button-group .ptr-button,.ptr-buttons .ptr-button-group .ptr-button{margin:0}.ptr-button-group .ptr-button:not(:last-child),.ptr-button-group .ptr-button:not(:last-child):after{border-bottom-right-radius:0;border-top-right-radius:0}.ptr-button-group .ptr-button:not(:first-child),.ptr-button-group .ptr-button:not(:first-child):after{border-bottom-left-radius:0;border-top-left-radius:0}.ptr-button-group .ptr-button:not(:first-child){border-left:0}.ptr-button-group .ptr-button:focus{z-index:2}\n",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(41);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-center {\r\n\tdisplay: flex;\r\n}\r\n.ptr-center.horizontally {\r\n\tjustify-content: center;\r\n}\r\n.ptr-center.vertically {\r\n\theight: 100%;\r\n\talign-items: center;\r\n}",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(43);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-editable-text {\r\n\tresize: none;\r\n\toverflow: hidden;\r\n\tborder: 1px solid transparent;\r\n\tbackground: transparent;\r\n\tpadding: .3rem;\r\n\tfont-size: .825rem;\r\n\tline-height: 1.5rem;\r\n\r\n\twidth: 100%;\r\n\r\n\tbox-sizing: border-box !important; /* without this fix enters infinite loop in resize() */\r\n}\r\n\r\n.ptr-editable-text.inverted {\r\n\tcolor: #ccc;\r\n}\r\n\r\ntextarea.ptr-editable-text:focus,\r\ntextarea.ptr-editable-text.empty,\r\ntextarea.ptr-editable-text.editing {\r\n\tborder: 1px dashed rgba(0,0,0,.5);\r\n}\r\n\r\ntextarea.ptr-editable-text.inverted:focus,\r\ntextarea.ptr-editable-text.inverted.empty,\r\ntextarea.ptr-editable-text.inverted.editing {\r\n\tborder-color: rgba(255,255,255,.5);\r\n}\r\n\r\ntextarea.ptr-editable-text.empty.required {\r\n\tborder-color: red;\r\n}\r\n\r\n.ptr-editable-text-message {\r\n\tmargin: -.1rem 0 .5rem;\r\n\tcolor: rgb(255,30,30);\r\n\ttext-align: right;\r\n\tfont-size: .75rem;\r\n}\r\n\r\n.ptr-editable-text.large {\r\n\tfont-size: 1.075rem;\r\n\tline-height: 1.5;\r\n}\r\n\r\ntextarea.ptr-editable-text.invisible,\r\ntextarea.ptr-editable-text.invisible:focus {\r\n\tborder: 0;\r\n}",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(45);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-fade-in-container {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.ptr-fade-in-container.vertical {\r\n\tflex-direction: column;\r\n}",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(47);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,"/* Disability */\r\n.hold-button:not(.disabled) {\r\n    cursor: pointer;\r\n}\r\n\r\n.hold-button.disabled {\r\n    pointer-events: none;\r\n}\r\n",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(49);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-input-text{border-radius:.2rem;min-width:10rem;display:flex;background:none;border:1px solid var(--base50)}.ptr-input-text.input{height:2rem}.ptr-input-text input{background:none;border:0;border-radius:.2rem;color:var(--base100);width:100%;font-size:1rem;line-height:1.5;flex:1;padding:0 .5rem;outline:none}.ptr-input-text input::placeholder{color:var(--base50)}.ptr-input-text.focus{box-shadow:0 0 2px 1px var(--accent50)}.ptr-input-text.inverted input{background:none;color:var(--base0)}.ptr-input-text.multiline{min-height:2rem}.ptr-input-text.multiline>div{width:100%}.ptr-input-text.multiline .ptr-editable-text{border-radius:.2rem;color:var(--base100);outline:none;font-size:1rem;padding:.25rem .5rem;width:100%}.ptr-input-text.multiline .ptr-editable-text:focus{box-shadow:0 0 2px 2px var(--accent50)}.ptr-input-text.disabled{border:1px solid var(--base40);background:var(--base15)}.ptr-input-text.disabled input,.ptr-input-text.disabled .ptr-editable-text{color:var(--base40)}.ptr-input-text.inverted.disabled{border-color:var(--base60);background:var(--base85)}.ptr-input-text.inverted.disabled input{color:var(--base60)}\n",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(51);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-input-wrapper{position:relative;border:1px solid var(--base40);border-radius:.2rem;margin-bottom:1.5rem;box-shadow:0.05rem 0.05rem 0.2rem 0 rgba(0,0,0,0.07)}.ptr-input-wrapper>label,.ptr-input-wrapper>div:first-child{display:block;padding:1rem}.ptr-input-wrapper label span,.ptr-input-wrapper div span{font-size:1rem;color:var(--base100)}.ptr-input-wrapper .ptr-input-label{display:inline-block;margin-bottom:.2rem}.ptr-input-wrapper-required{position:absolute;top:0;right:1rem;display:block;background:var(--base40);border:1px solid var(--base40);border-top:0;color:var(--base0);font-size:.809rem;line-height:1.5rem;padding:0 .5rem;border-radius:0 0 .2rem .2rem;box-shadow:rgba(125,125,125,0.07) 1px 2px 3px 0}.ptr-input-wrapper-info{border-top:1px solid var(--base30);color:var(--base80);font-size:.809rem;padding:.5rem 1rem;line-height:1.5}.ptr-input-wrapper>div>label{display:block}.ptr-input-wrapper>div>label:not(:first-of-type){margin-top:1rem}\n",""]),t.exports=e},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-select-container .ptr-select__control{background:var(--base0);border-radius:.25rem;height:2rem;min-height:initial;min-width:10rem;border-color:var(--base50)}.ptr-select-container .ptr-select__control:hover{border-color:var(--base70)}.ptr-select-container .ptr-select__control--is-focused{box-shadow:0 0 2px 2px var(--accent60)}.ptr-select-container .ptr-select__value-container{padding:0 .5rem;position:initial}.ptr-select-container .ptr-select__single-value{color:var(--base100)}.ptr-select-container .ptr-select__placeholder{color:var(--base70)}.ptr-select-container .ptr-select__value-container>div{padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0}.ptr-select-container .ptr-select__indicators{padding:0;height:2rem}.ptr-select-container .ptr-select__dropdown-indicator,.ptr-select-container .ptr-select__clear-indicator{color:var(--base50);cursor:pointer}.ptr-select-container .ptr-select__indicator-separator{background:var(--base50)}.ptr-select-container .ptr-select__control:hover .ptr-select__dropdown-indicator,.ptr-select-container .ptr-select__control--is-focused .ptr-select__dropdown-indicator,.ptr-select-container .ptr-select__dropdown-indicator:hover,.ptr-select-container .ptr-select__clear-indicator:hover{color:var(--base70)}.ptr-select-container .ptr-select__control:hover .ptr-select__indicator-separator,.ptr-select-container .ptr-select__control--is-focused .ptr-select__indicator-separator{background:var(--base70)}.ptr-select-container .ptr-select__control .label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:2rem}.ptr-select-container.clearable .ptr-select__control .label{padding-right:4rem}.ptr-select-container .ptr-select__menu,.ptr-select__menu{margin-top:0;z-index:10}.ptr-select__menu .ptr-select__menu-list{background-color:var(--base20);color:var(--base100);padding:0;max-height:10rem}.ptr-select__menu .ptr-select__option{padding:.25rem .75rem}.ptr-select__menu .ptr-select__option--is-focused{background-color:var(--accent30)}.ptr-select__menu .ptr-select__option--is-selected{background-color:var(--accent50)}.ptr-select__menu .ptr-select__option .label.emphasized{font-weight:700}.ptr-select-container .option-id{display:inline-block;color:var(--base50);font-size:.809rem;width:2.3rem}.ptr-select-container .ptr-select__menu .ptr-select__option--is-selected .option-id{color:var(--accent20)}.ptr-select-container.multi .ptr-select__control{height:auto}.ptr-select-container.multi .ptr-select__value-container{padding:0 0 0 .25rem}.ptr-select-container.multi .ptr-select__multi-value{margin:.15rem .3rem .15rem 0;background:var(--base25)}.ptr-select-container.multi .ptr-select__multi-value__label{color:var(--base80)}.ptr-select-container.multi .ptr-select__multi-value__remove{color:var(--base100)}.ptr-select-container.multi .ptr-select__multi-value__remove:hover{background:var(--accent35)}.ptr-select-container.clearable.multi .ptr-select__control .label{padding-right:.15rem}.ptr-select-container.disabled .ptr-select__control{border-color:var(--base30)}.ptr-select-container.disabled .ptr-select__single-value{color:var(--base50)}.ptr-select-container.disabled .ptr-select__dropdown-indicator{color:var(--base30)}.ptr-select-container.disabled .ptr-select__indicator-separator{background:var(--base30)}.ptr-select-container.disabled .option-id{color:var(--base40)}.ptr-select-container.value-is-title .ptr-select__control{background:none;border:0;border-bottom:1px dashed var(--base30);font-size:1.618rem;font-weight:400;height:2.5rem}.ptr-select-container.value-is-title .ptr-select__value-container>div{margin-top:.3rem}.ptr-select-container.value-is-title .ptr-select__indicator-separator{display:none}.ptr-select-container.value-is-title .ptr-select__indicators{margin-top:.3rem;height:2.5rem}.ptr-select-container.value-is-title .ptr-select__control--is-focused{box-shadow:none}\n",""]),t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.defaultProps=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=g(n(54)),o=n(7),a=g(n(58)),s=n(59),u=n(61),l=n(69),c=n(8),h=n(70),f=n(71),p=n(73),d=n(74);function g(t){return t&&t.__esModule?t:{default:t}}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){S(t,e,n[e])}))}return t}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={backspaceRemovesValue:!0,blurInputOnSelect:(0,c.isTouchCapable)(),captureMenuScroll:!(0,c.isTouchCapable)(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:(0,s.createFilter)(),formatGroupLabel:h.formatGroupLabel,getOptionLabel:h.getOptionLabel,getOptionValue:h.getOptionValue,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:h.isOptionDisabled,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!(0,c.isMobileDevice)(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return"".concat(e," result").concat(1!==e?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};e.defaultProps=x;var T=1,O=function(t){function e(t){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=E(e).call(this,t),n=!r||"object"!==m(r)&&"function"!=typeof r?w(this):r,S(w(w(n)),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),S(w(w(n)),"blockOptionHover",!1),S(w(w(n)),"isComposing",!1),S(w(w(n)),"clearFocusValueOnUpdate",!1),S(w(w(n)),"commonProps",void 0),S(w(w(n)),"components",void 0),S(w(w(n)),"hasGroups",!1),S(w(w(n)),"initialTouchX",0),S(w(w(n)),"initialTouchY",0),S(w(w(n)),"inputIsHiddenAfterUpdate",void 0),S(w(w(n)),"instancePrefix",""),S(w(w(n)),"openAfterFocus",!1),S(w(w(n)),"scrollToFocusedOptionOnUpdate",!1),S(w(w(n)),"userIsDragging",void 0),S(w(w(n)),"controlRef",null),S(w(w(n)),"getControlRef",(function(t){n.controlRef=t})),S(w(w(n)),"focusedOptionRef",null),S(w(w(n)),"getFocusedOptionRef",(function(t){n.focusedOptionRef=t})),S(w(w(n)),"menuListRef",null),S(w(w(n)),"getMenuListRef",(function(t){n.menuListRef=t})),S(w(w(n)),"inputRef",null),S(w(w(n)),"getInputRef",(function(t){n.inputRef=t})),S(w(w(n)),"cacheComponents",(function(t){n.components=(0,f.defaultComponents)({components:t})})),S(w(w(n)),"focus",n.focusInput),S(w(w(n)),"blur",n.blurInput),S(w(w(n)),"onChange",(function(t,e){var r=n.props;(0,r.onChange)(t,v({},e,{name:r.name}))})),S(w(w(n)),"setValue",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments.length>2?arguments[2]:void 0,i=n.props,o=i.closeMenuOnSelect,a=i.isMulti;n.onInputChange("",{action:"set-value"}),o&&(n.inputIsHiddenAfterUpdate=!a,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(t,{action:e,option:r})})),S(w(w(n)),"selectOption",(function(t){var e=n.props,r=e.blurInputOnSelect,i=e.isMulti,o=n.state.selectValue;if(i)if(n.isOptionSelected(t,o)){var a=n.getOptionValue(t);n.setValue(o.filter((function(t){return n.getOptionValue(t)!==a})),"deselect-option",t),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(t)}})}else n.isOptionDisabled(t,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t),isDisabled:!0}}):(n.setValue([].concat(function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(o),[t]),"select-option",t),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t)}}));else n.isOptionDisabled(t,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t),isDisabled:!0}}):(n.setValue(t,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t)}}));r&&n.blurInput()})),S(w(w(n)),"removeValue",(function(t){var e=n.state.selectValue,r=n.getOptionValue(t);n.onChange(e.filter((function(t){return n.getOptionValue(t)!==r})),{action:"remove-value",removedValue:t}),n.announceAriaLiveSelection({event:"remove-value",context:{value:t?n.getOptionLabel(t):""}}),n.focusInput()})),S(w(w(n)),"clearValue",(function(){var t=n.props.isMulti;n.onChange(t?[]:null,{action:"clear"})})),S(w(w(n)),"popValue",(function(){var t=n.state.selectValue,e=t[t.length-1];n.announceAriaLiveSelection({event:"pop-value",context:{value:e?n.getOptionLabel(e):""}}),n.onChange(t.slice(0,t.length-1),{action:"pop-value",removedValue:e})})),S(w(w(n)),"getOptionLabel",(function(t){return n.props.getOptionLabel(t)})),S(w(w(n)),"getOptionValue",(function(t){return n.props.getOptionValue(t)})),S(w(w(n)),"getStyles",(function(t,e){var r=p.defaultStyles[t](e);r.boxSizing="border-box";var i=n.props.styles[t];return i?i(r,e):r})),S(w(w(n)),"getElementId",(function(t){return"".concat(n.instancePrefix,"-").concat(t)})),S(w(w(n)),"getActiveDescendentId",(function(){var t=n.props.menuIsOpen,e=n.state,r=e.menuOptions,i=e.focusedOption;if(i&&t){var o=r.focusable.indexOf(i),a=r.render[o];return a&&a.key}})),S(w(w(n)),"announceAriaLiveSelection",(function(t){var e=t.event,r=t.context;n.setState({ariaLiveSelection:(0,l.valueEventAriaMessage)(e,r)})})),S(w(w(n)),"announceAriaLiveContext",(function(t){var e=t.event,r=t.context;n.setState({ariaLiveContext:(0,l.instructionsAriaMessage)(e,v({},r,{label:n.props["aria-label"]}))})})),S(w(w(n)),"onMenuMouseDown",(function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),n.focusInput())})),S(w(w(n)),"onMenuMouseMove",(function(t){n.blockOptionHover=!1})),S(w(w(n)),"onControlMouseDown",(function(t){var e=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==t.target.tagName&&n.onMenuClose():e&&n.openMenu("first"):(e&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==t.target.tagName&&t.preventDefault()})),S(w(w(n)),"onDropdownIndicatorMouseDown",(function(t){if(!(t&&"mousedown"===t.type&&0!==t.button||n.props.isDisabled)){var e=n.props,r=e.isMulti,i=e.menuIsOpen;n.focusInput(),i?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu("first"),t.preventDefault(),t.stopPropagation()}})),S(w(w(n)),"onClearIndicatorMouseDown",(function(t){t&&"mousedown"===t.type&&0!==t.button||(n.clearValue(),t.stopPropagation(),n.openAfterFocus=!1,setTimeout((function(){return n.focusInput()})))})),S(w(w(n)),"onScroll",(function(t){"boolean"==typeof n.props.closeMenuOnScroll?t.target instanceof HTMLElement&&(0,c.isDocumentElement)(t.target)&&n.props.onMenuClose():"function"==typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(t)&&n.props.onMenuClose()})),S(w(w(n)),"onCompositionStart",(function(){n.isComposing=!0})),S(w(w(n)),"onCompositionEnd",(function(){n.isComposing=!1})),S(w(w(n)),"onTouchStart",(function(t){var e=t.touches.item(0);e&&(n.initialTouchX=e.clientX,n.initialTouchY=e.clientY,n.userIsDragging=!1)})),S(w(w(n)),"onTouchMove",(function(t){var e=t.touches.item(0);if(e){var r=Math.abs(e.clientX-n.initialTouchX),i=Math.abs(e.clientY-n.initialTouchY);n.userIsDragging=r>5||i>5}})),S(w(w(n)),"onTouchEnd",(function(t){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(t.target)&&n.menuListRef&&!n.menuListRef.contains(t.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)})),S(w(w(n)),"onControlTouchEnd",(function(t){n.userIsDragging||n.onControlMouseDown(t)})),S(w(w(n)),"onClearIndicatorTouchEnd",(function(t){n.userIsDragging||n.onClearIndicatorMouseDown(t)})),S(w(w(n)),"onDropdownIndicatorTouchEnd",(function(t){n.userIsDragging||n.onDropdownIndicatorMouseDown(t)})),S(w(w(n)),"handleInputChange",(function(t){var e=t.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(e,{action:"input-change"}),n.onMenuOpen()})),S(w(w(n)),"onInputFocus",(function(t){var e=n.props,r=e.isSearchable,i=e.isMulti;n.props.onFocus&&n.props.onFocus(t),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:i}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1})),S(w(w(n)),"onInputBlur",(function(t){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(t),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))})),S(w(w(n)),"onOptionHover",(function(t){n.blockOptionHover||n.state.focusedOption===t||n.setState({focusedOption:t})})),S(w(w(n)),"shouldHideSelectedOptions",(function(){var t=n.props,e=t.hideSelectedOptions,r=t.isMulti;return void 0===e?r:e})),S(w(w(n)),"onKeyDown",(function(t){var e=n.props,r=e.isMulti,i=e.backspaceRemovesValue,o=e.escapeClearsValue,a=e.inputValue,s=e.isClearable,u=e.isDisabled,l=e.menuIsOpen,c=e.onKeyDown,h=e.tabSelectsValue,f=e.openMenuOnFocus,p=n.state,d=p.focusedOption,g=p.focusedValue,m=p.selectValue;if(!(u||"function"==typeof c&&(c(t),t.defaultPrevented))){switch(n.blockOptionHover=!0,t.key){case"ArrowLeft":if(!r||a)return;n.focusValue("previous");break;case"ArrowRight":if(!r||a)return;n.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(g)n.removeValue(g);else{if(!i)return;r?n.popValue():s&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(t.shiftKey||!l||!h||!d||f&&n.isOptionSelected(d,m))return;n.selectOption(d);break;case"Enter":if(229===t.keyCode)break;if(l){if(!d)return;if(n.isComposing)return;n.selectOption(d);break}return;case"Escape":l?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):s&&o&&n.clearValue();break;case" ":if(a)return;if(!l){n.openMenu("first");break}if(!d)return;n.selectOption(d);break;case"ArrowUp":l?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":l?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!l)return;n.focusOption("pageup");break;case"PageDown":if(!l)return;n.focusOption("pagedown");break;case"Home":if(!l)return;n.focusOption("first");break;case"End":if(!l)return;n.focusOption("last");break;default:return}t.preventDefault()}}));var o=t.value;n.cacheComponents=(0,i.default)(n.cacheComponents,a.default).bind(w(w(n))),n.cacheComponents(t.components),n.instancePrefix="react-select-"+(n.props.instanceId||++T);var s=(0,c.cleanValue)(o),u=n.buildMenuOptions(t,s);return n.state.menuOptions=u,n.state.selectValue=s,n}var n,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,t),n=e,(s=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.options,r=e.value,i=e.inputValue;if(this.cacheComponents(t.components),t.value!==r||t.options!==n||t.inputValue!==i){var o=(0,c.cleanValue)(t.value),a=this.buildMenuOptions(t,o),s=this.getNextFocusedValue(o),u=this.getNextFocusedOption(a.focusable);this.setState({menuOptions:a,selectValue:o,focusedOption:u,focusedValue:s})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.isDisabled,r=e.menuIsOpen,i=this.state.isFocused;(i&&!n&&t.isDisabled||i&&r&&!t.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(0,c.scrollIntoView)(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var t=this.props,e=t.isSearchable,n=t.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:e,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(t,e){this.props.onInputChange(t,e)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(t){var e=this.state,n=e.menuOptions,r=e.selectValue,i=e.isFocused,o=this.props.isMulti,a="first"===t?0:n.focusable.length-1;if(!o){var s=n.focusable.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[a]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(t){var e=this.props,n=e.isMulti,r=e.isSearchable,i=this.state,o=i.selectValue,a=i.focusedValue;if(n){this.setState({focusedOption:null});var s=o.indexOf(a);a||(s=-1,this.announceAriaLiveContext({event:"value"}));var u=o.length-1,l=-1;if(o.length){switch(t){case"previous":l=0===s?0:-1===s?u:s-1;break;case"next":s>-1&&s<u&&(l=s+1)}-1===l&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==l,focusedValue:o[l]})}}}},{key:"focusOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",e=this.props.pageSize,n=this.state,r=n.focusedOption,i=n.menuOptions,o=i.focusable;if(o.length){var a=0,s=o.indexOf(r);r||(s=-1,this.announceAriaLiveContext({event:"menu"})),"up"===t?a=s>0?s-1:o.length-1:"down"===t?a=(s+1)%o.length:"pageup"===t?(a=s-e)<0&&(a=0):"pagedown"===t?(a=s+e)>o.length-1&&(a=o.length-1):"last"===t&&(a=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[a],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:(0,h.isOptionDisabled)(o[a])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(d.defaultTheme):v({},d.defaultTheme,this.props.theme):d.defaultTheme}},{key:"getCommonProps",value:function(){var t=this.clearValue,e=this.getStyles,n=this.setValue,r=this.selectOption,i=this.props,o=i.classNamePrefix,a=i.isMulti,s=i.isRtl,u=i.options,l=this.state.selectValue,h=this.hasValue();return{cx:c.classNames.bind(null,o),clearValue:t,getStyles:e,getValue:function(){return l},hasValue:h,isMulti:a,isRtl:s,options:u,selectOption:r,setValue:n,selectProps:i,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(t){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var e=this.state,n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}},{key:"getNextFocusedOption",value:function(t){var e=this.state.focusedOption;return e&&t.indexOf(e)>-1?e:t[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var t=this.props,e=t.isClearable,n=t.isMulti;return void 0===e?n:e}},{key:"isOptionDisabled",value:function(t,e){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(t,e)}},{key:"isOptionSelected",value:function(t,e){var n=this;if(e.indexOf(t)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(t,e);var r=this.getOptionValue(t);return e.some((function(t){return n.getOptionValue(t)===r}))}},{key:"filterOption",value:function(t,e){return!this.props.filterOption||this.props.filterOption(t,e)}},{key:"formatOptionLabel",value:function(t,e){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(t,{context:e,inputValue:n,selectValue:r})}return this.getOptionLabel(t)}},{key:"formatGroupLabel",value:function(t){return this.props.formatGroupLabel(t)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(t,e){var n=this,r=t.inputValue,i=void 0===r?"":r,o=t.options,a=function(t,r){var o=n.isOptionDisabled(t,e),a=n.isOptionSelected(t,e),s=n.getOptionLabel(t),u=n.getOptionValue(t);if(!(n.shouldHideSelectedOptions()&&a||!n.filterOption({label:s,value:u,data:t},i))){var l=o?void 0:function(){return n.onOptionHover(t)},c=o?void 0:function(){return n.selectOption(t)},h="".concat(n.getElementId("option"),"-").concat(r);return{innerProps:{id:h,onClick:c,onMouseMove:l,onMouseOver:l,tabIndex:-1},data:t,isDisabled:o,isSelected:a,key:h,label:s,type:"option",value:u}}};return o.reduce((function(t,e,r){if(e.options){n.hasGroups||(n.hasGroups=!0);var i=e.options.map((function(e,n){var i=a(e,"".concat(r,"-").concat(n));return i&&t.focusable.push(e),i})).filter(Boolean);if(i.length){var o="".concat(n.getElementId("group"),"-").concat(r);t.render.push({type:"group",key:o,data:e,options:i})}}else{var s=a(e,"".concat(r));s&&(t.render.push(s),t.focusable.push(e))}return t}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var t=this.state,e=t.ariaLiveContext,n=t.selectValue,r=t.focusedValue,i=t.focusedOption,o=this.props,a=o.options,s=o.menuIsOpen,u=o.inputValue,c=o.screenReaderStatus,h=r?(0,l.valueFocusAriaMessage)({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"",f=i&&s?(0,l.optionFocusAriaMessage)({focusedOption:i,getOptionLabel:this.getOptionLabel,options:a}):"",p=(0,l.resultsAriaMessage)({inputValue:u,screenReaderMessage:c({count:this.countOptions()})});return"".concat(h," ").concat(f," ").concat(p," ").concat(e)}},{key:"renderInput",value:function(){var t=this.props,e=t.isDisabled,n=t.isSearchable,i=t.inputId,o=t.inputValue,a=t.tabIndex,s=this.components.Input,l=this.state.inputIsHidden,h=i||this.getElementId("input");if(!n)return r.default.createElement(u.DummyInput,{id:h,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:c.noop,onFocus:this.onInputFocus,readOnly:!0,disabled:e,tabIndex:a,value:""});var f={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},p=this.commonProps,d=p.cx,g=p.theme,m=p.selectProps;return r.default.createElement(s,y({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:d,getStyles:this.getStyles,id:h,innerRef:this.getInputRef,isDisabled:e,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:m,spellCheck:"false",tabIndex:a,theme:g,type:"text",value:o},f))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,e=this.components,n=e.MultiValue,i=e.MultiValueContainer,o=e.MultiValueLabel,a=e.MultiValueRemove,s=e.SingleValue,u=e.Placeholder,l=this.commonProps,c=this.props,h=c.controlShouldRenderValue,f=c.isDisabled,p=c.isMulti,d=c.inputValue,g=c.placeholder,m=this.state,v=m.selectValue,b=m.focusedValue,E=m.isFocused;if(!this.hasValue()||!h)return d?null:r.default.createElement(u,y({},l,{key:"placeholder",isDisabled:f,isFocused:E}),g);if(p)return v.map((function(e){var s=e===b;return r.default.createElement(n,y({},l,{components:{Container:i,Label:o,Remove:a},isFocused:s,isDisabled:f,key:t.getOptionValue(e),removeProps:{onClick:function(){return t.removeValue(e)},onTouchEnd:function(){return t.removeValue(e)},onMouseDown:function(t){t.preventDefault(),t.stopPropagation()}},data:e}),t.formatOptionLabel(e,"value"))}));if(d)return null;var _=v[0];return r.default.createElement(s,y({},l,{data:_,isDisabled:f}),this.formatOptionLabel(_,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.components.ClearIndicator,e=this.commonProps,n=this.props,i=n.isDisabled,o=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!t||i||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.default.createElement(t,y({},e,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var t=this.components.LoadingIndicator,e=this.commonProps,n=this.props,i=n.isDisabled,o=n.isLoading,a=this.state.isFocused;return t&&o?r.default.createElement(t,y({},e,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var t=this.components,e=t.DropdownIndicator,n=t.IndicatorSeparator;if(!e||!n)return null;var i=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return r.default.createElement(n,y({},i,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var t=this.components.DropdownIndicator;if(!t)return null;var e=this.commonProps,n=this.props.isDisabled,i=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.default.createElement(t,y({},e,{innerProps:o,isDisabled:n,isFocused:i}))}},{key:"renderMenu",value:function(){var t=this,e=this.components,n=e.Group,i=e.GroupHeading,a=e.Menu,s=e.MenuList,l=e.MenuPortal,c=e.LoadingMessage,h=e.NoOptionsMessage,f=e.Option,p=this.commonProps,d=this.state,g=d.focusedOption,m=d.menuOptions,v=this.props,b=v.captureMenuScroll,E=v.inputValue,_=v.isLoading,w=v.loadingMessage,S=v.minMenuHeight,x=v.maxMenuHeight,T=v.menuIsOpen,O=v.menuPlacement,C=v.menuPosition,A=v.menuPortalTarget,L=v.menuShouldBlockScroll,P=v.menuShouldScrollIntoView,R=v.noOptionsMessage,M=v.onMenuScrollToTop,k=v.onMenuScrollToBottom;if(!T)return null;var I,N=function(e){var n=g===e.data;return e.innerRef=n?t.getFocusedOptionRef:void 0,r.default.createElement(f,y({},p,e,{isFocused:n}),t.formatOptionLabel(e.data,"menu"))};if(this.hasOptions())I=m.render.map((function(e){if("group"===e.type){e.type;var o=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,["type"]),a="".concat(e.key,"-heading");return r.default.createElement(n,y({},p,o,{Heading:i,headingProps:{id:a},label:t.formatGroupLabel(e.data)}),e.options.map((function(t){return N(t)})))}if("option"===e.type)return N(e)}));else if(_){var D=w({inputValue:E});if(null===D)return null;I=r.default.createElement(c,p,D)}else{var j=R({inputValue:E});if(null===j)return null;I=r.default.createElement(h,p,j)}var F={minMenuHeight:S,maxMenuHeight:x,menuPlacement:O,menuPosition:C,menuShouldScrollIntoView:P},V=r.default.createElement(o.MenuPlacer,y({},p,F),(function(e){var n=e.ref,i=e.placerProps,o=i.placement,l=i.maxHeight;return r.default.createElement(a,y({},p,F,{innerRef:n,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:_,placement:o}),r.default.createElement(u.ScrollCaptor,{isEnabled:b,onTopArrive:M,onBottomArrive:k},r.default.createElement(u.ScrollBlock,{isEnabled:L},r.default.createElement(s,y({},p,{innerRef:t.getMenuListRef,isLoading:_,maxHeight:l}),I))))}));return A||"fixed"===C?r.default.createElement(l,y({},p,{appendTo:A,controlElement:this.controlRef,menuPlacement:O,menuPosition:C}),V):V}},{key:"renderFormField",value:function(){var t=this,e=this.props,n=e.delimiter,i=e.isDisabled,o=e.isMulti,a=e.name,s=this.state.selectValue;if(a&&!i){if(o){if(n){var u=s.map((function(e){return t.getOptionValue(e)})).join(n);return r.default.createElement("input",{name:a,type:"hidden",value:u})}var l=s.length>0?s.map((function(e,n){return r.default.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:t.getOptionValue(e)})})):r.default.createElement("input",{name:a,type:"hidden"});return r.default.createElement("div",null,l)}var c=s[0]?this.getOptionValue(s[0]):"";return r.default.createElement("input",{name:a,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?r.default.createElement(u.A11yText,{"aria-live":"assertive"},r.default.createElement("p",{id:"aria-selection-event"},"\xa0",this.state.ariaLiveSelection),r.default.createElement("p",{id:"aria-context"},"\xa0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var t=this.components,e=t.Control,n=t.IndicatorsContainer,i=t.SelectContainer,o=t.ValueContainer,a=this.props,s=a.className,u=a.id,l=a.isDisabled,c=a.menuIsOpen,h=this.state.isFocused,f=this.commonProps=this.getCommonProps();return r.default.createElement(i,y({},f,{className:s,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:h}),this.renderLiveRegion(),r.default.createElement(e,y({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:h,menuIsOpen:c}),r.default.createElement(o,y({},f,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),r.default.createElement(n,y({},f,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}])&&b(n.prototype,s),e}(r.Component);e.default=O,S(O,"defaultProps",x)},function(t,e,n){"use strict";function r(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}n.r(e),e.default=function(t,e){var n;void 0===e&&(e=r);var i,o=[],a=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return a&&n===this&&e(r,o)||(i=t.apply(this,r),a=!0,n=this,o=r),i}}},function(t,e,n){(function(e){for(var r=n(56),i="undefined"==typeof window?e:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=i[o[l]+"Request"+a],u=i[o[l]+"Cancel"+a]||i[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,h=0,f=[];s=function(t){if(0===f.length){var e=r(),n=Math.max(0,1e3/60-(e-c));c=n+e,setTimeout((function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(n))}return f.push({handle:++h,callback:t,cancelled:!1}),h},u=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return s.call(i,t)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(this,n(13))},function(t,e,n){(function(e){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,o=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(57))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){try{return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==r(e)&&"object"==r(n)){var s,u,l,c=i(e),h=i(n);if(c&&h){if((u=e.length)!=n.length)return!1;for(s=u;0!=s--;)if(!t(e[s],n[s]))return!1;return!0}if(c!=h)return!1;var f=e instanceof Date,p=n instanceof Date;if(f!=p)return!1;if(f&&p)return e.getTime()==n.getTime();var d=e instanceof RegExp,g=n instanceof RegExp;if(d!=g)return!1;if(d&&g)return e.toString()==n.toString();var m=o(e);if((u=m.length)!==o(n).length)return!1;for(s=u;0!=s--;)if(!a.call(n,m[s]))return!1;for(s=u;0!=s--;)if(!("_owner"===(l=m[s])&&e.$$typeof||t(e[l],n[l])))return!1;return!0}return e!=e&&n!=n}(t,e)}catch(t){if(t.message&&t.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",t.name,t.message),!1;throw t}};var i=Array.isArray,o=Object.keys,a=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFilter=void 0;var r=n(60);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(t){return t.replace(/^\s+|\s+$/g,"")},a=function(t){return"".concat(t.label," ").concat(t.value)};e.createFilter=function(t){return function(e,n){var s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}({ignoreCase:!0,ignoreAccents:!0,stringify:a,trim:!0,matchFrom:"any"},t),u=s.ignoreCase,l=s.ignoreAccents,c=s.stringify,h=s.trim,f=s.matchFrom,p=h?o(n):n,d=h?o(c(e)):c(e);return u&&(p=p.toLowerCase(),d=d.toLowerCase()),l&&(p=(0,r.stripDiacritics)(p),d=(0,r.stripDiacritics)(d)),"start"===f?d.substr(0,p.length)===p:d.indexOf(p)>-1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stripDiacritics=void 0;var r=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];e.stripDiacritics=function(t){for(var e=0;e<r.length;e++)t=t.replace(r[e].letters,r[e].base);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"A11yText",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"DummyInput",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"NodeResolver",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"ScrollBlock",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"ScrollCaptor",{enumerable:!0,get:function(){return s.default}});var r=u(n(62)),i=u(n(63)),o=u(n(9)),a=u(n(64)),s=u(n(68));function u(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(6);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.default=function(t){return i.default.createElement("span",a({className:(0,o.css)({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=n(6);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return s(this,e),l(this,c(e).apply(this,arguments))}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this.props,e=(t.in,t.out,t.onExited,t.appear,t.enter,t.exit,t.innerRef),n=(t.emotion,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return r.default.createElement("input",a({ref:e},n,{className:(0,i.css)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}])&&u(n.prototype,o),e}(r.Component);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=n(6),o=s(n(9)),a=s(n(65));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?d(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){function e(){var t,n;l(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return g(d(d(n=h(this,(t=f(e)).call.apply(t,[this].concat(i))))),"state",{touchScrollTarget:null}),g(d(d(n)),"getScrollTarget",(function(t){t!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:t})})),g(d(d(n)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),n}var n,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t),n=e,(s=[{key:"render",value:function(){var t=this.props,e=t.children,n=t.isEnabled,s=this.state.touchScrollTarget;return n?r.default.createElement("div",null,r.default.createElement("div",{onClick:this.blurSelectInput,className:(0,i.css)({position:"fixed",left:0,bottom:0,right:0,top:0})}),r.default.createElement(o.default,{innerRef:this.getScrollTarget},e),s?r.default.createElement(a.default,{touchScrollTarget:s}):null):e}}])&&c(n.prototype,s),e}(r.PureComponent);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=n(66),o=n(67);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?f(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=!("undefined"==typeof window||!window.document||!window.document.createElement),g=0,m=function(t){function e(){var t,n;s(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return p(f(f(n=l(this,(t=c(e)).call.apply(t,[this].concat(i))))),"originalStyles",{}),p(f(f(n)),"listenerOptions",{capture:!1,passive:!1}),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this;if(d){var e=this.props,n=e.accountForScrollbars,r=e.touchScrollTarget,a=document.body,s=a&&a.style;if(n&&i.STYLE_KEYS.forEach((function(e){var n=s&&s[e];t.originalStyles[e]=n})),n&&g<1){var u=parseInt(this.originalStyles.paddingRight,10)||0,l=document.body?document.body.clientWidth:0,c=window.innerWidth-l+u||0;Object.keys(i.LOCK_STYLES).forEach((function(t){var e=i.LOCK_STYLES[t];s&&(s[t]=e)})),s&&(s.paddingRight="".concat(c,"px"))}a&&(0,o.isTouchDevice)()&&(a.addEventListener("touchmove",o.preventTouchMove,this.listenerOptions),r&&(r.addEventListener("touchstart",o.preventInertiaScroll,this.listenerOptions),r.addEventListener("touchmove",o.allowTouchMove,this.listenerOptions))),g+=1}}},{key:"componentWillUnmount",value:function(){var t=this;if(d){var e=this.props,n=e.accountForScrollbars,r=e.touchScrollTarget,a=document.body,s=a&&a.style;g=Math.max(g-1,0),n&&g<1&&i.STYLE_KEYS.forEach((function(e){var n=t.originalStyles[e];s&&(s[e]=n)})),a&&(0,o.isTouchDevice)()&&(a.removeEventListener("touchmove",o.preventTouchMove,this.listenerOptions),r&&(r.removeEventListener("touchstart",o.preventInertiaScroll,this.listenerOptions),r.removeEventListener("touchmove",o.allowTouchMove,this.listenerOptions)))}}},{key:"render",value:function(){return null}}])&&u(n.prototype,r),e}(r.Component);e.default=m,p(m,"defaultProps",{accountForScrollbars:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LOCK_STYLES=e.STYLE_KEYS=void 0,e.STYLE_KEYS=["boxSizing","height","overflow","paddingRight","position"],e.LOCK_STYLES={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preventTouchMove=function(t){t.preventDefault()},e.allowTouchMove=function(t){t.stopPropagation()},e.preventInertiaScroll=function(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;0===t?this.scrollTop=1:n===e&&(this.scrollTop=t-1)},e.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=(r=n(9))&&r.__esModule?r:{default:r};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?p(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){function e(){var t,n;s(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return d(p(p(n=c(this,(t=h(e)).call.apply(t,[this].concat(i))))),"isBottom",!1),d(p(p(n)),"isTop",!1),d(p(p(n)),"scrollTarget",void 0),d(p(p(n)),"touchStart",void 0),d(p(p(n)),"cancelScroll",(function(t){t.preventDefault(),t.stopPropagation()})),d(p(p(n)),"handleEventDelta",(function(t,e){var r=n.props,i=r.onBottomArrive,o=r.onBottomLeave,a=r.onTopArrive,s=r.onTopLeave,u=n.scrollTarget,l=u.scrollTop,c=u.scrollHeight,h=u.clientHeight,f=n.scrollTarget,p=e>0,d=c-h-l,g=!1;d>e&&n.isBottom&&(o&&o(t),n.isBottom=!1),p&&n.isTop&&(s&&s(t),n.isTop=!1),p&&e>d?(i&&!n.isBottom&&i(t),f.scrollTop=c,g=!0,n.isBottom=!0):!p&&-e>l&&(a&&!n.isTop&&a(t),f.scrollTop=0,g=!0,n.isTop=!0),g&&n.cancelScroll(t)})),d(p(p(n)),"onWheel",(function(t){n.handleEventDelta(t,t.deltaY)})),d(p(p(n)),"onTouchStart",(function(t){n.touchStart=t.changedTouches[0].clientY})),d(p(p(n)),"onTouchMove",(function(t){var e=n.touchStart-t.changedTouches[0].clientY;n.handleEventDelta(t,e)})),d(p(p(n)),"getScrollTarget",(function(t){n.scrollTarget=t})),n}return f(e,t),l(e,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(t){t&&(t.scrollHeight<=t.clientHeight||("function"==typeof t.addEventListener&&t.addEventListener("wheel",this.onWheel,!1),"function"==typeof t.addEventListener&&t.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof t.addEventListener&&t.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(t){t.scrollHeight<=t.clientHeight||("function"==typeof t.removeEventListener&&t.removeEventListener("wheel",this.onWheel,!1),"function"==typeof t.removeEventListener&&t.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof t.removeEventListener&&t.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return i.default.createElement(o.default,{innerRef:this.getScrollTarget},this.props.children)}}]),e}(i.Component),m=function(t){function e(){return s(this,e),c(this,h(e).apply(this,arguments))}return f(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.isEnabled,n=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,["isEnabled"]);return e?i.default.createElement(g,n):this.props.children}}]),e}(i.Component);e.default=m,d(m,"defaultProps",{isEnabled:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resultsAriaMessage=e.optionFocusAriaMessage=e.valueFocusAriaMessage=e.valueEventAriaMessage=e.instructionsAriaMessage=void 0,e.instructionsAriaMessage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.isSearchable,r=e.isMulti,i=e.label,o=e.isDisabled;switch(t){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(i||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},e.valueEventAriaMessage=function(t,e){var n=e.value,r=e.isDisabled;if(n)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.")}},e.valueFocusAriaMessage=function(t){var e=t.focusedValue,n=t.getOptionLabel,r=t.selectValue;return"value ".concat(n(e)," focused, ").concat(r.indexOf(e)+1," of ").concat(r.length,".")},e.optionFocusAriaMessage=function(t){var e=t.focusedOption,n=t.getOptionLabel,r=t.options;return"option ".concat(n(e)," focused").concat(e.isDisabled?" disabled":"",", ").concat(r.indexOf(e)+1," of ").concat(r.length,".")},e.resultsAriaMessage=function(t){var e=t.inputValue,n=t.screenReaderMessage;return"".concat(n).concat(e?" for search term "+e:"",".")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isOptionDisabled=e.getOptionValue=e.getOptionLabel=e.formatGroupLabel=void 0,e.formatGroupLabel=function(t){return t.label},e.getOptionLabel=function(t){return t.label},e.getOptionValue=function(t){return t.value},e.isOptionDisabled=function(t){return!!t.isDisabled}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultComponents=e.components=void 0;var r=n(15),i=n(10),o=d(n(16)),a=p(n(17)),s=d(n(18)),u=p(n(7)),l=p(n(19)),c=d(n(20)),h=d(n(21)),f=d(n(22));function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={ClearIndicator:i.ClearIndicator,Control:o.default,DropdownIndicator:i.DropdownIndicator,DownChevron:i.DownChevron,CrossIcon:i.CrossIcon,Group:a.default,GroupHeading:a.GroupHeading,IndicatorsContainer:r.IndicatorsContainer,IndicatorSeparator:i.IndicatorSeparator,Input:s.default,LoadingIndicator:i.LoadingIndicator,Menu:u.default,MenuList:u.MenuList,MenuPortal:u.MenuPortal,LoadingMessage:u.LoadingMessage,NoOptionsMessage:u.NoOptionsMessage,MultiValue:l.default,MultiValueContainer:l.MultiValueContainer,MultiValueLabel:l.MultiValueLabel,MultiValueRemove:l.MultiValueRemove,Option:c.default,Placeholder:h.default,SelectContainer:r.SelectContainer,SingleValue:f.default,ValueContainer:r.ValueContainer};e.components=m,e.defaultComponents=function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){g(t,e,n[e])}))}return t}({},m,t.components)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=u(o),s=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}var l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],h=function(t,e){e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,e.style.textTransform=t.textTransform},f=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),p=function(){return f?"_"+Math.random().toString(36).substr(2,12):void 0},d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.inputRef=function(t){n.input=t,"function"==typeof n.props.inputRef&&n.props.inputRef(t)},n.placeHolderSizerRef=function(t){n.placeHolderSizer=t},n.sizerRef=function(t){n.sizer=t},n.state={inputWidth:t.minWidth,inputId:t.id||p()},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=t.id;e!==this.props.id&&this.setState({inputId:e||p()})}},{key:"componentDidUpdate",value:function(t,e){e.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var t=this.input&&window.getComputedStyle(this.input);t&&(h(t,this.sizer),this.placeHolderSizer&&h(t,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var t=void 0;t=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(t+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var t=this.props.injectStyles;return f&&t?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var t=[this.props.defaultValue,this.props.value,""].reduce((function(t,e){return null!=t?t:e})),e=r({},this.props.style);e.display||(e.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(this.props,[]);return function(t){c.forEach((function(e){return delete t[e]}))}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,a.default.createElement("div",{className:this.props.className,style:e},this.renderStyles(),a.default.createElement("input",r({},i,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:l},t),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),e}(o.Component);d.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},d.defaultProps={minWidth:1,injectStyles:!0},e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeStyles=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p({},t);return Object.keys(e).forEach((function(r){t[r]?n[r]=function(n,i){return e[r](t[r](n,i),i)}:n[r]=e[r]})),n},e.defaultStyles=void 0;var r=n(15),i=n(16),o=n(17),a=n(10),s=n(18),u=n(21),l=n(20),c=n(7),h=n(22),f=n(19);function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){d(t,e,n[e])}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={clearIndicator:a.clearIndicatorCSS,container:r.containerCSS,control:i.css,dropdownIndicator:a.dropdownIndicatorCSS,group:o.groupCSS,groupHeading:o.groupHeadingCSS,indicatorsContainer:r.indicatorsContainerCSS,indicatorSeparator:a.indicatorSeparatorCSS,input:s.inputCSS,loadingIndicator:a.loadingIndicatorCSS,loadingMessage:c.loadingMessageCSS,menu:c.menuCSS,menuList:c.menuListCSS,menuPortal:c.menuPortalCSS,multiValue:f.multiValueCSS,multiValueLabel:f.multiValueLabelCSS,multiValueRemove:f.multiValueRemoveCSS,noOptionsMessage:c.noOptionsMessageCSS,option:l.optionCSS,placeholder:u.placeholderCSS,singleValue:h.css,valueContainer:r.valueContainerCSS};e.defaultStyles=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTheme=e.spacing=e.colors=void 0;var r={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"};e.colors=r;var i={baseUnit:4,controlHeight:38,menuGutter:8};e.spacing=i;var o={borderRadius:4,colors:r,spacing:i};e.defaultTheme=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.defaultProps=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0));function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?h(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null};e.defaultProps=p,e.default=function(t){var e,n;return n=e=function(e){function n(){var t,e;a(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return f(h(h(e=u(this,(t=l(n)).call.apply(t,[this].concat(i))))),"select",void 0),f(h(h(e)),"state",{inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue}),f(h(h(e)),"onChange",(function(t,n){e.callProp("onChange",t,n),e.setState({value:t})})),f(h(h(e)),"onInputChange",(function(t,n){var r=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==r?r:t})})),f(h(h(e)),"onMenuOpen",(function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})})),f(h(h(e)),"onMenuClose",(function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})})),e}var i,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,e),i=n,(p=[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(t){return void 0!==this.props[t]?this.props[t]:this.state[t]}},{key:"callProp",value:function(t){if("function"==typeof this.props[t]){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this.props)[t].apply(e,r)}}},{key:"render",value:function(){var e=this,n=this.props,i=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return r.default.createElement(t,o({},i,{ref:function(t){e.select=t},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}])&&s(i.prototype,p),n}(r.Component),f(e,"defaultProps",p),n}},function(t,e,n){var r=n(4),i=n(77);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,"/* Loading screen */\r\n.loading-screen {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 99999;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground: -webkit-radial-gradient(rgb(200, 200, 200), rgb(150, 150, 150)); /* For Safari 5.1 to 6.0 */\r\n\tbackground: -o-radial-gradient(rgb(200, 200, 200), rgb(150, 150, 150)); /* For Opera 11.6 to 12.0 */\r\n\tbackground: -moz-radial-gradient(rgb(200, 200, 200), rgb(150, 150, 150)); /* For Fx 3.6 to 15 */\r\n\tbackground: radial-gradient(rgba(255, 255, 255, 1), rgba(230, 230, 230, 1));\r\n\topacity: 1;\r\n\ttransition: opacity 1s ease-in-out;\r\n}\r\n.loading-screen.transparent {\r\n\tbackground: radial-gradient(rgba(255, 255, 255, .8), rgba(230, 230, 230, .8));\r\n}\r\n.loading-screen.fade-out {\r\n\topacity: 0;\r\n}\r\n\r\n.loading-screen-content-wrap {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.loading-screen-content {\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tfont-size: 1.6rem;\r\n\tfont-weight: bold;\r\n\tcolor: #666;\r\n}\r\n\r\n/* C loader\r\nApache license 2.0, Copyright (c) 2015 Tom Adamec */\r\n.a-loader-container, .a-loader-container * {\r\n\tbox-sizing: border-box;\r\n}\r\n.a-loader-container {\r\n\twidth: 70px;\r\n\theight: 70px;\r\n\tfont-size: 70px;\r\n\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%,-50%);\r\n\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n.a-loader-container.small {\r\n\twidth: 40px;\r\n\theight: 40px;\r\n\tfont-size: 40px;\r\n}\r\n@keyframes c-loader {\r\n\t0% {\r\n\t\ttransform: rotate(0deg);\r\n\t}\r\n\t100% {\r\n\t\ttransform: rotate(360deg);\r\n\t}\r\n}\r\n.a-loader-container i {\r\n\twidth: 1em;\r\n\theight: 1em;\r\n\r\n\tposition: absolute;\r\n\ttransform-origin: 50% 50%;\r\n\r\n\tborder-style: solid;\r\n\tborder-width: 4px;\r\n\tborder-color: transparent;\r\n\tborder-radius: 999%;\r\n}\r\n.a-loader-progress {\r\n\tfont-size: 1.15rem;\r\n\tfont-weight: 600;\r\n\tz-index: 1;\r\n}\r\n.a-loader-container i.i1 {\r\n\tanimation: c-loader 1500ms linear infinite;\r\n\tborder-top-color: rgba(255,80,60,.4);\r\n\t/*border-top-color: rgba(0,0,0,.2);*/\r\n}\r\n.a-loader-container i.i2 {\r\n\tanimation: c-loader 1300ms linear infinite;\r\n\tborder-top-color: rgba(50,255,50,.7);\r\n\t/*border-top-color: rgba(255,255,255,.35);*/\r\n}\r\n.a-loader-container i.i3 {\r\n\tanimation: c-loader 1100ms linear infinite;\r\n\tborder-top-color: rgba(100,160,255,.5);\r\n\t/*border-top-color: rgba(0,0,0,.3);*/\r\n}\r\n.a-loader-container i.i4 {\r\n\tanimation: c-loader 1700ms linear infinite;\r\n\t/*border-top-color: rgba(255,255,0,.6);*/\r\n\tborder-top-color: rgba(245,245,0,.6);\r\n\t/*border-top-color: rgba(255,255,255,.45);*/\r\n}\r\n.a-loader-container.blackandwhite i.i1 {\r\n\tborder-top-color: rgba(0,0,0,.2);\r\n}\r\n.a-loader-container.blackandwhite i.i2 {\r\n\tborder-top-color: rgba(255,255,255,.35);\r\n}\r\n.a-loader-container.blackandwhite i.i3 {\r\n\tborder-top-color: rgba(0,0,0,.3);\r\n}\r\n.a-loader-container.blackandwhite i.i4 {\r\n\tborder-top-color: rgba(255,255,255,.45);\r\n}\r\n/* C loader end */",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(79);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-panther-select-current{display:flex;position:relative;z-index:45}.ptr-panther-select:not(.disabled):not(.currentDisabled) .ptr-panther-select-current{cursor:pointer}.ptr-panther-select-current:focus,.ptr-panther-select-current-icon:focus{outline:0}.ptr-panther-select-current>div:first-child{flex:1;overflow:hidden}.ptr-panther-select-current-icon{flex:0 0 1.5rem}.ptr-panther-select-current-icon>svg{transition:transform .3s ease-in-out}.ptr-panther-select.open .ptr-panther-select-current-icon>svg{transform:rotate(180deg)}.ptr-panther-select-list{position:absolute;top:0;right:0;left:0;height:100vh;padding-top:3rem;pointer-events:none;display:flex;z-index:10}.ptr-panther-select-list>div{width:100%;height:100%;overflow:hidden}.ptr-panther-select-list>div>div{transform:translateY(-100%);transition:transform .3s ease-in-out;pointer-events:none;overflow:hidden}.ptr-panther-select.open .ptr-panther-select-list>div>div{transform:none;pointer-events:all}\n",""]),t.exports=e},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(2),u=n.n(s),l=function(t,e){navigator.clipboard.writeText(t),e.stopPropagation()},c=function(t){if(!t.value||"string"!=typeof t.value)return null;var e=t.value.substring(0,4);return i.a.createElement("span",{className:"option-id",title:t.value,onClick:l.bind(null,t.value)},e)};function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(30);var m=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=p(e).call(this,t))||"object"!==h(r)&&"function"!=typeof r?d(this):r).onClick=n.onClick.bind(d(n)),n.onKeyPress=n.onKeyPress.bind(d(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,t),n=e,(r=[{key:"blockEvent",value:function(t){t.stopPropagation()}},{key:"onKeyPress",value:function(t){13!==t.charCode&&32!==t.charCode||this.props.onOptionLabelClick(this.props.option)}},{key:"onClick",value:function(t){this.props.onOptionLabelClick(this.props.option,t)}},{key:"render",value:function(){var t=null;this.props.withKeyPrefix&&(t=i.a.createElement(c,{value:this.props.option.value||this.props.option.key}));var e=i.a.createElement("span",{className:"label",key:"label"},t,this.props.option.label),n=[this.props.startItems?i.a.createElement("div",{className:"ptr-item-actions-start",key:"items-start"},this.props.startItems):null,e,this.props.endItems?i.a.createElement("div",{className:"ptr-item-actions-end",key:"items-end"},this.props.endItems):null];return"function"==typeof this.props.onOptionLabelClick?i.a.createElement("a",{className:u()("ptr-item",this.props.option.className,{disabled:this.props.disabled}),onMouseDown:this.blockEvent,onTouchEnd:this.onClick,onClick:this.onClick,onKeyPress:this.onKeyPress,style:this.props.option.style,tabIndex:this.props.unfocusable?-1:0,title:this.props.option.label},n):i.a.createElement("div",{className:u()("ptr-item ptr-icon-inline-wrap",this.props.option.className,{disabled:this.props.disabled}),style:{display:"flex"},title:this.props.option.label},n)}}])&&f(n.prototype,r),e}(i.a.PureComponent);m.propTypes={disabled:a.a.bool,onOptionLabelClick:a.a.func,endItems:a.a.arrayOf(a.a.element),startItems:a.a.arrayOf(a.a.element),option:a.a.object.isRequired,renderer:a.a.func,unfocusable:a.a.bool,withKeyPrefix:a.a.bool};var y=m,v=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M16,18.692c-0.192,0-0.361-0.073-0.509-0.221L5.17,8.149C5.022,8.003,4.948,7.833,4.948,7.641\r c0-0.191,0.074-0.362,0.222-0.509l1.107-1.107c0.148-0.147,0.316-0.222,0.509-0.222s0.362,0.074,0.51,0.222L16,14.729l8.704-8.704\r c0.147-0.147,0.317-0.222,0.51-0.222c0.191,0,0.361,0.074,0.509,0.222l1.107,1.107c0.147,0.146,0.222,0.317,0.222,0.509\r c0,0.192-0.074,0.362-0.222,0.509L16.51,18.472C16.361,18.619,16.192,18.692,16,18.692z M16,27.197\r c-0.192,0-0.361-0.073-0.509-0.222L5.17,16.654c-0.147-0.146-0.222-0.316-0.222-0.509c0-0.191,0.074-0.362,0.222-0.51l1.107-1.107\r c0.148-0.146,0.316-0.221,0.509-0.221s0.362,0.074,0.51,0.221L16,23.233l8.704-8.705c0.147-0.146,0.317-0.221,0.51-0.221\r c0.191,0,0.361,0.074,0.509,0.221l1.107,1.107c0.147,0.147,0.222,0.318,0.222,0.51c0,0.192-0.074,0.362-0.222,0.509L16.51,26.976\r C16.361,27.124,16.192,27.197,16,27.197z"}))},b=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M13.308,16c0-0.192,0.073-0.361,0.221-0.509L23.851,5.17c0.146-0.147,0.316-0.222,0.509-0.222\r c0.191,0,0.362,0.074,0.509,0.222l1.107,1.107c0.147,0.148,0.222,0.316,0.222,0.509s-0.074,0.362-0.222,0.51L17.271,16l8.704,8.704\r c0.147,0.147,0.222,0.317,0.222,0.51c0,0.191-0.074,0.361-0.222,0.509l-1.107,1.107c-0.146,0.147-0.317,0.222-0.509,0.222\r c-0.192,0-0.362-0.074-0.509-0.222L13.528,16.51C13.381,16.361,13.308,16.192,13.308,16z M4.803,16c0-0.192,0.073-0.361,0.222-0.509\r L15.346,5.17c0.146-0.147,0.316-0.222,0.509-0.222c0.191,0,0.362,0.074,0.51,0.222l1.107,1.107c0.146,0.148,0.221,0.316,0.221,0.509\r s-0.074,0.362-0.221,0.51L8.767,16l8.705,8.704c0.146,0.147,0.221,0.317,0.221,0.51c0,0.191-0.074,0.361-0.221,0.509l-1.107,1.107\r c-0.147,0.147-0.318,0.222-0.51,0.222c-0.192,0-0.362-0.074-0.509-0.222L5.024,16.51C4.876,16.361,4.803,16.192,4.803,16z"}))},E=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M18.692,16c0,0.192-0.073,0.361-0.221,0.509L8.15,26.83c-0.147,0.147-0.317,0.222-0.509,0.222\r c-0.191,0-0.362-0.074-0.509-0.222l-1.107-1.107c-0.147-0.148-0.222-0.316-0.222-0.509s0.074-0.362,0.222-0.51L14.729,16\r L6.024,7.296C5.877,7.148,5.803,6.979,5.803,6.787s0.074-0.362,0.222-0.509L7.132,5.17C7.279,5.022,7.45,4.948,7.641,4.948\r c0.192,0,0.362,0.074,0.509,0.222l10.322,10.32C18.619,15.639,18.692,15.808,18.692,16z M27.197,16c0,0.192-0.073,0.361-0.222,0.509\r L16.654,26.83c-0.146,0.147-0.316,0.222-0.509,0.222c-0.191,0-0.362-0.074-0.51-0.222l-1.107-1.107\r c-0.147-0.148-0.221-0.316-0.221-0.509s0.074-0.362,0.221-0.51L23.233,16l-8.705-8.704c-0.147-0.147-0.221-0.317-0.221-0.509\r s0.074-0.362,0.221-0.509l1.107-1.107c0.147-0.148,0.318-0.222,0.51-0.222c0.192,0,0.362,0.074,0.509,0.222l10.321,10.32\r C27.124,15.639,27.197,15.808,27.197,16z"}))},_=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M16,13.308c0.192,0,0.361,0.073,0.509,0.221L26.83,23.851c0.147,0.146,0.222,0.316,0.222,0.509\r c0,0.191-0.074,0.362-0.222,0.509l-1.107,1.107c-0.148,0.147-0.316,0.222-0.509,0.222s-0.362-0.074-0.51-0.222L16,17.271\r l-8.704,8.704c-0.147,0.147-0.317,0.222-0.509,0.222s-0.362-0.074-0.509-0.222L5.17,24.868c-0.148-0.146-0.222-0.317-0.222-0.509\r c0-0.192,0.074-0.362,0.222-0.509l10.32-10.322C15.639,13.381,15.808,13.308,16,13.308z M16,4.803c0.192,0,0.361,0.073,0.509,0.222\r L26.83,15.346c0.147,0.146,0.222,0.316,0.222,0.509c0,0.191-0.074,0.362-0.222,0.51l-1.107,1.107\r c-0.148,0.146-0.316,0.221-0.509,0.221s-0.362-0.074-0.51-0.221L16,8.767l-8.704,8.705c-0.147,0.146-0.317,0.221-0.509,0.221\r s-0.362-0.074-0.509-0.221L5.17,16.364c-0.148-0.147-0.222-0.318-0.222-0.51c0-0.192,0.074-0.362,0.222-0.509l10.32-10.321\r C15.639,4.876,15.808,4.803,16,4.803z"}))},w=function(t){return i.a.createElement("g",null,i.a.createElement("rect",{className:"line",x:"5.578",y:"15",width:"21.125",height:"2"}),i.a.createElement("polygon",{className:"line",points:"12.977,25.095 3.882,16 12.977,6.905 14.391,8.319 6.71,16 14.391,23.681"}))},S=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"m 19.203116,23.592532 q -1.800558,0 -3.293425,-0.273502 v -1.584035 h 2.529897 q 0.683756,0 0.957259,-0.136751 0.273502,-0.136751 0.273502,-0.490025 v -0.273502 q 0,-0.67236 -0.991446,-0.706548 l -2.051268,-0.09117 V 18.52134 l 1.9601,-0.125355 q 0.512817,-0.02279 0.740736,-0.159543 0.239315,-0.136751 0.239315,-0.444441 V 17.59827 q 0,-0.387462 -0.273503,-0.558401 -0.262106,-0.170939 -0.900278,-0.170939 h -2.336167 v -1.572638 q 1.777766,-0.296295 2.997131,-0.296295 1.185177,0 1.823349,0.535609 0.638172,0.524213 0.638172,1.584035 v 0.603984 q 0,1.219365 -1.002842,1.549847 0.512817,0.159543 0.820507,0.649568 0.30769,0.478629 0.30769,1.185177 v 0.376066 q 0,1.014238 -0.649568,1.561242 -0.638172,0.547005 -1.789161,0.547005 z m -7.79002,-6.7236 L 10,16.9601 v -1.253553 l 1.641014,-0.706548 h 1.743578 v 8.524158 H 11.413096 Z M 9.4765625,3.3515625 A 1.5001498,1.5001498 0 0 0 8,4.8730469 v 2.1484375 a 1.5001498,1.5001498 0 1 0 3,0 V 4.8730469 A 1.5001498,1.5001498 0 0 0 9.4765625,3.3515625 Z M 22.476562,3.4785156 A 1.50015,1.50015 0 0 0 21,5 v 2.1542969 a 1.50015,1.50015 0 1 0 3,0 V 5 A 1.50015,1.50015 0 0 0 22.476562,3.4785156 Z M 5,6.3515625 A 1.0001,1.1771578 0 0 0 4,7.5292969 V 11.822266 A 1.0001,1.1771578 0 0 0 5,13 h 22 a 1.0001,1.1771578 0 0 0 1,-1.177734 V 7.5292969 A 1.0001,1.1771578 0 0 0 27,6.3515625 h -2 v 0.8027344 a 2.50025,2.50025 0 1 1 -5,0 V 6.3515625 h -8 v 0.8164063 a 2.50025,2.50025 0 1 1 -5,0 V 6.3515625 Z M 5,10 a 1.0001,1.0001 0 0 0 -1,1 v 16 a 1.0001,1.0001 0 0 0 1,1 h 22 a 1.0001,1.0001 0 0 0 1,-1 V 11 a 1.0001,1.0001 0 0 0 -1,-1 z m 1,2 H 26 V 26 H 6 Z"}))},x=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 26,16 A 10,10 0 0 1 16,26 10,10 0 0 1 6,16 10,10 0 0 1 16,6 10,10 0 0 1 26,16 Z"}))},T=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 21.292969,3.2929688 8.5859375,16 21.292969,28.707031 22.707031,27.292969 11.414062,16 22.707031,4.7070312 Z"}))},O=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 10,3.2929688 8.5859375,4.7070312 19.878906,16 8.5859375,27.292969 10,28.707031 22.707031,16 Z"}))},C=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 29.009766 2.9902344 L 28.5 2.9960938 C 28.5 2.9960938 27.713516 3.0026237 26.796875 3.1367188 C 25.880234 3.2708164 24.818205 3.4747606 24.150391 4.1425781 C 23.482576 4.8103924 23.280583 5.8704688 23.146484 6.7871094 C 23.012386 7.7037499 23.003906 8.4902344 23.003906 8.4902344 L 23 9 L 23.509766 8.9960938 C 23.509766 8.9960938 24.29625 8.9876138 25.212891 8.8535156 C 26.129531 8.7194166 27.189607 8.5174204 27.857422 7.8496094 C 28.525236 7.1817989 28.729183 6.1197656 28.863281 5.203125 C 28.99738 4.2864844 29.003906 3.5 29.003906 3.5 L 29.009766 2.9902344 z M 18.990234 4 L 18.603516 4.3300781 C 18.603516 4.3300781 18.004663 4.8412729 17.388672 5.5332031 C 16.772681 6.2251333 16.090124 7.063066 16.007812 8.0039062 C 15.925503 8.9447444 16.452973 9.8893506 16.939453 10.677734 C 17.425933 11.466119 17.925781 12.072266 17.925781 12.072266 L 18.25 12.466797 L 18.636719 12.134766 C 18.636719 12.134766 19.235573 11.623571 19.851562 10.931641 C 20.467554 10.23971 21.148153 9.4017729 21.230469 8.4609375 C 21.312779 7.5200995 20.787261 6.5774467 20.300781 5.7890625 C 19.814301 5.0006783 19.314453 4.3925781 19.314453 4.3925781 L 18.990234 4 z M 13.990234 9 L 13.603516 9.3300781 C 13.603516 9.3300781 13.004663 9.841273 12.388672 10.533203 C 11.772681 11.225133 11.090124 12.063066 11.007812 13.003906 C 10.925503 13.944744 11.452973 14.88935 11.939453 15.677734 C 12.425933 16.466118 12.925781 17.072266 12.925781 17.072266 L 13.25 17.466797 L 13.636719 17.134766 C 13.636719 17.134766 14.235572 16.623571 14.851562 15.931641 C 15.467553 15.23971 16.148153 14.401772 16.230469 13.460938 C 16.312779 12.5201 15.787261 11.577448 15.300781 10.789062 C 14.814301 10.000678 14.314453 9.3925781 14.314453 9.3925781 L 13.990234 9 z M 23.892578 10.765625 C 23.775221 10.758183 23.656668 10.759242 23.539062 10.769531 C 22.598225 10.851841 21.76029 11.532446 21.068359 12.148438 C 20.376429 12.764428 19.865234 13.363281 19.865234 13.363281 L 19.533203 13.75 L 19.927734 14.074219 C 19.927734 14.074219 20.533881 14.574068 21.322266 15.060547 C 22.11065 15.547026 23.055257 16.074497 23.996094 15.992188 C 24.936932 15.909878 25.774866 15.227319 26.466797 14.611328 C 27.158727 13.995338 27.669922 13.396484 27.669922 13.396484 L 28 13.009766 L 27.607422 12.685547 C 27.607422 12.685547 26.999322 12.1857 26.210938 11.699219 C 25.521101 11.273548 24.714076 10.81772 23.892578 10.765625 z M 8.9902344 14 L 8.6035156 14.330078 C 8.6035156 14.330078 8.0046629 14.841273 7.3886719 15.533203 C 6.7726809 16.225133 6.0901237 17.063066 6.0078125 18.003906 C 5.9254995 18.944744 6.4529733 19.88935 6.9394531 20.677734 C 7.425933 21.466118 7.9257814 22.072266 7.9257812 22.072266 L 8.1914062 22.394531 L 2.9296875 27.65625 L 4.34375 29.070312 L 9.6054688 23.808594 L 9.9277344 24.074219 C 9.9277344 24.074219 10.533881 24.574068 11.322266 25.060547 C 12.11065 25.547026 13.055257 26.074497 13.996094 25.992188 C 14.936932 25.909878 15.774866 25.227319 16.466797 24.611328 C 17.158727 23.995338 17.669922 23.396484 17.669922 23.396484 L 18 23.009766 L 17.607422 22.685547 C 17.607422 22.685547 16.999322 22.1857 16.210938 21.699219 C 15.422553 21.212738 14.479903 20.687216 13.539062 20.769531 C 12.598225 20.851841 11.76029 21.532447 11.068359 22.148438 C 10.416896 22.728402 9.9595286 23.254283 9.9042969 23.318359 L 8.6816406 22.095703 C 8.7457168 22.040471 9.2715977 21.583104 9.8515625 20.931641 C 10.467553 20.23971 11.148153 19.401772 11.230469 18.460938 C 11.312781 17.5201 10.787261 16.577447 10.300781 15.789062 C 9.8143016 15.000679 9.3144531 14.392578 9.3144531 14.392578 L 8.9902344 14 z M 18.892578 15.765625 C 18.775221 15.758183 18.656668 15.759242 18.539062 15.769531 C 17.598225 15.851841 16.76029 16.532446 16.068359 17.148438 C 15.376429 17.764428 14.865234 18.363281 14.865234 18.363281 L 14.533203 18.75 L 14.927734 19.074219 C 14.927734 19.074219 15.533881 19.574068 16.322266 20.060547 C 17.11065 20.547026 18.055257 21.074497 18.996094 20.992188 C 19.936932 20.909878 20.774866 20.227319 21.466797 19.611328 C 22.158727 18.995338 22.669922 18.396484 22.669922 18.396484 L 23 18.009766 L 22.607422 17.685547 C 22.607422 17.685547 21.999322 17.1857 21.210938 16.699219 C 20.521101 16.273548 19.714076 15.81772 18.892578 15.765625 z"}))},A=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"polygon",d:"M8 8 l0 18 l16 0 l0 -18",strokeWidth:"2",stroke:"black",strokeLinejoin:"round",fill:"transparent"}),i.a.createElement("path",{className:"line",d:"M5 8 l22 0",strokeWidth:"2",stroke:"black",strokeLinecap:"round"}),i.a.createElement("path",{className:"line",d:"M14 12 l0 10",strokeWidth:"2",stroke:"black",strokeLinecap:"round"}),i.a.createElement("path",{className:"line",d:"M18 12 l0 10",strokeWidth:"2",stroke:"black",strokeLinecap:"round"}),i.a.createElement("path",{className:"polygon",d:"M10 8 l3 -4 l6 0 l3 4",strokeWidth:"2",stroke:"black",strokeLinejoin:"round",fill:"transparent"}))},L=function(t){return i.a.createElement("g",null,i.a.createElement("circle",{className:"line",cx:"16",cy:"8",r:"2.4"}),i.a.createElement("circle",{className:"line",cx:"16",cy:"16",r:"2.4"}),i.a.createElement("circle",{className:"line",cx:"16",cy:"24",r:"2.4"}))},P=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M5 27 l22 0",strokeWidth:"2",stroke:"black"}),i.a.createElement("path",{className:"line",d:"M16 5 l0 18",strokeWidth:"2",stroke:"black"}),i.a.createElement("path",{className:"line",d:"M9 16 l8 8",strokeWidth:"2",stroke:"black"}),i.a.createElement("path",{className:"line",d:"M23 16 l-8 8",strokeWidth:"2",stroke:"black"}))},R=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M5.382,26.619l1.641-5.399l0.059-0.059l15.781-15.78l3.757,3.758L10.78,24.977L5.382,26.619z M7.597,21.562\r l-1.242,4.083l4.082-1.242L25.703,9.139l-2.841-2.842L7.597,21.562z"}),i.a.createElement("rect",{className:"line",x:"6.628",y:"22.713",transform:"matrix(-0.7071 -0.7071 0.7071 -0.7071 -0.9941 45.6625)",width:"4.664",height:"0.649"}),i.a.createElement("polygon",{className:"line",points:"7.99,25.49 5.968,26.031 6.509,24.009"}))},M=function(t){return i.a.createElement("g",{transform:"scale(0.015,-0.015) translate(300,-1636)"},i.a.createElement("path",{className:"line",d:"M755 480q0 -13 -10 -23l-332 -332l144 -144q19 -19 19 -45t-19 -45t-45 -19h-448q-26 0 -45 19t-19 45v448q0 26 19 45t45 19t45 -19l144 -144l332 332q10 10 23 10t23 -10l114 -114q10 -10 10 -23zM1536 1344v-448q0 -26 -19 -45t-45 -19t-45 19l-144 144l-332 -332\r\nq-10 -10 -23 -10t-23 10l-114 114q-10 10 -10 23t10 23l332 332l-144 144q-19 19 -19 45t19 45t45 19h448q26 0 45 -19t19 -45z"}))},k=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M26,12.832c0,0.174-0.066,0.327-0.2,0.461l-9.339,9.337c-0.134,0.134-0.287,0.201-0.461,0.201s-0.327-0.067-0.461-0.201\r L6.2,13.293C6.066,13.159,6,13.006,6,12.832s0.066-0.327,0.2-0.461l1.002-1.002c0.134-0.134,0.287-0.2,0.461-0.2\r s0.327,0.066,0.461,0.2L16,19.243l7.876-7.874c0.134-0.134,0.287-0.2,0.461-0.2s0.327,0.066,0.461,0.2l1.002,1.002\r C25.934,12.505,26,12.658,26,12.832z"}))},I=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"m 9,1.5 c -2.198703,0 -4,1.8012974 -4,4 v 21 c 0,2.198703 1.801297,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -15 -1.324219 A 1.0001,1.0001 0 0 0 26.707031,9.46875 L 19.015625,1.7929688 A 1.0001,1.0001 0 0 0 18.310547,1.5 H 17.042969 A 1.0001,1.0001 0 0 0 17,1.5 Z m 0,2 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 8.5 c 0,2.198703 1.801297,4 4,4 H 24.5 25 v 14 c 0,1.125297 -0.874703,2 -2,2 H 9 c -1.1252976,0 -2,-0.874703 -2,-2 v -21 c 0,-1.1252972 0.8747024,-2 2,-2 z M 17.953125,3.5546875 24.908203,10.5 H 24.5 19.931641 c -1.125298,0 -2,-0.8747028 -2,-2 V 3.9960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),i.a.createElement("path",{className:"line",d:"m 10.480661,24.00091 q -0.8341334,0 -1.3690667,-0.272 -0.5258667,-0.272 -0.816,-1.024533 -0.2901334,-0.752533 -0.2901334,-2.1488 0,-1.350933 0.2992,-2.0944 0.3082667,-0.752533 0.8432,-1.0336 0.5349334,-0.281067 1.3328001,-0.281067 0.752533,0 1.3056,0.1088 0.562133,0.1088 0.906667,0.253867 v 1.369067 q -0.2992,-0.06347 -0.779734,-0.1088 -0.480533,-0.04533 -1.042666,-0.04533 -0.444267,0 -0.670934,0.136 -0.2266664,0.126934 -0.3354664,0.5168 -0.099733,0.389867 -0.099733,1.1968 0,0.770667 0.0816,1.151467 0.090667,0.3808 0.3263997,0.544 0.235734,0.154133 0.716267,0.154133 1.187733,0 1.804267,-0.0816 v 1.369067 q -0.725334,0.290133 -2.212267,0.290133 z"}),i.a.createElement("path",{className:"line",d:"m 15.638178,24.00091 q -1.160534,0 -2.166934,-0.262933 V 22.34171 q 0.906667,0.0816 2.076267,0.0816 0.4624,0 0.68,-0.09973 0.2176,-0.1088 0.2176,-0.362667 v -0.1088 q 0,-0.1904 -0.136,-0.290133 -0.136,-0.1088 -0.335467,-0.1088 h -0.480533 q -1.078933,0 -1.613867,-0.471467 -0.525866,-0.480533 -0.525866,-1.541333 v -0.2992 q 0,-0.988267 0.589333,-1.486933 0.589333,-0.498667 1.731733,-0.498667 0.997334,0 2.103467,0.262933 v 1.396267 q -1.015467,-0.0816 -1.885867,-0.0816 -0.4352,0 -0.6528,0.1088 -0.2176,0.09973 -0.2176,0.389867 v 0.09067 q 0,0.4624 0.589334,0.4624 h 0.5984 q 0.915733,0 1.405333,0.507734 0.498667,0.507733 0.498667,1.323733 v 0.2992 q 0,0.834133 -0.290134,1.296533 -0.290133,0.453334 -0.825066,0.6256 -0.525867,0.1632 -1.36,0.1632 z"}),i.a.createElement("path",{className:"line",d:"m 18.40252,17.209977 h 1.8224 l 1.2784,4.823467 1.2784,-4.823467 h 1.804266 L 22.59132,23.94651 h -2.194134 z"}))},N=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 6,2 C 3.8012972,2 2,3.8012973 2,6 v 21 c 0,2.198703 1.8012972,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -4 h -2 v 4 c 0,1.125297 -0.874703,2 -2,2 H 6 C 4.8747028,29 4,28.125297 4,27 V 6 C 4,4.8747029 4.8747028,4 6,4 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 9 c 0,2.198703 1.801297,4 4,4 H 21.5 22 v 4 h 2 V 12 10.675781 A 1.0001,1.0001 0 0 0 23.707031,9.96875 L 16.015625,2.2929688 A 1.0001,1.0001 0 0 0 15.310547,2 H 14.042969 A 1.0001,1.0001 0 0 0 14,2 Z M 14.953125,4.0546875 21.908203,11 H 21.5 16.931641 c -1.125298,0 -2,-0.874703 -2,-2 V 4.4960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),i.a.createElement("path",{className:"line",d:"m 26.990234,15.990234 a 1.0001,1.0001 0 0 0 -0.697265,1.716797 L 27.585938,19 H 15 a 1.0001,1.0001 0 1 0 0,2 h 12.585938 l -1.292969,1.292969 a 1.0001,1.0001 0 1 0 1.414062,1.414062 l 2.91211,-2.912109 a 1.0001,1.0001 0 0 0 0.0039,-1.587891 1.0001,1.0001 0 0 0 -0.0059,-0.0039 l -2.910157,-2.910156 a 1.0001,1.0001 0 0 0 -0.716797,-0.302735 z"}))},D=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"m 9,1.5 c -2.198703,0 -4,1.8012974 -4,4 v 21 c 0,2.198703 1.801297,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -15 -1.324219 A 1.0001,1.0001 0 0 0 26.707031,9.46875 L 19.015625,1.7929688 A 1.0001,1.0001 0 0 0 18.310547,1.5 H 17.042969 A 1.0001,1.0001 0 0 0 17,1.5 Z m 0,2 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 8.5 c 0,2.198703 1.801297,4 4,4 H 24.5 25 v 14 c 0,1.125297 -0.874703,2 -2,2 H 9 c -1.1252976,0 -2,-0.874703 -2,-2 v -21 c 0,-1.1252972 0.8747024,-2 2,-2 z M 17.953125,3.5546875 24.908203,10.5 H 24.5 19.931641 c -1.125298,0 -2,-0.8747028 -2,-2 V 3.9960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),i.a.createElement("path",{className:"line",d:"m 23.058594,19.001953 c 0,0 -0.700885,-0.04464 -1.50586,0.08203 -0.804974,0.126674 -1.913068,0.374916 -2.451172,1.478516 -0.45985,0.943111 -0.255741,1.87634 -0.09961,2.394531 0.07807,0.259096 0.12878,0.441691 0.136719,0.511719 0.0079,0.07003 0.01564,-0.0037 0.0098,0.0059 0.08047,-0.130195 -0.27278,0.18517 -0.650391,0.328125 -0.377612,0.142956 -0.720703,0.222657 -0.720703,0.222657 a 1.0001,1.0001 0 1 0 0.445312,1.949218 c 0,0 0.459952,-0.102246 0.984375,-0.300781 0.524424,-0.198535 1.17221,-0.384205 1.644531,-1.148437 0.256988,-0.415814 0.317228,-0.914151 0.275391,-1.283203 -0.04184,-0.369053 -0.144037,-0.63929 -0.210937,-0.861329 -0.133801,-0.444077 -0.191728,-0.586196 -0.01758,-0.943359 0.01949,-0.03996 0.411168,-0.291471 0.966796,-0.378906 0.555629,-0.08744 1.076172,-0.06055 1.076172,-0.06055 a 1.0001,1.0001 0 1 0 0.117188,-1.996094 z m -5.134766,-5.003906 a 1.0001,1.0001 0 0 0 -0.146484,1.976562 c 0,0 0.343091,0.0797 0.720703,0.222657 0.377611,0.142955 0.730856,0.45832 0.650391,0.328125 0.0059,0.0095 -0.0018,-0.06417 -0.0098,0.0059 -0.0079,0.07003 -0.05865,0.252623 -0.136719,0.511719 -0.156132,0.518191 -0.360241,1.45142 0.09961,2.394531 0.538104,1.1036 1.646198,1.351842 2.451172,1.478516 0.804975,0.126673 1.50586,0.08203 1.50586,0.08203 a 1.0001,1.0001 0 1 0 -0.117188,-1.996094 c 0,0 -0.520543,0.02689 -1.076172,-0.06055 -0.555628,-0.08743 -0.94731,-0.338941 -0.966796,-0.378906 -0.17415,-0.357163 -0.116223,-0.499282 0.01758,-0.943359 0.0669,-0.222039 0.1691,-0.492276 0.210937,-0.861329 0.04184,-0.369052 -0.0184,-0.867389 -0.275391,-1.283203 C 20.37921,14.710414 19.731424,14.524744 19.207,14.326209 18.682577,14.127674 18.222625,14.025428 18.222625,14.025428 a 1.0001,1.0001 0 0 0 -0.298828,-0.02734 z m -8.9824218,5.003906 a 1.0001,1.0001 0 1 0 0.1171876,1.996094 c 0,0 0.5205436,-0.02689 1.0761722,0.06055 0.555628,0.08743 0.94731,0.338941 0.966796,0.378906 0.17415,0.357163 0.116223,0.499282 -0.01758,0.943359 -0.0669,0.222039 -0.1691,0.492276 -0.210937,0.861329 -0.04184,0.369052 0.0184,0.867389 0.275391,1.283203 0.472321,0.764232 1.120107,0.949902 1.644531,1.148437 0.524424,0.198535 0.984375,0.300781 0.984375,0.300781 a 1.0001,1.0001 0 1 0 0.445312,-1.949218 c 0,0 -0.343091,-0.0797 -0.720703,-0.222657 -0.377612,-0.142955 -0.730855,-0.458319 -0.650391,-0.328125 -0.0059,-0.0095 0.0018,0.06417 0.0098,-0.0059 0.0079,-0.07003 0.05865,-0.252623 0.136719,-0.511719 0.156132,-0.518191 0.360241,-1.45142 -0.09961,-2.394531 -0.538104,-1.1036 -1.646198,-1.351842 -2.451172,-1.478516 -0.8049746,-0.126673 -1.5058597,-0.08203 -1.5058598,-0.08203 z m 5.1035158,-5.003906 a 1.0001,1.0001 0 0 0 -0.267578,0.02734 c 0,0 -0.459951,0.102246 -0.984375,0.300781 -0.524424,0.198535 -1.17221,0.384205 -1.644531,1.148437 -0.256988,0.415814 -0.317228,0.914151 -0.275391,1.283203 0.04184,0.369053 0.144037,0.63929 0.210937,0.861329 0.133801,0.444077 0.191728,0.586196 0.01758,0.943359 -0.01949,0.03996 -0.411168,0.291471 -0.966796,0.378906 -0.5556286,0.08744 -1.0761722,0.06055 -1.0761722,0.06055 a 1.0001,1.0001 0 1 0 -0.1171876,1.996094 c 0,0 0.7008852,0.04464 1.5058598,-0.08203 0.804974,-0.126674 1.913068,-0.374916 2.451172,-1.478516 0.45985,-0.943111 0.255741,-1.87634 0.09961,-2.394531 -0.07807,-0.259096 -0.12878,-0.441691 -0.136719,-0.511719 -0.0079,-0.07003 -0.01564,0.0037 -0.0098,-0.0059 -0.08046,0.130194 0.272779,-0.18517 0.650391,-0.328125 0.377612,-0.142956 0.720703,-0.222657 0.720703,-0.222657 a 1.0001,1.0001 0 0 0 -0.177734,-1.976562 z"}))},j=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"m 9,1.5 c -2.198703,0 -4,1.8012974 -4,4 v 21 c 0,2.198703 1.801297,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -15 -1.324219 A 1.0001,1.0001 0 0 0 26.707031,9.46875 L 19.015625,1.7929688 A 1.0001,1.0001 0 0 0 18.310547,1.5 H 17.042969 A 1.0001,1.0001 0 0 0 17,1.5 Z m 0,2 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 8.5 c 0,2.198703 1.801297,4 4,4 H 24.5 25 v 14 c 0,1.125297 -0.874703,2 -2,2 H 9 c -1.1252976,0 -2,-0.874703 -2,-2 v -21 c 0,-1.1252972 0.8747024,-2 2,-2 z M 17.953125,3.5546875 24.908203,10.5 H 24.5 19.931641 c -1.125298,0 -2,-0.8747028 -2,-2 V 3.9960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),i.a.createElement("path",{className:"line",d:"m 17.596711,20.583751 3.329625,5.362759 H 17.773505 L 15.858234,22.867344 14.178689,25.94651 H 11.025858 L 14.355483,20.451156 10.981659,15 H 14.13449 L 16.108693,18.197029 17.847169,15 H 21 Z"}))},F=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 5,4 H 28 L 18.535874,15 18.453432,25 13,27 V 15 L 4,4 h 1"}))},V=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M20.653,25.472h-1.695V13.243c0-0.423-0.343-0.766-0.766-0.766h-3.207h-1.179h-2.46c-0.423,0-0.766,0.343-0.766,0.766v0.563\r c0,0.424,0.343,0.766,0.766,0.766h1.694v10.899h-1.695c-0.423,0-0.766,0.343-0.766,0.766v0.563c0,0.424,0.343,0.766,0.766,0.766\r h2.456c0.002,0,0.003,0.001,0.005,0.001h4.386c0.002,0,0.003-0.001,0.005-0.001h2.456c0.423,0,0.766-0.342,0.766-0.766v-0.563\r C21.419,25.814,21.076,25.472,20.653,25.472z"}),i.a.createElement("circle",{className:"line",cx:"16",cy:"7.583",r:"3.151"}))},B=function(t){return i.a.createElement("g",null,i.a.createElement("path",{d:"M5 5 l0 17 l5 0 l0 -12 l12 0 l0 -5",strokeWidth:"2",className:"polygonFilled"}),i.a.createElement("path",{d:"M10 22 l0 5 l17 0 l0 -17 l-5 0 l0 12 l-12 0",strokeWidth:"2",className:"polygon"}),i.a.createElement("path",{d:"M10 10 L22 22",strokeWidth:"2",className:"line"}),i.a.createElement("path",{d:"M16 10 L22 16",strokeWidth:"2",className:"line"}),i.a.createElement("path",{d:"M10 16 L16 22",strokeWidth:"2",className:"line"}))},U=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 16,2.8828125 1.7636719,10 3.5527344,10.894531 16,17.117188 30.236328,10 Z M 16,5.1171875 25.763672,10 16,14.882812 6.2363281,10 Z"}),i.a.createElement("path",{className:"line",d:"M 9.5527344,12.105469 1.7636719,16 16,23.117188 30.236328,16 22.447266,12.105469 21.552734,13.894531 25.763672,16 16,20.882812 6.2363281,16 10.447266,13.894531 Z"}),i.a.createElement("path",{className:"line",d:"M 9.5527344,18.105469 1.7636719,22 16,29.117188 30.236328,22 22.447266,18.105469 21.552734,19.894531 25.763672,22 16,26.882812 6.2363281,22 10.447266,19.894531 Z"}))},G=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 10,25 A 3.5,3.5 0 0 1 6.5,28.5 3.5,3.5 0 0 1 3,25 3.5,3.5 0 0 1 6.5,21.5 3.5,3.5 0 0 1 10,25 Z"}),i.a.createElement("path",{className:"line",d:"m 4,12.5 h 5 c 0.554,0 1,0.446 1,1 v 5 c 0,0.554 -0.446,1 -1,1 H 4 c -0.554,0 -1,-0.446 -1,-1 v -5 c 0,-0.554 0.446,-1 1,-1 z"}),i.a.createElement("path",{className:"line",d:"M 6.5488281,4.0214844 C 6.3688189,4.0168495 6.200219,4.1093556 6.1074219,4.2636719 l -3,4.9785156 C 2.9071078,9.5751818 3.1465554,9.9994087 3.5351562,10 h 6 C 9.9237571,9.9994087 10.163205,9.5751818 9.9628906,9.2421875 l -3,-4.9785156 C 6.8751262,4.1176904 6.7190891,4.0264234 6.5488281,4.0214844 Z M 8.6503906,9 V 9 H 4.4199219 Z"}),i.a.createElement("path",{className:"line",d:"m 14.080078,6 a 1.0001,1.0001 0 1 0 0,2 h 13.853516 a 1.0001,1.0001 0 1 0 0,-2 z"}),i.a.createElement("path",{className:"line",d:"m 14.080078,15 a 1.0001,1.0001 0 1 0 0,2 h 13.853516 a 1.0001,1.0001 0 1 0 0,-2 z"}),i.a.createElement("path",{className:"line",d:"m 14.080078,24 a 1.0001,1.0001 0 1 0 0,2 h 13.853516 a 1.0001,1.0001 0 1 0 0,-2 z"}))},W=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"m 19.703125,14.544922 -3.705078,5.810547 -3.697266,-5.78125 -4.2128904,2.693359 7.9140624,12.376953 7.916016,-12.410156 z M 16,2.5 c -5.217094,0 -9.5,4.2829065 -9.5,9.5 0,5.217094 4.282906,9.5 9.5,9.5 5.217094,0 9.5,-4.282906 9.5,-9.5 0,-5.2170935 -4.282906,-9.5 -9.5,-9.5 z m 0,5 c 2.514893,0 4.5,1.985107 4.5,4.5 0,2.514893 -1.985107,4.5 -4.5,4.5 -2.514893,0 -4.5,-1.985107 -4.5,-4.5 0,-2.514893 1.985107,-4.5 4.5,-4.5 z"}))},K=function(t){return i.a.createElement("g",null,i.a.createElement("rect",{className:"line",x:"4",y:"15.2",width:"24",height:"1.6"}))},z=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M27.088,17.484c0,0.423-0.343,0.766-0.766,0.766H5.677c-0.423,0-0.766-0.343-0.766-0.766v-2.969\r c0-0.423,0.343-0.766,0.766-0.766h20.646c0.423,0,0.766,0.343,0.766,0.766V17.484z"}))},H=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"m 11,27 a 1.0001,1.0001 0 1 0 0,2 h 10 a 1.0001,1.0001 0 1 0 0,-2 z m 3,-5 -1,6 h 6 L 18,22 M 4,4 A 1.0001,1.0001 0 0 0 3,5 v 17 a 1.0001,1.0001 0 0 0 1,1 h 24 a 1.0001,1.0001 0 0 0 1,-1 V 5 A 1.0001,1.0001 0 0 0 28,4 Z M 5,6 H 27 V 21 H 5 Z"}))},Y=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 4 4 A 1.0001 1.0001 0 0 0 3 5 L 3 22 A 1.0001 1.0001 0 0 0 4 23 L 13.833984 23 L 13.166016 27 L 11 27 A 1.0001 1.0001 0 1 0 11 29 L 21 29 A 1.0001 1.0001 0 1 0 21 27 L 18.833984 27 L 18.166016 23 L 28 23 A 1.0001 1.0001 0 0 0 29 22 L 29 5 A 1.0001 1.0001 0 0 0 28 4 L 4 4 z M 5 6 L 27 6 L 27 21 L 5 21 L 5 6 z M 18.9375 7.5957031 L 14.888672 15.099609 L 11.439453 10.1875 L 8.1503906 15.470703 L 9.8496094 16.529297 L 11.539062 13.8125 L 15.111328 18.898438 L 19.0625 11.576172 L 22.152344 16.529297 L 23.847656 15.470703 L 18.9375 7.5957031 z"}))},q=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M16.983,3.272l7.351,22.055c0.139,0.398,0.055,0.75-0.252,1.057c-0.037,0.038-0.104,0.089-0.193,0.148\r c-0.209,0.13-0.431,0.182-0.667,0.149c-0.237-0.029-0.44-0.131-0.609-0.298l-6.617-6.616l-6.617,6.616\r c-0.168,0.167-0.371,0.269-0.609,0.298c-0.237,0.032-0.459-0.02-0.666-0.149c-0.207-0.13-0.352-0.306-0.437-0.528\r c-0.084-0.222-0.087-0.446-0.011-0.677l7.352-22.055c0.045-0.153,0.131-0.292,0.253-0.414c0.207-0.206,0.452-0.306,0.735-0.298\r c0.223-0.008,0.425,0.054,0.609,0.184C16.788,2.874,16.915,3.05,16.983,3.272z"}))},X=function(t){return i.a.createElement("g",null,i.a.createElement("rect",{className:"line",x:"15.2",y:"4",width:"1.6",height:"24"}),i.a.createElement("rect",{className:"line",x:"4",y:"15.2",width:"24",height:"1.6"}))},Z=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M27.088,17.484c0,0.423-0.343,0.766-0.766,0.766H5.677c-0.423,0-0.766-0.343-0.766-0.766v-2.969\r c0-0.423,0.343-0.766,0.766-0.766h20.646c0.423,0,0.766,0.343,0.766,0.766V17.484z"}),i.a.createElement("path",{className:"line",d:"M17.484,4.912c0.423,0,0.766,0.343,0.766,0.766v20.646c0,0.423-0.343,0.766-0.766,0.766h-2.969\r c-0.423,0-0.766-0.343-0.766-0.766V5.677c0-0.423,0.343-0.766,0.766-0.766H17.484z"}))},J=function(t){return i.a.createElement("g",{transform:"scale(0.016,-0.016) translate(450,-1636)"},i.a.createElement("path",{className:"line",d:"M480 672v448q0 14 -9 23t-23 9t-23 -9t-9 -23v-448q0 -14 9 -23t23 -9t23 9t9 23zM1152 320q0 -26 -19 -45t-45 -19h-429l-51 -483q-2 -12 -10.5 -20.5t-20.5 -8.5h-1q-27 0 -32 27l-76 485h-404q-26 0 -45 19t-19 45q0 123 78.5 221.5t177.5 98.5v512q-52 0 -90 38\r\nt-38 90t38 90t90 38h640q52 0 90 -38t38 -90t-38 -90t-90 -38v-512q99 0 177.5 -98.5t78.5 -221.5z"}))},Q=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"polygon",d:"M11 11 L11 5 L27 5 L27 21 L21 21",strokeWidth:"3"}),i.a.createElement("rect",{className:"polygon",x:"5",y:"11",width:"16",height:"16",strokeWidth:"3"}),i.a.createElement("rect",{className:"line",x:"5",y:"11",width:"16",height:"4"}))},$=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M27,16c0,1.489-0.292,2.913-0.874,4.269c-0.581,1.354-1.366,2.526-2.349,3.509s-2.154,1.768-3.509,2.349\r C18.913,26.708,17.489,27,16,27c-1.642,0-3.204-0.346-4.684-1.038c-1.48-0.693-2.741-1.669-3.781-2.93\r c-0.067-0.095-0.098-0.202-0.093-0.322s0.045-0.216,0.122-0.293l1.962-1.977c0.096-0.086,0.215-0.129,0.358-0.129\r c0.152,0.02,0.263,0.077,0.329,0.172c0.697,0.907,1.552,1.609,2.564,2.105c1.012,0.495,2.086,0.744,3.223,0.744\r c0.994,0,1.94-0.193,2.843-0.58s1.684-0.909,2.342-1.568c0.659-0.658,1.182-1.439,1.568-2.342s0.58-1.849,0.58-2.843\r c0-0.993-0.193-1.941-0.58-2.843s-0.909-1.683-1.568-2.342c-0.658-0.659-1.439-1.182-2.342-1.568S16.994,8.667,16,8.667\r c-0.936,0-1.833,0.17-2.693,0.509s-1.623,0.823-2.292,1.454l1.962,1.977c0.296,0.287,0.363,0.616,0.2,0.988\r c-0.162,0.382-0.444,0.573-0.845,0.573H5.917c-0.248,0-0.463-0.091-0.645-0.272C5.091,13.713,5,13.499,5,13.25V6.833\r c0-0.401,0.191-0.683,0.573-0.845c0.373-0.163,0.702-0.095,0.988,0.201l1.862,1.848c1.021-0.965,2.189-1.712,3.502-2.242\r C13.238,5.265,14.596,5,16,5c1.489,0,2.913,0.292,4.269,0.874c1.354,0.583,2.526,1.366,3.509,2.349s1.768,2.153,2.349,3.509\r C26.708,13.087,27,14.51,27,16z"}))},tt=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M5.874,11.732c0.581-1.356,1.366-2.526,2.349-3.509s2.154-1.767,3.509-2.349C13.087,5.292,14.511,5,16,5\r c1.403,0,2.762,0.265,4.074,0.795c1.313,0.53,2.48,1.277,3.502,2.242l1.862-1.848c0.286-0.296,0.616-0.363,0.988-0.201\r C26.809,6.151,27,6.432,27,6.833v6.417c0,0.249-0.091,0.463-0.272,0.645s-0.396,0.272-0.645,0.272h-6.417\r c-0.4,0-0.683-0.191-0.845-0.573c-0.162-0.373-0.096-0.702,0.2-0.988l1.963-1.977c-0.669-0.63-1.433-1.115-2.292-1.454\r S16.936,8.667,16,8.667c-0.994,0-1.94,0.193-2.843,0.58s-1.684,0.91-2.342,1.568c-0.659,0.659-1.182,1.439-1.568,2.342\r s-0.58,1.85-0.58,2.843c0,0.994,0.193,1.94,0.58,2.843s0.909,1.684,1.568,2.342c0.658,0.659,1.439,1.182,2.342,1.568\r s1.849,0.58,2.843,0.58c1.136,0,2.21-0.249,3.223-0.744c1.012-0.496,1.866-1.198,2.563-2.105c0.066-0.095,0.177-0.152,0.329-0.172\r c0.144,0,0.263,0.043,0.358,0.129l1.962,1.977c0.077,0.077,0.117,0.173,0.122,0.293s-0.026,0.228-0.093,0.322\r c-1.041,1.261-2.302,2.236-3.781,2.93C19.203,26.654,17.642,27,16,27c-1.489,0-2.913-0.292-4.269-0.874\r c-1.354-0.581-2.526-1.366-3.509-2.349s-1.768-2.154-2.349-3.509C5.292,18.913,5,17.489,5,16C5,14.51,5.292,13.087,5.874,11.732z"}))},et=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 13,3 C 7.4889972,3 3,7.4889972 3,13 3,18.511003 7.4889972,23 13,23 18.511003,23 23,18.511003 23,13 23,7.4889972 18.511003,3 13,3 Z m 0,2 c 4.430123,0 8,3.5698773 8,8 0,4.430123 -3.569877,8 -8,8 C 8.5698773,21 5,17.430123 5,13 5,8.5698773 8.5698773,5 13,5 Z"}),i.a.createElement("path",{className:"line",d:"m 20.707031,19.292969 -1.414062,1.414062 9,9 1.414062,-1.414062 z"}))},nt=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"m 9,1.5 c -2.198703,0 -4,1.8012974 -4,4 v 21 c 0,2.198703 1.801297,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -15 -1.324219 A 1.0001,1.0001 0 0 0 26.707031,9.46875 L 19.015625,1.7929688 A 1.0001,1.0001 0 0 0 18.310547,1.5 H 17.042969 A 1.0001,1.0001 0 0 0 17,1.5 Z m 0,2 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 8.5 c 0,2.198703 1.801297,4 4,4 H 24.5 25 v 14 c 0,1.125297 -0.874703,2 -2,2 H 9 c -1.1252976,0 -2,-0.874703 -2,-2 v -21 c 0,-1.1252972 0.8747024,-2 2,-2 z M 17.953125,3.5546875 24.908203,10.5 H 24.5 19.931641 c -1.125298,0 -2,-0.8747028 -2,-2 V 3.9960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),i.a.createElement("path",{className:"line",d:"M 11.5 11 A 2.4999993 2.4999993 0 0 0 9 13.5 A 2.4999993 2.4999993 0 0 0 10.923828 15.929688 L 11.494141 22.214844 A 2.4999993 2.4999993 0 0 0 10 24.5 A 2.4999993 2.4999993 0 0 0 12.5 27 A 2.4999993 2.4999993 0 0 0 14.955078 24.962891 L 17.753906 24.59375 A 2.4999993 2.4999993 0 0 0 20 26 A 2.4999993 2.4999993 0 0 0 22.5 23.5 A 2.4999993 2.4999993 0 0 0 21.107422 21.261719 L 21.388672 19.417969 A 2.4999993 2.4999993 0 0 0 23.5 16.949219 A 2.4999993 2.4999993 0 0 0 21 14.449219 A 2.4999993 2.4999993 0 0 0 18.988281 15.470703 L 13.992188 13.654297 A 2.4999993 2.4999993 0 0 0 14 13.5 A 2.4999993 2.4999993 0 0 0 11.5 11 z M 13.455078 15.052734 L 18.501953 16.888672 A 2.4999993 2.4999993 0 0 0 18.5 16.949219 A 2.4999993 2.4999993 0 0 0 19.90625 19.195312 L 19.625 21.03125 A 2.4999993 2.4999993 0 0 0 17.533203 23.109375 L 14.777344 23.474609 A 2.4999993 2.4999993 0 0 0 12.986328 22.048828 L 12.421875 15.822266 A 2.4999993 2.4999993 0 0 0 13.455078 15.052734 z "}))},rt=function(t){return i.a.createElement("g",null,i.a.createElement("circle",{className:"line",cx:"6.998",cy:"16",r:"3.15"}),i.a.createElement("circle",{className:"line",cx:"24.005",cy:"8.513",r:"3.149"}),i.a.createElement("circle",{className:"line",cx:"24.005",cy:"23.484",r:"3.149"}),i.a.createElement("path",{className:"line",d:"M19.623,10.034c-0.003-0.005-0.002-0.012-0.004-0.018c-0.003-0.005-0.008-0.009-0.012-0.014\r c-0.042-0.082-0.111-0.149-0.206-0.184l0,0l-0.264-0.096L16.36,8.711c-0.199-0.072-0.418,0.03-0.492,0.229l-0.095,0.265\r c-0.073,0.2,0.029,0.418,0.229,0.49l1.724,0.627l-6.156,2.87c-0.192,0.089-0.275,0.317-0.185,0.509l0.119,0.255\r c0.09,0.192,0.317,0.275,0.509,0.185l6.155-2.87l-0.627,1.722c-0.072,0.199,0.029,0.418,0.229,0.491l0.264,0.096\r c0.199,0.072,0.418-0.03,0.492-0.229l1.01-2.778l0.097-0.263V10.31C19.665,10.216,19.658,10.119,19.623,10.034z"}),i.a.createElement("path",{className:"line",d:"M19.623,21.83c-0.003,0.006-0.002,0.013-0.004,0.018c-0.003,0.006-0.008,0.01-0.012,0.015\r c-0.042,0.081-0.111,0.149-0.206,0.185l0,0l-0.264,0.096l-2.777,1.012c-0.199,0.071-0.418-0.031-0.492-0.229l-0.095-0.265\r c-0.073-0.199,0.029-0.418,0.229-0.49l1.724-0.627l-6.156-2.871c-0.192-0.089-0.275-0.316-0.185-0.508l0.119-0.256\r c0.09-0.191,0.317-0.274,0.509-0.185l6.155,2.87l-0.627-1.723c-0.072-0.199,0.029-0.418,0.229-0.49l0.264-0.097\r c0.199-0.071,0.418,0.03,0.492,0.229l1.01,2.777l0.097,0.264l0,0C19.665,21.648,19.658,21.746,19.623,21.83z"}))},it=function(t){return i.a.createElement("g",{transform:"matrix(0.05117622,0,0,0.05117622,2.9443694,-1.5263058)"},i.a.createElement("path",{className:"line",d:"m 224.595,201.822 h -93.576 c -6.879,0 -13.674,3.236 -15.211,7.307 l -24.902,66.025 c -2.188,5.797 2.867,10.61 11.34,10.61 h 115.271 c 8.477,0 15.584,-4.813 15.873,-10.611 l 3.295,-66.024 c 0.203,-4.072 -5.211,-7.307 -12.09,-7.307 z"}),i.a.createElement("path",{className:"line",d:"m 379.204,201.821 -93.574,0.001 c -6.879,0 -12.293,3.236 -12.092,7.307 l 3.293,66.024 c 0.291,5.798 7.4,10.611 15.873,10.611 h 115.275 c 8.473,0 13.525,-4.813 11.338,-10.611 l -24.902,-66.024 c -1.536,-4.072 -8.334,-7.308 -15.211,-7.308 z"}),i.a.createElement("path",{className:"line",d:"M 419.61,319.696 H 295.565 c -9.117,0 -16.227,5.703 -15.865,12.927 l 6.236,125.035 c 0.586,11.742 10.93,21.594 23.078,21.594 h 165.289 c 12.148,0 18.283,-9.852 13.855,-21.594 L 440.994,332.623 c -2.722,-7.225 -12.267,-12.927 -21.384,-12.927 z"}),i.a.createElement("path",{className:"line",d:"m 214.657,319.696 -124.043,10e-4 c -9.121,0 -18.662,5.702 -21.387,12.926 L 22.065,457.657 c -4.428,11.742 1.703,21.594 13.855,21.594 h 165.285 c 12.152,0 22.492,-9.852 23.076,-21.594 l 6.24,-125.035 c 0.363,-7.223 -6.745,-12.926 -15.864,-12.926 z"}))},ot=function(t){return i.a.createElement("g",{transform:"matrix(0.05016772,0,0,0.05016772,3.2140793,3.141888)"},i.a.createElement("path",{className:"line",d:"M 210.81,37.038 H 55.599 c -11.047,0 -20,8.954 -20,20 v 155.211 c 0,11.046 8.953,20 20,20 H 210.81 c 11.045,0 20,-8.954 20,-20 V 57.038 c 0,-11.046 -8.956,-20 -20,-20 z"}),i.a.createElement("path",{className:"line",d:"m 454.127,37.038 h -155.21 c -11.047,0 -20,8.954 -20,20 v 155.211 c 0,11.046 8.953,20 20,20 h 155.211 c 11.045,0 20,-8.954 20,-20 V 57.038 c -10e-4,-11.046 -8.956,-20 -20.001,-20 z"}),i.a.createElement("path",{className:"line",d:"m 454.127,280.369 h -155.21 c -11.047,0 -20,8.954 -20,20 V 455.58 c 0,11.046 8.953,20 20,20 h 155.211 c 11.045,0 20,-8.954 20,-20 V 300.369 c -10e-4,-11.046 -8.956,-20 -20.001,-20 z"}),i.a.createElement("path",{className:"line",d:"M 210.81,280.369 H 55.599 c -11.047,0 -20,8.954 -20,20 V 455.58 c 0,11.046 8.953,20 20,20 H 210.81 c 11.045,0 20,-8.954 20,-20 V 300.369 c 0,-11.046 -8.956,-20 -20,-20 z"}))},at=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M 7.7070312,6.2929688 6.2929688,7.7070312 24.292969,25.707031 25.707031,24.292969 Z"}),i.a.createElement("path",{className:"line",d:"M 24.292969,6.2929688 6.2929688,24.292969 7.7070312,25.707031 25.707031,7.7070312 Z"}))},st=function(t){return i.a.createElement("g",null,i.a.createElement("polygon",{className:"line",points:"23.313,10.729 16.001,23.396 8.688,10.729"}))},ut=function(t){return i.a.createElement("g",null,i.a.createElement("path",{className:"line",d:"M4 27 l24 0",strokeWidth:"2"}),i.a.createElement("path",{className:"line",d:"M4 28 l0 -6",strokeWidth:"2"}),i.a.createElement("path",{className:"line",d:"M28 28 l0 -6",strokeWidth:"2"}),i.a.createElement("path",{className:"line",d:"M16 5 l0 18",strokeWidth:"2"}),i.a.createElement("path",{className:"line",d:"M16 5 l7 7",strokeWidth:"2"}),i.a.createElement("path",{className:"line",d:"M16 5 l-7 7",strokeWidth:"2"}))},lt=(n(32),function(t){return i.a.createElement("svg",{style:t.style,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",xmlSpace:"preserve",className:"ptr-icon ".concat(t.className||"")},"function"==typeof t.icon?t.icon():function(t){switch(t){case"angle-double-right":return i.a.createElement(E,null);case"angle-double-left":return i.a.createElement(b,null);case"angle-double-up":return i.a.createElement(_,null);case"angle-double-down":return i.a.createElement(v,null);case"arrow-left":case"back":return i.a.createElement(w,null);case"calendar":return i.a.createElement(S,null);case"circle":return i.a.createElement(x,null);case"chevron-left":return i.a.createElement(T,null);case"chevron-right":return i.a.createElement(O,null);case"crop":return i.a.createElement(C,null);case"delete":return i.a.createElement(A,null);case"dots":return i.a.createElement(L,null);case"download":return i.a.createElement(P,null);case"edit":return i.a.createElement(R,null);case"expand":return i.a.createElement(M,null);case"expand-row":return i.a.createElement(k,null);case"filter":return i.a.createElement(F,null);case"file-export":return i.a.createElement(N,null);case"file-csv":case"csv":return i.a.createElement(I,null);case"file-json":case"json":return i.a.createElement(D,null);case"file-xls":case"xls":case"excel":return i.a.createElement(j,null);case"info":return i.a.createElement(V,null);case"layers":return i.a.createElement(U,null);case"legend":return i.a.createElement(G,null);case"map-pin":return i.a.createElement(W,null);case"minus":return i.a.createElement(K,null);case"minus-thick":return i.a.createElement(z,null);case"monitor":case"display":return i.a.createElement(H,null);case"monitoring":return i.a.createElement(Y,null);case"north-arrow":return i.a.createElement(q,null);case"opacity":return i.a.createElement(B,null);case"plus":return i.a.createElement(X,null);case"plus-thick":return i.a.createElement(Z,null);case"pushpin":return i.a.createElement(J,null);case"restore":return i.a.createElement(Q,null);case"rotate-left":return i.a.createElement($,null);case"rotate-right":return i.a.createElement(tt,null);case"search":return i.a.createElement(et,null);case"shapefile":return i.a.createElement(nt,null);case"share":return i.a.createElement(rt,null);case"tilt-less":return i.a.createElement(ot,null);case"tilt-more":return i.a.createElement(it,null);case"times":case"close":return i.a.createElement(at,null);case"triangle-down":return i.a.createElement(st,null);case"upload":return i.a.createElement(ut,null);default:return i.a.createElement("g",null,i.a.createElement("rect",{x:"4.844",y:"4.844",fill:"none",stroke:"#FF3333",strokeMiterlimit:"10",width:"22.313",height:"22.313"}),i.a.createElement("line",{fill:"none",stroke:"#FF3333",strokeMiterlimit:"10",x1:"27.156",y1:"4.844",x2:"4.844",y2:"27.156"}),i.a.createElement("line",{fill:"none",stroke:"#FF3333",strokeMiterlimit:"10",x1:"4.844",y1:"4.844",x2:"27.156",y2:"27.156"}))}}(t.icon))});function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t,e){return!e||"object"!==ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mt=function(t){function e(){return ht(this,e),pt(this,dt(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=[i.a.createElement("span",{className:"ptr-icon-inline-wrap",key:"double-angle"},i.a.createElement(lt,{icon:"plus",height:"32",width:"32",className:"ptr-inline-icon"}))],e=[i.a.createElement("span",{className:"ptr-icon-inline-wrap",key:"double-angle"},i.a.createElement(lt,{icon:"angle-double-right",height:"16",width:"16",className:"ptr-inline-icon"}))],n=this.props.option&&this.props.option.className,r={label:this.props.option&&this.props.option.label||"Add item",className:"".concat(n," ptr-option-add"),value:this.props.option&&this.props.option.value||"itemAdd"};return i.a.createElement(y,{unfocusable:this.props.unfocusable,option:r,endItems:e,startItems:t,onOptionLabelClick:this.props.onOptionLabelClick})}}])&&ft(n.prototype,r),e}(i.a.PureComponent);mt.propTypes={option:a.a.object,onOptionLabelClick:a.a.func};var yt=mt,vt=(n(34),function(t,e){var n={};t.width?(n.width=t.width,n.flexGrow=0):n.flex=1,t.maxWidth&&(n.maxWidth=t.maxWidth),t.minWidth&&(n.minWidth=t.minWidth);var r=null;t.component?r=i.a.createElement(t.component,t.props):t.render&&(r=t.render());var o=null;e&&(o=i.a.createElement("div",{className:"ptr-adjustable-column-handle handle"+e},i.a.createElement("div",null)));var a=u()("ptr-adjustable-column",t.className);return i.a.createElement(i.a.Fragment,{key:e},o,i.a.createElement("div",{className:a,style:n},i.a.createElement("div",{className:"ptr-adjustable-columns-content"},r)))}),bt=function(t){return i.a.createElement("div",{className:u()("ptr-adjustable-columns",{fixed:t.fixed})},t&&t.content&&t.content.length&&t.content.map(vt)||null)};function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(36);var Ot=function(t){function e(){return _t(this,e),St(this,xt(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return i.a.createElement("div",{className:u()("ptr-menu",this.props.className,{open:this.props.open,bottom:this.props.bottom,top:this.props.top,left:this.props.left,right:this.props.right}),style:{height:this.props.open?2*i.a.Children.toArray(this.props.children).filter((function(t){return i.a.isValidElement(t)})).length+"rem":0},onClick:function(t){t.preventDefault()}},this.props.children)}}])&&wt(n.prototype,r),e}(i.a.PureComponent),Ct=function(t){var e=i.a.Children.map(t.children,(function(t){return"string"==typeof t?i.a.createElement("div",{className:"ptr-menu-item-caption"},t):t}));return i.a.createElement("div",{className:u()("ptr-menu-item",t.className,{selected:t.selected,disabled:t.disabled}),onClick:function(e){t.onClick&&t.onClick(e),e.preventDefault()}},e)};function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(38);var Nt=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=Mt(e).call(this,t))||"object"!==Pt(r)&&"function"!=typeof r?kt(this):r).state={focused:!1,menuOpen:!1},n.onBlur=n.onBlur.bind(kt(n)),n.onClick=n.onClick.bind(kt(n)),n.onKeyPress=n.onKeyPress.bind(kt(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t){this.props.disabled||(this.props.onClick&&this.props.onClick(t),this.setState({menuOpen:!this.state.menuOpen}))}},{key:"onBlur",value:function(){this.setState({menuOpen:!1})}},{key:"onKeyPress",value:function(t){(32===t.charCode||13===t.charCode)&&this.onClick(t)}},{key:"render",value:function(){var t=this,e=null;this.props.icon&&(e=i.a.createElement(lt,{icon:this.props.icon}));var n=!1,r=i.a.Children.map(this.props.children,(function(e){if(e){if("string"==typeof e)return n=!0,i.a.createElement("div",{className:"ptr-button-caption"},e);if("object"===Pt(e)&&e.type===i.a.Fragment)return n=!0,i.a.createElement("div",{className:"ptr-button-content"},e);if("object"===Pt(e)&&e.type===Ot){var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){Lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e.props,{open:!!t.state.menuOpen,className:u()(e.props.className,"ptr-button-menu")});return i.a.cloneElement(e,r,e.props.children)}return n=!0,e}})),o=u()("ptr-button",{circular:!!this.props.circular,disabled:this.props.disabled,ghost:!!this.props.ghost,icon:!!e&&!n,invisible:!!this.props.invisible,inverted:!!this.props.inverted,large:!!this.props.large,primary:!!this.props.primary,secondary:!!this.props.secondary,side:!!this.props.side,"side-left":"left"===this.props.side,"side-right":"right"===this.props.side,"side-top":"top"===this.props.side,"side-bottom":"bottom"===this.props.side,small:this.props.small},this.props.className);return i.a.createElement("div",{className:o,id:this.props.id,onBlur:this.onBlur,onClick:this.onClick,onKeyPress:this.onKeyPress,tabIndex:this.props.disabled||this.props.unfocusable?"-1":"0",title:this.props.title},e,r)}}])&&Rt(n.prototype,r),e}(i.a.PureComponent);Nt.propTypes={circular:a.a.bool,className:a.a.string,disabled:a.a.bool,ghost:a.a.bool,icon:a.a.string,inverted:a.a.bool,invisible:a.a.bool,large:a.a.bool,onClick:a.a.func.isRequired,primary:a.a.bool,secondary:a.a.bool,side:a.a.string,small:a.a.bool,title:a.a.string,unfocusable:a.a.bool},Nt.defaultProps={disabled:!1};var Dt=Nt,jt=function(t){var e=t.vertical,n=t.children;return i.a.createElement("div",{className:u()("ptr-buttons",{vertical:e})},n)},Ft=function(t){var e=t.vertical,n=t.children;return i.a.createElement("div",{className:u()("ptr-button-group",{vertical:e})},n)};function Vt(){return(Vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qt=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=zt(e).call(this,t))||"object"!==Bt(r)&&"function"!=typeof r?Ht(this):r).state={focused:!1},n.onBlur=n.onBlur.bind(Ht(n)),n.onClick=n.onClick.bind(Ht(n)),n.onKeyPress=n.onKeyPress.bind(Ht(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t,e){this.props.disabled||this.props.onClick&&this.props.onClick(t,e)}},{key:"onBlur",value:function(){}},{key:"onKeyPress",value:function(t){(32===t.charCode||13===t.charCode)&&this.onClick(t)}},{key:"render",value:function(){var t=this,e=this.props,n=(e.onClick,Wt(e,["onClick"])),r=i.a.Children.map(this.props.children,(function(e){var r=e.props,o=r.active,a=r.value,s=Wt(r,["active","value"]);return s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){Gt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n,{},s,{active:o,onClick:t.onClick.bind(t,a)}),i.a.cloneElement(e,s,e.props.children)})),o=u()("ptr-button-switch",{disabled:this.props.disabled,ghost:!!this.props.ghost,invisible:!!this.props.invisible,inverted:!!this.props.inverted,large:!!this.props.large,small:this.props.small},this.props.className);return i.a.createElement(Ft,{className:o,onBlur:this.onBlur,onClick:this.onClick,onKeyPress:this.onKeyPress,tabIndex:this.props.disabled||this.props.unfocusable?"-1":"0",title:this.props.title},r)}}])&&Kt(n.prototype,r),e}(i.a.PureComponent);qt.propTypes={disabled:a.a.bool,ghost:a.a.bool,inverted:a.a.bool,invisible:a.a.bool,large:a.a.bool,onClick:a.a.func.isRequired,small:a.a.bool,title:a.a.string,unfocusable:a.a.bool},qt.defaultProps={disabled:!1};var Xt=qt,Zt=function(t){var e=t.active,n=t.onClick,r=t.children,o=Wt(t,["active","onClick","children"]);return i.a.createElement(Dt,Vt({className:u()({active:e}),onClick:n},o),r)},Jt=(n(40),function(t){return i.a.createElement("div",{className:u()("ptr-center",{horizontally:t.horizontally,vertically:t.vertically})},t.children)});function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ee(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ne(t,e){return(ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(42);var re=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=te(e).call(this,t))||"object"!==Qt(r)&&"function"!=typeof r?ee(this):r).state={height:36},n.ref=n.ref.bind(ee(n)),n.onFocus=n.onFocus.bind(ee(n)),n.onBlur=n.onBlur.bind(ee(n)),n.onChange=n.onChange.bind(ee(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}(e,t),n=e,(r=[{key:"ref",value:function(t){this.el=t}},{key:"componentDidMount",value:function(){this.resize()}},{key:"componentWillReceiveProps",value:function(t){}},{key:"componentDidUpdate",value:function(){this.resize()}},{key:"resize",value:function(){this.el&&void 0!==this.el.scrollHeight&&Math.abs(this.el.scrollHeight-this.state.height)>2&&this.el.scrollHeight>36&&this.setState({height:this.el.scrollHeight})}},{key:"onFocus",value:function(){this.setState({focused:!0}),console.log("#####",this.props.onFocus),this.props.onFocus&&this.props.onFocus()}},{key:"onBlur",value:function(){this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur()}},{key:"onChange",value:function(t){this.props.hasOwnProperty("value")&&this.props.onChange?(console.log("#######",t.target.value),this.props.onChange(t.target.value)):this.setState({value:t.target.value})}},{key:"render",value:function(){var t=u()("ptr-editable-text",{disabled:this.props.disabled,empty:!(this.props.value||this.state&&this.state.value),large:this.props.large,editing:this.props.editing,required:this.props.required,inverted:this.props.inverted,invisible:this.props.invisible}),e=this.props.value||this.state&&this.state.value||"",n={height:e.length?this.state.height:36};if(this.props.disabled)return i.a.createElement("div",{className:t},this.props.value||this.state&&this.state.value||"");var r=this.renderMessage();return i.a.createElement("div",null,i.a.createElement("textarea",{tabIndex:this.props.unfocusable?-1:0,className:t,style:n,ref:this.ref,value:e,placeholder:this.props.placeholder,onFocus:this.onFocus,onBlur:this.onBlur,spellCheck:this.state.focused,onChange:this.onChange}),r)}},{key:"renderMessage",value:function(){return this.props.required&&!(this.props.value||this.state&&this.state.value)?i.a.createElement("div",{className:"ptr-editable-text-message"},"Required field"):null}}])&&$t(n.prototype,r),e}(i.a.PureComponent);re.propTypes={disabled:a.a.bool,required:a.a.bool,unfocusable:a.a.bool};var ie=re,oe=function(t){var e=t.children,n=t.centered,r=i.a.createElement("div",{style:{background:"#f00",padding:"0 .5rem"}},e);return n?i.a.createElement(Jt,{horizontally:!0,vertically:!0},r):r};function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t,e){return(he=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(44);var fe=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,ce(e).call(this,t))).state={opacity:0},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&he(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){t.setState({opacity:1})}),1)}},{key:"render",value:function(){var t=this,e=u()("ptr-fade-in-container",{vertical:this.props.vertical});return i.a.createElement("div",{className:e},i.a.Children.map(this.props.children,(function(e,n){if(e){var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?se(Object(n),!0).forEach((function(e){ue(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e.props.style?e.props.style:{},{transition:"opacity ".concat(t.props.duration,"ms ease-in-out ").concat(n*t.props.delay,"ms"),opacity:t.state.opacity});return i.a.cloneElement(e,{style:r})}return null})))}}])&&le(n.prototype,r),e}(i.a.PureComponent);fe.propTypes={delay:a.a.number,duration:a.a.number,vertical:a.a.bool},fe.defaultProps={duration:1e3,delay:100};var pe=fe;function de(t){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(46);var be=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=me(e).call(this,t),(n=!r||"object"!==de(r)&&"function"!=typeof r?ye(this):r).onTouchStart=function(t){t.stopPropagation(),t.preventDefault(),n.onMouseDown(t)},n.onTouchEnd=function(t){t.stopPropagation(),t.preventDefault(),n.onMouseOut(t)},n.onMouseDown=function(){n.props.disabled||(n.props.onClick(),n.clearTimeout(),n.longPressTimeout=setTimeout(n.longPressStart.bind(ye(n)),n.props.startTimeout))},n.onMouseOut=function(){n.clearTimeout(),n.isCurrentlyPressed()&&n.setState({isPressed:!1})},n.clearTimeout=function(){clearTimeout(n.longPressTimeout),clearInterval(n.pressInterval),n.longPressTimeout=void 0,n.pressInterval=void 0},n.isCurrentlyPressed=function(){return n.state.isPressed},n.longPressStart=function(){n.props.longPressStart(),n.props.finite?n.props.finite&&(n.pressInterval=setTimeout(n.longPressEnd,n.props.pressCallbackTimeout)):(n.props.pressCallback(),n.pressInterval=setInterval(n.props.pressCallback,n.props.pressCallbackTimeout)),n.setState({isPressed:!0})},n.longPressEnd=function(){n.onMouseOut(),n.props.longPressEnd()},n.node=i.a.createRef(),n.onMouseOut=n.onMouseOut.bind(ye(n)),n.onMouseDown=n.onMouseDown.bind(ye(n)),n.onTouchStart=n.onTouchStart.bind(ye(n)),n.onTouchEnd=n.onTouchEnd.bind(ye(n)),n.state={isPressed:!1},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.node.current.addEventListener("touchstart",this.onTouchStart),this.node.current.addEventListener("touchend",this.onTouchEnd)}},{key:"componentWillUnmount",value:function(){this.node.current.removeEventListener("touchstart",this.onTouchStart),this.node.current.removeEventListener("touchend",this.onTouchEnd)}},{key:"render",value:function(){var t=u()("hold-button ".concat(this.props.className),{pressed:this.state.isPressed,disabled:this.props.disabled});return i.a.createElement("button",{ref:this.node,className:t,onMouseLeave:this.onMouseOut,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseOut},this.props.children)}}])&&ge(n.prototype,r),e}(i.a.Component);be.defaultProps={startTimeout:300,onClick:function(){},longPressStart:function(){},longPressEnd:function(){},pressCallbackTimeout:500,pressCallback:void 0,finite:!0,className:"",disabled:!1},be.propTypes={startTimeout:a.a.number,longPressStart:a.a.func,longPressEnd:a.a.func,pressCallbackTimeout:a.a.number,pressCallback:a.a.func,finite:a.a.bool,className:a.a.string,children:a.a.node.isRequired,disabled:a.a.bool};var Ee=be;function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(48);var Oe=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=Se(e).call(this,t))||"object"!==_e(r)&&"function"!=typeof r?xe(this):r).state={value:n.props.value},n.onBlur=n.onBlur.bind(xe(n)),n.onChange=n.onChange.bind(xe(n)),n.onChangeMultiline=n.onChangeMultiline.bind(xe(n)),n.onFocus=n.onFocus.bind(xe(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(e,t),n=e,(r=[{key:"componentWillReceiveProps",value:function(t){this.setState({value:t.value})}},{key:"onChange",value:function(t){this.props.hasOwnProperty("value")&&this.props.onChange?this.props.onChange(t.target.value):this.setState({value:t.target.value})}},{key:"onChangeMultiline",value:function(t){this.props.hasOwnProperty("value")&&this.props.onChange?(""===t&&(t=null),this.props.onChange(t)):this.setState({value:t})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"onFocus",value:function(){this.setState({focus:!0})}},{key:"render",value:function(){var t=u()("ptr-input-text",{empty:!this.state.value,focus:this.state.focus,input:!this.props.multiline,inverted:!!this.props.inverted,multiline:this.props.multiline,disabled:this.props.disabled});return i.a.createElement("div",{className:t},this.props.multiline?this.renderMultiline():this.renderInput(),this.props.children)}},{key:"renderInput",value:function(){var t="text";return this.props.password?t="password":this.props.email?t="email":this.props.date?t="date":this.props.number&&(t="number"),i.a.createElement("input",{type:t,disabled:this.props.disabled,tabIndex:this.props.unfocusable?-1:0,placeholder:this.state.focus?null:this.props.placeholder,value:this.state.value||"",name:this.props.name,onChange:this.onChange,autoFocus:this.state.focus,onBlur:this.onBlur,onFocus:this.onFocus})}},{key:"renderMultiline",value:function(){return i.a.createElement(ie,{invisible:!0,disabled:this.props.disabled,unfocusable:this.props.unfocusable,value:this.state.value||"",name:this.props.name,onChange:this.onChangeMultiline,onFocus:this.onFocus,onBlur:this.onBlur})}}])&&we(n.prototype,r),e}(i.a.PureComponent);Oe.propTypes={disabled:a.a.bool,focus:a.a.bool,inverted:a.a.bool,name:a.a.string,onChange:a.a.func,placeholder:a.a.string,unfocusable:a.a.bool,value:a.a.string};var Ce=Oe,Ae=n(23),Le=n(24),Pe=(n(50),n(11));function Re(t){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ie(t,e){return!e||"object"!==Re(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function De(t,e){return(De=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pe.localesUtils.addI18nResources("Atoms#InputWrapper",{cz:Ae,en:Le});var je=function(t){function e(){return Me(this,e),Ie(this,Ne(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&De(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.t,e=u()("ptr-input-wrapper",this.props.className,{disabled:this.props.disabled}),n=this.props.info?i.a.createElement("div",{className:"ptr-input-wrapper-info"},this.props.info):null,r=i.a.Children.map(this.props.children,(function(t){return"object"===Re(t)&&t.type===Ve?(n=t,null):t})),o=this.props.required?i.a.createElement("div",{className:"ptr-input-wrapper-required"},t("requiredFieldLabel")):null;return this.props.divInsteadOfLabel?i.a.createElement("div",{className:e},i.a.createElement("div",null,o,this.props.label?i.a.createElement("span",{className:"ptr-input-label"},this.props.label):null,r),n):i.a.createElement("div",{className:e},i.a.createElement("label",null,o,i.a.createElement("span",{className:"ptr-input-label"},this.props.label),r),n)}}])&&ke(n.prototype,r),e}(i.a.PureComponent);je.propTypes={divInsteadOfLabel:a.a.bool,disabled:a.a.bool,label:a.a.string,required:a.a.bool};var Fe=Object(Pe.withNamespaces)(["Atoms#InputWrapper"])(je),Ve=function(t){return i.a.createElement("div",{className:"ptr-input-wrapper-info"},t.children)},Be=n(3),Ue=n.n(Be),Ge=(n(12),n(25)),We=n.n(Ge),Ke=n(27),ze=n.n(Ke),He=n(26);function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(n),!0).forEach((function(e){Je(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nn=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=$e(e).call(this,t))||"object"!==Ye(r)&&"function"!=typeof r?tn(this):r).getLabel=n.getLabel.bind(tn(n)),n.onChange=n.onChange.bind(tn(n)),n.onCreate=n.onCreate.bind(tn(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&en(t,e)}(e,t),n=e,(r=[{key:"getFormattedOptions",value:function(){var t=this;return this.props.options.map((function(e){var n=e,r=e;return t.props.optionValue&&(r=Ue.a.get(e,t.props.optionValue)),t.props.optionLabel&&(n=Ue.a.get(e,t.props.optionLabel)),{value:r,label:n,isDisabled:e.isDisabled}}))}},{key:"onChange",value:function(t){var e=this;if(Ue.a.isArray(t))if(Ue.a.isEmpty(t))this.props.onChange(null);else if(this.props.optionValue){var n=[];Ue.a.forEach(t,(function(t){var r=Ue.a.find(e.props.options,(function(n){return(t&&t.value)===Ue.a.get(n,e.props.optionValue)}));r&&n.push(r)})),this.props.onChange(n)}else{var r=t.map((function(t){return t.value}));this.props.onChange(r)}else if(this.props.optionValue){var i=Ue.a.find(this.props.options,(function(n){return Ue.a.get(n,e.props.optionValue)===(t&&t.value)}));i?this.props.onChange(i):this.props.onChange(null)}else this.props.onChange(t?t.value:null)}},{key:"onCreate",value:function(t){var e=He.utils.uuid();if(this.props.optionValue&&this.props.optionLabel){var n={};Ue.a.set(n,this.props.optionValue,e),Ue.a.set(n,this.props.optionLabel,t),this.props.onCreate(n)}else this.props.onCreate(t)}},{key:"render",value:function(){var t=Ze({},this.props);t.options?t.options=this.getFormattedOptions():t.options=[],t.value&&"string"==typeof t.value?t.value=Ue.a.find(t.options,{value:t.value}):t.value&&t.optionValue&&!Ue.a.isArray(t.value)?t.value=Ue.a.find(t.options,{value:Ue.a.get(t.value,t.optionValue)}):Ue.a.isArray(t.value)&&(t.value=Ue.a.filter(t.options,(function(e){return!!Ue.a.find(t.value,(function(n){return"string"==typeof n?n===e.value:Ue.a.get(n,t.optionValue)===e.value}))})));var e=u()("ptr-select-container ".concat(this.props.className?this.props.className:""),{"value-is-title":!!this.props.valueIsTitle,disabled:this.props.disabled,clearable:this.props.clearable,multi:this.props.multi});switch(this.props.type){case"creatable":return this.renderCreatable(t,e);default:return this.renderBase(t,e)}}},{key:"renderBase",value:function(t,e){return i.a.createElement(We.a,{className:e,classNamePrefix:"ptr-select",clearable:this.props.clearable,components:t.components,formatOptionLabel:this.getLabel,hideSelectedOptions:t.hideSelectedOptions,isClearable:this.props.clearable,isDisabled:this.props.disabled,isOptionDisabled:function(t){return t.isDisabled},isMulti:this.props.multi,onChange:this.onChange,options:t.options,tabIndex:t.unfocusable?-1:0,value:t.value,title:t.value,styles:{menuPortal:function(t){return t.zIndex,Ze({},qe(t,["zIndex"]),{zIndex:9999})}},menuPortalTarget:document.getElementById(this.props.menuPortalTarget||"ptr-app")})}},{key:"renderCreatable",value:function(t,e){return i.a.createElement(ze.a,{className:e,classNamePrefix:"ptr-select",components:t.components,formatOptionLabel:this.getLabel,hideSelectedOptions:t.hideSelectedOptions,isClearable:this.props.clearable,isDisabled:this.props.disabled,isOptionDisabled:function(t){return t.isDisabled},isMulti:this.props.multi,onChange:this.onChange,onCreateOption:this.onCreate,options:t.options,tabIndex:t.unfocusable?-1:0,value:t.value,title:t.value,styles:{menuPortal:function(t){return t.zIndex,Ze({},qe(t,["zIndex"]),{zIndex:9999})}},menuPortalTarget:document.getElementById(this.props.menuPortalTarget||"ptr-app")})}},{key:"getLabel",value:function(t){var e=this;if(this.props.formatOptionLabel){if(this.props.optionValue){var n=Ue.a.find(this.props.options,(function(n){return Ue.a.get(n,e.props.optionValue)===t.value}));if(n)return this.props.formatOptionLabel(n);throw new Error("Select#Selected option was not found in original options.")}return this.props.formatOptionLabel(t.label)}var r=null,o=t.label;return this.props.withKeyPrefix&&(r=i.a.createElement(c,{value:t.value})),i.a.createElement("div",{className:"label",key:"label"},r,o)}}])&&Qe(n.prototype,r),e}(i.a.PureComponent);nn.propTypes={className:a.a.string,clearable:a.a.bool,components:a.a.object,disabled:a.a.bool,formatOptionLabel:a.a.func,multi:a.a.bool,onChange:a.a.func,options:a.a.array,optionLabel:a.a.string,optionValue:a.a.string,type:a.a.string,unfocusable:a.a.bool,value:a.a.oneOfType([a.a.object,a.a.string]),valueIsTitle:a.a.bool,withKeyPrefix:a.a.bool,onCreate:a.a.func,menuPortalTarget:a.a.string};var rn=nn;function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cn(t,e){return(cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hn=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=un(e).call(this,t))||"object"!==on(r)&&"function"!=typeof r?ln(this):r).onChange=n.onChange.bind(ln(n)),n.onOptionLabelClick=n.onOptionLabelClick.bind(ln(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cn(t,e)}(e,t),n=e,(r=[{key:"getFormattedOptions",value:function(t){var e=this;return Ue.a.isArray(t)||(t=[t]),t.map((function(t){return t?{value:e.getOptionValue(t),label:e.getOptionLabel(t)}:[]}))}},{key:"getSelectedOptions",value:function(){var t=this,e=this.props.selectedValues;return e&&this.props.options?(Ue.a.isArray(e)||(e=[e]),this.props.optionValue?Ue.a.filter(this.props.options,(function(n){var r=t.getOptionValue(n);return!!Ue.a.find(e,(function(e){return r===t.getOptionValue(e)}))})):e):[]}},{key:"getOptionValue",value:function(t){return this.props.optionValue&&Ue.a.isObject(t)?Ue.a.get(t,this.props.optionValue):t}},{key:"getOptionLabel",value:function(t){return this.props.optionLabel?Ue.a.get(t,this.props.optionLabel):t}},{key:"onChange",value:function(t){var e=this.getSelectedOptions();this.props.onChange([].concat(an(e),[t]))}},{key:"onOptionLabelClick",value:function(t,e){var n=this;if(this.props.onOptionLabelClick){e.stopPropagation(),e.preventDefault();var r=Ue.a.find(this.props.options,(function(e){return n.getOptionValue(e)===t.value}));this.props.onOptionLabelClick(r)}}},{key:"onRemoveOptionClick",value:function(t,e){var n=this;e.stopPropagation(),e.preventDefault();var r=this.getSelectedOptions(),i=Ue.a.filter(r,(function(e){return n.getOptionValue(e)!==t.value}));this.props.onChange(i)}},{key:"blockEvent",value:function(t){t.stopPropagation()}},{key:"getRemoveIcon",value:function(t){return i.a.createElement("span",{className:" ptr-icon-inline-wrap",key:"remove",onMouseDown:this.blockEvent,onClick:this.onRemoveOptionClick.bind(this,t),onTouchEnd:this.onRemoveOptionClick.bind(this,t)},i.a.createElement(lt,{icon:"times",height:"16",width:"16",className:"ptr-inline-icon hover"}))}},{key:"getSelectedItem",value:function(t,e){t.findIndex((function(t){return t===e.value}));var n=(t.length,[]);this.props.disabled||n.push(this.getRemoveIcon(e));var r=[i.a.createElement("span",{className:"ptr-icon-inline-wrap",key:"double-angle"},i.a.createElement(lt,{icon:"angle-double-right",height:"16",width:"16",className:"ptr-inline-icon"}))];return i.a.createElement(y,{key:e.value,option:e,onOptionLabelClick:this.onOptionLabelClick,unfocusable:this.props.unfocusable,withKeyPrefix:this.props.withKeyPrefix,endItems:r,startItems:n})}},{key:"getSelectedItems",value:function(t,e){return e&&e.length>0?e.reduce((function(e,n){var r=t.find((function(t){return t.value===n.value}));return r?[].concat(an(e),[r]):e}),[]).map(this.getSelectedItem.bind(this,e)):null}},{key:"getRestOptions",value:function(t,e){var n=this;return Ue.a.reject(t,(function(t){var r=n.getOptionValue(t);return Ue.a.includes(e.map((function(t){return n.getOptionValue(t)})),r)}))}},{key:"render",value:function(){var t=this.props.options?this.props.options:[],e=[];this.props.selectedValues&&(e=Ue.a.isArray(this.props.selectedValues)?this.props.selectedValues:[this.props.selectedValues]);var n=this.getFormattedOptions(t),r=this.getFormattedOptions(e),o=this.getSelectedItems(n,r),a=this.getRestOptions(t,e),s=null;return this.props.singleValue&&1===e.length||(s=this.renderSelect(a)),i.a.createElement("div",null,o?i.a.createElement("div",{className:"items"},o):null,s)}},{key:"renderSelect",value:function(t){return this.props.creatable?i.a.createElement(rn,{type:"creatable",disabled:this.props.disabled,onChange:this.onChange,onCreate:this.props.onAdd,options:t,optionLabel:this.props.optionLabel,optionValue:this.props.optionValue,unfocusable:this.props.unfocusable,value:null,withKeyPrefix:this.props.withKeyPrefix}):i.a.createElement(rn,{disabled:this.props.disabled,onChange:this.onChange,options:t,optionLabel:this.props.optionLabel,optionValue:this.props.optionValue,unfocusable:this.props.unfocusable,value:null,withKeyPrefix:this.props.withKeyPrefix})}}])&&sn(n.prototype,r),e}(i.a.PureComponent);hn.propTypes={creatable:a.a.bool,disabled:a.a.bool,optionLabel:a.a.string,optionValue:a.a.string,onAdd:a.a.func,onChange:a.a.func,onOptionLabelClick:a.a.func,options:a.a.array,selectedValues:a.a.oneOfType([a.a.array,a.a.string]),singleValue:a.a.bool,unfocusable:a.a.bool,withKeyPrefix:a.a.bool};var fn=hn;function pn(t){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mn(t,e){return!e||"object"!==pn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yn(t){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(76);var bn=function(t){function e(){return dn(this,e),mn(this,yn(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vn(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=u()("loading-screen",{transparent:this.props.transparent,"fade-out":this.props.fadeOut}),e=u()("a-loader-container",{blackandwhite:this.props.blackandwhite,small:this.props.small}),n=null;return this.props.background&&(n={background:this.props.background}),i.a.createElement("div",{className:t,style:n},i.a.createElement("div",{className:"loading-screen-content-wrap"},i.a.createElement("div",{className:"loading-screen-content"},i.a.createElement("div",{className:e},i.a.createElement("i",{className:"i1"}),i.a.createElement("i",{className:"i2"}),i.a.createElement("i",{className:"i3"}),i.a.createElement("i",{className:"i4"}),this.props.progress?i.a.createElement("div",{className:"a-loader-progress"},this.props.progress," %"):null))))}}])&&gn(n.prototype,r),e}(i.a.PureComponent);bn.propTypes={background:a.a.string,fadeOut:a.a.bool,progress:a.a.number,transparent:a.a.bool,blackandwhite:a.a.bool,small:a.a.bool};var En=bn,_n=(n(78),i.a.createContext(null));function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function On(t,e){return(On=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cn=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=xn(e).call(this,t))||"object"!==wn(r)&&"function"!=typeof r?Tn(this):r).onBlur=n.onBlur.bind(Tn(n)),n.onClick=n.onClick.bind(Tn(n)),n.onKeyPress=n.onKeyPress.bind(Tn(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&On(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t){this.props.disabled||this.context.onSelect&&this.context.onSelect(this.props.itemKey)}},{key:"onBlur",value:function(){}},{key:"onKeyPress",value:function(t){(32===t.charCode||13===t.charCode)&&this.onClick(t)}},{key:"render",value:function(){var t=u()("ptr-panther-select-item",{selected:!!this.props.selected,disabled:this.props.disabled},this.props.className);return i.a.createElement("div",{className:t,style:this.props.style,onMouseDown:this.onClick},this.props.children)}}])&&Sn(n.prototype,r),e}(i.a.PureComponent);Cn.propTypes={disabled:a.a.bool,selected:a.a.bool,onSelect:a.a.func},Cn.defaultProps={disabled:!1},Cn.contextType=_n;var An=Cn;function Ln(t){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var In=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=Rn(e).call(this,t))||"object"!==Ln(r)&&"function"!=typeof r?Mn(this):r).onBlur=n.onBlur.bind(Mn(n)),n.onClick=n.onClick.bind(Mn(n)),n.onKeyPress=n.onKeyPress.bind(Mn(n)),n.onSelect=n.onSelect.bind(Mn(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t){this.props.disabled||this.props.currentDisabled||this.props.onSelectClick&&this.props.onSelectClick(t)}},{key:"onBlur",value:function(t){var e=this;this.props.onBlur&&setTimeout((function(){e.props.onBlur()}),100)}},{key:"onKeyPress",value:function(t){(32===t.charCode||13===t.charCode)&&this.onClick(t)}},{key:"onSelect",value:function(t){this.props.disabled||this.props.onSelect&&this.props.onSelect(t)}},{key:"render",value:function(){var t=u()("ptr-panther-select",{open:!!this.props.open,disabled:!!this.props.disabled,currentDisabled:!!this.props.currentDisabled},this.props.className);return i.a.createElement("div",{className:t,onBlur:this.onBlur},i.a.createElement("div",{className:u()("ptr-panther-select-current",this.props.currentClasses,{disabled:!!this.props.disabled}),tabIndex:this.props.disabled||this.props.currentDisabled?"-1":"0",onClick:this.onClick,style:this.props.currentStyle},i.a.createElement("div",null,this.props.renderCurrent(this.props)),i.a.createElement("div",{className:"ptr-panther-select-current-icon"},i.a.createElement(lt,{icon:"triangle-down"}))),i.a.createElement("div",{className:u()("ptr-panther-select-list",this.props.listClasses)},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(_n.Provider,{value:{onSelect:this.onSelect}},this.props.children)))))}}])&&Pn(n.prototype,r),e}(i.a.PureComponent);In.propTypes={disabled:a.a.bool,currentDisabled:a.a.bool,open:a.a.bool,onBlur:a.a.func,onSelectClick:a.a.func,onSelect:a.a.func,renderCurrent:a.a.func,renderList:a.a.func,currentClasses:a.a.string,currentStyle:a.a.object,listClasses:a.a.string},In.defaultProps={disabled:!1,currentDisabled:!1,currentStyle:null};var Nn=An,Dn=In;n.d(e,"AddValue",(function(){return yt})),n.d(e,"AdjustableColumns",(function(){return bt})),n.d(e,"Button",(function(){return Dt})),n.d(e,"Buttons",(function(){return jt})),n.d(e,"ButtonGroup",(function(){return Ft})),n.d(e,"ButtonSwitchOption",(function(){return Zt})),n.d(e,"ButtonSwitch",(function(){return Xt})),n.d(e,"Center",(function(){return Jt})),n.d(e,"EditableText",(function(){return ie})),n.d(e,"Error",(function(){return oe})),n.d(e,"FadeIn",(function(){return pe})),n.d(e,"HoldButton",(function(){return Ee})),n.d(e,"Icon",(function(){return lt})),n.d(e,"Input",(function(){return Ce})),n.d(e,"InputWrapper",(function(){return Fe})),n.d(e,"InputWrapperInfo",(function(){return Ve})),n.d(e,"Menu",(function(){return Ot})),n.d(e,"MenuItem",(function(){return Ct})),n.d(e,"MultiSelect",(function(){return fn})),n.d(e,"Loader",(function(){return En})),n.d(e,"PantherSelect",(function(){return Dn})),n.d(e,"PantherSelectItem",(function(){return Nn})),n.d(e,"Select",(function(){return rn})),n.d(e,"Value",(function(){return y})),e.default={AddValue:yt,AdjustableColumns:bt,Button:Dt,Buttons:jt,ButtonGroup:Ft,ButtonSwitchOption:Zt,ButtonSwitch:Xt,Center:Jt,EditableText:ie,Error:oe,FadeIn:pe,HoldButton:Ee,Icon:lt,Input:Ce,InputWrapper:Fe,InputWrapperInfo:Ve,Menu:Ot,MenuItem:Ct,MultiSelect:fn,Loader:En,PantherSelect:Dn,PantherSelectItem:Nn,Select:rn,Value:y}}]))},function(t,e,n){var r,i,o,a;window,t.exports=(r=n(249),i=n(1),o=n(5),a=n(31),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e){t.exports=a},function(t,e,n){var r=n(5),i=n(6);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){"use strict";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],u=e.base?s[0]+e.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var h=a(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(f)):o.push({identifier:c,updater:g(f,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function g(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=u(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(t,e),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},function(t,e,n){(e=n(7)(!1)).push([t.i,".ptr-popup{position:fixed;background:rgba(var(--base0rgb), 0.95);z-index:99999;padding:.5rem .75rem;border:1px solid rgba(255,255,255,0.5);border-radius:.3rem;box-shadow:1px 3px 7px 3px rgba(0,0,0,0.2);font-size:.809rem;color:var(--base80);min-width:8rem;min-height:2rem}.ptr-popup-header{font-size:1rem;font-weight:bold;display:flex;align-items:center;margin-bottom:.25rem}.ptr-popup-record-group{display:flex;align-items:stretch;margin:.25rem 0 .5rem}.ptr-popup-record-group:last-child{margin-bottom:.25rem}.ptr-popup-record-color{min-width:.35rem;margin:.1rem .5rem .1rem 0;background:var(--accent50)}.ptr-popup-header .ptr-popup-record-color{height:.75rem;width:.75rem}.ptr-popup-record{flex:1}.ptr-popup-record-attribute{color:var(--base50);margin-bottom:.15rem}.ptr-popup-record-value-group{line-height:1.15}.ptr-popup-record-value-group .name{margin-right:.25rem}.ptr-popup-record-value-group .value{font-size:1rem}.ptr-popup-record-value-group .unit{margin-left:.15rem}.ptr-popup.compressed .ptr-popup-record{display:flex;max-width:calc(100% - 1rem)}.ptr-popup.compressed .ptr-popup-record-attribute{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;padding-right:.5rem}.ptr-popup.compressed .ptr-popup-record-value-group .value{font-size:.809rem}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r,i,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";n.r(e);var r,i={apiGeoserverWFSProtocol:"http",apiGeoserverWFSHost:"localhost",apiGeoserverWFSPath:"geoserver/wfs",apiGeoserverWMSProtocol:"http",apiGeoserverWMSHost:"localhost",apiGeoserverWMSPath:"geoserver/wms",apiGeoserverOWSPath:"backend/geoserver/ows",apiBackendProtocol:"http",apiBackendHost:"localhost",apiBackendPath:"",apiBackendAoiLayerPeriodsPath:"backend/rest/imagemosaic/getDates",apiBackendSzifPath:"backend/rest/szif/case",devHostnames:[],requestPageSize:100},o=n(0),a=n.n(o),s=(r={},{getContext:function(t,e){return r[t]||function(t,e){return r[t]=a.a.createContext(e),r[t]}(t,e)}}),u=n(1),l=n.n(u),c=n(2),h=n.n(c),f=function(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{top:e.top+window.pageYOffset-n.clientTop,left:e.left+window.pageXOffset-n.clientLeft}},p=function(t,e,n){var r=t[0]-e>=n[0],i=t[1]+e<=n[1],o=t[2]+e<=n[2],a=t[3]-e>=n[3];return!(r&&i&&o&&a)},d=function(t,e,n,r){var i=function(e,i,o,a,s,u){var l=null;switch(e){case"top":var c=function(t,e,n,r,i,o,a,s){var u,l,c=(i?i.getBoundingClientRect().top:e)-o-r,h=(i?f(i).top:e)-o-r;switch(s){case"center":l=-n/2;break;case"corner":l=0}var p=t+l+n+o>a[1],d=t+l-o<a[3],g=[h,(u=p?a[1]-o-n:d?a[3]+o:t+l)+n,h+r,u];return{position:{posX:u-a[3],posY:c},boundingRect:g}}(i,o,a,s,u,r,n,t);l={position:c,conflict:p(c.boundingRect,r,n)};break;case"bottom":var h=function(t,e,n,r,i,o,a,s){var u,l,c=(i?i.getBoundingClientRect().top+i.offsetHeight:e)+o,h=(i?f(i).top+i.offsetHeight:e)+o;switch(s){case"center":l=-n/2;break;case"corner":l=0}var p=t+l+n+o>a[1],d=t+l-o<a[3],g=[h,(u=p?a[1]-o-n:d?a[3]+o:t+l)+n,h+r,u];return{position:{posX:u-a[3],posY:c},boundingRect:g}}(i,o,a,s,u,r,n,t);l={position:h,conflict:p(h.boundingRect,r,n)};break;case"left":var d=function(t,e,n,r,i,o,a,s){var u,l,c=(i?f(i).left:t)-o-n;switch(s){case"center":l=-r/2;break;case"corner":l=0}var h=e+l-o<a[0],p=e+l+r+o>a[2],d=[(u=h?a[0]+o:p?a[2]-o-r:e+l)+r,c+n,u,c];return{position:{posX:c-a[3],posY:u-a[0]},boundingRect:d}}(i,o,a,s,u,r,n,t);l={position:d,conflict:p(d.boundingRect,r,n)};break;case"right":var g=function(t,e,n,r,i,o,a,s){var u,l,c=(i?f(i).left+i.offsetWidth:t)+o;switch(s){case"center":l=-r/2;break;case"corner":l=0}var h=e+l-o<a[0],p=e+l+r+o>a[2],d=[(u=h?a[0]+o:p?a[2]-o-r:e+l)+r,c+n,u,c];return{position:{posX:c-a[3],posY:u-a[0]},boundingRect:d}}(i,o,a,s,u,r,n,t);l={position:g,conflict:p(g.boundingRect,r,n)}}return l};return function(t,n,r,o,a){var s=null,u=!0,l=!1,c=void 0;try{for(var h,f=e[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value,d=i(p,t,n,r,o,a);if(!d.conflict){s={top:d.position.position.posY,left:d.position.position.posX,width:r};break}}}catch(t){l=!0,c=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}if(!s){var g=i(e[0],t,n,r,o,a);s={top:g.position.position.posY,left:g.position.position.posX,width:r}}return s}},g=n(3),m=n.n(g);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(4);var _=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,b(e).call(this,t))).ref=a.a.createRef(),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,t),n=e,(r=[{key:"getStyle",value:function(){var t,e,n,r,i,o=this.props.x,a=this.props.y,s=window.innerWidth-20,u=window.innerHeight+window.pageYOffset-window.pageYOffset-20,l=this.ref.current&&this.ref.current.children[0],c=l&&l.offsetWidth?l.offsetWidth:250,h=l&&l.offsetHeight?l.offsetHeight:50;return i="function"==typeof this.props.getStyle&&this.props.hoveredElemen?this.props.getStyle()(o,a,c,h,this.props.hoveredElemen):(t=window.document.documentElement.scrollTop,e=window.document.documentElement.scrollLeft,n=window.document.documentElement.clientHeight,r=window.document.documentElement.clientWidth,d("corner",["right","left","top","bottom"],[t,e+r,t+n,e],15))(o,a,c,h),(this.props.compressed||h>u)&&(c=500),c>s&&(c=s),i}},{key:"componentDidMount",value:function(){if(this.ref&&this.ref.current){var t=this.getStyle();this.ref.current.style=t}}},{key:"render",value:function(){var t=this.getStyle(),e=m()("ptr-popup",{compressed:this.props.compressed});return this.ref&&!this.ref.current&&(t.display="none"),a.a.createElement("div",{ref:this.ref},a.a.createElement("div",{style:t,className:e},this.props.content?a.a.cloneElement(this.props.content):this.props.children))}}])&&v(n.prototype,r),e}(a.a.PureComponent);_.propTypes={x:l.a.number,y:l.a.number,maxX:l.a.number,content:l.a.element,getStyle:l.a.func,hoveredElemen:l.a.oneOfType([l.a.element,l.a.object]),compressed:l.a.bool};var w=_;function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=s.getContext("HoverContext"),P=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=O(e).call(this,t))||"object"!==S(r)&&"function"!=typeof r?C(this):r).state={hoveredItems:[],popupContent:null,x:null,y:null,data:null},n.onHover=n.onHover.bind(C(n)),n.onHoverOut=n.onHoverOut.bind(C(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,t),n=e,(r=[{key:"onHover",value:function(t,e){var n={},r=!1;e&&e.popup&&e.popup.content&&(n.popupContent=e.popup.content),e.popup.x&&e.popup.y&&(this.state.x===e.popup.x&&this.state.y===e.popup.y||(r=!0,n.x=e.popup.x,n.y=e.popup.y)),r?(n.hoveredItems=t,n.data=e.popup.data,n.fidColumnName=e.popup.fidColumnName):(n.hoveredItems=[].concat(x(this.state.hoveredItems),x(t)),e.popup.data&&e.popup.data.length&&(n.data=[].concat(x(this.state.data),x(e.popup.data)),n.fidColumnName=e.popup.fidColumnName)),h.a.isEmpty(n)||(n.hoveredItems&&n.hoveredItems.length?this.setState(n):this.onHoverOut())}},{key:"onHoverOut",value:function(){this.setState({hoveredItems:[],popupContent:null,data:null,fidColumnName:null})}},{key:"render",value:function(){return a.a.createElement(L.Provider,{value:{hoveredItems:this.state.hoveredItems,selectedItems:this.props.selectedItems,onHover:this.onHover,onHoverOut:this.onHoverOut,x:this.state.x,y:this.state.y}},this.props.children,this.state.popupContent||this.state.data?this.renderPopup():null)}},{key:"renderPopup",value:function(){return a.a.createElement(w,{x:this.state.x,y:this.state.y,content:this.props.popupContentComponent?this.renderPopupContent():this.state.popupContent,compressed:this.props.compressedPopups})}},{key:"renderPopupContent",value:function(){var t=this.props.popupContentComponent;return a.a.isValidElement(t)?a.a.cloneElement(t,{data:this.state.data,featureKeys:this.state.hoveredItems,fidColumnName:this.state.fidColumnName}):a.a.createElement(t,{data:this.state.data,featureKeys:this.state.hoveredItems,fidColumnName:this.state.fidColumnName})}}])&&T(n.prototype,r),e}(a.a.PureComponent);P.propTypes={selectedItems:l.a.array,compressedPopups:l.a.bool,popupContentComponent:l.a.oneOfType([l.a.element,l.a.func])};var R=P,M={defaultMapView:{center:{lat:50.099577,lon:14.42596},boxRange:1e7,tilt:0,roll:0,heading:0}};function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V=function(t){function e(){return I(this,e),D(this,j(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return a.a.createElement("div",null,"Test")}}])&&N(n.prototype,r),e}(a.a.PureComponent);n.d(e,"configDefaults",(function(){return i})),n.d(e,"Context",(function(){return s})),n.d(e,"HoverHandler",(function(){return R})),n.d(e,"mapConstants",(function(){return M})),n.d(e,"Popup",(function(){return w})),n.d(e,"Test",(function(){return V})),n.d(e,"getTootlipPosition",(function(){return d}))}]))},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(147)},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(36),i=n(3);function o(t,e){return!e||"object"!==Object(r.a)(e)&&"function"!==typeof e?Object(i.a)(t):e}},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return i}))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";function r(t,e){return t===e}function i(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return i(e,n,arguments)||(o=t.apply(null,arguments)),n=arguments,o}}function a(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}function s(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=0,s=r.pop(),u=a(r),l=t.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),c=t((function(){for(var t=[],e=u.length,n=0;n<e;n++)t.push(u[n].apply(null,arguments));return l.apply(null,t)}));return c.resultFunc=s,c.dependencies=u,c.recomputations=function(){return o},c.resetRecomputations=function(){return o=0},c}}n.r(e),n.d(e,"defaultMemoize",(function(){return o})),n.d(e,"createSelectorCreator",(function(){return s})),n.d(e,"createSelector",(function(){return u})),n.d(e,"createStructuredSelector",(function(){return l}));var u=s(o);function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("object"!==typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var n=Object.keys(t);return e(n.map((function(e){return t[e]})),(function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce((function(t,e,r){return t[n[r]]=e,t}),{})}))}},function(t,e,n){var r=n(89),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";var r=n(13),i=n.n(r),o=n(15),a=n.n(o),s=n(0),u=n.n(s),l=n(1),c=n.n(l),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var d=function(t){function e(){var n,r;f(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=p(this,t.call.apply(t,[this].concat(o))),r.state={match:r.computeMatch(r.props.history.location.pathname)},p(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:h({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;a()(null==n||1===u.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen((function(){t.setState({match:t.computeMatch(r.location.pathname)})}))},e.prototype.componentWillReceiveProps=function(t){i()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?u.a.Children.only(t):null},e}(u.a.Component);d.propTypes={history:c.a.object.isRequired,children:c.a.node},d.contextTypes={router:c.a.object},d.childContextTypes={router:c.a.object.isRequired},e.a=d},function(t,e,n){"use strict";var r=n(61),i=n.n(r),o={},a=0,s=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=o[n]||(o[n]={});if(r[t])return r[t];var s=[],u={re:i()(t,s,e),keys:s};return a<1e4&&(r[t]=u,a++),u};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof e&&(e={path:e});var r=e,i=r.path,o=r.exact,a=void 0!==o&&o,u=r.strict,l=void 0!==u&&u,c=r.sensitive,h=void 0!==c&&c;if(null==i)return n;var f=s(i,{end:a,strict:l,sensitive:h}),p=f.re,d=f.keys,g=p.exec(t);if(!g)return null;var m=g[0],y=g.slice(1),v=t===m;return a&&!v?null:{path:i,url:"/"===i&&""===m?"/":m,isExact:v,params:d.reduce((function(t,e,n){return t[e.name]=y[n],t}),{})}}},function(t,e,n){var r=n(163),i=n(168);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){"use strict";var r=n(61),i=n.n(r),o={},a=0,s=function(t){var e=t,n=o[e]||(o[e]={});if(n[t])return n[t];var r=i.a.compile(t);return a<1e4&&(n[t]=r,a++),r};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===t)return t;var n=s(t);return n(e,{pretty:!0})}},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(98);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){"use strict";n.r(e);var r=n(17),i=n(12),o=n(5),a=n.n(o),s=function(){function t(e){Object(r.a)(this,t),this.data=[],this.maxSize=e||100}return Object(i.a)(t,[{key:"add",value:function(t){this.data.push(t),this.size()>this.maxSize&&this.remove()}},{key:"remove",value:function(){this.data.shift()}},{key:"addOrUpdate",value:function(t){var e=this.findIndexByKey(t.cacheKey);-1!==e?this.data[e]=t:this.add(t)}},{key:"first",value:function(){return this.data[0]}},{key:"last",value:function(){return this.data[this.data.length-1]}},{key:"size",value:function(){return this.data.length}},{key:"findIndexByKey",value:function(t){return Object(o.findIndex)(this.data,{cacheKey:t})}},{key:"findByKey",value:function(t){return Object(o.find)(this.data,{cacheKey:t})}}]),t}(),u=function(){function t(e,n){var i=this;Object(r.a)(this,t);this.wwd=e,this.cb=n,this.mouseDown=!1,this.timeout=null,this.highlightedRenderables=null,this.eventListener=this.eventListener.bind(this,e,n),["mousemove","mousedown","mouseup","touchstart","touchend"].forEach((function(t){e.addEventListener(t,i.eventListener)}))}return Object(i.a)(t,[{key:"eventListener",value:function(t,e,n){switch(n.type){case"mousemove":return void this.stopClick();case"touchstart":case"mousedown":return void this.startClick(n);case"touchend":case"mouseup":return void this.onClickEnd(n)}}},{key:"stopClick",value:function(){this.timeout=null}},{key:"startClick",value:function(t){this.timeout=new Date;var e=t.touches&&t.touches[0]&&t.touches[0].clientX||t.clientX,n=t.touches&&t.touches[0]&&t.touches[0].clientY||t.clientY,r=this.wwd.pick(this.wwd.canvasCoordinates(e,n));this.highlightedRenderables=this.setNextHighlightStage(r.objects)}},{key:"onClickEnd",value:function(t){this.timeout&&(new Date-this.timeout>50?(this.stopClick(),this.cb(this.highlightedRenderables,t)):this.stopClick())}},{key:"setNextHighlightStage",value:function(t){var e,n=0,r=(t=t.filter((function(t){return!t.isTerrain})).reverse()).length,i=[];if(0===r)return i;if(1===r)return t[0].userObject.highlighted=!0,i.push(t[0]),i;for(var o=0;o<r;o++)t[o].userObject.highlighted&&(n++,e=o,t[o].userObject.highlighted=!1);if(n===r)return t[0].userObject.highlighted=!0,i.push(t[0]),i;if(e===r-1||0===n){for(var a=0;a<r;a++)t[a].userObject.highlighted=!0;return t}return t[e+1].userObject.highlighted=!0,i.push(t[e+1]),i}}]),t}(),l=function(){function t(e,n,i,o){var a=this;Object(r.a)(this,t),this.mouseDown=!1,this.enableClick=o,this.eventListener=this.eventListener.bind(this,e,i),n.forEach((function(t){e.addEventListener(t,a.eventListener)}))}return Object(i.a)(t,[{key:"eventListener",value:function(t,e,n){switch(n.type){case"touchmove":return void this.onTouchMove(e,n);case"mousemove":return void this.onMouseMove(t,e,n,!0);case"touchstart":return this.onTouchStart(),void this.onMouseMove(t,e,n,!1);case"mousedown":return void this.onMouseDown(t,e,n);case"touchend":return void this.onTouchEnd();case"mouseup":return void this.onMouseUp();case"mouseout":return void this.onMouseOut(t,e,n)}}},{key:"onMouseMove",value:function(t,e,n,r){if(!this.mouseDown){var i=n.touches&&n.touches[0]&&n.touches[0].clientX||n.clientX,o=n.touches&&n.touches[0]&&n.touches[0].clientY||n.clientY,a=t.pick(t.canvasCoordinates(i,o)),s=this.setNextHighlightStage(a.objects);e&&e(s,n,r)}}},{key:"onMouseOut",value:function(t,e,n){this.mouseDown=!1,e([])}},{key:"onTouchStart",value:function(){this.mouseDown=!1}},{key:"onTouchEnd",value:function(){this.mouseDown=!1}},{key:"onTouchMove",value:function(t,e){this.mouseDown=!0,t&&t([],e)}},{key:"onMouseDown",value:function(t,e,n){this.enableClick?this.onMouseMove(t,e,n,!1):this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"setNextHighlightStage",value:function(t){var e,n=0,r=(t=t.filter((function(t){return!t.isTerrain})).reverse()).length,i=[];if(0===r)return i;if(1===r)return t[0].userObject.highlighted=!0,i.push(t[0]),i;for(var o=0;o<r;o++)t[o].userObject.highlighted&&(n++,e=o,t[o].userObject.highlighted=!1);if(n===r)return t[0].userObject.highlighted=!0,i.push(t[0]),i;if(e===r-1||0===n){for(var a=0;a<r;a++)t[a].userObject.highlighted=!0;return t}return t[e+1].userObject.highlighted=!0,i.push(t[e+1]),i}}]),t}(),c=n(9);var h={forceSetPassiveEvents:function(){var t=["touchstart","touchmove","touchend","touchcancel","wheel"],e=function(e,n){return t.includes(e)?{boolean:{capture:n,passive:!1},object:Object(c.a)({},n,{passive:!1})}[typeof n]:null},n=document.addEventListener.bind();document.addEventListener=function(t,r,i,o){return n(t,r,e(t,i)||i,o)};var r=document.removeEventListener.bind();document.removeEventListener=function(t,n,i){return r(t,n,e(t,i)||i)}}},f=n(117),p=n.n(f),d=n(37),g=n.n(d),m=n(118),y=n.n(m);function v(t,e,n){return Object(o.filter)(t,(function(t){if(Object(o.isArray)(e)){if(n){var r=0;return Object(o.each)(e,(function(e){var n=g()(t,e);n||0===n||r++})),r!==e.length}var i=!0;return Object(o.each)(e,(function(e){var n=g()(t,e);n||0===n||(i=!1)})),i}var a=g()(t,e);return a||0===a}))}var b={filterDataWithNullValue:function(t,e,n,r){if(n){var i=p()(t,(function(t){var r=v(g()(t,n),e);return y()(Object(c.a)({},t),n,r)}));return Object(o.filter)(i,(function(t){var e=g()(t,n);return e&&0!==e.length}))}return v(t,e,r)}},E=function(t){function e(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",t)},w={initialize:function(t){!function(t,e){var n=document.createElement("script");n.type="text/javascript",n.setAttribute("async","true"),n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=".concat(t)),n.onload=function(){return e(t)};var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),document.documentElement.firstChild.appendChild(n)}(t,E)}};function S(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.entries(t),n=e.reduce((function(t,e){var n=x(e,2),r=(n[0],n[1]),i=O(r);return[].concat(S(t),S(i))}),[]);return n},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=function t(e){return e.reduce((function(e,n){switch(n.type){case"folder":return[].concat(S(e),S(t(n.items)));case"layerTemplate":return[].concat(S(e),[n]);default:return e}}),[])};return S(e(t).reverse())},C={forAllTreeItems:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return e.reduce((function(e,r){if("folder"===r.type)return t(r.items,n);var i=n(r);return i?[].concat(S(e),[i]):e}),[])},getFlattenLayers:O,getFlattenLayerTree:T,getFolderByKey:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u&&"folder"===u.type&&u.key===n)return u;if("folder"===u.type){var l=t(u.items,n);if(l)return l}}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}},getFolderByLayerKey:function t(e,n){if(Object(o.isArray)(e)){var r=!0,i=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=t(s.value,n);if(l)return l}}catch(y){i=!0,a=y}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}if(Object(o.isObject)(e)){if(!e||"folder"!==e.type)return null;if(e.items.some((function(t){return t.key===n})))return e;var c=!0,h=!1,f=void 0;try{for(var p,d=e.items[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var g=p.value;if("folder"===g.type){var m=t(g,n);if(m)return m}}}catch(y){h=!0,f=y}finally{try{c||null==d.return||d.return()}finally{if(h)throw f}}}},getLayerZindex:function(t,e){return T(t).findIndex((function(t){return t.key===e}))||0}},A=function(t){return t%1?t.toString().split(".")[1].length:0},L=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},P={countDecimals:A,round:L,roundHigher:function(t,e){var n=L(t,e),r=A(n)||1,i=Math.pow(10,r+1),o=Math.round(10)/i;return L(n+o,e)}},R={getIntervalTitle:function(t,e){var n=e?P.round(t[0],2).toLocaleString():P.roundHigher(t[0],2).toLocaleString();return t[1]===t[0]?round(t[0],2).toLocaleString():"".concat(n," - ").concat(P.round(t[1],2).toLocaleString())}},M=n(44),k=n.n(M),I=n(59),N=n(119);function D(t,e){var n=Math.abs(t.maxLat-t.minLat),r=Math.abs(t.maxLon-t.minLon),i=125e3*Math.max(n,r);return e&&(i/=Math.cos(e*Math.PI/180)),i>1e3?i:1e3}var j={ensureViewIntegrity:function(t){return t&&(t.heading&&t.heading>360&&(t.heading=t.heading%360),t.heading&&t.heading<0&&(t.heading=360- -t.heading%360),t.tilt&&t.tilt<0&&(t.tilt=0),t.tilt&&t.tilt>90&&(t.tilt=90),t.range&&t.range<.01&&(t.range=.01),t.center&&(t.center.lat&&(t.center.lat>90?t.center.lat=90:t.center.lat<-90&&(t.center.lat=-90)),t.center.lon&&((t.center.lon>360||t.center.lon<-360)&&(t.center.lon%=360),t.center.lon>180?t.center.lon=t.center.lon-180-180:t.center.lon<-180?t.center.lon=180+(t.center.lon+180):-180===t.center.lon&&(t.center.lon=180)))),t},getLocationFromPlaceString:function(t){var e,n=1e5,r=null;if(t.length){var i=Number(t[0]);if(isNaN(i)){var o="https://open.mapquestapi.com/nominatim/v1/search.php?key=2qc94oOJwV6p7KaClJVSoLyevmPsLqlS&format=json&q="+t+"&limit=1";return k()(o,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(i){var o=i.headers.get("Content-type");if(i.ok&&o&&-1!==o.indexOf("application/json"))return i.json().then((function(i){if(i.length){var o=i[0];if(e=Number(o.lat),r=Number(o.lon),o.boundingbox){var a=o.boundingbox;n=D({minLat:a[0],maxLat:a[1],minLon:a[2],maxLon:a[3]})}if((e||0===e)&&(r||0===r))return{boxRange:n,center:{lat:e,lon:r}}}else console.warn("utils/map#getLocationFromPlaceString: No location found for input: ",t)}));console.warn("utils/map#getLocationFromPlaceString: No location found for input: ",t)}),(function(t){throw t}))}var a=t.split(/[,; ]/);if(a.length&&(e=Number(a[0]),r=a[1]?Number(a[1]):0),(e||0===e)&&(r||0===r))return Promise.resolve({boxRange:n,center:{lat:e,lon:r}});console.warn("utils/map#getLocationFromPlaceString: No location found for input: ",t)}else console.warn("utils/map#getLocationFromPlaceString: Empty input string!")},getViewFromBoundingBox:function(t,e){a.a.isArray(t)&&(t={minLat:t[1],minLon:t[0],maxLat:t[3],maxLon:t[2]});var n={lat:(t.maxLat+t.minLat)/2,lon:(t.maxLon+t.minLon)/2};return{center:n,boxRange:D(t,e?n.lat:null)}},getViewFromGeometry:function(t,e){var n=I.center(t),r=I.bbox(t),i=D({minLat:r[1],minLon:r[0],maxLat:r[3],maxLon:r[2]},e?n.geometry.coordinates[1]:null);return{center:{lat:n.geometry.coordinates[1],lon:n.geometry.coordinates[0]},boxRange:i}},mergeLayers:function(t,e){return t&&e?[].concat(S(t),S(e)):t||e||null},mergeViews:n.n(N)()([function(t){return t},function(t,e){return e},function(t,e,n){return n}],(function(t,e,n){return n=n||{},Object(c.a)({},t,{},e,{},n)}))((function(t,e,n){return"".concat(t,"_").concat(e,"_").concat(n||"")})),resetHeading:function t(e,n,r){r||(r=1,Math.abs(e)>60?r=2:Math.abs(e)>120&&(r=3),(e>0&&e<180||e<0&&e<-180)&&(r=-r)),setTimeout((function(){Math.abs(e)>Math.abs(r)?(n(e+=r),t(e,n,r)):n(e=0)}),20)}},F=n(14);function V(t,e){if(null==t)return{};var n,r,i=Object(F.a)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var B=n(65),U=n.n(B),G=n(60),W=n.n(G),K={fill:"#ffffff",fillOpacity:1,outlineColor:"#000000",outlineWidth:2,outlineOpacity:1};function z(t,e,n){var r=t[0],i=t[1],o=e[0];return(e[1]-o)/(i-r)*(n-r)+o}function H(t,e,n){return n?t>=e:t>e}function Y(t,e){return U()(t,(function(t){"abs"===t?e=Math.abs(e):"sign"===t&&(e=Math.sign(e))})),e}var q={getStyleObject:function(t,e,n){var r={};return e&&e.rules&&U()(e.rules,(function(e){e.filter,e.styles&&_.each(e.styles,(function(e){var n=null;n=e.attributeKey?function(t,e){if(e.hasOwnProperty(t.attributeKey)){var n=e[t.attributeKey];return t.attributeClasses?function(t,e){var n={};return U()(t,(function(t){var r=t.interval,i=t.intervalBounds,o=V(t,["interval","intervalBounds"]);i||(i=[!0,!1]),H(e,r[0],i[0])&&H(r[1],e,i[1])&&(n=Object(c.a)({},n,{},o))})),n}(t.attributeClasses,n):t.attributeScale?function(t,e){var n=Object.keys(t)[0],r=t[n];r.inputTransformation&&(e=Y(r.inputTransformation,e));if("outlineWidth"===n)return{outlineWidth:z(r.inputInterval,r.outputInterval,e)};if("fill"===n){var i=W.a.scale(r.outputInterval).domain(r.inputInterval);return{fill:W()(i(e)).hex()}}return"volume"===n?{volume:z(r.inputInterval,r.outputInterval,e)}:"size"===n?{size:z(r.inputInterval,r.outputInterval,e)}:"arrowLength"===n?{arrowLength:z(r.inputInterval,r.outputInterval,e)}:{}}(t.attributeScale,n):t.attributeTransformation?function(t,e){var n=Object.keys(t)[0],r=t[n];r.inputTransformation&&(e=Y(r.inputTransformation,e));return"arrowDirection"===n?{arrowDirection:e}:{}}(t.attributeTransformation,n):t.attributeValues?function(t,e){return t[e]||{}}(t.attributeValues,n):{}}return{}}(e,t):e,r=Object(c.a)({},r,{},n)}))})),n?r:Object(c.a)({},K,{},r)},hexToRgb:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},DEFAULT_STYLE_OBJECT:K,DEFAULT_SIZE:15},X={filterScopesByUrl:function(t,e){return t?Object(o.filter)(t,(function(t){return t.urls&&t.urls.includes(e)})):[]}},Z=n(11),J=n.n(Z),Q=function(t){return t.match(/^[0-9]{4}$/)?{start:J()(t),end:J()(t).endOf("year"),source:t,type:"year"}:t.match(/^[0-9]{4}-[0-9]{2}$/)?{start:J()(t),end:J()(t).endOf("month"),source:t,type:"month"}:t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)?{start:J()(t),end:J()(t).endOf("day"),source:t,type:"day"}:t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}$/)?{start:J()(t),end:J()(t).endOf("hour"),source:t,type:"hour"}:t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}$/)?{start:J()(t),end:J()(t).endOf("minute"),source:t,type:"minute"}:t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/)||t.match(/^[0-9]{4}[0-9]{2}[0-9]{2}T[0-9]{2}[0-9]{2}[0-9]{2}$/)?{start:J()(t),end:J()(t).endOf("second"),source:t,type:"second"}:t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}/)?{start:J()(t),end:J()(t).endOf("second"),source:t,type:"full"}:void 0},$={parse:function(t){if(t.match(/\/P/))throw new Error("Durations not implemented");if(t.match(/\//)){var e=t.split("/");return{start:Q(e[0]).start,end:Q(e[1]).end,type:"interval"}}return Q(t)},toString:function(t){if(!(Object(o.isObject)(t)&&t.start&&t.end&&t.type))throw new Error("Invalid period supplied to period.toString");switch(t.type){case"interval":return t.start.format("YYYY-MM-DD h:mm:ss")+" - "+t.end.format("YYYY-MM-DD h:mm:ss");case"second":case"full":return t.start.format("YYYY-MM-DD h:mm:ss");case"minute":return t.start.format("YYYY-MM-DD h:mm");case"hour":return t.start.format("YYYY-MM-DD h")+"h";default:return t.source}}};var tt={sortByOrder:function(t,e){var n=e.map((function(t){return t[0]})),r=e.map((function(t){return t[1]}));return Object(o.orderBy)(t,n,r)}},et=n(36);function nt(t){var e=function(t,e){if("object"!==Object(et.a)(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Object(et.a)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Object(et.a)(e)?e:String(e)}var rt={addItem:function(t,e){return[].concat(S(t),[e])},addItemToIndex:function(t,e,n){return[].concat(S(t.slice(0,e)),[n],S(t.slice(e)))},removeItemByIndex:function(t,e){return[].concat(S(t.slice(0,e)),S(t.slice(e+1)))},removeItemByKey:function(t,e){t[e];return V(t,[e].map(nt))},replaceItemOnIndex:function(t,e,n){return[].concat(S(t.slice(0,e)),[n],S(t.slice(e+1)))}},it={getClassByValue:function(t,e){return t[0]===e?0:t.findIndex((function(t){return e<=t}))-1},getClassCount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Math.max(0,t.length-1)},getClassesIntervals:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=S(new Set(t));if(e.length>1){var n=e.reduce((function(t,e,n,r){return n>0?(t.push([r[n-1],r[n]]),t):t}),[]);return n}return 1===e.length?[[e[0],e[0]]]:[]},getEqualsCountClasses:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.sort();t.length;for(var n=t[0],r=t[t.length+1],i=r-n,o=Math.floor(i/e),a=[],s=0;s<e+1;s++)a[s]=n+s*o;return a},getMiddleClassValues:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.reduce((function(t,e,n,r){return n>0?(t.push((r[n-1]+r[n])/2),t):t}),[])},getValueClassesByStatistics:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Number.parseFloat(t.min),r=Number.parseFloat(t.max),i=(r-n)/e,o=[],a=0;a<e+1;a++)o[a]=n+a*i;return o},mergeAttributeStatistics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={min:null,max:null,percentile:[]},n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;u&&u.attributeStatistic&&(e.min=e.min||0===e.min?Math.min(e.min,u.attributeStatistic.min):u.attributeStatistic.min,e.max=e.max||0===e.max?Math.max(e.max,u.attributeStatistic.max):u.attributeStatistic.max)}}catch(_){r=!0,i=_}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}for(var l=t[0]&&t[0].attributeStatistic&&t[0].attributeStatistic.percentile.length,c=t.length,h=0;h<l;h++){var f=0,p=!0,d=!1,g=void 0;try{for(var m,y=t[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var v=m.value;v&&v.attributeStatistic&&(f+=v.attributeStatistic.percentile[h])}}catch(_){d=!0,g=_}finally{try{p||null==y.return||y.return()}finally{if(d)throw g}}e.percentile[h]=f/c}e.percentile[0]=e.min,e.percentile[e.percentile.length-1]=e.max;var b=Object(o.isNumber)(e.min),E=Object(o.isNumber)(e.max);return b&&E?e:null},quartilePercentiles:[0,.166,.333,.5,.666,.833,1],rangeMap:function(t,e){return function(n){var r=x(t,2),i=r[0],o=r[1],a=x(e,2),s=a[0];return((a[1]-s)*(n-i)/(o-i)*10+10*s)/10}},setClassesMinMaxFromStatistics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=S(t);return n[0]=e.min,n[t.length-1]=e.max,n}},ot={period:$,addI18nResources:function(t,e,n){Object(o.forIn)(n,(function(n,r){t.addResourceBundle(r,e,n,!0,!0)}))},uuid:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))},randomString:function(t){return(Math.random()*Math.pow(36,t)>>0).toString(36)},getRemSize:function(){return parseFloat(getComputedStyle(document.documentElement).fontSize)},scrollTo:function(t,e,n){var r=document.getElementById(e),i=document.getElementById(t),o=i.offsetTop;i.offsetHeight,r.offsetHeight;document.getElementById(e).scrollTop=o},getStringFromJson:function(t){return t&&"object"===typeof t?JSON.stringify(t,null,2):t},deepKeyMirror:function(t,e){var n=this;return Object(o.isObjectLike)(t)?Object(o.mapValues)(t,(function(t,r){return n.deepKeyMirror(t,e?e+"."+r:r)})):e},stringToNumHash:function(t){if("string"!==typeof(t=""+t))throw new Error("stringToNumHash: argument must be a string");for(var e=1,n=0;n<t.length;n++)e=Math.imul(e+t.charCodeAt(n)|0,265443576107);return(e^e>>>17)>>>0},stringToColours:function(t,e,n){for(var r,i,o,a=this.stringToNumHash(t),s=[],u=(n=Object(c.a)({},{hue:[0,360],saturation:[35,65],lightness:[40,60]},{},n)).hue[1]-n.hue[0],l=n.saturation[1]-n.saturation[0],h=n.lightness[1]-n.lightness[0],f=0;f<(e||1);f++)r=a%u+n.hue[0],i=(a=(a^a>>>17)>>>0)%l+n.saturation[0],o=(a=(a^a>>>17)>>>0)%h+n.lightness[0],a=(a^a>>>17)>>>0,s.push("hsl("+r+","+i+"%,"+o+"%)");return s}};n.d(e,"CacheFifo",(function(){return s})),n.d(e,"ClickPickController",(function(){return u})),n.d(e,"CyclicPickController",(function(){return l})),n.d(e,"events",(function(){return h})),n.d(e,"filter",(function(){return b})),n.d(e,"gTag",(function(){return w})),n.d(e,"layerTree",(function(){return C})),n.d(e,"legend",(function(){return R})),n.d(e,"map",(function(){return j})),n.d(e,"mapStyle",(function(){return q})),n.d(e,"math",(function(){return P})),n.d(e,"models",(function(){return X})),n.d(e,"period",(function(){return $})),n.d(e,"sort",(function(){return tt})),n.d(e,"stateManagement",(function(){return rt})),n.d(e,"statistics",(function(){return it})),n.d(e,"utils",(function(){return ot}));e.default={CacheFifo:s,ClickPickController:u,CyclicPickController:l,events:h,filter:b,gTag:w,layerTree:C,legend:R,map:j,mapStyle:q,math:P,models:X,period:$,sort:tt,stateManagement:rt,statistics:it,utils:ot}},function(t,e,n){"use strict";var r=n(13),i=n.n(r),o=n(15),a=n.n(o),s=n(0),u=n.n(s),l=n(1),c=n.n(l),h=n(33),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var g=function(t){return 0===u.a.Children.count(t)},m=function(t){function e(){var n,r;p(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,t.call.apply(t,[this].concat(o))),r.state={match:r.computeMatch(r.props,r.context.router)},d(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:f({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,i=t.path,o=t.strict,s=t.exact,u=t.sensitive;if(n)return n;a()(e,"You should not use <Route> or withRouter() outside a <Router>");var l=e.route,c=(r||l.location).pathname;return Object(h.a)(c,{path:i,strict:o,exact:s,sensitive:u},l.match)},e.prototype.componentWillMount=function(){i()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),i()(!(this.props.component&&this.props.children&&!g(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),i()(!(this.props.render&&this.props.children&&!g(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){i()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,i=e.render,o=this.context.router,a=o.history,s=o.route,l=o.staticContext,c={match:t,location:this.props.location||s.location,history:a,staticContext:l};return r?t?u.a.createElement(r,c):null:i?t?i(c):null:"function"===typeof n?n(c):n&&!g(n)?u.a.Children.only(n):null},e}(u.a.Component);m.propTypes={computedMatch:c.a.object,path:c.a.string,exact:c.a.bool,strict:c.a.bool,sensitive:c.a.bool,component:c.a.func,render:c.a.func,children:c.a.oneOfType([c.a.func,c.a.node]),location:c.a.object},m.contextTypes={router:c.a.shape({history:c.a.object.isRequired,route:c.a.object.isRequired,staticContext:c.a.object})},m.childContextTypes={router:c.a.object.isRequired},e.a=m},function(t,e,n){var r,i,o,a,s,u,l,c,h,f,p,d,g,m=n(80);window,t.exports=(r=n(1),i=n(300),o=n(5),a=n(31),s=n(321),u=n(38),l=n(21),c=n(60),h=n(11),f=n(20),p=n(324),d=n(302),g=n(303),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}([function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e){t.exports=a},function(t,e){t.exports=s},function(t,e){t.exports=u},function(t,e){t.exports=l},function(t,e){t.exports=c},function(t,e){t.exports=h},function(t,e,n){var r=n(10),i=n(22);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){"use strict";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],u=e.base?s[0]+e.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var h=a(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(f)):o.push({identifier:c,updater:g(f,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function g(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=u(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(t,e),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r,i,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e){t.exports=f},function(t,e,n){var r=n(10),i=n(24);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){var r=n(10),i=n(23);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e){t.exports=p},function(t,e){t.exports=d},function(t,e){t.exports=g},function(t,e,n){var r=n(10),i=n(19);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(11)(!1)).push([t.i,".ptr-chart-legend{margin:1rem 0 0 2rem;display:flex;flex-wrap:wrap}.ptr-chart-legend-item{display:flex;align-items:center;padding:0 .3rem;margin-right:.3rem;cursor:default}.ptr-chart-legend-item.withNumbers{padding:.2rem .3rem}.ptr-chart-legend-item:hover{background:var(--base20)}.ptr-chart-legend-item-icon{min-width:.7rem;height:.7rem;font-size:.809rem;line-height:1.25rem;text-align:center;color:#000}.ptr-chart-legend-item.withNumbers .ptr-chart-legend-item-icon{min-width:1.25rem;height:1.25rem}.ptr-chart-legend-item-icon.dark{color:#fff}.ptr-chart-legend-item-name{font-size:.809rem;color:var(--base75);padding:0 0 0 .3rem;max-width:12rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n",""]),t.exports=e},function(t,e,n){var r=n(10),i=n(21);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(11)(!1)).push([t.i,".ptr-chart-wrapper{min-height:10rem;position:relative;margin-bottom:1rem;border-radius:.2rem;width:100%;background:var(--base0)}.ptr-chart-wrapper-loader{position:absolute;top:0;right:0;bottom:0;left:0}.ptr-chart-wrapper-header{display:flex;color:var(--base90)}.ptr-chart-wrapper-titles{flex-grow:1;padding:.5rem 0.75rem}.ptr-chart-wrapper-title{flex-grow:1}.ptr-chart-wrapper-subtitle{color:var(--base50);font-size:.809rem;margin-top:.1rem}.ptr-chart-wrapper-tools{display:flex;justify-content:flex-end;padding:.25rem;width:2rem}.ptr-chart-wrapper-tool .ptr-icon .line{fill:var(--base70)}.ptr-chart-wrapper-status-bar{display:flex;flex-wrap:wrap;padding:.5rem 0.75rem}.ptr-colored-label{background:var(--accent20);border-radius:.25rem;color:var(--accent50);display:flex;align-items:center;font-size:.809rem;padding:0 .2rem 0 .35rem;height:1.5rem;margin-right:.5rem}.ptr-colored-label-content{display:flex;align-items:center}.ptr-colored-label-content>div{white-space:nowrap}.ptr-colored-label-content>.ptr-icon{height:1rem;width:1rem;margin-right:.15rem}.ptr-colored-label-content>.ptr-icon .line{fill:currentColor}.ptr-colored-label-clear{cursor:pointer;padding-left:.5rem;display:flex;align-items:center}.ptr-colored-label-clear>.ptr-icon{height:1rem;width:1rem}.ptr-colored-label-clear>.ptr-icon .line{fill:var(--base50)}.ptr-colored-label-clear:hover>.ptr-icon .line{fill:var(--base100)}.ptr-chart-wrapper-content{padding:.5rem 1.5rem .5rem .75rem}.ptr-chart-wrapper-content>div{position:relative;width:100%}.ptr-chart-wrapper-info{font-style:italic;font-size:.809rem;color:var(--base80);padding:.3rem 0}@media screen and (max-width: 70rem){.ptr-chart-wrapper{margin-bottom:1rem}}\n",""]),t.exports=e},function(t,e,n){(e=n(11)(!1)).push([t.i,".ptr-charts-container{display:flex;flex-direction:column;padding:1.5rem 1rem 2rem;align-items:center;background:var(--base15);min-height:100%}.ptr-chart-container{width:100%;overflow:hidden;max-width:100%;display:flex;flex-direction:column}.ptr-chart-container.centered{align-items:center}.ptr-chart-container>div:not(.ptr-chart-legend){position:relative;display:flex;flex-direction:column;width:100%;align-items:center;justify-content:center}.ptr-chart-container.legend-top>div{flex-direction:column-reverse}.ptr-chart-container.legend-right>div{flex-direction:row}.ptr-chart-container.legend-left{flex-direction:row-reverse}.ptr-chart{box-sizing:content-box;width:100%}.ptr-cartesian-chart{width:100%}.ptr-axis-baseline{stroke-width:2px;stroke-linecap:square;stroke:var(--base30)}.ptr-axis-border{stroke-width:2px;stroke-linecap:square;stroke:var(--base30)}.ptr-axis-gridline{stroke-width:1px;stroke-linecap:square;stroke:var(--base20)}.ptr-axis-label{fill:var(--base50);font-size:.809rem;font-style:italic}.ptr-tick-caption{fill:var(--base50);font-size:.809rem}.ptr-tick-caption.highlighted{font-weight:bold}.ptr-tick-caption.small{font-size:.618rem}.ptr-axis-highlighted-area-edge{stroke-width:1px;stroke:var(--accent30)}.ptr-axis-highlighted-area{stroke-width:0;fill:var(--accent15)}.ptr-line-chart-line{fill:none;stroke-width:2;stroke:var(--base50);animation:pathDraw 2s ease-in-out 1;animation-fill-mode:forwards;animation-delay:1s}.ptr-chart-point{animation:pointDraw .3s ease-in-out 1;animation-fill-mode:forwards;animation-delay:3s;fill-opacity:0;stroke-opacity:0;stroke-width:1px;stroke:var(--base10)}.ptr-chart-point.standalone{animation:none;fill:var(--accent50);fill-opacity:1;stroke:var(--base0);stroke-width:1px;stroke-opacity:1}.ptr-chart-point.standalone.path{stroke:var(--accent50)}.ptr-line-chart-area{fill:rgba(var(--base50rgb), 0.2);fill-opacity:0;animation:pathFill .3s ease-in-out 1;animation-delay:2.5s;animation-fill-mode:forwards}.ptr-chart-no-animation .ptr-line-chart-area,.ptr-chart-no-animation .ptr-column-chart-bar{animation:none;transition:none}.ptr-line-chart-line-wrapper:hover .ptr-line-chart-line,.ptr-line-chart-line-wrapper.gray:hover .ptr-line-chart-line,.ptr-line-chart-line-wrapper.highlighted.gray .ptr-line-chart-line,.ptr-line-chart-line-wrapper.highlighted .ptr-line-chart-line{stroke-width:3}.ptr-line-chart-line-wrapper.gray .ptr-line-chart-line{stroke-width:1}.ptr-line-chart-line-wrapper.gray .ptr-chart-point{opacity:0}.ptr-line-chart-line-wrapper.gray .ptr-chart-point.no-opacity,.ptr-line-chart-line-wrapper.gray:hover .ptr-chart-point{opacity:1}@media screen and (max-width: 70rem){.ptr-charts-container{padding:.5rem .5rem 1.5rem}}@keyframes pathDraw{to{stroke-dashoffset:0}}@keyframes pathFill{to{fill-opacity:1}}@keyframes pointDraw{to{fill-opacity:1;stroke-opacity:1}}\n",""]),t.exports=e},function(t,e,n){(e=n(11)(!1)).push([t.i,".ptr-charts-container{display:flex;flex-direction:column;padding:1.5rem 1rem 2rem;align-items:center;background:var(--base15);min-height:100%}.ptr-chart-container{width:100%;overflow:hidden;max-width:100%;display:flex;flex-direction:column}.ptr-chart-container.centered{align-items:center}.ptr-chart-container>div:not(.ptr-chart-legend){position:relative;display:flex;flex-direction:column;width:100%;align-items:center;justify-content:center}.ptr-chart-container.legend-top>div{flex-direction:column-reverse}.ptr-chart-container.legend-right>div{flex-direction:row}.ptr-chart-container.legend-left{flex-direction:row-reverse}.ptr-chart{box-sizing:content-box;width:100%}.ptr-cartesian-chart{width:100%}.ptr-axis-baseline{stroke-width:2px;stroke-linecap:square;stroke:var(--base30)}.ptr-axis-border{stroke-width:2px;stroke-linecap:square;stroke:var(--base30)}.ptr-axis-gridline{stroke-width:1px;stroke-linecap:square;stroke:var(--base20)}.ptr-axis-label{fill:var(--base50);font-size:.809rem;font-style:italic}.ptr-tick-caption{fill:var(--base50);font-size:.809rem}.ptr-tick-caption.highlighted{font-weight:bold}.ptr-tick-caption.small{font-size:.618rem}.ptr-axis-highlighted-area-edge{stroke-width:1px;stroke:var(--accent30)}.ptr-axis-highlighted-area{stroke-width:0;fill:var(--accent15)}.ptr-line-chart-line{fill:none;stroke-width:2;stroke:var(--base50);animation:pathDraw 2s ease-in-out 1;animation-fill-mode:forwards;animation-delay:1s}.ptr-chart-point{animation:pointDraw .3s ease-in-out 1;animation-fill-mode:forwards;animation-delay:3s;fill-opacity:0;stroke-opacity:0;stroke-width:1px;stroke:var(--base10)}.ptr-chart-point.standalone{animation:none;fill:var(--accent50);fill-opacity:1;stroke:var(--base0);stroke-width:1px;stroke-opacity:1}.ptr-chart-point.standalone.path{stroke:var(--accent50)}.ptr-line-chart-area{fill:rgba(var(--base50rgb), 0.2);fill-opacity:0;animation:pathFill .3s ease-in-out 1;animation-delay:2.5s;animation-fill-mode:forwards}.ptr-chart-no-animation .ptr-line-chart-area,.ptr-chart-no-animation .ptr-column-chart-bar{animation:none;transition:none}.ptr-line-chart-line-wrapper:hover .ptr-line-chart-line,.ptr-line-chart-line-wrapper.gray:hover .ptr-line-chart-line,.ptr-line-chart-line-wrapper.highlighted.gray .ptr-line-chart-line,.ptr-line-chart-line-wrapper.highlighted .ptr-line-chart-line{stroke-width:3}.ptr-line-chart-line-wrapper.gray .ptr-line-chart-line{stroke-width:1}.ptr-line-chart-line-wrapper.gray .ptr-chart-point{opacity:0}.ptr-line-chart-line-wrapper.gray .ptr-chart-point.no-opacity,.ptr-line-chart-line-wrapper.gray:hover .ptr-chart-point{opacity:1}@media screen and (max-width: 70rem){.ptr-charts-container{padding:.5rem .5rem 1.5rem}}@keyframes pathDraw{to{stroke-dashoffset:0}}@keyframes pathFill{to{fill-opacity:1}}@keyframes pointDraw{to{fill-opacity:1;stroke-opacity:1}}.ptr-aster-chart-segment{fill:var(--accent50);stroke:var(--base0)}.ptr-aster-chart-segment-placeholder{fill:var(--base20);stroke:none;opacity:0}.ptr-aster-chart-segment-placeholder.highlighted{opacity:1}.ptr-aster-chart-grid-line{fill:none;stroke:var(--base40);stroke-width:1;stroke-linecap:round;stroke-dasharray:3, 6}.ptr-aster-chart-grid-line.strong{stroke-dasharray:1}.ptr-aster-chart-grid-radial-caption{fill:var(--base50);font-size:.809rem}.ptr-aster-chart-grid-radial-line{fill:none;stroke:var(--base30);stroke-width:1}.ptr-aster-chart-grid-text{fill:var(--base75);font-size:.809rem}.ptr-aster-chart-grid-text-halo{fill:var(--base0);font-size:.809rem}\n",""]),t.exports=e},function(t,e,n){(e=n(11)(!1)).push([t.i,".ptr-column-chart-bar-placeholder{fill:var(--base20);opacity:0}.ptr-column-chart-bar-placeholder:hover,.ptr-column-chart-bar-placeholder.visible{opacity:1}.ptr-column-chart-bar{transition-property:height;transition-delay:1000ms;transition-duration:1500ms;transition-timing-function:linear}.ptr-column-chart-bar:not(.stacked-relative):last-child{transition-timing-function:ease-out}.ptr-column-chart-bar.hidden{fill:transparent}.ptr-column-chart-bar-baseline{stroke:var(--base80);stroke-width:2}.ptr-column-chart-path{fill:var(--accent45)}\n",""]),t.exports=e},function(t,e,n){var r=n(10),i=n(26);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(11)(!1)).push([t.i,".ptr-charts-container{display:flex;flex-direction:column;padding:1.5rem 1rem 2rem;align-items:center;background:var(--base15);min-height:100%}.ptr-chart-container{width:100%;overflow:hidden;max-width:100%;display:flex;flex-direction:column}.ptr-chart-container.centered{align-items:center}.ptr-chart-container>div:not(.ptr-chart-legend){position:relative;display:flex;flex-direction:column;width:100%;align-items:center;justify-content:center}.ptr-chart-container.legend-top>div{flex-direction:column-reverse}.ptr-chart-container.legend-right>div{flex-direction:row}.ptr-chart-container.legend-left{flex-direction:row-reverse}.ptr-chart{box-sizing:content-box;width:100%}.ptr-cartesian-chart{width:100%}.ptr-axis-baseline{stroke-width:2px;stroke-linecap:square;stroke:var(--base30)}.ptr-axis-border{stroke-width:2px;stroke-linecap:square;stroke:var(--base30)}.ptr-axis-gridline{stroke-width:1px;stroke-linecap:square;stroke:var(--base20)}.ptr-axis-label{fill:var(--base50);font-size:.809rem;font-style:italic}.ptr-tick-caption{fill:var(--base50);font-size:.809rem}.ptr-tick-caption.highlighted{font-weight:bold}.ptr-tick-caption.small{font-size:.618rem}.ptr-axis-highlighted-area-edge{stroke-width:1px;stroke:var(--accent30)}.ptr-axis-highlighted-area{stroke-width:0;fill:var(--accent15)}.ptr-line-chart-line{fill:none;stroke-width:2;stroke:var(--base50);animation:pathDraw 2s ease-in-out 1;animation-fill-mode:forwards;animation-delay:1s}.ptr-chart-point{animation:pointDraw .3s ease-in-out 1;animation-fill-mode:forwards;animation-delay:3s;fill-opacity:0;stroke-opacity:0;stroke-width:1px;stroke:var(--base10)}.ptr-chart-point.standalone{animation:none;fill:var(--accent50);fill-opacity:1;stroke:var(--base0);stroke-width:1px;stroke-opacity:1}.ptr-chart-point.standalone.path{stroke:var(--accent50)}.ptr-line-chart-area{fill:rgba(var(--base50rgb), 0.2);fill-opacity:0;animation:pathFill .3s ease-in-out 1;animation-delay:2.5s;animation-fill-mode:forwards}.ptr-chart-no-animation .ptr-line-chart-area,.ptr-chart-no-animation .ptr-column-chart-bar{animation:none;transition:none}.ptr-line-chart-line-wrapper:hover .ptr-line-chart-line,.ptr-line-chart-line-wrapper.gray:hover .ptr-line-chart-line,.ptr-line-chart-line-wrapper.highlighted.gray .ptr-line-chart-line,.ptr-line-chart-line-wrapper.highlighted .ptr-line-chart-line{stroke-width:3}.ptr-line-chart-line-wrapper.gray .ptr-line-chart-line{stroke-width:1}.ptr-line-chart-line-wrapper.gray .ptr-chart-point{opacity:0}.ptr-line-chart-line-wrapper.gray .ptr-chart-point.no-opacity,.ptr-line-chart-line-wrapper.gray:hover .ptr-chart-point{opacity:1}@media screen and (max-width: 70rem){.ptr-charts-container{padding:.5rem .5rem 1.5rem}}@keyframes pathDraw{to{stroke-dashoffset:0}}@keyframes pathFill{to{fill-opacity:1}}@keyframes pointDraw{to{fill-opacity:1;stroke-opacity:1}}.ptr-sankey-chart-node{fill:var(--accent50);stroke:var(--accent50)}.ptr-sankey-chart-node-highlighted{fill:var(--accent80);stroke:var(--accent80)}.ptr-sankey-chart-text{fill:var(--base75);font-size:.809rem}.ptr-sankey-chart-link{fill:none;stroke:rgba(164,163,162,0.7)}.ptr-sankey-chart-link-highlighted{fill:none;stroke:rgba(91,90,90,0.6)}\n",""]),t.exports=e},function(t,e,n){var r=n(10),i=n(28);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(11)(!1)).push([t.i,".ptr-charts-container{display:flex;flex-direction:column;padding:1.5rem 1rem 2rem;align-items:center;background:var(--base15);min-height:100%}.ptr-chart-container{width:100%;overflow:hidden;max-width:100%;display:flex;flex-direction:column}.ptr-chart-container.centered{align-items:center}.ptr-chart-container>div:not(.ptr-chart-legend){position:relative;display:flex;flex-direction:column;width:100%;align-items:center;justify-content:center}.ptr-chart-container.legend-top>div{flex-direction:column-reverse}.ptr-chart-container.legend-right>div{flex-direction:row}.ptr-chart-container.legend-left{flex-direction:row-reverse}.ptr-chart{box-sizing:content-box;width:100%}.ptr-cartesian-chart{width:100%}.ptr-axis-baseline{stroke-width:2px;stroke-linecap:square;stroke:var(--base30)}.ptr-axis-border{stroke-width:2px;stroke-linecap:square;stroke:var(--base30)}.ptr-axis-gridline{stroke-width:1px;stroke-linecap:square;stroke:var(--base20)}.ptr-axis-label{fill:var(--base50);font-size:.809rem;font-style:italic}.ptr-tick-caption{fill:var(--base50);font-size:.809rem}.ptr-tick-caption.highlighted{font-weight:bold}.ptr-tick-caption.small{font-size:.618rem}.ptr-axis-highlighted-area-edge{stroke-width:1px;stroke:var(--accent30)}.ptr-axis-highlighted-area{stroke-width:0;fill:var(--accent15)}.ptr-line-chart-line{fill:none;stroke-width:2;stroke:var(--base50);animation:pathDraw 2s ease-in-out 1;animation-fill-mode:forwards;animation-delay:1s}.ptr-chart-point{animation:pointDraw .3s ease-in-out 1;animation-fill-mode:forwards;animation-delay:3s;fill-opacity:0;stroke-opacity:0;stroke-width:1px;stroke:var(--base10)}.ptr-chart-point.standalone{animation:none;fill:var(--accent50);fill-opacity:1;stroke:var(--base0);stroke-width:1px;stroke-opacity:1}.ptr-chart-point.standalone.path{stroke:var(--accent50)}.ptr-line-chart-area{fill:rgba(var(--base50rgb), 0.2);fill-opacity:0;animation:pathFill .3s ease-in-out 1;animation-delay:2.5s;animation-fill-mode:forwards}.ptr-chart-no-animation .ptr-line-chart-area,.ptr-chart-no-animation .ptr-column-chart-bar{animation:none;transition:none}.ptr-line-chart-line-wrapper:hover .ptr-line-chart-line,.ptr-line-chart-line-wrapper.gray:hover .ptr-line-chart-line,.ptr-line-chart-line-wrapper.highlighted.gray .ptr-line-chart-line,.ptr-line-chart-line-wrapper.highlighted .ptr-line-chart-line{stroke-width:3}.ptr-line-chart-line-wrapper.gray .ptr-line-chart-line{stroke-width:1}.ptr-line-chart-line-wrapper.gray .ptr-chart-point{opacity:0}.ptr-line-chart-line-wrapper.gray .ptr-chart-point.no-opacity,.ptr-line-chart-line-wrapper.gray:hover .ptr-chart-point{opacity:1}@media screen and (max-width: 70rem){.ptr-charts-container{padding:.5rem .5rem 1.5rem}}@keyframes pathDraw{to{stroke-dashoffset:0}}@keyframes pathFill{to{fill-opacity:1}}@keyframes pointDraw{to{fill-opacity:1;stroke-opacity:1}}\n",""]),t.exports=e},function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),o=n(0),a=n.n(o),s=n(3),u=n.n(s),l=n(7),c=n.n(l),h=n(2),f=n.n(h),p=(n(18),n(6));function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=p.Context.getContext("HoverContext"),E=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,y(e).call(this,t))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,t),n=e,(r=[{key:"onMouseMove",value:function(t){this.context&&this.context.onHover&&this.context.onHover([t])}},{key:"onMouseOver",value:function(t){this.context&&this.context.onHover&&this.context.onHover([t])}},{key:"onMouseOut",value:function(){this.context&&this.context.onHoverOut&&this.context.onHoverOut()}},{key:"render",value:function(){var t=this,e=[],n=this.props.showSelectedOnly&&this.context&&this.context.selectedItems;return f.a.forEach(this.props.data,(function(r,o){var a=f.a.get(r,t.props.keySourcePath),s=null;t.props.colorSourcePath?s=f.a.get(r,t.props.colorSourcePath):r.color?s=r.color:t.props.colorScale&&(s=t.props.colorScale(a));var l=f.a.get(r,t.props.nameSourcePath),h=t.props.numericLink?o+1:null,p={background:s},d=u()("ptr-chart-legend-item",{withNumbers:!!t.props.numericLink}),g=u()("ptr-chart-legend-item-icon",{dark:!!s&&c()(s).luminance()<.35}),m=i.a.createElement("div",{className:d,key:a+"-legend",onMouseOver:t.onMouseOver.bind(t,a),onMouseMove:t.onMouseMove.bind(t,a),onMouseOut:t.onMouseOut.bind(t,a)},i.a.createElement("div",{className:g,style:p},h),i.a.createElement("div",{className:"ptr-chart-legend-item-name",title:l},l));n?-1!==f.a.indexOf(n,a)&&e.push(m):e.push(m)})),i.a.createElement("div",{className:"ptr-chart-legend"},e)}}])&&g(n.prototype,r),e}(i.a.PureComponent);E.contextType=b,E.propTypes={data:a.a.array,keySourcePath:a.a.string,nameSourcePath:a.a.string,colorSourcePath:a.a.string,colorScale:a.a.func,numericLink:a.a.bool,showSelectedOnly:a.a.bool};var _=E,w=n(15),S=n.n(w),x=n(16),T=n.n(x),O=n(17),C=n.n(O),A=(n(20),n(12)),L=n(5);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=I(e).call(this,t))||"object"!==P(r)&&"function"!=typeof r?N(this):r).state={loadingStatus:n.props.loading?"open":"close"},n.export=n.export.bind(N(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount&&this.props.onUnmount()}},{key:"export",value:function(){var t=document.activeElement;t.style.visibility="hidden";var e=document.getElementById(this.props.wrapperKey);setTimeout((function(){T.a.toPng(e).then((function(e){t.style.visibility="visible",C()(e,"chart.png")}))}),500)}},{key:"componentDidUpdate",value:function(t,e,n){if(t.loading&&!this.props.loading){this.setState({loadingStatus:"closing"});var r=this;setTimeout((function(){r.setState({loadingStatus:"close"})}),700)}else!t.loading&&this.props.loading&&this.setState({loadingStatus:"open"})}},{key:"render",value:function(){var t=this,e=u()("ptr-chart-wrapper-header",{"with-subtitle":!!this.props.subtitle}),n={};return this.props.data&&(n.data=this.props.data),i.a.createElement("div",{className:"ptr-chart-wrapper",id:this.props.wrapperKey},"open"===this.state.loadingStatus||"closing"===this.state.loadingStatus?i.a.createElement("div",{className:"ptr-chart-wrapper-loader"},i.a.createElement(A.Loader,{fadeOut:"closing"===this.state.loadingStatus,blackandwhite:!0,small:!0,background:"#ffffff"})):null,"close"===this.state.loadingStatus||"closing"===this.state.loadingStatus?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:e},i.a.createElement("div",{className:"ptr-chart-wrapper-titles"},i.a.createElement("div",{className:"ptr-chart-wrapper-title",title:this.props.title},this.props.title),this.props.subtitle?i.a.createElement("div",{className:"ptr-chart-wrapper-subtitle",title:this.props.subtitle},this.props.subtitle):null),i.a.createElement("div",{className:"ptr-chart-wrapper-tools"},this.props.enableExport?this.renderMenu():null)),this.props.statusBar?i.a.createElement("div",{className:"ptr-chart-wrapper-status-bar"},this.props.statusBar):null,i.a.createElement("div",{className:"ptr-chart-wrapper-content"},i.a.createElement(S.a,{handleWidth:!0,handleHeight:!0,render:function(e){var r=e.width,o=(e.height,r/L.utils.getRemSize());return i.a.cloneElement(t.props.children,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n,{width:o||null}))}}))):null)}},{key:"renderMenu",value:function(){return i.a.createElement("div",{className:"ptr-chart-wrapper-tool"},i.a.createElement(A.Button,{icon:"dots",invisible:!0,onClick:function(){}},i.a.createElement(A.Menu,{bottom:!0,left:!0},this.props.enableExport?i.a.createElement(A.MenuItem,{onClick:this.export},"Download as PNG"):null)))}}])&&k(n.prototype,r),e}(i.a.PureComponent);j.propTypes={title:a.a.string,subtitle:a.a.string,statusBar:a.a.oneOfType([a.a.element,a.a.array]),onMount:a.a.func,onUnmount:a.a.func,loading:a.a.bool,enableExport:a.a.bool,wrapperKey:a.a.string};var F=j;function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,W(e).call(this,t))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return i.a.createElement("div",{className:"ptr-charts-container"},this.renderCharts())}},{key:"renderCharts",value:function(){var t=this;return this.props.set&&this.props.set.charts?this.props.set.charts.map((function(e,n){var r=t.props.charts[e],o={chartKey:r.key,name:r.data&&r.data.title};if(t.props.children)return i.a.cloneElement(t.props.children,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o,{key:e}))})):null}}])&&G(n.prototype,r),e}(i.a.PureComponent);z.propTypes={charts:a.a.object,set:a.a.object};var H=z;function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(9);var J=p.Context.getContext("HoverContext"),Q=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,X(e).call(this,t))).label=i.a.createRef(),n.state={text:t.text&&f.a.isString(t.text)?t.text:t.text.toString()},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.handleText()}},{key:"componentDidUpdate",value:function(t,e,n){t.text!==this.props.text&&this.setState({text:this.props.text}),this.handleText(t.maxWidth)}},{key:"handleText",value:function(t){var e=this.label.current.getBBox();if(e&&e.width&&this.props.maxWidth)if(e.width>this.props.maxWidth){var n=e.width/this.props.maxWidth,r=Math.floor(this.state.text.length/n)-3,i=this.state.text.substring(0,r)+"...";this.setState({text:i})}else e.width<=this.props.maxWidth&&t!==this.props.maxWidth&&this.setState({text:this.props.text})}},{key:"render",value:function(){var t=!1;if(this.props.originalDataKey&&this.context&&(this.context.hoveredItems||this.context.selectedItems)){var e=-1!==f.a.indexOf(this.context.hoveredItems,this.props.originalDataKey),n=-1!==f.a.indexOf(this.context.selectedItems,this.props.originalDataKey);t=e||n}var r=u()(this.props.classes,{small:this.props.maxHeight<20,highlighted:t});return i.a.createElement("text",{ref:this.label,className:r,textAnchor:this.props.textAnchor},this.state.text,i.a.createElement("title",null,this.props.text))}}])&&q(n.prototype,r),e}(i.a.PureComponent);Q.contextType=J,Q.propTypes={classes:a.a.string,maxHeight:a.a.number,maxWidth:a.a.number,text:a.a.oneOfType([a.a.string,a.a.number]),textAnchor:a.a.string,originalDataKey:a.a.oneOfType([a.a.string,a.a.number])};var $=Q,tt=n(4);function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(14);var at=p.Context.getContext("HoverContext"),st=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=rt(e).call(this,t))||"object"!==et(r)&&"function"!=typeof r?it(this):r).ref=i.a.createRef(),n.onMouseMove=n.onMouseMove.bind(it(n)),n.onMouseOut=n.onMouseOut.bind(it(n)),n.onMouseOver=n.onMouseOver.bind(it(n)),n.state={color:t.defaultColor},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}(e,t),n=e,(r=[{key:"onMouseMove",value:function(t,e){this.context&&this.context.onHover&&this.context.onHover([this.props.itemKey],{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent(e)}}),this.setColor(!0)}},{key:"onMouseOver",value:function(t,e){this.context&&this.context.onHover&&this.context.onHover([this.props.itemKey],{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent(e)}}),this.setColor(!0)}},{key:"onMouseOut",value:function(t){this.context&&this.context.onHoverOut&&this.context.onHoverOut(),this.setColor()}},{key:"componentDidMount",value:function(){this.setColor()}},{key:"componentDidUpdate",value:function(t){}},{key:"setColor",value:function(t){t?this.setState({color:this.props.highlightColor?this.props.highlightColor:null}):this.setState({color:this.props.defaultColor?this.props.defaultColor:null})}},{key:"render",value:function(){var t=this.props,e=this.state.color,n=!1,r=!1;if(this.context&&(this.context.hoveredItems||this.context.selectedItems)){var o=f.a.includes(this.context.hoveredItems,this.props.itemKey),a=f.a.includes(this.context.selectedItems,this.props.itemKey);r=o||a,this.props.siblings&&(f.a.intersection(this.context.hoveredItems,this.props.siblings).length||f.a.intersection(this.context.selectedItems,this.props.siblings).length)&&(n=!r),(o||a)&&(e=this.props.highlightColor?this.props.highlightColor:null)}var s=u()("ptr-aster-chart-segment-placeholder",{highlighted:r});return i.a.createElement("g",{onMouseOver:this.onMouseOver,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut},i.a.createElement("path",{className:s,d:"\n\t\t\t\t\t\tM".concat(t.origin[0]," ").concat(t.origin[1],"\n\t\t\t\t\t\tL").concat(t.maxArcStart[0]," ").concat(t.maxArcStart[1],"\n\t\t\t\t\t\tA").concat(t.maxRadius," ").concat(t.maxRadius," 0 0 1 ").concat(t.maxArcEnd[0]," ").concat(t.maxArcEnd[1],"\n\t\t\t\t\t\tL").concat(t.origin[0]," ").concat(t.origin[1],"\n\t\t\t\t\t")}),i.a.createElement("path",{className:"ptr-aster-chart-segment",style:{fill:e,strokeWidth:this.props.strokeWidth?this.props.strokeWidth:1,opacity:n?.15:1},d:"\n\t\t\t\t\t\tM".concat(t.origin[0]," ").concat(t.origin[1],"\n\t\t\t\t\t\tL").concat(t.arcStart[0]," ").concat(t.arcStart[1],"\n\t\t\t\t\t\tA").concat(t.radius," ").concat(t.radius," 0 0 1 ").concat(t.arcEnd[0]," ").concat(t.arcEnd[1],"\n\t\t\t\t\t\tL").concat(t.origin[0]," ").concat(t.origin[1],"\n\t\t\t\t\t")}))}},{key:"getPopupContent",value:function(){var t=this.props,e={},n=f.a.get(t.data,t.nameSourcePath),r=this.state.color||t.highlightColor,o=f.a.get(t.data,t.valueSourcePath),a=f.a.get(t.data,t.hoverValueSourcePath),s=t.relative?"%":null,u=o;return o&&o%1!=0&&(u=u.toFixed(2)),r&&(e.background=r),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ptr-popup-header"},i.a.createElement("div",{className:"ptr-popup-record-color",style:e}),n),i.a.createElement("div",{className:"ptr-popup-record-group"},i.a.createElement("div",{className:"ptr-popup-record"},i.a.createElement("div",{className:"ptr-popup-record-value-group"},a?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"value"},a),s&&a===o?i.a.createElement("span",{className:"unit"},s):null):i.a.createElement(i.a.Fragment,null,u?i.a.createElement("span",{className:"value"},u.toLocaleString()):null,s?i.a.createElement("span",{className:"unit"},s):null)))))}}])&&nt(n.prototype,r),e}(i.a.PureComponent);st.contextType=at,st.propTypes={arcEnd:a.a.array,arcStart:a.a.array,origin:a.a.array,radius:a.a.number,maxArcEnd:a.a.array,maxArcStart:a.a.array,maxRadius:a.a.number,defaultColor:a.a.oneOfType([a.a.string,a.a.object]),highlightColor:a.a.oneOfType([a.a.string,a.a.object]),strokeWidth:a.a.number,nameSourcePath:a.a.string,valueSourcePath:a.a.string,hoverValueSourcePath:a.a.string,data:a.a.object,relative:a.a.bool,siblings:a.a.array};var ut=st;function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,ht(e).call(this,t))).ref=i.a.createRef(),n.state={width:null},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.resize(),window&&window.addEventListener("resize",this.resize.bind(this),{passive:!0})}},{key:"resize",value:function(){if(!this.props.width&&this.ref&&this.ref.current){var t=this.ref.current.clientWidth;this.setState({width:t})}}},{key:"render",value:function(){var t,e,n=this,r=this.props,o=L.utils.getRemSize(),a=null;if(this.props.width||this.state.width){a=this.props.width?this.props.width*o:this.state.width;var s=r.minWidth*o,u=r.maxWidth*o;a>u&&(a=u),a<s&&(a=s);var l=a-(r.radials&&r.radialsLabels?r.padding+r.radialsLabelsSize:r.padding)*o*2,h=[];r.data&&(e=L.filter.filterDataWithNullValue(r.data,r.valueSourcePath),e=r.sorting?L.sort.sortByOrder(e,r.sorting):e,e=f.a.map(e,(function(t){var e=c.a.random().hex();return r.colorSourcePath||t.color?f.a.get(t,n.props.colorSourcePath)||f.a.set(t,n.props.colorSourcePath,e):t.color=e,t})),h=f.a.map(e,(function(t){return f.a.get(t,r.valueSourcePath)})));var p=r.forceMaximum||0===r.forceMaximum?r.forceMaximum:f.a.max(h),d=f.a.min(h);r.forceMinimum||0===r.forceMinimum?d=r.forceMinimum:d>=0?d=0:d-=.05*Math.abs(p-d);var g=[a/2,a/2],m=[d,p],y=tt.scaleLinear().domain(m).range([0,l/2]);t=i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",{className:"ptr-chart ptr-aster-chart",height:a},e&&r.radials?this.renderRadials(e,g,y,p):null,";",e?this.renderSegments(e,g,y,p):null,r.grid?this.renderGrid(m,g,y,a):null))}var v={};return a&&(v.width=a),i.a.createElement("div",{className:"ptr-chart-container centered",ref:this.ref},i.a.createElement("div",{style:v},t),this.props.legend&&e?this.renderLegend(e,r.radials&&r.radialsLabels):null)}},{key:"renderSegments",value:function(t,e,n,r){var o=this,a=2*Math.PI/t.length,s=t.length<20?2:1,u=t.map((function(t){return f.a.get(t,o.props.keySourcePath)}));return f.a.map(t,(function(t,l){var c=f.a.get(t,o.props.keySourcePath),h=o.props.colorSourcePath?f.a.get(t,o.props.colorSourcePath):t.color,p=n(f.a.get(t,o.props.valueSourcePath))+s,d=o.props.startingAngle+l*a,g=o.props.startingAngle+(l+1)*a,m=e[0]-Math.cos(d)*p,y=e[1]-Math.sin(d)*p,v=e[0]-Math.cos(g)*p,b=e[1]-Math.sin(g)*p,E=n(r),_=e[0]-Math.cos(d)*E,w=e[1]-Math.sin(d)*E,S=e[0]-Math.cos(g)*E,x=e[1]-Math.sin(g)*E;return i.a.createElement(ut,{key:c,itemKey:c,origin:e,arcStart:[m,y],arcEnd:[v,b],radius:p,maxArcStart:[_,w],maxArcEnd:[S,x],maxRadius:E,defaultColor:h,highlightColor:h,strokeWidth:s,nameSourcePath:o.props.nameSourcePath,valueSourcePath:o.props.valueSourcePath,hoverValueSourcePath:o.props.hoverValueSourcePath||o.props.valueSourcePath,data:t,relative:o.props.relative,siblings:u})}))}},{key:"renderGrid",value:function(t,e,n,r){var o=this,a=this.props,s=a.gridStepsMax,l=a.gridGapMin*L.utils.getRemSize(),c=t[0],h=t[1];r/2<s*l&&(s=Math.floor(r/2/l));for(var p=Math.floor((h-c)/s),d=[],g=0,m=h;m>c;m-=p)g<s&&d.unshift(m),g++;return i.a.createElement("g",null,f.a.map(d,(function(t,r){var o=n(t),a=u()("ptr-aster-chart-grid-line",{strong:r+1===s}),l=e[0],c=e[1]-o,h=e[1]+o;return i.a.createElement("path",{key:o,className:a,d:"\n\t\t\t\t\t\t\t\tM".concat(l," ").concat(c,"\n\t\t\t\t\t\t\t\tA").concat(o," ").concat(o," 0 1 1 ").concat(l," ").concat(h,"\n\t\t\t\t\t\t\t\tA").concat(o," ").concat(o," 0 1 1 ").concat(l," ").concat(c,"\n\t\t\t\t\t\t\t")})})),a.gridValues?i.a.createElement("g",null,i.a.createElement("defs",null,i.a.createElement("filter",{id:"glow",x:"-50%",y:"-10%",width:"200%",height:"120%"},i.a.createElement("feGaussianBlur",{stdDeviation:"2 2",result:"glow"}),i.a.createElement("feMerge",null,i.a.createElement("feMergeNode",{in:"glow"}),i.a.createElement("feMergeNode",{in:"glow"}),i.a.createElement("feMergeNode",{in:"glow"}),i.a.createElement("feMergeNode",{in:"glow"}),i.a.createElement("feMergeNode",{in:"glow"}),i.a.createElement("feMergeNode",{in:"glow"})))),f.a.map(d,(function(t,r){var a=t.toLocaleString();return o.props.relative&&(a+=" %"),i.a.createElement("g",{key:a},i.a.createElement("text",{style:{filter:"url(#glow)"},className:"ptr-aster-chart-grid-text-halo",textAnchor:"middle",x:e[0],y:e[1]-n(t)+5},a),i.a.createElement("text",{className:"ptr-aster-chart-grid-text",textAnchor:"middle",x:e[0],y:e[1]-n(t)+5},a))}))):null)}},{key:"renderRadials",value:function(t,e,n,r){var o=this,a=2*Math.PI/t.length,s=this.props.radialsLabels?n(r)+8:n(r),u=n(r)+16;return f.a.map(t,(function(t,r){var l=f.a.get(t,o.props.keySourcePath)+"-radial",c=o.props.startingAngle+r*a+a/2,h=n(f.a.get(t,o.props.valueSourcePath)),p=e[0]-Math.cos(c)*h,d=e[1]-Math.sin(c)*h,g=e[0]-Math.cos(c)*s,m=e[1]-Math.sin(c)*s,y="start",v=4*(1-Math.sin(c)),b=5*(-1-Math.cos(c));c>1.5*Math.PI&&(y="end",b=5*(1-Math.cos(c)));var E=e[0]-Math.cos(c)*u+b,_=e[1]-Math.sin(c)*u+v;return i.a.createElement("g",{key:l},i.a.createElement("path",{className:"ptr-aster-chart-grid-radial-line",d:"\n\t\t\t\t\t\t\tM".concat(p," ").concat(d,"\n\t\t\t\t\t\t\tL").concat(g," ").concat(m,"\n\t\t\t\t\t\t")}),o.props.radialsLabels?i.a.createElement("text",{className:"ptr-aster-chart-grid-radial-caption",textAnchor:y,x:E,y:_},r+1):null)}))}},{key:"renderLegend",value:function(t,e){return i.a.createElement(_,{data:t,keySourcePath:this.props.keySourcePath,nameSourcePath:this.props.nameSourcePath,colorSourcePath:this.props.colorSourcePath,numericLink:e})}}])&&ct(n.prototype,r),e}(i.a.PureComponent);pt.defaultProps={minWidth:10,maxWidth:30,padding:1,grid:!0,gridGapMin:1.5,gridStepsMax:10,gridValues:!0,radials:!0,radialsLabels:!1,radialsLabelsSize:1,startingAngle:Math.PI/2},pt.propTypes={data:a.a.array.isRequired,forceMinimum:a.a.number,forceMaximum:a.a.number,relative:a.a.bool,sorting:a.a.array,colorSourcePath:a.a.string,keySourcePath:a.a.string.isRequired,nameSourcePath:a.a.string.isRequired,valueSourcePath:a.a.string.isRequired,hoverValueSourcePath:a.a.string,width:a.a.number,minWidth:a.a.number,maxWidth:a.a.number,padding:a.a.number,grid:a.a.bool,gridGapMin:a.a.number,gridStepsMax:a.a.number,gridValues:a.a.bool,radials:a.a.bool,radialsLabels:a.a.bool,radialsLabelsSize:a.a.number,startingAngle:a.a.number,legend:a.a.bool};var dt=pt;function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(){return(mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(13);var Et=function(t){var e=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e){return!e||"object"!==gt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,vt(n).call(this,t))).ref=i.a.createRef(),e.state={width:null},e}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(n,e),r=n,(o=[{key:"componentDidMount",value:function(){this.resize(),window&&window.addEventListener("resize",this.resize.bind(this),{passive:!0})}},{key:"resize",value:function(){if(!this.props.width&&this.ref&&this.ref.current){var t=this.ref.current.clientWidth;this.setState({width:t})}}},{key:"render",value:function(){var e=null,n=L.utils.getRemSize(),r=null,o=0;if(this.props.width||this.state.width){var a=this.props;r=this.props.width?this.props.width*n:this.state.width;var s=a.height*n,u=a.minWidth*n,l=a.maxWidth*n,c=a.xValues?a.xValuesSize*n:.5*n,h=a.yValues?a.yValuesSize*n:.5*n;t.defaultProps&&t.defaultProps.maxPointRadius&&this.props.zSourcePath&&(o=t.defaultProps.maxPointRadius);var f=a.innerPaddingLeft*n+o,p=a.innerPaddingRight*n+o,d=a.innerPaddingTop*n+o,g=0,m=0;a.xValues||a.xValuesSize||(c=a.yValues?1*n:0),a.yValues||a.yValuesSize||(h=a.xValues?2*n:0),a.xLabel&&(g=1*n),a.yLabel&&(m=1*n),r>l&&(r=l),r<u&&(r=u),a.minAspectRatio&&r/s<a.minAspectRatio&&(s=r/a.minAspectRatio);var y=r-h-m,v=s-c-g,b=y-f-p,E=v-d;e=i.a.createElement(t,mt({},this.props,{width:r,height:s,minWidth:u,maxWidth:l,xValuesSize:c,yValuesSize:h,xLabelSize:g,yLabelSize:m,plotWidth:y,plotHeight:v,innerPaddingLeft:f,innerPaddingRight:p,innerPaddingTop:d,innerPlotWidth:b,innerPlotHeight:E}))}var _={};return r&&(_.width=r),i.a.createElement("div",{className:"ptr-chart-container",ref:this.ref},i.a.createElement("div",{style:_},e))}}])&&yt(r.prototype,o),n}(i.a.PureComponent);return e.defaultProps={height:15,minWidth:10,xValuesSize:3,yValuesSize:3,innerPaddingLeft:.7,innerPaddingRight:.7,innerPaddingTop:.7,xValues:!0,yValues:!0,xTicks:!0,yGridlines:!0},e.propTypes={data:a.a.array.isRequired,keySourcePath:a.a.string.isRequired,nameSourcePath:a.a.string.isRequired,colorSourcePath:a.a.string,serieDataSourcePath:a.a.string,xSourcePath:a.a.string.isRequired,ySourcePath:a.a.oneOfType([a.a.string,a.a.array]).isRequired,sorting:a.a.array,height:a.a.number,width:a.a.number,minWidth:a.a.number,maxWidth:a.a.number,minAspectRatio:a.a.number,xValuesSize:a.a.number,yValuesSize:a.a.number,innerPaddingLeft:a.a.number,innerPaddingRight:a.a.number,innerPaddingTop:a.a.number,xOptions:a.a.object,xGridlines:a.a.bool,xValues:a.a.bool,xLabel:a.a.bool,xScaleType:a.a.string,xTicks:a.a.bool,yOptions:a.a.object,yGridlines:a.a.bool,yValues:a.a.bool,yTicks:a.a.bool,yLabel:a.a.bool,yScaleType:a.a.bool,withoutYbaseline:a.a.bool,border:a.a.bool,diverging:a.a.oneOfType([a.a.string,a.a.bool]),legend:a.a.bool},e},_t=n(8),wt=n.n(_t);function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ct=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==St(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Tt(e).call(this,t))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props;return i.a.createElement("g",{className:"ptr-column-chart-axis-x",transform:"translate(".concat(t.leftMargin,",0)")},t.ticks||t.gridlines||t.withValues?this.renderGrid():null,this.renderBaseline(),t.border?this.renderBorder():null,t.label?this.renderLabel():null)}},{key:"renderBaseline",value:function(){var t=this.props,e=t.plotHeight;return t.diverging&&(e=t.yScale(t.yOptions&&t.yOptions.diversionValue?t.yOptions.diversionValue:0)+t.topPadding),e||0===e?i.a.createElement("path",{className:"ptr-axis-baseline",d:"M0 ".concat(e," L").concat(t.width," ").concat(e)}):null}},{key:"renderBorder",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{className:"ptr-axis-border ptr-axis-border-top",d:"M0 1 L".concat(this.props.width," 1")}),this.props.diverging?i.a.createElement("path",{className:"ptr-axis-border ptr-axis-border-bottom",d:"M0 ".concat(this.props.plotHeight," L").concat(this.props.width," ").concat(this.props.plotHeight)}):null)}},{key:"renderGrid",value:function(){var t=this.props.ticks?5:0;return"ordinal"===this.props.scaleType?this.renderOrdinalGrid(t):"linear"===this.props.scaleType||"time"===this.props.scaleType?this.renderLinearGrid(t):void 0}},{key:"renderLinearGrid",value:function(t){var e=this,n=this.props.scale.ticks(this.props.width>300?10:5),r=this.props.width/n.length/Math.sqrt(2);return i.a.createElement("g",{className:"ptr-axis-grid",transform:"translate(".concat(this.props.leftPadding,", 0)")},n.map((function(n){var o=e.props.scale(n),a=n;return"time"!==e.props.scaleType&&(a=n.toLocaleString()),o||0===o?i.a.createElement("g",{key:n},i.a.createElement("line",{className:"ptr-axis-gridline",x1:o,x2:o,y1:e.props.plotHeight+t,y2:e.props.gridlines?0:e.props.plotHeight}),e.props.withValues?e.renderValueLabel(null,o,t,r,a):null):null})))}},{key:"renderOrdinalGrid",value:function(t){var e=this,n=this.props,r=n.options,o=n.scale,a=[];if(r&&(r.startingTick||r.tickStep)){var s=0,u=1;r.startingTick&&(s=r.startingTick),r.tickStep&&(u=r.tickStep);for(var l=s;l<=n.data.length;l+=u)a.push(n.data[l]);o=n.scale.domain(a)}else a=n.data;var c=o.bandwidth(),h=o.padding()*c;return i.a.createElement("g",{className:"ptr-axis-grid",transform:"translate(".concat(n.leftPadding+c/2,", 0)")},a.map((function(r){var o=r,a=r;f.a.isObject(r)&&(o=r.key||f.a.get(r,n.keySourcePath),a=r.name||f.a.get(r,n.nameSourcePath));var s=n.scale(o);return s||0===s?i.a.createElement("g",{key:o},i.a.createElement("line",{className:"ptr-axis-gridline",x1:s,x2:s,y1:n.plotHeight+t,y2:n.gridlines?0:n.plotHeight}),n.withValues?e.renderValueLabel(o,s,t,c+h,a,r):null):null})))}},{key:"renderValueLabel",value:function(t,e,n,r,o,a){var s=this.props.plotHeight+n+10,u=(this.props.height-n-10)*Math.sqrt(2);if("time"===this.props.scaleType){var l=wt()(o);this.props.options&&(this.props.options.timeValueLanguage&&(l=l.locale(this.props.options.timeValueLanguage)),l=this.props.options.axisValueFormat?l.format(this.props.options.axisValueFormat):l.format()),o=l}return this.props.options&&this.props.options.valueLabelRenderer?this.props.options.valueLabelRenderer(e,s,r,u,o,a):r>15?i.a.createElement("g",{transform:"\n\t\t\t\t\t\trotate(-45 ".concat(e+5," ").concat(s,")\n\t\t\t\t\t\ttranslate(").concat(e+5," ").concat(s,")\n\t\t\t\t\t")},i.a.createElement($,{originalDataKey:t,classes:"ptr-tick-caption",maxWidth:u,maxHeight:r,text:o,textAnchor:"end"})):null}},{key:"renderLabel",value:function(){var t=this.props,e="";return t.options?(t.options.name&&(e+=t.options.name),t.options.unit&&(e+=" ("+t.options.unit+")")):e="Axis X",i.a.createElement("g",{transform:"\n\t\t\t\t\t\ttranslate(".concat(t.width/2," ").concat(t.plotHeight+t.height+t.labelSize-3,")\n\t\t\t\t\t")},i.a.createElement($,{classes:"ptr-axis-label",maxWidth:t.width,maxHeight:25,text:e,textAnchor:"middle"}))}}])&&xt(n.prototype,r),e}(i.a.PureComponent);Ct.propTypes={data:a.a.array,scale:a.a.func,scaleType:a.a.string,sourcePath:a.a.string,keySourcePath:a.a.string,leftMargin:a.a.number,leftPadding:a.a.number,topPadding:a.a.number,plotHeight:a.a.number,labelSize:a.a.number,height:a.a.number,width:a.a.number,gridlines:a.a.bool,ticks:a.a.bool,withValues:a.a.bool,label:a.a.bool,options:a.a.object,diverging:a.a.oneOfType([a.a.string,a.a.bool]),yScale:a.a.func,yOptions:a.a.object};var At=Ct;function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mt(t,e){return(Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==Lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Rt(e).call(this,t))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mt(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props;return i.a.createElement("g",{className:"ptr-column-chart-axis-y",transform:"translate(0,0)"},t.options&&t.options.highlightedArea?this.renderHighlightedArea():null,t.ticks||t.gridlines||t.withValues?this.renderGrid():null,t.hiddenBaseline?null:this.renderBaseline(),t.border?this.renderBorder():null,t.label?this.renderLabel():null)}},{key:"renderBaseline",value:function(){var t=this.props,e=this.props.width+this.props.labelSize;return t.diverging&&t.xOptions&&t.xOptions.diversionValue&&(e+=t.xScale(t.xOptions.diversionValue)+t.leftPadding),i.a.createElement("path",{className:"ptr-axis-baseline",d:"M".concat(e," ").concat(this.props.height," L").concat(e," 0")})}},{key:"renderBorder",value:function(){var t=this.props.width+this.props.labelSize,e=this.props.width+this.props.labelSize+this.props.plotWidth-1;return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{className:"ptr-axis-border ptr-axis-border-right",d:"M".concat(e," ").concat(this.props.height," L").concat(e," 0")}),this.props.diverging?i.a.createElement("path",{className:"ptr-axis-border ptr-axis-border-left",d:"M".concat(t," ").concat(this.props.height," L").concat(t," 0")}):null)}},{key:"renderGrid",value:function(){var t=this.props,e=this.props.options&&this.props.options.tickCount?this.props.options.tickCount:5,n=t.ticks?12:7,r=t.scale.ticks(e);if(t.diverging){var o=t.options&&t.options.diversionValue||0;if(-1===f.a.indexOf(r,o)){for(var a=[o],s=t.scale.domain(),u=s[0],l=s[1],c=Math.abs(r[0]-r[1]),h=o+c;h<l;h+=c)a.push(h);for(var p=o-c;p>u;p-=c)a.unshift(p);r=a}}return i.a.createElement("g",{className:"ptr-axis-grid",transform:"translate(".concat(t.width+t.labelSize-n,",").concat(t.topPadding,")")},r.map((function(e){var o=t.scale(e);return o||0===o?i.a.createElement("g",{key:e},i.a.createElement("line",{className:"ptr-axis-gridline",x1:7,x2:t.gridlines?t.plotWidth+n:n,y1:o,y2:o}),t.withValues?i.a.createElement("g",{transform:"\n\t\t\t\t\t\t\t\t\t\t\ttranslate(0 ".concat(o+4,")\n\t\t\t\t\t\t\t\t\t\t")},i.a.createElement($,{classes:"ptr-tick-caption",maxWidth:t.width,maxHeight:t.height/r.length,text:e.toLocaleString(),textAnchor:"end"})):null):null})))}},{key:"renderLabel",value:function(){var t=this.props,e="";if(t.options){if(t.options.name&&(e+=t.options.name),t.options.unit||"relative"===t.stacked){var n=t.options.unit;"relative"===t.stacked&&(n="%"),e+=" ("+n+")"}}else e="Axis Y";return i.a.createElement("g",{transform:"\n\t\t\t\t\t\ttranslate(13 ".concat(t.height/2,")\n\t\t\t\t\t\trotate(270)\n\t\t\t\t\t")},i.a.createElement($,{classes:"ptr-axis-label",maxWidth:t.height,maxHeight:25,text:e,textAnchor:"middle"}))}},{key:"renderHighlightedArea",value:function(){var t=this.props,e=t.ticks?12:7,n=t.options.highlightedArea,r=t.scale.domain(),o=r[0]>n.from?r[0]:n.from,a=r[1]<n.to?r[1]:n.to,s=t.gridlines?t.plotWidth+e:t.plotWidth,u=t.scale(o),l=t.scale(a);return i.a.createElement("g",{className:"ptr-axis-grid",transform:"translate(".concat(t.width+t.labelSize-e,",").concat(t.topPadding,")")},i.a.createElement("path",{className:"ptr-axis-highlighted-area",d:"M".concat(7,",").concat(u," L").concat(7,",").concat(l," L").concat(s,",").concat(l," L").concat(s,",").concat(u)}),o===n.from?i.a.createElement("line",{className:"ptr-axis-highlighted-area-edge",x1:7,x2:s,y1:u,y2:u}):null,a===n.to?i.a.createElement("line",{className:"ptr-axis-highlighted-area-edge",x1:7,x2:s,y1:l,y2:l}):null)}}])&&Pt(n.prototype,r),e}(i.a.PureComponent);kt.defaultProps={topPadding:0,leftPadding:0},kt.propTypes={scale:a.a.func,bottomMargin:a.a.number,topPadding:a.a.number,leftPadding:a.a.number,height:a.a.number,plotWidth:a.a.number,labelSize:a.a.number,width:a.a.number,hiddenBaseline:a.a.bool,gridlines:a.a.bool,ticks:a.a.bool,withValues:a.a.bool,label:a.a.bool,options:a.a.object,diverging:a.a.oneOfType([a.a.string,a.a.bool]),stacked:a.a.oneOfType([a.a.string,a.a.bool]),xScale:a.a.func,xOptions:a.a.object};var It=kt;function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(t,e){return!e||"object"!==Nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ut=function(t){function e(){return Dt(this,e),Ft(this,Vt(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props;return i.a.createElement(i.a.Fragment,null,i.a.createElement(It,{scale:t.yScale,bottomMargin:t.xValuesSize,topPadding:t.innerPaddingTop,leftPadding:t.innerPaddingLeft,height:t.plotHeight,plotWidth:t.plotWidth,width:t.yValuesSize,ticks:t.yTicks,gridlines:t.yGridlines,withValues:t.yValues,label:t.yLabel,labelSize:t.yLabelSize,options:t.yOptions,border:t.border,diverging:t.diverging,stacked:t.stacked,xScale:t.xScale,xOptions:t.xOptions,hiddenBaseline:t.withoutYbaseline}),i.a.createElement(At,{data:t.contentData,scale:t.xScale,scaleType:t.xScaleType,sourcePath:t.xSourcePath,keySourcePath:t.keySourcePath,leftMargin:t.yValuesSize+t.yLabelSize,leftPadding:t.innerPaddingLeft,topPadding:t.innerPaddingTop,height:t.xValuesSize,plotHeight:t.plotHeight,width:t.plotWidth,ticks:t.xTicks&&!t.aggregated,gridlines:t.xGridlines&&!t.aggregated,withValues:t.xValues&&!t.aggregated,label:t.xLabel,labelSize:t.xLabelSize,options:t.xOptions,border:t.border,diverging:t.diverging,yScale:t.yScale,yOptions:t.yOptions}),i.a.createElement("g",{transform:"translate(".concat(t.yValuesSize+t.yLabelSize+t.innerPaddingLeft,",").concat(t.innerPaddingTop,")")},this.props.children))}}])&&jt(n.prototype,r),e}(i.a.PureComponent);Ut.propTypes={contentData:a.a.array,aggregated:a.a.bool,xScale:a.a.func,yScale:a.a.func};var Gt=Ut;function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qt=p.Context.getContext("HoverContext"),Xt=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=zt(e).call(this,t))||"object"!==Wt(r)&&"function"!=typeof r?Ht(this):r).onMouseMove=n.onMouseMove.bind(Ht(n)),n.onMouseOut=n.onMouseOut.bind(Ht(n)),n.onMouseOver=n.onMouseOver.bind(Ht(n)),n.state={height:0,highlighted:t.highlighted,hidden:t.hidden},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(e,t),n=e,(r=[{key:"onMouseMove",value:function(t){this.setState({hidden:!1,highlighted:!0})}},{key:"onMouseOver",value:function(t){this.setState({hidden:!1,highlighted:!0})}},{key:"onMouseOut",value:function(t){this.setState({hidden:this.props.hidden,highlighted:!1})}},{key:"componentDidMount",value:function(){this.updateHeight()}},{key:"componentDidUpdate",value:function(t){this.updateHeight(),this.props.highlighted!==t.highlighted&&this.setState({highlighted:this.props.highlighted})}},{key:"updateHeight",value:function(){this.props.height!==this.state.height&&this.setState({height:this.props.height})}},{key:"render",value:function(){var t=this.props,e={},n=this.state.highlighted,r=t.defaultColor?t.defaultColor:"#2aa8a3",o=t.highlightColor?t.highlightColor:"#2a928e";if(this.context&&(this.context.hoveredItems||this.context.selectedItems)){var a=!!f.a.intersection(this.context.hoveredItems,this.props.itemKeys).length,s=!!f.a.intersection(this.context.selectedItems,this.props.itemKeys).length;n=a||s}n?e.fill=o:this.state.hidden?e.fill=null:e.fill=r,t.transitionDelay&&(e.transitionDelay=t.transitionDelay+"ms"),t.transitionDuration&&(e.transitionDuration=t.transitionDuration+"ms");var l=u()("ptr-column-chart-bar",{hidden:this.state.hidden},t.classes);return i.a.createElement("rect",{onMouseOver:this.onMouseOver,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut,className:l,style:e,y:t.y,x:t.x,width:t.width,height:this.state.height})}}])&&Kt(n.prototype,r),e}(i.a.PureComponent);Xt.contextType=qt,Xt.propTypes={itemKeys:a.a.array,data:a.a.object,x:a.a.number,y:a.a.number,height:a.a.number,width:a.a.number,defaultColor:a.a.string,highlightColor:a.a.oneOfType([a.a.string,a.a.object]),classes:a.a.string,attributeName:a.a.string,attributeUnits:a.a.string,transitionDelay:a.a.number,transitionDuration:a.a.number};var Zt=Xt;function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function te(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ne=p.Context.getContext("HoverContext"),re=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=$t(e).call(this,t))||"object"!==Jt(r)&&"function"!=typeof r?te(this):r).state={highlighted:!1},n.onMouseMove=n.onMouseMove.bind(te(n)),n.onMouseOut=n.onMouseOut.bind(te(n)),n.onMouseOver=n.onMouseOver.bind(te(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(e,t),n=e,(r=[{key:"onMouseMove",value:function(t){this.context&&this.context.onHover&&this.context.onHover(this.props.itemKeys,{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent()}}),this.setState({highlighted:!0})}},{key:"onMouseOver",value:function(t){this.context&&this.context.onHover&&this.context.onHover(this.props.itemKeys,{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent()}}),this.setState({highlighted:!0})}},{key:"onMouseOut",value:function(t){this.context&&this.context.onHoverOut&&this.context.onHoverOut(),this.setState({highlighted:!1})}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.xScale(t.data.key),r=t.availableHeight-t.yScale(t.yBaseValue),o=t.xScale.bandwidth(),a=!1;if(this.context&&(this.context.hoveredItems||this.context.selectedItems)){var s=!!f.a.intersection(this.context.hoveredItems,this.props.itemKeys).length,u=!!f.a.intersection(this.context.selectedItems,this.props.itemKeys).length;a=s||u}return i.a.createElement("g",{transform:"translate(".concat(n,",0)"),className:"ptr-column-chart-bar-group",onMouseOver:this.onMouseOver,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut},this.renderPlaceholder(o,a),e.positive.total||0===e.positive.total?i.a.createElement("g",{transform:"scale(1,-1) translate(0,-".concat(t.availableHeight,")")},this.renderPositiveBars(e.positive.data,e.positive.total,r,o)):null,e.negative.total||0===e.negative.total?i.a.createElement("g",null,this.renderNegativeBars(e.negative.data,e.negative.total,o)):null,t.baseline?this.renderBaseline(t.availableHeight-r,o):null)}},{key:"renderPlaceholder",value:function(t,e){var n=u()("ptr-column-chart-bar-placeholder",{visible:e});return i.a.createElement("rect",{className:n,y:0,x:0,width:t,height:this.props.availableHeight})}},{key:"renderPositiveBars",value:function(t,e,n,r){var i=this,o=this.props,a=[],s=1e3;return f.a.forEach(t,(function(t,e){var u=o.yScale(o.yBaseValue)-o.yScale(t.value),l=Math.abs(1500*(t.value-o.yBaseValue)/(o.maximum-o.yBaseValue));a.push(i.renderBar(e,t,n,u,r,l,s)),n+=u,s+=l})),a}},{key:"renderNegativeBars",value:function(t,e,n){var r=this,i=this.props,o=i.yScale(i.yBaseValue),a=[],s=1e3;return f.a.forEach(t,(function(t,e){var u=i.yScale(t.value)-i.yScale(i.yBaseValue),l=Math.abs(1500*(t.value-i.yBaseValue)/(i.yBaseValue-i.minimum));a.push(r.renderBar(e,t,o,u,n,l,s)),o+=u,s+=l})),a}},{key:"renderBar",value:function(t,e,n,r,o,a,s){var l=this.props;return i.a.createElement(Zt,{key:l.data.key+"-"+t,itemKeys:this.props.itemKeys,data:e,originalData:l.originalData,name:l.data.name,x:0,y:n,height:r,width:o,defaultColor:e.defaultColor||l.defaultColor,highlightColor:e.highlightColor||l.highlightColor,highlighted:this.state.highlighted,attributeName:l.attributeName,attributeUnits:l.attributeUnits,hidden:l.hidden,transitionDuration:a,transitionDelay:s,classes:u()("",{"stacked-relative":"relative"===l.stacked})})}},{key:"renderBaseline",value:function(t,e){return i.a.createElement("polyline",{className:"ptr-column-chart-bar-baseline",points:"".concat(0,",",t," ").concat(e,",").concat(t)})}},{key:"getPopupContent",value:function(){var t=this,e=this.props,n=e.originalData,r=e.attributeName,o=e.attributeUnits;if(f.a.isArray(e.originalData))return i.a.createElement(i.a.Fragment,null,r?i.a.createElement("div",{className:"ptr-popup-header"},r):null,e.originalData.map((function(t){var e=t.positive.data[0],n=t.negative.data[0],r=null;e&&(e.value||0===e.value)?r=e.value:n&&(n.value||0===n.value)&&(r=n.value);var a=r;return r%1!=0&&(a=a.toFixed(2)),i.a.createElement("div",{key:t.name,className:"ptr-popup-record-value-group"},i.a.createElement("span",{className:"name"},t.name,":"),a||0===a?i.a.createElement("span",{className:"value"},a.toLocaleString()):null,o?i.a.createElement("span",{className:"unit"},o):null)})));var a=e.data.name,s=e.highlightColor,u=f.a.reverse(f.a.cloneDeep(n.positive.data));return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ptr-popup-header"},a),u.map((function(e,n){return t.getPopupRecordGroup(e,r,o,s,n)})),n.negative.data.map((function(e,n){return t.getPopupRecordGroup(e,r,o,s,n)})))}},{key:"getPopupRecordGroup",value:function(t,e,n,r,o){var a={},s=t.name||e;(t.highlightColor||t.defaultColor)&&(r=t.highlightColor||t.defaultColor),r&&(a.background=r);var u=t.value;return t.value%1!=0&&(u=u.toFixed(2)),i.a.createElement(i.a.Fragment,{key:o},u||0===u?i.a.createElement("div",{className:"ptr-popup-record-group"},i.a.createElement("div",{className:"ptr-popup-record-color",style:a}),i.a.createElement("div",{className:"ptr-popup-record"},s?i.a.createElement("div",{className:"ptr-popup-record-attribute"},s):null,i.a.createElement("div",{className:"ptr-popup-record-value-group"},u||0===u?i.a.createElement("span",{className:"value"},u.toLocaleString()):null,n?i.a.createElement("span",{className:"unit"},n):null))):null)}}])&&Qt(n.prototype,r),e}(i.a.PureComponent);re.contextType=ne,re.propTypes={data:a.a.object,originalData:a.a.oneOfType([a.a.array,a.a.object]),itemKeys:a.a.array,xScale:a.a.func,yScale:a.a.func,yBaseValue:a.a.number,availableHeight:a.a.number,availableWidth:a.a.number,defaultColor:a.a.string,highlightColor:a.a.oneOfType([a.a.string,a.a.object]),attributeName:a.a.string,attributeUnits:a.a.string,maximum:a.a.number,minimum:a.a.number,baseline:a.a.bool,hidden:a.a.bool,stacked:a.a.oneOfType([a.a.bool,a.a.string])};var ie=re;function oe(t){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(){return(ae=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ce=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==oe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,ue(e).call(this,t))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(e,t),n=e,(r=[{key:"prepareData",value:function(){var t=this.props,e=t.defaultColor,n=t.highlightColor,r=null;t.defaultSchemeBarColors&&(r=tt.scaleOrdinal(tt.schemeCategory10).domain(t.data));var i=[];return f.a.forEach(t.data,(function(o){var a=f.a.get(o,t.keySourcePath),s=f.a.get(o,t.nameSourcePath),u={total:null,data:[]},l={total:null,data:[]},h=f.a.get(o,t.colorSourcePath);t.colorSourcePath&&h&&(e=h,n=c()(e).darken(1)),t.defaultSchemeBarColors&&(e=r(a),n=c()(e).darken(1));var p=t.diverging&&t.yOptions&&t.yOptions.diversionValue||0;if(f.a.isArray(t.ySourcePath))f.a.forEach(t.ySourcePath,(function(r){if("string"==typeof r&&t.diverging){var i=f.a.get(o,r);i>=p?(u.total=i,u.data.push({value:i,defaultColor:e,highlightColor:n})):(l.total=i,l.data.push({value:i,defaultColor:e,highlightColor:n}))}else{var a=f.a.get(o,r.path),s=r.name;r.color&&(e=r.color,n=c()(e).darken(1).hex()),(a||0===a)&&(a>=p?(u.total||(u.total=p),u.total+=a-p,u.data.push({name:s,value:a,defaultColor:e,highlightColor:n})):(l.total||(l.total=p),l.total-=p-a,l.data.push({name:s,value:a,defaultColor:e,highlightColor:n})))}}));else{var d=f.a.get(o,t.ySourcePath);t.diverging?d>=p?(u.total=d,u.data.push({value:d,defaultColor:e,highlightColor:n})):(l.total=d,l.data.push({value:d,defaultColor:e,highlightColor:n})):(u.total=d,u.data.push({value:d,defaultColor:e,highlightColor:n}))}"relative"===t.stacked&&(u.total&&(f.a.forEach(u.data,(function(t){t.originalValue=t.value,t.value=Math.abs(100*t.value/u.total)})),u.total=100),l.total&&(f.a.forEach(l.data,(function(t){t.originalValue=t.value,t.value=-Math.abs(100*t.value/l.total)})),l.total=-100)),(u.total||0===u.total||l.total||0===l.total)&&i.push({key:a,name:s,positive:u,negative:l})})),i}},{key:"sortData",value:function(t){var e=this,n=[],r="desc";return f.a.forEach(this.props.sorting,(function(t){t[0]===e.props.nameSourcePath?n.push(["name",t[1]]):r=t[1]})),n.push(["negative.total",r],["positive.total",r]),L.sort.sortByOrder(t,n)}},{key:"getExtremeValues",value:function(t){var e,n=this.props,r=null,i=[];return f.a.forEach(t,(function(t){(t.positive.total||0===t.positive.total)&&i.push(t.positive.total),(t.negative.total||0===t.negative.total)&&i.push(t.negative.total)})),r=f.a.max(i),(e=f.a.min(i))>=0?e=0:e-=.05*Math.abs(r-e),this.props.diverging&&r<0&&(r=0),n.yOptions&&(n.yOptions.min||0===n.yOptions.min)&&(e=n.yOptions.min),n.yOptions&&(n.yOptions.max||0===n.yOptions.max)&&(r=n.yOptions.max),{min:e,max:r}}},{key:"render",value:function(){var t,e,n,r,o,a,s,l,c,h=this.props,p=null;if(h.data){t=this.prepareData(),t=h.sorting?this.sortData(t):t;var d=this.getExtremeValues(t);s=d.min,l=d.max,p=h.yOptions&&h.yOptions.unit,"relative"===h.stacked&&(p="%"),c=s,h.diverging&&(c=h.yOptions&&h.yOptions.diversionValue||0),o=t.map((function(t){return t.key})),a=[s,l],r=tt.scaleBand().padding(h.barGapRatio).domain(o).range([0,h.innerPlotWidth]),n=tt.scaleLinear().domain(a).range([h.innerPlotHeight,0]);var g=r.bandwidth();if(g<17&&(r=r.padding(.25)),g<14&&(r=r.padding(.1)),e=[],g<h.minBarWidth){var m=Math.ceil(h.minBarWidth/g),y=[],v=[];f.a.map(t,(function(n,r){y.push(n.key),v.push(n),r%m!=m-1&&r!==t.length-1||(e.push({keys:y,originalData:v}),y=[],v=[])})),o=e.map((function(t){return t.keys[0]})),r=r.domain(o).padding(0)}}var b=h.height;e.length&&(b=h.plotHeight+20);var E=u()("ptr-chart ptr-cartesian-chart ptr-column-chart",{"ptr-chart-no-animation":!h.animateChangeData});return i.a.createElement("svg",{className:E,height:b},t?i.a.createElement(Gt,ae({},h,{xScale:r,yScale:n,contentData:t,aggregated:!!e.length}),e.length?this.renderAggregated(e,p,r,n,c,h.innerPlotHeight,h.innerPlotWidth):this.renderBarGroups(t,p,s,l,r,n,c,h.innerPlotHeight,h.innerPlotWidth)):null)}},{key:"renderBarGroups",value:function(t,e,n,r,o,a,s,u,l){var c=this;return t.map((function(t){return i.a.createElement(ie,{key:t.key,itemKeys:[t.key],data:t,originalData:t,minimum:n,maximum:r,xScale:o,yScale:a,yBaseValue:s,availableHeight:u,availableWidth:l,defaultColor:c.props.defaultColor,highlightColor:c.props.highlightColor,attributeName:c.props.yOptions&&c.props.yOptions.name,attributeUnits:e,baseline:"double"===c.props.diverging,stacked:c.props.stacked})}))}},{key:"renderAggregated",value:function(t,e,n,r,o,a,s){return"double"===this.props.diverging||this.props.stacked?i.a.createElement(i.a.Fragment,null,(console.warn("Column chart: There is not enough space to render diverging column chart."),null)):i.a.createElement(i.a.Fragment,null,this.renderPath(t,n,r,o,a,s),this.renderBarsFromAggregated(t,e,n,r,o,a,s))}},{key:"renderBarsFromAggregated",value:function(t,e,n,r,o,a,s){var u=this;return t.map((function(t){return i.a.createElement(ie,{key:t.keys[0],itemKeys:t.keys,data:t.originalData[0],originalData:t.originalData,xScale:n,yScale:r,yBaseValue:o,availableHeight:a,availableWidth:s,defaultColor:u.props.defaultColor,highlightColor:u.props.highlightColor,attributeName:u.props.yOptions&&u.props.yOptions.name,attributeUnits:e,baseline:"double"===u.props.diverging,hidden:!0})}))}},{key:"renderPath",value:function(t,e,n,r,o,a){var s=this.props,u={};s.defaultColor&&(u.fill=s.defaultColor);var l=o;if(this.props.diverging){var c=s.yOptions&&s.yOptions.diversionValue||0;l=n(c)}var h=[];f.a.forEach(t,(function(t){var r=t.originalData[0].positive.total;r&&h.push("".concat(e(t.keys[0])," ").concat(n(r)))})),f.a.forEach(t,(function(t){var r=t.originalData[0].negative.total;r&&h.push("".concat(e(t.keys[0])," ").concat(n(r)))}));var p=h[h.length-1].split(" "),d="";return p[1]>l&&(d="L".concat(a," ").concat(p[1])),i.a.createElement("path",{className:"ptr-column-chart-path",style:u,d:"M0 ".concat(l," L").concat(h.join(" L")," ").concat(d," L").concat(a," ").concat(l)})}}])&&se(n.prototype,r),e}(i.a.PureComponent);ce.defaultProps={animateChangeData:!0,minBarWidth:3,barGapRatio:.35,xScaleType:"ordinal",withoutYbaseline:!0},ce.propTypes={defaultSchemeBarColors:a.a.bool,defaultColor:a.a.string,highlightColor:a.a.oneOfType([a.a.string,a.a.object]),minBarWidth:a.a.number,barGapRatio:a.a.number,animateChangeData:a.a.bool,hoverValueSourcePath:a.a.string,stacked:a.a.oneOfType([a.a.bool,a.a.string])};var he=Et(ce);function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function me(t,e){return(me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ye=p.Context.getContext("HoverContext"),ve=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=de(e).call(this,t))||"object"!==fe(r)&&"function"!=typeof r?ge(this):r).onMouseMove=n.onMouseMove.bind(ge(n)),n.onMouseOut=n.onMouseOut.bind(ge(n)),n.onMouseOver=n.onMouseOver.bind(ge(n)),n.onClick=n.onClick.bind(ge(n)),n.state={radius:t.r},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&me(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(){this.context&&this.context.onClick&&this.context.onClick([this.props.itemKey])}},{key:"onMouseMove",value:function(t){this.props.onMouseMove&&this.props.onMouseMove(t,this.props.data),this.props.standalone&&this.context&&this.context.onHover&&this.context.onHover([this.props.itemKey],{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent()}}),this.props.zSourcePath||this.setState({radius:this.props.r+3})}},{key:"onMouseOver",value:function(t){this.props.onMouseOver&&this.props.onMouseOver(t,this.props.data),this.props.standalone&&this.context&&this.context.onHover&&this.context.onHover([this.props.itemKey],{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent()}}),this.props.zSourcePath||this.setState({radius:this.props.r+3})}},{key:"onMouseOut",value:function(t){this.props.onMouseOut&&this.props.onMouseOut(),this.props.standalone&&this.context&&this.context.onHoverOut&&this.context.onHoverOut(),this.setState({radius:this.props.r})}},{key:"render",value:function(){var t=this.props,e=!1;if(this.context&&(this.context.hoveredItems||this.context.selectedItems)&&this.props.itemKey&&this.props.siblings){var n=f.a.intersection(this.context.hoveredItems,this.props.siblings),r=f.a.intersection(this.context.selectedItems,this.props.siblings),o=f.a.indexOf(n,this.props.itemKey),a=f.a.indexOf(r,this.props.itemKey);(n.length||r.length)&&-1===o&&-1===a&&(e=!0)}var s=u()("ptr-chart-point",{"no-opacity":this.props.highlighted,standalone:this.props.standalone}),l={};return t.color&&(l.fill=t.color),e?l.opacity=.25:this.props.hidden||(l.opacity=1),"plus"===t.symbol?this.renderPlusSymbol(t.itemKey,t.x,t.y,this.state.radius,s,l):i.a.createElement("circle",{onMouseOver:this.onMouseOver,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut,onClick:this.onClick,className:s,key:t.itemKey,cx:t.x,cy:t.y,r:this.state.radius,style:l})}},{key:"renderPlusSymbol",value:function(t,e,n,r,o,a){o+=" path";var s={};return this.props.color&&(s.stroke=this.props.color),i.a.createElement("g",{key:t,style:a,className:o,onMouseOver:this.onMouseOver,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut,onClick:this.onClick,width:2*r,height:2*r},i.a.createElement("circle",{style:{opacity:0},cx:e,cy:n,r:this.state.radius}),i.a.createElement("path",{style:s,d:"M".concat(e,",").concat(n-r," L").concat(e,",").concat(n+r," M").concat(e-r,",").concat(n," L").concat(e+r,",").concat(n)}))}},{key:"getPopupContent",value:function(){var t=this.props,e={},n=t.name,r=t.xOptions&&t.xOptions.unit,o=t.yOptions&&t.yOptions.unit,a=t.zOptions&&t.zOptions.unit,s=t.xOptions&&t.xOptions.name||"X value",u=t.yOptions&&t.yOptions.name||"Y value",l=t.zOptions&&t.zOptions.name||"Z value",c=this.props.color,h=f.a.get(t.data,t.xSourcePath),p=f.a.get(t.data,t.ySourcePath),d=f.a.get(t.data,t.zSourcePath),g=h;if("time"===t.xScaleType){var m=wt()(g);t.xOptions&&(t.xOptions.timeValueLanguage&&(m=m.locale(t.xOptions.timeValueLanguage)),m=t.xOptions.popupValueFormat?m.format(t.xOptions.popupValueFormat):m.format()),g=m}else h&&h%1!=0&&(g=g.toFixed(2));var y=p;p&&p%1!=0&&(y=y.toFixed(2));var v=d;return d&&d%1!=0&&(v=v.toFixed(2)),c&&(e.background=c),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ptr-popup-header"},i.a.createElement("div",{className:"ptr-popup-record-color",style:e}),n),i.a.createElement("div",{className:"ptr-popup-record-group"},i.a.createElement("div",{className:"ptr-popup-record"},i.a.createElement("div",{className:"ptr-popup-record-attribute"},s),i.a.createElement("div",{className:"ptr-popup-record-value-group"},g||0===g?i.a.createElement("span",{className:"value"},g.toLocaleString()):null,r?i.a.createElement("span",{className:"unit"},r):null))),i.a.createElement("div",{className:"ptr-popup-record-group"},i.a.createElement("div",{className:"ptr-popup-record"},i.a.createElement("div",{className:"ptr-popup-record-attribute"},u),i.a.createElement("div",{className:"ptr-popup-record-value-group"},y||0===y?i.a.createElement("span",{className:"value"},y.toLocaleString()):null,o?i.a.createElement("span",{className:"unit"},o):null))),this.props.zSourcePath?i.a.createElement("div",{className:"ptr-popup-record-group"},i.a.createElement("div",{className:"ptr-popup-record"},i.a.createElement("div",{className:"ptr-popup-record-attribute"},l),i.a.createElement("div",{className:"ptr-popup-record-value-group"},v||0===v?i.a.createElement("span",{className:"value"},v.toLocaleString()):null,a?i.a.createElement("span",{className:"unit"},a):null))):null)}}])&&pe(n.prototype,r),e}(i.a.PureComponent);ve.contextType=ye,ve.propTypes={itemKey:a.a.oneOfType([a.a.string,a.a.number]),data:a.a.object,name:a.a.oneOfType([a.a.string,a.a.number]),x:a.a.number,y:a.a.number,r:a.a.number,onMouseMove:a.a.func,onMouseOut:a.a.func,onMouseOver:a.a.func,color:a.a.oneOfType([a.a.string,a.a.object]),highlighted:a.a.bool,xScaleType:a.a.string,xSourcePath:a.a.string,ySourcePath:a.a.string,zSourcePath:a.a.string,xOptions:a.a.object,yOptions:a.a.object,zOptions:a.a.object,standalone:a.a.bool,siblings:a.a.array,symbol:a.a.string};var be=ve;function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach((function(e){Se(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ce(t,e){return(Ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ae=p.Context.getContext("HoverContext"),Le=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=Te(e).call(this,t))||"object"!==Ee(r)&&"function"!=typeof r?Oe(this):r).ref=i.a.createRef(),n.onMouseMove=n.onMouseMove.bind(Oe(n)),n.onMouseOut=n.onMouseOut.bind(Oe(n)),n.onMouseOver=n.onMouseOver.bind(Oe(n)),n.onClick=n.onClick.bind(Oe(n)),n.state={color:!t.gray&&t.defaultColor?t.defaultColor:null,length:null},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ce(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(){this.context&&this.context.onClick&&this.context.onClick([this.props.itemKey])}},{key:"onMouseMove",value:function(t,e){this.context&&this.context.onHover&&this.context.onHover([this.props.itemKey],{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent(e),data:we({},this.props,{},e)}}),this.setColor(!0)}},{key:"onMouseOver",value:function(t,e){this.context&&this.context.onHover&&this.context.onHover([this.props.itemKey],{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent(e),data:we({},this.props,{},e)}}),this.setColor(!0)}},{key:"onMouseOut",value:function(t){this.context&&this.context.onHoverOut&&this.context.onHoverOut(),this.setColor()}},{key:"componentDidMount",value:function(){this.updateLength(),this.setColor()}},{key:"componentDidUpdate",value:function(t){this.updateLength(),t.gray===this.props.gray&&t.highlighted===this.props.highlighted&&t.suppressed===this.props.suppressed||this.setColor()}},{key:"updateLength",value:function(){var t=this.ref.current.getTotalLength();t!==this.state.length&&this.setState({length:t})}},{key:"setColor",value:function(t){this.props.highlighted||t?this.setState({color:this.props.highlightColor?this.props.highlightColor:null}):this.props.gray?this.setState({color:null}):this.setState({color:this.props.defaultColor?this.props.defaultColor:null})}},{key:"render",value:function(){var t=this.props,e=this.state.color,n=this.props.suppressed,r=this.props.highlighted;if(this.context&&(this.context.hoveredItems||this.context.selectedItems)){var o=f.a.includes(this.context.hoveredItems,this.props.itemKey),a=f.a.includes(this.context.selectedItems,this.props.itemKey);r=o||a,!this.props.gray&&this.props.siblings&&(f.a.intersection(this.context.hoveredItems,this.props.siblings).length||f.a.intersection(this.context.selectedItems,this.props.siblings).length)&&(n=!r),(o||a)&&(e=this.props.highlightColor?this.props.highlightColor:null)}var s=u()("ptr-line-chart-line-wrapper",{gray:this.props.gray,highlighted:r});return i.a.createElement("g",{className:s,id:t.itemKey,style:{opacity:n?.15:1}},i.a.createElement("path",{onClick:this.onClick,onMouseOver:this.onMouseOver,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut,ref:this.ref,className:"ptr-line-chart-line",key:t.itemKey,d:"M".concat(t.coordinates.map((function(t){return"".concat(t.x," ").concat(t.y)})).join(" L")),style:{stroke:e,strokeDasharray:this.state.length,strokeDashoffset:this.state.length}}),t.withPoints?this.renderPoints(e,r):null)}},{key:"renderPoints",value:function(t,e){var n=this,r=this.props;return r.coordinates.map((function(o){return i.a.createElement(be,{itemKey:r.itemKey,key:o.x+"-"+o.y,x:o.x,y:o.y,data:o.originalData,r:5,color:t,hidden:n.props.gray,highlighted:e,onMouseOver:n.onMouseOver,onMouseMove:n.onMouseMove,onMouseOut:n.onMouseOut})}))}},{key:"getPopupContent",value:function(t){var e=this.props,n={},r=e.name,o=e.yOptions&&e.yOptions.unit,a=this.state.color||this.props.defaultColor,s=t&&f.a.get(t,e.pointNameSourcePath),u=t&&f.a.get(t,e.pointValueSourcePath);return s&&"time"!==e.xScaleType&&(r+=" (".concat(s,")")),a&&(n.background=a),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ptr-popup-header"},i.a.createElement("div",{className:"ptr-popup-record-color",style:n}),r),i.a.createElement("div",{className:"ptr-popup-record-group"},u||0===u?i.a.createElement("div",{className:"ptr-popup-record"},"time"===e.xScaleType?this.renderPopupContentWithTime(s,u,o):i.a.createElement("div",{className:"ptr-popup-record-value-group"},i.a.createElement("span",{className:"value"},u.toLocaleString()),o?i.a.createElement("span",{className:"unit"},o):null)):null))}},{key:"renderPopupContentWithTime",value:function(t,e,n){var r=this.props,o=t;if(r.xOptions&&(r.xOptions.inputValueFormat&&(t=wt()(t,r.xOptions.inputValueFormat).toDate()),"time"===r.xScaleType)){var a=wt()(t);r.xOptions.timeValueLanguage&&(a=a.locale(r.xOptions.timeValueLanguage)),o=a=r.xOptions.popupValueFormat?a.format(r.xOptions.popupValueFormat):a.format()}return i.a.createElement("div",{className:"ptr-popup-record-group"},i.a.createElement("div",{className:"ptr-popup-record"},i.a.createElement("div",{className:"ptr-popup-record-attribute"},o),i.a.createElement("div",{className:"ptr-popup-record-value-group"},i.a.createElement("span",{className:"value"},e.toLocaleString()),n?i.a.createElement("span",{className:"unit"},n):null)))}}])&&xe(n.prototype,r),e}(i.a.PureComponent);Le.contextType=Ae,Le.propTypes={itemKey:a.a.oneOfType([a.a.string,a.a.number]),name:a.a.string,coordinates:a.a.array,defaultColor:a.a.string,highlightColor:a.a.oneOfType([a.a.string,a.a.object]),highlighted:a.a.bool,withPoints:a.a.bool,siblings:a.a.array,suppressed:a.a.bool,gray:a.a.bool,pointNameSourcePath:a.a.string,pointValueSourcePath:a.a.string,yOptions:a.a.object,xScaleType:a.a.string,xOptions:a.a.object};var Pe=Le;function Re(t){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(){return(Me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fe=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==Re(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,De(e).call(this,t))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t,e,n,r,o,a,s=this.props,u=null,l=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach((function(e){Ie(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s.data);if(l){l=L.filter.filterDataWithNullValue(l,s.ySourcePath,s.serieDataSourcePath);var c=f.a.map(l,(function(t){var e=f.a.get(t,s.serieDataSourcePath);return f.a.map(e,(function(t){return f.a.get(t,s.ySourcePath)}))})),h=f.a.map(s.data,(function(t){var e=f.a.get(t,s.serieDataSourcePath);return f.a.map(e,(function(t){return f.a.get(t,s.xSourcePath)}))})),p=f.a.uniqBy(f.a.flatten(h));a=f.a.sortBy(p);var d=f.a.flatten(c),g=f.a.max(d),m=f.a.min(d);s.yOptions&&(s.yOptions.min||0===s.yOptions.min)&&(m=s.yOptions.min),s.yOptions&&(s.yOptions.max||0===s.yOptions.max)&&(g=s.yOptions.max);var y=f.a.max(a),v=f.a.min(a);if(s.xOptions&&(s.xOptions.min||0===s.xOptions.min)&&(v=s.xOptions.min),s.xOptions&&(s.xOptions.max||0===s.xOptions.max)&&(y=s.xOptions.max),e=[m,g],"time"===s.xScaleType)s.xOptions&&s.xOptions.inputValueFormat?(v=wt()("".concat(v),s.xOptions.inputValueFormat).toDate(),y=wt()("".concat(y),s.xOptions.inputValueFormat).toDate()):(v=new Date(v),y=new Date(y)),t=[v,y],n=tt.scaleTime().domain(t).range([0,s.innerPlotWidth]);else{t=a;var b=(n=tt.scaleBand().padding(0).domain(t).range([0,s.innerPlotWidth])).bandwidth()/2;n.range([0-b,s.innerPlotWidth+b])}r=tt.scaleLinear(),"logarithmic"===this.props.yScaleType&&(r=tt.scaleLog()),r.domain(e).range([s.innerPlotHeight,0]),o=tt.scaleOrdinal(tt.schemeCategory10).domain(s.data.map((function(t){return f.a.get(t,s.keySourcePath)}))),s.forceMode?u=s.forceMode:l.length>s.aggregationThreshold&&"time"!==s.xScaleType?u="aggregated":l.length>s.grayingThreshold&&(u="gray")}return i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",{className:"ptr-chart ptr-cartesian-chart ptr-line-chart",height:s.height},l?i.a.createElement(Gt,Me({},s,{xScale:n,yScale:r,contentData:t}),"aggregated"===u?this.renderAggregated(l,s,n,r):this.renderLines(l,s,n,r,o,u)):null),this.props.legend?i.a.createElement(_,{data:l,keySourcePath:this.props.keySourcePath,nameSourcePath:this.props.nameSourcePath,colorSourcePath:this.props.colorSourcePath,colorScale:o,showSelectedOnly:"gray"===u}):null)}},{key:"renderLines",value:function(t,e,n,r,o,a){var s=this,u="time"!==e.xScaleType?n.bandwidth()/2:0,l=t.map((function(t){return f.a.get(t,e.keySourcePath)}));return f.a.map(t,(function(t){var c=f.a.get(t,e.serieDataSourcePath),h=f.a.get(t,e.keySourcePath),p=f.a.get(t,e.nameSourcePath),d=o(f.a.get(t,e.keySourcePath)),g=(c=s.props.sorting?L.sort.sortByOrder(c,e.sorting):c).map((function(t){var i=f.a.get(t,e.xSourcePath);return{x:"time"===s.props.xScaleType?e.xOptions&&e.xOptions.inputValueFormat?n(wt()("".concat(i),e.xOptions.inputValueFormat).toDate()):n(new Date(i)):n(i)+u,y:r(f.a.get(t,e.ySourcePath)),originalData:t}}));return e.colorSourcePath&&(d=f.a.get(t,e.colorSourcePath)),i.a.createElement(Pe,{key:"".concat(h,"_").concat(JSON.stringify(g)),itemKey:h,name:p,coordinates:g,defaultColor:d,highlightColor:d,withPoints:s.props.withPoints,siblings:l,gray:"gray"===a,pointNameSourcePath:e.pointNameSourcePath||e.xSourcePath,pointValueSourcePath:e.ySourcePath,yOptions:e.yOptions,xOptions:e.xOptions,xScaleType:e.xScaleType})}))}},{key:"renderAggregated",value:function(t,e,n,r,o){var a="time"!==e.xScaleType?n.bandwidth()/2:0,s={},u={},l={};f.a.map(t,(function(t){var n=f.a.get(t,e.serieDataSourcePath);f.a.map(n,(function(t){var n=f.a.get(t,e.xSourcePath),r=f.a.get(t,e.ySourcePath);(!s[n]&&0!==s[n]||s[n]<r)&&(s[n]=r),(!u[n]&&0!==u[n]||u[n]>r)&&(u[n]=r),l[n]?l[n].push(r):l[n]=[r]}))}));var c=[];f.a.forIn(s,(function(t,n){var r;c.push((Ie(r={},e.xSourcePath,n),Ie(r,e.ySourcePath,t),r))}));var h=c.map((function(t){return{x:n(f.a.get(t,e.xSourcePath))+a,y:r(f.a.get(t,e.ySourcePath)),originalData:t}})),p=[];f.a.forIn(u,(function(t,n){var r;p.push((Ie(r={},e.xSourcePath,n),Ie(r,e.ySourcePath,t),r))}));var d=p.map((function(t){return{x:n(f.a.get(t,e.xSourcePath))+a,y:r(f.a.get(t,e.ySourcePath)),originalData:t}})),g=[];f.a.forIn(l,(function(t,n){var r;g.push((Ie(r={},e.xSourcePath,n),Ie(r,e.ySourcePath,f.a.sum(t)/t.length),r))}));var m=g.map((function(t){return{x:n(f.a.get(t,e.xSourcePath))+a,y:r(f.a.get(t,e.ySourcePath)),originalData:t}})),y=f.a.reverse(function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(d));return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{className:"ptr-line-chart-area",d:"M".concat(h.map((function(t){return"".concat(t.x," ").concat(t.y)})).join(" L")," L").concat(y.map((function(t){return"".concat(t.x," ").concat(t.y)})).join(" L"))}),i.a.createElement(Pe,{key:"minimum",itemKey:"minimum",name:"Minimum",coordinates:d,defaultColor:"#777777",highlightColor:"#555555",withPoints:this.props.withPoints,pointNameSourcePath:e.pointNameSourcePath||e.xSourcePath,pointValueSourcePath:e.ySourcePath,yOptions:e.yOptions,gray:!0}),i.a.createElement(Pe,{key:"average_".concat(JSON.stringify(m)),itemKey:"average",name:"Average",coordinates:m,withPoints:this.props.withPoints,defaultColor:this.props.defaultColor?this.props.defaultColor:"#0088ff",highlightColor:this.props.highlightColor?this.props.highlightColor:"#0077ff",pointNameSourcePath:e.pointNameSourcePath||e.xSourcePath,pointValueSourcePath:e.ySourcePath,yOptions:e.yOptions}),i.a.createElement(Pe,{key:"maximum",itemKey:"maximum",name:"Maximum",coordinates:h,defaultColor:"#777777",highlightColor:"#555555",withPoints:this.props.withPoints,pointNameSourcePath:e.pointNameSourcePath||e.xSourcePath,pointValueSourcePath:e.ySourcePath,yOptions:e.yOptions,gray:!0}))}}])&&Ne(n.prototype,r),e}(i.a.PureComponent);Fe.defaultProps={grayingThreshold:10,aggregationThreshold:50,withPoints:!0,xGridlines:!0,xScaleType:"ordinal",withoutYbaseline:!0},Fe.propTypes={forceMode:a.a.string,aggregationThreshold:a.a.number,grayingThreshold:a.a.number,withPoints:a.a.bool,serieDataSourcePath:a.a.string.isRequired,pointNameSourcePath:a.a.string};var Ve,Be,Ue=Et(Fe),Ge=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};1===(Ve=Ge).length&&(Be=Ve,Ve=function(t,e){return Ge(Be(t),e)});var We=Array.prototype;We.slice,We.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Ke=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},ze=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},He=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o};function Ye(t){return t.target.depth}function qe(t,e){return t.sourceLinks.length?t.depth:e-1}function Xe(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?ze(t.sourceLinks,Ye)-1:0}function Ze(t){return function(){return t}}function Je(t,e){return $e(t.source,e.source)||t.index-e.index}function Qe(t,e){return $e(t.target,e.target)||t.index-e.index}function $e(t,e){return t.y0-e.y0}function tn(t){return t.value}function en(t){return t.index}function nn(t){return t.nodes}function rn(t){return t.links}function on(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function an(t){var e=t.nodes,n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=s.y0,l=u,c=!0,h=!1,f=void 0;try{for(var p,d=s.sourceLinks[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var g=p.value;g.y0=u+g.width/2,u+=g.width}}catch(w){h=!0,f=w}finally{try{c||null==d.return||d.return()}finally{if(h)throw f}}var m=!0,y=!1,v=void 0;try{for(var b,E=s.targetLinks[Symbol.iterator]();!(m=(b=E.next()).done);m=!0){var _=b.value;_.y1=l+_.width/2,l+=_.width}}catch(w){y=!0,v=w}finally{try{m||null==E.return||E.return()}finally{if(y)throw v}}}}catch(w){r=!0,i=w}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}var sn=Math.PI,un=2*sn,ln=un-1e-6;function cn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function hn(){return new cn}cn.prototype=hn.prototype={constructor:cn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var f=n-o,p=r-a,d=s*s+u*u,g=f*f+p*p,m=Math.sqrt(d),y=Math.sqrt(h),v=i*Math.tan((sn-Math.acos((d+h-g)/(2*m*y)))/2),b=v/y,E=v/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(e+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*p)+","+(this._x1=t+E*s)+","+(this._y1=e+E*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%un+un),h>ln?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=sn)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var fn=hn,pn=Array.prototype.slice,dn=function(t){return function(){return t}};function gn(t){return t[0]}function mn(t){return t[1]}function yn(t){return t.source}function vn(t){return t.target}function bn(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function En(t){return[t.source.x1,t.y0]}function _n(t){return[t.target.x0,t.y1]}var wn=function(){return function(t){var e=yn,n=vn,r=gn,i=mn,o=null;function a(){var a,s=pn.call(arguments),u=e.apply(this,s),l=n.apply(this,s);if(o||(o=a=fn()),t(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:dn(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:dn(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}(bn).source(En).target(_n)};function Sn(t){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function On(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cn(t,e){return(Cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(25);var An=p.Context.getContext("HoverContext"),Ln=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=Tn(e).call(this,t))||"object"!==Sn(r)&&"function"!=typeof r?On(this):r).onMouseMove=n.onMouseMove.bind(On(n)),n.onMouseOut=n.onMouseOut.bind(On(n)),n.onMouseOver=n.onMouseOver.bind(On(n)),n.state={color:t.defaultColor?t.defaultColor:null,hidden:t.hidden},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cn(t,e)}(e,t),n=e,(r=[{key:"onMouseMove",value:function(t){this.context&&this.context.onHover&&this.context.onHover(this.props.itemKeys,{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent()}});var e=null;this.props.highlightedColor&&(e=this.props.highlightedColor),this.setState({color:e,hidden:!1})}},{key:"onMouseOver",value:function(t){this.context&&this.context.onHover&&this.context.onHover(this.props.itemKeys,{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent()}});var e=null;this.props.highlightedColor&&(e=this.props.highlightedColor),this.setState({color:e,hidden:!1})}},{key:"onMouseOut",value:function(t){this.context&&this.context.onHoverOut&&this.context.onHoverOut();var e=null;this.props.defaultColor&&(e=this.props.defaultColor),this.setState({color:e,hidden:this.props.hidden})}},{key:"render",value:function(){var t=this.props,e={},n=!1;this.context&&this.context.hoveredItems&&(n=!!f.a.intersection(this.context.hoveredItems,this.props.itemKeys).length);var r=u()("ptr-sankey-chart-node",{"ptr-sankey-chart-node-highlighted":n});this.state.color&&(e.fill=this.state.color,e.stroke=this.state.color);var o=Math.abs(t.x1-t.x0),a=Math.abs(t.y1-t.y0),s=t.nameSourcePath&&f.a.get(t.data,t.nameSourcePath),l=t.maxNodeDepth===t.data.depth?"end":"start",c=t.maxNodeDepth===t.data.depth?t.x0-2:t.x1+2;return i.a.createElement("g",{onMouseOver:this.onMouseOver,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut},i.a.createElement("rect",{key:this.props.itemKeys[0],className:r,x:t.x0,y:t.y0,height:a,width:o,style:e}),s?i.a.createElement("text",{y:(t.y1+t.y0)/2,dy:"0.35em",x:c,textAnchor:l,className:"ptr-sankey-chart-text"},s):null)}},{key:"getPopupContent",value:function(){var t=this.props,e=t.data,n=null,r=null,o=null;if(e){t.yOptions&&(t.yOptions.name&&(o="".concat(t.yOptions.name,": ")),t.yOptions.unit&&(r="".concat(t.yOptions.unit)));var a="".concat(f.a.get(e,"id")),s=f.a.get(e,this.props.nameSourcePath);this.props.nameSourcePath&&s&&(a=s);var u=f.a.get(e,this.props.hoverNameSourcePath);this.props.hoverNameSourcePath&&u&&(a=u);var l=f.a.get(e,this.props.hoverValueSourcePath||this.props.valueSourcePath);n=i.a.createElement("div",{key:a},i.a.createElement("i",null,a,":")," ",l&&l.toLocaleString()," ",r)}else n=i.a.createElement("div",{key:"no-data"},i.a.createElement("i",null,"No data"));return i.a.createElement(i.a.Fragment,null,o?i.a.createElement("div",null,i.a.createElement("i",null,o)):null,n)}}])&&xn(n.prototype,r),e}(i.a.PureComponent);Ln.contextType=An,Ln.propTypes={defaultColor:a.a.string,highlightedColor:a.a.oneOfType([a.a.string,a.a.object]),highlighted:a.a.bool,itemKeys:a.a.array,x0:a.a.number,x1:a.a.number,y0:a.a.number,y1:a.a.number,height:a.a.number,width:a.a.number,nameSourcePath:a.a.string,valueSourcePath:a.a.string,data:a.a.object,hoverNameSourcePath:a.a.string,hoverValueSourcePath:a.a.string,yOptions:a.a.object,maxNodeDepth:a.a.number};var Pn=Ln;function Rn(t){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kn(t){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t,e){return(Nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dn=p.Context.getContext("HoverContext"),jn=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=kn(e).call(this,t))||"object"!==Rn(r)&&"function"!=typeof r?In(this):r).onMouseMove=n.onMouseMove.bind(In(n)),n.onMouseOut=n.onMouseOut.bind(In(n)),n.onMouseOver=n.onMouseOver.bind(In(n)),n.state={color:t.defaultColor?t.defaultColor:null,hidden:t.hidden},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nn(t,e)}(e,t),n=e,(r=[{key:"onMouseMove",value:function(t){this.context&&this.context.onHover&&this.context.onHover(this.props.itemKeys,{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent()}});var e=null;this.props.highlightedColor&&(e=this.props.highlightedColor),this.setState({color:e,hidden:!1})}},{key:"onMouseOver",value:function(t){this.context&&this.context.onHover&&this.context.onHover(this.props.itemKeys,{popup:{x:t.pageX,y:t.pageY,content:this.getPopupContent()}});var e=null;this.props.highlightedColor&&(e=this.props.highlightedColor),this.setState({color:e,hidden:!1})}},{key:"onMouseOut",value:function(t){this.context&&this.context.onHoverOut&&this.context.onHoverOut();var e=null;this.props.defaultColor&&(e=this.props.defaultColor),this.setState({color:e,hidden:this.props.hidden})}},{key:"render",value:function(){var t=this.props,e={},n=!1;this.context&&this.context.hoveredItems&&(n=!!f.a.intersection(this.context.hoveredItems,this.props.itemKeys).length);var r=u()("ptr-sankey-chart-link",{"ptr-sankey-chart-link-highlighted":n});this.state.color&&(e.fill="none",e.stroke=this.state.color),t.gradientLinks&&(e.fill="none",e.stroke="url(#gradient_link_1_9)");var o=wn();return i.a.createElement("g",{onMouseOver:this.onMouseOver,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut},i.a.createElement("path",{key:this.props.itemKeys[0],className:r,d:o(t.data),style:e,strokeWidth:t.strokeWidth,fill:"none"}))}},{key:"getPopupContent",value:function(){var t=this.props,e=t.data,n=null,r=null,o=null;if(e){t.yOptions&&(t.yOptions.name&&(o="".concat(t.yOptions.name,": ")),t.yOptions.unit&&(r="".concat(t.yOptions.unit)));var a="".concat(f.a.get(e,"source.id"),"->").concat(f.a.get(e,"target.id")),s=f.a.get(e,this.props.nameSourcePath);this.props.nameSourcePath&&s&&(a=s);var u=f.a.get(e,this.props.hoverValueSourcePath||this.props.valueSourcePath);n=i.a.createElement("div",{key:a},i.a.createElement("i",null,a,":")," ",u&&u.toLocaleString()," ",r)}else n=i.a.createElement("div",{key:"no-data"},i.a.createElement("i",null,"No data"));return i.a.createElement(i.a.Fragment,null,o?i.a.createElement("div",null,i.a.createElement("i",null,o)):null,n)}}])&&Mn(n.prototype,r),e}(i.a.PureComponent);jn.contextType=Dn,jn.propTypes={defaultColor:a.a.string,highlightedColor:a.a.oneOfType([a.a.string,a.a.object]),highlighted:a.a.bool,itemKeys:a.a.array,strokeWidth:a.a.number,x0:a.a.number,x1:a.a.number,y0:a.a.number,y1:a.a.number,height:a.a.number,width:a.a.number,gradientLinks:a.a.bool,nameSourcePath:a.a.string,valueSourcePath:a.a.string,data:a.a.object,hoverValueSourcePath:a.a.string,yOptions:a.a.object};var Fn=jn;function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bn(Object(n),!0).forEach((function(e){Gn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zn(t,e){return(zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hn=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==Vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Kn(e).call(this,t))).ref=i.a.createRef(),n.state={width:null,height:null},n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zn(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.resize(),window&&window.addEventListener("resize",this.resize.bind(this),{passive:!0})}},{key:"resize",value:function(){if(!this.props.width&&this.ref&&this.ref.current){var t=this.ref.current.clientWidth;this.setState({width:t})}}},{key:"render",value:function(){var t,e,n=this.props,r=L.utils.getRemSize(),o=null;if(this.props.width||this.state.width){e=this.props.width?this.props.width*r:this.state.width,o=this.props.height?this.props.height*r:this.state.height;var a=n.minWidth*r,s=n.maxWidth*r;if(e>s&&(e=s),e<a&&(e=a),n.padding,n.data){var u=function(){var t,e,n,r=0,i=0,o=1,a=1,s=24,u=8,l=en,c=qe,h=nn,f=rn,p=6;function d(){var t={nodes:h.apply(null,arguments),links:f.apply(null,arguments)};return g(t),y(t),v(t),b(t),E(t),an(t),t}function g(t){var e=t.nodes,r=t.links,i=!0,o=!1,a=void 0;try{for(var s,u=e.entries()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=m(s.value,2),h=c[0],f=c[1];f.index=h,f.sourceLinks=[],f.targetLinks=[]}}catch(k){o=!0,a=k}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var p=new Map(e.map((function(t,n){return[l(t,n,e),t]}))),d=!0,g=!1,y=void 0;try{for(var v,b=r.entries()[Symbol.iterator]();!(d=(v=b.next()).done);d=!0){var E=m(v.value,2),_=E[0],w=E[1];w.index=_;var S=w.source,x=w.target;"object"!=typeof S&&(S=w.source=on(p,S)),"object"!=typeof x&&(x=w.target=on(p,x)),S.sourceLinks.push(w),x.targetLinks.push(w)}}catch(k){g=!0,y=k}finally{try{d||null==b.return||b.return()}finally{if(g)throw y}}if(null!=n){var T=!0,O=!1,C=void 0;try{for(var A,L=e[Symbol.iterator]();!(T=(A=L.next()).done);T=!0){var P=A.value,R=P.sourceLinks,M=P.targetLinks;R.sort(n),M.sort(n)}}catch(k){O=!0,C=k}finally{try{T||null==L.return||L.return()}finally{if(O)throw C}}}}function y(t){var e=t.nodes,n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.value=void 0===s.fixedValue?Math.max(He(s.sourceLinks,tn),He(s.targetLinks,tn)):s.fixedValue}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}function v(t){for(var e=t.nodes,n=e.length,r=new Set(e),i=new Set,o=0;r.size;){var a=!0,s=!1,u=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var h=l.value;h.depth=o;var f=!0,p=!1,d=void 0;try{for(var g,m=h.sourceLinks[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value.target;i.add(y)}}catch(v){p=!0,d=v}finally{try{f||null==m.return||m.return()}finally{if(p)throw d}}}}catch(v){s=!0,u=v}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}if(++o>n)throw new Error("circular link");r=i,i=new Set}}function b(t){for(var e=t.nodes,n=e.length,r=new Set(e),i=new Set,o=0;r.size;){var a=!0,s=!1,u=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var h=l.value;h.height=o;var f=!0,p=!1,d=void 0;try{for(var g,m=h.targetLinks[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value.source;i.add(y)}}catch(v){p=!0,d=v}finally{try{f||null==m.return||m.return()}finally{if(p)throw d}}}}catch(v){s=!0,u=v}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}if(++o>n)throw new Error("circular link");r=i,i=new Set}}function E(n){var l=function(t){var n=t.nodes,i=Ke(n,(function(t){return t.depth}))+1,a=(o-r-s)/(i-1),u=new Array(i),l=!0,h=!1,f=void 0;try{for(var p,d=n[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var g=p.value,m=Math.max(0,Math.min(i-1,Math.floor(c.call(null,g,i))));g.layer=m,g.x0=r+m*a,g.x1=g.x0+s,u[m]?u[m].push(g):u[m]=[g]}}catch(w){h=!0,f=w}finally{try{l||null==d.return||d.return()}finally{if(h)throw f}}if(e){var y=!0,v=!1,b=void 0;try{for(var E,_=u[Symbol.iterator]();!(y=(E=_.next()).done);y=!0)E.value.sort(e)}catch(w){v=!0,b=w}finally{try{y||null==_.return||_.return()}finally{if(v)throw b}}}return u}(n);t=Math.min(u,(a-i)/(Ke(l,(function(t){return t.length}))-1)),function(e){var n=ze(e,(function(e){return(a-i-(e.length-1)*t)/He(e,tn)})),r=!0,o=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value,h=i,f=!0,p=!1,d=void 0;try{for(var g,m=c[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value;y.y0=h,y.y1=h+y.value*n,h=y.y1+t;var v=!0,b=!1,E=void 0;try{for(var _,w=y.sourceLinks[Symbol.iterator]();!(v=(_=w.next()).done);v=!0){var S=_.value;S.width=S.value*n}}catch(O){b=!0,E=O}finally{try{v||null==w.return||w.return()}finally{if(b)throw E}}}}catch(O){p=!0,d=O}finally{try{f||null==m.return||m.return()}finally{if(p)throw d}}h=(a-h+t)/(c.length+1);for(var x=0;x<c.length;++x){var T=c[x];T.y0+=h*(x+1),T.y1+=h*(x+1)}C(c)}}catch(O){o=!0,s=O}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}(l);for(var h=0;h<p;++h){var f=Math.pow(.99,h),d=Math.max(1-f,(h+1)/p);w(l,f,d),_(l,f,d)}}function _(t,n,r){for(var i=1,o=t.length;i<o;++i){var a=t[i],s=!0,u=!1,l=void 0;try{for(var c,h=a[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value,p=0,d=0,g=!0,m=!1,y=void 0;try{for(var v,b=f.targetLinks[Symbol.iterator]();!(g=(v=b.next()).done);g=!0){var E=v.value,_=E.source,w=E.value*(f.layer-_.layer);p+=A(_,f)*w,d+=w}}catch(T){m=!0,y=T}finally{try{g||null==b.return||b.return()}finally{if(m)throw y}}if(d>0){var x=(p/d-f.y0)*n;f.y0+=x,f.y1+=x,O(f)}}}catch(T){u=!0,l=T}finally{try{s||null==h.return||h.return()}finally{if(u)throw l}}void 0===e&&a.sort($e),S(a,r)}}function w(t,n,r){for(var i=t.length-2;i>=0;--i){var o=t[i],a=!0,s=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var h=l.value,f=0,p=0,d=!0,g=!1,m=void 0;try{for(var y,v=h.sourceLinks[Symbol.iterator]();!(d=(y=v.next()).done);d=!0){var b=y.value,E=b.target,_=b.value*(E.layer-h.layer);f+=L(h,E)*_,p+=_}}catch(x){g=!0,m=x}finally{try{d||null==v.return||v.return()}finally{if(g)throw m}}if(p>0){var w=(f/p-h.y0)*n;h.y0+=w,h.y1+=w,O(h)}}}catch(x){s=!0,u=x}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}void 0===e&&o.sort($e),S(o,r)}}function S(e,n){var r=e.length>>1,o=e[r];T(e,o.y0-t,r-1,n),x(e,o.y1+t,r+1,n),T(e,a,e.length-1,n),x(e,i,0,n)}function x(e,n,r,i){for(;r<e.length;++r){var o=e[r],a=(n-o.y0)*i;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+t}}function T(e,n,r,i){for(;r>=0;--r){var o=e[r],a=(o.y1-n)*i;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-t}}function O(t){var e=t.sourceLinks,r=t.targetLinks;if(void 0===n){var i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)s.value.source.sourceLinks.sort(Qe)}catch(d){o=!0,a=d}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var l=!0,c=!1,h=void 0;try{for(var f,p=e[Symbol.iterator]();!(l=(f=p.next()).done);l=!0)f.value.target.targetLinks.sort(Je)}catch(d){c=!0,h=d}finally{try{l||null==p.return||p.return()}finally{if(c)throw h}}}}function C(t){if(void 0===n){var e=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value,u=s.sourceLinks,l=s.targetLinks;u.sort(Qe),l.sort(Je)}}catch(c){r=!0,i=c}finally{try{e||null==a.return||a.return()}finally{if(r)throw i}}}}function A(e,n){var r=e.y0-(e.sourceLinks.length-1)*t/2,i=!0,o=!1,a=void 0;try{for(var s,u=e.sourceLinks[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=l.target,h=l.width;if(c===n)break;r+=h+t}}catch(E){o=!0,a=E}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var f=!0,p=!1,d=void 0;try{for(var g,m=n.targetLinks[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value,v=y.source,b=y.width;if(v===e)break;r-=b}}catch(E){p=!0,d=E}finally{try{f||null==m.return||m.return()}finally{if(p)throw d}}return r}function L(e,n){var r=n.y0-(n.targetLinks.length-1)*t/2,i=!0,o=!1,a=void 0;try{for(var s,u=n.targetLinks[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=l.source,h=l.width;if(c===e)break;r+=h+t}}catch(E){o=!0,a=E}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var f=!0,p=!1,d=void 0;try{for(var g,m=e.sourceLinks[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value,v=y.target,b=y.width;if(v===n)break;r-=b}}catch(E){p=!0,d=E}finally{try{f||null==m.return||m.return()}finally{if(p)throw d}}return r}return d.update=function(t){return an(t),t},d.nodeId=function(t){return arguments.length?(l="function"==typeof t?t:Ze(t),d):l},d.nodeAlign=function(t){return arguments.length?(c="function"==typeof t?t:Ze(t),d):c},d.nodeSort=function(t){return arguments.length?(e=t,d):e},d.nodeWidth=function(t){return arguments.length?(s=+t,d):s},d.nodePadding=function(e){return arguments.length?(u=t=+e,d):u},d.nodes=function(t){return arguments.length?(h="function"==typeof t?t:Ze(t),d):h},d.links=function(t){return arguments.length?(f="function"==typeof t?t:Ze(t),d):f},d.linkSort=function(t){return arguments.length?(n=t,d):n},d.size=function(t){return arguments.length?(r=i=0,o=+t[0],a=+t[1],d):[o-r,a-i]},d.extent=function(t){return arguments.length?(r=+t[0][0],o=+t[1][0],i=+t[0][1],a=+t[1][1],d):[[r,i],[o,a]]},d.iterations=function(t){return arguments.length?(p=+t,d):p},d}().size([e,o]).extent([[5,5],[e-5,o-5]]).nodeId((function(t){return t.id})).nodeWidth(20).nodePadding(10).nodeAlign(Xe)(n.data);t=i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",{className:"ptr-chart ptr-sankey-chart",height:o,width:e},n.data?this.renderLinks(u.links):null,n.data?this.renderNodes(u.nodes):null))}var l={};return e&&(l.width=e),i.a.createElement("div",{className:"ptr-chart-container centered",ref:this.ref},i.a.createElement("div",{style:l},t))}}},{key:"renderGradients",value:function(t){var e=t.map((function(t){var e=t.source.color,n=t.target.color;return i.a.createElement("linearGradient",{key:"".concat(t.index,"_").concat(t.value),id:"gradient_link_".concat(t.index,"_").concat(t.value),gradientUnits:"userSpaceOnUse"},i.a.createElement("stop",{offset:"10%",stopColor:e}),i.a.createElement("stop",{offset:"90%",stopColor:n}))}));return i.a.createElement("defs",null,e)}},{key:"renderLinks",value:function(t){var e=this,n=t.map((function(t){var n,r=f.a.get(t,"".concat(e.props.linkColorSourcePath)),o=e.props.linkDefaultColor,a=e.props.linkHighlightedColor;return e.props.linkColorSourcePath&&r&&(o=r,a=c()(o).darken(1)),i.a.createElement(Fn,(Gn(n={itemKeys:["link_".concat(t.index,"_").concat(t.value)],key:"link_".concat(t.index,"_").concat(t.value),strokeWidth:t.width,fill:"none"},"strokeWidth",t.width),Gn(n,"defaultColor",o),Gn(n,"highlightedColor",a),Gn(n,"nameSourcePath",e.props.linkNameSourcePath),Gn(n,"valueSourcePath",e.props.linkValueSourcePath),Gn(n,"hoverValueSourcePath",e.props.hoverValueSourcePath),Gn(n,"data",Un({},t)),Gn(n,"yOptions",e.props.yOptions),n))}));return i.a.createElement("g",null,n)}},{key:"renderNodes",value:function(t){var e=this,n=t.reduce((function(t,e){return Math.max(t,e.depth)}),0),r=t.map((function(t){var r=f.a.get(t,"".concat(e.props.nodeColorSourcePath)),o=e.props.nodeDefaultColor,a=e.props.nodeHighlightedColor;return e.props.nodeColorSourcePath&&r&&(o=r,a=c()(o).darken(1)),i.a.createElement(Pn,{itemKeys:["node_".concat(t.index,"_").concat(t.value)],key:"node_".concat(t.index,"_").concat(t.value),x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1,height:Math.abs(t.y1-t.y0),width:Math.abs(t.x1-t.x0),defaultColor:o,highlightedColor:a,nameSourcePath:e.props.nodeNameSourcePath,hoverNameSourcePath:e.props.nodeHoverNameSourcePath,valueSourcePath:e.props.nodeValueSourcePath,hoverValueSourcePath:e.props.nodeHoverValueSourcePath,maxNodeDepth:n,data:Un({},t),yOptions:e.props.yOptions})}));return i.a.createElement("g",null,r)}}])&&Wn(n.prototype,r),e}(i.a.PureComponent);Hn.defaultProps={minWidth:10,maxWidth:30,padding:1,grid:!0,gridGapMin:1.5,gridStepsMax:10,gridValues:!0,radials:!0,radialsLabels:!1,radialsLabelsSize:1,startingAngle:Math.PI/2},Hn.propTypes={nodeDefaultColor:a.a.string,nodeHighlightedColor:a.a.oneOfType([a.a.string,a.a.object]),nodeColorSourcePath:a.a.string,linkDefaultColor:a.a.string,linkHighlightedColor:a.a.oneOfType([a.a.string,a.a.object]),linkColorSourcePath:a.a.string,linkNameSourcePath:a.a.string,linkValueSourcePath:a.a.string,linkHoverValueSourcePath:a.a.string,yOptions:a.a.object,data:a.a.object.isRequired,forceMinimum:a.a.number,forceMaximum:a.a.number,relative:a.a.bool,sorting:a.a.array,colorSourcePath:a.a.string,keySourcePath:a.a.string.isRequired,nodeNameSourcePath:a.a.string,nodeHoverNameSourcePath:a.a.string,nodeValueSourcePath:a.a.string,nodeHoverValueSourcePath:a.a.string,width:a.a.number,height:a.a.number,minWidth:a.a.number,maxWidth:a.a.number,padding:a.a.number,grid:a.a.bool,gridGapMin:a.a.number,gridStepsMax:a.a.number,gridValues:a.a.bool,radials:a.a.bool,radialsLabels:a.a.bool,radialsLabelsSize:a.a.number,startingAngle:a.a.number};var Yn=Hn;function qn(t){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(){return(Xn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $n(t){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tr(t,e){return(tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(27);var er=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==qn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,$n(e).call(this,t))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tr(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t,e,n,r,o,a,s,u,l,c=this.props,h=null,p=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zn(Object(n),!0).forEach((function(e){Jn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},c.data);if(p){p=L.filter.filterDataWithNullValue(p,[c.xSourcePath,c.ySourcePath],c.serieDataSourcePath),c.isSerie?(u=f.a.map(p,(function(t){var e=f.a.get(t,c.serieDataSourcePath);return f.a.map(e,(function(t){return f.a.get(t,c.ySourcePath)}))})),u=f.a.flatten(u),s=f.a.map(c.data,(function(t){var e=f.a.get(t,c.serieDataSourcePath);return f.a.map(e,(function(t){return f.a.get(t,c.xSourcePath)}))})),s=f.a.flatten(s),l=f.a.map(c.data,(function(t){var e=f.a.get(t,c.serieDataSourcePath);return f.a.map(e,(function(t){return f.a.get(t,c.zSourcePath)}))})),l=f.a.flatten(l)):(u=f.a.map(p,(function(t){return f.a.get(t,c.ySourcePath)})),s=f.a.map(p,(function(t){return f.a.get(t,c.xSourcePath)})),c.zSourcePath&&(p=L.sort.sortByOrder(p,[[c.zSourcePath,"desc"]])),l=f.a.map(p,(function(t){return f.a.get(t,c.zSourcePath)})));var d=f.a.max(s),g=f.a.min(s);c.xOptions&&(c.xOptions.min||0===c.xOptions.min)&&(g=c.xOptions.min),c.xOptions&&(c.xOptions.max||0===c.xOptions.max)&&(d=c.xOptions.max);var m=f.a.max(u),y=f.a.min(u);c.yOptions&&(c.yOptions.min||0===c.yOptions.min)&&(y=c.yOptions.min),c.yOptions&&(c.yOptions.max||0===c.yOptions.max)&&(m=c.yOptions.max);var v=c.diverging&&c.yOptions&&c.yOptions.diversionValue||0;y>v&&(y=v),m<v&&(m=v),t="time"===c.xScaleType?[new Date(g),new Date(d)]:[g,d],e=[y,m],n=[f.a.min(l),f.a.max(l)],r="time"===c.xScaleType?tt.scaleTime().domain(t).range([0,c.innerPlotWidth]):tt.scaleLinear().domain(t).range([0,c.innerPlotWidth]),o=tt.scaleLinear().domain(e).range([c.innerPlotHeight,0]),a=tt.scaleLinear().domain(n).range([c.minPointRadius,c.maxPointRadius]),h=tt.scaleOrdinal(tt.schemeCategory10).domain(f.a.map(c.data,(function(t){return f.a.get(t,c.keySourcePath)})))}return i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",{className:"ptr-chart ptr-cartesian-chart ptr-scatter-chart",height:c.height},p?i.a.createElement(Gt,Xn({},c,{xScale:r,yScale:o}),this.renderPoints(p,r,o,a,h)):null),this.props.legend?i.a.createElement(_,{data:p,keySourcePath:this.props.keySourcePath,nameSourcePath:this.props.nameSourcePath,colorSourcePath:this.props.colorSourcePath,colorScale:h}):null)}},{key:"renderPoints",value:function(t,e,n,r,i){var o=this,a=f.a.map(t,(function(t){return f.a.get(t,o.props.keySourcePath)}));return f.a.map(t,(function(t,s){var u=f.a.get(t,o.props.keySourcePath),l=f.a.get(t,o.props.colorSourcePath),c=f.a.get(t,o.props.nameSourcePath);if((!l&&o.props.colorSourcePath||o.props.defaultSchemePointColors)&&(l=i(u)),o.props.isSerie){var h=f.a.get(t,o.props.serieDataSourcePath);return f.a.map(h,(function(t,i){var s=f.a.get(t,o.props.xSourcePath);"time"===o.props.xScaleType&&(s=new Date(s));var h=f.a.get(t,o.props.ySourcePath),p=f.a.get(t,o.props.zSourcePath),d=f.a.get(t,o.props.itemNameSourcePath),g=c;return d&&(g="".concat(c," (").concat(d,")")),o.renderPoint(u,t,e(s),n(h),r(p),l,g,i,a)}))}var p=f.a.get(t,o.props.xSourcePath);"time"===o.props.xScaleType&&(p=new Date(p));var d=f.a.get(t,o.props.ySourcePath),g=f.a.get(t,o.props.zSourcePath);return o.renderPoint(u,t,e(p),n(d),r(g),l,c,0,a)}))}},{key:"renderPoint",value:function(t,e,n,r,o,a,s,u,l){return i.a.createElement(be,{key:t+"-"+u,itemKey:t,data:e,x:n,y:r,xSourcePath:this.props.xSourcePath,xScaleType:this.props.xScaleType,xOptions:this.props.xOptions,ySourcePath:this.props.ySourcePath,yOptions:this.props.yOptions,zSourcePath:this.props.zSourcePath,zOptions:this.props.zOptions,name:s,r:o||this.props.pointRadius,color:a,siblings:l,standalone:!0,symbol:this.props.pointSymbol})}}])&&Qn(n.prototype,r),e}(i.a.PureComponent);er.defaultProps={pointRadius:5,minPointRadius:5,maxPointRadius:25,yTicks:!0,xGridlines:!0,xScaleType:"linear"},er.propTypes={defaultSchemePointColors:a.a.bool,pointRadius:a.a.number,isSerie:a.a.bool,itemNameSourcePath:a.a.string,pointSymbol:a.a.string,zSourcePath:a.a.string,zOptions:a.a.object};var nr=Et(er);n.d(e,"AsterChart",(function(){return dt})),n.d(e,"ColumnChart",(function(){return he})),n.d(e,"LineChart",(function(){return Ue})),n.d(e,"SankeyChart",(function(){return Yn})),n.d(e,"ScatterChart",(function(){return nr})),n.d(e,"AxisLabel",(function(){return $})),n.d(e,"ChartLegend",(function(){return _})),n.d(e,"ChartSet",(function(){return H})),n.d(e,"ChartWrapper",(function(){return F})),e.default={AsterChart:dt,ColumnChart:he,LineChart:Ue,SankeyChart:Yn,ScatterChart:nr,AxisLabel:$,ChartLegend:_,ChartSet:H,ChartWrapper:F}}]))},function(t,e,n){var r=n(48),i=n(164),o=n(165),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(76);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){n(236),t.exports=self.fetch.bind(self)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(153),i=n(154),o=n(155),a=n(156),s=n(157);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(67);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(30).Symbol;t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(34)(Object,"create");t.exports=r},function(t,e,n){var r=n(177);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";var r=n(13),i=n.n(r),o=n(0),a=n.n(o),s=n(1),u=n.n(s),l=n(16),c=n(32);function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var p=function(t){function e(){var n,r;h(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,t.call.apply(t,[this].concat(o))),r.history=Object(l.d)(r.props),f(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(c.a,{history:this.history,children:this.props.children})},e}(a.a.Component);p.propTypes={initialEntries:u.a.array,initialIndex:u.a.number,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node},e.a=p},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(15),u=n.n(s);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var h=function(t){function e(){return l(this,e),c(this,t.apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){u()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(i.a.Component);h.propTypes={when:a.a.bool,message:a.a.oneOfType([a.a.func,a.a.string]).isRequired},h.defaultProps={when:!0},h.contextTypes={router:a.a.shape({history:a.a.shape({block:a.a.func.isRequired}).isRequired}).isRequired},e.a=h},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(13),u=n.n(s),l=n(15),c=n.n(l),h=n(16),f=n(35),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var m=function(t){function e(){return d(this,e),g(this,t.apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e=Object(h.c)(t.to),n=Object(h.c)(this.props.to);Object(h.f)(e,n)?u()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},e.prototype.computeTo=function(t){var e=t.computedMatch,n=t.to;return e?"string"===typeof n?Object(f.a)(n,e.params):p({},n,{pathname:Object(f.a)(n.pathname,e.params)}):n},e.prototype.perform=function(){var t=this.context.router.history,e=this.props.push,n=this.computeTo(this.props);e?t.push(n):t.replace(n)},e.prototype.render=function(){return null},e}(i.a.Component);m.propTypes={computedMatch:a.a.object,push:a.a.bool,from:a.a.string,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired},m.defaultProps={push:!1},m.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired}).isRequired,staticContext:a.a.object}).isRequired},e.a=m},function(t,e,n){"use strict";var r=n(13),i=n.n(r),o=n(15),a=n.n(o),s=n(0),u=n.n(s),l=n(1),c=n.n(l),h=n(16),f=n(32),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var m=function(t){return"/"===t.charAt(0)?t:"/"+t},y=function(t,e){return t?p({},e,{pathname:m(t)+e.pathname}):e},v=function(t,e){if(!t)return e;var n=m(t);return 0!==e.pathname.indexOf(n)?e:p({},e,{pathname:e.pathname.substr(n.length)})},b=function(t){return"string"===typeof t?t:Object(h.e)(t)},E=function(t){return function(){a()(!1,"You cannot %s with <StaticRouter>",t)}},_=function(){},w=function(t){function e(){var n,r;d(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=g(this,t.call.apply(t,[this].concat(o))),r.createHref=function(t){return m(r.props.basename+b(t))},r.handlePush=function(t){var e=r.props,n=e.basename,i=e.context;i.action="PUSH",i.location=y(n,Object(h.c)(t)),i.url=b(i.location)},r.handleReplace=function(t){var e=r.props,n=e.basename,i=e.context;i.action="REPLACE",i.location=y(n,Object(h.c)(t)),i.url=b(i.location)},r.handleListen=function(){return _},r.handleBlock=function(){return _},g(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.componentWillMount=function(){i()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},e.prototype.render=function(){var t=this.props,e=t.basename,n=(t.context,t.location),r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:v(e,Object(h.c)(n)),push:this.handlePush,replace:this.handleReplace,go:E("go"),goBack:E("goBack"),goForward:E("goForward"),listen:this.handleListen,block:this.handleBlock};return u.a.createElement(f.a,p({},r,{history:i}))},e}(u.a.Component);w.propTypes={basename:c.a.string,context:c.a.object.isRequired,location:c.a.oneOfType([c.a.string,c.a.object])},w.defaultProps={basename:"",location:"/"},w.childContextTypes={router:c.a.object.isRequired},e.a=w},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(13),u=n.n(s),l=n(15),c=n.n(l),h=n(33);function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var d=function(t){function e(){return f(this,e),p(this,t.apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){u()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),u()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,n=this.props.location||t.location,r=void 0,o=void 0;return i.a.Children.forEach(e,(function(e){if(null==r&&i.a.isValidElement(e)){var a=e.props,s=a.path,u=a.exact,l=a.strict,c=a.sensitive,f=a.from,p=s||f;o=e,r=Object(h.a)(n.pathname,{path:p,exact:u,strict:l,sensitive:c},t.match)}})),r?i.a.cloneElement(o,{location:n,computedMatch:r}):null},e}(i.a.Component);d.contextTypes={router:a.a.shape({route:a.a.object.isRequired}).isRequired},d.propTypes={children:a.a.node,location:a.a.object},e.a=d},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(121),u=n.n(s),l=n(39),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.a=function(t){var e=function(e){var n=e.wrappedComponentRef,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["wrappedComponentRef"]);return i.a.createElement(l.a,{children:function(e){return i.a.createElement(t,c({},r,e,{ref:n}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:a.a.func},u()(e,t)}},function(t,e,n){!function(t){"use strict";function e(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&T(r),i&&O(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i,a=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(a&&T(a),t){case"Point":i=r(e).geometry;break;case"LineString":i=s(e).geometry;break;case"Polygon":i=o(e).geometry;break;case"MultiPoint":i=h(e).geometry;break;case"MultiLineString":i=c(e).geometry;break;case"MultiPolygon":i=f(e).geometry;break;default:throw new Error(t+" is invalid")}return a&&(i.bbox=a),i}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(t[0])||!S(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map((function(t){return r(t,e)})),n)}function o(t,n,r){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++){if(0===i&&0===a&&!S(o[0][0])||!S(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function a(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map((function(t){return o(t,e)})),n)}function s(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!S(t[0][1])||!S(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map((function(t){return s(t,e)})),n)}function l(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&T(n),r&&O(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function c(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function f(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function d(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function g(t,e){if(void 0===t||null===t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=So[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function m(t,e){if(void 0===t||null===t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=So[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function y(t,e){return b(m(t,e))}function v(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function b(t){if(null===t||void 0===t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function E(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180}function _(t,e,n){if(null===t||void 0===t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return g(m(t,e),n||"kilometers")}function w(t,e,n){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=To[e||"meters"];if(!r)throw new Error("invalid original units");var i=To[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i}function S(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function x(t){return!!t&&t.constructor===Object}function T(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!S(t))throw new Error("bbox must only contain numbers")}))}function O(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function C(t,e,n){if(null!==t)for(var r,i,o,a,s,u,l,c,h=0,f=0,p=t.type,d="FeatureCollection"===p,g="Feature"===p,m=d?t.features.length:1,y=0;y<m;y++){s=(c=!!(l=d?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var v=0;v<s;v++){var b=0,E=0;if(null!==(a=c?l.geometries[v]:l)){u=a.coordinates;var _=a.type;switch(h=!n||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":e(u,f,y,b,E),f++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)e(u[r],f,y,b,E),f++,"MultiPoint"===_&&b++;"LineString"===_&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++)e(u[r][i],f,y,b,E),f++;"MultiLineString"===_&&b++,"Polygon"===_&&E++}"Polygon"===_&&b++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===_&&(E=0),i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-h;o++)e(u[r][i][o],f,y,b,E),f++;E++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)C(a.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function A(t,e,n,r){var i=n;return C(t,(function(t,r,o,a,s){i=0===r&&void 0===n?t:e(i,t,r,o,a,s)}),r),i}function L(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function P(t,e,n){var r=n;return L(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function R(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function M(t,e,n){var r=n;return R(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function k(t){var e=[];return C(t,(function(t){e.push(t)})),e}function I(t,e){var n,r,i,o,a,s,u,l,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(s=p?t.features[n].geometry:d?t.geometry:t,l=p?t.features[n].properties:d?t.properties:{},c=p?t.features[n].bbox:d?t.bbox:void 0,h=p?t.features[n].id:d?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,f,l,c,h);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],f,l,c,h);break;default:throw new Error("Unknown Geometry Type")}else e(null,f,l,c,h);f++}}function N(t,e,n){var r=n;return I(t,(function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)})),r}function D(t,n){I(t,(function(t,r,i,o,a){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,i,{bbox:o,id:a}),r,0)}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}t.coordinates.forEach((function(t,o){n(e({type:s,coordinates:t},i),r,o)}))}))}function j(t,e,n){var r=n;return D(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r}function F(t,e){D(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&A(t,(function(o,a,u,l,c,h){var f=s([o,a],t.properties);return e(f,n,r,h,i),i++,a}))}}))}function V(t,e,n){var r=n,i=!1;return F(t,(function(t,o,a,s,u){r=!1===i&&void 0===n?t:e(r,t,o,a,s,u),i=!0})),r}function B(t,e){if(!t)throw new Error("geojson is required");D(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var a=0;a<o.length;a++)e(s(o[a],t.properties),n,r,a)}}}))}function U(t,e,n){var r=n;return B(t,(function(t,i,o,a){r=0===i&&void 0===n?t:e(r,t,i,o,a)})),r}function G(t){var e=[1/0,1/0,-1/0,-1/0];return C(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function W(t){if(!t)throw new Error("obj is required");var e=K(t);if(e.length>1&&S(e[0])&&S(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function K(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return z(e),e;throw new Error("No valid coordinates")}function z(t){if(t.length>1&&S(t[0])&&S(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return z(t[0]);throw new Error("coordinates must only contain numbers")}function H(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function Y(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function q(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}function X(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function Z(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function J(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function Q(t,e,n){n=n||{};for(var r=Object.keys(Lo),i=0;i<r.length;i++){var o=r[i],a=n[o];a=void 0!==a&&null!==a?a:Lo[o],Po[o]=a}Po.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;return t.rows,t.cols,t.cells.forEach((function(r,i){r.forEach((function(r,o){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!tt(r)){var a=function(t,e,n){var r,i,o,a=t.length,s=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=(t[e][n],t[e][n]),f=h.cval,p=nt(h,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][f]);s.push([n+p[0],e+p[1]]),p=nt(h,o=c[f]),s.push([n+p[0],e+p[1]]),et(h);for(var d=n+u[f],g=e+l[f],m=f;d>=0&&g>=0&&g<a&&(d!=n||g!=e)&&void 0!==(h=t[g][d]);){if(0===(f=h.cval)||15===f)return{path:s,info:"mergeable"};o=c[f],r=u[f],i=l[f],5!==f&&10!==f||(5===f?h.flipped?-1===l[m]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===u[m]&&(o="bottom",r=0,i=-1):10===f&&(h.flipped?-1===u[m]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===l[m]&&(o="left",r=-1,i=0))),p=nt(h,o),s.push([d+p[0],g+p[1]]),et(h),d+=r,g+=i,m=f}return{path:s,info:"closed"}}(t.cells,i,o),s=!1;if("mergeable"===a.info)for(var u=a.path[a.path.length-1][0],l=a.path[a.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-u)<=1e-7&&Math.abs(e[c][0][1]-l)<=1e-7){for(var h=a.path.length-2;h>=0;--h)e[c].unshift(a.path[h]);s=!0;break}s||(e[n++]=a.path)}}))})),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var a=0;a<r;++a){var s=0,u=t[o+1][a],l=t[o+1][a+1],c=t[o][a+1],h=t[o][a];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){s|=u>=e?8:0,s|=l>=e?4:0,s|=c>=e?2:0;var f,p,d,g,m=!1;if(5===(s|=h>=e?1:0)||10===s){var y=(u+l+c+h)/4;5===s&&y<e?(s=10,m=!0):10===s&&y<e&&(s=5,m=!0)}0!==s&&15!==s&&(f=p=d=g=.5,1===s?(d=1-$(e,u,h),p=1-$(e,c,h)):2===s?(p=$(e,h,c),g=1-$(e,l,c)):3===s?(d=1-$(e,u,h),g=1-$(e,l,c)):4===s?(f=$(e,u,l),g=$(e,c,l)):5===s?(f=$(e,u,l),g=$(e,c,l),p=1-$(e,c,h),d=1-$(e,u,h)):6===s?(p=$(e,h,c),f=$(e,u,l)):7===s?(d=1-$(e,u,h),f=$(e,u,l)):8===s?(d=$(e,h,u),f=1-$(e,l,u)):9===s?(p=1-$(e,c,h),f=1-$(e,l,u)):10===s?(f=1-$(e,l,u),g=1-$(e,l,c),p=$(e,h,c),d=$(e,h,u)):11===s?(f=1-$(e,l,u),g=1-$(e,l,c)):12===s?(d=$(e,h,u),g=$(e,c,l)):13===s?(p=1-$(e,c,h),g=$(e,c,l)):14===s?(d=$(e,h,u),p=$(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),i.cells[o][a]={cval:s,flipped:m,top:f,right:g,bottom:p,left:d})}}}return i}(t,e));return"function"==typeof Po.successCallback&&Po.successCallback(s),s}function $(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function rt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function it(t,e){if(!(this instanceof it))return new it(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ot(t,e){at(t,0,t.children.length,e,t)}function at(t,e,n,r,i){i||(i=dt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],st(i,t.leaf?r(o):o);return i}function st(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ut(t,e){return t.minX-e.minX}function lt(t,e){return t.minY-e.minY}function ct(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ht(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ft(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function pt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function dt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gt(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,Ro(t,o,e,n,i),a.push(e,o,o,n))}function mt(t,e){return t(e={exports:{}},e.exports),e.exports}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function vt(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var a=t[o];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var s=[e,n,r,i],u=s.slice();for(o=0;o<t.length;o++)Ko(t[o],s)||u.push(t[o]);var l=Bo(u),c=[];for(o=0;o<l.length;o++)c.push(u[l[o]]);return c}(t),o=Mo(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],s=0;s<i.length;s++){var u=i[s];o.remove(u),r=St(u,r),a.push(r)}var l=Mo(16);for(s=0;s<a.length;s++)l.insert(wt(a[s]));for(var c=e*e,h=n*n;a.length;){var f=a.shift(),p=f.p,d=f.next.p,g=xt(p,d);if(!(g<h)){var m=g/c;(u=function(t,e,n,r,i,o,a){for(var s=new Go(null,bt),u=t.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],h=u.leaf?Tt(c,n,r):function(t,e,n){if(Et(t,n)||Et(e,n))return 0;var r=Ot(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Ot(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=Ot(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=Ot(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,i,o,a)}(n,r,c);h>o||s.push({node:c,dist:h})}for(;s.length&&!s.peek().node.children;){var f=s.pop(),p=f.node,d=Tt(p,e,n),g=Tt(p,r,i);if(f.dist<d&&f.dist<g&&_t(n,p,a)&&_t(r,p,a))return p}(u=s.pop())&&(u=u.node)}return null}(o,f.prev.p,p,d,f.next.next.p,m,l))&&Math.min(xt(u,p),xt(u,d))<=m&&(a.push(f),a.push(St(u,f)),o.remove(u),l.remove(f),l.insert(wt(f)),l.insert(wt(f.next)))}}f=r;var y=[];do{y.push(f.p),f=f.next}while(f!==r);return y.push(f.p),y}function bt(t,e){return t.dist-e.dist}function Et(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function _t(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),s=n.search({minX:r,minY:i,maxX:o,maxY:a}),u=0;u<s.length;u++)if(function(t,e,n,r){return t!==r&&e!==n&&zo(t,e,n)>0!=zo(t,e,r)>0&&zo(n,r,t)>0!=zo(n,r,e)>0}(s[u].p,s[u].next.p,t,e))return!1;return!0}function wt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function St(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function xt(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Tt(t,e,n){var r=e[0],i=e[1],o=n[0]-r,a=n[1]-i;if(0!==o||0!==a){var s=((t[0]-r)*o+(t[1]-i)*a)/(o*o+a*a);s>1?(r=n[0],i=n[1]):s>0&&(r+=o*s,i+=a*s)}return(o=t[0]-r)*o+(a=t[1]-i)*a}function Ot(t,e,n,r,i,o,a,s){var u,l,c,h,f=n-t,p=r-e,d=a-i,g=s-o,m=t-i,y=e-o,v=f*f+p*p,b=f*d+p*g,E=d*d+g*g,_=f*m+p*y,w=d*m+g*y,S=v*E-b*b,x=S,T=S;0===S?(l=0,x=1,h=w,T=E):(h=v*w-b*_,(l=b*w-E*_)<0?(l=0,h=w,T=E):l>x&&(l=x,h=w+b,T=E)),h<0?(h=0,-_<0?l=0:-_>v?l=x:(l=-_,x=v)):h>T&&(h=T,-_+b<0?l=0:-_+b>v?l=x:(l=-_+b,x=v));var O=(1-(c=0===h?0:h/T))*i+c*a-((1-(u=0===l?0:l/x))*t+u*n),C=(1-c)*o+c*s-((1-u)*e+u*r);return O*O+C*C}function Ct(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(C(t,(function(t){r.push([t[0],t[1]])})),!r.length)return null;var i=Ho(r,n);return i.length>3?o([i]):null}function At(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=W(t),o=K(e),a=e.geometry?e.geometry.type:e.type,s=e.bbox;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,s))return!1;"Polygon"===a&&(o=[o]);for(var u=0,l=!1;u<o.length&&!l;u++)if(Lt(i,o[u][0],r)){for(var c=!1,h=1;h<o[u].length&&!c;)Lt(i,o[u][h],!r)&&(c=!0),h++;c||(l=!0)}return l}function Lt(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var a=e[i][0],s=e[i][1],u=e[o][0],l=e[o][1];if(t[1]*(a-u)+s*(u-t[0])+l*(t[0]-a)==0&&(a-t[0])*(u-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!n;s>t[1]!=l>t[1]&&t[0]<(u-a)*(t[1]-s)/(l-s)+a&&(r=!r)}return r}function Pt(t,e){var n=[];return I(e,(function(e){R(t,(function(t){At(t,e)&&n.push(t)}))})),l(n)}function Rt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return l(function(t){if(t.length<3)return[];t.sort(kt);for(var e,n,r,i,o,a,s=t.length-1,u=t[s].x,l=t[0].x,c=t[s].y,h=c;s--;)t[s].y<c&&(c=t[s].y),t[s].y>h&&(h=t[s].y);var f,p=l-u,d=h-c,g=p>d?p:d,m=.5*(l+u),y=.5*(h+c),v=[new Mt({x:m-20*g,y:y-g,__sentinel:!0},{x:m,y:y+20*g,__sentinel:!0},{x:m+20*g,y:y-g,__sentinel:!0})],b=[],E=[];for(s=t.length;s--;){for(E.length=0,f=v.length;f--;)(p=t[s].x-v[f].x)>0&&p*p>v[f].r?(b.push(v[f]),v.splice(f,1)):p*p+(d=t[s].y-v[f].y)*d>v[f].r||(E.push(v[f].a,v[f].b,v[f].b,v[f].c,v[f].c,v[f].a),v.splice(f,1));for(It(E),f=E.length;f;)n=E[--f],e=E[--f],r=t[s],i=n.x-e.x,o=n.y-e.y,a=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(a)>1e-12&&v.push(new Mt(e,n,r))}for(Array.prototype.push.apply(b,v),s=b.length;s--;)(b[s].a.__sentinel||b[s].b.__sentinel||b[s].c.__sentinel)&&b.splice(s,1);return b}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],a={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):a={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],a)})))}function Mt(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,a=e.y-t.y,s=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+a*(t.y+e.y),c=s*(t.x+n.x)+u*(t.y+n.y),h=2*(o*(n.y-e.y)-a*(n.x-e.x));this.x=(u*l-a*c)/h,this.y=(o*c-s*l)/h,r=this.x-t.x,i=this.y-t.y,this.r=r*r+i*i}function kt(t,e){return e.x-t.x}function It(t){var e,n,r,i,o,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],r=a;r;)if(o=t[--r],e===(i=t[--r])&&n===o||e===o&&n===i){t.splice(a,2),t.splice(r,2),a-=2;continue t}}function Nt(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.units,i=W(t),o=W(e),a=E(o[1]-i[1]),s=E(o[0]-i[0]),u=E(i[1]),l=E(o[1]),c=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(u)*Math.cos(l);return g(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r)}function Dt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return jt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return jt(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ft(t);default:throw new Error("unknown GeoJSON type")}}function jt(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach((function(r){var i=e[r];"object"==typeof i?null===i?n[r]=null:i.length?n[r]=i.map((function(t){return t})):n[r]=t(i):n[r]=i})),n):n}(t.properties),e.geometry=Ft(t.geometry),e}function Ft(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Ft(t)})),e):(e.coordinates=function t(e){return"object"!=typeof e[0]?e.slice():e.map((function(e){return t(e)}))}(t.coordinates),e)}function Vt(t,e){function n(t,e){e.length&&e.pop();for(var n=u[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(s(n[r],r));t<0&&Zo(e,i)}function r(t){return s(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}var s=Xo(t.transform),u=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=a(e.arcs);break;case"MultiPolygon":n=e.arcs.map(a);break;default:return null}return{type:o,coordinates:n}}(e)}function Bt(t,e){function n(t){t.forEach((function(e){e.forEach((function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)}))})),o.push(t)}function r(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(Vt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var i={},o=[],a=[];return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}})),o.forEach((function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].forEach((function(t){t._||(t._=1,n.push(t))}))}))}))}})),o.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:a.map((function(e){var n,o=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].length<2&&o.push(t)}))}))})),(n=(o=Jo(t,o)).length)>1)for(var a,s,u=1,l=r(o[0]);u<n;++u)(a=r(o[u]))>l&&(s=o[0],o[0]=o[u],o[u]=s,l=a);return o}))}}function Ut(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Gt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Wt)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Wt:Kt)(t)}function Wt(t){var e,n=Kt(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Kt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Kt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function zt(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Ht(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function Yt(t){return t[0].toString()+","+t[1].toString()}function qt(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==J(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Dt(t));var r=function(t){var e={};D(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==J(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Dt(t));var r=[],i=U(t,(function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Yt(r[0]),a=Yt(r[r.length-1]),u=Yt(i[0]),l=Yt(i[i.length-1]);if(o===l)n=i.concat(r.slice(1));else if(u===a)n=r.concat(i.slice(1));else if(o===u)n=r.slice(1).reverse().concat(i);else{if(a!==l)return null;n=r.concat(i.reverse().slice(1))}return s(n)}(t,e)||(r.push(t),e)}));return i&&r.push(i),r.length?1===r.length?r[0]:c(r.map((function(t){return t.coordinates}))):null}(t,e);case"Polygon":return function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==J(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Dt(t));var r=[];D(t,(function(t){r.push(t.geometry)}));var i=aa({geoms:p(r).geometry});return Qo(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}function Xt(t,n){var r="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var i=J(t),o=[];switch(i){case"LineString":o=Zt(t);break;case"MultiLineString":case"Polygon":K(t).forEach((function(t){o.push(Zt(t))}));break;case"MultiPolygon":K(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(Zt(t))})),o.push(e)}));break;case"Point":return t;case"MultiPoint":var a={};K(t).forEach((function(t){var e=t.join("-");a.hasOwnProperty(e)||(o.push(t),a[e]=!0)}));break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox,t.id)}function Zt(t){var e=K(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i,o=[],a=e.length-1;o.push(e[0]);for(var s=1;s<a;s++)n=e[s-1],r=e[s],function(t,e,n){var r=n[0],i=n[1],o=t[0],a=t[1],s=e[0],u=e[1],l=s-o,c=u-a;return(r-o)*c-(i-a)*l==0&&(Math.abs(l)>=Math.abs(c)?l>0?o<=r&&r<=s:s<=r&&r<=o:c>0?a<=i&&i<=u:u<=i&&i<=a)}(n,i=e[s+1],r)||o.push(r);return o.push(i),o}function Jt(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Qt(t,e,n){var r=e.x,i=e.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((t.x-r)*o+(t.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=t.x-r)*o+(a=t.y-i)*a}function $t(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,r=[t[0]];return function t(e,n,r,i,o){for(var a,s=i,u=n+1;u<r;u++){var l=Qt(e[u],e[n],e[r]);l>s&&(a=u,s=l)}s>i&&(a-n>1&&t(e,n,a,i,o),o.push(e[a]),r-a>1&&t(e,a,r,i,o))}(t,0,n,e,r),r.push(t[n]),r}(t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,a=t.length;o<a;o++)Jt(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),r)}function te(t,e,n){return $t(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function ee(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var i=$t(r,e,n).map((function(t){return[t.x,t.y]}));!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(i);)i=$t(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function ne(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!S(n))throw new Error("resolution must be an number");if(!S(r))throw new Error("sharpness must be an number");for(var i=[],o=new sa({points:X(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),duration:n,sharpness:r}),a=0;a<o.duration;a+=10){var u=o.pos(a);Math.floor(a/100)%2==0&&i.push([u.x,u.y])}return s(i,t.properties)}function re(t){T(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[e,n];return o([[a,[r,n],[r,i],[e,i],a]])}function ie(t){return re(G(t))}function oe(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(Nt(t.slice(0,2),[r,n])>=Nt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var a=(e+r)/2;return[a-(i-n)/2,n,a+(i-n)/2,i]}function ae(t,e,n,i){if(!x(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties,s=W(t),u=E(s[0]),l=E(s[1]),c=E(n),h=m(e,o),f=Math.asin(Math.sin(l)*Math.cos(h)+Math.cos(l)*Math.sin(h)*Math.cos(c));return r([b(u+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(l),Math.cos(h)-Math.sin(l)*Math.sin(f))),b(f)],a)}function se(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||t.properties||{};for(var a=[],s=0;s<r;s++)a.push(ae(t,e,-360*s/r,n).geometry.coordinates);return a.push(a[0]),o([a],i)}function ue(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=ue(e,t);return(n+180)%360}(t,e);var r=W(t),i=W(e),o=E(r[0]),a=E(i[0]),s=E(r[1]),u=E(i[1]),l=Math.sin(a-o)*Math.cos(u),c=Math.cos(s)*Math.sin(u)-Math.sin(s)*Math.cos(u)*Math.cos(a-o);return b(Math.atan2(l,c))}function le(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=G(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function ce(t,e){var n=0,i=0,o=0;return C(t,(function(t){n+=t[0],i+=t[1],o++}),!0),r([n/o,i/o],e)}function he(t){var e=[];return"FeatureCollection"===t.type?R(t,(function(t){C(t,(function(n){e.push(r(n,t.properties))}))})):C(t,(function(n){e.push(r(n,t.properties))})),l(e)}function fe(t,e,n){n=n||2;var r,i,o,a,s,u,l,c=e&&e.length,h=c?e[0]*n:t.length,f=pe(t,0,h,n,!0),p=[];if(!f)return p;if(c&&(f=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=pe(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(a));for(s.sort(ge),i=0;i<s.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&ye(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&_e(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=we(e,t);de(n,n.next)}}(s[i],n),n=de(n,n.next);return n}(t,e,f,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<h;d+=n)(s=t[d])<r&&(r=s),(u=t[d+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return function t(e,n,r,i,o,a,s){if(e){!s&&a&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=me(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,i,o,a);for(var u,l,c=e;e.prev!==e.next;)if(u=e.prev,l=e.next,a?function(t,e,n,r){var i=t.prev,o=t,a=t.next;if(ve(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=me(s,u,e,n,r),f=me(l,c,e,n,r),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&ye(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ve(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&ye(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ve(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(e,i,o,a):function(t){var e=t.prev,n=t,r=t.next;if(ve(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(ye(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&ve(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(e))n.push(u.i/r),n.push(e.i/r),n.push(l.i/r),xe(e),e=l.next,c=l.next;else if((e=l)===c){s?1===s?t(e=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!be(i,o)&&Ee(i,r,r.next,o)&&_e(i,o)&&_e(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),xe(r),xe(r.next),r=t=o),r=r.next}while(r!==t);return r}(e,n,r),n,r,i,o,a,2):2===s&&function(e,n,r,i,o,a){var s=e;do{for(var u=s.next.next;u!==s.prev;){if(s.i!==u.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ee(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&_e(t,e)&&_e(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(s,u)){var l=we(s,u);return s=de(s,s.next),l=de(l,l.next),t(s,n,r,i,o,a),void t(l,n,r,i,o,a)}u=u.next}s=s.next}while(s!==e)}(e,n,r,i,o,a):t(de(e),n,r,i,o,a,1);break}}}(f,p,n,r,i,l),p}function pe(t,e,n,r,i){var o,a;if(i===Oe(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Se(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Se(o,t[o],t[o+1],a);return a&&be(a,a.next)&&(xe(a),a=a.next),a}function de(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!be(r,r.next)&&0!==ve(r.prev,r,r.next))r=r.next;else{if(xe(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function ge(t,e){return t.x-e.x}function me(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ye(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function ve(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function be(t,e){return t.x===e.x&&t.y===e.y}function Ee(t,e,n,r){return!!(be(t,e)&&be(n,r)||be(t,r)&&be(n,e))||ve(t,e,n)>0!=ve(t,e,r)>0&&ve(n,r,t)>0!=ve(n,r,e)>0}function _e(t,e){return ve(t.prev,t,t.next)<0?ve(t,e,t.next)>=0&&ve(t,t.prev,e)>=0:ve(t,e,t.prev)<0||ve(t,t.next,e)<0}function we(t,e){var n=new Te(t.i,t.x,t.y),r=new Te(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Se(t,e,n,r){var i=new Te(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function xe(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Te(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Oe(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function Ce(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=ua(e.vertices,e.holes,2),r=[],i=[];n.forEach((function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var a=0;a<i.length;a+=3){var s=i.slice(a,a+3);s.push(i[a]),r.push(o([s]))}return r}function Ae(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return R(e,(function(e,i){var o=Nt(t,e);o<r&&((n=Dt(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)})),n}function Le(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(i,Math.floor(n+(a-s)*l/a+c)),o)}var h=e[n],f=r,p=i;for(Pe(e,r,n),o(e[i],h)>0&&Pe(e,r,i);f<p;){for(Pe(e,f,p),f++,p--;o(e[f],h)<0;)f++;for(;o(e[p],h)>0;)p--}0===o(e[r],h)?Pe(e,r,p):Pe(e,++p,i),p<=n&&(r=p+1),n<=p&&(i=p-1)}}(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function Pe(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Re(t,e){if(!(this instanceof Re))return new Re(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Me(t,e){ke(t,0,t.children.length,e,t)}function ke(t,e,n,r,i){i||(i=Ue(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],Ie(i,t.leaf?r(o):o);return i}function Ie(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ne(t,e){return t.minX-e.minX}function De(t,e){return t.minY-e.minY}function je(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Fe(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Ve(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Be(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Ue(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ge(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(Le(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),a.push(e,o,o,n))}function We(t){var e=Re(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=Ke(e)).bbox=e}else t.bbox=t.bbox?t.bbox:ze(t);return Re.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){var n=Ke(t);n.bbox=t,e.push(n)})):R(t,(function(t){t.bbox=t.bbox?t.bbox:ze(t),e.push(t)})),Re.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=Ke(e)).bbox=e}return Re.prototype.remove.call(this,t)},e.clear=function(){return Re.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Re.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Re.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Re.prototype.all.call(this)}},e.toJSON=function(){return Re.prototype.toJSON.call(this)},e.fromJSON=function(t){return Re.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:ze(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function Ke(t){var e=[t[0],t[1]],n=[t[0],t[3]],r=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],r,n,e]]}}}function ze(t){var e=[1/0,1/0,-1/0,-1/0];return C(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function He(t){if(!t)throw new Error("geojson is required");var e=[];return D(t,(function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=K(r);break;case"LineString":n=[K(r)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,r){var i=s([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}(t,e)})),l(e)}function Ye(t,n){var r={},i=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=qe(t,n);return o&&i.push(o),l(i)}var a=We();return a.load(He(n)),R(He(t),(function(t){R(a.search(t),(function(e){var n=qe(t,e);if(n){var o=K(n).join(",");r[o]||(r[o]=!0,i.push(n))}}))})),l(i)}function qe(t,e){var n=K(t),i=K(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],a=n[0][1],s=n[1][0],u=n[1][1],l=i[0][0],c=i[0][1],h=i[1][0],f=i[1][1],p=(f-c)*(s-o)-(h-l)*(u-a);if(0===p)return null;var d=((h-l)*(a-c)-(f-c)*(o-l))/p,g=((s-o)*(a-c)-(u-a)*(o-l))/p;return d>=0&&d<=1&&g>=0&&g<=1?r([o+d*(s-o),a+d*(u-a)]):null}function Xe(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var o=r([1/0,1/0],{dist:1/0}),a=0;return D(t,(function(t){for(var i=K(t),u=0;u<i.length-1;u++){var l=r(i[u]);l.properties.dist=Nt(e,l,n);var c=r(i[u+1]);c.properties.dist=Nt(e,c,n);var h=Nt(l,c,n),f=Math.max(l.properties.dist,c.properties.dist),p=ue(l,c),d=ae(e,f,p+90,n),g=ae(e,f,p-90,n),m=Ye(s([d.geometry.coordinates,g.geometry.coordinates]),s([l.geometry.coordinates,c.geometry.coordinates])),y=null;m.features.length>0&&((y=m.features[0]).properties.dist=Nt(e,y,n),y.properties.location=a+Nt(l,y,n)),l.properties.dist<o.properties.dist&&((o=l).properties.index=u,o.properties.location=a),c.properties.dist<o.properties.dist&&((o=c).properties.index=u+1,o.properties.location=a+h),y&&y.properties.dist<o.properties.dist&&((o=y).properties.index=u),a+=h}})),o}function Ze(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r,i=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(r=i?Je(W(e),W(t)):Je(W(t),W(e)))>180?-(360-r):r}function Je(t,e){var n=E(t[1]),r=E(e[1]),i=E(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(b(Math.atan2(i,o))+360)%360}function Qe(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var i=W(t),o=W(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,_(function(t,e,n){var r=n=void 0===n?wo:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,a=o-i,s=Math.abs(e[0]-t[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(u)>1e-11?a/u:Math.cos(i);return Math.sqrt(a*a+l*l*s*s)*r}(i,o),"meters",r)}function $e(t,e){return en(t,"mercator",e)}function tn(t,e){return en(t,"wgs84",e)}function en(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&S(t[0])?t="mercator"===e?nn(t):rn(t):(!0!==r&&(t=Dt(t)),C(t,(function(t){var n="mercator"===e?nn(t):rn(t);t[0]=n[0],t[1]=n[1]}))),t}function nn(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function rn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function on(t,n,i){if(!x(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):Y(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=s(n):"LineString"===n.type?n=e(n):Y(n,"LineString","line");var o=1/0,a=t.geometry.coordinates;return F(n,(function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],s=function(t,e,n,i){var o=i.mercator,a=!0!==o?Nt(e,t,i):an(e,t,i),s=v(!0!==o?ue(e,t):Ze(e,t)),u=v(!0!==o?ue(e,n):Ze(e,n)),l=Math.abs(s-u);if(l>90)return a;var c=(u+180)%360,h=v(!0!==o?ue(n,t):Ze(n,t)),f=Math.abs(h-c);return f>180&&(f=Math.abs(f-360)),f>90?!0!==o?Nt(t,n,i):an(t,n,i):!0!==o?a*Math.sin(E(l)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var a=r(n),s=tn(function(t,e,n){var r=t[0],i=t[1],o=e[0]-r,a=e[1]-i,s=((n[0]-r)*o+(n[1]-i)*a)/(o*o+a*a);return[r+s*o,i+s*a]}($e([t[0]+o,t[1]]),$e([e[0]+o,e[1]]),$e([n[0]+o,n[1]])));return 0!==o&&(s[0]-=o),Qe(a,s,i)}(e,n,t,i)}(a,e,n,i);o>s&&(o=s)})),o}function an(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=$e([t[0]+i,t[1]]),a=$e([e[0]+i,e[1]]),s=function(t){return t*t},u=s(o[0]-a[0])+s(o[1]-a[1]);return _(Math.sqrt(u),"meters",r)}function sn(t){for(var n=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?l([e(t)]):l([t]):t}(t),i=le(n),o=!1,a=0;!o&&a<n.features.length;){var s,u=n.features[a].geometry,c=!1;if("Point"===u.type)i.geometry.coordinates[0]===u.coordinates[0]&&i.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if("MultiPoint"===u.type){var h=!1;for(s=0;!h&&s<u.coordinates.length;)i.geometry.coordinates[0]===u.coordinates[s][0]&&i.geometry.coordinates[1]===u.coordinates[s][1]&&(o=!0,h=!0),s++}else if("LineString"===u.type)for(s=0;!c&&s<u.coordinates.length-1;)un(i.geometry.coordinates[0],i.geometry.coordinates[1],u.coordinates[s][0],u.coordinates[s][1],u.coordinates[s+1][0],u.coordinates[s+1][1])&&(c=!0,o=!0),s++;else if("MultiLineString"===u.type)for(var f=0;f<u.coordinates.length;){c=!1,s=0;for(var p=u.coordinates[f];!c&&s<p.length-1;)un(i.geometry.coordinates[0],i.geometry.coordinates[1],p[s][0],p[s][1],p[s+1][0],p[s+1][1])&&(c=!0,o=!0),s++;f++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||At(i,u)&&(o=!0);a++}if(o)return i;var d=l([]);for(a=0;a<n.features.length;a++)d.features=d.features.concat(he(n.features[a]).features);return r(Ae(i,d).geometry.coordinates)}function un(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function ln(t){return N(t,(function(t,e){return t+function t(e){var n,r=0;switch(e.type){case"Polygon":return cn(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=cn(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}}(e)}),0)}function cn(t){var e=0;if(t&&t.length>0){e+=Math.abs(hn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(hn(t[n]))}return e}function hn(t){var e,n,r,i,o,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(r=u-2,i=u-1,o=0):a===u-1?(r=u-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(fn(t[o][0])-fn(e[0]))*Math.sin(fn(n[1]));s=s*ha*ha/2}return s}function fn(t){return t*Math.PI/180}function pn(t,e){if(!x(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return V(t,(function(t,n){var r=n.geometry.coordinates;return t+Nt(r[0],r[1],e)}),0)}function dn(t,e,n,r){if(!x(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var a,u,l,c=0,h=0;h<i.length&&!(e>=c&&h===i.length-1);h++){if(c>e&&0===o.length){if(!(a=e-c))return o.push(i[h]),s(o);u=ue(i[h],i[h-1])-180,l=ae(i[h],a,u,r),o.push(l.geometry.coordinates)}if(c>=n)return(a=n-c)?(u=ue(i[h],i[h-1])-180,l=ae(i[h],a,u,r),o.push(l.geometry.coordinates),s(o)):(o.push(i[h]),s(o));if(c>=e&&o.push(i[h]),h===i.length-1)return s(o);c+=Nt(i[h],i[h+1],r)}return s(i[i.length-1])}function gn(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!x(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var i=W(t),o=K(e),a=0;a<o.length-1;a++){var s=!1;if(r&&(0===a&&(s="start"),a===o.length-2&&(s="end"),0===a&&a+1===o.length-1&&(s="both")),function(t,e,n,r){var i=n[0],o=n[1],a=t[0],s=t[1],u=e[0],l=e[1],c=u-a,h=l-s;return(n[0]-a)*h-(n[1]-s)*c==0&&(r?"start"===r?Math.abs(c)>=Math.abs(h)?c>0?a<i&&i<=u:u<=i&&i<a:h>0?s<o&&o<=l:l<=o&&o<s:"end"===r?Math.abs(c)>=Math.abs(h)?c>0?a<=i&&i<u:u<i&&i<=a:h>0?s<=o&&o<l:l<o&&o<=s:"both"===r?Math.abs(c)>=Math.abs(h)?c>0?a<i&&i<u:u<i&&i<a:h>0?s<o&&o<l:l<o&&o<s:void 0:Math.abs(c)>=Math.abs(h)?c>0?a<=i&&i<=u:u<=i&&i<=a:h>0?s<=o&&o<=l:l<=o&&o<=s)}(o[a],o[a+1],i,s))return!0}return!1}function mn(t,e){var n=J(t),r=J(e),i=X(t),o=X(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(vn(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case"LineString":return gn(i,o,{ignoreEndVertices:!0});case"Polygon":return At(i,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)vn(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!gn(t.coordinates[r],e))return!1;n||(n=gn(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=At(t.coordinates[1],e);if(!i){n=!1;break}i=At(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!gn(t.coordinates[n],e))return!1;return!0}(i,o);case"Polygon":return function(t,e){if(!yn(G(e),G(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!At(t.coordinates[r],e))return!1;n||(n=At(t.coordinates[r],e,{ignoreBoundary:!0})),n||(n=At(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0}))}return n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=G(t);if(!yn(G(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!At(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function yn(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function vn(t,e){return t[0]===e[0]&&t[1]===e[1]}function bn(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.mask,o=n.properties,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(J(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],c=t[2],h=t[3],f=e/Nt([s,u],[c,u],n)*(c-s),p=e/Nt([s,u],[s,h],n)*(h-u),d=c-s,g=h-u,m=Math.floor(d/f),y=(g-Math.floor(g/p)*p)/2,v=s+(d-m*f)/2;v<=c;){for(var b=u+y;b<=h;){var E=r([v,b],o);i?mn(E,i)&&a.push(E):a.push(E),b+=p}v+=f}return l(a)}function En(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,r=void 0===r||null===r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return C(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)})),t}function _n(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!_n(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function wn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Sn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Sn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function xn(t,e){var n=[],r=We();return D(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var i=r.search(e);if(i.features.length){var o=On(e,i);n=n.filter((function(t){return t.id!==o.id})),r.remove(o),R(Tn(o,e),(function(t){n.push(t),r.insert(t)}))}}else(n=Tn(t,e).features).forEach((function(t){t.bbox||(t.bbox=oe(G(t)))})),r.load(l(n))})),l(n)}function Tn(t,e){var n=[],r=K(t)[0],i=K(t)[t.geometry.coordinates.length-1];if(Cn(r,W(e))||Cn(i,W(e)))return l([t]);var o=We(),a=He(t);o.load(a);var u=o.search(e);if(!u.features.length)return l([t]);var c=On(e,u),h=M(a,(function(t,r,i){var o=K(r)[1],a=W(e);return i===c.id?(t.push(a),n.push(s(t)),Cn(a,o)?[a]:[a,o]):(t.push(o),t)}),[r]);return h.length>1&&n.push(s(h)),l(n)}function On(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return R(e,(function(e){var i=Xe(e,t).properties.dist;i<r&&(n=e,r=i)})),n}function Cn(t,e){return t[0]===e[0]&&t[1]===e[1]}function An(t,e,n,r,i){if(!x(i=i||{}))throw new Error("options is invalid");var o=i.steps,a=i.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");o=o||64;var u=Ln(n),l=Ln(r),c=t.properties;if(u===l)return s(se(t,e,i).geometry.coordinates[0],c);for(var h=u,f=u<l?l:l+360,p=h,d=[],g=0;p<f;)d.push(ae(t,e,p,a).geometry.coordinates),p=h+360*++g/o;return p>f&&d.push(ae(t,e,f,a).geometry.coordinates),s(d,c)}function Ln(t){var e=t%360;return e<0&&(e+=360),e}function Pn(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=J(t),i=K(t);if(n=n||t.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Rn(i,n);case"MultiPolygon":var o=[];return i.forEach((function(t){o.push(Rn(t,n))})),l(o);default:throw new Error("geom "+r+" not supported")}}function Rn(t,e){return t.length>1?c(t,e):s(t[0],e)}function Mn(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,J(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach((function(t){o.push(K(kn(t,{},r,i)))})),f(o,n)}return kn(t,n,r,i)}function kn(t,e,n,r){e=e||t.properties||{};var i=K(t),a=J(t);if(!i.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(i=In(i)),o([i],e);case"MultiLineString":var u=[],l=0;return i.forEach((function(t){if(n&&(t=In(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.abs(e-r)*Math.abs(n-i)}(G(s(t)));e>l?(u.unshift(t),l=e):u.push(t)}else u.push(t)})),o(u,e);default:throw new Error("geometry type "+a+" is not supported")}}function In(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],a=i[1];return n===o&&r===a||t.push(e),t}function Nn(t,e,n){var r,i,o,a,s,u=t.length,l=jn(t[0],e),c=[];for(n||(n=[]),r=1;r<u;r++){for(i=t[r-1],a=s=jn(o=t[r],e);;){if(!(l|a)){c.push(i),a!==s?(c.push(o),r<u-1&&(n.push(c),c=[])):r===u-1&&c.push(o);break}if(l&a)break;l?l=jn(i=Dn(i,o,l,e),e):a=jn(o=Dn(i,o,a,e),e)}l=s}return c.length&&n.push(c),n}function Dn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function jn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Fn(t,e){for(var n=[],r=0;r<t.length;r++){var i=_a.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Vn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Bn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?(n.strict,t===e):function(t,e,n){var r,i;if(Un(t)||Un(e))return!1;if(t.prototype!==e.prototype)return!1;if(Vn(t))return!!Vn(e)&&Bn(t=wa.call(t),e=wa.call(e),n);if(Gn(t)){if(!Gn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),a=Object.keys(e)}catch(t){return!1}if(o.length!==a.length)return!1;for(o.sort(),a.sort(),r=o.length-1;r>=0;r--)if(o[r]!==a[r])return!1;for(r=o.length-1;r>=0;r--)if(!Bn(t[i=o[r]],e[i],n))return!1;return typeof t==typeof e}(t,e,n))}function Un(t){return null===t||void 0===t}function Gn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&"function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0])}function Wn(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],a=We();return a.load(He(t)),F(e,(function(t){var e=!1;R(a.search(t),(function(n){if(!1===e){var o=K(t).sort(),a=K(n).sort();Bn(o,a)||(0===i?gn(o[0],n)&&gn(o[1],n):Xe(n,o[0]).properties.dist<=i&&Xe(n,o[1]).properties.dist<=i)?(e=!0,r=r?Kn(r,t):t):(0===i?gn(a[0],t)&&gn(a[1],t):Xe(t,a[0]).properties.dist<=i&&Xe(t,a[1]).properties.dist<=i)&&(r=r?Kn(r,n):n)}})),!1===e&&r&&(o.push(r),r=void 0)})),r&&o.push(r),l(o)}function Kn(t,e){var n=K(e),r=K(t),i=r[0],o=r[r.length-1],a=t.geometry.coordinates;return Bn(n[0],i)?a.unshift(n[1]):Bn(n[0],o)?a.push(n[1]):Bn(n[1],i)?a.unshift(n[0]):Bn(n[1],o)&&a.push(n[0]),t}function zn(t){var e=t%360;return e<0&&(e+=360),e}function Hn(t,e,n,i){if(!x(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties;if(!t)throw new Error("origin is required");if(void 0===e||null===e)throw new Error("distance is required");if(void 0===n||null===n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var s=_(e,o,"meters"),u=W(t),l=function(t,e,n,r){var i=e/(r=void 0===r?wo:Number(r)),o=t[0]*Math.PI/180,a=E(t[1]),s=E(n),u=i*Math.cos(s),l=a+u;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),h=Math.abs(c)>1e-11?u/c:Math.cos(a);return[(180*(o+i*Math.sin(s)/h)/Math.PI+540)%360-180,180*l/Math.PI]}(u,s,n);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,r(l,a)}function Yn(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],u=t[a+1];a===t.length-1&&(u=t[0]),r=qn(s,u,e),n<=0&&r>0?function(t,e,n){return qn(t,e,n)<0}(e,s,i)||(i=s):n>0&&r<=0&&(function(t,e,n){return qn(t,e,n)>0}(e,s,o)||(o=s)),n=r}return[i,o]}function qn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Xn(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,i=K(t),o=0,a=1;a<i.length;)n=r||i[0],o+=((r=i[a])[0]-n[0])*(r[1]+n[1]),a++;return o>0}function Zn(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return I(t,(function(t){Zn(t,e)})),t;case"LineString":return Jn(K(t),e),t;case"Polygon":return Qn(K(t),e),t;case"MultiLineString":return K(t).forEach((function(t){Jn(t,e)})),t;case"MultiPolygon":return K(t).forEach((function(t){Qn(t,e)})),t;case"Point":case"MultiPoint":return t}}function Jn(t,e){Xn(t)===e&&t.reverse()}function Qn(t,e){Xn(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Xn(t[n])===e&&t[n].reverse()}function $n(t,e,n,r){r=r||{};for(var i=Object.keys(Sa),o=0;o<i.length;o++){var a=i[o],s=r[a];s=void 0!==s&&null!==s?s:Sa[a],xa[a]=s}xa.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,l=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},a=e+Math.abs(n),s=0;s<r;++s){o.cells[s]=[];for(var u=0;u<i;++u){var l=0,c=t[s+1][u],h=t[s+1][u+1],f=t[s][u+1],p=t[s][u];if(!(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(p))){l|=c<e?0:c>a?128:64,l|=h<e?0:h>a?32:16,l|=f<e?0:f>a?8:4;var d=+(l|=p<e?0:p>a?2:1),g=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var m=(c+h+f+p)/4;g=m>a?2:m<e?0:1,34===l?1===g?l=35:0===g&&(l=136):136===l?1===g?(l=35,g=4):0===g&&(l=34):17===l?1===g?(l=155,g=4):0===g&&(l=153):68===l?1===g?(l=103,g=4):0===g&&(l=102):153===l?1===g&&(l=155):102===l?1===g&&(l=103):152===l?g<2&&(l=156,g=1):137===l?g<2&&(l=139,g=1):98===l?g<2&&(l=99,g=1):38===l?g<2&&(l=39,g=1):18===l?g>0?(l=156,g=4):l=152:33===l?g>0?(l=139,g=4):l=137:72===l?g>0?(l=99,g=4):l=98:132===l&&(g>0?(l=39,g=4):l=38)}if(0!=l&&170!=l){var y,v,b,E,_,w,S,x;y=v=b=E=_=w=S=x=.5;var T=[];1===l?(b=1-tr(e,f,p),x=1-tr(e,c,p),T.push(cs[l])):169===l?(b=tr(a,p,f),x=tr(a,p,c),T.push(cs[l])):4===l?(w=1-tr(e,h,f),E=tr(e,p,f),T.push(us[l])):166===l?(w=tr(a,f,h),E=1-tr(a,f,p),T.push(us[l])):16===l?(_=tr(e,f,h),v=tr(e,c,h),T.push(ss[l])):154===l?(_=1-tr(a,h,f),v=1-tr(a,h,c),T.push(ss[l])):64===l?(S=tr(e,p,c),y=1-tr(e,h,c),T.push(fs[l])):106===l?(S=1-tr(a,c,p),y=tr(a,c,h),T.push(fs[l])):168===l?(E=tr(a,p,f),b=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),T.push(ls[l]),T.push(cs[l])):2===l?(E=1-tr(e,f,p),b=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),T.push(ls[l]),T.push(cs[l])):162===l?(_=tr(a,f,h),w=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),T.push(ls[l]),T.push(cs[l])):8===l?(_=1-tr(e,h,f),w=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),T.push(ss[l]),T.push(us[l])):138===l?(_=1-tr(e,h,f),w=1-tr(a,h,f),y=1-tr(a,h,c),v=1-tr(e,h,c),T.push(ss[l]),T.push(us[l])):32===l?(_=tr(a,f,h),w=tr(e,f,h),y=tr(e,c,h),v=tr(a,c,h),T.push(ss[l]),T.push(us[l])):42===l?(x=1-tr(a,c,p),S=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h),T.push(hs[l]),T.push(fs[l])):128===l&&(x=tr(e,p,c),S=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c),T.push(hs[l]),T.push(fs[l])),5===l?(w=1-tr(e,h,f),x=1-tr(e,c,p),T.push(us[l])):165===l?(w=tr(a,f,h),x=tr(a,p,c),T.push(us[l])):20===l?(E=tr(e,p,f),v=tr(e,c,h),T.push(ls[l])):150===l?(E=1-tr(a,f,p),v=1-tr(a,h,c),T.push(ls[l])):80===l?(_=tr(e,f,h),S=tr(e,p,c),T.push(ss[l])):90===l?(_=1-tr(a,h,f),S=1-tr(a,c,p),T.push(ss[l])):65===l?(b=1-tr(e,f,p),y=1-tr(e,h,c),T.push(cs[l])):105===l?(b=tr(a,p,f),y=tr(a,c,h),T.push(cs[l])):160===l?(_=tr(a,f,h),w=tr(e,f,h),x=tr(e,p,c),S=tr(a,p,c),T.push(ss[l]),T.push(us[l])):10===l?(_=1-tr(e,h,f),w=1-tr(a,h,f),x=1-tr(a,c,p),S=1-tr(e,c,p),T.push(ss[l]),T.push(us[l])):130===l?(E=1-tr(e,f,p),b=1-tr(a,f,p),y=1-tr(a,h,c),v=1-tr(e,h,c),T.push(ls[l]),T.push(cs[l])):40===l?(E=tr(a,p,f),b=tr(e,p,f),y=tr(e,c,h),v=tr(a,c,h),T.push(ls[l]),T.push(cs[l])):101===l?(w=tr(a,f,h),y=tr(a,c,h),T.push(us[l])):69===l?(w=1-tr(e,h,f),y=1-tr(e,h,c),T.push(us[l])):149===l?(x=tr(a,p,c),v=1-tr(a,h,c),T.push(hs[l])):21===l?(x=1-tr(e,c,p),v=tr(e,c,h),T.push(hs[l])):86===l?(E=1-tr(a,f,p),S=1-tr(a,c,p),T.push(ls[l])):84===l?(E=tr(e,p,f),S=tr(e,p,c),T.push(ls[l])):89===l?(_=1-tr(a,h,f),b=tr(a,p,f),T.push(cs[l])):81===l?(_=tr(e,f,h),b=1-tr(e,f,p),T.push(cs[l])):96===l?(_=tr(a,f,h),w=tr(e,f,h),S=tr(e,p,c),y=tr(a,c,h),T.push(ss[l]),T.push(us[l])):74===l?(_=1-tr(e,h,f),w=1-tr(a,h,f),S=1-tr(a,c,p),y=1-tr(e,h,c),T.push(ss[l]),T.push(us[l])):24===l?(_=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),v=tr(e,c,h),T.push(ss[l]),T.push(cs[l])):146===l?(_=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),v=1-tr(a,h,c),T.push(ss[l]),T.push(cs[l])):6===l?(w=1-tr(e,h,f),E=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),T.push(us[l]),T.push(ls[l])):164===l?(w=tr(a,f,h),E=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),T.push(us[l]),T.push(ls[l])):129===l?(b=1-tr(e,f,p),x=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c),T.push(cs[l]),T.push(hs[l])):41===l?(b=tr(a,p,f),x=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h),T.push(cs[l]),T.push(hs[l])):66===l?(E=1-tr(e,f,p),b=1-tr(a,f,p),S=1-tr(a,c,p),y=1-tr(e,h,c),T.push(ls[l]),T.push(cs[l])):104===l?(E=tr(a,p,f),b=tr(e,p,f),S=tr(e,p,c),y=tr(a,c,h),T.push(cs[l]),T.push(ps[l])):144===l?(_=tr(e,f,h),x=tr(e,p,c),S=tr(a,p,c),v=1-tr(a,h,c),T.push(ss[l]),T.push(fs[l])):26===l?(_=1-tr(a,h,f),x=1-tr(a,c,p),S=1-tr(e,c,p),v=tr(e,c,h),T.push(ss[l]),T.push(fs[l])):36===l?(w=tr(a,f,h),E=tr(e,p,f),y=tr(e,c,h),v=tr(a,c,h),T.push(us[l]),T.push(ls[l])):134===l?(w=1-tr(e,h,f),E=1-tr(a,f,p),y=1-tr(a,h,c),v=1-tr(e,h,c),T.push(us[l]),T.push(ls[l])):9===l?(_=1-tr(e,h,f),w=1-tr(a,h,f),b=tr(a,p,f),x=1-tr(e,c,p),T.push(ss[l]),T.push(us[l])):161===l?(_=tr(a,f,h),w=tr(e,f,h),b=1-tr(e,f,p),x=tr(a,p,c),T.push(ss[l]),T.push(us[l])):37===l?(w=tr(a,f,h),x=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h),T.push(us[l]),T.push(hs[l])):133===l?(w=1-tr(e,h,f),x=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c),T.push(us[l]),T.push(hs[l])):148===l?(E=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),v=1-tr(a,h,c),T.push(ls[l]),T.push(fs[l])):22===l?(E=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),v=tr(e,c,h),T.push(ls[l]),T.push(fs[l])):82===l?(_=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),S=1-tr(a,c,p),T.push(ss[l]),T.push(cs[l])):88===l?(_=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),S=tr(e,p,c),T.push(ss[l]),T.push(cs[l])):73===l?(_=1-tr(e,h,f),w=1-tr(a,h,f),b=tr(a,p,f),y=1-tr(e,h,c),T.push(ss[l]),T.push(us[l])):97===l?(_=tr(a,f,h),w=tr(e,f,h),b=1-tr(e,f,p),y=tr(a,c,h),T.push(ss[l]),T.push(us[l])):145===l?(_=tr(e,f,h),b=1-tr(e,f,p),x=tr(a,p,c),v=1-tr(a,h,c),T.push(ss[l]),T.push(hs[l])):25===l?(_=1-tr(a,h,f),b=tr(a,p,f),x=1-tr(e,c,p),v=tr(e,c,h),T.push(ss[l]),T.push(hs[l])):70===l?(w=1-tr(e,h,f),E=1-tr(a,f,p),S=1-tr(a,c,p),y=1-tr(e,h,c),T.push(us[l]),T.push(ls[l])):100===l?(w=tr(a,f,h),E=tr(e,p,f),S=tr(e,p,c),y=tr(a,c,h),T.push(us[l]),T.push(ls[l])):34===l?(0===g?(_=1-tr(e,h,f),w=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c)):(_=tr(a,f,h),w=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h)),T.push(ss[l]),T.push(us[l]),T.push(hs[l]),T.push(fs[l])):35===l?(4===g?(_=1-tr(e,h,f),w=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c)):(_=tr(a,f,h),w=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h)),T.push(ss[l]),T.push(us[l]),T.push(cs[l]),T.push(fs[l])):136===l?(0===g?(_=tr(a,f,h),w=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h)):(_=1-tr(e,h,f),w=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c)),T.push(ss[l]),T.push(us[l]),T.push(hs[l]),T.push(fs[l])):153===l?(0===g?(_=tr(e,f,h),b=1-tr(e,f,p),x=1-tr(e,c,p),v=tr(e,c,h)):(_=1-tr(a,h,f),b=tr(a,p,f),x=tr(a,p,c),v=1-tr(a,h,c)),T.push(ss[l]),T.push(cs[l])):102===l?(0===g?(w=1-tr(e,h,f),E=tr(e,p,f),S=tr(e,p,c),y=1-tr(e,h,c)):(w=tr(a,f,h),E=1-tr(a,f,p),S=1-tr(a,c,p),y=tr(a,c,h)),T.push(us[l]),T.push(fs[l])):155===l?(4===g?(_=tr(e,f,h),b=1-tr(e,f,p),x=1-tr(e,c,p),v=tr(e,c,h)):(_=1-tr(a,h,f),b=tr(a,p,f),x=tr(a,p,c),v=1-tr(a,h,c)),T.push(ss[l]),T.push(hs[l])):103===l?(4===g?(w=1-tr(e,h,f),E=tr(e,p,f),S=tr(e,p,c),y=1-tr(e,h,c)):(w=tr(a,f,h),E=1-tr(a,f,p),S=1-tr(a,c,p),y=tr(a,c,h)),T.push(us[l]),T.push(ls[l])):152===l?(0===g?(_=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),v=tr(e,c,h)):(_=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),v=1-tr(a,h,c)),T.push(ss[l]),T.push(ls[l]),T.push(cs[l])):156===l?(4===g?(_=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),v=tr(e,c,h)):(_=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),v=1-tr(a,h,c)),T.push(ss[l]),T.push(cs[l]),T.push(fs[l])):137===l?(0===g?(_=tr(a,f,h),w=tr(e,f,h),b=1-tr(e,f,p),x=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h)):(_=1-tr(e,h,f),w=1-tr(a,h,f),b=tr(a,p,f),x=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c)),T.push(ss[l]),T.push(us[l]),T.push(cs[l])):139===l?(4===g?(_=tr(a,f,h),w=tr(e,f,h),b=1-tr(e,f,p),x=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h)):(_=1-tr(e,h,f),w=1-tr(a,h,f),b=tr(a,p,f),x=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c)),T.push(ss[l]),T.push(us[l]),T.push(hs[l])):98===l?(0===g?(_=1-tr(e,h,f),w=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),S=tr(e,p,c),y=1-tr(e,h,c)):(_=tr(a,f,h),w=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),S=1-tr(a,c,p),y=tr(a,c,h)),T.push(ss[l]),T.push(us[l]),T.push(fs[l])):99===l?(4===g?(_=1-tr(e,h,f),w=1-tr(a,h,f),E=tr(a,p,f),b=tr(e,p,f),S=tr(e,p,c),y=1-tr(e,h,c)):(_=tr(a,f,h),w=tr(e,f,h),E=1-tr(e,f,p),b=1-tr(a,f,p),S=1-tr(a,c,p),y=tr(a,c,h)),T.push(ss[l]),T.push(us[l]),T.push(cs[l])):38===l?(0===g?(w=1-tr(e,h,f),E=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c)):(w=tr(a,f,h),E=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h)),T.push(us[l]),T.push(hs[l]),T.push(fs[l])):39===l?(4===g?(w=1-tr(e,h,f),E=tr(e,p,f),x=tr(e,p,c),S=tr(a,p,c),y=1-tr(a,h,c),v=1-tr(e,h,c)):(w=tr(a,f,h),E=1-tr(a,f,p),x=1-tr(a,c,p),S=1-tr(e,c,p),y=tr(e,c,h),v=tr(a,c,h)),T.push(us[l]),T.push(ls[l]),T.push(fs[l])):85===l&&(_=1,w=0,E=1,b=0,x=0,S=1,y=0,v=1),(y<0||y>1||v<0||v>1||_<0||_>1||E<0||E>1||x<0||x>1||S<0||S>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+c+","+h+","+f+","+p+" "+g+" "+y+" "+v+" "+_+" "+w+" "+E+" "+b+" "+x+" "+S),o.cells[s][u]={cval:l,cval_real:d,flipped:g,topleft:y,topright:v,righttop:_,rightbottom:w,bottomright:E,bottomleft:b,leftbottom:x,lefttop:S,edges:T}}}}}return o}(t,e,n);return xa.polygons?(xa.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach((function(t,r){t.forEach((function(t,i){if(void 0!==t){var o=gs[t.cval](t);"object"==typeof o&&er(o)?"object"==typeof o[0]&&er(o[0])?"object"==typeof o[0][0]&&er(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=t})):(o.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(l)):(xa.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var a=0;a<r;a++)if(void 0!==t.cells[o][a]&&t.cells[o][a].edges.length>0){var s=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&Oa?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&Ca?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&Ca?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Aa?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&Oa?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&Ca?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&Ca?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Aa?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&Ca?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Aa?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Aa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&Ta?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&Ca?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Aa?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Aa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&Ta?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&Ca?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&Ta?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Aa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&Ta?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&Ta?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&Oa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&Ta?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&Oa?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][a]),u=null,l=a,c=o;null!==s&&i.push([s.p[0]+l,s.p[1]+c]);do{if(null===(u=function(t,e,n,r){var i,o,a,s,u,l=t.cval;switch(e){case-1:switch(r){case 0:i=us[l],a=Fa[l],s=Va[l],u=Ba[l];break;default:i=ss[l],a=Na[l],s=Da[l],u=ja[l]}break;case 1:switch(r){case 0:i=hs[l],a=Za[l],s=Ja[l],u=Qa[l];break;default:i=fs[l],a=Ya[l],s=qa[l],u=Xa[l]}break;default:switch(n){case-1:switch(r){case 0:i=ps[l],a=La[l],s=Pa[l],u=Ra[l];break;default:i=ds[l],a=Ma[l],s=ka[l],u=Ia[l]}break;case 1:switch(r){case 0:i=cs[l],a=Ua[l],s=Ga[l],u=Wa[l];break;default:i=ls[l],a=Ka[l],s=za[l],u=Ha[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:l&Oa?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:l&Ca?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:l&Ca?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:l&Aa?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:l&Oa?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:l&Ca?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:l&Ca?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:l&Aa?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:l&Ca?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:l&Aa?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:l&Aa?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:l&Ta?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:l&Ca?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:l&Aa?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:l&Aa?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:l&Ta?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:l&Ca?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:l&Ta?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:l&Aa?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:l&Ta?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:l&Ta?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:l&Oa?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:l&Ta?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:l&Oa?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+a+" "+s+" "+u)),{p:[e,n],x:a,y:s,o:u}}(t.cells[c][l],s.x,s.y,s.o)))break;if(i.push([u.p[0]+l,u.p[1]+c]),l+=u.x,s=u,(c+=u.y)<0||c>=n||l<0||l>=r||void 0===t.cells[c][l]){var h=function(t,e,n,r,i,o){for(var a=t.cells[n][e],s=a.cval_real,u=e+r,l=n+i,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(l-=i,u-=r,s=(a=t.cells[l][u]).cval_real,-1===i)if(0===o)if(s&Aa)c.push([u,l]),r=-1,i=0,o=0;else{if(!(s&Ca)){c.push([u+a.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+1,l]),r=1,i=0,o=0}else{if(!(s&Aa)){if(s&Ca){c.push([u+a.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+a.bottomleft,l]),r=0,i=1,o=0,h=!0;break}c.push([u,l]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(s&Oa)){if(s&Ta){c.push([u+a.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+a.topright,l+1]),r=0,i=-1,o=1,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}else c.push([u+1,l+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(s&Ta)){if(s&Aa){c.push([u,l+a.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+a.lefttop]),r=1,i=0,o=1,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}else{if(!(s&Ta)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(s&Ca)){c.push([u+1,l+a.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}else{if(!(s&Ca)){if(s&Oa){c.push([u+1,l+a.righttop]),r=-1,i=0,o=1;break}c.push([u+1,l+a.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else if(s=(a=t.cells[l][u]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])r=0,i=-1,o=1;else{if(!(s&Aa)){c.push([u+a.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u,l])}else{if(!(s&Ta)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])r=0,i=1,o=0;else{if(!(s&Oa)){c.push([u+a.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])r=1,i=0,o=1;else{if(!(s&Ca)){c.push([u+1,l+a.righttop]),r=-1,i=0,o=1,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])r=-1,i=0,o=0;else{if(!(s&Ta)){c.push([u,l+a.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}}if(l+=i,(u+=r)===e&&l===n)break}return{path:c,i:u,j:l,x:r,y:i,o:o}}(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach((function(t){i.push(t)})),l=h.i,c=h.j,s=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(i),i=[],t.cells[o][a].edges.length>0&&a--}return e}(l)),"function"==typeof xa.successCallback&&xa.successCallback(u),u}function tr(t,e,n){return(t-e)/(n-e)}function er(t){return t.constructor.toString().indexOf("Array")>-1}function nr(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=ce(t)),!1!==i&&void 0!==i||(t=Dt(t)),C(t,(function(t){var n=Ze(r,t)+e,i=Qe(r,t),o=K(Hn(r,i,n));t[0]=o[0],t[1]=o[1]}))),t}function rr(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=Dt(t)),"FeatureCollection"!==t.type||o?ir(t,e,r):(R(t,(function(n,i){t.features[i]=ir(n,e,r)})),t)}function ir(t,e,n){var i="Point"===J(t);return n=function(t,e){if(void 0!==e&&null!==e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return W(e);var n=t.bbox?t.bbox:G(t),i=n[0],o=n[1],a=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([a,o]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,s]);case"ne":case"northeast":case"eastnorth":case"topright":return r([a,s]);case"center":return le(t);case void 0:case null:case"centroid":return ce(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||C(t,(function(t){var r=Qe(n,t),i=Ze(n,t),o=K(Hn(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t}function or(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function ar(t,e){return t[0]*e[1]-e[0]*t[1]}function sr(t,e,n){var r=[],i=y(e,n),o=K(t),a=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),i=t[0]+n*(e[1]-t[1])/r,o=e[0]+n*(e[1]-t[1])/r;return[[i,t[1]+n*(t[0]-e[0])/r],[o,e[1]+n*(t[0]-e[0])/r]]}(t,o[e+1],i);if(r.push(n),e>0){var s=r[e-1],u=function(t,e){return!function(t,e){return 0===ar(or(t),or(e))}(t,e)&&function(t,e){var n=t[0],r=or(t),i=e[0],o=or(e),a=ar(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(ar(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(i,n),o)/a,r))}(t,e)}(n,s);!1!==u&&(s[1]=u,n[0]=u),a.push(s[0]),e===o.length-2&&(a.push(n[0]),a.push(n[1]))}2===o.length&&(a.push(n[0]),a.push(n[1]))}})),s(a,t.properties)}function ur(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=n[0]-e[0],a=n[1]-e[1];return Math.sign(r*a-o*i)}function lr(t,e){return e.geometry.coordinates[0].every((function(e){return At(r(e),t)}))}function cr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],a=e[1]-t[1];return r*a-i*o==0&&(Math.abs(o)>=Math.abs(a)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function hr(t,e){return Ye(e,Pn(t)).features.length>0}function fr(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function pr(t,e){return t[0]===e[0]&&t[1]===e[1]}function dr(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;0!==a&&a!==e.coordinates.length-2||(s=!1),yr(e.coordinates[a],e.coordinates[a+1],t.coordinates[o],s)?n=!0:r=!0}o++}return n&&r}function gr(t,e){return Ye(t,Pn(e)).features.length>0}function mr(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,a=0;a<o&&n&&i;)At(r(t.coordinates[0][a]),e)?n=!0:i=!0,a++;return i&&i}function yr(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],a=e[0]-t[0],s=e[1]-t[1];return 0==i*s-o*a&&(r?Math.abs(a)>=Math.abs(s)?a>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(a)>=Math.abs(s)?a>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:s>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function vr(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function br(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Er(t,e){return Ss(t,e,{strict:!0})}function _r(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=J(t);if(n!==J(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Ts({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var i=k(t),o=k(e);i.forEach((function(t){o.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&r++}))}));break;case"LineString":case"MultiLineString":F(t,(function(t){F(e,(function(e){Wn(t,e).features.length&&r++}))}));break;case"Polygon":case"MultiPolygon":F(t,(function(t){F(e,(function(e){Ye(t,e).features.length&&r++}))}))}return r>0}function wr(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function Sr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function xr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Tr(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Or(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Or(t,e,n){this.x=t,this.y=e,this.weight=n}function Cr(t){this.content=[],this.scoreFunction=t}function Ar(t){return t[0]}function Lr(t){return t[1]}function Pr(){this._=null}function Rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Mr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function kr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ir(t){for(;t.L;)t=t.L;return t}function Nr(t,e,n,r){var i=[null,null],o=Gs.push(i)-1;return i.left=t,i.right=e,n&&jr(i,t,e,n),r&&jr(i,e,t,r),Bs[t.index].halfedges.push(o),Bs[e.index].halfedges.push(o),i}function Dr(t,e,n){var r=[e,n];return r.left=t,r}function jr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Fr(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,p=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function Vr(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],g=(h+p)/2,m=(f+d)/2;if(d===f){if(g<e||g>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(s=m-(a=(h-p)/(d-f))*g,a<-1||a>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Br(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Ur(t,e){return e[+(e.left!==t.site)]}function Gr(t,e){return e[+(e.left===t.site)]}function Wr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-Hs)){var p=u*u+l*l,d=c*c+h*h,g=(h*p-l*d)/f,m=(u*d-c*p)/f,y=Ws.pop()||new function(){Rr(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=y;for(var v=null,b=Us._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}Us.insert(v,y),v||(Fs=y)}}}}function Kr(t){var e=t.circle;e&&(e.P||(Fs=e.N),Us.remove(e),Ws.push(e),Rr(e),t.circle=null)}function zr(t){var e=Ks.pop()||new function(){Rr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Hr(t){Kr(t),Vs.remove(t),Ks.push(t),Rr(t)}function Yr(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Hr(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<zs&&Math.abs(r-u.circle.cy)<zs;)o=u.P,s.unshift(u),Hr(u),u=o;s.unshift(u),Kr(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<zs&&Math.abs(r-l.circle.cy)<zs;)a=l.N,s.push(l),Hr(l),l=a;s.push(l),Kr(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],jr(l.edge,u.site,l.site,i);u=s[0],(l=s[h-1]).edge=Nr(u.site,l.site,null,i),Wr(u),Wr(l)}function qr(t){for(var e,n,r,i,o=t[0],a=t[1],s=Vs._;s;)if((r=Xr(s,a)-o)>zs)s=s.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return Xr(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>zs)){r>-zs?(e=s.P,n=s):i>-zs?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Bs[t.index]={site:t,halfedges:[]}}(t);var u=zr(t);if(Vs.insert(e,u),e||n){if(e===n)return Kr(e),n=zr(e.site),Vs.insert(u,n),u.edge=n.edge=Nr(e.site,u.site),Wr(e),void Wr(n);if(n){Kr(e),Kr(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=n.site,g=d[0]-c,m=d[1]-h,y=2*(f*m-p*g),v=f*f+p*p,b=g*g+m*m,E=[(m*v-p*b)/y+c,(f*b-g*v)/y+h];jr(n.edge,l,d,E),u.edge=Nr(l,t,null,E),n.edge=Nr(t,d,null,E),Wr(e),Wr(n)}else u.edge=Nr(e.site,u.site)}}function Xr(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function Zr(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Jr(t,e){return e[1]-t[1]||e[0]-t[0]}function Qr(t,e){var n,r,i,o=t.sort(Jr).pop();for(Gs=[],Bs=new Array(t.length),Vs=new Pr,Us=new Pr;;)if(i=Fs,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(qr(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Yr(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Bs.length;i<o;++i)if((t=Bs[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Br(t,Gs[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Gs.length;o--;)Vr(i=Gs[o],t,e,n,r)&&Fr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>zs||Math.abs(i[0][1]-i[1][1])>zs)||delete Gs[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,c,h,f,p,d,g,m=Bs.length,y=!0;for(i=0;i<m;++i)if(o=Bs[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Gs[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)d=(p=Gr(o,Gs[u[s]]))[0],g=p[1],h=(c=Ur(o,Gs[u[++s%l]]))[0],f=c[1],(Math.abs(d-h)>zs||Math.abs(g-f)>zs)&&(u.splice(s,0,Gs.push(Dr(a,p,Math.abs(d-t)<zs&&r-g>zs?[t,Math.abs(h-t)<zs?f:r]:Math.abs(g-r)<zs&&n-d>zs?[Math.abs(f-r)<zs?h:n,r]:Math.abs(d-n)<zs&&g-e>zs?[n,Math.abs(h-n)<zs?f:e]:Math.abs(g-e)<zs&&d-t>zs?[Math.abs(f-e)<zs?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var v,b,E,_=1/0;for(i=0,y=null;i<m;++i)(o=Bs[i])&&(E=(v=(a=o.site)[0]-t)*v+(b=a[1]-e)*b)<_&&(_=E,y=o);if(y){var w=[t,e],S=[t,r],x=[n,r],T=[n,e];y.halfedges.push(Gs.push(Dr(a=y.site,w,S))-1,Gs.push(Dr(a,S,x))-1,Gs.push(Dr(a,x,T))-1,Gs.push(Dr(a,T,w))-1)}}for(i=0;i<m;++i)(o=Bs[i])&&(o.halfedges.length||delete Bs[i])}(a,s,u,l)}this.edges=Gs,this.cells=Bs,Vs=Us=Gs=Bs=null}function $r(t){return(t=t.slice()).push(t[0]),o([t])}function ti(t,e,n,r){var i=(r=r||{}).steps||64,a=r.units||"kilometers",s=r.angle||0,u=r.pivot||t,l=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!x(r))throw new Error("options must be an object");if(!S(i))throw new Error("steps must be a number");if(!S(s))throw new Error("angle must be a number");var c=W(t);if("degrees"===a)var h=E(s);else e=Hn(t,e,90,{units:a}),n=Hn(t,n,0,{units:a}),e=W(e)[0]-c[0],n=W(n)[1]-c[1];for(var f=[],p=0;p<i;p+=1){var d=-360*p/i,g=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(ei(d),2)),m=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(ei(d),2));if(d<-90&&d>=-270&&(g=-g),d<-180&&d>=-360&&(m=-m),"degrees"===a){var y=g*Math.cos(h)+m*Math.sin(h),v=m*Math.cos(h)-g*Math.sin(h);g=y,m=v}f.push([g+c[0],m+c[1]])}return f.push(f[0]),"degrees"===a?o([f],l):nr(o([f],l),s,{pivot:u})}function ei(t){var e=t*Math.PI/180;return Math.tan(e)}function ni(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.weight;if(!t)throw new Error("geojson is required");var o=0,a=0,s=0;return I(t,(function(t,e,n){var r=n[i];if(!S(r=void 0===r||null===r?1:r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&C(t,(function(t){o+=t[0]*r,a+=t[1]*r,s+=r}))})),r([o/s,a/s],n)}function ri(t,e,n,i){var o=n.properties.tolerance||.001,a=0,s=0,u=0,l=0;if(R(n,(function(e){var n=e.properties.weight,r=void 0===n||null===n?1:n;if(!S(r=Number(r)))throw new Error("weight value must be a number");if(r>0){l+=1;var i=r*Nt(e,t);0===i&&(i=1);var o=r/i;a+=e.geometry.coordinates[0]*o,s+=e.geometry.coordinates[1]*o,u+=o}})),l<1)throw new Error("no features to measure");var c=a/u,h=s/u;return 1===l||0===i||Math.abs(c-e[0])<o&&Math.abs(h-e[1])<o?r([c,h],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,h]),ri([c,h],t,n,i-1))}function ii(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function oi(t){if(x(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*li(),180*li()]}function ai(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox;void 0!==t&&null!==t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(oi(n)));return l(i)}function si(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;void 0!==t&&null!==t||(t=1),S(r)||(r=10),S(i)||(i=10);for(var a=[],s=0;s<t;s++){var u=[],c=Array.apply(null,new Array(r+1)).map(Math.random);c.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),c.forEach((function(t){t=2*t*Math.PI/c[c.length-1];var e=Math.random();u.push([e*i*Math.sin(t),e*i*Math.cos(t)])})),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(oi(n))),a.push(o([u]))}return l(a)}function ui(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;void 0!==t&&null!==t||(t=1),(!S(r)||r<2)&&(r=10),S(i)||(i=1e-4),S(o)||(o=Math.PI/8);for(var a=[],u=0;u<t;u++){for(var c=[oi(n)],h=0;h<r-1;h++){var f=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*i;c.push([c[h][0]+p*Math.cos(f),c[h][1]+p*Math.sin(f)])}a.push(s(c))}return l(a)}function li(){return Math.random()-.5}function ci(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("filter is required");var n=[];return R(t,(function(t){di(t.properties,e)&&n.push(t)})),l(n)}function hi(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("property is required");for(var r=pi(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var a=i[o],s=r[a],u=[],c=0;c<s.length;c++)u.push(t.features[s[c]]);n(l(u),a,o)}}function fi(t,e,n,r){var i=r;return hi(t,e,(function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)})),i}function pi(t,e){var n={};return R(t,(function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}})),n}function di(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!di(t,e[r]))return!1;return!0}return gi(t,e)}function gi(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function mi(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function yi(){}function vi(t){this.message=t||""}function bi(t){this.message=t||""}function Ei(){}function _i(t){return null===t?pl:t.color}function wi(t){return null===t?null:t.parent}function Si(t,e){null!==t&&(t.color=e)}function xi(t){return null===t?null:t.left}function Ti(t){return null===t?null:t.right}function Oi(){this.root_=null,this.size_=0}function Ci(){}function Ai(){this.array_=[],arguments[0]instanceof Qu&&this.addAll(arguments[0])}function Li(){}function Pi(t){this.message=t||""}function Ri(){this.array_=[]}function Mi(t){switch(t.type){case"Polygon":return ln(t)>1?t:null;case"MultiPolygon":var e=[];if(D(t,(function(t){ln(t)>1&&e.push(t.geometry.coordinates)})),e.length)return{type:"MultiPolygon",coordinates:e}}}function ki(){this.reset()}function Ii(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function Ni(t){return t>1?bp:t<-1?-bp:Math.asin(t)}function Di(){}function ji(t,e){t&&Ip.hasOwnProperty(t.type)&&Ip[t.type](t,e)}function Fi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Vi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Fi(t[n],e,1);e.polygonEnd()}function Bi(t){return[Op(t[1],t[0]),Ni(t[2])]}function Ui(t){var e=t[0],n=t[1],r=Cp(n);return[r*Cp(e),r*Pp(e),Pp(n)]}function Gi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Wi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ki(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function zi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Hi(t){var e=Rp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Yi(t,e){return[t>vp?t-_p:t<-vp?t+_p:t,e]}function qi(t,e,n){return(t%=_p)?e||n?Dp(Zi(t),Ji(e,n)):Zi(t):e||n?Ji(e,n):Yi}function Xi(t){return function(e,n){return[(e+=t)>vp?e-_p:e<-vp?e+_p:e,n]}}function Zi(t){var e=Xi(t);return e.invert=Xi(-t),e}function Ji(t,e){function n(t,e){var n=Cp(e),s=Cp(t)*n,u=Pp(t)*n,l=Pp(e),c=l*r+s*i;return[Op(u*o-c*a,s*r-l*i),Ni(c*o+u*a)]}var r=Cp(t),i=Pp(t),o=Cp(e),a=Pp(e);return n.invert=function(t,e){var n=Cp(e),s=Cp(t)*n,u=Pp(t)*n,l=Pp(e),c=l*o-u*a;return[Op(u*o+l*a,s*r+c*i),Ni(c*r-s*i)]},n}function Qi(t,e){(e=Ui(e))[0]-=t,Hi(e);var n=function(t){return t>1?0:t<-1?vp:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+_p-yp)%_p}function $i(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function to(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function eo(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var c=0,h=0;if(null==i||(c=a(i,s))!==(h=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return xp(r[0]-t)<yp?i>0?0:3:xp(r[0]-n)<yp?i>0?2:1:xp(r[1]-e)<yp?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){i(t,e)&&_.point(t,e)}function l(o,a){var s=i(o,a);if(h&&f.push([o,a]),b)p=o,d=a,g=s,b=!1,s&&(_.lineStart(),_.point(o,a));else if(s&&v)_.point(o,a);else{var u=[m=Math.max(Kp,Math.min(Wp,m)),y=Math.max(Kp,Math.min(Wp,y))],l=[o=Math.max(Kp,Math.min(Wp,o)),a=Math.max(Kp,Math.min(Wp,a))];Fp(u,l,t,e,n,r)?(v||(_.lineStart(),_.point(u[0],u[1])),_.point(l[0],l[1]),s||_.lineEnd(),E=!1):s&&(_.lineStart(),_.point(o,a),E=!1)}m=o,y=a,v=s}var c,h,f,p,d,g,m,y,v,b,E,_=a,w=jp(),S={point:u,lineStart:function(){S.point=l,h&&h.push(f=[]),b=!0,v=!1,m=y=NaN},lineEnd:function(){c&&(l(p,d),g&&v&&w.rejoin(),c.push(w.result())),S.point=u,v&&_.lineEnd()},polygonStart:function(){_=w,c=[],h=[],E=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=h.length;n<i;++n)for(var o,a,s=h[n],u=1,l=s.length,c=s[0],f=c[0],p=c[1];u<l;++u)o=f,a=p,f=(c=s[u])[0],p=c[1],a<=r?p>r&&(f-o)*(r-a)>(p-a)*(t-o)&&++e:p<=r&&(f-o)*(r-a)<(p-a)*(t-o)&&--e;return e}(),n=E&&e,i=(c=Gp(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Bp(c,s,e,o,a),a.polygonEnd()),_=a,c=h=f=null}};return S}}function no(t){return t.length>1}function ro(t,e){return((t=t.x)[0]<0?t[1]-bp-yp:bp-t[1])-((e=e.x)[0]<0?e[1]-bp-yp:bp-e[1])}function io(t){return function(e){var n=new oo;for(var r in t)n[r]=t[r];return n.stream=e,n}}function oo(){}function ao(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Np(n,t.stream(Jp));var a=Jp.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function so(t,e){return[t,Lp(Mp((bp+e)/2))]}function uo(t,e){return[Lp(Mp((bp+e)/2)),-t]}function lo(t,n,r,i){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var s=[];return I(t,(function(t){var e=lo(t,n,r,i);e&&s.push(e)})),l(s)}var u,c=G(t),h=c[1]>50&&c[3]>50;u=h?{type:a.type,coordinates:co(a.coordinates,fo(a))}:$e(a);var f,p=(new nc).read(u),d=g(m(n,r),"meters"),y=Yh.bufferOp(p,d);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((y=(new rc).write(y)).coordinates))return(f=h?{type:y.type,coordinates:ho(y.coordinates,fo(a))}:tn(y)).geometry?f:e(f,o)}function co(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return co(t,e)}))}function ho(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return ho(t,e)}))}function fo(t){var e=le(t).geometry.coordinates.reverse(),n=e.map((function(t){return-t}));return id().center(e).rotate(n).scale(wo)}function po(){for(var t=new nc,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=dp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new rc).write(e),properties:arguments[0].properties}}function go(t,n){var r=X(t),i=X(n);if(Xt(En(i,{precision:4})).coordinates[0].length<4)return null;if(Xt(En(r,{precision:4})).coordinates[0].length<4)return null;var o=new nc,a=o.read(En(r)),s=o.read(En(i)),u=op.intersection(a,s);return u.isEmpty()?null:e((new rc).write(u))}function mo(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach((function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===i||o<i)&&(i=o,r=n)})),r}(t,e)}function yo(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,a=n.mask;if(null===e||void 0===e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(a&&-1===["Polygon","MultiPolygon"].indexOf(J(a)))throw new Error("options.mask must be a (Multi)Polygon");var s=t[0],u=t[1],c=t[2],h=t[3],f=(u+h)/2,p=(s+c)/2,d=2*e/Nt([s,f],[c,f],n)*(c-s),g=2*e/Nt([p,u],[p,h],n)*(h-u),m=d/2,y=2*m,v=Math.sqrt(3)/2*g,b=c-s,E=h-u,_=.75*y,w=v,T=(b-y)/(y-m/2),O=Math.floor(T),C=(O*_-m/2-b)/2-m/2+_/2,A=Math.floor((E-v)/v),L=(E-A*v)/2,P=A*v-E>v/2;P&&(L-=v/4);for(var R=[],M=[],k=0;k<6;k++){var I=2*Math.PI/6*k;R.push(Math.cos(I)),M.push(Math.sin(I))}for(var N=[],D=0;D<=O;D++)for(var j=0;j<=A;j++){var F=D%2==1;if((0!==j||!F)&&(0!==j||!P)){var V=D*_+s-C,B=j*w+u+L;if(F&&(B-=v/2),!0===i)(function(t,e,n,r,i,a){for(var s=[],u=0;u<6;u++){var l=[];l.push(t),l.push([t[0]+e*i[u],t[1]+n*a[u]]),l.push([t[0]+e*i[(u+1)%6],t[1]+n*a[(u+1)%6]]),l.push(t),s.push(o([l],r))}return s})([V,B],d/2,g/2,r,R,M).forEach((function(t){a?go(a,t)&&N.push(t):N.push(t)}));else{var U=function(t,e,n,r,i,a){for(var s=[],u=0;u<6;u++){var l=t[0]+e*i[u],c=t[1]+n*a[u];s.push([l,c])}return s.push(s[0].slice()),o([s],r)}([V,B],d/2,g/2,r,R,M);a?go(a,U)&&N.push(U):N.push(U)}}}return l(N)}function vo(t){if(t.features.length<=1)return t;var e=function(t){var e=Mo(),n=[];return D(t,(function(t,e){var r=G(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})})),e.load(n),e}(t),n=[],r={};return D(t,(function(t,i){if(r[i])return!0;for(e.remove({index:i},bo),r[i]=!0;;){var o=G(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var s=a.map((function(t){return r[t.index]=!0,e.remove({index:t.index},bo),t.geojson}));s.push(t),t=po.apply(this,s)}if(0===a.length)break}n.push(t)})),l(n)}function bo(t,e){return t.index===e.index}function Eo(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(J(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],c=t[2],h=t[3],f=e/Nt([s,u],[c,u],n)*(c-s),p=e/Nt([s,u],[s,h],n)*(h-u),d=c-s,g=h-u,m=Math.floor(d/f),y=Math.floor(g/p),v=(g-y*p)/2,b=s+(d-m*f)/2,E=0;E<m;E++){for(var _=u+v,w=0;w<y;w++){var T=o([[[b,_],[b,_+p],[b+f,_+p],[b+f,_],[b,_]]],r);i?go(i,T)&&a.push(T):a.push(T),_+=p}b+=f}return l(a)}function _o(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(J(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e/Nt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/Nt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,h=t[0];h<=t[2];){for(var f=0,p=t[1];p<=t[3];){var d=null,g=null;c%2==0&&f%2==0?(d=o([[[h,p],[h,p+u],[h+s,p],[h,p]]],r),g=o([[[h,p+u],[h+s,p+u],[h+s,p],[h,p+u]]],r)):c%2==0&&f%2==1?(d=o([[[h,p],[h+s,p+u],[h+s,p],[h,p]]],r),g=o([[[h,p],[h,p+u],[h+s,p+u],[h,p]]],r)):f%2==0&&c%2==1?(d=o([[[h,p],[h,p+u],[h+s,p+u],[h,p]]],r),g=o([[[h,p],[h+s,p+u],[h+s,p],[h,p]]],r)):f%2==1&&c%2==1&&(d=o([[[h,p],[h,p+u],[h+s,p],[h,p]]],r),g=o([[[h,p+u],[h+s,p+u],[h+s,p],[h,p+u]]],r)),i?(go(i,d)&&a.push(d),go(i,g)&&a.push(g)):(a.push(d),a.push(g)),p+=u,f++}c++,h+=s}return l(a)}var wo=6371008.8,So={meters:wo,metres:wo,millimeters:1e3*wo,millimetres:1e3*wo,centimeters:100*wo,centimetres:100*wo,kilometers:wo/1e3,kilometres:wo/1e3,miles:wo/1609.344,nauticalmiles:wo/1852,inches:39.37*wo,yards:wo/1.0936,feet:3.28084*wo,radians:1,degrees:wo/111325},xo={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/wo,degrees:1/111325},To={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Oo=Object.freeze({earthRadius:wo,factors:So,unitsFactors:xo,areaFactors:To,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:a,lineString:s,lineStrings:u,featureCollection:l,multiLineString:c,multiPoint:h,multiPolygon:f,geometryCollection:p,round:d,radiansToLength:g,lengthToRadians:m,lengthToDegrees:y,bearingToAzimuth:v,radiansToDegrees:b,degreesToRadians:E,convertLength:_,convertArea:w,isNumber:S,isObject:x,validateBBox:T,validateId:O,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Co=Object.freeze({coordEach:C,coordReduce:A,propEach:L,propReduce:P,featureEach:R,featureReduce:M,coordAll:k,geomEach:I,geomReduce:N,flattenEach:D,flattenReduce:j,segmentEach:F,segmentReduce:V,lineEach:B,lineReduce:U}),Ao=Object.freeze({getCoord:W,getCoords:K,containsNumber:z,geojsonType:H,featureOf:Y,collectionOf:q,getGeom:X,getGeomType:Z,getType:J}),Lo={successCallback:null,verbose:!1},Po={},Ro=function t(e,n,r,i,o){for(r=r||0,i=i||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(i,Math.floor(n+(a-s)*l/a+c)),o)}var h=e[n],f=r,p=i;for(rt(e,r,n),o(e[i],h)>0&&rt(e,r,i);f<p;){for(rt(e,f,p),f++,p--;o(e[f],h)<0;)f++;for(;o(e[p],h)>0;)p--}0===o(e[r],h)?rt(e,r,p):rt(e,++p,i),p<=n&&(r=p+1),n<=p&&(i=p-1)}},Mo=it;it.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!pt(t,e))return n;for(var i,o,a,s,u=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],pt(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):ft(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!pt(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],pt(t,a=e.leaf?n(o):o)){if(e.leaf||ft(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=dt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),u.push(a),this._condense(u),this;o||a.leaf||!ft(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:ut,compareMinY:lt,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return ot(i=dt(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=dt([])).leaf=!1,i.height=r;var s,u,l,c,h=Math.ceil(o/a),f=h*Math.ceil(Math.sqrt(a));for(gt(t,e,n,f,this.compareMinX),s=e;s<=n;s+=f)for(gt(t,s,l=Math.min(s+f-1,n),h,this.compareMinY),u=s;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,r-1));return ot(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,u,l,c,h;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=ct(a=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<h?(h=l,c=u<c?u:c,s=a):l===h&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),st(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=dt(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,ot(n,this.toBBox),ot(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=dt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=at(t,0,r,this.toBBox),o=at(t,r,n,this.toBBox)),s=ct(i)+ct(o),a<u?(u=a,c=r,l=s<l?s:l):a===u&&s<l&&(l=s,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:ut,i=t.leaf?this.compareMinY:lt;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=at(t,0,e,a),u=at(t,n-e,n,a),l=ht(s)+ht(u);for(i=e;i<n-e;i++)o=t.children[i],st(s,t.leaf?a(o):o),l+=ht(s);for(i=n-e-1;i>=e;i--)o=t.children[i],st(u,t.leaf?a(o):o),l+=ht(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)st(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ot(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var ko=function(t,e,n){var r=t*e,i=Io*t,o=i-(i-t),a=t-o,s=Io*e,u=s-(s-e),l=e-u,c=a*l-(r-o*u-a*u-o*l);return n?(n[0]=c,n[1]=r,n):[c,r]},Io=+(Math.pow(2,27)+1),No=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,a=new Array(n+r),s=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),p=e[l],d=c(p);f<d?(o=h,(u+=1)<n&&(f=c(h=t[u]))):(o=p,(l+=1)<r&&(d=c(p=e[l]))),u<n&&f<d||l>=r?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=e[l])));for(var g,m,y=i+o,v=y-i,b=o-v,E=b,_=y;u<n&&l<r;)f<d?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=e[l]))),(b=(o=E)-(v=(y=i+o)-i))&&(a[s++]=b),E=_-((g=_+y)-(m=g-_))+(y-m),_=g;for(;u<n;)(b=(o=E)-(v=(y=(i=h)+o)-i))&&(a[s++]=b),E=_-((g=_+y)-(m=g-_))+(y-m),_=g,(u+=1)<n&&(h=t[u]);for(;l<r;)(b=(o=E)-(v=(y=(i=p)+o)-i))&&(a[s++]=b),E=_-((g=_+y)-(m=g-_))+(y-m),_=g,(l+=1)<r&&(p=e[l]);return E&&(a[s++]=E),_&&(a[s++]=_),s||(a[s++]=0),a.length=s,a},Do=function(t,e,n){var r=t+e,i=r-t,o=e-i,a=t-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]},jo=function(t,e){var n=t.length;if(1===n){var r=ko(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;ko(t[0],e,o),o[0]&&(i[s++]=o[0]);for(var u=1;u<n;++u){ko(t[u],e,a);var l=o[1];Do(l,a[0],o),o[0]&&(i[s++]=o[0]);var c=a[1],h=o[1],f=c+h,p=h-(f-c);o[1]=f,p&&(i[s++]=p)}return o[1]&&(i[s++]=o[1]),0===s&&(i[s++]=0),i.length=s,i},Fo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,a=new Array(n+r),s=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),p=-e[l],d=c(p);f<d?(o=h,(u+=1)<n&&(f=c(h=t[u]))):(o=p,(l+=1)<r&&(d=c(p=-e[l]))),u<n&&f<d||l>=r?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=-e[l])));for(var g,m,y=i+o,v=y-i,b=o-v,E=b,_=y;u<n&&l<r;)f<d?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=-e[l]))),(b=(o=E)-(v=(y=i+o)-i))&&(a[s++]=b),E=_-((g=_+y)-(m=g-_))+(y-m),_=g;for(;u<n;)(b=(o=E)-(v=(y=(i=h)+o)-i))&&(a[s++]=b),E=_-((g=_+y)-(m=g-_))+(y-m),_=g,(u+=1)<n&&(h=t[u]);for(;l<r;)(b=(o=E)-(v=(y=(i=p)+o)-i))&&(a[s++]=b),E=_-((g=_+y)-(m=g-_))+(y-m),_=g,(l+=1)<r&&(p=-e[l]);return E&&(a[s++]=E),_&&(a[s++]=_),s||(a[s++]=0),a.length=s,a},Vo=mt((function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],a=0;a<t.length;++a)o.push(["scale(",r(i(e(t,a))),",",n(a),t[0][a],")"].join(""));return o}function o(t){for(var n=[],o=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),s=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,i(e(a,u))):o.push.apply(o,i(e(a,u))),s.push("m"+u);var l=r(n),c=r(o),h="orientation"+t+"Exact",f=["function ",h,"(",s.join(),"){var p=",l,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",f)(No,ko,jo,Fo)}var a=o(3),s=o(4),u=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=i-o;if(i>0){if(o<=0)return s;r=i+o}else{if(!(i<0))return s;if(o>=0)return s;r=-(i+o)}var u=33306690738754716e-32*r;return s>=u||s<=-u?s:a(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],u=t[1]-r[1],l=e[1]-r[1],c=n[1]-r[1],h=t[2]-r[2],f=e[2]-r[2],p=n[2]-r[2],d=o*c,g=a*l,m=a*u,y=i*c,v=i*l,b=o*u,E=h*(d-g)+f*(m-y)+p*(v-b),_=7771561172376103e-31*((Math.abs(d)+Math.abs(g))*Math.abs(h)+(Math.abs(m)+Math.abs(y))*Math.abs(f)+(Math.abs(v)+Math.abs(b))*Math.abs(p));return E>_||-E>_?E:s(t,e,n,r)}];!function(){for(;u.length<=5;)u.push(o(u.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[function(t){var e=u[t.length];return e||(e=u[t.length]=o(t.length)),e.apply(void 0,t)}].concat(u)),r=0;r<=5;++r)t.exports[r]=u[r]}()})),Bo=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort((function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]}));var o=[i[0],i[1]],a=[i[0],i[1]];for(r=2;r<e;++r){for(var s=i[r],u=t[s],l=o.length;l>1&&Uo(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(s),l=a.length;l>1&&Uo(t[a[l-2]],t[a[l-1]],u)>=0;)l-=1,a.pop();a.push(s)}n=new Array(a.length+o.length-2);for(var c=0,h=(r=0,o.length);r<h;++r)n[c++]=o[r];for(var f=a.length-2;f>0;--f)n[c++]=a[f];return n},Uo=Vo[3],Go=yt,Wo=yt;yt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}},Go.default=Wo;var Ko=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],u=e[o][1],l=e[a][0],c=e[a][1];u>r!=c>r&&n<(l-s)*(r-u)/(c-u)+s&&(i=!i)}return i},zo=Vo[3],Ho=vt,Yo=vt;Ho.default=Yo;var qo=function(t){return t},Xo=function(t){if(null==t)return qo;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+a;u<l;)c[u]=t[u],++u;return c}},Zo=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},Jo=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){r[t<0?~t:t]=1})),a.push(i)}}var r={},i={},o={},a=[],s=-1;return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)})),e.forEach((function(e){var n,r,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=a[0],u=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var l=r===n?n:n.concat(r);i[l.start=n.start]=o[l.end=r.end]=l}else i[n.start]=o[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=s,r=o[s]){delete o[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=o[c.end=n.end]=c}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=s]=o[n.end=u]=n})),n(o,i),n(i,o),e.forEach((function(t){r[t<0?~t:t]||a.push([t])})),a},Qo=function(t){return Vt(t,Bt.apply(this,arguments))},$o=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),u=t-1,l=0;l<t;++l)a[l]=i;return{set:function(r,o){for(var l=e(r)&u,c=a[l],h=0;c!=i;){if(n(c,r))return s[l]=o;if(++h>=t)throw new Error("full hashmap");c=a[l=l+1&u]}return a[l]=r,s[l]=o,o},maybeSet:function(r,o){for(var l=e(r)&u,c=a[l],h=0;c!=i;){if(n(c,r))return s[l];if(++h>=t)throw new Error("full hashmap");c=a[l=l+1&u]}return a[l]=r,s[l]=o,o},get:function(r,o){for(var l=e(r)&u,c=a[l],h=0;c!=i;){if(n(c,r))return s[l];if(++h>=t)break;c=a[l=l+1&u]}return o},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}}},ta=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ea=new ArrayBuffer(16),na=new Float64Array(ea),ra=new Uint32Array(ea),ia=function(t){na[0]=t[0],na[1]=t[1];var e=ra[0]^ra[1];return 2147483647&(e<<5^e>>7^ra[2]^ra[3])},oa=function(t){var e,n,r,i=function(t){function e(t,e,n,r){if(f[n]!==t){f[n]=t;var i=p[n];if(i>=0){var o=d[n];i===e&&o===r||i===r&&o===e||(++m,g[n]=1)}else p[n]=e,d[n]=r}}function n(t){return ia(u[t])}function r(t,e){return ta(u[t],u[e])}var i,o,a,s,u=t.coordinates,l=t.lines,c=t.rings,h=function(){for(var t=$o(1.4*u.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(u.length),i=0,o=u.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),f=new Int32Array(u.length),p=new Int32Array(u.length),d=new Int32Array(u.length),g=new Int8Array(u.length),m=0;for(i=0,o=u.length;i<o;++i)f[i]=p[i]=d[i]=-1;for(i=0,o=l.length;i<o;++i){var y=l[i],v=y[0],b=y[1];for(a=h[v],s=h[++v],++m,g[a]=1;++v<=b;)e(i,a,a=s,s=h[v]);++m,g[s]=1}for(i=0,o=u.length;i<o;++i)f[i]=-1;for(i=0,o=c.length;i<o;++i){var E=c[i],_=E[0]+1,w=E[1];for(e(i,h[w-1],a=h[_-1],s=h[_]);++_<=w;)e(i,a,a=s,s=h[_])}f=p=d=null;var S,x=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=i;return{add:function(r){for(var s=e(r)&a,u=o[s],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)throw new Error("full hashset");u=o[s=s+1&a]}return o[s]=r,!0},has:function(r){for(var s=e(r)&a,u=o[s],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)break;u=o[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*m,ia,ta);for(i=0,o=u.length;i<o;++i)g[S=h[i]]&&x.add(u[S]);return x}(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,r=a.length;n<r;++n)for(var u=a[n],l=u[0],c=u[1];++l<c;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,r=s.length;n<r;++n)for(var h=s[n],f=h[0],p=f,d=h[1],g=i.has(o[f]);++p<d;)i.has(o[p])&&(g?(e={0:p,1:h[1]},h[1]=p,h=h.next=e):(function(t,e,n,r){Ut(t,e,n),Ut(t,e,e+r),Ut(t,e+r,n)}(o,f,d,d-p),o[d]=o[f],g=!0,p=f));return t},aa=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function r(t){var e=[];do{var n=l.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>s&&(s=e),n<a&&(a=n),n>u&&(u=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,a=1/0,s=-1/0,u=-1/0,l={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var c in t)e(t[c]);return s>=o&&u>=a?[o,a,s,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Gt(t[e]);return n}(t)),a=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-l)*p),Math.round((t[1]-c)*d)]}function i(t,e){for(var n,r,i,o,a,s=-1,u=0,h=t.length,f=new Array(h);++s<h;)n=t[s],o=Math.round((n[0]-l)*p),a=Math.round((n[1]-c)*d),o===r&&a===i||(f[u++]=[r=o,i=a]);for(f.length=u;u<e;)u=f.push([f[0][0],f[0][1]]);return f}function o(t){return i(t,2)}function a(t){return i(t,4)}function s(t){return t.map(a)}function u(t){null!=t&&g.hasOwnProperty(t.type)&&g[t.type](t)}var l=e[0],c=e[1],h=e[2],f=e[3],p=h-l?(n-1)/(h-l):1,d=f-c?(n-1)/(f-c):1,g={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var m in t)u(t[m]);return{scale:[1/p,1/d],translate:[l,c]}}(t,o,e),s=function(t){function e(t){var e,n,r,i,o,a,s,u;if(r=p.get(e=l[t[0]]))for(s=0,u=r.length;s<u;++s)if(function(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!ta(l[n],l[r]))return!1;return!0}(i=r[s],t))return t[0]=i[0],void(t[1]=i[1]);if(o=p.get(n=l[t[1]]))for(s=0,u=o.length;s<u;++s)if(function(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,--o)if(!ta(l[n],l[o]))return!1;return!0}(a=o[s],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):p.set(e,[t]),o?o.push(t):p.set(n,[t]),d.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var a=i(t),s=i(e),u=0;u<o;++u)if(!ta(l[n+(u+a)%o],l[r+(u+s)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[0],o=t[1],a=e[1],s=o-n;if(s!==a-r)return!1;for(var u=i(t),c=s-i(e),h=0;h<s;++h)if(!ta(l[n+(h+u)%s],l[a-(h+c)%s]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=l[r];++r<n;){var a=l[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-e}var o,a,s,u,l=t.coordinates,c=t.lines,h=t.rings,f=c.length+h.length;for(delete t.lines,delete t.rings,s=0,u=c.length;s<u;++s)for(o=c[s];o=o.next;)++f;for(s=0,u=h.length;s<u;++s)for(a=h[s];a=a.next;)++f;var p=$o(2*f*1.4,ia,ta),d=t.arcs=[];for(s=0,u=c.length;s<u;++s){o=c[s];do{e(o)}while(o=o.next)}for(s=0,u=h.length;s<u;++s)if((a=h[s]).next)do{e(a)}while(a=a.next);else!function(t){var e,o,a,s,u;if(o=p.get(l[t[0]]))for(s=0,u=o.length;s<u;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}if(o=p.get(e=l[t[0]+i(t)]))for(s=0,u=o.length;s<u;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}o?o.push(t):p.set(e,[t]),d.push(t)}(a);return t}(oa(function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function i(t){return t.map(r)}var o=-1,a=[],s=[],u=[],l={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:u,lines:a,rings:s,objects:t}}(t))),u=s.coordinates,l=$o(1.4*s.arcs.length,zt,Ht);t=s.objects,s.bbox=o,s.arcs=s.arcs.map((function(t,e){return l.set(t,e),u.slice(t[0],t[1]+1)})),delete s.coordinates,u=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var h in t)n(t[h]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],a=0,s=1,u=o.length,l=o[0],c=l[0],h=l[1];++a<u;)r=(l=o[a])[0],i=l[1],r===c&&i===h||(o[s++]=[r-c,i-h],c=r,h=i);1===s&&(o[s++]=[0,0]),o.length=s}return t}(s.arcs)),s},sa=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};sa.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},sa.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},sa.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var ua=fe,la=fe;fe.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(Oe(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(Oe(t,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},fe.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},ua.default=la,Re.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Be(t,e))return n;for(var i,o,a,s,u=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],Be(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):Ve(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Be(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],Be(t,a=e.leaf?n(o):o)){if(e.leaf||Ve(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Ue([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),u.push(a),this._condense(u),this;o||a.leaf||!Ve(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:Ne,compareMinY:De,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return Me(i=Ue(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=Ue([])).leaf=!1,i.height=r;var s,u,l,c,h=Math.ceil(o/a),f=h*Math.ceil(Math.sqrt(a));for(Ge(t,e,n,f,this.compareMinX),s=e;s<=n;s+=f)for(Ge(t,s,l=Math.min(s+f-1,n),h,this.compareMinY),u=s;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,r-1));return Me(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,u,l,c,h;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=je(a=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<h?(h=l,c=u<c?u:c,s=a):l===h&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),Ie(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=Ue(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Me(n,this.toBBox),Me(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=Ue([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Me(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=ke(t,0,r,this.toBBox),o=ke(t,r,n,this.toBBox)),s=je(i)+je(o),a<u?(u=a,c=r,l=s<l?s:l):a===u&&s<l&&(l=s,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Ne,i=t.leaf?this.compareMinY:De;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=ke(t,0,e,a),u=ke(t,n-e,n,a),l=Fe(s)+Fe(u);for(i=e;i<n-e;i++)o=t.children[i],Ie(s,t.leaf?a(o):o),l+=Fe(s);for(i=n-e-1;i>=e;i--)o=t.children[i],Ie(u,t.leaf?a(o):o),l+=Fe(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Ie(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Me(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var ca=Object.freeze({toMercator:$e,toWgs84:tn}),ha=6378137,fa=function(t){function e(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<d.features.length;r++)t[e]!=r&&At(d.features[t[e]].geometry.coordinates[0][0],d.features[r],{ignoreBoundary:!0})&&ln(d.features[r])<1/0&&(n=r);d.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var i=e+d.features[n].properties.winding;d.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=t.geometry.coordinates.length,a=[],s=0;s<i;s++){var u=t.geometry.coordinates[s];Sn(u[0],u[u.length-1])||u.push(u[0]),a.push.apply(a,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(a))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=a.length,h=function(t,e,n){function r(t,n,r,i){var u,l,c=o[t][n],h=o[t][n+1],f=o[r][i],p=o[r][i+1],d=function(t,e,n,r){if(_n(t,n)||_n(t,r)||_n(e,n)||_n(r,n))return null;var i=t[0],o=t[1],a=e[0],s=e[1],u=n[0],l=n[1],c=r[0],h=r[1],f=(i-a)*(l-h)-(o-s)*(u-c);return 0===f?null:[((i*s-o*a)*(u-c)-(i-a)*(u*h-l*c))/f,((i*s-o*a)*(l-h)-(o-s)*(u*h-l*c))/f]}(c,h,f,p);if(null!==d&&(u=h[0]!==c[0]?(d[0]-c[0])/(h[0]-c[0]):(d[1]-c[1])/(h[1]-c[1]),l=p[0]!==f[0]?(d[0]-f[0])/(p[0]-f[0]):(d[1]-f[1])/(p[1]-f[1]),!(u>=1||u<=0||l>=1||l<=0))){var g=d,m=!s[g];m&&(s[g]=!0),e?a.push(e(d,t,n,c,h,u,r,i,f,p,l,m)):a.push(d)}}function i(t,e){var n,r,i,a,s=o[t][e],u=o[t][e+1];return s[0]<u[0]?(n=s[0],r=u[0]):(n=u[0],r=s[0]),s[1]<u[1]?(i=s[1],a=u[1]):(i=u[1],a=s[1]),{minX:n,minY:i,maxX:r,maxY:a,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,a=[],s={};if(n){for(var u=[],l=0;l<o.length;l++)for(var c=0;c<o[l].length-1;c++)u.push(i(l,c));var h=Mo();h.load(u)}for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length-1;p++)if(n)h.search(i(f,p)).forEach((function(t){var e=t.ring,n=t.edge;r(f,p,e,n)}));else for(var d=0;d<o.length;d++)for(var g=0;g<o[d].length-1;g++)r(f,p,d,g);return e||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a}(t,(function(t,e,n,r,i,o,a,s,u,l,c,h){return[t,e,n,r,i,o,a,s,u,l,c,h]})),f=h.length;if(0==f){var p=[];for(s=0;s<i;s++)p.push(o([t.geometry.coordinates[s]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(wn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[s])}));var d=l(p);return e(),n(),d}var g=[],m=[];for(s=0;s<i;s++){g.push([]);for(var y=0;y<t.geometry.coordinates[s].length-1;y++)g[s].push([new pa(t.geometry.coordinates[s][(y+1).modulo(t.geometry.coordinates[s].length-1)],1,[s,y],[s,(y+1).modulo(t.geometry.coordinates[s].length-1)],void 0)]),m.push(new da(t.geometry.coordinates[s][y],[s,(y-1).modulo(t.geometry.coordinates[s].length-1)],[s,y],void 0,void 0,!1,!0))}for(s=0;s<f;s++)g[h[s][1]][h[s][2]].push(new pa(h[s][0],h[s][5],[h[s][1],h[s][2]],[h[s][6],h[s][7]],void 0)),h[s][11]&&m.push(new da(h[s][0],[h[s][1],h[s][2]],[h[s][6],h[s][7]],void 0,void 0,!0,!0));var v=m.length;for(s=0;s<g.length;s++)for(y=0;y<g[s].length;y++)g[s][y].sort((function(t,e){return t.param<e.param?-1:1}));var b=[];for(s=0;s<v;s++)b.push({minX:m[s].coord[0],minY:m[s].coord[1],maxX:m[s].coord[0],maxY:m[s].coord[1],index:s});var E=Mo();for(E.load(b),s=0;s<g.length;s++)for(y=0;y<g[s].length;y++)for(var _=0;_<g[s][y].length;_++){S=_==g[s][y].length-1?g[s][(y+1).modulo(t.geometry.coordinates[s].length-1)][0].coord:g[s][y][_+1].coord;var w=E.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0];g[s][y][_].nxtIsectAlongEdgeIn=w.index}for(s=0;s<g.length;s++)for(y=0;y<g[s].length;y++)for(_=0;_<g[s][y].length;_++){var S=g[s][y][_].coord,x=(w=E.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0]).index;x<c?m[x].nxtIsectAlongRingAndEdge2=g[s][y][_].nxtIsectAlongEdgeIn:Sn(m[x].ringAndEdge1,g[s][y][_].ringAndEdgeIn)?m[x].nxtIsectAlongRingAndEdge1=g[s][y][_].nxtIsectAlongEdgeIn:m[x].nxtIsectAlongRingAndEdge2=g[s][y][_].nxtIsectAlongEdgeIn}var T=[];for(s=0,y=0;y<i;y++){var O=s;for(_=0;_<t.geometry.coordinates[y].length-1;_++)m[s].coord[0]<m[O].coord[0]&&(O=s),s++;var C=m[O].nxtIsectAlongRingAndEdge2;for(_=0;_<m.length;_++)if(m[_].nxtIsectAlongRingAndEdge1==O||m[_].nxtIsectAlongRingAndEdge2==O){var A=_;break}var L=wn([m[A].coord,m[O].coord,m[C].coord],!0)?1:-1;T.push({isect:O,parent:-1,winding:L})}for(T.sort((function(t,e){return m[t.isect].coord>m[e.isect].coord?-1:1})),p=[];T.length>0;){var P=T.pop(),R=P.isect,M=P.parent,k=P.winding,I=p.length,N=[m[R].coord],D=R;if(m[R].ringAndEdge1Walkable)var j=m[R].ringAndEdge1,F=m[R].nxtIsectAlongRingAndEdge1;else j=m[R].ringAndEdge2,F=m[R].nxtIsectAlongRingAndEdge2;for(;!Sn(m[R].coord,m[F].coord);){N.push(m[F].coord);var V=void 0;for(s=0;s<T.length;s++)if(T[s].isect==F){V=s;break}if(void 0!=V&&T.splice(V,1),Sn(j,m[F].ringAndEdge1)){if(j=m[F].ringAndEdge2,m[F].ringAndEdge2Walkable=!1,m[F].ringAndEdge1Walkable){var B={isect:F};wn([m[D].coord,m[F].coord,m[m[F].nxtIsectAlongRingAndEdge2].coord],1==k)?(B.parent=M,B.winding=-k):(B.parent=I,B.winding=k),T.push(B)}D=F,F=m[F].nxtIsectAlongRingAndEdge2}else j=m[F].ringAndEdge1,m[F].ringAndEdge1Walkable=!1,m[F].ringAndEdge2Walkable&&(B={isect:F},wn([m[D].coord,m[F].coord,m[m[F].nxtIsectAlongRingAndEdge1].coord],1==k)?(B.parent=M,B.winding=-k):(B.parent=I,B.winding=k),T.push(B)),D=F,F=m[F].nxtIsectAlongRingAndEdge1}N.push(m[F].coord),p.push(o([N],{index:I,parent:M,winding:k,netWinding:void 0}))}return d=l(p),e(),n(),d},pa=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},da=function(t,e,n,r,i,o,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};Number.prototype.modulo=function(t){return(this%t+t)%t};var ga=Math.PI/180,ma=180/Math.PI,ya=function(t,e){this.lon=t,this.lat=e,this.x=ga*t,this.y=ga*e};ya.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},ya.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new ya(e,t)};var va=function(){this.coords=[],this.length=0};va.prototype.move_to=function(t){this.length++,this.coords.push(t)};var ba=function(t){this.properties=t||{},this.geometries=[]};ba.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},ba.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var Ea=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new ya(t.x,t.y),this.end=new ya(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};Ea.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=ma*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[ma*Math.atan2(i,r),a]},Ea.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,a=this.interpolate(o);n.push(a)}for(var s=!1,u=0,l=e&&e.offset?e.offset:10,c=180-l,h=-180+l,f=360-l,p=1;p<n.length;++p){var d=n[p-1][0],g=n[p][0],m=Math.abs(g-d);m>f&&(g>c&&d<h||d>c&&g<h)?s=!0:m>u&&(u=m)}var y=[];if(s&&u<l){var v=[];y.push(v);for(var b=0;b<n.length;++b){var E=parseFloat(n[b][0]);if(b>0&&Math.abs(E-n[b-1][0])>f){var _=parseFloat(n[b-1][0]),w=parseFloat(n[b-1][1]),S=parseFloat(n[b][0]),x=parseFloat(n[b][1]);if(_>-180&&_<h&&180===S&&b+1<n.length&&n[b-1][0]>-180&&n[b-1][0]<h){v.push([-180,n[b][1]]),b++,v.push([n[b][0],n[b][1]]);continue}if(_>c&&_<180&&-180===S&&b+1<n.length&&n[b-1][0]>c&&n[b-1][0]<180){v.push([180,n[b][1]]),b++,v.push([n[b][0],n[b][1]]);continue}if(_<h&&S>c){var T=_;_=S,S=T;var O=w;w=x,x=O}if(_>c&&S<h&&(S+=360),_<=180&&S>=180&&_<S){var C=(180-_)/(S-_),A=C*x+(1-C)*w;v.push([n[b-1][0]>c?180:-180,A]),(v=[]).push([n[b-1][0]>c?-180:180,A]),y.push(v)}else v=[],y.push(v);v.push([E,n[b][1]])}else v.push([n[b][0],n[b][1]])}}else{var L=[];y.push(L);for(var P=0;P<n.length;++P)L.push([n[P][0],n[P][1]])}for(var R=new ba(this.properties),M=0;M<y.length;++M){var k=new va;R.geometries.push(k);for(var I=y[M],N=0;N<I.length;++N)k.move_to(I[N])}return R};var _a=Nn;Nn.polyline=Nn,Nn.polygon=function(t,e){var n,r,i,o,a,s,u;for(r=1;r<=8;r*=2){for(n=[],o=!(jn(i=t[t.length-1],e)&r),a=0;a<t.length;a++)(u=!(jn(s=t[a],e)&r))!==o&&n.push(Dn(i,s,r,e)),u&&n.push(s),i=s,o=u;if(!(t=n).length)break}return n};var wa=Array.prototype.slice,Sa={successCallback:null,verbose:!1,polygons:!1},xa={},Ta=64,Oa=16,Ca=4,Aa=1,La=[],Pa=[],Ra=[],Ma=[],ka=[],Ia=[],Na=[],Da=[],ja=[],Fa=[],Va=[],Ba=[],Ua=[],Ga=[],Wa=[],Ka=[],za=[],Ha=[],Ya=[],qa=[],Xa=[],Za=[],Ja=[],Qa=[];Na[85]=Fa[85]=-1,Da[85]=Va[85]=0,ja[85]=Ba[85]=1,Ya[85]=Za[85]=1,qa[85]=Ja[85]=0,Xa[85]=Qa[85]=1,La[85]=Ma[85]=0,Pa[85]=ka[85]=-1,Ra[85]=Wa[85]=0,Ka[85]=Ua[85]=0,za[85]=Ga[85]=1,Ia[85]=Ha[85]=1,Za[1]=Za[169]=0,Ja[1]=Ja[169]=-1,Qa[1]=Qa[169]=0,Ua[1]=Ua[169]=-1,Ga[1]=Ga[169]=0,Wa[1]=Wa[169]=0,Fa[4]=Fa[166]=0,Va[4]=Va[166]=-1,Ba[4]=Ba[166]=1,Ka[4]=Ka[166]=1,za[4]=za[166]=0,Ha[4]=Ha[166]=0,Na[16]=Na[154]=0,Da[16]=Da[154]=1,ja[16]=ja[154]=1,Ma[16]=Ma[154]=1,ka[16]=ka[154]=0,Ia[16]=Ia[154]=1,Ya[64]=Ya[106]=0,qa[64]=qa[106]=1,Xa[64]=Xa[106]=0,La[64]=La[106]=-1,Pa[64]=Pa[106]=0,Ra[64]=Ra[106]=1,Ya[2]=Ya[168]=0,qa[2]=qa[168]=-1,Xa[2]=Xa[168]=1,Za[2]=Za[168]=0,Ja[2]=Ja[168]=-1,Qa[2]=Qa[168]=0,Ua[2]=Ua[168]=-1,Ga[2]=Ga[168]=0,Wa[2]=Wa[168]=0,Ka[2]=Ka[168]=-1,za[2]=za[168]=0,Ha[2]=Ha[168]=1,Na[8]=Na[162]=0,Da[8]=Da[162]=-1,ja[8]=ja[162]=0,Fa[8]=Fa[162]=0,Va[8]=Va[162]=-1,Ba[8]=Ba[162]=1,Ua[8]=Ua[162]=1,Ga[8]=Ga[162]=0,Wa[8]=Wa[162]=1,Ka[8]=Ka[162]=1,za[8]=za[162]=0,Ha[8]=Ha[162]=0,Na[32]=Na[138]=0,Da[32]=Da[138]=1,ja[32]=ja[138]=1,Fa[32]=Fa[138]=0,Va[32]=Va[138]=1,Ba[32]=Ba[138]=0,La[32]=La[138]=1,Pa[32]=Pa[138]=0,Ra[32]=Ra[138]=0,Ma[32]=Ma[138]=1,ka[32]=ka[138]=0,Ia[32]=Ia[138]=1,Za[128]=Za[42]=0,Ja[128]=Ja[42]=1,Qa[128]=Qa[42]=1,Ya[128]=Ya[42]=0,qa[128]=qa[42]=1,Xa[128]=Xa[42]=0,La[128]=La[42]=-1,Pa[128]=Pa[42]=0,Ra[128]=Ra[42]=1,Ma[128]=Ma[42]=-1,ka[128]=ka[42]=0,Ia[128]=Ia[42]=0,Fa[5]=Fa[165]=-1,Va[5]=Va[165]=0,Ba[5]=Ba[165]=0,Za[5]=Za[165]=1,Ja[5]=Ja[165]=0,Qa[5]=Qa[165]=0,Ka[20]=Ka[150]=0,za[20]=za[150]=1,Ha[20]=Ha[150]=1,Ma[20]=Ma[150]=0,ka[20]=ka[150]=-1,Ia[20]=Ia[150]=1,Na[80]=Na[90]=-1,Da[80]=Da[90]=0,ja[80]=ja[90]=1,Ya[80]=Ya[90]=1,qa[80]=qa[90]=0,Xa[80]=Xa[90]=1,Ua[65]=Ua[105]=0,Ga[65]=Ga[105]=1,Wa[65]=Wa[105]=0,La[65]=La[105]=0,Pa[65]=Pa[105]=-1,Ra[65]=Ra[105]=0,Na[160]=Na[10]=-1,Da[160]=Da[10]=0,ja[160]=ja[10]=1,Fa[160]=Fa[10]=-1,Va[160]=Va[10]=0,Ba[160]=Ba[10]=0,Za[160]=Za[10]=1,Ja[160]=Ja[10]=0,Qa[160]=Qa[10]=0,Ya[160]=Ya[10]=1,qa[160]=qa[10]=0,Xa[160]=Xa[10]=1,Ka[130]=Ka[40]=0,za[130]=za[40]=1,Ha[130]=Ha[40]=1,Ua[130]=Ua[40]=0,Ga[130]=Ga[40]=1,Wa[130]=Wa[40]=0,La[130]=La[40]=0,Pa[130]=Pa[40]=-1,Ra[130]=Ra[40]=0,Ma[130]=Ma[40]=0,ka[130]=ka[40]=-1,Ia[130]=Ia[40]=1,Fa[37]=Fa[133]=0,Va[37]=Va[133]=1,Ba[37]=Ba[133]=1,Za[37]=Za[133]=0,Ja[37]=Ja[133]=1,Qa[37]=Qa[133]=0,La[37]=La[133]=-1,Pa[37]=Pa[133]=0,Ra[37]=Ra[133]=0,Ma[37]=Ma[133]=1,ka[37]=ka[133]=0,Ia[37]=Ia[133]=0,Ka[148]=Ka[22]=-1,za[148]=za[22]=0,Ha[148]=Ha[22]=0,Za[148]=Za[22]=0,Ja[148]=Ja[22]=-1,Qa[148]=Qa[22]=1,Ya[148]=Ya[22]=0,qa[148]=qa[22]=1,Xa[148]=Xa[22]=1,Ma[148]=Ma[22]=-1,ka[148]=ka[22]=0,Ia[148]=Ia[22]=1,Na[82]=Na[88]=0,Da[82]=Da[88]=-1,ja[82]=ja[88]=1,Ka[82]=Ka[88]=1,za[82]=za[88]=0,Ha[82]=Ha[88]=1,Ua[82]=Ua[88]=-1,Ga[82]=Ga[88]=0,Wa[82]=Wa[88]=1,Ya[82]=Ya[88]=0,qa[82]=qa[88]=-1,Xa[82]=Xa[88]=0,Na[73]=Na[97]=0,Da[73]=Da[97]=1,ja[73]=ja[97]=0,Fa[73]=Fa[97]=0,Va[73]=Va[97]=-1,Ba[73]=Ba[97]=0,Ua[73]=Ua[97]=1,Ga[73]=Ga[97]=0,Wa[73]=Wa[97]=0,La[73]=La[97]=1,Pa[73]=Pa[97]=0,Ra[73]=Ra[97]=1,Na[145]=Na[25]=0,Da[145]=Da[25]=-1,ja[145]=ja[25]=0,Ua[145]=Ua[25]=1,Ga[145]=Ga[25]=0,Wa[145]=Wa[25]=1,Za[145]=Za[25]=0,Ja[145]=Ja[25]=1,Qa[145]=Qa[25]=1,Ma[145]=Ma[25]=-1,ka[145]=ka[25]=0,Ia[145]=Ia[25]=0,Fa[70]=Fa[100]=0,Va[70]=Va[100]=1,Ba[70]=Ba[100]=0,Ka[70]=Ka[100]=-1,za[70]=za[100]=0,Ha[70]=Ha[100]=1,Ya[70]=Ya[100]=0,qa[70]=qa[100]=-1,Xa[70]=Xa[100]=1,La[70]=La[100]=1,Pa[70]=Pa[100]=0,Ra[70]=Ra[100]=0,Fa[101]=Fa[69]=0,Va[101]=Va[69]=1,Ba[101]=Ba[69]=0,La[101]=La[69]=1,Pa[101]=Pa[69]=0,Ra[101]=Ra[69]=0,Za[149]=Za[21]=0,Ja[149]=Ja[21]=1,Qa[149]=Qa[21]=1,Ma[149]=Ma[21]=-1,ka[149]=ka[21]=0,Ia[149]=Ia[21]=0,Ka[86]=Ka[84]=-1,za[86]=za[84]=0,Ha[86]=Ha[84]=1,Ya[86]=Ya[84]=0,qa[86]=qa[84]=-1,Xa[86]=Xa[84]=1,Na[89]=Na[81]=0,Da[89]=Da[81]=-1,ja[89]=ja[81]=0,Ua[89]=Ua[81]=1,Ga[89]=Ga[81]=0,Wa[89]=Wa[81]=1,Na[96]=Na[74]=0,Da[96]=Da[74]=1,ja[96]=ja[74]=0,Fa[96]=Fa[74]=-1,Va[96]=Va[74]=0,Ba[96]=Ba[74]=1,Ya[96]=Ya[74]=1,qa[96]=qa[74]=0,Xa[96]=Xa[74]=0,La[96]=La[74]=1,Pa[96]=Pa[74]=0,Ra[96]=Ra[74]=1,Na[24]=Na[146]=0,Da[24]=Da[146]=-1,ja[24]=ja[146]=1,Ka[24]=Ka[146]=1,za[24]=za[146]=0,Ha[24]=Ha[146]=1,Ua[24]=Ua[146]=0,Ga[24]=Ga[146]=1,Wa[24]=Wa[146]=1,Ma[24]=Ma[146]=0,ka[24]=ka[146]=-1,Ia[24]=Ia[146]=0,Fa[6]=Fa[164]=-1,Va[6]=Va[164]=0,Ba[6]=Ba[164]=1,Ka[6]=Ka[164]=-1,za[6]=za[164]=0,Ha[6]=Ha[164]=0,Za[6]=Za[164]=0,Ja[6]=Ja[164]=-1,Qa[6]=Qa[164]=1,Ya[6]=Ya[164]=1,qa[6]=qa[164]=0,Xa[6]=Xa[164]=0,Ua[129]=Ua[41]=0,Ga[129]=Ga[41]=1,Wa[129]=Wa[41]=1,Za[129]=Za[41]=0,Ja[129]=Ja[41]=1,Qa[129]=Qa[41]=0,La[129]=La[41]=-1,Pa[129]=Pa[41]=0,Ra[129]=Ra[41]=0,Ma[129]=Ma[41]=0,ka[129]=ka[41]=-1,Ia[129]=Ia[41]=0,Ka[66]=Ka[104]=0,za[66]=za[104]=1,Ha[66]=Ha[104]=0,Ua[66]=Ua[104]=-1,Ga[66]=Ga[104]=0,Wa[66]=Wa[104]=1,Ya[66]=Ya[104]=0,qa[66]=qa[104]=-1,Xa[66]=Xa[104]=0,La[66]=La[104]=0,Pa[66]=Pa[104]=-1,Ra[66]=Ra[104]=1,Na[144]=Na[26]=-1,Da[144]=Da[26]=0,ja[144]=ja[26]=0,Za[144]=Za[26]=1,Ja[144]=Ja[26]=0,Qa[144]=Qa[26]=1,Ya[144]=Ya[26]=0,qa[144]=qa[26]=1,Xa[144]=Xa[26]=1,Ma[144]=Ma[26]=-1,ka[144]=ka[26]=0,Ia[144]=Ia[26]=1,Fa[36]=Fa[134]=0,Va[36]=Va[134]=1,Ba[36]=Ba[134]=1,Ka[36]=Ka[134]=0,za[36]=za[134]=1,Ha[36]=Ha[134]=0,La[36]=La[134]=0,Pa[36]=Pa[134]=-1,Ra[36]=Ra[134]=1,Ma[36]=Ma[134]=1,ka[36]=ka[134]=0,Ia[36]=Ia[134]=0,Na[9]=Na[161]=-1,Da[9]=Da[161]=0,ja[9]=ja[161]=0,Fa[9]=Fa[161]=0,Va[9]=Va[161]=-1,Ba[9]=Ba[161]=0,Ua[9]=Ua[161]=1,Ga[9]=Ga[161]=0,Wa[9]=Wa[161]=0,Za[9]=Za[161]=1,Ja[9]=Ja[161]=0,Qa[9]=Qa[161]=1,Na[136]=0,Da[136]=1,ja[136]=1,Fa[136]=0,Va[136]=1,Ba[136]=0,Ka[136]=-1,za[136]=0,Ha[136]=1,Ua[136]=-1,Ga[136]=0,Wa[136]=0,Za[136]=0,Ja[136]=-1,Qa[136]=0,Ya[136]=0,qa[136]=-1,Xa[136]=1,La[136]=1,Pa[136]=0,Ra[136]=0,Ma[136]=1,ka[136]=0,Ia[136]=1,Na[34]=0,Da[34]=-1,ja[34]=0,Fa[34]=0,Va[34]=-1,Ba[34]=1,Ka[34]=1,za[34]=0,Ha[34]=0,Ua[34]=1,Ga[34]=0,Wa[34]=1,Za[34]=0,Ja[34]=1,Qa[34]=1,Ya[34]=0,qa[34]=1,Xa[34]=0,La[34]=-1,Pa[34]=0,Ra[34]=1,Ma[34]=-1,ka[34]=0,Ia[34]=0,Na[35]=0,Da[35]=1,ja[35]=1,Fa[35]=0,Va[35]=-1,Ba[35]=1,Ka[35]=1,za[35]=0,Ha[35]=0,Ua[35]=-1,Ga[35]=0,Wa[35]=0,Za[35]=0,Ja[35]=-1,Qa[35]=0,Ya[35]=0,qa[35]=1,Xa[35]=0,La[35]=-1,Pa[35]=0,Ra[35]=1,Ma[35]=1,ka[35]=0,Ia[35]=1,Na[153]=0,Da[153]=1,ja[153]=1,Ua[153]=-1,Ga[153]=0,Wa[153]=0,Za[153]=0,Ja[153]=-1,Qa[153]=0,Ma[153]=1,ka[153]=0,Ia[153]=1,Fa[102]=0,Va[102]=-1,Ba[102]=1,Ka[102]=1,za[102]=0,Ha[102]=0,Ya[102]=0,qa[102]=1,Xa[102]=0,La[102]=-1,Pa[102]=0,Ra[102]=1,Na[155]=0,Da[155]=-1,ja[155]=0,Ua[155]=1,Ga[155]=0,Wa[155]=1,Za[155]=0,Ja[155]=1,Qa[155]=1,Ma[155]=-1,ka[155]=0,Ia[155]=0,Fa[103]=0,Va[103]=1,Ba[103]=0,Ka[103]=-1,za[103]=0,Ha[103]=1,Ya[103]=0,qa[103]=-1,Xa[103]=1,La[103]=1,Pa[103]=0,Ra[103]=0,Na[152]=0,Da[152]=1,ja[152]=1,Ka[152]=-1,za[152]=0,Ha[152]=1,Ua[152]=-1,Ga[152]=0,Wa[152]=0,Za[152]=0,Ja[152]=-1,Qa[152]=0,Ya[152]=0,qa[152]=-1,Xa[152]=1,Ma[152]=1,ka[152]=0,Ia[152]=1,Na[156]=0,Da[156]=-1,ja[156]=1,Ka[156]=1,za[156]=0,Ha[156]=1,Ua[156]=-1,Ga[156]=0,Wa[156]=0,Za[156]=0,Ja[156]=-1,Qa[156]=0,Ya[156]=0,qa[156]=1,Xa[156]=1,Ma[156]=-1,ka[156]=0,Ia[156]=1,Na[137]=0,Da[137]=1,ja[137]=1,Fa[137]=0,Va[137]=1,Ba[137]=0,Ua[137]=-1,Ga[137]=0,Wa[137]=0,Za[137]=0,Ja[137]=-1,Qa[137]=0,La[137]=1,Pa[137]=0,Ra[137]=0,Ma[137]=1,ka[137]=0,Ia[137]=1,Na[139]=0,Da[139]=1,ja[139]=1,Fa[139]=0,Va[139]=-1,Ba[139]=0,Ua[139]=1,Ga[139]=0,Wa[139]=0,Za[139]=0,Ja[139]=1,Qa[139]=0,La[139]=-1,Pa[139]=0,Ra[139]=0,Ma[139]=1,ka[139]=0,Ia[139]=1,Na[98]=0,Da[98]=-1,ja[98]=0,Fa[98]=0,Va[98]=-1,Ba[98]=1,Ka[98]=1,za[98]=0,Ha[98]=0,Ua[98]=1,Ga[98]=0,Wa[98]=1,Ya[98]=0,qa[98]=1,Xa[98]=0,La[98]=-1,Pa[98]=0,Ra[98]=1,Na[99]=0,Da[99]=1,ja[99]=0,Fa[99]=0,Va[99]=-1,Ba[99]=1,Ka[99]=1,za[99]=0,Ha[99]=0,Ua[99]=-1,Ga[99]=0,Wa[99]=1,Ya[99]=0,qa[99]=-1,Xa[99]=0,La[99]=1,Pa[99]=0,Ra[99]=1,Fa[38]=0,Va[38]=-1,Ba[38]=1,Ka[38]=1,za[38]=0,Ha[38]=0,Za[38]=0,Ja[38]=1,Qa[38]=1,Ya[38]=0,qa[38]=1,Xa[38]=0,La[38]=-1,Pa[38]=0,Ra[38]=1,Ma[38]=-1,ka[38]=0,Ia[38]=0,Fa[39]=0,Va[39]=1,Ba[39]=1,Ka[39]=-1,za[39]=0,Ha[39]=0,Za[39]=0,Ja[39]=-1,Qa[39]=1,Ya[39]=0,qa[39]=1,Xa[39]=0,La[39]=-1,Pa[39]=0,Ra[39]=1,Ma[39]=1,ka[39]=0,Ia[39]=0;var $a=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ts=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},es=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},ns=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},rs=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},is=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},os=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},as=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ss=[],us=[],ls=[],cs=[],hs=[],fs=[],ps=[],ds=[];cs[1]=hs[1]=18,cs[169]=hs[169]=18,ls[4]=us[4]=12,ls[166]=us[166]=12,ss[16]=ds[16]=4,ss[154]=ds[154]=4,fs[64]=ps[64]=22,fs[106]=ps[106]=22,ls[2]=fs[2]=17,cs[2]=hs[2]=18,ls[168]=fs[168]=17,cs[168]=hs[168]=18,ss[8]=cs[8]=9,us[8]=ls[8]=12,ss[162]=cs[162]=9,us[162]=ls[162]=12,ss[32]=ds[32]=4,us[32]=ps[32]=1,ss[138]=ds[138]=4,us[138]=ps[138]=1,hs[128]=ds[128]=21,fs[128]=ps[128]=22,hs[42]=ds[42]=21,fs[42]=ps[42]=22,us[5]=hs[5]=14,us[165]=hs[165]=14,ls[20]=ds[20]=6,ls[150]=ds[150]=6,ss[80]=fs[80]=11,ss[90]=fs[90]=11,cs[65]=ps[65]=3,cs[105]=ps[105]=3,ss[160]=fs[160]=11,us[160]=hs[160]=14,ss[10]=fs[10]=11,us[10]=hs[10]=14,ls[130]=ds[130]=6,cs[130]=ps[130]=3,ls[40]=ds[40]=6,cs[40]=ps[40]=3,us[101]=ps[101]=1,us[69]=ps[69]=1,hs[149]=ds[149]=21,hs[21]=ds[21]=21,ls[86]=fs[86]=17,ls[84]=fs[84]=17,ss[89]=cs[89]=9,ss[81]=cs[81]=9,ss[96]=ps[96]=0,us[96]=fs[96]=15,ss[74]=ps[74]=0,us[74]=fs[74]=15,ss[24]=ls[24]=8,cs[24]=ds[24]=7,ss[146]=ls[146]=8,cs[146]=ds[146]=7,us[6]=fs[6]=15,ls[6]=hs[6]=16,us[164]=fs[164]=15,ls[164]=hs[164]=16,cs[129]=ds[129]=7,hs[129]=ps[129]=20,cs[41]=ds[41]=7,hs[41]=ps[41]=20,ls[66]=ps[66]=2,cs[66]=fs[66]=19,ls[104]=ps[104]=2,cs[104]=fs[104]=19,ss[144]=hs[144]=10,fs[144]=ds[144]=23,ss[26]=hs[26]=10,fs[26]=ds[26]=23,us[36]=ds[36]=5,ls[36]=ps[36]=2,us[134]=ds[134]=5,ls[134]=ps[134]=2,ss[9]=hs[9]=10,us[9]=cs[9]=13,ss[161]=hs[161]=10,us[161]=cs[161]=13,us[37]=ds[37]=5,hs[37]=ps[37]=20,us[133]=ds[133]=5,hs[133]=ps[133]=20,ls[148]=hs[148]=16,fs[148]=ds[148]=23,ls[22]=hs[22]=16,fs[22]=ds[22]=23,ss[82]=ls[82]=8,cs[82]=fs[82]=19,ss[88]=ls[88]=8,cs[88]=fs[88]=19,ss[73]=ps[73]=0,us[73]=cs[73]=13,ss[97]=ps[97]=0,us[97]=cs[97]=13,ss[145]=cs[145]=9,hs[145]=ds[145]=21,ss[25]=cs[25]=9,hs[25]=ds[25]=21,us[70]=ps[70]=1,ls[70]=fs[70]=17,us[100]=ps[100]=1,ls[100]=fs[100]=17,ss[34]=cs[34]=9,us[34]=ls[34]=12,hs[34]=ds[34]=21,fs[34]=ps[34]=22,ss[136]=ds[136]=4,us[136]=ps[136]=1,ls[136]=fs[136]=17,cs[136]=hs[136]=18,ss[35]=ds[35]=4,us[35]=ls[35]=12,cs[35]=hs[35]=18,fs[35]=ps[35]=22,ss[153]=ds[153]=4,cs[153]=hs[153]=18,us[102]=ls[102]=12,fs[102]=ps[102]=22,ss[155]=cs[155]=9,hs[155]=ds[155]=23,us[103]=ps[103]=1,ls[103]=fs[103]=17,ss[152]=ds[152]=4,ls[152]=fs[152]=17,cs[152]=hs[152]=18,ss[156]=ls[156]=8,cs[156]=hs[156]=18,fs[156]=ds[156]=23,ss[137]=ds[137]=4,us[137]=ps[137]=1,cs[137]=hs[137]=18,ss[139]=ds[139]=4,us[139]=cs[139]=13,hs[139]=ps[139]=20,ss[98]=cs[98]=9,us[98]=ls[98]=12,fs[98]=ps[98]=22,ss[99]=ps[99]=0,us[99]=ls[99]=12,cs[99]=fs[99]=19,us[38]=ls[38]=12,hs[38]=ds[38]=21,fs[38]=ps[38]=22,us[39]=ds[39]=5,ls[39]=hs[39]=16,fs[39]=ps[39]=22;var gs=[];gs[1]=gs[169]=$a,gs[4]=gs[166]=ts,gs[16]=gs[154]=es,gs[64]=gs[106]=ns,gs[168]=gs[2]=rs,gs[162]=gs[8]=is,gs[138]=gs[32]=os,gs[42]=gs[128]=as,gs[5]=gs[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},gs[20]=gs[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},gs[80]=gs[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},gs[65]=gs[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},gs[160]=gs[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},gs[130]=gs[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},gs[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},gs[101]=gs[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},gs[149]=gs[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},gs[86]=gs[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},gs[89]=gs[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},gs[96]=gs[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[24]=gs[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},gs[6]=gs[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},gs[129]=gs[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},gs[66]=gs[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[144]=gs[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gs[36]=gs[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},gs[9]=gs[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},gs[37]=gs[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},gs[148]=gs[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gs[82]=gs[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},gs[73]=gs[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},gs[145]=gs[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},gs[70]=gs[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[34]=function(t){return[as(t),is(t)]},gs[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},gs[136]=function(t){return[os(t),rs(t)]},gs[153]=function(t){return[es(t),$a(t)]},gs[102]=function(t){return[ts(t),ns(t)]},gs[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},gs[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[152]=function(t){return[es(t),rs(t)]},gs[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gs[137]=function(t){return[os(t),$a(t)]},gs[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},gs[98]=function(t){return[is(t),ns(t)]},gs[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[38]=function(t){return[ts(t),as(t)]},gs[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var ms=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};ms.buildId=function(t){return t.join(",")},ms.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},ms.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},ms.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},ms.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=ur(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},ms.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},ms.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},ms.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var ys=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};ys.prototype.getSymetric=function(){return this.symetric||(this.symetric=new ys(this.to,this.from),this.symetric.symetric=this),this.symetric},ys.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},ys.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},ys.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},ys.prototype.toLineString=function(){return s([this.from.coordinates,this.to.coordinates])},ys.prototype.compareTo=function(t){return ur(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var vs=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},bs={length:{configurable:!0}};vs.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},vs.prototype.get=function(t){return this.edges[t]},bs.length.get=function(){return this.edges.length},vs.prototype.forEach=function(t){this.edges.forEach(t)},vs.prototype.map=function(t){return this.edges.map(t)},vs.prototype.some=function(t){return this.edges.some(t)},vs.prototype.isValid=function(){return!0},vs.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=ur(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},vs.prototype.toMultiPoint=function(){return h(this.edges.map((function(t){return t.from.coordinates})))},vs.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},vs.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=ie(this.toPolygon())},vs.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach((function(e){var a=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map((function(t){return t[0]})),r=t.geometry.coordinates.map((function(t){return t[1]})),i=e.geometry.coordinates.map((function(t){return t[0]})),o=e.geometry.coordinates.map((function(t){return t[1]}));return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(a,o)&&lr(a,o)){var s=t.map((function(t){return t.from.coordinates})).find((function(t){return!e.some((function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)}))}));s&&e.inside(r(s))&&(i&&!lr(n,a)||(i=e))}})),i},vs.prototype.inside=function(t){return At(t,this.toPolygon())},Object.defineProperties(vs.prototype,bs);var Es=function(){this.edges=[],this.nodes={}};Es.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new Es;return D(t,(function(t){Y(t,"LineString","Graph::fromGeoJson"),A(t,(function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n}))})),e},Es.prototype.getNode=function(t){var e=ms.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new ms(t)),n},Es.prototype.addEdge=function(t,e){var n=new ys(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},Es.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},Es.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},Es.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},Es.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},Es.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var a=i[o],s=a.symetric,u=void 0,l=void 0;a.label===e&&(u=a),s.label===e&&(l=s),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},Es.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},Es.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},Es.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},Es.prototype._findEdgeRing=function(t){var e=t,n=new vs;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},Es.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},Es.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()};var _s=mt((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),ws=(_s.shim,mt((function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r}))),Ss=(ws.supported,ws.unsupported,mt((function(t){function e(t){return null===t||void 0===t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&"function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,i=t.exports=function(t,o,a){return a||(a={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?a.strict?t===o:t==o:function(t,o,a){var s,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(ws(t))return!!ws(o)&&(t=r.call(t),o=r.call(o),i(t,o,a));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==o[s])return!1;return!0}try{var l=_s(t),c=_s(o)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),s=l.length-1;s>=0;s--)if(l[s]!=c[s])return!1;for(s=l.length-1;s>=0;s--)if(u=l[s],!i(t[u],o[u],a))return!1;return typeof t==typeof o}(t,o,a))}}))),xs=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Er};xs.prototype.compare=function(t,e){if(t.type!==e.type||!br(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=vr(t),i=vr(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},xs.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},xs.prototype.compareLine=function(t,e,n,r){if(!br(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},xs.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},xs.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},xs.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},xs.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},xs.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},xs.prototype.removePseudo=function(t){return t};var Ts=xs,Os=mt((function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(i,a),this._expandCluster(a,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Cs=mt((function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(c),s=0,u=0;u<c;u++)a[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)a[u]+=this.dataset[l][u];s++}}if(s>0){for(u=0;u<c;u++)a[u]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,a=e.length,s=0;s<a;s++)(r=n(t,e[s]))<i&&(i=r,o=s);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)})),As=mt((function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)})),Ls=mt((function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=As;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var u=new n(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(s,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ps=mt((function(t){t.exports&&(t.exports={DBSCAN:Os,KMEANS:Cs,OPTICS:Ls,PriorityQueue:As})})),Rs=(Ps.DBSCAN,Ps.KMEANS,Ps.OPTICS,Ps.PriorityQueue,function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var a=(t[o]||0)-(e[o]||0);i+=a*a}return n?Math.sqrt(i):i}),Ms=Rs,ks=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Is=Rs,Ns=function(t,e,n,r){var i=[],o=[],a=[],s=[],u=!1,l=r||1e4,c=t.length,h=t[0].length,f=h>0,p=[];if(n)i="kmrand"==n?function(t,e){for(var n={},r=[],i=e<<2,o=t.length,a=t[0].length>0;r.length<e&&i-- >0;){var s=t[Math.floor(Math.random()*o)],u=a?s.join("_"):""+s;n[u]||(n[u]=!0,r.push(s))}if(r.length<e)throw new Error("Error initializating clusters");return r}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?Ms:ks,r=[],i=t.length,o=t[0].length>0,a=t[Math.floor(Math.random()*i)];for(o&&a.join("_"),r.push(a);r.length<e;){for(var s=[],u=r.length,l=0,c=[],h=0;h<i;h++){for(var f=1/0,p=0;p<u;p++){var d=n(t[h],r[p]);d<=f&&(f=d)}s[h]=f}for(var g=0;g<i;g++)l+=s[g];for(var m=0;m<i;m++)c[m]={i:m,v:t[m],pr:s[m]/l,cs:0};c.sort((function(t,e){return t.pr-e.pr})),c[0].cs=c[0].pr;for(var y=1;y<i;y++)c[y].cs=c[y-1].cs+c[y].pr;for(var v=Math.random(),b=0;b<i-1&&c[b++].cs<v;);r.push(c[b-1].v)}return r}(t,e):n;else for(var d={};i.length<e;){var g=Math.floor(Math.random()*c);d[g]||(d[g]=!0,i.push(t[g]))}do{wr(e,0,p);for(var m=0;m<c;m++){for(var y=1/0,v=0,b=0;b<e;b++)(s=f?Is(t[m],i[b]):Math.abs(t[m]-i[b]))<=y&&(y=s,v=b);a[m]=v,p[v]++}for(var E=[],_=(o=[],0);_<e;_++)E[_]=f?wr(h,0,E[_]):0,o[_]=i[_];if(f){for(var w=0;w<e;w++)i[w]=[];for(var S=0;S<c;S++)for(var x=E[a[S]],T=t[S],O=0;O<h;O++)x[O]+=T[O];u=!0;for(var C=0;C<e;C++){for(var A=i[C],L=E[C],P=o[C],R=p[C],M=0;M<h;M++)A[M]=L[M]/R||0;if(u)for(var k=0;k<h;k++)if(P[k]!=A[k]){u=!1;break}}}else{for(var I=0;I<c;I++)E[a[I]]+=t[I];for(var N=0;N<e;N++)i[N]=E[N]/p[N]||0;u=!0;for(var D=0;D<e;D++)if(o[D]!=i[D]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:e,idxs:a,centroids:i}},Ds={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||Ds.heuristics.manhattan,o=r.closest||!1,a=new Cr((function(t){return t.f})),s=e;for(e.h=i(e,n),a.push(e);a.size()>0;){var u=a.pop();if(u===n)return xr(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var f=l[c];if(!f.closed&&!f.isWall()){var p=u.g+f.getCost(u),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||i(f,n),f.g=p,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<s.h||f.h===s.h&&f.g<s.g)&&(s=f),d?a.rescoreElement(f):a.push(f))}}}return o?xr(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Tr.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Ds.cleanNode(this.nodes[t])},Tr.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Ds.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Tr.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Tr.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Tr.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,a=0,s=o.length;a<s;a++){for(t=[],n=0,r=(e=o[a]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Or.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Or.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Or.prototype.isWall=function(){return 0===this.weight},Cr.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,a=o-1,s=null;if(a<e){var u=this.content[a];(i=this.scoreFunction(u))<r&&(s=a)}if(o<e){var l=this.content[o];this.scoreFunction(l)<(null===s?r:i)&&(s=o)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}};var js=function(t){return function(){return t}};Pr.prototype={constructor:Pr,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ir(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Mr(this,n),n=(t=n).U),n.C=!1,r.C=!0,kr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(kr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Mr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Ir(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Mr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,kr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Mr(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,kr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Mr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,kr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Fs,Vs,Bs,Us,Gs,Ws=[],Ks=[],zs=1e-6,Hs=1e-12;Qr.prototype={constructor:Qr,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Ur(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,u=-1,l=e[i[o-1]],c=l.left===s?l.right:l.left;++u<o;)a=c,c=(l=e[i[u]]).left===s?l.right:l.left,a&&c&&r<a.index&&r<c.index&&Zr(s,a,c)<0&&t.push([s.data,a.data,c.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};var Ys=Object.freeze({randomPosition:oi,randomPoint:ai,randomPolygon:si,randomLineString:ui}),qs=Object.freeze({getCluster:ci,clusterEach:hi,clusterReduce:fi,createBins:pi,applyFilter:di,propertiesContainsFilter:gi,filterProperties:mi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Xs=function(){};Xs.prototype.interfaces_=function(){return[]},Xs.prototype.getClass=function(){return Xs},Xs.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Zs=function(){},Js=function(){},Qs={MAX_VALUE:{configurable:!0}};Js.isNaN=function(t){return Number.isNaN(t)},Js.doubleToLongBits=function(t){return t},Js.longBitsToDouble=function(t){return t},Js.isInfinite=function(t){return!Number.isFinite(t)},Qs.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Js,Qs);var $s=function(){},tu=function(){},eu=function(){},nu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ru={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};nu.prototype.setOrdinate=function(t,e){switch(t){case nu.X:this.x=e;break;case nu.Y:this.y=e;break;case nu.Z:this.z=e;break;default:throw new Zs("Invalid ordinate index: "+t)}},nu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Xs.equalsWithTolerance(this.x,e.x,n)&&!!Xs.equalsWithTolerance(this.y,e.y,n)}},nu.prototype.getOrdinate=function(t){switch(t){case nu.X:return this.x;case nu.Y:return this.y;case nu.Z:return this.z}throw new Zs("Invalid ordinate index: "+t)},nu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Js.isNaN(this.z))&&Js.isNaN(t.z)},nu.prototype.equals=function(t){return t instanceof nu&&this.equals2D(t)},nu.prototype.equalInZ=function(t,e){return Xs.equalsWithTolerance(this.z,t.z,e)},nu.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},nu.prototype.clone=function(){},nu.prototype.copy=function(){return new nu(this)},nu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},nu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},nu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},nu.prototype.hashCode=function(){var t=17;return 37*(t=37*t+nu.hashCode(this.x))+nu.hashCode(this.y)},nu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},nu.prototype.interfaces_=function(){return[$s,tu,yi]},nu.prototype.getClass=function(){return nu},nu.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=Js.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},ru.DimensionalComparator.get=function(){return iu},ru.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},ru.NULL_ORDINATE.get=function(){return Js.NaN},ru.X.get=function(){return 0},ru.Y.get=function(){return 1},ru.Z.get=function(){return 2},Object.defineProperties(nu,ru);var iu=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Zs("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};iu.prototype.compare=function(t,e){var n=t,r=e,i=iu.compare(n.x,r.x);if(0!==i)return i;var o=iu.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:iu.compare(n.z,r.z)},iu.prototype.interfaces_=function(){return[eu]},iu.prototype.getClass=function(){return iu},iu.compare=function(t,e){return t<e?-1:t>e?1:Js.isNaN(t)?Js.isNaN(e)?0:-1:Js.isNaN(e)?1:0};var ou=function(){};ou.prototype.create=function(){},ou.prototype.interfaces_=function(){return[]},ou.prototype.getClass=function(){return ou};var au=function(){},su={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};au.prototype.interfaces_=function(){return[]},au.prototype.getClass=function(){return au},au.toLocationSymbol=function(t){switch(t){case au.EXTERIOR:return"e";case au.BOUNDARY:return"b";case au.INTERIOR:return"i";case au.NONE:return"-"}throw new Zs("Unknown location value: "+t)},su.INTERIOR.get=function(){return 0},su.BOUNDARY.get=function(){return 1},su.EXTERIOR.get=function(){return 2},su.NONE.get=function(){return-1},Object.defineProperties(au,su);var uu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},lu=function(){},cu={LOG_10:{configurable:!0}};lu.prototype.interfaces_=function(){return[]},lu.prototype.getClass=function(){return lu},lu.log10=function(t){var e=Math.log(t);return Js.isInfinite(e)||Js.isNaN(e)?e:e/lu.LOG_10},lu.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},lu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},lu.wrap=function(t,e){return t<0?e- -t%e:t%e},lu.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=i;return o>u&&(u=o),a>u&&(u=a),s>u&&(u=s),u}},lu.average=function(t,e){return(t+e)/2},cu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(lu,cu);var hu=function(t){this.str=t};hu.prototype.append=function(t){this.str+=t},hu.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},hu.prototype.toString=function(t){return this.str};var fu=function(t){this.value=t};fu.prototype.intValue=function(){return this.value},fu.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},fu.isNaN=function(t){return Number.isNaN(t)};var pu=function(){};pu.isWhitespace=function(t){return t<=32&&t>=0||127===t},pu.toUpperCase=function(t){return t.toUpperCase()};var du=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},gu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};du.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},du.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=du.magnitude(n._hi),i=du.TEN.pow(r);(n=n.divide(i)).gt(du.TEN)?(n=n.divide(du.TEN),r+=1):n.lt(du.ONE)&&(n=n.multiply(du.TEN),r-=1);for(var o=r+1,a=new hu,s=du.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){t&&u===o&&a.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,a.append(h),n=n.subtract(du.valueOf(l)).multiply(du.TEN),c&&n.selfAdd(du.TEN);var f=!0,p=du.magnitude(n._hi);if(p<0&&Math.abs(p)>=s-u&&(f=!1),!f)break}return e[0]=r,a.toString()},du.prototype.sqr=function(){return this.multiply(this)},du.prototype.doubleValue=function(){return this._hi+this._lo},du.prototype.subtract=function(){if(arguments[0]instanceof du){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},du.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},du.prototype.isZero=function(){return 0===this._hi&&0===this._lo},du.prototype.selfSubtract=function(){if(arguments[0]instanceof du){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},du.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},du.prototype.min=function(t){return this.le(t)?this:t},du.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof du){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,l=null,c=null,h=null;return u=this._hi/n,h=(i=(l=du.SPLIT*u)-(i=l-u))*(a=(h=du.SPLIT*n)-(a=h-n))-(c=u*n)+i*(s=n-a)+(o=u-i)*a+o*s,h=u+(l=(this._hi-c-h+this._lo-u*r)/n),this._hi=h,this._lo=u-h+l,this}},du.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},du.prototype.divide=function(){if(arguments[0]instanceof du){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,a=null,s=null,u=null;return n=(o=this._hi/t._hi)-(e=(a=du.SPLIT*o)-(e=a-o)),u=e*(r=(u=du.SPLIT*t._hi)-(r=u-t._hi))-(s=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,a=(this._hi-s-u+this._lo-o*t._lo)/t._hi,new du(u=o+a,o-u+a)}if("number"==typeof arguments[0]){var l=arguments[0];return Js.isNaN(l)?du.createNaN():du.copy(this).selfDivide(l,0)}},du.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},du.prototype.pow=function(t){if(0===t)return du.valueOf(1);var e=new du(this),n=du.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},du.prototype.ceil=function(){if(this.isNaN())return du.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new du(t,e)},du.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},du.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},du.prototype.setValue=function(){if(arguments[0]instanceof du){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},du.prototype.max=function(t){return this.ge(t)?this:t},du.prototype.sqrt=function(){if(this.isZero())return du.valueOf(0);if(this.isNegative())return du.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=du.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},du.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof du){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return o=(i=this._hi+e)-(a=i-this._hi),r=(s=(o=e-a+(this._hi-o))+this._lo)+(i-(n=i+s)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,h=null,f=null,p=null,d=null,g=null,m=null;p=this._hi+u,h=this._lo+l,d=p-(g=p-this._hi),f=h-(m=h-this._lo);var y=(c=p+(g=(d=u-g+(this._hi-d))+h))+(g=(f=l-m+(this._lo-f))+(g+(p-c))),v=g+(c-y);return this._hi=y,this._lo=v,this}},du.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof du){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,l=null;i=(u=du.SPLIT*this._hi)-this._hi,l=du.SPLIT*n,i=u-i,o=this._hi-i,a=l-n;var c=(u=this._hi*n)+(l=i*(a=l-a)-u+i*(s=n-a)+o*a+o*s+(this._hi*r+this._lo*n)),h=l+(i=u-c);return this._hi=c,this._lo=h,this}},du.prototype.selfSqr=function(){return this.selfMultiply(this)},du.prototype.floor=function(){if(this.isNaN())return du.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new du(t,e)},du.prototype.negate=function(){return this.isNaN()?this:new du(-this._hi,-this._lo)},du.prototype.clone=function(){},du.prototype.multiply=function(){if(arguments[0]instanceof du){var t=arguments[0];return t.isNaN()?du.createNaN():du.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Js.isNaN(e)?du.createNaN():du.copy(this).selfMultiply(e,0)}},du.prototype.isNaN=function(){return Js.isNaN(this._hi)},du.prototype.intValue=function(){return Math.trunc(this._hi)},du.prototype.toString=function(){var t=du.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},du.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+du.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+du.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},du.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,a=null,s=null;t=(n=1/this._hi)-(i=(a=du.SPLIT*n)-(i=a-n)),o=(s=du.SPLIT*this._hi)-this._hi;var u=n+(a=(1-(r=n*this._hi)-(s=i*(o=s-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new du(u,n-u+a)},du.prototype.toSciNotation=function(){if(this.isZero())return du.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=du.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},du.prototype.abs=function(){return this.isNaN()?du.NaN:this.isNegative()?this.negate():new du(this)},du.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},du.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},du.prototype.add=function(){if(arguments[0]instanceof du){var t=arguments[0];return du.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return du.copy(this).selfAdd(e)}},du.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof du){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},du.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},du.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},du.prototype.trunc=function(){return this.isNaN()?du.NaN:this.isPositive()?this.floor():this.ceil()},du.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},du.prototype.interfaces_=function(){return[yi,$s,tu]},du.prototype.getClass=function(){return du},du.sqr=function(t){return du.valueOf(t).selfMultiply(t)},du.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return du.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new du(e)}},du.sqrt=function(t){return du.valueOf(t).sqrt()},du.parse=function(t){for(var e=0,n=t.length;pu.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new du,a=0,s=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,pu.isDigit(l)){var c=l-"0";o.selfMultiply(du.TEN),o.selfAdd(c),a++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=fu.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}s=a}}var f=o,p=a-s-u;if(0===p)f=o;else if(p>0){var d=du.TEN.pow(p);f=o.divide(d)}else if(p<0){var g=du.TEN.pow(-p);f=o.multiply(g)}return r?f.negate():f},du.createNaN=function(){return new du(Js.NaN,Js.NaN)},du.copy=function(t){return new du(t)},du.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},du.stringOfChar=function(t,e){for(var n=new hu,r=0;r<e;r++)n.append(t);return n.toString()},gu.PI.get=function(){return new du(3.141592653589793,12246467991473532e-32)},gu.TWO_PI.get=function(){return new du(6.283185307179586,24492935982947064e-32)},gu.PI_2.get=function(){return new du(1.5707963267948966,6123233995736766e-32)},gu.E.get=function(){return new du(2.718281828459045,14456468917292502e-32)},gu.NaN.get=function(){return new du(Js.NaN,Js.NaN)},gu.EPS.get=function(){return 123259516440783e-46},gu.SPLIT.get=function(){return 134217729},gu.MAX_PRINT_DIGITS.get=function(){return 32},gu.TEN.get=function(){return du.valueOf(10)},gu.ONE.get=function(){return du.valueOf(1)},gu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},gu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(du,gu);var mu=function(){},yu={DP_SAFE_EPSILON:{configurable:!0}};mu.prototype.interfaces_=function(){return[]},mu.prototype.getClass=function(){return mu},mu.orientationIndex=function(t,e,n){var r=mu.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=du.valueOf(e.x).selfAdd(-t.x),o=du.valueOf(e.y).selfAdd(-t.y),a=du.valueOf(n.x).selfAdd(-e.x),s=du.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},mu.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},mu.intersection=function(t,e,n,r){var i=du.valueOf(r.y).selfSubtract(n.y).selfMultiply(du.valueOf(e.x).selfSubtract(t.x)),o=du.valueOf(r.x).selfSubtract(n.x).selfMultiply(du.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=du.valueOf(r.x).selfSubtract(n.x).selfMultiply(du.valueOf(t.y).selfSubtract(n.y)),u=du.valueOf(r.y).selfSubtract(n.y).selfMultiply(du.valueOf(t.x).selfSubtract(n.x)),l=s.subtract(u).selfDivide(a).doubleValue(),c=du.valueOf(t.x).selfAdd(du.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=du.valueOf(e.x).selfSubtract(t.x).selfMultiply(du.valueOf(t.y).selfSubtract(n.y)),f=du.valueOf(e.y).selfSubtract(t.y).selfMultiply(du.valueOf(t.x).selfSubtract(n.x)),p=h.subtract(f).selfDivide(a).doubleValue(),d=du.valueOf(n.y).selfAdd(du.valueOf(r.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new nu(c,d)},mu.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(o<=0)return mu.signum(a);r=i+o}else{if(!(i<0))return mu.signum(a);if(o>=0)return mu.signum(a);r=-i-o}var s=mu.DP_SAFE_EPSILON*r;return a>=s||-a>=s?mu.signum(a):2},mu.signum=function(t){return t>0?1:t<0?-1:0},yu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(mu,yu);var vu=function(){},bu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};bu.X.get=function(){return 0},bu.Y.get=function(){return 1},bu.Z.get=function(){return 2},bu.M.get=function(){return 3},vu.prototype.setOrdinate=function(t,e,n){},vu.prototype.size=function(){},vu.prototype.getOrdinate=function(t,e){},vu.prototype.getCoordinate=function(){},vu.prototype.getCoordinateCopy=function(t){},vu.prototype.getDimension=function(){},vu.prototype.getX=function(t){},vu.prototype.clone=function(){},vu.prototype.expandEnvelope=function(t){},vu.prototype.copy=function(){},vu.prototype.getY=function(t){},vu.prototype.toCoordinateArray=function(){},vu.prototype.interfaces_=function(){return[tu]},vu.prototype.getClass=function(){return vu},Object.defineProperties(vu,bu);var Eu=function(){},_u=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Eu),wu=function(){};wu.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;a<e+i;a++)n[r+o]=t[a],o++},wu.getProperty=function(t){return{"line.separator":"\n"}[t]};var Su=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof nu&&arguments[1]instanceof nu){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var h=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3],g=h.y-f.y,m=f.x-h.x,y=h.x*f.y-f.x*h.y,v=p.y-d.y,b=d.x-p.x,E=p.x*d.y-d.x*p.y;this.x=m*E-b*y,this.y=v*y-g*E,this.w=g*b-v*m}};Su.prototype.getY=function(){var t=this.y/this.w;if(Js.isNaN(t)||Js.isInfinite(t))throw new _u;return t},Su.prototype.getX=function(){var t=this.x/this.w;if(Js.isNaN(t)||Js.isInfinite(t))throw new _u;return t},Su.prototype.getCoordinate=function(){var t=new nu;return t.x=this.getX(),t.y=this.getY(),t},Su.prototype.interfaces_=function(){return[]},Su.prototype.getClass=function(){return Su},Su.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-s*o,h=(o*l-u*a)/c,f=(s*a-i*l)/c;if(Js.isNaN(h)||Js.isInfinite(h)||Js.isNaN(f)||Js.isInfinite(f))throw new _u;return new nu(h,f)};var xu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof nu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3];this.init(o,a,s,u)}},Tu={serialVersionUID:{configurable:!0}};xu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},xu.prototype.equals=function(t){if(!(t instanceof xu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},xu.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new xu;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new xu(e,r,n,i)},xu.prototype.isNull=function(){return this._maxx<this._minx},xu.prototype.getMaxX=function(){return this._maxx},xu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof xu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},xu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof xu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof nu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},xu.prototype.getMinY=function(){return this._miny},xu.prototype.getMinX=function(){return this._minx},xu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof xu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},xu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},xu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},xu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},xu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},xu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},xu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},xu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},xu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},xu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},xu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof xu){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof nu){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},xu.prototype.centre=function(){return this.isNull()?null:new nu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},xu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof xu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},xu.prototype.getMaxY=function(){return this._maxy},xu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},xu.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+nu.hashCode(this._minx))+nu.hashCode(this._maxx))+nu.hashCode(this._miny))+nu.hashCode(this._maxy)},xu.prototype.interfaces_=function(){return[$s,yi]},xu.prototype.getClass=function(){return xu},xu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),u=Math.max(o.x,a.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u)&&!(c<s)&&(s=Math.min(o.y,a.y),u=Math.max(o.y,a.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),!(l>u)&&!(c<s))}},Tu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(xu,Tu);var Ou={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Cu=function(t){this.geometryFactory=t||new Zl};Cu.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=Ou.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Ou.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Lu[n]&&(e=Lu[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Cu.prototype.write=function(t){return this.extractGeometry(t)},Cu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Au[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Au[e].apply(this,[t])+")"};var Au={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Au.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Au.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Au.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Au.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Au.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Au.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Au.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Au.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Lu={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Ou.spaces);return this.geometryFactory.createPoint(new nu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Ou.trimParens,"$1"),r.push(Lu.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Ou.spaces),r.push(new nu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Ou.spaces),r.push(new nu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Ou.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Ou.trimParens,"$1"),r.push(Lu.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Ou.parenComma),a=[],s=0,u=o.length;s<u;++s)e=o[s].replace(Ou.trimParens,"$1"),n=Lu.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Ou.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Ou.trimParens,"$1"),r.push(Lu.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Pu=function(t){this.parser=new Cu(t)};Pu.prototype.write=function(t){return this.parser.write(t)},Pu.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Ru=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Mu=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ru),ku=function(){};ku.prototype.interfaces_=function(){return[]},ku.prototype.getClass=function(){return ku},ku.shouldNeverReachHere=function(){if(0===arguments.length)ku.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Mu("Should never reach here"+(null!==t?": "+t:""))}},ku.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],ku.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new Mu:new Mu(e)},ku.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],ku.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new Mu("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Iu=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new nu,this._intPt[1]=new nu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Nu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Iu.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Iu.prototype.getTopologySummary=function(){var t=new hu;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Iu.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},Iu.prototype.getIntersectionNum=function(){return this._result},Iu.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Iu.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Iu.prototype.setPrecisionModel=function(t){this._precisionModel=t},Iu.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Iu.prototype.getIntersection=function(t){return this._intPt[t]},Iu.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Iu.prototype.hasIntersection=function(){return this._result!==Iu.NO_INTERSECTION},Iu.prototype.getEdgeDistance=function(t,e){return Iu.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Iu.prototype.isCollinear=function(){return this._result===Iu.COLLINEAR_INTERSECTION},Iu.prototype.toString=function(){return Pu.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Pu.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Iu.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Iu.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Iu.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu},Iu.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return ku.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Iu.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return ku.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Nu.DONT_INTERSECT.get=function(){return 0},Nu.DO_INTERSECT.get=function(){return 1},Nu.COLLINEAR.get=function(){return 2},Nu.NO_INTERSECTION.get=function(){return 0},Nu.POINT_INTERSECTION.get=function(){return 1},Nu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Iu,Nu);var Du=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new xu(this._inputLines[0][0],this._inputLines[0][1]),n=new xu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,xu.intersects(n,r,e)&&0===Vu.orientationIndex(n,r,e)&&0===Vu.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=Su.intersection(t,n,r,i)}catch(a){if(!(a instanceof _u))throw a;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new nu(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=mu.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);wu.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&wu.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new nu(t),o=new nu(e),a=new nu(n),s=new nu(r),u=new nu;this.normalizeToEnvCentre(i,o,a,s,u);var l=this.safeHCoordinateIntersection(i,o,a,s);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=xu.intersects(e,n,r),a=xu.intersects(e,n,i),s=xu.intersects(r,i,e),u=xu.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||a||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,p=((o>l?o:l)+(s<h?s:h))/2,d=((a>c?a:c)+(u<f?u:f))/2;i.x=p,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!xu.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=Vu.orientationIndex(e,n,r),a=Vu.orientationIndex(e,n,i);if(o>0&&a>0||o<0&&a<0)return t.NO_INTERSECTION;var s=Vu.orientationIndex(r,i,e),u=Vu.orientationIndex(r,i,n);return s>0&&u>0||s<0&&u<0?t.NO_INTERSECTION:0===o&&0===a&&0===s&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===a||0===s||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new nu(r):0===a?this._intPt[0]=new nu(i):0===s?this._intPt[0]=new nu(e):0===u&&(this._intPt[0]=new nu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=Vu.distancePointLine(t,n,r),a=Vu.distancePointLine(e,n,r);return a<o&&(o=a,i=e),(a=Vu.distancePointLine(n,t,e))<o&&(o=a,i=n),(a=Vu.distancePointLine(r,t,e))<o&&(o=a,i=r),i},e}(Iu),ju=function(){};ju.prototype.interfaces_=function(){return[]},ju.prototype.getClass=function(){return ju},ju.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,a=n.y-e.y;return ju.signOfDet2x2(r,i,o,a)},ju.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(a=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=a*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(a=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=a*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var Fu=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};Fu.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,a=e.x-this._p.x,s=e.y-this._p.y,u=ju.signOfDet2x2(i,o,a,s);if(0===u)return this._isPointOnSegment=!0,null;s<o&&(u=-u),u>0&&this._crossingCount++}},Fu.prototype.isPointInPolygon=function(){return this.getLocation()!==au.EXTERIOR},Fu.prototype.getLocation=function(){return this._isPointOnSegment?au.BOUNDARY:this._crossingCount%2==1?au.INTERIOR:au.EXTERIOR},Fu.prototype.isOnSegment=function(){return this._isPointOnSegment},Fu.prototype.interfaces_=function(){return[]},Fu.prototype.getClass=function(){return Fu},Fu.locatePointInRing=function(){if(arguments[0]instanceof nu&&uu(arguments[1],vu)){for(var t=arguments[0],e=arguments[1],n=new Fu(t),r=new nu,i=new nu,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof nu&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],u=new Fu(a),l=1;l<s.length;l++){var c=s[l],h=s[l-1];if(u.countSegment(c,h),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var Vu=function(){},Bu={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Vu.prototype.interfaces_=function(){return[]},Vu.prototype.getClass=function(){return Vu},Vu.orientationIndex=function(t,e,n){return mu.orientationIndex(t,e,n)},Vu.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(uu(arguments[0],vu)){var a=arguments[0],s=a.size();if(s<3)return 0;var u=new nu,l=new nu,c=new nu;a.getCoordinate(0,l),a.getCoordinate(1,c);var h=l.x;c.x-=h;for(var f=0,p=1;p<s-1;p++)u.y=l.y,l.x=c.x,l.y=c.y,a.getCoordinate(p+1,c),c.x-=h,f+=l.x*(u.y-c.y);return f/2}},Vu.distanceLineLine=function(t,e,n,r){if(t.equals(e))return Vu.distancePointLine(t,n,r);if(n.equals(r))return Vu.distancePointLine(r,t,e);var i=!1;if(xu.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=a/o;(u<0||u>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?lu.min(Vu.distancePointLine(t,n,r),Vu.distancePointLine(e,n,r),Vu.distancePointLine(n,t,e),Vu.distancePointLine(r,t,e)):0},Vu.isPointInRing=function(t,e){return Vu.locatePointInRing(t,e)!==au.EXTERIOR},Vu.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new nu;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,u=r.y,l=s-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=s,o=u}return n},Vu.isCCW=function(t){var e=t.length-1;if(e<3)throw new Zs("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==r);var u=t[a],l=t[s];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=Vu.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},Vu.locatePointInRing=function(t,e){return Fu.locatePointInRing(t,e)},Vu.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},Vu.computeOrientation=function(t,e,n){return Vu.orientationIndex(t,e,n)},Vu.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Zs("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=Vu.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var u=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),l=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/u;if(l<=0)return o.distance(a);if(l>=1)return o.distance(s);var c=((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/u;return Math.abs(c)*Math.sqrt(u)}},Vu.isOnLine=function(t,e){for(var n=new Du,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},Bu.CLOCKWISE.get=function(){return-1},Bu.RIGHT.get=function(){return Vu.CLOCKWISE},Bu.COUNTERCLOCKWISE.get=function(){return 1},Bu.LEFT.get=function(){return Vu.COUNTERCLOCKWISE},Bu.COLLINEAR.get=function(){return 0},Bu.STRAIGHT.get=function(){return Vu.COLLINEAR},Object.defineProperties(Vu,Bu);var Uu=function(){};Uu.prototype.filter=function(t){},Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu};var Gu=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Wu={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Gu.prototype.isGeometryCollection=function(){return this.getSortIndex()===Gu.SORTINDEX_GEOMETRYCOLLECTION},Gu.prototype.getFactory=function(){return this._factory},Gu.prototype.getGeometryN=function(t){return this},Gu.prototype.getArea=function(){return 0},Gu.prototype.isRectangle=function(){return!1},Gu.prototype.equals=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof Gu))return!1;var n=e;return this.equalsExact(n)}},Gu.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Gu.prototype.geometryChanged=function(){this.apply(Gu.geometryChangedFilter)},Gu.prototype.geometryChangedAction=function(){this._envelope=null},Gu.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Gu.prototype.getLength=function(){return 0},Gu.prototype.getNumGeometries=function(){return 1},Gu.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},Gu.prototype.getUserData=function(){return this._userData},Gu.prototype.getSRID=function(){return this._SRID},Gu.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Gu.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Gu.SORTINDEX_GEOMETRYCOLLECTION)throw new Zs("This method does not support GeometryCollection arguments")},Gu.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Gu.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Gu.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Gu.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new xu(this._envelope)},Gu.prototype.setSRID=function(t){this._SRID=t},Gu.prototype.setUserData=function(t){this._userData=t},Gu.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},Gu.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Gu.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Gu.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Gu.SORTINDEX_MULTIPOINT||this.getSortIndex()===Gu.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Gu.SORTINDEX_MULTIPOLYGON},Gu.prototype.interfaces_=function(){return[tu,$s,yi]},Gu.prototype.getClass=function(){return Gu},Gu.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Gu.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Wu.serialVersionUID.get=function(){return 0x799ea46522854c00},Wu.SORTINDEX_POINT.get=function(){return 0},Wu.SORTINDEX_MULTIPOINT.get=function(){return 1},Wu.SORTINDEX_LINESTRING.get=function(){return 2},Wu.SORTINDEX_LINEARRING.get=function(){return 3},Wu.SORTINDEX_MULTILINESTRING.get=function(){return 4},Wu.SORTINDEX_POLYGON.get=function(){return 5},Wu.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Wu.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Wu.geometryChangedFilter.get=function(){return Ku},Object.defineProperties(Gu,Wu);var Ku=function(){};Ku.interfaces_=function(){return[Uu]},Ku.filter=function(t){t.geometryChangedAction()};var zu=function(){};zu.prototype.filter=function(t){},zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu};var Hu=function(){},Yu={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Hu.prototype.isInBoundary=function(t){},Hu.prototype.interfaces_=function(){return[]},Hu.prototype.getClass=function(){return Hu},Yu.Mod2BoundaryNodeRule.get=function(){return qu},Yu.EndPointBoundaryNodeRule.get=function(){return Xu},Yu.MultiValentEndPointBoundaryNodeRule.get=function(){return Zu},Yu.MonoValentEndPointBoundaryNodeRule.get=function(){return Ju},Yu.MOD2_BOUNDARY_RULE.get=function(){return new qu},Yu.ENDPOINT_BOUNDARY_RULE.get=function(){return new Xu},Yu.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Zu},Yu.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Ju},Yu.OGC_SFS_BOUNDARY_RULE.get=function(){return Hu.MOD2_BOUNDARY_RULE},Object.defineProperties(Hu,Yu);var qu=function(){};qu.prototype.isInBoundary=function(t){return t%2==1},qu.prototype.interfaces_=function(){return[Hu]},qu.prototype.getClass=function(){return qu};var Xu=function(){};Xu.prototype.isInBoundary=function(t){return t>0},Xu.prototype.interfaces_=function(){return[Hu]},Xu.prototype.getClass=function(){return Xu};var Zu=function(){};Zu.prototype.isInBoundary=function(t){return t>1},Zu.prototype.interfaces_=function(){return[Hu]},Zu.prototype.getClass=function(){return Zu};var Ju=function(){};Ju.prototype.isInBoundary=function(t){return 1===t},Ju.prototype.interfaces_=function(){return[Hu]},Ju.prototype.getClass=function(){return Ju};var Qu=function(){};Qu.prototype.add=function(){},Qu.prototype.addAll=function(){},Qu.prototype.isEmpty=function(){},Qu.prototype.iterator=function(){},Qu.prototype.size=function(){},Qu.prototype.toArray=function(){},Qu.prototype.remove=function(){};var $u=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),tl=function(){};tl.prototype.hasNext=function(){},tl.prototype.next=function(){},tl.prototype.remove=function(){};var el=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Qu);(vi.prototype=new Error).name="NoSuchElementException";var nl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Qu&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Qu]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new rl(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new $u;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(el),rl=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new vi;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(tl),il=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=!1,i=e.iterator();i.hasNext();)this.add(i.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof nu&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<s.length;l++)this.add(s[l],u);else for(var c=s.length-1;c>=0;c--)this.add(s[c],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof nu){var h=arguments[0],f=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(h>0&&this.get(h-1).equals2D(f))return null;if(h<p&&this.get(h).equals2D(f))return null}}t.prototype.add.call(this,h,f)}}else if(4===arguments.length){var d=arguments[0],g=arguments[1],m=arguments[2],y=arguments[3],v=1;m>y&&(v=-1);for(var b=m;b!==y;b+=v)this.add(d[b],g);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new nu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(nl),ol=function(){},al={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};al.ForwardComparator.get=function(){return sl},al.BidirectionalComparator.get=function(){return ul},al.coordArrayType.get=function(){return new Array(0).fill(null)},ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol},ol.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},ol.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(ol.indexOf(r,e)<0)return r}return null},ol.scroll=function(t,e){var n=ol.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);wu.arraycopy(t,n,r,0,t.length-n),wu.arraycopy(t,0,r,t.length-n,n),wu.arraycopy(r,0,t,0,t.length)},ol.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},ol.intersection=function(t,e){for(var n=new il,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},ol.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},ol.removeRepeatedPoints=function(t){return ol.hasRepeatedPoints(t)?new il(t,!1).toCoordinateArray():t},ol.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},ol.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},ol.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new nu(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=0;u<s;u++)o[a+u]=new nu(r[i+u])},ol.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},ol.envelope=function(t){for(var e=new xu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},ol.toCoordinateArray=function(t){return t.toArray(ol.coordArrayType)},ol.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},ol.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},ol.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},ol.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},ol.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},ol.extract=function(t,e,n){e=lu.clamp(e,0,t.length);var r=(n=lu.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;a<=n;a++)i[o++]=t[a];return i},Object.defineProperties(ol,al);var sl=function(){};sl.prototype.compare=function(t,e){return ol.compare(t,e)},sl.prototype.interfaces_=function(){return[eu]},sl.prototype.getClass=function(){return sl};var ul=function(){};ul.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=ol.compare(n,r);return ol.isEqualReversed(n,r)?0:i},ul.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=ol.increasingDirection(n),o=ol.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[a].compareTo(r[s]);if(0!==l)return l;a+=i,s+=o}return 0},ul.prototype.interfaces_=function(){return[eu]},ul.prototype.getClass=function(){return ul};var ll=function(){};ll.prototype.get=function(){},ll.prototype.put=function(){},ll.prototype.size=function(){},ll.prototype.values=function(){},ll.prototype.entrySet=function(){};var cl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ll);(bi.prototype=new Error).name="OperationNotSupported",(Ei.prototype=new Qu).contains=function(){};var hl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Qu&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new fl(this)},e}(Ei),fl=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new vi;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new bi},e}(tl),pl=0;(Oi.prototype=new cl).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Oi.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:pl,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:pl,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},Oi.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(wi(t)===xi(wi(wi(t)))){var e=Ti(wi(wi(t)));1===_i(e)?(Si(wi(t),pl),Si(e,pl),Si(wi(wi(t)),1),t=wi(wi(t))):(t===Ti(wi(t))&&(t=wi(t),this.rotateLeft(t)),Si(wi(t),pl),Si(wi(wi(t)),1),this.rotateRight(wi(wi(t))))}else{var n=xi(wi(wi(t)));1===_i(n)?(Si(wi(t),pl),Si(n,pl),Si(wi(wi(t)),1),t=wi(wi(t))):(t===xi(wi(t))&&(t=wi(t),this.rotateRight(t)),Si(wi(t),pl),Si(wi(wi(t)),1),this.rotateLeft(wi(wi(t))))}this.root_.color=pl},Oi.prototype.values=function(){var t=new nl,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Oi.successor(e));)t.add(e.value);return t},Oi.prototype.entrySet=function(){var t=new hl,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Oi.successor(e));)t.add(e);return t},Oi.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Oi.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Oi.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Oi.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Oi.prototype.size=function(){return this.size_};var dl=function(){};dl.prototype.interfaces_=function(){return[]},dl.prototype.getClass=function(){return dl},Ci.prototype=new Ei,(Ai.prototype=new Ci).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Ai.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Ai.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Ai.prototype.remove=function(t){throw new bi},Ai.prototype.size=function(){return this.array_.length},Ai.prototype.isEmpty=function(){return 0===this.array_.length},Ai.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Ai.prototype.iterator=function(){return new gl(this)};var gl=function(t){this.treeSet_=t,this.position_=0};gl.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new vi;return this.treeSet_.array_[this.position_++]},gl.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},gl.prototype.remove=function(){throw new bi};var ml=function(){};ml.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},ml.asList=function(t){for(var e=new nl,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var yl=function(){},vl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};vl.P.get=function(){return 0},vl.L.get=function(){return 1},vl.A.get=function(){return 2},vl.FALSE.get=function(){return-1},vl.TRUE.get=function(){return-2},vl.DONTCARE.get=function(){return-3},vl.SYM_FALSE.get=function(){return"F"},vl.SYM_TRUE.get=function(){return"T"},vl.SYM_DONTCARE.get=function(){return"*"},vl.SYM_P.get=function(){return"0"},vl.SYM_L.get=function(){return"1"},vl.SYM_A.get=function(){return"2"},yl.prototype.interfaces_=function(){return[]},yl.prototype.getClass=function(){return yl},yl.toDimensionSymbol=function(t){switch(t){case yl.FALSE:return yl.SYM_FALSE;case yl.TRUE:return yl.SYM_TRUE;case yl.DONTCARE:return yl.SYM_DONTCARE;case yl.P:return yl.SYM_P;case yl.L:return yl.SYM_L;case yl.A:return yl.SYM_A}throw new Zs("Unknown dimension value: "+t)},yl.toDimensionValue=function(t){switch(pu.toUpperCase(t)){case yl.SYM_FALSE:return yl.FALSE;case yl.SYM_TRUE:return yl.TRUE;case yl.SYM_DONTCARE:return yl.DONTCARE;case yl.SYM_P:return yl.P;case yl.SYM_L:return yl.L;case yl.SYM_A:return yl.A}throw new Zs("Unknown dimension symbol: "+t)},Object.defineProperties(yl,vl);var bl=function(){};bl.prototype.filter=function(t){},bl.prototype.interfaces_=function(){return[]},bl.prototype.getClass=function(){return bl};var El=function(){};El.prototype.filter=function(t,e){},El.prototype.isDone=function(){},El.prototype.isGeometryChanged=function(){},El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El};var _l=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Zs("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new xu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();ml.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=yl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=yl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Ai(ml.asList(this._geometries)),n=new Ai(ml.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,a=this.getNumGeometries(),s=o.getNumGeometries(),u=0;u<a&&u<s;){var l=this.getGeometryN(u),c=o.getGeometryN(u),h=l.compareToSameClass(c,i);if(0!==h)return h;u++}return u<a?1:u<s?-1:0}},e.prototype.apply=function(){if(uu(arguments[0],zu))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(uu(arguments[0],El)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(uu(arguments[0],bl)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(uu(arguments[0],Uu)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),ku.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Gu),wl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?yl.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Sl(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[dl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(_l),Sl=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Hu.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Sl.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Sl.prototype.getBoundary=function(){return this._geom instanceof Al?this.boundaryLineString(this._geom):this._geom instanceof wl?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Sl.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Sl.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Sl.prototype.computeBoundaryCoordinates=function(t){var e=new nl;this._endpointMap=new Oi;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return ol.toCoordinateArray(e)},Sl.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new xl,this._endpointMap.put(t,e)),e.count++},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl},Sl.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new Sl(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Sl(e,n).getBoundary()}};var xl=function(){this.count=null};xl.prototype.interfaces_=function(){return[]},xl.prototype.getClass=function(){return xl};var Tl=function(){},Ol={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl},Tl.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Tl.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new function(){}(new function(){}(Tl.getStackTrace(r))),s=0;s<i;s++)try{o+=a.readLine()+Tl.NEWLINE}catch(t){if(!(t instanceof Li))throw t;ku.shouldNeverReachHere()}return o}},Tl.split=function(t,e){for(var n=e.length,r=new nl,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),u=0;u<s.length;u++)s[u]=r.get(u);return s},Tl.toString=function(){if(1===arguments.length){var t=arguments[0];return Tl.SIMPLE_ORDINATE_FORMAT.format(t)}},Tl.spaces=function(t){return Tl.chars(" ",t)},Ol.NEWLINE.get=function(){return wu.getProperty("line.separator")},Ol.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Tl,Ol);var Cl=function(){};Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl},Cl.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Cl.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,vu.X)===t.getOrdinate(e-1,vu.X)&&t.getOrdinate(0,vu.Y)===t.getOrdinate(e-1,vu.Y)},Cl.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=t.getOrdinate(i,o),s=e.getOrdinate(i,o);if(t.getOrdinate(i,o)!==e.getOrdinate(i,o)&&(!Js.isNaN(a)||!Js.isNaN(s)))return!1}return!0},Cl.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Cl.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Cl.copy(e,i-1,r,o,1);return r},Cl.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Cl.swap(t,r,e-r)},Cl.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Cl.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Cl.copyCoord(t,e+o,n,r+o)},Cl.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new hu;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Tl.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Cl.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Cl.createClosedRing(t,e,4):e.getOrdinate(0,vu.X)===e.getOrdinate(n-1,vu.X)&&e.getOrdinate(0,vu.Y)===e.getOrdinate(n-1,vu.Y)?e:Cl.createClosedRing(t,e,n+1)},Cl.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Cl.copy(e,0,r,0,i);for(var o=i;o<n;o++)Cl.copy(e,0,r,o,1);return r};var Al=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new xu:this._points.expandEnvelope(new xu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Cl.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?yl.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Vu.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Cl.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(uu(arguments[0],zu))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(uu(arguments[0],El)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(uu(arguments[0],bl)||uu(arguments[0],Uu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Sl(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Zs("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[dl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Gu),Ll=function(){};Ll.prototype.interfaces_=function(){return[]},Ll.prototype.getClass=function(){return Ll};var Pl=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new xu;var t=new xu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return yl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(uu(arguments[0],zu)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(uu(arguments[0],El)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(uu(arguments[0],bl)||uu(arguments[0],Uu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),ku.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Ll]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Gu),Rl=function(){};Rl.prototype.interfaces_=function(){return[]},Rl.prototype.getClass=function(){return Rl};var Ml=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new Zs("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new Zs("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(Vu.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(Vu.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var u=t.getX(s),l=t.getY(s);if(u!==o===(l!==a))return!1;o=u,a=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);ml.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);wu.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=ol.minCoordinate(e.getCoordinates());ol.scroll(r,i),wu.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],Vu.isCCW(e.getCoordinates())===n&&ol.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,a=this._shell,s=o._shell,u=a.compareToSameClass(s,i);if(0!==u)return u;for(var l=this.getNumInteriorRing(),c=o.getNumInteriorRing(),h=0;h<l&&h<c;){var f=this.getInteriorRingN(h),p=o.getInteriorRingN(h),d=f.compareToSameClass(p,i);if(0!==d)return d;h++}return h<l?1:h<c?-1:0}},e.prototype.apply=function(t){if(uu(t,zu)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(uu(t,El)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(uu(t,bl))t.filter(this);else if(uu(t,Uu)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Rl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Gu),kl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return yl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Ll]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(_l),Il=function(t){function e(e,n){e instanceof nu&&n instanceof Zl&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return yl.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Cl.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Zs("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Zs("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Al),Nl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new nl,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Rl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(_l),Dl=function(t){this._factory=t||null,this._isUserDataCopied=!1},jl={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Dl.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Dl.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Dl.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof _l?this.editGeometryCollection(t,e):t instanceof Ml?this.editPolygon(t,e):t instanceof Pl||t instanceof Al?e.edit(t,this._factory):(ku.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Dl.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new nl,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===kl?this._factory.createMultiPoint(r.toArray([])):n.getClass()===wl?this._factory.createMultiLineString(r.toArray([])):n.getClass()===Nl?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},Dl.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new nl,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},Dl.prototype.interfaces_=function(){return[]},Dl.prototype.getClass=function(){return Dl},Dl.GeometryEditorOperation=function(){},jl.NoOpGeometryOperation.get=function(){return Fl},jl.CoordinateOperation.get=function(){return Vl},jl.CoordinateSequenceOperation.get=function(){return Bl},Object.defineProperties(Dl,jl);var Fl=function(){};Fl.prototype.edit=function(t,e){return t},Fl.prototype.interfaces_=function(){return[Dl.GeometryEditorOperation]},Fl.prototype.getClass=function(){return Fl};var Vl=function(){};Vl.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Il?e.createLinearRing(n):t instanceof Al?e.createLineString(n):t instanceof Pl?n.length>0?e.createPoint(n[0]):e.createPoint():t},Vl.prototype.interfaces_=function(){return[Dl.GeometryEditorOperation]},Vl.prototype.getClass=function(){return Vl};var Bl=function(){};Bl.prototype.edit=function(t,e){return t instanceof Il?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Al?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Pl?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Bl.prototype.interfaces_=function(){return[Dl.GeometryEditorOperation]},Bl.prototype.getClass=function(){return Bl};var Ul=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new nu}else if(uu(arguments[0],vu)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var u=0;u<a;u++)this._coordinates[u]=new nu}},Gl={serialVersionUID:{configurable:!0}};Ul.prototype.setOrdinate=function(t,e,n){switch(e){case vu.X:this._coordinates[t].x=n;break;case vu.Y:this._coordinates[t].y=n;break;case vu.Z:this._coordinates[t].z=n;break;default:throw new Zs("invalid ordinateIndex")}},Ul.prototype.size=function(){return this._coordinates.length},Ul.prototype.getOrdinate=function(t,e){switch(e){case vu.X:return this._coordinates[t].x;case vu.Y:return this._coordinates[t].y;case vu.Z:return this._coordinates[t].z}return Js.NaN},Ul.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},Ul.prototype.getCoordinateCopy=function(t){return new nu(this._coordinates[t])},Ul.prototype.getDimension=function(){return this._dimension},Ul.prototype.getX=function(t){return this._coordinates[t].x},Ul.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Ul(t,this._dimension)},Ul.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Ul.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Ul(t,this._dimension)},Ul.prototype.toString=function(){if(this._coordinates.length>0){var t=new hu(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Ul.prototype.getY=function(t){return this._coordinates[t].y},Ul.prototype.toCoordinateArray=function(){return this._coordinates},Ul.prototype.interfaces_=function(){return[vu,yi]},Ul.prototype.getClass=function(){return Ul},Gl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Ul,Gl);var Wl=function(){},Kl={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Wl.prototype.readResolve=function(){return Wl.instance()},Wl.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Ul(t)}if(uu(arguments[0],vu)){var e=arguments[0];return new Ul(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new Ul(n):new Ul(n,r)}},Wl.prototype.interfaces_=function(){return[ou,yi]},Wl.prototype.getClass=function(){return Wl},Wl.instance=function(){return Wl.instanceObject},Kl.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Kl.instanceObject.get=function(){return new Wl},Object.defineProperties(Wl,Kl);var zl=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new nl,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new hl;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(ll),Hl=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ql){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},Yl={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Hl.prototype.equals=function(t){if(!(t instanceof Hl))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},Hl.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new fu(n).compareTo(new fu(r))},Hl.prototype.getScale=function(){return this._scale},Hl.prototype.isFloating=function(){return this._modelType===Hl.FLOATING||this._modelType===Hl.FLOATING_SINGLE},Hl.prototype.getType=function(){return this._modelType},Hl.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Hl.FLOATING?t="Floating":this._modelType===Hl.FLOATING_SINGLE?t="Floating-Single":this._modelType===Hl.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Hl.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return Js.isNaN(t)||this._modelType===Hl.FLOATING_SINGLE?t:this._modelType===Hl.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof nu){var e=arguments[0];if(this._modelType===Hl.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Hl.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Hl.FLOATING?t=16:this._modelType===Hl.FLOATING_SINGLE?t=6:this._modelType===Hl.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Hl.prototype.setScale=function(t){this._scale=Math.abs(t)},Hl.prototype.interfaces_=function(){return[yi,$s]},Hl.prototype.getClass=function(){return Hl},Hl.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Yl.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Yl.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Hl,Yl);var ql=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Xl={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ql.prototype.readResolve=function(){return ql.nameToTypeMap.get(this._name)},ql.prototype.toString=function(){return this._name},ql.prototype.interfaces_=function(){return[yi]},ql.prototype.getClass=function(){return ql},Xl.serialVersionUID.get=function(){return-552860263173159e4},Xl.nameToTypeMap.get=function(){return new zl},Object.defineProperties(ql,Xl),Hl.Type=ql,Hl.FIXED=new ql("FIXED"),Hl.FLOATING=new ql("FLOATING"),Hl.FLOATING_SINGLE=new ql("FLOATING SINGLE");var Zl=function t(){this._precisionModel=new Hl,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?uu(arguments[0],ou)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Hl&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Jl={serialVersionUID:{configurable:!0}};Zl.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new nu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new nu(t.getMinX(),t.getMinY()),new nu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new nu(t.getMinX(),t.getMinY()),new nu(t.getMinX(),t.getMaxY()),new nu(t.getMaxX(),t.getMaxY()),new nu(t.getMaxX(),t.getMinY()),new nu(t.getMinX(),t.getMinY())]),null)},Zl.prototype.createLineString=function(t){return t?t instanceof Array?new Al(this.getCoordinateSequenceFactory().create(t),this):uu(t,vu)?new Al(t,this):void 0:new Al(this.getCoordinateSequenceFactory().create([]),this)},Zl.prototype.createMultiLineString=function(){if(0===arguments.length)return new wl(null,this);if(1===arguments.length){var t=arguments[0];return new wl(t,this)}},Zl.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Zl.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof Ml)return this.createMultiPolygon(Zl.toPolygonArray(t));if(s instanceof Al)return this.createMultiLineString(Zl.toLineStringArray(t));if(s instanceof Pl)return this.createMultiPoint(Zl.toPointArray(t));ku.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},Zl.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Zl.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(uu(arguments[0],vu)){var e=arguments[0];return new Pl(e,this)}}},Zl.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Zl.prototype.createPolygon=function(){if(0===arguments.length)return new Ml(null,null,this);if(1===arguments.length){if(uu(arguments[0],vu)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Il){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new Ml(r,i,this)}},Zl.prototype.getSRID=function(){return this._SRID},Zl.prototype.createGeometryCollection=function(){if(0===arguments.length)return new _l(null,this);if(1===arguments.length){var t=arguments[0];return new _l(t,this)}},Zl.prototype.createGeometry=function(t){return new Dl(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},Zl.prototype.getPrecisionModel=function(){return this._precisionModel},Zl.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(uu(arguments[0],vu)){var e=arguments[0];return new Il(e,this)}}},Zl.prototype.createMultiPolygon=function(){if(0===arguments.length)return new Nl(null,this);if(1===arguments.length){var t=arguments[0];return new Nl(t,this)}},Zl.prototype.createMultiPoint=function(){if(0===arguments.length)return new kl(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new kl(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(uu(arguments[0],vu)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Cl.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},Zl.prototype.interfaces_=function(){return[yi]},Zl.prototype.getClass=function(){return Zl},Zl.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.getDefaultCoordinateSequenceFactory=function(){return Wl.instance()},Zl.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Jl.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Zl,Jl);var Ql=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],$l=function(t){this.geometryFactory=t||new Zl};$l.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!tc[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Ql.indexOf(n)?tc[n].apply(this,[e.coordinates]):"GeometryCollection"===n?tc[n].apply(this,[e.geometries]):tc[n].apply(this,[e])},$l.prototype.write=function(t){var e=t.getGeometryType();if(!ec[e])throw new Error("Geometry is not supported");return ec[e].apply(this,[t])};var tc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!tc[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=tc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new nu(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new nu(t[0],t[1]),new nu(t[2],t[1]),new nu(t[2],t[3]),new nu(t[0],t[3]),new nu(t[0],t[1])])},Point:function(t){var e=new nu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=tc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=tc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],a=tc.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(tc.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},ec={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:ec.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=ec.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(ec.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=ec.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=ec.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=ec.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=ec.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(ec[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},nc=function(t){this.geometryFactory=t||new Zl,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new $l(this.geometryFactory)};nc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Hl.FIXED&&this.reducePrecision(e),e},nc.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var rc=function(){this.parser=new $l(this.geometryFactory)};rc.prototype.write=function(t){return this.parser.write(t)};var ic=function(){},oc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic},ic.opposite=function(t){return t===ic.LEFT?ic.RIGHT:t===ic.RIGHT?ic.LEFT:t},oc.ON.get=function(){return 0},oc.LEFT.get=function(){return 1},oc.RIGHT.get=function(){return 2},Object.defineProperties(ic,oc),(Pi.prototype=new Error).name="EmptyStackException",(Ri.prototype=new el).add=function(t){return this.array_.push(t),!0},Ri.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Ri.prototype.push=function(t){return this.array_.push(t),t},Ri.prototype.pop=function(t){if(0===this.array_.length)throw new Pi;return this.array_.pop()},Ri.prototype.peek=function(){if(0===this.array_.length)throw new Pi;return this.array_[this.array_.length-1]},Ri.prototype.empty=function(){return 0===this.array_.length},Ri.prototype.isEmpty=function(){return this.empty()},Ri.prototype.search=function(t){return this.array_.indexOf(t)},Ri.prototype.size=function(){return this.array_.length},Ri.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var ac=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};ac.prototype.getCoordinate=function(){return this._minCoord},ac.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},ac.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();ku.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=Vu.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===Vu.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===Vu.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},ac.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=ic.LEFT;return n[e].y<n[e+1].y&&(r=ic.RIGHT),r},ac.prototype.getEdge=function(){return this._orientedDe},ac.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},ac.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},ac.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}ku.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===ic.LEFT&&(this._orientedDe=this._minDe.getSym())},ac.prototype.interfaces_=function(){return[]},ac.prototype.getClass=function(){return ac};var sc=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new nu(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Ru),uc=function(){this.array_=[]};uc.prototype.addLast=function(t){this.array_.push(t)},uc.prototype.removeFirst=function(){return this.array_.shift()},uc.prototype.isEmpty=function(){return 0===this.array_.length};var lc=function(){this._finder=null,this._dirEdgeList=new nl,this._nodes=new nl,this._rightMostCoord=null,this._env=null,this._finder=new ac};lc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},lc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},lc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new sc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},lc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(ic.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},lc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},lc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(ic.RIGHT)>=1&&e.getDepth(ic.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},lc.prototype.computeDepths=function(t){var e=new hl,n=new uc,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},lc.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},lc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new xu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},lc.prototype.addReachable=function(t){var e=new Ri;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},lc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(ic.LEFT,t.getDepth(ic.RIGHT)),e.setDepth(ic.RIGHT,t.getDepth(ic.LEFT))},lc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},lc.prototype.getNodes=function(){return this._nodes},lc.prototype.getDirectedEdges=function(){return this._dirEdgeList},lc.prototype.interfaces_=function(){return[$s]},lc.prototype.getClass=function(){return lc};var cc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[ic.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[ic.ON]=o,this.location[ic.LEFT]=a,this.location[ic.RIGHT]=s}};cc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},cc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==au.NONE)return!1;return!0},cc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===au.NONE&&(this.location[e]=t)},cc.prototype.isLine=function(){return 1===this.location.length},cc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[ic.ON]=this.location[ic.ON],e[ic.LEFT]=au.NONE,e[ic.RIGHT]=au.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===au.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},cc.prototype.getLocations=function(){return this.location},cc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[ic.LEFT];this.location[ic.LEFT]=this.location[ic.RIGHT],this.location[ic.RIGHT]=t},cc.prototype.toString=function(){var t=new hu;return this.location.length>1&&t.append(au.toLocationSymbol(this.location[ic.LEFT])),t.append(au.toLocationSymbol(this.location[ic.ON])),this.location.length>1&&t.append(au.toLocationSymbol(this.location[ic.RIGHT])),t.toString()},cc.prototype.setLocations=function(t,e,n){this.location[ic.ON]=t,this.location[ic.LEFT]=e,this.location[ic.RIGHT]=n},cc.prototype.get=function(t){return t<this.location.length?this.location[t]:au.NONE},cc.prototype.isArea=function(){return this.location.length>1},cc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===au.NONE)return!0;return!1},cc.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(ic.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},cc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(au.NONE)},cc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},cc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},cc.prototype.interfaces_=function(){return[]},cc.prototype.getClass=function(){return cc};var hc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new cc(e),this.elt[1]=new cc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new cc(n.elt[0]),this.elt[1]=new cc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new cc(au.NONE),this.elt[1]=new cc(au.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new cc(o,a,s),this.elt[1]=new cc(o,a,s)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new cc(au.NONE,au.NONE,au.NONE),this.elt[1]=new cc(au.NONE,au.NONE,au.NONE),this.elt[u].setLocations(l,c,h)}};hc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},hc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},hc.prototype.isNull=function(t){return this.elt[t].isNull()},hc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},hc.prototype.isLine=function(t){return this.elt[t].isLine()},hc.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new cc(t.elt[e]):this.elt[e].merge(t.elt[e])},hc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},hc.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(ic.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},hc.prototype.toString=function(){var t=new hu;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},hc.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},hc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},hc.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(ic.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},hc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},hc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},hc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new cc(this.elt[t].location[0]))},hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc},hc.toLineLabel=function(t){for(var e=new hc(au.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var fc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new nl,this._pts=new nl,this._label=new hc(au.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new nl,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};fc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Vu.isCCW(this._ring.getCoordinates())},fc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},fc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new sc("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new sc("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();ku.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},fc.prototype.getLinearRing=function(){return this._ring},fc.prototype.getCoordinate=function(t){return this._pts.get(t)},fc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},fc.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},fc.prototype.isHole=function(){return this._isHole},fc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},fc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Vu.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},fc.prototype.addHole=function(t){this._holes.add(t)},fc.prototype.isShell=function(){return null===this._shell},fc.prototype.getLabel=function(){return this._label},fc.prototype.getEdges=function(){return this._edges},fc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},fc.prototype.getShell=function(){return this._shell},fc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,ic.RIGHT);if(r===au.NONE)return null;if(this._label.getLocation(n)===au.NONE)return this._label.setLocation(n,r),null}},fc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},fc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var pc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fc),dc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new nl,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new pc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fc),gc=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};gc.prototype.setVisited=function(t){this._isVisited=t},gc.prototype.setInResult=function(t){this._isInResult=t},gc.prototype.isCovered=function(){return this._isCovered},gc.prototype.isCoveredSet=function(){return this._isCoveredSet},gc.prototype.setLabel=function(t){this._label=t},gc.prototype.getLabel=function(){return this._label},gc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},gc.prototype.updateIM=function(t){ku.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},gc.prototype.isInResult=function(){return this._isInResult},gc.prototype.isVisited=function(){return this._isVisited},gc.prototype.interfaces_=function(){return[]},gc.prototype.getClass=function(){return gc};var mc=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new hc(0,au.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=au.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==au.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new hc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof hc)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===au.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=au.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case au.BOUNDARY:n=au.INTERIOR;break;case au.INTERIOR:default:n=au.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gc),yc=function(){this.nodeMap=new Oi,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};yc.prototype.find=function(t){return this.nodeMap.get(t)},yc.prototype.addNode=function(){if(arguments[0]instanceof nu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof mc){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},yc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},yc.prototype.iterator=function(){return this.nodeMap.values().iterator()},yc.prototype.values=function(){return this.nodeMap.values()},yc.prototype.getBoundaryNodes=function(t){for(var e=new nl,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===au.BOUNDARY&&e.add(r)}return e},yc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},yc.prototype.interfaces_=function(){return[]},yc.prototype.getClass=function(){return yc};var vc=function(){},bc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};vc.prototype.interfaces_=function(){return[]},vc.prototype.getClass=function(){return vc},vc.isNorthern=function(t){return t===vc.NE||t===vc.NW},vc.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},vc.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},vc.isInHalfPlane=function(t,e){return e===vc.SE?t===vc.SE||t===vc.SW:t===e||t===e+1},vc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Zs("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?vc.NE:vc.SE:e>=0?vc.NW:vc.SW}if(arguments[0]instanceof nu&&arguments[1]instanceof nu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new Zs("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?vc.NE:vc.SE:r.y>=n.y?vc.NW:vc.SW}},bc.NE.get=function(){return 0},bc.NW.get=function(){return 1},bc.SW.get=function(){return 2},bc.SE.get=function(){return 3},Object.defineProperties(vc,bc);var Ec=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this._edge=i,this.init(o,a),this._label=s}};Ec.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Vu.computeOrientation(t._p0,t._p1,this._p1)},Ec.prototype.getDy=function(){return this._dy},Ec.prototype.getCoordinate=function(){return this._p0},Ec.prototype.setNode=function(t){this._node=t},Ec.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ec.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ec.prototype.getDirectedCoordinate=function(){return this._p1},Ec.prototype.getDx=function(){return this._dx},Ec.prototype.getLabel=function(){return this._label},Ec.prototype.getEdge=function(){return this._edge},Ec.prototype.getQuadrant=function(){return this._quadrant},Ec.prototype.getNode=function(){return this._node},Ec.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ec.prototype.computeLabel=function(t){},Ec.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=vc.quadrant(this._dx,this._dy),ku.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ec.prototype.interfaces_=function(){return[$s]},Ec.prototype.getClass=function(){return Ec};var _c=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new hc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new sc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,ic.LEFT)===au.INTERIOR&&this._label.getLocation(e,ic.RIGHT)===au.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[ic.LEFT]+"/"+this._depth[ic.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,au.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,au.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===ic.LEFT&&(r=-1);var i=ic.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===au.EXTERIOR&&e===au.INTERIOR?1:t===au.INTERIOR&&e===au.EXTERIOR?-1:0},e}(Ec),wc=function(){};wc.prototype.createNode=function(t){return new mc(t,null)},wc.prototype.interfaces_=function(){return[]},wc.prototype.getClass=function(){return wc};var Sc=function(){if(this._edges=new nl,this._nodes=null,this._edgeEndList=new nl,0===arguments.length)this._nodes=new yc(new wc);else if(1===arguments.length){var t=arguments[0];this._nodes=new yc(t)}};Sc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Sc.prototype.find=function(t){return this._nodes.find(t)},Sc.prototype.addNode=function(){if(arguments[0]instanceof mc){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof nu){var e=arguments[0];return this._nodes.addNode(e)}},Sc.prototype.getNodeIterator=function(){return this._nodes.iterator()},Sc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Sc.prototype.debugPrintln=function(t){wu.out.println(t)},Sc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===au.BOUNDARY},Sc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Sc.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&Vu.computeOrientation(t,e,r)===Vu.COLLINEAR&&vc.quadrant(t,e)===vc.quadrant(n,r)},Sc.prototype.getEdgeEnds=function(){return this._edgeEndList},Sc.prototype.debugPrint=function(t){wu.out.print(t)},Sc.prototype.getEdgeIterator=function(){return this._edges.iterator()},Sc.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},Sc.prototype.insertEdge=function(t){this._edges.add(t)},Sc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Sc.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new _c(n,!0),i=new _c(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Sc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Sc.prototype.getNodes=function(){return this._nodes.values()},Sc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc},Sc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var xc=function(){this._geometryFactory=null,this._shellList=new nl;var t=arguments[0];this._geometryFactory=t};xc.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},xc.prototype.computePolygons=function(t){for(var e=new nl,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},xc.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new sc("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},xc.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new nl,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},xc.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},xc.prototype.buildMaximalEdgeRings=function(t){for(var e=new nl,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new dc(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},xc.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},xc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},xc.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var u=s.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&Vu.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(o=u)}return o},xc.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return ku.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},xc.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Sc.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new nl,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},xc.prototype.interfaces_=function(){return[]},xc.prototype.getClass=function(){return xc};var Tc=function(){};Tc.prototype.getBounds=function(){},Tc.prototype.interfaces_=function(){return[]},Tc.prototype.getClass=function(){return Tc};var Oc=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Oc.prototype.getItem=function(){return this._item},Oc.prototype.getBounds=function(){return this._bounds},Oc.prototype.interfaces_=function(){return[Tc,yi]},Oc.prototype.getClass=function(){return Oc};var Cc=function(){this._size=null,this._items=null,this._size=0,this._items=new nl,this._items.add(null)};Cc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Cc.prototype.size=function(){return this._size},Cc.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Cc.prototype.clear=function(){this._size=0,this._items.clear()},Cc.prototype.isEmpty=function(){return 0===this._size},Cc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc};var Ac=function(){};Ac.prototype.visitItem=function(t){},Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac};var Lc=function(){};Lc.prototype.insert=function(t,e){},Lc.prototype.remove=function(t,e){},Lc.prototype.query=function(){},Lc.prototype.interfaces_=function(){return[]},Lc.prototype.getClass=function(){return Lc};var Pc=function(){if(this._childBoundables=new nl,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Rc={serialVersionUID:{configurable:!0}};Pc.prototype.getLevel=function(){return this._level},Pc.prototype.size=function(){return this._childBoundables.size()},Pc.prototype.getChildBoundables=function(){return this._childBoundables},Pc.prototype.addChildBoundable=function(t){ku.isTrue(null===this._bounds),this._childBoundables.add(t)},Pc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Pc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Pc.prototype.interfaces_=function(){return[Tc,yi]},Pc.prototype.getClass=function(){return Pc},Rc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Pc,Rc);var Mc=function(){};Mc.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Mc.min=function(t){return Mc.sort(t),t.get(0)},Mc.sort=function(t,e){var n=t.toArray();e?ml.sort(n,e):ml.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Mc.singletonList=function(t){var e=new nl;return e.add(t),e};var kc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};kc.prototype.expandToQueue=function(t,e){var n=kc.isComposite(this._boundable1),r=kc.isComposite(this._boundable2);if(n&&r)return kc.area(this._boundable1)>kc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Zs("neither boundable is composite")},kc.prototype.isLeaves=function(){return!(kc.isComposite(this._boundable1)||kc.isComposite(this._boundable2))},kc.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},kc.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new kc(o,e,this._itemDistance);a.getDistance()<r&&n.add(a)}},kc.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},kc.prototype.getDistance=function(){return this._distance},kc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},kc.prototype.interfaces_=function(){return[$s]},kc.prototype.getClass=function(){return kc},kc.area=function(t){return t.getBounds().getArea()},kc.isComposite=function(t){return t instanceof Pc};var Ic=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new nl,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];ku.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},Nc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Ic.prototype.getNodeCapacity=function(){return this._nodeCapacity},Ic.prototype.lastNode=function(t){return t.get(t.size()-1)},Ic.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Pc?t+=this.size(n):n instanceof Oc&&(t+=1)}return t}},Ic.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Oc&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Ic.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new nl:t}if(1===arguments.length){for(var e=arguments[0],n=new nl,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Pc){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Oc?n.add(i.getItem()):ku.shouldNeverReachHere()}return n.size()<=0?null:n}},Ic.prototype.insert=function(t,e){ku.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Oc(t,e))},Ic.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new nl;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(ku.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Pc?this.boundablesAtLevel(n,a,i):(ku.isTrue(a instanceof Oc),-1===n&&i.add(a))}return null}},Ic.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new nl;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(uu(arguments[2],Ac)&&arguments[0]instanceof Object&&arguments[1]instanceof Pc)for(var i=arguments[0],o=arguments[1],a=arguments[2],s=o.getChildBoundables(),u=0;u<s.size();u++){var l=s.get(u);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof Pc?this.query(i,l,a):l instanceof Oc?a.visitItem(l.getItem()):ku.shouldNeverReachHere())}else if(uu(arguments[2],el)&&arguments[0]instanceof Object&&arguments[1]instanceof Pc)for(var c=arguments[0],h=arguments[1],f=arguments[2],p=h.getChildBoundables(),d=0;d<p.size();d++){var g=p.get(d);this.getIntersectsOp().intersects(g.getBounds(),c)&&(g instanceof Pc?this.query(c,g,f):g instanceof Oc?f.add(g.getItem()):ku.shouldNeverReachHere())}},Ic.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Ic.prototype.getRoot=function(){return this.build(),this._root},Ic.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Pc&&(o=this.remove(n,u,i))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},Ic.prototype.createHigherLevels=function(t,e){ku.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Ic.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Pc){var r=this.depth(n);r>t&&(t=r)}}return t+1}},Ic.prototype.createParentBoundables=function(t,e){ku.isTrue(!t.isEmpty());var n=new nl;n.add(this.createNode(e));var r=new nl(t);Mc.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},Ic.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Ic.prototype.interfaces_=function(){return[yi]},Ic.prototype.getClass=function(){return Ic},Ic.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Nc.IntersectsOp.get=function(){return Dc},Nc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Nc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Ic,Nc);var Dc=function(){},jc=function(){};jc.prototype.distance=function(t,e){},jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc};var Fc=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){ku.isTrue(t.length>0);for(var n=new nl,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new Vc(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new nl;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(uu(arguments[2],Ac)&&arguments[0]instanceof Object&&arguments[1]instanceof Pc){var i=arguments[0],o=arguments[1],a=arguments[2];t.prototype.query.call(this,i,o,a)}else if(uu(arguments[2],el)&&arguments[0]instanceof Object&&arguments[1]instanceof Pc){var s=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,s,u,l)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){ku.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new nl(t);Mc.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(uu(arguments[0],jc)){var t=arguments[0],n=new kc(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof kc){var r=arguments[0];return this.nearestNeighbour(r,Js.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&uu(arguments[1],jc)){var i=arguments[0],o=arguments[1],a=new kc(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof kc&&"number"==typeof arguments[1]){var s=arguments[0],u=arguments[1],l=null,c=new Cc;for(c.add(s);!c.isEmpty()&&u>0;){var h=c.poll(),f=h.getDistance();if(f>=u)break;h.isLeaves()?(u=f,l=h):h.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[0],d=arguments[1],g=arguments[2],m=new Oc(p,d),y=new kc(this.getRoot(),m,g);return this.nearestNeighbour(y)[0]}},e.prototype.interfaces_=function(){return[Lc,yi]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return Vc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[eu]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[eu]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Ic),Vc=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new xu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Pc),Bc=function(){};Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc},Bc.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Bc.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Bc.relativeSign(e.x,n.x),i=Bc.relativeSign(e.y,n.y);switch(t){case 0:return Bc.compareValue(r,i);case 1:return Bc.compareValue(i,r);case 2:return Bc.compareValue(i,-r);case 3:return Bc.compareValue(-r,i);case 4:return Bc.compareValue(-r,-i);case 5:return Bc.compareValue(-i,-r);case 6:return Bc.compareValue(-i,r);case 7:return Bc.compareValue(r,-i)}return ku.shouldNeverReachHere("invalid octant value"),0},Bc.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Uc=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new nu(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};Uc.prototype.getCoordinate=function(){return this.coord},Uc.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Uc.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Bc.compare(this._segmentOctant,this.coord,e.coord)},Uc.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Uc.prototype.isInterior=function(){return this._isInterior},Uc.prototype.interfaces_=function(){return[$s]},Uc.prototype.getClass=function(){return Uc};var Gc=function(){this._nodeMap=new Oi,this._edge=null;var t=arguments[0];this._edge=t};Gc.prototype.getSplitCoordinates=function(){var t=new il;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},Gc.prototype.addCollapsedNodes=function(){var t=new nl;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Gc.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Gc.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new fu(e+1))}},Gc.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new nu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new nu(e.coord))},Gc.prototype.iterator=function(){return this._nodeMap.values().iterator()},Gc.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Gc.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},Gc.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new fu(e[0])),r=i}},Gc.prototype.getEdge=function(){return this._edge},Gc.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Gc.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new nu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new nu(e.coord)),new Hc(o,this._edge.getData())},Gc.prototype.add=function(t,e){var n=new Uc(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(ku.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},Gc.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Ru("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Ru("bad split edge end point at "+i)},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc};var Wc=function(){};Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc},Wc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Zs("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof nu&&arguments[1]instanceof nu){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new Zs("Cannot compute the octant for two identical points "+i);return Wc.octant(a,s)}};var Kc=function(){};Kc.prototype.getCoordinates=function(){},Kc.prototype.size=function(){},Kc.prototype.getCoordinate=function(t){},Kc.prototype.isClosed=function(){},Kc.prototype.setData=function(t){},Kc.prototype.getData=function(){},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var zc=function(){};zc.prototype.addIntersection=function(t,e){},zc.prototype.interfaces_=function(){return[Kc]},zc.prototype.getClass=function(){return zc};var Hc=function(){this._nodeList=new Gc(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Hc.prototype.getCoordinates=function(){return this._pts},Hc.prototype.size=function(){return this._pts.length},Hc.prototype.getCoordinate=function(t){return this._pts[t]},Hc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Hc.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Hc.prototype.setData=function(t){this._data=t},Hc.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Wc.octant(t,e)},Hc.prototype.getData=function(){return this._data},Hc.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new nu(n.getIntersection(i));this.addIntersection(o,r)}},Hc.prototype.toString=function(){return Pu.toLineString(new Ul(this._pts))},Hc.prototype.getNodeList=function(){return this._nodeList},Hc.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},Hc.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},Hc.prototype.interfaces_=function(){return[zc]},Hc.prototype.getClass=function(){return Hc},Hc.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new nl;return Hc.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)};var Yc=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new nu,this.p1=new nu;else if(1===arguments.length){var t=arguments[0];this.p0=new nu(t.p0),this.p1=new nu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new nu(e,n),this.p1=new nu(r,i)}},qc={serialVersionUID:{configurable:!0}};Yc.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Yc.prototype.orientationIndex=function(){if(arguments[0]instanceof Yc){var t=arguments[0],e=Vu.orientationIndex(this.p0,this.p1,t.p0),n=Vu.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof nu){var r=arguments[0];return Vu.orientationIndex(this.p0,this.p1,r)}},Yc.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Yc.prototype.isVertical=function(){return this.p0.x===this.p1.x},Yc.prototype.equals=function(t){if(!(t instanceof Yc))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Yc.prototype.intersection=function(t){var e=new Du;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Yc.prototype.project=function(){if(arguments[0]instanceof nu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new nu(t);var e=this.projectionFactor(t),n=new nu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Yc){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new Yc(a,s)}},Yc.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Yc.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Yc.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Yc.prototype.distancePerpendicular=function(t){return Vu.distancePointLinePerpendicular(t,this.p0,this.p1)},Yc.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Yc.prototype.midPoint=function(){return Yc.midPoint(this.p0,this.p1)},Yc.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?Js.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},Yc.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=Js.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(i=a.distance(t.p1))<r&&(r=i,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},Yc.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Yc.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Yc.prototype.getLength=function(){return this.p0.distance(this.p1)},Yc.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Yc.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Yc.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Yc.prototype.lineIntersection=function(t){try{return Su.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof _u))throw t}return null},Yc.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Yc.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,u=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*i/a,u=e*o/a}return new nu(n-u,r+s)},Yc.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Yc.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Js.isNaN(e))&&(e=1),e},Yc.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Yc.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Yc.prototype.distance=function(){if(arguments[0]instanceof Yc){var t=arguments[0];return Vu.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof nu){var e=arguments[0];return Vu.distancePointLine(e,this.p0,this.p1)}},Yc.prototype.pointAlong=function(t){var e=new nu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Yc.prototype.hashCode=function(){var t=Js.doubleToLongBits(this.p0.x);t^=31*Js.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=Js.doubleToLongBits(this.p1.x);return n^=31*Js.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Yc.prototype.interfaces_=function(){return[$s,yi]},Yc.prototype.getClass=function(){return Yc},Yc.midPoint=function(t,e){return new nu((t.x+e.x)/2,(t.y+e.y)/2)},qc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Yc,qc);var Xc=function(){this.tempEnv1=new xu,this.tempEnv2=new xu,this._overlapSeg1=new Yc,this._overlapSeg2=new Yc};Xc.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc};var Zc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};Zc.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Zc.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,r),a<n&&this.computeSelect(t,a,n,r)},Zc.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Zc.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Zc.prototype.setId=function(t){this._id=t},Zc.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Zc.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new xu(t,e)}return this._env},Zc.prototype.getEndIndex=function(){return this._end},Zc.prototype.getStartIndex=function(){return this._start},Zc.prototype.getContext=function(){return this._context},Zc.prototype.getId=function(){return this._id},Zc.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var a=this._pts[t],s=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((r+i)/2);t<c&&(r<h&&this.computeOverlapsInternal(t,c,n,r,h,o),h<i&&this.computeOverlapsInternal(t,c,n,h,i,o)),c<e&&(r<h&&this.computeOverlapsInternal(c,e,n,r,h,o),h<i&&this.computeOverlapsInternal(c,e,n,h,i,o))},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var Jc=function(){};Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc},Jc.getChainStartIndices=function(t){var e=0,n=new nl;n.add(new fu(e));do{var r=Jc.findChainEnd(t,e);n.add(new fu(r)),e=r}while(e<t.length-1);return Jc.toIntArray(n)},Jc.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=vc.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||vc.quadrant(t[i-1],t[i])===r);)i++;return i-1},Jc.getChains=function(){if(1===arguments.length){var t=arguments[0];return Jc.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new nl,i=Jc.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new Zc(e,i[o],i[o+1],n);r.add(a)}return r}},Jc.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Qc=function(){};Qc.prototype.computeNodes=function(t){},Qc.prototype.getNodedSubstrings=function(){},Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc};var $c=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};$c.prototype.setSegmentIntersector=function(t){this._segInt=t},$c.prototype.interfaces_=function(){return[Qc]},$c.prototype.getClass=function(){return $c};var th=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new nl,this._index=new Fc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Hc.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=Jc.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new eh(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return eh},Object.defineProperties(e,n),e}($c),eh=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),a=r.getContext();this._si.processIntersections(o,n,a,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xc),nh=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},rh={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};nh.prototype.getEndCapStyle=function(){return this._endCapStyle},nh.prototype.isSingleSided=function(){return this._isSingleSided},nh.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=nh.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=nh.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==nh.JOIN_ROUND&&(this._quadrantSegments=nh.DEFAULT_QUADRANT_SEGMENTS)},nh.prototype.getJoinStyle=function(){return this._joinStyle},nh.prototype.setJoinStyle=function(t){this._joinStyle=t},nh.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},nh.prototype.getSimplifyFactor=function(){return this._simplifyFactor},nh.prototype.getQuadrantSegments=function(){return this._quadrantSegments},nh.prototype.setEndCapStyle=function(t){this._endCapStyle=t},nh.prototype.getMitreLimit=function(){return this._mitreLimit},nh.prototype.setMitreLimit=function(t){this._mitreLimit=t},nh.prototype.setSingleSided=function(t){this._isSingleSided=t},nh.prototype.interfaces_=function(){return[]},nh.prototype.getClass=function(){return nh},nh.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},rh.CAP_ROUND.get=function(){return 1},rh.CAP_FLAT.get=function(){return 2},rh.CAP_SQUARE.get=function(){return 3},rh.JOIN_ROUND.get=function(){return 1},rh.JOIN_MITRE.get=function(){return 2},rh.JOIN_BEVEL.get=function(){return 3},rh.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},rh.DEFAULT_MITRE_LIMIT.get=function(){return 5},rh.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(nh,rh);var ih=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Vu.COUNTERCLOCKWISE,this._inputLine=t||null},oh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};ih.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},ih.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=ih.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},ih.prototype.isShallowConcavity=function(t,e,n,r){return Vu.computeOrientation(t,e,n)===this._angleOrientation&&Vu.distancePointLine(e,t,n)<r},ih.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/ih.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this._inputLine[a],i))return!1;return!0},ih.prototype.isConcave=function(t,e,n){return Vu.computeOrientation(t,e,n)===this._angleOrientation},ih.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Vu.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},ih.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===ih.DELETE;)e++;return e},ih.prototype.isShallow=function(t,e,n,r){return Vu.distancePointLine(e,t,n)<r},ih.prototype.collapseLine=function(){for(var t=new il,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==ih.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih},ih.simplify=function(t,e){return new ih(t).simplify(e)},oh.INIT.get=function(){return 0},oh.DELETE.get=function(){return 1},oh.KEEP.get=function(){return 1},oh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(ih,oh);var ah=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new nl},sh={COORDINATE_ARRAY_TYPE:{configurable:!0}};ah.prototype.getCoordinates=function(){return this._ptList.toArray(ah.COORDINATE_ARRAY_TYPE)},ah.prototype.setPrecisionModel=function(t){this._precisionModel=t},ah.prototype.addPt=function(t){var e=new nu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},ah.prototype.revere=function(){},ah.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},ah.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},ah.prototype.toString=function(){return(new Zl).createLineString(this.getCoordinates()).toString()},ah.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new nu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},ah.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},sh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(ah,sh);var uh=function(){},lh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh},uh.toDegrees=function(t){return 180*t/Math.PI},uh.normalize=function(t){for(;t>Math.PI;)t-=uh.PI_TIMES_2;for(;t<=-Math.PI;)t+=uh.PI_TIMES_2;return t},uh.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},uh.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},uh.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},uh.interiorAngle=function(t,e,n){var r=uh.angle(e,t),i=uh.angle(e,n);return Math.abs(i-r)},uh.normalizePositive=function(t){if(t<0){for(;t<0;)t+=uh.PI_TIMES_2;t>=uh.PI_TIMES_2&&(t=0)}else{for(;t>=uh.PI_TIMES_2;)t-=uh.PI_TIMES_2;t<0&&(t=0)}return t},uh.angleBetween=function(t,e,n){var r=uh.angle(e,t),i=uh.angle(e,n);return uh.diff(r,i)},uh.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},uh.toRadians=function(t){return t*Math.PI/180},uh.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?uh.COUNTERCLOCKWISE:n<0?uh.CLOCKWISE:uh.NONE},uh.angleBetweenOriented=function(t,e,n){var r=uh.angle(e,t),i=uh.angle(e,n)-r;return i<=-Math.PI?i+uh.PI_TIMES_2:i>Math.PI?i-uh.PI_TIMES_2:i},lh.PI_TIMES_2.get=function(){return 2*Math.PI},lh.PI_OVER_2.get=function(){return Math.PI/2},lh.PI_OVER_4.get=function(){return Math.PI/4},lh.COUNTERCLOCKWISE.get=function(){return Vu.COUNTERCLOCKWISE},lh.CLOCKWISE.get=function(){return Vu.CLOCKWISE},lh.NONE.get=function(){return Vu.COLLINEAR},Object.defineProperties(uh,lh);var ch=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Yc,this._seg1=new Yc,this._offset0=new Yc,this._offset1=new Yc,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Du,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===nh.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},hh={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};ch.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Vu.computeOrientation(this._s0,this._s1,this._s2),r=n===Vu.CLOCKWISE&&this._side===ic.LEFT||n===Vu.COUNTERCLOCKWISE&&this._side===ic.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},ch.prototype.addLineEndCap=function(t,e){var n=new Yc(t,e),r=new Yc;this.computeOffsetSegment(n,ic.LEFT,this._distance,r);var i=new Yc;this.computeOffsetSegment(n,ic.RIGHT,this._distance,i);var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case nh.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,s+Math.PI/2,s-Math.PI/2,Vu.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case nh.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case nh.CAP_SQUARE:var u=new nu;u.x=Math.abs(this._distance)*Math.cos(s),u.y=Math.abs(this._distance)*Math.sin(s);var l=new nu(r.p1.x+u.x,r.p1.y+u.y),c=new nu(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},ch.prototype.getCoordinates=function(){return this._segList.getCoordinates()},ch.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=Su.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof _u))throw t;o=new nu(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},ch.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);r===Vu.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,s,c,r,i),this._segList.addPt(n)},ch.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*ch.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===nh.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===nh.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},ch.prototype.createSquare=function(t){this._segList.addPt(new nu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new nu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new nu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new nu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},ch.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},ch.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},ch.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},ch.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},ch.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=uh.angle(i,this._seg0.p0),a=uh.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=uh.normalize(o+a),u=uh.normalize(s+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(a)),h=i.x+l*Math.cos(u),f=i.y+l*Math.sin(u),p=new nu(h,f),d=new Yc(i,p),g=d.pointAlongOffset(1,c),m=d.pointAlongOffset(1,-c);this._side===ic.LEFT?(this._segList.addPt(g),this._segList.addPt(m)):(this._segList.addPt(m),this._segList.addPt(g))},ch.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===ic.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),u=i*n*o/s,l=i*n*a/s;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},ch.prototype.addFilletArc=function(t,e,n,r,i){var o=r===Vu.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,l=0,c=new nu;l<a;){var h=e+o*l;c.x=t.x+i*Math.cos(h),c.y=t.y+i*Math.sin(h),this._segList.addPt(c),l+=u}},ch.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*ch.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new nu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new nu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},ch.prototype.createCircle=function(t){var e=new nu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},ch.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},ch.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new ah,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*ch.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},ch.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===nh.JOIN_BEVEL||this._bufParams.getJoinStyle()===nh.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Vu.CLOCKWISE,this._distance))},ch.prototype.closeRing=function(){this._segList.closeRing()},ch.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch},hh.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},hh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},hh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},hh.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(ch,hh);var fh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};fh.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&ol.reverse(o),o},fh.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=ih.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],ic.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=ih.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],ic.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()},fh.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===ic.RIGHT&&(r=-r);var i=ih.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},fh.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=ih.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],ic.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=ih.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],ic.LEFT);for(var u=s-2;u>=0;u--)e.addNextSegment(a[u],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},fh.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case nh.CAP_ROUND:e.createCircle(t);break;case nh.CAP_SQUARE:e.createSquare(t)}},fh.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},fh.prototype.getBufferParameters=function(){return this._bufParams},fh.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},fh.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return fh.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},fh.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=ih.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],ic.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=ih.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],ic.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()},fh.prototype.getSegGen=function(t){return new ch(this._precisionModel,this._bufParams,t)},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh},fh.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new nu(t[n]);return e};var ph=function(){this._subgraphs=null,this._seg=new Yc,this._cga=new Vu;var t=arguments[0];this._subgraphs=t},dh={DepthSegment:{configurable:!0}};ph.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new nl,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(uu(arguments[2],el)&&arguments[0]instanceof nu&&arguments[1]instanceof _c){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||Vu.computeOrientation(this._seg.p0,this._seg.p1,o)===Vu.RIGHT)){var c=a.getDepth(ic.LEFT);this._seg.p0.equals(u[l])||(c=a.getDepth(ic.RIGHT));var h=new gh(this._seg,c);s.add(h)}}else if(uu(arguments[2],el)&&arguments[0]instanceof nu&&uu(arguments[1],el))for(var f=arguments[0],p=arguments[1],d=arguments[2],g=p.iterator();g.hasNext();){var m=g.next();m.isForward()&&this.findStabbedSegments(f,m,d)}},ph.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Mc.min(e)._leftDepth},ph.prototype.interfaces_=function(){return[]},ph.prototype.getClass=function(){return ph},dh.DepthSegment.get=function(){return gh},Object.defineProperties(ph,dh);var gh=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new Yc(t),this._leftDepth=e};gh.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},gh.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},gh.prototype.toString=function(){return this._upwardSeg.toString()},gh.prototype.interfaces_=function(){return[$s]},gh.prototype.getClass=function(){return gh};var mh=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};mh.prototype.area=function(){return mh.area(this.p0,this.p1,this.p2)},mh.prototype.signedArea=function(){return mh.signedArea(this.p0,this.p1,this.p2)},mh.prototype.interpolateZ=function(t){if(null===t)throw new Zs("Supplied point is null.");return mh.interpolateZ(t,this.p0,this.p1,this.p2)},mh.prototype.longestSideLength=function(){return mh.longestSideLength(this.p0,this.p1,this.p2)},mh.prototype.isAcute=function(){return mh.isAcute(this.p0,this.p1,this.p2)},mh.prototype.circumcentre=function(){return mh.circumcentre(this.p0,this.p1,this.p2)},mh.prototype.area3D=function(){return mh.area3D(this.p0,this.p1,this.p2)},mh.prototype.centroid=function(){return mh.centroid(this.p0,this.p1,this.p2)},mh.prototype.inCentre=function(){return mh.inCentre(this.p0,this.p1,this.p2)},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh},mh.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},mh.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},mh.det=function(t,e,n,r){return t*r-e*n},mh.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,u=n.y-o,l=r.y-o,c=a*l-s*u,h=t.x-i,f=t.y-o,p=(l*h-s*f)/c,d=(-u*h+a*f)/c;return e.z+p*(n.z-e.z)+d*(r.z-e.z)},mh.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},mh.isAcute=function(t,e,n){return!!uh.isAcute(t,e,n)&&!!uh.isAcute(e,n,t)&&!!uh.isAcute(n,t,e)},mh.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,u=e.y-i,l=2*mh.det(o,a,s,u),c=mh.det(a,o*o+a*a,u,s*s+u*u),h=mh.det(o,o*o+a*a,s,s*s+u*u);return new nu(r-c/l,i+h/l)},mh.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Su(t.x+n/2,t.y+r/2,1),o=new Su(t.x-r+n/2,t.y+n+r/2,1);return new Su(i,o)},mh.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,a=n.y-t.y;return new nu(t.x+i*o,t.y+i*a)},mh.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,u=n.z-t.z,l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,f=l*l+c*c+h*h;return Math.sqrt(f)/2},mh.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new nu(r,i)},mh.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o,s=(r*t.x+i*e.x+o*n.x)/a,u=(r*t.y+i*e.y+o*n.y)/a;return new nu(s,u)};var yh=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new nl;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};yh.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,au.EXTERIOR,au.INTERIOR)},yh.prototype.addPolygon=function(t){var e=this._distance,n=ic.LEFT;this._distance<0&&(e=-this._distance,n=ic.RIGHT);var r=t.getExteriorRing(),i=ol.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,au.EXTERIOR,au.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=ol.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,ic.opposite(n),au.INTERIOR,au.EXTERIOR)}},yh.prototype.isTriangleErodedCompletely=function(t,e){var n=new mh(t[0],t[1],t[2]),r=n.inCentre();return Vu.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},yh.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=ol.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,au.EXTERIOR,au.INTERIOR)},yh.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new Hc(t,new hc(0,au.BOUNDARY,e,n));this._curveList.add(r)},yh.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},yh.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<Il.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=Il.MINIMUM_VALID_SIZE&&Vu.isCCW(t)&&(o=i,a=r,n=ic.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},yh.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Ml?this.addPolygon(t):t instanceof Al?this.addLineString(t):t instanceof Pl?this.addPoint(t):(t instanceof kl||t instanceof wl||t instanceof Nl||t instanceof _l)&&this.addCollection(t)},yh.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},yh.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh};var vh=function(){};vh.prototype.locate=function(t){},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh};var bh=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};bh.prototype.next=function(){if(this._atStart)return this._atStart=!1,bh.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new vi;var t=this._parent.getGeometryN(this._index++);return t instanceof _l?(this._subcollectionIterator=new bh(t),this._subcollectionIterator.next()):t},bh.prototype.remove=function(){throw new Error(this.getClass().getName())},bh.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},bh.prototype.interfaces_=function(){return[tl]},bh.prototype.getClass=function(){return bh},bh.isAtomic=function(t){return!(t instanceof _l)};var Eh=function(){this._geom=null;var t=arguments[0];this._geom=t};Eh.prototype.locate=function(t){return Eh.locate(t,this._geom)},Eh.prototype.interfaces_=function(){return[vh]},Eh.prototype.getClass=function(){return Eh},Eh.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Vu.isPointInRing(t,e.getCoordinates())},Eh.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Eh.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(Eh.isPointInRing(t,i))return!1}return!0},Eh.containsPoint=function(t,e){if(e instanceof Ml)return Eh.containsPointInPolygon(t,e);if(e instanceof _l)for(var n=new bh(e);n.hasNext();){var r=n.next();if(r!==e&&Eh.containsPoint(t,r))return!0}return!1},Eh.locate=function(t,e){return e.isEmpty()?au.EXTERIOR:Eh.containsPoint(t,e)?au.INTERIOR:au.EXTERIOR};var _h=function(){this._edgeMap=new Oi,this._edgeList=null,this._ptInAreaLocation=[au.NONE,au.NONE]};_h.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},_h.prototype.propagateSideLabels=function(t){for(var e=au.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,ic.LEFT)!==au.NONE&&(e=r.getLocation(t,ic.LEFT))}if(e===au.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(t,ic.ON)===au.NONE&&s.setLocation(t,ic.ON,i),s.isArea(t)){var u=s.getLocation(t,ic.LEFT),l=s.getLocation(t,ic.RIGHT);if(l!==au.NONE){if(l!==i)throw new sc("side location conflict",a.getCoordinate());u===au.NONE&&ku.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=u}else ku.isTrue(s.getLocation(t,ic.LEFT)===au.NONE,"found single null side"),s.setLocation(t,ic.RIGHT,i),s.setLocation(t,ic.LEFT,i)}}},_h.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},_h.prototype.print=function(t){wu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},_h.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},_h.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,ic.LEFT);ku.isTrue(r!==au.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();ku.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,ic.LEFT),u=a.getLocation(t,ic.RIGHT);if(s===u)return!1;if(u!==i)return!1;i=s}return!0},_h.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},_h.prototype.iterator=function(){return this.getEdges().iterator()},_h.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new nl(this._edgeMap.values())),this._edgeList},_h.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===au.NONE&&(this._ptInAreaLocation[t]=Eh.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},_h.prototype.toString=function(){var t=new hu;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},_h.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},_h.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===au.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var l=au.NONE;if(e[u])l=au.EXTERIOR;else{var c=a.getCoordinate();l=this.getLocation(u,c,t)}s.setAllLocationsIfNull(u,l)}},_h.prototype.getDegree=function(){return this._edgeMap.size()},_h.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},_h.prototype.interfaces_=function(){return[]},_h.prototype.getClass=function(){return _h};var wh=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new sc("no outgoing dirEdge found",this.getCoordinate());ku.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return vc.isNorthern(i)&&vc.isNorthern(o)?n:vc.isNorthern(i)||vc.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(ku.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){wu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new nl;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(ic.LEFT),r=t.getDepth(ic.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new sc("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=o;u<a;u++){var l=this._edgeList.get(u);l.setEdgeDepths(ic.RIGHT,s),s=l.getDepth(ic.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(ku.isTrue(null!==e,"found null for first outgoing dirEdge"),ku.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=au.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=au.INTERIOR;break}if(r.isInResult()){t=au.EXTERIOR;break}}}if(t===au.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===au.INTERIOR):(a.isInResult()&&(i=au.EXTERIOR),s.isInResult()&&(i=au.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new hc(au.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==au.INTERIOR&&o!==au.BOUNDARY||this._label.setLocation(i,au.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(_h),Sh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new mc(t,new wh)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(wc),xh=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};xh.prototype.compareTo=function(t){var e=t;return xh.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},xh.prototype.interfaces_=function(){return[$s]},xh.prototype.getClass=function(){return xh},xh.orientation=function(t){return 1===ol.increasingDirection(t)},xh.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=i)===a,f=(l+=o)===s;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};var Th=function(){this._edges=new nl,this._ocaMap=new Oi};Th.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Th.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Th.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Th.prototype.iterator=function(){return this._edges.iterator()},Th.prototype.getEdges=function(){return this._edges},Th.prototype.get=function(t){return this._edges.get(t)},Th.prototype.findEqualEdge=function(t){var e=new xh(t.getCoordinates());return this._ocaMap.get(e)},Th.prototype.add=function(t){this._edges.add(t);var e=new xh(t.getCoordinates());this._ocaMap.put(e,t)},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th};var Oh=function(){};Oh.prototype.processIntersections=function(t,e,n,r){},Oh.prototype.isDone=function(){},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh};var Ch=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Ch.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Ch.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Ch.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Ch.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Ch.prototype.getLineIntersector=function(){return this._li},Ch.prototype.hasProperIntersection=function(){return this._hasProper},Ch.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Ch.prototype.hasIntersection=function(){return this._hasIntersection},Ch.prototype.isDone=function(){return!1},Ch.prototype.hasInteriorIntersection=function(){return this._hasInterior},Ch.prototype.interfaces_=function(){return[Oh]},Ch.prototype.getClass=function(){return Ch},Ch.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Ah=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new nu(t),this.segmentIndex=e,this.dist=n};Ah.prototype.getSegmentIndex=function(){return this.segmentIndex},Ah.prototype.getCoordinate=function(){return this.coord},Ah.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Ah.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Ah.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Ah.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Ah.prototype.getDistance=function(){return this.dist},Ah.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Ah.prototype.interfaces_=function(){return[$s]},Ah.prototype.getClass=function(){return Ah};var Lh=function(){this._nodeMap=new Oi,this.edge=null;var t=arguments[0];this.edge=t};Lh.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Lh.prototype.iterator=function(){return this._nodeMap.values().iterator()},Lh.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Lh.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Lh.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new nu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=e.coord),new Ih(o,new hc(this.edge._label))},Lh.prototype.add=function(t,e,n){var r=new Ah(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Lh.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh};var Ph=function(){};Ph.prototype.getChainStartIndices=function(t){var e=0,n=new nl;n.add(new fu(e));do{var r=this.findChainEnd(t,e);n.add(new fu(r)),e=r}while(e<t.length-1);return Ph.toIntArray(n)},Ph.prototype.findChainEnd=function(t,e){for(var n=vc.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&vc.quadrant(t[r-1],t[r])===n;)r++;return r-1},Ph.prototype.interfaces_=function(){return[]},Ph.prototype.getClass=function(){return Ph},Ph.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Rh=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new xu,this.env2=new xu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Ph;this.startIndex=e.getChainStartIndices(this.pts)};Rh.prototype.getCoordinates=function(){return this.pts},Rh.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Rh.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Rh.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],h=this.pts[o],f=a.pts[s],p=a.pts[u];if(o-i==1&&u-s==1)return l.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(c,h),this.env2.init(f,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),g=Math.trunc((s+u)/2);i<d&&(s<g&&this.computeIntersectsForChain(i,d,a,s,g,l),g<u&&this.computeIntersectsForChain(i,d,a,g,u,l)),d<o&&(s<g&&this.computeIntersectsForChain(d,o,a,s,g,l),g<u&&this.computeIntersectsForChain(d,o,a,g,u,l))}},Rh.prototype.getStartIndexes=function(){return this.startIndex},Rh.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh};var Mh=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},kh={NULL_VALUE:{configurable:!0}};Mh.prototype.getDepth=function(t,e){return this._depth[t][e]},Mh.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Mh.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Mh.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===Mh.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===Mh.NULL_VALUE}},Mh.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},Mh.prototype.getDelta=function(t){return this._depth[t][ic.RIGHT]-this._depth[t][ic.LEFT]},Mh.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?au.EXTERIOR:au.INTERIOR},Mh.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Mh.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==au.EXTERIOR&&r!==au.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=Mh.depthAtLocation(r):this._depth[e][n]+=Mh.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===au.INTERIOR&&this._depth[i][o]++}},Mh.prototype.interfaces_=function(){return[]},Mh.prototype.getClass=function(){return Mh},Mh.depthAtLocation=function(t){return t===au.EXTERIOR?0:t===au.INTERIOR?1:Mh.NULL_VALUE},kh.NULL_VALUE.get=function(){return-1},Object.defineProperties(Mh,kh);var Ih=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Lh(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Mh,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,hc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Rh(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new xu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new nu(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var u=this.pts[s];i.equals2D(u)&&(o=s,a=0)}this.eiList.add(i,o,a)},e.prototype.toString=function(){var t=new hu;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,ic.ON),e.getLocation(1,ic.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,ic.LEFT),e.getLocation(1,ic.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,ic.RIGHT),e.getLocation(1,ic.RIGHT),2))},e}(gc),Nh=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Th,this._bufParams=t||null};Nh.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Nh.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new hc(t.getLabel())).flip(),n.merge(r);var i=Nh.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Nh.depthDelta(t.getLabel()))},Nh.prototype.buildSubgraphs=function(t,e){for(var n=new nl,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new ph(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},Nh.prototype.createSubgraphs=function(t){for(var e=new nl,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new lc;i.create(r),e.add(i)}}return Mc.sort(e,Mc.reverseOrder()),e},Nh.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Nh.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new th,n=new Du;return n.setPrecisionModel(t),e.setSegmentIntersector(new Ch(n)),e},Nh.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new fh(n,this._bufParams),i=new yh(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Sc(new Sh),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new xc(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},Nh.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new Ih(i.getCoordinates(),new hc(a));this.insertUniqueEdge(s)}}},Nh.prototype.setNoder=function(t){this._workingNoder=t},Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh},Nh.depthDelta=function(t){var e=t.getLocation(0,ic.LEFT),n=t.getLocation(0,ic.RIGHT);return e===au.INTERIOR&&n===au.EXTERIOR?1:e===au.EXTERIOR&&n===au.INTERIOR?-1:0},Nh.convertSegStrings=function(t){for(var e=new Zl,n=new nl;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var Dh=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};Dh.prototype.rescale=function(){if(uu(arguments[0],Qu))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&wu.out.println(n)}},Dh.prototype.scale=function(){if(uu(arguments[0],Qu)){for(var t=arguments[0],e=new nl,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Hc(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new nu(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].z);return ol.removeRepeatedPoints(o)}},Dh.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Dh.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Dh.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Dh.prototype.interfaces_=function(){return[Qc]},Dh.prototype.getClass=function(){return Dh};var jh=function(){this._li=new Du,this._segStrings=null;var t=arguments[0];this._segStrings=t},Fh={fact:{configurable:!0}};jh.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Ru("found endpt/interior pt intersection at index "+o+" :pt "+n)},jh.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),u=0;u<a.length-1;u++)for(var l=0;l<s.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3];if(c===f&&h===p)return null;var d=c.getCoordinates()[h],g=c.getCoordinates()[h+1],m=f.getCoordinates()[p],y=f.getCoordinates()[p+1];if(this._li.computeIntersection(d,g,m,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,g)||this.hasInteriorIntersection(this._li,m,y)))throw new Ru("found non-noded intersection at "+d+"-"+g+" and "+m+"-"+y)}},jh.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},jh.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},jh.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},jh.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Ru("found non-noded collapse at "+jh.fact.createLineString([t,e,n]))},jh.prototype.interfaces_=function(){return[]},jh.prototype.getClass=function(){return jh},Fh.fact.get=function(){return new Zl},Object.defineProperties(jh,Fh);var Vh=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Zs("Scale factor must be non-zero");1!==e&&(this._pt=new nu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new nu,this._p1Scaled=new nu),this.initCorners(this._pt)},Bh={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Vh.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return ku.isTrue(!(a&&s),"Found bad envelope test"),s},Vh.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new nu(this._maxx,this._maxy),this._corner[1]=new nu(this._minx,this._maxy),this._corner[2]=new nu(this._minx,this._miny),this._corner[3]=new nu(this._maxx,this._miny)},Vh.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Vh.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Vh.prototype.getCoordinate=function(){return this._originalPt},Vh.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Vh.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Vh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new xu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Vh.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},Vh.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!t.equals(this._pt)||!!e.equals(this._pt))))},Vh.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh},Bh.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Vh,Bh);var Uh=function(){this.tempEnv1=new xu,this.selectedSegment=new Yc};Uh.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},Uh.prototype.interfaces_=function(){return[]},Uh.prototype.getClass=function(){return Uh};var Gh=function(){this._index=null;var t=arguments[0];this._index=t},Wh={HotPixelSnapAction:{configurable:!0}};Gh.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new Kh(e,n,r);return this._index.query(i,{interfaces_:function(){return[Ac]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},Gh.prototype.interfaces_=function(){return[]},Gh.prototype.getClass=function(){return Gh},Wh.HotPixelSnapAction.get=function(){return Kh},Object.defineProperties(Gh,Wh);var Kh=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Uh),zh=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new nl};zh.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},zh.prototype.isDone=function(){return!1},zh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},zh.prototype.interfaces_=function(){return[Oh]},zh.prototype.getClass=function(){return zh};var Hh=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Du,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Hh.prototype.checkCorrectness=function(t){var e=Hc.getNodedSubstrings(t),n=new jh(e);try{n.checkValid()}catch(t){if(!(t instanceof Eu))throw t;t.printStackTrace()}},Hh.prototype.getNodedSubstrings=function(){return Hc.getNodedSubstrings(this._nodedSegStrings)},Hh.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Hh.prototype.findInteriorIntersections=function(t,e){var n=new zh(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Hh.prototype.computeVertexSnaps=function(){if(uu(arguments[0],Qu))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Hc)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new Vh(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},Hh.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new th,this._pointSnapper=new Gh(this._noder.getIndex()),this.snapRound(t,this._li)},Hh.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new Vh(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},Hh.prototype.interfaces_=function(){return[Qc]},Hh.prototype.getClass=function(){return Hh};var Yh=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new nh,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},qh={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Yh.prototype.bufferFixedPrecision=function(t){var e=new Dh(new Hh(new Hl(1)),t.getScale()),n=new Nh(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Yh.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Yh.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof sc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=Yh.precisionScaleFactor(this._argGeom,this._distance,n),i=new Hl(r);this.bufferFixedPrecision(i)}},Yh.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Hl.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Yh.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Yh.prototype.bufferOriginalPrecision=function(){try{var t=new Nh(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Ru))throw t;this._saveException=t}},Yh.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Yh.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh},Yh.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Yh(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Gu&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Yh(n);return o.setQuadrantSegments(i),o.getResultGeometry(r)}if(arguments[2]instanceof nh&&arguments[0]instanceof Gu&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],u=arguments[2];return new Yh(a,u).getResultGeometry(s)}}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],f=arguments[3],p=new Yh(l);return p.setQuadrantSegments(h),p.setEndCapStyle(f),p.getResultGeometry(c)}},Yh.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=lu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},qh.CAP_ROUND.get=function(){return nh.CAP_ROUND},qh.CAP_BUTT.get=function(){return nh.CAP_FLAT},qh.CAP_FLAT.get=function(){return nh.CAP_FLAT},qh.CAP_SQUARE.get=function(){return nh.CAP_SQUARE},qh.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Yh,qh);var Xh=function(){this._pt=[new nu,new nu],this._distance=Js.NaN,this._isNull=!0};Xh.prototype.getCoordinates=function(){return this._pt},Xh.prototype.getCoordinate=function(t){return this._pt[t]},Xh.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Xh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Xh.prototype.getDistance=function(){return this._distance},Xh.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh};var Zh=function(){};Zh.prototype.interfaces_=function(){return[]},Zh.prototype.getClass=function(){return Zh},Zh.computeDistance=function(){if(arguments[2]instanceof Xh&&arguments[0]instanceof Al&&arguments[1]instanceof nu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),i=new Yc,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var a=i.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof Xh&&arguments[0]instanceof Ml&&arguments[1]instanceof nu){var s=arguments[0],u=arguments[1],l=arguments[2];Zh.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)Zh.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Xh&&arguments[0]instanceof Gu&&arguments[1]instanceof nu){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof Al)Zh.computeDistance(h,f,p);else if(h instanceof Ml)Zh.computeDistance(h,f,p);else if(h instanceof _l)for(var d=h,g=0;g<d.getNumGeometries();g++){var m=d.getGeometryN(g);Zh.computeDistance(m,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof Xh&&arguments[0]instanceof Yc&&arguments[1]instanceof nu){var y=arguments[0],v=arguments[1],b=arguments[2],E=y.closestPoint(v);b.setMinimum(E,v)}};var Jh=function(t){this._maxPtDist=new Xh,this._inputGeom=t||null},Qh={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Jh.prototype.computeMaxMidpointDistance=function(t){var e=new tf(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Jh.prototype.computeMaxVertexDistance=function(t){var e=new $h(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Jh.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Jh.prototype.getDistancePoints=function(){return this._maxPtDist},Jh.prototype.interfaces_=function(){return[]},Jh.prototype.getClass=function(){return Jh},Qh.MaxPointDistanceFilter.get=function(){return $h},Qh.MaxMidpointDistanceFilter.get=function(){return tf},Object.defineProperties(Jh,Qh);var $h=function(t){this._maxPtDist=new Xh,this._minPtDist=new Xh,this._geom=t||null};$h.prototype.filter=function(t){this._minPtDist.initialize(),Zh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},$h.prototype.getMaxPointDistance=function(){return this._maxPtDist},$h.prototype.interfaces_=function(){return[zu]},$h.prototype.getClass=function(){return $h};var tf=function(t){this._maxPtDist=new Xh,this._minPtDist=new Xh,this._geom=t||null};tf.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new nu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),Zh.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},tf.prototype.isDone=function(){return!1},tf.prototype.isGeometryChanged=function(){return!1},tf.prototype.getMaxPointDistance=function(){return this._maxPtDist},tf.prototype.interfaces_=function(){return[El]},tf.prototype.getClass=function(){return tf};var ef=function(t){this._comps=t||null};ef.prototype.filter=function(t){t instanceof Ml&&this._comps.add(t)},ef.prototype.interfaces_=function(){return[bl]},ef.prototype.getClass=function(){return ef},ef.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return ef.getPolygons(t,new nl)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Ml?n.add(e):e instanceof _l&&e.apply(new ef(n)),n}};var nf=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};nf.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Il){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Al&&this._lines.add(t)},nf.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},nf.prototype.interfaces_=function(){return[Uu]},nf.prototype.getClass=function(){return nf},nf.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(nf.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(nf.getLines(e,n))}},nf.getLines=function(){if(1===arguments.length){var t=arguments[0];return nf.getLines(t,!1)}if(2===arguments.length){if(uu(arguments[0],Qu)&&uu(arguments[1],Qu)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();nf.getLines(i,n)}return n}if(arguments[0]instanceof Gu&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1],s=new nl;return o.apply(new nf(s,a)),s}if(arguments[0]instanceof Gu&&uu(arguments[1],Qu)){var u=arguments[0],l=arguments[1];return u instanceof Al?l.add(u):u.apply(new nf(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&uu(arguments[0],Qu)&&uu(arguments[1],Qu)){for(var c=arguments[0],h=arguments[1],f=arguments[2],p=c.iterator();p.hasNext();){var d=p.next();nf.getLines(d,h,f)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Gu&&uu(arguments[1],Qu)){var g=arguments[0],m=arguments[1],y=arguments[2];return g.apply(new nf(m,y)),m}}};var rf=function(){if(this._boundaryRule=Hu.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Zs("Rule must be non-null");this._boundaryRule=t}};rf.prototype.locateInternal=function(){if(arguments[0]instanceof nu&&arguments[1]instanceof Ml){var t=arguments[0],e=arguments[1];if(e.isEmpty())return au.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===au.EXTERIOR)return au.EXTERIOR;if(r===au.BOUNDARY)return au.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===au.INTERIOR)return au.EXTERIOR;if(a===au.BOUNDARY)return au.BOUNDARY}return au.INTERIOR}if(arguments[0]instanceof nu&&arguments[1]instanceof Al){var s=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(s))return au.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!s.equals(l[0])&&!s.equals(l[l.length-1])?Vu.isOnLine(s,l)?au.INTERIOR:au.EXTERIOR:au.BOUNDARY}if(arguments[0]instanceof nu&&arguments[1]instanceof Pl){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?au.INTERIOR:au.EXTERIOR}},rf.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Vu.locatePointInRing(t,e.getCoordinates()):au.EXTERIOR},rf.prototype.intersects=function(t,e){return this.locate(t,e)!==au.EXTERIOR},rf.prototype.updateLocationInfo=function(t){t===au.INTERIOR&&(this._isIn=!0),t===au.BOUNDARY&&this._numBoundaries++},rf.prototype.computeLocation=function(t,e){if(e instanceof Pl&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Al)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Ml)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof wl)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof Nl)for(var o=e,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof _l)for(var u=new bh(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},rf.prototype.locate=function(t,e){return e.isEmpty()?au.EXTERIOR:e instanceof Al||e instanceof Ml?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?au.BOUNDARY:this._numBoundaries>0||this._isIn?au.INTERIOR:au.EXTERIOR)},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf};var of=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},af={INSIDE_AREA:{configurable:!0}};of.prototype.isInsideArea=function(){return this._segIndex===of.INSIDE_AREA},of.prototype.getCoordinate=function(){return this._pt},of.prototype.getGeometryComponent=function(){return this._component},of.prototype.getSegmentIndex=function(){return this._segIndex},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of},af.INSIDE_AREA.get=function(){return-1},Object.defineProperties(of,af);var sf=function(t){this._pts=t||null};sf.prototype.filter=function(t){t instanceof Pl&&this._pts.add(t)},sf.prototype.interfaces_=function(){return[bl]},sf.prototype.getClass=function(){return sf},sf.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Pl?Mc.singletonList(t):sf.getPoints(t,new nl)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Pl?n.add(e):e instanceof _l&&e.apply(new sf(n)),n}};var uf=function(){this._locations=null;var t=arguments[0];this._locations=t};uf.prototype.filter=function(t){(t instanceof Pl||t instanceof Al||t instanceof Ml)&&this._locations.add(new of(t,0,t.getCoordinate()))},uf.prototype.interfaces_=function(){return[bl]},uf.prototype.getClass=function(){return uf},uf.getLocations=function(t){var e=new nl;return t.apply(new uf(e)),e};var lf=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new rf,this._minDistanceLocation=null,this._minDistance=Js.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};lf.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=ef.getPolygons(this._geom[e]);if(i.size()>0){var o=uf.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&uu(arguments[0],el)&&uu(arguments[1],el)){for(var a=arguments[0],s=arguments[1],u=arguments[2],l=0;l<a.size();l++)for(var c=a.get(l),h=0;h<s.size();h++)if(this.computeContainmentDistance(c,s.get(h),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof of&&arguments[1]instanceof Ml){var f=arguments[0],p=arguments[1],d=arguments[2],g=f.getCoordinate();if(au.EXTERIOR!==this._ptLocator.locate(g,p))return this._minDistance=0,d[0]=f,d[1]=new of(p,g),null}},lf.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},lf.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=nf.getLines(this._geom[0]),n=nf.getLines(this._geom[1]),r=sf.getPoints(this._geom[0]),i=sf.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},lf.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},lf.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},lf.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},lf.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Al&&arguments[1]instanceof Pl){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var a=Vu.distancePointLine(i,r[o],r[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new Yc(r[o],r[o+1]).closestPoint(i);n[0]=new of(t,o,s),n[1]=new of(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Al&&arguments[1]instanceof Al){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var h=u.getCoordinates(),f=l.getCoordinates(),p=0;p<h.length-1;p++)for(var d=0;d<f.length-1;d++){var g=Vu.distanceLineLine(h[p],h[p+1],f[d],f[d+1]);if(g<this._minDistance){this._minDistance=g;var m=new Yc(h[p],h[p+1]),y=new Yc(f[d],f[d+1]),v=m.closestPoints(y);c[0]=new of(u,p,v[0]),c[1]=new of(l,d,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},lf.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new of(i,0,i.getCoordinate()),n[1]=new of(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},lf.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Zs("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},lf.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf},lf.distance=function(t,e){return new lf(t,e).distance()},lf.isWithinDistance=function(t,e,n){return new lf(t,e,n).distance()<=n},lf.nearestPoints=function(t,e){return new lf(t,e).nearestPoints()};var cf=function(){this._pt=[new nu,new nu],this._distance=Js.NaN,this._isNull=!0};cf.prototype.getCoordinates=function(){return this._pt},cf.prototype.getCoordinate=function(t){return this._pt[t]},cf.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},cf.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},cf.prototype.toString=function(){return Pu.toLineString(this._pt[0],this._pt[1])},cf.prototype.getDistance=function(){return this._distance},cf.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf};var hf=function(){};hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.computeDistance=function(){if(arguments[2]instanceof cf&&arguments[0]instanceof Al&&arguments[1]instanceof nu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new Yc,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof cf&&arguments[0]instanceof Ml&&arguments[1]instanceof nu){var s=arguments[0],u=arguments[1],l=arguments[2];hf.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)hf.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof cf&&arguments[0]instanceof Gu&&arguments[1]instanceof nu){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof Al)hf.computeDistance(h,f,p);else if(h instanceof Ml)hf.computeDistance(h,f,p);else if(h instanceof _l)for(var d=h,g=0;g<d.getNumGeometries();g++){var m=d.getGeometryN(g);hf.computeDistance(m,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof cf&&arguments[0]instanceof Yc&&arguments[1]instanceof nu){var y=arguments[0],v=arguments[1],b=arguments[2],E=y.closestPoint(v);b.setMinimum(E,v)}};var ff=function(){this._g0=null,this._g1=null,this._ptDist=new cf,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},pf={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};ff.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},ff.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Zs("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},ff.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},ff.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},ff.prototype.computeOrientedDistance=function(t,e,n){var r=new df(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new gf(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},ff.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff},ff.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new ff(t,e).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new ff(n,r);return o.setDensifyFraction(i),o.distance()}},pf.MaxPointDistanceFilter.get=function(){return df},pf.MaxDensifiedByFractionDistanceFilter.get=function(){return gf},Object.defineProperties(ff,pf);var df=function(){this._maxPtDist=new cf,this._minPtDist=new cf,this._euclideanDist=new hf,this._geom=null;var t=arguments[0];this._geom=t};df.prototype.filter=function(t){this._minPtDist.initialize(),hf.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},df.prototype.getMaxPointDistance=function(){return this._maxPtDist},df.prototype.interfaces_=function(){return[zu]},df.prototype.getClass=function(){return df};var gf=function(){this._maxPtDist=new cf,this._minPtDist=new cf,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};gf.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=n.x+a*i,u=n.y+a*o,l=new nu(s,u);this._minPtDist.initialize(),hf.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},gf.prototype.isDone=function(){return!1},gf.prototype.isGeometryChanged=function(){return!1},gf.prototype.getMaxPointDistance=function(){return this._maxPtDist},gf.prototype.interfaces_=function(){return[El]},gf.prototype.getClass=function(){return gf};var mf=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},yf={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};mf.prototype.checkMaximumDistance=function(t,e,n){var r=new ff(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Pu.toLineString(i[0],i[1])+")"}},mf.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=mf.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),mf.VERBOSE&&wu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},mf.prototype.checkNegativeValid=function(){if(!(this._input instanceof Ml||this._input instanceof Nl||this._input instanceof _l))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},mf.prototype.getErrorIndicator=function(){return this._errorIndicator},mf.prototype.checkMinimumDistance=function(t,e,n){var r=new lf(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Pu.toLineString(i[0],i[1])+" )"}},mf.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},mf.prototype.getErrorLocation=function(){return this._errorLocation},mf.prototype.getPolygonLines=function(t){for(var e=new nl,n=new nf(e),r=ef.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},mf.prototype.getErrorMessage=function(){return this._errMsg},mf.prototype.interfaces_=function(){return[]},mf.prototype.getClass=function(){return mf},yf.VERBOSE.get=function(){return!1},yf.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(mf,yf);var vf=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},bf={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};vf.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},vf.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*vf.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new xu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new xu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},vf.prototype.checkDistance=function(){var t=new mf(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},vf.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},vf.prototype.checkPolygonal=function(){this._result instanceof Ml||this._result instanceof Nl||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},vf.prototype.getErrorIndicator=function(){return this._errorIndicator},vf.prototype.getErrorLocation=function(){return this._errorLocation},vf.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},vf.prototype.report=function(t){if(!vf.VERBOSE)return null;wu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},vf.prototype.getErrorMessage=function(){return this._errorMsg},vf.prototype.interfaces_=function(){return[]},vf.prototype.getClass=function(){return vf},vf.isValidMsg=function(t,e,n){var r=new vf(t,e,n);return r.isValid()?null:r.getErrorMessage()},vf.isValid=function(t,e,n){return!!new vf(t,e,n).isValid()},bf.VERBOSE.get=function(){return!1},bf.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(vf,bf);var Ef=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Ef.prototype.getCoordinates=function(){return this._pts},Ef.prototype.size=function(){return this._pts.length},Ef.prototype.getCoordinate=function(t){return this._pts[t]},Ef.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ef.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Wc.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Ef.prototype.setData=function(t){this._data=t},Ef.prototype.getData=function(){return this._data},Ef.prototype.toString=function(){return Pu.toLineString(new Ul(this._pts))},Ef.prototype.interfaces_=function(){return[Kc]},Ef.prototype.getClass=function(){return Ef};var _f=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new nl,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};_f.prototype.getInteriorIntersection=function(){return this._interiorIntersection},_f.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},_f.prototype.getIntersectionSegments=function(){return this._intSegments},_f.prototype.count=function(){return this._intersectionCount},_f.prototype.getIntersections=function(){return this._intersections},_f.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},_f.prototype.setKeepIntersections=function(t){this._keepIntersections=t},_f.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},_f.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},_f.prototype.hasIntersection=function(){return null!==this._interiorIntersection},_f.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},_f.prototype.interfaces_=function(){return[Oh]},_f.prototype.getClass=function(){return _f},_f.createAllIntersectionsFinder=function(t){var e=new _f(t);return e.setFindAllIntersections(!0),e},_f.createAnyIntersectionFinder=function(t){return new _f(t)},_f.createIntersectionCounter=function(t){var e=new _f(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var wf=function(){this._li=new Du,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};wf.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},wf.prototype.getIntersections=function(){return this._segInt.getIntersections()},wf.prototype.isValid=function(){return this.execute(),this._isValid},wf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},wf.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new _f(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new th;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},wf.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new sc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},wf.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Pu.toLineString(t[0],t[1])+" and "+Pu.toLineString(t[2],t[3])},wf.prototype.interfaces_=function(){return[]},wf.prototype.getClass=function(){return wf},wf.computeIntersections=function(t){var e=new wf(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Sf=function t(){this._nv=null;var e=arguments[0];this._nv=new wf(t.toSegmentStrings(e))};Sf.prototype.checkValid=function(){this._nv.checkValid()},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf},Sf.toSegmentStrings=function(t){for(var e=new nl,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Ef(r.getCoordinates(),r))}return e},Sf.checkValid=function(t){new Sf(t).checkValid()};var xf=function(t){this._mapOp=t};xf.prototype.map=function(t){for(var e=new nl,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(Zl.toGeometryArray(e))},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf},xf.map=function(t,e){return new xf(e).map(t)};var Tf=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new nl,this._resultLineList=new nl;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Tf.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Tf.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Tf.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Tf.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!op.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Tf.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Tf.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Tf.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Tf.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(ku.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(op.isResultOfOp(r,e)&&e===op.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf};var Of=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new nl;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Of.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Of.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===op.INTERSECTION)){var r=n.getLabel();op.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Of.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of};var Cf=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Cf.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Cf.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof Il&&!r.isEmpty()||(n=!1);for(var i=new nl,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof Il||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new nl;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},Cf.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Cf.prototype.getInputGeometry=function(){return this._inputGeom},Cf.prototype.transformMultiLineString=function(t,e){for(var n=new nl,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Cf.prototype.transformCoordinates=function(t,e){return this.copy(t)},Cf.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Cf.prototype.transformMultiPoint=function(t,e){for(var n=new nl,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Cf.prototype.transformMultiPolygon=function(t,e){for(var n=new nl,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Cf.prototype.copy=function(t){return t.copy()},Cf.prototype.transformGeometryCollection=function(t,e){for(var n=new nl,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Zl.toGeometryArray(n)):this._factory.buildGeometry(n)},Cf.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Pl)return this.transformPoint(t,null);if(t instanceof kl)return this.transformMultiPoint(t,null);if(t instanceof Il)return this.transformLinearRing(t,null);if(t instanceof Al)return this.transformLineString(t,null);if(t instanceof wl)return this.transformMultiLineString(t,null);if(t instanceof Ml)return this.transformPolygon(t,null);if(t instanceof Nl)return this.transformMultiPolygon(t,null);if(t instanceof _l)return this.transformGeometryCollection(t,null);throw new Zs("Unknown Geometry subtype: "+t.getClass().getName())},Cf.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf};var Af=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Yc,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Al&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=i}};Af.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new nu(o)),0===r&&this._isClosed&&t.set(t.size()-1,new nu(o)))}},Af.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Af.prototype.snapTo=function(t){var e=new il(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Af.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new nu(i),!1)}},Af.prototype.findSegmentIndexToSnap=function(t,e){for(var n=Js.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Af.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Af.prototype.interfaces_=function(){return[]},Af.prototype.getClass=function(){return Af},Af.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Lf=function(t){this._srcGeom=t||null},Pf={SNAP_PRECISION_FACTOR:{configurable:!0}};Lf.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Rf(e,n).transform(this._srcGeom)},Lf.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Rf(t,n,!0).transform(this._srcGeom),i=r;return e&&uu(i,Rl)&&(i=r.buffer(0)),i},Lf.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Lf.prototype.extractTargetCoordinates=function(t){for(var e=new Ai,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Lf.prototype.computeMinimumSegmentLength=function(t){for(var e=Js.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf},Lf.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Lf(t);r[0]=i.snapTo(e,n);var o=new Lf(e);return r[1]=o.snapTo(r[0],n),r},Lf.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Lf.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Hl.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Lf.computeOverlaySnapTolerance(i),Lf.computeOverlaySnapTolerance(o))}},Lf.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Lf.SNAP_PRECISION_FACTOR},Lf.snapToSelf=function(t,e,n){return new Lf(t).snapToSelf(e,n)},Pf.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Lf,Pf);var Rf=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Af(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Cf),Mf=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Mf.prototype.getCommon=function(){return Js.longBitsToDouble(this._commonBits)},Mf.prototype.add=function(t){var e=Js.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Mf.signExpBits(this._commonBits),this._isFirst=!1,null):Mf.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Mf.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Mf.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Mf.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=Js.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Js.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf},Mf.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Mf.signExpBits=function(t){return t>>52},Mf.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Mf.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Mf.getBit(t,r)!==Mf.getBit(e,r))return n;n++}return 52};var kf=function(){this._commonCoord=null,this._ccFilter=new Nf},If={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};kf.prototype.addCommonBits=function(t){var e=new Df(this._commonCoord);t.apply(e),t.geometryChanged()},kf.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new nu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Df(e);return t.apply(n),t.geometryChanged(),t},kf.prototype.getCommonCoordinate=function(){return this._commonCoord},kf.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},kf.prototype.interfaces_=function(){return[]},kf.prototype.getClass=function(){return kf},If.CommonCoordinateFilter.get=function(){return Nf},If.Translater.get=function(){return Df},Object.defineProperties(kf,If);var Nf=function(){this._commonBitsX=new Mf,this._commonBitsY=new Mf};Nf.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Nf.prototype.getCommonCoordinate=function(){return new nu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Nf.prototype.interfaces_=function(){return[zu]},Nf.prototype.getClass=function(){return Nf};var Df=function(){this.trans=null;var t=arguments[0];this.trans=t};Df.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},Df.prototype.isDone=function(){return!1},Df.prototype.isGeometryChanged=function(){return!0},Df.prototype.interfaces_=function(){return[El]},Df.prototype.getClass=function(){return Df};var jf=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};jf.prototype.selfSnap=function(t){return new Lf(t).snapTo(t,this._snapTolerance)},jf.prototype.removeCommonBits=function(t){this._cbr=new kf,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},jf.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},jf.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=op.overlayOp(e[0],e[1],t);return this.prepareResult(n)},jf.prototype.checkValid=function(t){t.isValid()||wu.out.println("Snapped geometry is invalid")},jf.prototype.computeSnapTolerance=function(){this._snapTolerance=Lf.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},jf.prototype.snap=function(t){var e=this.removeCommonBits(t);return Lf.snap(e[0],e[1],this._snapTolerance)},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf},jf.overlayOp=function(t,e,n){return new jf(t,e).getResultGeometry(n)},jf.union=function(t,e){return jf.overlayOp(t,e,op.UNION)},jf.intersection=function(t,e){return jf.overlayOp(t,e,op.INTERSECTION)},jf.symDifference=function(t,e){return jf.overlayOp(t,e,op.SYMDIFFERENCE)},jf.difference=function(t,e){return jf.overlayOp(t,e,op.DIFFERENCE)};var Ff=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};Ff.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=op.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Ru))throw t;r=t}if(!n)try{e=jf.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Ru?r:t}return e},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff},Ff.overlayOp=function(t,e,n){return new Ff(t,e).getResultGeometry(n)},Ff.union=function(t,e){return Ff.overlayOp(t,e,op.UNION)},Ff.intersection=function(t,e){return Ff.overlayOp(t,e,op.INTERSECTION)},Ff.symDifference=function(t,e){return Ff.overlayOp(t,e,op.SYMDIFFERENCE)},Ff.difference=function(t,e){return Ff.overlayOp(t,e,op.DIFFERENCE)};var Vf=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};Vf.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Vf.prototype.interfaces_=function(){return[]},Vf.prototype.getClass=function(){return Vf};var Bf=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},Uf={INSERT:{configurable:!0},DELETE:{configurable:!0}};Bf.prototype.isDelete=function(){return this._eventType===Bf.DELETE},Bf.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Bf.prototype.getObject=function(){return this._obj},Bf.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},Bf.prototype.getInsertEvent=function(){return this._insertEvent},Bf.prototype.isInsert=function(){return this._eventType===Bf.INSERT},Bf.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Bf.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Bf.prototype.interfaces_=function(){return[$s]},Bf.prototype.getClass=function(){return Bf},Uf.INSERT.get=function(){return 1},Uf.DELETE.get=function(){return 2},Object.defineProperties(Bf,Uf);var Gf=function(){};Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf};var Wf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};Wf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Wf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Wf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Wf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Wf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Wf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},Wf.prototype.hasProperIntersection=function(){return this._hasProper},Wf.prototype.hasIntersection=function(){return this._hasIntersection},Wf.prototype.isDone=function(){return this._isDone},Wf.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},Wf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Wf.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Wf.prototype.interfaces_=function(){return[]},Wf.prototype.getClass=function(){return Wf},Wf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Kf=function(t){function e(){t.call(this),this.events=new nl,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Mc.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Wf&&uu(arguments[0],el)&&uu(arguments[1],el)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&uu(arguments[0],el)&&arguments[1]instanceof Wf){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new Vf(n,i),a=new Bf(e,n.getMinX(i),o);this.events.add(a),this.events.add(new Bf(n.getMaxX(i),a))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();this.addEdge(o,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Gf),zf=function(){this._min=Js.POSITIVE_INFINITY,this._max=Js.NEGATIVE_INFINITY},Hf={NodeComparator:{configurable:!0}};zf.prototype.getMin=function(){return this._min},zf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},zf.prototype.getMax=function(){return this._max},zf.prototype.toString=function(){return Pu.toLineString(new nu(this._min,0),new nu(this._max,0))},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf},Hf.NodeComparator.get=function(){return Yf},Object.defineProperties(zf,Hf);var Yf=function(){};Yf.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},Yf.prototype.interfaces_=function(){return[eu]},Yf.prototype.getClass=function(){return Yf};var qf=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zf),Xf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zf),Zf=function(){this._leaves=new nl,this._root=null,this._level=0};Zf.prototype.buildTree=function(){Mc.sort(this._leaves,new zf.NodeComparator);for(var t=this._leaves,e=null,n=new nl;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Zf.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new qf(t,e,n))},Zf.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Zf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Zf.prototype.printNode=function(t){wu.out.println(Pu.toLineString(new nu(t._min,this._level),new nu(t._max,this._level)))},Zf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Zf.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new Xf(t.get(n),t.get(n+1));e.add(i)}}},Zf.prototype.interfaces_=function(){return[]},Zf.prototype.getClass=function(){return Zf};var Jf=function(){this._items=new nl};Jf.prototype.visitItem=function(t){this._items.add(t)},Jf.prototype.getItems=function(){return this._items},Jf.prototype.interfaces_=function(){return[Ac]},Jf.prototype.getClass=function(){return Jf};var Qf=function(){this._index=null;var t=arguments[0];if(!uu(t,Rl))throw new Zs("Argument must be Polygonal");this._index=new ep(t)},$f={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Qf.prototype.locate=function(t){var e=new Fu(t),n=new tp(e);return this._index.query(t.y,t.y,n),e.getLocation()},Qf.prototype.interfaces_=function(){return[vh]},Qf.prototype.getClass=function(){return Qf},$f.SegmentVisitor.get=function(){return tp},$f.IntervalIndexedGeometry.get=function(){return ep},Object.defineProperties(Qf,$f);var tp=function(){this._counter=null;var t=arguments[0];this._counter=t};tp.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},tp.prototype.interfaces_=function(){return[Ac]},tp.prototype.getClass=function(){return tp};var ep=function(){this._index=new Zf;var t=arguments[0];this.init(t)};ep.prototype.init=function(t){for(var e=nf.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},ep.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Yc(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},ep.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Jf;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},ep.prototype.interfaces_=function(){return[]},ep.prototype.getClass=function(){return ep};var np=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new zl,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new rf,2===arguments.length){var e=arguments[0],n=arguments[1],r=Hu.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(t,ic.ON)===au.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Wf(n,!0,!1);o.setIsDoneIfProperInt(i);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof Il||this._parentGeom instanceof Ml||this._parentGeom instanceof Nl,u=r||!s;return a.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new Wf(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Pl){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,au.INTERIOR)}else if(arguments[0]instanceof nu){var e=arguments[0];this.insertPoint(this._argIndex,e,au.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),au.EXTERIOR,au.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,au.INTERIOR,au.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],au.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],au.BOUNDARY)},e.prototype.addLineString=function(t){var e=ol.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Ih(e,new hc(this._argIndex,au.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),ku.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===au.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=ol.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;Vu.isCCW(r)&&(i=n,o=e);var a=new Ih(r,new hc(this._argIndex,au.BOUNDARY,i,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],au.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new hc(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Kf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Nl&&(this._useBoundaryDeterminationRule=!1),e instanceof Ml)this.addPolygon(e);else if(e instanceof Al)this.addLineString(e);else if(e instanceof Pl)this.addPoint(e);else if(e instanceof kl)this.addCollection(e);else if(e instanceof wl)this.addCollection(e);else if(e instanceof Nl)this.addCollection(e);else{if(!(e instanceof _l))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return uu(this._parentGeom,Rl)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Qf(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?au.BOUNDARY:au.INTERIOR},e}(Sc),rp=function(){if(this._li=new Du,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new np(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=Hu.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new np(0,e,r),this._arg[1]=new np(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new np(0,i,a),this._arg[1]=new np(1,o,a)}};rp.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},rp.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp};var ip=function(){};ip.prototype.interfaces_=function(){return[]},ip.prototype.getClass=function(){return ip},ip.map=function(){if(arguments[0]instanceof Gu&&uu(arguments[1],ip.MapOp)){for(var t=arguments[0],e=arguments[1],n=new nl,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(uu(arguments[0],Qu)&&uu(arguments[1],ip.MapOp)){for(var o=arguments[0],a=arguments[1],s=new nl,u=o.iterator();u.hasNext();){var l=u.next(),c=a.map(l);null!==c&&s.add(c)}return s}},ip.MapOp=function(){};var op=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new rf,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Th,this._resultPolyList=new nl,this._resultLineList=new nl,this._resultPointList=new nl,this._graph=new Sc(new Sh),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new hc(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new nl;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==au.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new nl,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new nl;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Sf.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new xc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Tf(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Of(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,ic.RIGHT),i.getLocation(1,ic.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(ku.isTrue(!r.isNull(i,ic.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,ic.LEFT,r.getLocation(i,ic.LEFT)),ku.isTrue(!r.isNull(i,ic.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,ic.RIGHT,r.getLocation(i,ic.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(rp);op.overlayOp=function(t,e,n){return new op(t,e).getResultGeometry(n)},op.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return op.createEmptyResult(op.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return xf.map(t,{interfaces_:function(){return[ip.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Ff.overlayOp(t,e,op.INTERSECTION)},op.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return op.createEmptyResult(op.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Ff.overlayOp(t,e,op.SYMDIFFERENCE)},op.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case op.INTERSECTION:o=Math.min(r,i);break;case op.UNION:o=Math.max(r,i);break;case op.DIFFERENCE:o=r;break;case op.SYMDIFFERENCE:o=Math.max(r,i)}return o},op.createEmptyResult=function(t,e,n,r){var i=null;switch(op.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},op.difference=function(t,e){return t.isEmpty()?op.createEmptyResult(op.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Ff.overlayOp(t,e,op.DIFFERENCE))},op.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return op.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===au.BOUNDARY&&(i=au.INTERIOR),o===au.BOUNDARY&&(o=au.INTERIOR),a){case op.INTERSECTION:return i===au.INTERIOR&&o===au.INTERIOR;case op.UNION:return i===au.INTERIOR||o===au.INTERIOR;case op.DIFFERENCE:return i===au.INTERIOR&&o!==au.INTERIOR;case op.SYMDIFFERENCE:return i===au.INTERIOR&&o!==au.INTERIOR||i!==au.INTERIOR&&o===au.INTERIOR}return!1}},op.INTERSECTION=1,op.UNION=2,op.DIFFERENCE=3,op.SYMDIFFERENCE=4;var ap=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new rf,this._seg=new Yc;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};ap.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},ap.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?au.BOUNDARY:this._ptLocator.locate(t,this._g)},ap.prototype.extractLinework=function(t){var e=new sp;t.apply(e);var n=e.getLinework(),r=Zl.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap};var sp=function(){this._linework=null,this._linework=new nl};sp.prototype.getLinework=function(){return this._linework},sp.prototype.filter=function(t){if(t instanceof Ml){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},sp.prototype.interfaces_=function(){return[bl]},sp.prototype.getClass=function(){return sp};var up=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};up.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},up.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},up.prototype.getPoints=function(t){for(var e=new nl,n=nf.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},up.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=Math.sqrt(i*i+o*o),s=n*i/a,u=n*o/a,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new nu(l-u,c+s);r.add(h)}if(this._doRight){var f=new nu(l+u,c-s);r.add(f)}},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var lp=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new nl;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new ap(this._geom[0],this._boundaryDistanceTolerance),new ap(this._geom[1],this._boundaryDistanceTolerance),new ap(this._geom[2],this._boundaryDistanceTolerance)]},cp={TOLERANCE:{configurable:!0}};lp.prototype.reportResult=function(t,e,n){wu.out.println("Overlay result invalid - A:"+au.toLocationSymbol(e[0])+" B:"+au.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+au.toLocationSymbol(e[2]))},lp.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},lp.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!lp.hasLocation(this._location,au.BOUNDARY)||this.isValidResult(r,this._location)}},lp.prototype.addTestPts=function(t){var e=new up(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},lp.prototype.isValidResult=function(t,e){var n=op.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===au.INTERIOR);return r||this.reportResult(t,e,n),r},lp.prototype.getInvalidLocation=function(){return this._invalidLocation},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp},lp.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},lp.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Lf.computeSizeBasedSnapTolerance(t),Lf.computeSizeBasedSnapTolerance(e))},lp.isValid=function(t,e,n,r){return new lp(t,e,r).isValid(n)},cp.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(lp,cp);var hp=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};hp.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},hp.prototype.combine=function(){for(var t=new nl,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp},hp.combine=function(){if(1===arguments.length){var t=arguments[0];return new hp(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new hp(hp.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return new hp(hp.createList(r,i,o)).combine()}},hp.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},hp.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new nl;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new nl;return a.add(r),a.add(i),a.add(o),a}};var fp=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new nl)},pp={STRTREE_NODE_CAPACITY:{configurable:!0}};fp.prototype.reduceToGeometries=function(t){for(var e=new nl,n=t.iterator();n.hasNext();){var r=n.next(),i=null;uu(r,el)?i=this.unionTree(r):r instanceof Gu&&(i=r),e.add(i)}return e},fp.prototype.extractByEnvelope=function(t,e,n){for(var r=new nl,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},fp.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return hp.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},fp.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Fc(fp.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},fp.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=fp.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(fp.getGeometry(e,n),fp.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,r);return this.unionSafe(a,s)}},fp.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},fp.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},fp.prototype.unionActual=function(t,e){return fp.restrictToPolygons(t.union(e))},fp.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},fp.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new nl,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),hp.combine(r)},fp.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},fp.prototype.interfaces_=function(){return[]},fp.prototype.getClass=function(){return fp},fp.restrictToPolygons=function(t){if(uu(t,Rl))return t;var e=ef.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Zl.toPolygonArray(e))},fp.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},fp.union=function(t){return new fp(t).union()},pp.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(fp,pp);var dp=function(){};dp.prototype.interfaces_=function(){return[]},dp.prototype.getClass=function(){return dp},dp.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return op.createEmptyResult(op.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Ff.overlayOp(t,e,op.UNION)};var gp=function(){return new ki};ki.prototype={constructor:ki,reset:function(){this.s=this.t=0},add:function(t){Ii(mp,t,this.t),Ii(this,mp.s,this.s),this.s?this.t+=mp.t:this.s=mp.t},valueOf:function(){return this.s}};var mp=new ki,yp=1e-6,vp=Math.PI,bp=vp/2,Ep=vp/4,_p=2*vp,wp=180/vp,Sp=vp/180,xp=Math.abs,Tp=Math.atan,Op=Math.atan2,Cp=Math.cos,Ap=Math.exp,Lp=Math.log,Pp=Math.sin,Rp=Math.sqrt,Mp=Math.tan,kp={Feature:function(t,e){ji(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ji(n[r].geometry,e)}},Ip={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Fi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Fi(n[r],e,0)},Polygon:function(t,e){Vi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Vi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ji(n[r],e)}},Np=function(t,e){t&&kp.hasOwnProperty(t.type)?kp[t.type](t,e):ji(t,e)},Dp=(gp(),gp(),gp(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});Yi.invert=Yi;var jp=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Di,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Fp=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*h,t[1]=u+l*f),c<1&&(e[0]=s+c*h,e[1]=u+c*f),!0}}}}},Vp=function(t,e){return xp(t[0]-e[0])<yp&&xp(t[1]-e[1])<yp},Bp=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Vp(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new $i(r,t,null,!0)),u.push(n.o=new $i(r,null,n,!1)),s.push(n=new $i(a,t,null,!1)),u.push(n.o=new $i(a,null,n,!0))}})),s.length){for(u.sort(e),to(s),to(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}},Up=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Gp=(function(t){1===t.length&&(t=function(t){return function(e,n){return Up(t(e),n)}}(t))}(Up),function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}),Wp=1e9,Kp=-Wp,zp=gp(),Hp=(gp(),function(t){return t}),Yp=(gp(),gp(),1/0),qp=Yp,Xp=-Yp,Zp=Xp,Jp={point:function(t,e){t<Yp&&(Yp=t),t>Xp&&(Xp=t),e<qp&&(qp=e),e>Zp&&(Zp=e)},lineStart:Di,lineEnd:Di,polygonStart:Di,polygonEnd:Di,result:function(){var t=[[Yp,qp],[Xp,Zp]];return Xp=Zp=-(qp=Yp=1/0),t}},Qp=(gp(),function(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function u(){_.point=s,m.lineStart()}function l(){_.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function h(){b.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),b.lineEnd();var t,e,n,r,i=b.clean(),a=v.result(),s=a.length;if(g.pop(),p.push(g),g=null,s)if(1&i){if((e=(n=a[0]).length-1)>0){for(E||(o.polygonStart(),E=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),d.push(a.filter(no))}var p,d,g,m=e(o),y=i.invert(r[0],r[1]),v=jp(),b=e(v),E=!1,_={point:a,lineStart:u,lineEnd:l,polygonStart:function(){_.point=c,_.lineStart=h,_.lineEnd=f,d=[],p=[]},polygonEnd:function(){_.point=a,_.lineStart=u,_.lineEnd=l,d=Gp(d);var t=function(t,e){var n=e[0],r=e[1],i=[Pp(n),-Cp(n),0],o=0,a=0;zp.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],f=h[0],p=h[1]/2+Ep,d=Pp(p),g=Cp(p),m=0;m<c;++m,f=v,d=E,g=_,h=y){var y=l[m],v=y[0],b=y[1]/2+Ep,E=Pp(b),_=Cp(b),w=v-f,S=w>=0?1:-1,x=S*w,T=x>vp,O=d*E;if(zp.add(Op(O*S*Pp(x),g*_+O*Cp(x))),o+=T?w+S*_p:w,T^f>=n^v>=n){var C=Wi(Ui(h),Ui(y));Hi(C);var A=Wi(i,C);Hi(A);var L=(T^w>=0?-1:1)*Ni(A[2]);(r>L||r===L&&(C[0]||C[1]))&&(a+=T^w>=0?1:-1)}}return(o<-yp||o<yp&&zp<-yp)^1&a}(p,y);d.length?(E||(o.polygonStart(),E=!0),Bp(d,ro,t,n,o)):t&&(E||(o.polygonStart(),E=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),E&&(o.polygonEnd(),E=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return _}}),$p=Qp((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?vp:-vp,u=xp(o-n);xp(u-vp)<yp?(t.point(n,r=(r+a)/2>0?bp:-bp),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=vp&&(xp(n-i)<yp&&(n-=i*yp),xp(o-s)<yp&&(o-=s*yp),r=function(t,e,n,r){var i,o,a=Pp(t-n);return xp(a)>yp?Tp((Pp(e)*(o=Cp(r))*Pp(n)-Pp(r)*(i=Cp(e))*Pp(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*bp,r.point(-vp,i),r.point(0,i),r.point(vp,i),r.point(vp,0),r.point(vp,-i),r.point(0,-i),r.point(-vp,-i),r.point(-vp,0),r.point(-vp,i);else if(xp(t[0]-e[0])>yp){var o=t[0]<e[0]?vp:-vp;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-vp,-bp]),td=function(t,e){function n(t,e){return Cp(t)*Cp(e)>o}function r(t,e,n){var r=[1,0,0],i=Wi(Ui(t),Ui(e)),a=Gi(i,i),s=i[0],u=a-s*s;if(!u)return!n&&t;var l=o*a/u,c=-o*s/u,h=Wi(r,i),f=zi(r,l);Ki(f,zi(i,c));var p=h,d=Gi(f,p),g=Gi(p,p),m=d*d-g*(Gi(f,f)-1);if(!(m<0)){var y=Rp(m),v=zi(p,(-d-y)/g);if(Ki(v,f),v=Bi(v),!n)return v;var b,E=t[0],_=e[0],w=t[1],S=e[1];_<E&&(b=E,E=_,_=b);var x=_-E,T=xp(x-vp)<yp;if(!T&&S<w&&(b=w,w=S,S=b),T||x<yp?T?w+S>0^v[1]<(xp(v[0]-E)<yp?w:S):w<=v[1]&&v[1]<=S:x>vp^(E<=v[0]&&v[0]<=_)){var O=zi(p,(-d+y)/g);return Ki(O,f),[v,Bi(O)]}}}function i(e,n){var r=a?t:vp-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Cp(t),a=o>0,s=xp(o)>yp;return Qp(n,(function(t){var e,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var p,d=[h,f],g=n(h,f),m=a?g?0:i(h,f):g?i(h+(h<0?vp:-vp),f):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(!(p=r(e,d))||Vp(e,p)||Vp(d,p))&&(d[0]+=yp,d[1]+=yp,g=n(d[0],d[1])),g!==u)c=0,g?(t.lineStart(),p=r(d,e),t.point(p[0],p[1])):(p=r(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(s&&e&&a^g){var y;m&o||!(y=r(d,e,!0))||(c=0,a?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||e&&Vp(e,d)||t.point(d[0],d[1]),e=d,u=g,o=m},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}}),(function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var a=Cp(e),s=Pp(e),u=r*n;null==i?(i=e+r*_p,o=e-u/2):(i=Qi(a,i),o=Qi(a,o),(r>0?i<o:i>o)&&(i+=r*_p));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Bi([a,-s*Cp(c),-s*Pp(c)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)}),a?[0,-t]:[-vp,t-vp])};oo.prototype={constructor:oo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ed=Cp(30*Sp),nd=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,l,c,h,f,p,d,g,m){var y=l-r,v=c-i,b=y*y+v*v;if(b>4*e&&g--){var E=a+f,_=s+p,w=u+d,S=Rp(E*E+_*_+w*w),x=Ni(w/=S),T=xp(xp(w)-1)<yp||xp(o-h)<yp?(o+h)/2:Op(_,E),O=t(T,x),C=O[0],A=O[1],L=C-r,P=A-i,R=v*L-y*P;(R*R/b>e||xp((y*L+v*P)/b-.5)>.3||a*f+s*p+u*d<ed)&&(n(r,i,o,a,s,u,C,A,T,E/=S,_/=S,w,g,m),m.point(C,A),n(C,A,T,E,_,w,l,c,h,f,p,d,g,m))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){y=NaN,w.point=o,e.lineStart()}function o(r,i){var o=Ui([r,i]),a=t(r,i);n(y,v,m,b,E,_,y=a[0],v=a[1],m=r,b=o[0],E=o[1],_=o[2],16,e),e.point(y,v)}function a(){w.point=r,e.lineEnd()}function s(){i(),w.point=u,w.lineEnd=l}function u(t,e){o(c=t,e),h=y,f=v,p=b,d=E,g=_,w.point=o}function l(){n(y,v,m,b,E,_,h,f,c,p,d,g,16,e),w.lineEnd=a,a()}var c,h,f,p,d,g,m,y,v,b,E,_,w={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}(t,e):function(t){return io({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},rd=io({point:function(t,e){this.stream.point(t*Sp,e*Sp)}});so.invert=function(t,e){return[t,2*Tp(Ap(e))-bp]},uo.invert=function(t,e){return[-e,2*Tp(Ap(t))-bp]};var id=function(){var t=function(t){function e(){var e=vp*s(),a=o(function(t){function e(e){return(e=t(e[0]*Sp,e[1]*Sp))[0]*=wp,e[1]*=wp,e}return t=qi(t[0]*Sp,t[1]*Sp,t.length>2?t[2]*Sp:0),e.invert=function(e){return(e=t.invert(e[0]*Sp,e[1]*Sp))[0]*=wp,e[1]*=wp,e},e}(o.rotate()).invert([0,0]));return l(null==c?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===so?[[Math.max(a[0]-e,c),n],[Math.min(a[0]+e,r),i]]:[[c,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=function(t){return function(t){function e(t){return[(t=l(t[0]*Sp,t[1]*Sp))[0]*g+a,s-t[1]*g]}function n(t,e){return[(t=o(t,e))[0]*g+a,s-t[1]*g]}function r(){l=Dp(u=qi(E,_,w),o);var t=o(v,b);return a=m-t[0]*g,s=y+t[1]*g,i()}function i(){return p=d=null,e}var o,a,s,u,l,c,h,f,p,d,g=150,m=480,y=250,v=0,b=0,E=0,_=0,w=0,S=null,x=$p,T=null,O=Hp,C=.5,A=nd(n,C);return e.stream=function(t){return p&&d===t?p:p=rd(x(u,A(O(d=t))))},e.clipAngle=function(t){return arguments.length?(x=+t?td(S=t*Sp,6*Sp):(S=null,$p),i()):S*wp},e.clipExtent=function(t){return arguments.length?(O=null==t?(T=c=h=f=null,Hp):eo(T=+t[0][0],c=+t[0][1],h=+t[1][0],f=+t[1][1]),i()):null==T?null:[[T,c],[h,f]]},e.scale=function(t){return arguments.length?(g=+t,r()):g},e.translate=function(t){return arguments.length?(m=+t[0],y=+t[1],r()):[m,y]},e.center=function(t){return arguments.length?(v=t[0]%360*Sp,b=t[1]%360*Sp,r()):[v*wp,b*wp]},e.rotate=function(t){return arguments.length?(E=t[0]%360*Sp,_=t[1]%360*Sp,w=t.length>2?t[2]%360*Sp:0,r()):[E*wp,_*wp,w*wp]},e.precision=function(t){return arguments.length?(A=nd(n,C=t*t),i()):Rp(C)},e.fitExtent=function(t,n){return ao(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return ao(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=l.invert((t[0]-a)/g,(s-t[1])/g))&&[t[0]*wp,t[1]*wp]},r()}}((function(){return t}))()}(t),a=o.center,s=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==c?null:[[c,n],[r,i]]},e()}(uo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=ca,t.random=Ys,t.clusters=qs,t.helpers=Oo,t.invariant=Ao,t.meta=Co,t.isolines=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(q(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!x(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;q(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return R(t,(function(t){var e=K(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return K(t)[0]-K(e)[0]}))})).sort((function(t,n){return e?K(t[0])[1]-K(n[0])[1]:K(n[0])[1]-K(t[0])[1]}))}(t,r),a=[],s=0;s<o.length;s++){for(var u=o[s],l=[],c=0;c<u.length;c++){var h=u[c];h.properties[n]?l.push(h.properties[n]):l.push(0),!0===i&&(h.properties.matrixPosition=[s,c])}a.push(l)}return a}(t,{zProperty:r,flip:!0});return l(function(t,e,n){var r=G(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],u=e[0].length-1,l=e.length-1,c=i/u,h=o/l,f=function(t){t[0]=t[0]*c+a,t[1]=t[1]*h+s};return t.forEach((function(t){C(t,f)})),t}(function(t,e,n,r,i){for(var o=[],a=1;a<e.length;a++){var s=+e[a],u=Object.assign({},r,i[a]);u[n]=s;var l=c(Q(t,s),u);o.push(l)}return o}(a,e,r,i,o),a,t))},t.convex=Ct,t.pointsWithinPolygon=Pt,t.concave=function(t,n){if(!x(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!S(r))throw new Error("maxEdge is invalid");var i=Rt(function(t){var e=[],n={};return R(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}})),l(e)}(t));if(i.features=i.features.filter((function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],a=Nt(e,i,n),s=Nt(i,o,n),u=Nt(e,o,n);return a<=r&&s<=r&&u<=r})),i.features.length<1)return null;var o=qt(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,r){var i=Mo(6),o=e.features.map((function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}}));return i.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=G(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach((function(e){At([e.minX,e.minY],t)&&n.push(e.property)})),t.properties[r]=n})),t},t.flip=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Dt(t)),C(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t},t.simplify=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=Dt(t)),I(t,(function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;Xt(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=te(i,e,n);break;case"MultiLineString":t.coordinates=i.map((function(t){return te(t,e,n)}));break;case"Polygon":t.coordinates=ee(i,e,n);break;case"MultiPolygon":t.coordinates=i.map((function(t){return ee(t,e,n)}))}}(t,n,r)})),t},t.bezierSpline=ne,t.tag=function(t,e,n,r){return t=Dt(t),e=Dt(e),R(t,(function(t){t.properties||(t.properties={}),R(e,(function(e){void 0===t.properties[r]&&At(t,e)&&(t.properties[r]=e.properties[n])}))})),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null===e||void 0===e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return l(function(t,e){for(var n,r,i=t.slice(0),o=t.length,a=o-e;o-- >a;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(a)}(t.features,e))},t.envelope=ie,t.square=oe,t.circle=se,t.midpoint=function(t,e){return ae(t,Nt(t,e)/2,ue(t,e))},t.center=le,t.centerOfMass=function t(e,n){switch(J(e)){case"Point":return e;case"Polygon":var i=[];C(e,(function(t){i.push(t)}));var o,a,s,u,l,c,h,f,p=ce(e,n),d=p.geometry.coordinates,g=0,m=0,y=0,v=i.map((function(t){return[t[0]-d[0],t[1]-d[1]]}));for(o=0;o<i.length-1;o++)u=(a=v[o])[0],c=a[1],l=(s=v[o+1])[0],y+=f=u*(h=s[1])-l*c,g+=(u+l)*f,m+=(c+h)*f;if(0===y)return p;var b=1/(.5*y*6);return r([d[0]+b*g,d[1]+b*m],n);default:var E=Ct(e);return E?t(E,n):ce(e,n)}},t.centroid=ce,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});return R(t,(function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))})),l(Object.keys(r).filter((function(t){return r[t].coordinates.length})).sort().map((function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})})))},t.distance=Nt,t.explode=he,t.bbox=G,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Ce(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(Ce(t))})),e},t.bboxPolygon=re,t.booleanPointInPolygon=At,t.nearestPoint=Ae,t.nearestPointOnLine=Xe,t.nearestPointToLine=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return I(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==J(e))throw new Error("line must be a LineString");var o=1/0,a=null;return R(t,(function(t){var n=on(t,e,{units:r});n<o&&(o=n,a=t)})),a&&(a.properties=Object.assign({dist:o},a.properties,i)),a},t.planepoint=function(t,e){var n=W(t),r=X(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,a=i.b,s=i.c,u=n[0],l=n[1],c=r[0][0],h=r[0][1],f=void 0!==o?o:r[0][2],p=r[1][0],d=r[1][1],g=void 0!==a?a:r[1][2],m=r[2][0],y=r[2][1],v=void 0!==s?s:r[2][2];return(v*(u-c)*(l-d)+f*(u-p)*(l-y)+g*(u-m)*(l-h)-g*(u-c)*(l-y)-v*(u-p)*(l-h)-f*(u-m)*(l-d))/((u-c)*(l-d)+(u-p)*(l-y)+(u-m)*(l-h)-(u-c)*(l-y)-(u-p)*(l-h)-(u-m)*(l-d))},t.tin=Rt,t.bearing=ue,t.destination=ae,t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=function(t,e,n,r,i,o,a,s){var u,l,c,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(s-o)*(n-t)-(a-i)*(r-e))?null!==f.x&&null!==f.y&&f:(h=(n-t)*(l=e-o)-(r-e)*(c=t-i),l=((a-i)*l-(s-o)*c)/u,c=h/u,f.x=t+l*(n-t),f.y=e+l*(r-e),l>=0&&l<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);a&&i.features.push(r([a[0],a[1]]))}}))})),i},t.pointOnFeature=sn,t.area=ln,t.along=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!S(e))throw new Error("distance must be a number");for(var o=0,a=0;a<i.length&&!(e>=o&&a===i.length-1);a++){if(o>=e){var s=e-o;if(s){var u=ue(i[a],i[a-1])-180;return ae(i[a],s,u,n)}return r(i[a])}o+=Nt(i[a],i[a+1],n)}return r(i[i.length-1])},t.length=pn,t.lineSlice=function(t,e,n){var r=K(n);if("LineString"!==J(n))throw new Error("line must be a LineString");for(var i,o=Xe(n,t),a=Xe(n,e),u=[(i=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],l=i[0].properties.index+1;l<i[1].properties.index+1;l++)u.push(r[l]);return u.push(i[1].geometry.coordinates),s(u,n.properties)},t.lineSliceAlong=dn,t.pointGrid=bn,t.truncate=En,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return D(t,(function(t){e.push(t)})),l(e)},t.lineIntersect=Ye,t.lineChunk=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return D(t,(function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=pn(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)r(dn(t,e*a,e*(a+1),{units:n}))}(t,e,r,(function(t){o.push(t)}))})),l(o)},t.unkinkPolygon=function(t){var e=[];return D(t,(function(t){"Polygon"===t.geometry.type&&R(fa(t),(function(n){e.push(o(n.geometry.coordinates,t.properties))}))})),l(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=W(t),e=W(e),r=r||{},i=i||100,o=o||10,new Ea({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(i,{offset:o}).json()},t.lineSegment=He,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=J(t),r=J(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=En(e,{precision:7});switch(r){case"Point":return Tn(t,i);case"MultiPoint":return xn(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return xn(t,Ye(t,i))}},t.lineArc=An,t.polygonToLine=Pn,t.lineToPolygon=Mn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=K(t),i=t.properties;switch(n){case"LineString":case"MultiLineString":var a=[];return"LineString"===n&&(r=[r]),r.forEach((function(t){_a(t,e,a)})),1===a.length?s(a[0],i):c(a,i);case"Polygon":return o(Fn(r,e),i);case"MultiPolygon":return f(r.map((function(t){return Fn(t,e)})),i);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=Wn,t.sector=function(t,e,n,r,i){if(!x(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(zn(n)===zn(r))return se(t,e,i);var a=K(t),s=[[a]];return C(An(t,e,n,r,i),(function(t){s[0].push(t)})),s[0].push(a),o(s)},t.rhumbBearing=Ze,t.rhumbDistance=Qe,t.rhumbDestination=Hn,t.polygonTangents=function(t,e){var n,i,o,a=K(t),s=K(e);switch(J(e)){case"Polygon":n=s[0][0],i=s[0][0],o=qn(s[0][0],s[0][s[0].length-1],a);var u=Yn(s[0],a,o,void 0,n,i);n=u[0],i=u[1];break;case"MultiPolygon":n=s[0][0][0],i=s[0][0][0],o=qn(s[0][0][0],s[0][0][s[0][0].length-1],a),s.forEach((function(t){var e=Yn(t[0],a,o,void 0,n,i);n=e[0],i=e[1]}))}return l([r(n),r(i)])},t.rewind=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=Dt(t));var i=[];switch(t.type){case"GeometryCollection":return I(t,(function(t){Zn(t,n)})),t;case"FeatureCollection":return R(t,(function(t){R(Zn(t,n),(function(t){i.push(t)}))})),l(i)}return Zn(t,n)},t.isobands=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},a=n.breaksProperties||[];if(q(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!x(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(a))throw new Error("breaksProperties is not an Array");var s=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;q(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return R(t,(function(t){var e=K(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return K(t)[0]-K(e)[0]}))})).sort((function(t,n){return e?K(t[0])[1]-K(n[0])[1]:K(n[0])[1]-K(t[0])[1]}))}(t,r),a=[],s=0;s<o.length;s++){for(var u=o[s],l=[],c=0;c<u.length;c++){var h=u[c];h.properties[n]?l.push(h.properties[n]):l.push(0),!0===i&&(h.properties.matrixPosition=[s,c])}a.push(l)}return a}(t,{zProperty:r,flip:!0}),u=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var a=+e[i-1],s=+e[i],u=function(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var a=o([e[r].lrCoordinates]),s=r+1;s<e.length;s++)e[s].grouped||function(t,e){for(var n=he(t),r=0;r<n.features.length;r++)if(!At(n.features[r],e))return!1;return!0}(o([e[s].lrCoordinates]),a)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0);n.push(i)}return n}(function(t){var e=[],n=[];t.forEach((function(t){var r=ln(o([t]));n.push(r),e.push({ring:t,area:r})})),n.sort((function(t,e){return e-t}));var r=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}})),r}($n(t,a,s-a))),l={};l.groupedRings=u,l[n]=a+"-"+s,r.push(l)}return r}(s,e,r);return l((u=function(t,e,n){var r=G(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],u=e[0].length-1,l=e.length-1,c=i/u,h=o/l,f=function(t){t[0]=t[0]*c+a,t[1]=t[1]*h+s};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(f)}))}))})),t}(u,s,t)).map((function(t,e){if(a[e]&&!x(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,a[e]);return n[r]=t[r],f(t.groupedRings,n)})))},t.transformRotate=nr,t.transformScale=rr,t.transformTranslate=function(t,e,n,r){if(!x(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,a=r.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(void 0===n||null===n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==a&&void 0!==a||(t=Dt(t)),C(t,(function(t){var r=K(Hn(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)})),t},t.lineOffset=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");var i=J(t),o=t.properties;switch(i){case"LineString":return sr(t,e,r);case"MultiLineString":var a=[];return D(t,(function(t){a.push(sr(t,e,r).geometry.coordinates)})),c(a,o);default:throw new Error("geometry "+i+" is not supported")}},t.polygonize=function(t){var e=Es.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){vs.findEdgeRingContaining(t,r)&&r.push(t)})),l(r.map((function(t){return t.toPolygon()})))},t.booleanDisjoint=function(t,e){var n;return D(t,(function(t){D(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!cr(e,t);case"Polygon":return!At(t,e)}break;case"LineString":switch(e.type){case"Point":return!cr(t,e);case"LineString":return!function(t,e){return Ye(t,e).features.length>0}(t,e);case"Polygon":return!hr(e,t)}break;case"Polygon":switch(e.type){case"Point":return!At(e,t);case"LineString":return!hr(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(At(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(At(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)}))})),n},t.booleanContains=function(t,e){var n=J(t),r=J(e),i=X(t),o=X(e),a=K(t),s=K(e);switch(n){case"Point":switch(r){case"Point":return pr(a,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(pr(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(pr(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return gn(o,i,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(gn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!gn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(gn(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!gn(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return At(o,i,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!fr(G(t),G(e)))return!1;for(;r<e.coordinates.length-1;r++)if(At({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(i,o);case"Polygon":return function(t,e){if(!fr(G(t),G(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!At(e.coordinates[0][n],t))return!1;return!0}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!At(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=J(t),r=J(e),i=X(t),o=X(e);switch(n){case"MultiPoint":switch(r){case"LineString":return dr(i,o);case"Polygon":return mr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return dr(o,i);case"LineString":return function(t,e){if(Ye(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),yr(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case"Polygon":return gr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return mr(o,i);case"LineString":return gr(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=Xn,t.booleanOverlap=_r,t.booleanPointOnLine=gn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return J(t)===J(e)&&new Ts({precision:6}).compare(Xt(t),Xt(e))},t.booleanWithin=mn,t.clone=Dt,t.cleanCoords=Xt,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if(q(t,"Point","Input must contain Points"),null===e||void 0===e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(void 0===r||null===r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=Dt(t),r=r||3;var o=new Ps.DBSCAN,a=-1;return o.run(k(t),_(e,i),r,Nt).forEach((function(e){a++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=a,n.properties.dbscan="core"}))})),o.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;q(t,"Point","Input must contain Points");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=Dt(t));var o=k(t),a=o.slice(0,n),s=Ns(o,n,a),u={};return s.centroids.forEach((function(t,e){u[e]=t})),R(t,(function(t,e){var n=s.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]})),t},t.pointToLineDistance=on,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==Sr(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Sr(e,"line2"))throw new Error("line2 must be a LineString");for(var n=He(Xt(t)).features,r=He(Xt(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){return v(Ze(t[0],t[1]))===v(Ze(e[0],e[1]))}(o,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(!x(i=i||{}))throw new Error("options is invalid");var o=i.resolution,a=i.minDistance,u=i.obstacles||l([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!S(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(a)throw new Error("options.minDistance is not yet implemented");var c=W(t),h=W(n);switch(t=r(c),n=r(h),J(u)){case"FeatureCollection":if(0===u.features.length)return s([c,h]);break;case"Polygon":u=l([e(X(u))]);break;default:throw new Error("invalid obstacles")}var f=u;f.features.push(t),f.features.push(n);var p=G(rr(re(G(f)),1.15));o||(o=Nt([p[0],p[1]],[p[2],p[1]],i)/100),f.features.pop(),f.features.pop();for(var d=p[0],g=p[1],m=p[2],y=p[3],v=o/Nt([d,g],[m,g],i)*(m-d),b=o/Nt([d,g],[d,y],i)*(y-g),E=m-d,_=y-g,w=(E-Math.floor(E/v)*v)/2,T=[],O=[],C=[],A=[],L=1/0,P=1/0,R=y-(_-Math.floor(_/b)*b)/2,M=0;R>=g;){for(var k=[],I=[],N=d+w,D=0;N<=m;){var j=r([N,R]),F=function(t,e){for(var n=0;n<e.features.length;n++)if(At(t,e.features[n]))return!0;return!1}(j,u);k.push(F?0:1),I.push(N+"|"+R);var V=Nt(j,t);!F&&V<L&&(L=V,C={x:D,y:M});var B=Nt(j,n);!F&&B<P&&(P=B,A={x:D,y:M}),N+=v,D++}O.push(k),T.push(I),R-=b,M++}var U=new Tr(O,{diagonal:!0}),K=U.grid[C.y][C.x],z=U.grid[A.y][A.x],H=[c];return Ds.search(U,K,z).forEach((function(t){var e=T[t.x][t.y].split("|");H.push([+e[0],+e[1]])})),H.push(h),Xt(s(H))},t.voronoi=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return q(t,"Point","points"),l(function(){function t(t){return new Qr(t.map((function(r,i){var o=[Math.round(e(r,i,t)/zs)*zs,Math.round(n(r,i,t)/zs)*zs];return o.index=i,o.data=r,o})),r)}var e=Ar,n=Lr,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:js(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:js(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t}().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map($r))},t.ellipse=ti,t.centerMean=ni,t.centerMedian=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!S(n))throw new Error("counter must be a number");var r=e.weight,i=ni(t,{weight:e.weight}),o=l([]);return R(t,(function(t){o.features.push(ce(t,{weight:t.properties[r]}))})),o.properties={tolerance:e.tolerance,medianCandidates:[]},ri(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!S(n))throw new Error("steps must be a number");if(!x(i))throw new Error("properties must be a number");var o=k(t).length,a=ni(t,{weight:r}),s=0,u=0,c=0;R(t,(function(t){var e=t.properties[r]||1,n=ii(K(t),K(a));s+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,c+=n.x*n.y*e}));var h=s-u,f=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),p=2*c,d=Math.atan((h+f)/p),g=180*d/Math.PI,m=0,y=0,v=0;R(t,(function(t){var e=t.properties[r]||1,n=ii(K(t),K(a));m+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*e,y+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*e,v+=e}));var b=Math.sqrt(2*m/v),E=Math.sqrt(2*y/v),_=ti(a,b,E,{units:"degrees",angle:g,steps:n,properties:i}),w=Pt(t,l([_])),T={meanCenterCoordinates:K(a),semiMajorAxis:b,semiMinorAxis:E,numberOfFeatures:o,angle:g,percentageWithinEllipse:100*k(w).length/o};return _.properties.standardDeviationalEllipse=T,_},t.difference=function(t,n){var r=X(t),i=X(n),o=t.properties||{};if(r=Mi(r),i=Mi(i),!r)return null;if(!i)return e(r,o);var a=new nc,s=a.read(r),u=a.read(i),l=op.difference(s,u);return l.isEmpty()?null:e((new rc).write(l),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return I(t,(function(t){var n=lo(t,e,r,i);n&&o.push(n)})),l(o);case"FeatureCollection":return R(t,(function(t){var n=lo(t,e,r,i);n&&R(n,(function(t){t&&o.push(t)}))})),l(o)}return lo(t,e,r,i)},t.union=po,t.intersect=go,t.dissolve=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;q(t,"Polygon","dissolve");var r=Dt(t),i=r.features,o=[];i.forEach((function(t,e){t.properties.origIndexPosition=e}));var a=We();for(var u in a.load(r),i){var l=i[u],c=!1;if(a.search(l).features.forEach((function(t){l=i[u];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=mo(e,o);0!==r&&(e-=r)}if(e!==+u){var h=i[e];h&&l&&(void 0!==n&&h.properties[n]!==l.properties[n]||_r(l,h)&&function(t,e){return Ye(s(k(t)),s(k(e))).features.length>0}(l,h)&&(i[u]=po(l,h),o.push(t.properties.origIndexPosition),o.sort((function(t,e){return t-e})),a.remove(t),i.splice(e,1),l.properties.origIndexPosition=u,a.remove(l,(function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition})),c=!0))}})),c){if(!l)continue;l.properties.origIndexPosition=u,a.insert(l),u--}}return i.forEach((function(t){delete t.properties.origIndexPosition,delete t.bbox})),r},t.hexGrid=yo,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return D(t,(function(t){var r=t.geometry.coordinates,i=r[0],a=r.slice(1);e.push(o([i])),a.forEach((function(t){n.push(o([t]))}))})),[l(e),l(n)]}(t),i=r[0],a=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),D(e,(function(t){r.push(t.geometry.coordinates[0])})),D(n,(function(t){r.push(t.geometry.coordinates[0])})),o(r)}(n,i=vo(i),a=vo(a))},t.squareGrid=Eo,t.triangleGrid=_o,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if(q(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var a,s=G(t);switch(r){case"point":case"points":a=bn(s,e,n);break;case"square":case"squares":a=Eo(s,e,n);break;case"hex":case"hexes":a=yo(s,e,n);break;case"triangle":case"triangles":a=_o(s,e,n);break;default:throw new Error("invalid gridType")}var u=[];return R(a,(function(e){var a=0,s=0;R(t,(function(t){var u,l=Nt("point"===r?e:ce(e),t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(a=u);var c=1/Math.pow(l,o);s+=c,a+=c*u}));var l=Dt(e);l.properties[i]=a/s,u.push(l)})),l(u)},t.pointOnSurface=sn,t.polygonToLineString=Pn,t.lineStringToPolygon=Mn,t.inside=At,t.within=Pt,t.bezier=ne,t.nearest=Ae,t.pointOnLine=Xe,t.lineDistance=pn,t.radians2degrees=b,t.degrees2radians=E,t.distanceToDegrees=y,t.distanceToRadians=m,t.radiansToDistance=g,t.bearingToAngle=v,t.convertDistance=_,t.toMercator=$e,t.toWgs84=tn,t.randomPosition=oi,t.randomPoint=ai,t.randomPolygon=si,t.randomLineString=ui,t.getCluster=ci,t.clusterEach=hi,t.clusterReduce=fi,t.createBins=pi,t.applyFilter=di,t.propertiesContainsFilter=gi,t.filterProperties=mi,t.earthRadius=wo,t.factors=So,t.unitsFactors=xo,t.areaFactors=To,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=a,t.lineString=s,t.lineStrings=u,t.featureCollection=l,t.multiLineString=c,t.multiPoint=h,t.multiPolygon=f,t.geometryCollection=p,t.round=d,t.radiansToLength=g,t.lengthToRadians=m,t.lengthToDegrees=y,t.bearingToAzimuth=v,t.radiansToDegrees=b,t.degreesToRadians=E,t.convertLength=_,t.convertArea=w,t.isNumber=S,t.isObject=x,t.validateBBox=T,t.validateId=O,t.getCoord=W,t.getCoords=K,t.containsNumber=z,t.geojsonType=H,t.featureOf=Y,t.collectionOf=q,t.getGeom=X,t.getGeomType=Z,t.getType=J,t.coordEach=C,t.coordReduce=A,t.propEach=L,t.propReduce=P,t.featureEach=R,t.featureReduce=M,t.coordAll=k,t.geomEach=I,t.geomReduce=N,t.flattenEach=D,t.flattenReduce=j,t.segmentEach=F,t.segmentReduce=V,t.lineEach=B,t.lineReduce=U,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){t.exports=function(){"use strict";for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e={},n=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<r.length;n+=1){var i=r[n];e["[object "+i+"]"]=i.toLowerCase()}var o=function(t){return e[Object.prototype.toString.call(t)]||"object"},a=Math.PI,s={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:t,type:o,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==o(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==o(t[e])?t[e].toLowerCase():null},PI:a,TWOPI:2*a,PITHIRD:a/3,DEG2RAD:a/180,RAD2DEG:180/a},u={format:{},autodetect:[]},l=s.last,c=s.clip_rgb,h=s.type,f=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===h(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=l(t),i=!1;if(!r){i=!0,u.sorted||(u.autodetect=u.autodetect.sort((function(t,e){return e.p-t.p})),u.sorted=!0);for(var o=0,a=u.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,t))break}}if(!u.format[r])throw new Error("unknown format: "+t);var f=u.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=c(f),3===n._rgb.length&&n._rgb.push(1)};f.prototype.toString=function(){return"function"==h(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var p=f,d=function t(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return new(Function.prototype.bind.apply(t.Color,[null].concat(e)))};d.Color=p,d.version="2.1.0";var g=d,m=s.unpack,y=Math.max,v=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=m(t,"rgb"),r=n[0],i=n[1],o=n[2],a=1-y(r/=255,y(i/=255,o/=255)),s=a<1?1/(1-a):0,u=(1-r-a)*s,l=(1-i-a)*s,c=(1-o-a)*s;return[u,l,c,a]},b=s.unpack,E=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=b(t,"cmyk"))[0],r=t[1],i=t[2],o=t[3],a=t.length>4?t[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},_=s.unpack,w=s.type;p.prototype.cmyk=function(){return v(this._rgb)},g.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["cmyk"])))},u.format.cmyk=E,u.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=_(t,"cmyk"),"array"===w(t)&&4===t.length)return"cmyk"}});var S=s.unpack,x=s.last,T=function(t){return Math.round(100*t)/100},O=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=S(t,"hsla"),r=x(t)||"lsa";return n[0]=T(n[0]||0),n[1]=T(100*n[1])+"%",n[2]=T(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},C=s.unpack,A=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=C(t,"rgba"))[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),u=Math.max(n,r,i),l=(u+s)/2;return u===s?(o=0,a=Number.NaN):o=l<.5?(u-s)/(u+s):(u-s)/(2-u-s),n==u?a=(r-i)/(u-s):r==u?a=2+(i-n)/(u-s):i==u&&(a=4+(n-r)/(u-s)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,o,l,t[3]]:[a,o,l]},L=s.unpack,P=s.last,R=Math.round,M=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=L(t,"rgba"),r=P(t)||"rgb";return"hsl"==r.substr(0,3)?O(A(n),r):(n[0]=R(n[0]),n[1]=R(n[1]),n[2]=R(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},k=s.unpack,I=Math.round,N=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,i,o,a=(e=k(e,"hsl"))[0],s=e[1],u=e[2];if(0===s)r=i=o=255*u;else{var l=[0,0,0],c=[0,0,0],h=u<.5?u*(1+s):u+s-u*s,f=2*u-h,p=a/360;l[0]=p+1/3,l[1]=p,l[2]=p-1/3;for(var d=0;d<3;d++)l[d]<0&&(l[d]+=1),l[d]>1&&(l[d]-=1),6*l[d]<1?c[d]=f+6*(h-f)*l[d]:2*l[d]<1?c[d]=h:3*l[d]<2?c[d]=f+(h-f)*(2/3-l[d])*6:c[d]=f;r=(t=[I(255*c[0]),I(255*c[1]),I(255*c[2])])[0],i=t[1],o=t[2]}return e.length>3?[r,i,o,e[3]]:[r,i,o,1]},D=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,j=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,F=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,V=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,B=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,U=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,G=Math.round,W=function(t){var e;if(t=t.toLowerCase().trim(),u.format.named)try{return u.format.named(t)}catch(g){}if(e=t.match(D)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(j)){for(var i=e.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(e=t.match(F)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=G(2.55*a[s]);return a[3]=1,a}if(e=t.match(V)){for(var l=e.slice(1,5),c=0;c<3;c++)l[c]=G(2.55*l[c]);return l[3]=+l[3],l}if(e=t.match(B)){var h=e.slice(1,4);h[1]*=.01,h[2]*=.01;var f=N(h);return f[3]=1,f}if(e=t.match(U)){var p=e.slice(1,4);p[1]*=.01,p[2]*=.01;var d=N(p);return d[3]=+e[4],d}};W.test=function(t){return D.test(t)||j.test(t)||F.test(t)||V.test(t)||B.test(t)||U.test(t)};var K=W,z=s.type;p.prototype.css=function(t){return M(this._rgb,t)},g.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["css"])))},u.format.css=K,u.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===z(t)&&K.test(t))return"css"}});var H=s.unpack;u.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=H(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},g.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["gl"])))},p.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var Y=s.unpack,q=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Y(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),u=Math.max(i,o,a),l=u-s,c=100*l/255,h=s/(255-l)*100;return 0===l?n=Number.NaN:(i===u&&(n=(o-a)/l),o===u&&(n=2+(a-i)/l),a===u&&(n=4+(i-o)/l),(n*=60)<0&&(n+=360)),[n,c,h]},X=s.unpack,Z=Math.floor,J=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var u,l,c,h=(a=X(a,"hcg"))[0],f=a[1],p=a[2];p*=255;var d=255*f;if(0===f)u=l=c=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var g=Z(h/=60),m=h-g,y=p*(1-f),v=y+d*(1-m),b=y+d*m,E=y+d;switch(g){case 0:u=(t=[E,b,y])[0],l=t[1],c=t[2];break;case 1:u=(e=[v,E,y])[0],l=e[1],c=e[2];break;case 2:u=(n=[y,E,b])[0],l=n[1],c=n[2];break;case 3:u=(r=[y,v,E])[0],l=r[1],c=r[2];break;case 4:u=(i=[b,y,E])[0],l=i[1],c=i[2];break;case 5:u=(o=[E,y,v])[0],l=o[1],c=o[2]}}return[u,l,c,a.length>3?a[3]:1]},Q=s.unpack,$=s.type;p.prototype.hcg=function(){return q(this._rgb)},g.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hcg"])))},u.format.hcg=J,u.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Q(t,"hcg"),"array"===$(t)&&3===t.length)return"hcg"}});var tt=s.unpack,et=s.last,nt=Math.round,rt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=tt(t,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=et(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var u=(r=nt(r))<<16|(i=nt(i))<<8|(o=nt(o)),l="000000"+u.toString(16);l=l.substr(l.length-6);var c="0"+nt(255*a).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},it=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ot=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,at=function(t){if(t.match(it)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(ot)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},st=s.type;p.prototype.hex=function(t){return rt(this._rgb,t)},g.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hex"])))},u.format.hex=at,u.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===st(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var ut=s.unpack,lt=s.TWOPI,ct=Math.min,ht=Math.sqrt,ft=Math.acos,pt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=ut(t,"rgb"),i=r[0],o=r[1],a=r[2],s=ct(i/=255,o/=255,a/=255),u=(i+o+a)/3,l=u>0?1-s/u:0;return 0===l?n=NaN:(n=(i-o+(i-a))/2,n/=ht((i-o)*(i-o)+(i-a)*(o-a)),n=ft(n),a>o&&(n=lt-n),n/=lt),[360*n,l,u]},dt=s.unpack,gt=s.limit,mt=s.TWOPI,yt=s.PITHIRD,vt=Math.cos,bt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=dt(t,"hsi"))[0],a=t[1],s=t[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*vt(mt*o)/vt(yt-mt*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*vt(mt*(o-=1/3))/vt(yt-mt*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*vt(mt*(o-=2/3))/vt(yt-mt*o))/3)),[255*(n=gt(s*n*3)),255*(r=gt(s*r*3)),255*(i=gt(s*i*3)),t.length>3?t[3]:1]},Et=s.unpack,_t=s.type;p.prototype.hsi=function(){return pt(this._rgb)},g.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hsi"])))},u.format.hsi=bt,u.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Et(t,"hsi"),"array"===_t(t)&&3===t.length)return"hsi"}});var wt=s.unpack,St=s.type;p.prototype.hsl=function(){return A(this._rgb)},g.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hsl"])))},u.format.hsl=N,u.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=wt(t,"hsl"),"array"===St(t)&&3===t.length)return"hsl"}});var xt=s.unpack,Tt=Math.min,Ot=Math.max,Ct=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=xt(t,"rgb"))[0],a=t[1],s=t[2],u=Tt(o,a,s),l=Ot(o,a,s),c=l-u;return i=l/255,0===l?(n=Number.NaN,r=0):(r=c/l,o===l&&(n=(a-s)/c),a===l&&(n=2+(s-o)/c),s===l&&(n=4+(o-a)/c),(n*=60)<0&&(n+=360)),[n,r,i]},At=s.unpack,Lt=Math.floor,Pt=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var u,l,c,h=(a=At(a,"hsv"))[0],f=a[1],p=a[2];if(p*=255,0===f)u=l=c=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var d=Lt(h/=60),g=h-d,m=p*(1-f),y=p*(1-f*g),v=p*(1-f*(1-g));switch(d){case 0:u=(t=[p,v,m])[0],l=t[1],c=t[2];break;case 1:u=(e=[y,p,m])[0],l=e[1],c=e[2];break;case 2:u=(n=[m,p,v])[0],l=n[1],c=n[2];break;case 3:u=(r=[m,y,p])[0],l=r[1],c=r[2];break;case 4:u=(i=[v,m,p])[0],l=i[1],c=i[2];break;case 5:u=(o=[p,m,y])[0],l=o[1],c=o[2]}}return[u,l,c,a.length>3?a[3]:1]},Rt=s.unpack,Mt=s.type;p.prototype.hsv=function(){return Ct(this._rgb)},g.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hsv"])))},u.format.hsv=Pt,u.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Rt(t,"hsv"),"array"===Mt(t)&&3===t.length)return"hsv"}});var kt=18,It=.95047,Nt=1,Dt=1.08883,jt=.137931034,Ft=.206896552,Vt=.12841855,Bt=.008856452,Ut=s.unpack,Gt=Math.pow,Wt=function(t){return(t/=255)<=.04045?t/12.92:Gt((t+.055)/1.055,2.4)},Kt=function(t){return t>Bt?Gt(t,1/3):t/Vt+jt},zt=function(t,e,n){return t=Wt(t),e=Wt(e),n=Wt(n),[Kt((.4124564*t+.3575761*e+.1804375*n)/It),Kt((.2126729*t+.7151522*e+.072175*n)/Nt),Kt((.0193339*t+.119192*e+.9503041*n)/Dt)]},Ht=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ut(t,"rgb"),r=n[0],i=n[1],o=n[2],a=zt(r,i,o),s=a[0],u=a[1],l=a[2],c=116*u-16;return[c<0?0:c,500*(s-u),200*(u-l)]},Yt=s.unpack,qt=Math.pow,Xt=function(t){return 255*(t<=.00304?12.92*t:1.055*qt(t,1/2.4)-.055)},Zt=function(t){return t>Ft?t*t*t:Vt*(t-jt)},Jt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=Yt(t,"lab"))[0],a=t[1],s=t[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=Nt*Zt(r),n=It*Zt(n),i=Dt*Zt(i),[Xt(3.2404542*n-1.5371385*r-.4985314*i),Xt(-.969266*n+1.8760108*r+.041556*i),Xt(.0556434*n-.2040259*r+1.0572252*i),t.length>3?t[3]:1]},Qt=s.unpack,$t=s.type;p.prototype.lab=function(){return Ht(this._rgb)},g.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["lab"])))},u.format.lab=Jt,u.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Qt(t,"lab"),"array"===$t(t)&&3===t.length)return"lab"}});var te=s.unpack,ee=s.RAD2DEG,ne=Math.sqrt,re=Math.atan2,ie=Math.round,oe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=te(t,"lab"),r=n[0],i=n[1],o=n[2],a=ne(i*i+o*o),s=(re(o,i)*ee+360)%360;return 0===ie(1e4*a)&&(s=Number.NaN),[r,a,s]},ae=s.unpack,se=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ae(t,"rgb"),r=n[0],i=n[1],o=n[2],a=Ht(r,i,o),s=a[0],u=a[1],l=a[2];return oe(s,u,l)},ue=s.unpack,le=s.DEG2RAD,ce=Math.sin,he=Math.cos,fe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ue(t,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,he(o*=le)*i,ce(o)*i]},pe=s.unpack,de=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=pe(t,"lch"))[0],r=t[1],i=t[2],o=fe(n,r,i),a=o[0],s=o[1],u=o[2],l=Jt(a,s,u),c=l[0],h=l[1],f=l[2];return[c,h,f,t.length>3?t[3]:1]},ge=s.unpack,me=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ge(t,"hcl").reverse();return de.apply(void 0,n)},ye=s.unpack,ve=s.type;p.prototype.lch=function(){return se(this._rgb)},p.prototype.hcl=function(){return se(this._rgb).reverse()},g.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["lch"])))},g.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hcl"])))},u.format.lch=de,u.format.hcl=me,["lch","hcl"].forEach((function(t){return u.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=ye(e,t),"array"===ve(e)&&3===e.length)return t}})}));var be={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ee=s.type;p.prototype.name=function(){for(var t=rt(this._rgb,"rgb"),e=0,n=Object.keys(be);e<n.length;e+=1){var r=n[e];if(be[r]===t)return r.toLowerCase()}return t},u.format.named=function(t){if(t=t.toLowerCase(),be[t])return at(be[t]);throw new Error("unknown color name: "+t)},u.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===Ee(t)&&be[t.toLowerCase()])return"named"}});var _e=s.unpack,we=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=_e(t,"rgb"),r=n[0],i=n[1],o=n[2];return(r<<16)+(i<<8)+o},Se=s.type,xe=function(t){if("number"==Se(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},Te=s.type;p.prototype.num=function(){return we(this._rgb)},g.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["num"])))},u.format.num=xe,u.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===Te(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var Oe=s.unpack,Ce=s.type,Ae=Math.round;p.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ae)},p.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:Ae(e):e}))},g.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["rgb"])))},u.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Oe(t,"rgba");return void 0===n[3]&&(n[3]=1),n},u.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Oe(t,"rgba"),"array"===Ce(t)&&(3===t.length||4===t.length&&"number"==Ce(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var Le=Math.log,Pe=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Le(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*Le(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*Le(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Le(n),r=255),[e,n,r,1]},Re=s.unpack,Me=Math.round,ke=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=Re(t,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,u=.4;s-a>u;){var l=Pe(n=.5*(s+a));l[2]/l[0]>=o/i?s=n:a=n}return Me(n)};p.prototype.temp=p.prototype.kelvin=p.prototype.temperature=function(){return ke(this._rgb)},g.temp=g.kelvin=g.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["temp"])))},u.format.temp=u.format.kelvin=u.format.temperature=Pe;var Ie=s.type;p.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Ie(t)?e?(this._rgb[3]=t,this):new p([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},p.prototype.clipped=function(){return this._rgb._clipped||!1},p.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=kt*t,new p(e,"lab").alpha(this.alpha(),!0)},p.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},p.prototype.darker=p.prototype.darken,p.prototype.brighter=p.prototype.brighten,p.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var o=n.indexOf(r);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var Ne=s.type,De=Math.pow;p.prototype.luminance=function(t){if(void 0!==t&&"number"===Ne(t)){if(0===t)return new p([0,0,0,this._rgb[3]],"rgb");if(1===t)return new p([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function e(r,i){var o=r.interpolate(i,.5,"rgb"),a=o.luminance();return Math.abs(t-a)<1e-7||!n--?o:a>t?e(r,o):e(o,i)},i=(e>t?r(new p([0,0,0]),this):r(this,new p([255,255,255]))).rgb();return new p(i.concat([this._rgb[3]]))}return je.apply(void 0,this._rgb.slice(0,3))};var je=function(t,e,n){return.2126*(t=Fe(t))+.7152*(e=Fe(e))+.0722*(n=Fe(n))},Fe=function(t){return(t/=255)<=.03928?t/12.92:De((t+.055)/1.055,2.4)},Ve={},Be=s.type,Ue=function(t,e,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(Ve[o]||r.length||(o=Object.keys(Ve)[0]),!Ve[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Be(t)&&(t=new p(t)),"object"!==Be(e)&&(e=new p(e)),Ve[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};p.prototype.mix=p.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ue.apply(void 0,[this,t,e].concat(n))},p.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new p([e[0]*n,e[1]*n,e[2]*n,n],"rgb")},p.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=kt*t,e[1]<0&&(e[1]=0),new p(e,"lch").alpha(this.alpha(),!0)},p.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var Ge=s.type;p.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o);if(s>-1){if("string"==Ge(e))switch(e.charAt(0)){case"+":case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==Ge(e))throw new Error("unsupported value for Color.set");a[s]=e}var u=new p(a,i);return n?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+o+" in mode "+i)}return a},Ve.rgb=function(t,e,n){var r=t._rgb,i=e._rgb;return new p(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var We=Math.sqrt,Ke=Math.pow;Ve.lrgb=function(t,e,n){var r=t._rgb,i=r[0],o=r[1],a=r[2],s=e._rgb,u=s[0],l=s[1],c=s[2];return new p(We(Ke(i,2)*(1-n)+Ke(u,2)*n),We(Ke(o,2)*(1-n)+Ke(l,2)*n),We(Ke(a,2)*(1-n)+Ke(c,2)*n),"rgb")},Ve.lab=function(t,e,n){var r=t.lab(),i=e.lab();return new p(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var ze=function(t,e,n,r){var i,o,a,s,u,l,c,h,f,d,g,m;return"hsl"===r?(a=t.hsl(),s=e.hsl()):"hsv"===r?(a=t.hsv(),s=e.hsv()):"hcg"===r?(a=t.hcg(),s=e.hcg()):"hsi"===r?(a=t.hsi(),s=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",a=t.hcl(),s=e.hcl()),"h"===r.substr(0,1)&&(u=(i=a)[0],c=i[1],f=i[2],l=(o=s)[0],h=o[1],d=o[2]),isNaN(u)||isNaN(l)?isNaN(u)?isNaN(l)?m=Number.NaN:(m=l,1!=f&&0!=f||"hsv"==r||(g=h)):(m=u,1!=d&&0!=d||"hsv"==r||(g=c)):m=u+n*(l>u&&l-u>180?l-(u+360):l<u&&u-l>180?l+360-u:l-u),void 0===g&&(g=c+n*(h-c)),new p([m,g,f+n*(d-f)],r)},He=function(t,e,n){return ze(t,e,n,"lch")};Ve.lch=He,Ve.hcl=He,Ve.num=function(t,e,n){var r=t.num(),i=e.num();return new p(r+n*(i-r),"num")},Ve.hcg=function(t,e,n){return ze(t,e,n,"hcg")},Ve.hsi=function(t,e,n){return ze(t,e,n,"hsi")},Ve.hsl=function(t,e,n){return ze(t,e,n,"hsl")},Ve.hsv=function(t,e,n){return ze(t,e,n,"hsv")};var Ye=s.clip_rgb,qe=Math.pow,Xe=Math.sqrt,Ze=Math.PI,Je=Math.cos,Qe=Math.sin,$e=Math.atan2,tn=function(t,e){for(var n=t.length,r=[0,0,0,0],i=0;i<t.length;i++){var o=t[i],a=e[i]/n,s=o._rgb;r[0]+=qe(s[0],2)*a,r[1]+=qe(s[1],2)*a,r[2]+=qe(s[2],2)*a,r[3]+=s[3]*a}return r[0]=Xe(r[0]),r[1]=Xe(r[1]),r[2]=Xe(r[2]),r[3]>.9999999&&(r[3]=1),new p(Ye(r))},en=s.type,nn=Math.pow,rn=function(t){var e="rgb",n=g("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,u=[],l=!1,c=0,h=1,f=!1,p={},d=!0,m=1,y=function(t){if((t=t||["#fff","#000"])&&"string"===en(t)&&g.brewer&&g.brewer[t.toLowerCase()]&&(t=g.brewer[t.toLowerCase()]),"array"===en(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=g(t[e]);o.length=0;for(var n=0;n<t.length;n++)o.push(n/(t.length-1))}return _(),u=t},v=function(t){return t},b=function(t){return t},E=function(t,r){var i,l;if(null==r&&(r=!1),isNaN(t)||null===t)return n;l=r?t:s&&s.length>2?function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t)/(s.length-2):h!==c?(t-c)/(h-c):1,l=b(l),r||(l=v(l)),1!==m&&(l=nn(l,m)),l=a[0]+l*(1-a[0]-a[1]),l=Math.min(1,Math.max(0,l));var f=Math.floor(1e4*l);if(d&&p[f])i=p[f];else{if("array"===en(u))for(var y=0;y<o.length;y++){var E=o[y];if(l<=E){i=u[y];break}if(l>=E&&y===o.length-1){i=u[y];break}if(l>E&&l<o[y+1]){l=(l-E)/(o[y+1]-E),i=g.interpolate(u[y],u[y+1],l,e);break}}else"function"===en(u)&&(i=u(l));d&&(p[f]=i)}return i},_=function(){return p={}};y(t);var w=function(t){var e=g(E(t));return l&&e[l]?e[l]():e};return w.classes=function(t){if(null!=t){if("array"===en(t))s=t,i=[t[0],t[t.length-1]];else{var e=g.analyze(i);s=0===t?[e.min,e.max]:g.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return i;c=t[0],h=t[t.length-1],o=[];var e=u.length;if(t.length===e&&c!==h)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];o.push((a-c)/(h-c))}else{for(var s=0;s<e;s++)o.push(s/(e-1));if(t.length>2){var l=t.map((function(e,n){return n/(t.length-1)})),f=t.map((function(t){return(t-c)/(h-c)}));f.every((function(t,e){return l[e]===t}))||(b=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=f[e+1];)e++;var n=(t-f[e])/(f[e+1]-f[e]);return l[e]+n*(l[e+1]-l[e])})}}return i=[c,h],w},w.mode=function(t){return arguments.length?(e=t,_(),w):e},w.range=function(t,e){return y(t),w},w.out=function(t){return l=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),f=t,_(),v=f?function(t){for(var e=E(0,!0).lab()[0],n=E(1,!0).lab()[0],r=e>n,i=E(t,!0).lab()[0],o=e+(n-e)*t,a=i-o,s=0,u=1,l=20;Math.abs(a)>.01&&l-- >0;)r&&(a*=-1),a<0?(s=t,t+=.5*(u-t)):(u=t,t+=.5*(s-t)),i=E(t,!0).lab()[0],a=i-o;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===en(t)&&(t=[t,t]),a=t,w):a},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=u.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var o=i[0],a=i[1]-o;r=on(0,e,!1).map((function(t){return w(o+t/(e-1)*a)}))}else{t=[];var l=[];if(s&&s.length>2)for(var c=1,h=s.length,f=1<=h;f?c<h:c>h;f?c++:c--)l.push(.5*(s[c-1]+s[c]));else l=i;r=l.map((function(t){return w(t)}))}return g[n]&&(r=r.map((function(t){return t[n]()}))),r},w.cache=function(t){return null!=t?(d=t,w):d},w.gamma=function(t){return null!=t?(m=t,w):m},w.nodata=function(t){return null!=t?(n=g(t),w):n},w};function on(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:a>o;i?a++:a--)r.push(a);return r}var an=function t(e){var n,r,i,o,a,s,u;if(2===(e=e.map((function(t){return new p(t)}))).length)n=e.map((function(t){return t.lab()})),a=n[0],s=n[1],o=function(t){var e=[0,1,2].map((function(e){return a[e]+t*(s[e]-a[e])}));return new p(e,"lab")};else if(3===e.length)r=e.map((function(t){return t.lab()})),a=r[0],s=r[1],u=r[2],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*a[e]+2*(1-t)*t*s[e]+t*t*u[e]}));return new p(e,"lab")};else if(4===e.length){var l;i=e.map((function(t){return t.lab()})),a=i[0],s=i[1],u=i[2],l=i[3],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*s[e]+3*(1-t)*t*t*u[e]+t*t*t*l[e]}));return new p(e,"lab")}}else if(5===e.length){var c=t(e.slice(0,3)),h=t(e.slice(2,5));o=function(t){return t<.5?c(2*t):h(2*(t-.5))}}return o},sn=function t(e,n,r){if(!t[r])throw new Error("unknown blend mode "+r);return t[r](e,n)},un=function(t){return function(e,n){var r=g(n).rgb(),i=g(e).rgb();return g.rgb(t(r,i))}},ln=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};sn.normal=un(ln((function(t){return t}))),sn.multiply=un(ln((function(t,e){return t*e/255}))),sn.screen=un(ln((function(t,e){return 255*(1-(1-t/255)*(1-e/255))}))),sn.overlay=un(ln((function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))}))),sn.darken=un(ln((function(t,e){return t>e?e:t}))),sn.lighten=un(ln((function(t,e){return t>e?t:e}))),sn.dodge=un(ln((function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t}))),sn.burn=un(ln((function(t,e){return 255*(1-(1-e/255)/(t/255))})));for(var cn=sn,hn=s.type,fn=s.clip_rgb,pn=s.TWOPI,dn=Math.pow,gn=Math.sin,mn=Math.cos,yn=Math.floor,vn=Math.random,bn=Math.log,En=Math.pow,_n=Math.floor,wn=Math.abs,Sn=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===o(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===o(t)&&(t=t[e]),void 0===t||null===t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return xn(n,t,e)},n},xn=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==o(t)&&(t=Sn(t));var r=t.min,i=t.max,a=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,i];var s=[];if("c"===e.substr(0,1)&&(s.push(r),s.push(i)),"e"===e.substr(0,1)){s.push(r);for(var u=1;u<n;u++)s.push(r+u/n*(i-r));s.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*bn(r),c=Math.LOG10E*bn(i);s.push(r);for(var h=1;h<n;h++)s.push(En(10,l+h/n*(c-l)));s.push(i)}else if("q"===e.substr(0,1)){s.push(r);for(var f=1;f<n;f++){var p=(a.length-1)*f/n,d=_n(p);if(d===p)s.push(a[d]);else{var g=p-d;s.push(a[d]*(1-g)+a[d+1]*g)}}s.push(i)}else if("k"===e.substr(0,1)){var m,y=a.length,v=new Array(y),b=new Array(n),E=!0,_=0,w=null;(w=[]).push(r);for(var S=1;S<n;S++)w.push(r+S/n*(i-r));for(w.push(i);E;){for(var x=0;x<n;x++)b[x]=0;for(var T=0;T<y;T++)for(var O=a[T],C=Number.MAX_VALUE,A=void 0,L=0;L<n;L++){var P=wn(w[L]-O);P<C&&(C=P,A=L),b[A]++,v[T]=A}for(var R=new Array(n),M=0;M<n;M++)R[M]=null;for(var k=0;k<y;k++)null===R[m=v[k]]?R[m]=a[k]:R[m]+=a[k];for(var I=0;I<n;I++)R[I]*=1/b[I];E=!1;for(var N=0;N<n;N++)if(R[N]!==w[N]){E=!0;break}w=R,++_>200&&(E=!1)}for(var D={},j=0;j<n;j++)D[j]=[];for(var F=0;F<y;F++)D[m=v[F]].push(a[F]);for(var V=[],B=0;B<n;B++)V.push(D[B][0]),V.push(D[B][D[B].length-1]);V=V.sort((function(t,e){return t-e})),s.push(V[0]);for(var U=1;U<V.length;U+=2){var G=V[U];isNaN(G)||-1!==s.indexOf(G)||s.push(G)}}return s},Tn={analyze:Sn,limits:xn},On=Math.sqrt,Cn=Math.atan2,An=Math.abs,Ln=Math.cos,Pn=Math.PI,Rn={cool:function(){return rn([g.hsl(180,1,.9),g.hsl(250,.7,.4)])},hot:function(){return rn(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Mn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},kn=0,In=Object.keys(Mn);kn<In.length;kn+=1){var Nn=In[kn];Mn[Nn.toLowerCase()]=Mn[Nn]}var Dn=Mn;return g.average=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=i})),t=t.map((function(t){return new p(t)})),"lrgb"===e)return tn(t,n);for(var o=t.shift(),a=o.get(e),s=[],u=0,l=0,c=0;c<a.length;c++)if(a[c]=(a[c]||0)*n[0],s.push(isNaN(a[c])?0:n[0]),"h"===e.charAt(c)&&!isNaN(a[c])){var h=a[c]/180*Ze;u+=Je(h)*n[0],l+=Qe(h)*n[0]}var f=o.alpha()*n[0];t.forEach((function(t,r){var i=t.get(e);f+=t.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===e.charAt(o)){var c=i[o]/180*Ze;u+=Je(c)*n[r+1],l+=Qe(c)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var d=0;d<a.length;d++)if("h"===e.charAt(d)){for(var g=$e(l/s[d],u/s[d])/Ze*180;g<0;)g+=360;for(;g>=360;)g-=360;a[d]=g}else a[d]=a[d]/s[d];return f/=r,new p(a,e).alpha(f>.99999?1:f,!0)},g.bezier=function(t){var e=an(t);return e.scale=function(){return rn(e)},e},g.blend=cn,g.cubehelix=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===hn(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var u=pn*((t+120)/360+e*s),l=dn(i[0]+o*s,r),c=(0!==a?n[0]+s*a:n)*l*(1-l)/2,h=mn(u),f=gn(u);return g(fn([255*(l+c*(-.14861*h+1.78277*f)),255*(l+c*(-.29227*h-.90649*f)),255*(l+c*(1.97294*h)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===hn(n=t)?0===(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(t){return null==t?i:("array"===hn(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),s)},s.scale=function(){return g.scale(s)},s.hue(n),s},g.mix=g.interpolate=Ue,g.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(yn(16*vn()));return new p(t,"hex")},g.scale=rn,g.analyze=Tn.analyze,g.contrast=function(t,e){t=new p(t),e=new p(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},g.deltaE=function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=1),t=new p(t),e=new p(e);for(var i=Array.from(t.lab()),o=i[0],a=i[1],s=i[2],u=Array.from(e.lab()),l=u[0],c=u[1],h=u[2],f=On(a*a+s*s),d=On(c*c+h*h),g=o<16?.511:.040975*o/(1+.01765*o),m=.0638*f/(1+.0131*f)+.638,y=f<1e-6?0:180*Cn(s,a)/Pn;y<0;)y+=360;for(;y>=360;)y-=360;var v=y>=164&&y<=345?.56+An(.2*Ln(Pn*(y+168)/180)):.36+An(.4*Ln(Pn*(y+35)/180)),b=f*f*f*f,E=On(b/(b+1900)),_=m*(E*v+1-E),w=f-d,S=a-c,x=s-h,T=(o-l)/(n*g),O=w/(r*m);return On(T*T+O*O+(S*S+x*x-w*w)/(_*_))},g.distance=function(t,e,n){void 0===n&&(n="lab"),t=new p(t),e=new p(e);var r=t.get(n),i=e.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},g.limits=Tn.limits,g.valid=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(p,[null].concat(t))),!0}catch(n){return!1}},g.scales=Rn,g.colors=be,g.brewer=Dn,g}()},function(t,e,n){var r=n(248);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",c=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],p=n.index;if(s+=t.slice(a,p),a=p+h.length,f)s+=f[1];else{var d=t[a],g=n[2],m=n[3],y=n[4],v=n[5],b=n[6],E=n[7];s&&(r.push(s),s="");var _=null!=g&&null!=d&&d!==g,w="+"===b||"*"===b,S="?"===b||"*"===b,x=n[2]||c,T=y||v;r.push({name:m||o++,prefix:g||"",delimiter:x,optional:S,repeat:w,partial:_,asterisk:!!E,pattern:T?l(T):E?".*":"[^"+u(x)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var h,f=s[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!n[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');o+=c.prefix+h}}else o+=c}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var l=t[s];if("string"===typeof l)a+=u(l);else{var f=u(l.prefix),p="(?:"+l.pattern+")";e.push(l),l.repeat&&(p+="(?:"+f+p+")*"),a+=p=l.optional?l.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var d=u(n.delimiter||"/"),g=a.slice(-d.length)===d;return i||(a=(g?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+d+"|$)",c(new RegExp("^"+a,h(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return c(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},function(t,e,n){e.__esModule=!0,e.Helmet=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=h(n(0)),a=h(n(1)),s=h(n(296)),u=h(n(298)),l=n(299),c=n(114);function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var g=function(t){var e,n;return n=e=function(e){function n(){return p(this,n),d(this,e.apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),n.prototype.shouldComponentUpdate=function(t){return!(0,u.default)(this.props,t)},n.prototype.mapNestedChildrenToProps=function(t,e){if(!e)return null;switch(t.type){case c.TAG_NAMES.SCRIPT:case c.TAG_NAMES.NOSCRIPT:return{innerHTML:e};case c.TAG_NAMES.STYLE:return{cssText:e}}throw new Error("<"+t.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(t){var e,n=t.child,i=t.arrayTypeChildren,o=t.newChildProps,a=t.nestedChildren;return r({},i,((e={})[n.type]=[].concat(i[n.type]||[],[r({},o,this.mapNestedChildrenToProps(n,a))]),e))},n.prototype.mapObjectTypeChildren=function(t){var e,n,i=t.child,o=t.newProps,a=t.newChildProps,s=t.nestedChildren;switch(i.type){case c.TAG_NAMES.TITLE:return r({},o,((e={})[i.type]=s,e.titleAttributes=r({},a),e));case c.TAG_NAMES.BODY:return r({},o,{bodyAttributes:r({},a)});case c.TAG_NAMES.HTML:return r({},o,{htmlAttributes:r({},a)})}return r({},o,((n={})[i.type]=r({},a),n))},n.prototype.mapArrayTypeChildrenToProps=function(t,e){var n=r({},e);return Object.keys(t).forEach((function(e){var i;n=r({},n,((i={})[e]=t[e],i))})),n},n.prototype.warnOnInvalidChildren=function(t,e){return!0},n.prototype.mapChildrenToProps=function(t,e){var n=this,r={};return o.default.Children.forEach(t,(function(t){if(t&&t.props){var i=t.props,o=i.children,a=f(i,["children"]),s=(0,l.convertReactPropstoHtmlAttributes)(a);switch(n.warnOnInvalidChildren(t,o),t.type){case c.TAG_NAMES.LINK:case c.TAG_NAMES.META:case c.TAG_NAMES.NOSCRIPT:case c.TAG_NAMES.SCRIPT:case c.TAG_NAMES.STYLE:r=n.flattenArrayTypeChildren({child:t,arrayTypeChildren:r,newChildProps:s,nestedChildren:o});break;default:e=n.mapObjectTypeChildren({child:t,newProps:e,newChildProps:s,nestedChildren:o})}}})),e=this.mapArrayTypeChildrenToProps(r,e)},n.prototype.render=function(){var e=this.props,n=e.children,i=f(e,["children"]),a=r({},i);return n&&(a=this.mapChildrenToProps(n,a)),o.default.createElement(t,a)},i(n,null,[{key:"canUseDOM",set:function(e){t.canUseDOM=e}}]),n}(o.default.Component),e.propTypes={base:a.default.object,bodyAttributes:a.default.object,children:a.default.oneOfType([a.default.arrayOf(a.default.node),a.default.node]),defaultTitle:a.default.string,defer:a.default.bool,encodeSpecialCharacters:a.default.bool,htmlAttributes:a.default.object,link:a.default.arrayOf(a.default.object),meta:a.default.arrayOf(a.default.object),noscript:a.default.arrayOf(a.default.object),onChangeClientState:a.default.func,script:a.default.arrayOf(a.default.object),style:a.default.arrayOf(a.default.object),title:a.default.string,titleAttributes:a.default.object,titleTemplate:a.default.string},e.defaultProps={defer:!0,encodeSpecialCharacters:!0},e.peek=t.peek,e.rewind=function(){var e=t.rewind();return e||(e=(0,l.mapStateOnServer)({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},n}((0,s.default)(l.reducePropsToState,l.handleClientStateChange,l.mapStateOnServer)((function(){return null})));g.renderStatic=g.rewind,e.Helmet=g,e.default=g},function(t,e,n){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!==i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}},function(t,e,n){"use strict";n.r(e);var r=n(4),i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=o.a.createContext(null),l=function(t){function e(e){var n;n=t.call(this,e)||this;var r=e.store;return n.state={storeState:r.getState(),store:r},n}Object(r.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(t){this.props.store!==t.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var t=this,e=this.props.store;this.unsubscribe=e.subscribe((function(){var n=e.getState();t._isMounted&&t.setState((function(t){return t.storeState===n?null:{storeState:n}}))}));var n=e.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var t=this.props.context||u;return o.a.createElement(t.Provider,{value:this.state},this.props.children)},e}(i.Component);l.propTypes={store:s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired}),context:s.a.object,children:s.a.any};var c=l,h=n(3),f=n(8),p=n(14),d=n(84),g=n.n(d),m=n(15),y=n.n(m);n(77);function v(t,e){void 0===e&&(e={});var n=e,a=n.getDisplayName,s=void 0===a?function(t){return"ConnectAdvanced("+t+")"}:a,l=n.methodName,c=void 0===l?"connectAdvanced":l,d=n.renderCountProp,m=void 0===d?void 0:d,v=n.shouldHandleStateChanges,b=void 0===v||v,E=n.storeKey,_=void 0===E?"store":E,w=n.withRef,S=void 0!==w&&w,x=n.forwardRef,T=void 0!==x&&x,O=n.context,C=void 0===O?u:O,A=Object(p.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);y()(void 0===m,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),y()(!S,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var L="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React-Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";y()("store"===_,"storeKey has been removed and does not do anything. "+L);var P=C;return function(e){var n=e.displayName||e.name||"Component",a=s(n),u=Object(f.a)({},A,{getDisplayName:s,methodName:c,renderCountProp:m,shouldHandleStateChanges:b,storeKey:_,displayName:a,wrappedComponentName:n,WrappedComponent:e}),l=A.pure,p=i.Component,d=e;l&&(p=i.PureComponent);var v=function(e){function n(n){var r;return r=e.call(this,n)||this,y()(T?!n.wrapperProps[_]:!n[_],"Passing redux store in props has been removed and does not do anything. "+L),r.selectDerivedProps=function(){var e,n,r,i,o;return function(a,s,c){if(l&&e===s&&n===a)return r;c!==i&&(i=c,o=t(c.dispatch,u)),e=s,n=a;var h=o(a,s);return r===h?r:r=h}}(),r.selectChildElement=function(){var t,e,n;return function(r,i){return r===t&&i===e||(t=r,e=i,n=o.a.createElement(d,Object(f.a)({},r,{ref:i}))),n}}(),r.renderWrappedComponent=r.renderWrappedComponent.bind(Object(h.a)(Object(h.a)(r))),r}Object(r.a)(n,e);var i=n.prototype;return i.renderWrappedComponent=function(t){y()(t,'Could not find "store" in the context of "'+a+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+a+" in connect options.");var e,n=t.storeState,r=t.store,i=this.props;T&&(i=this.props.wrapperProps,e=this.props.forwardedRef);var o=this.selectDerivedProps(n,i,r);return this.selectChildElement(o,e)},i.render=function(){var t=this.props.context||P;return o.a.createElement(t.Consumer,null,this.renderWrappedComponent)},n}(p);if(v.WrappedComponent=e,v.displayName=a,T){var E=o.a.forwardRef((function(t,e){return o.a.createElement(v,{wrapperProps:t,forwardedRef:e})}));return E.displayName=a,E.WrappedComponent=e,g()(E,e)}return g()(v,e)}}var b=Object.prototype.hasOwnProperty;function E(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function _(t,e){if(E(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!b.call(e,n[i])||!E(t[n[i]],e[n[i]]))return!1;return!0}var w=n(83);function S(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function x(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function T(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=x(t);var i=r(e,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=x(i),i=r(e,n)),i},r}}var O=[function(t){return"function"===typeof t?T(t):void 0},function(t){return t?void 0:S((function(t){return{dispatch:t}}))},function(t){return t&&"object"===typeof t?S((function(e){return Object(w.bindActionCreators)(t,e)})):void 0}];var C=[function(t){return"function"===typeof t?T(t):void 0},function(t){return t?void 0:S((function(){return{}}))}];function A(t,e,n){return Object(f.a)({},n,t,e)}var L=[function(t){return"function"===typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return A}}];function P(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function R(t,e,n,r,i){var o,a,s,u,l,c=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;function d(i,p){var d=!h(p,a),g=!c(i,o);return o=i,a=p,d&&g?(s=t(o,a),e.dependsOnOwnProps&&(u=e(r,a)),l=n(s,u,a)):d?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(u=e(r,a)),l=n(s,u,a)):g?function(){var e=t(o,a),r=!f(e,s);return s=e,r&&(l=n(s,u,a)),l}():l}return function(i,c){return p?d(i,c):(s=t(o=i,a=c),u=e(r,a),l=n(s,u,a),p=!0,l)}}function M(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=Object(p.a)(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?R:P)(a,s,u,t,o)}function k(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function I(t,e){return t===e}var N=function(t){var e=void 0===t?{}:t,n=e.connectHOC,r=void 0===n?v:n,i=e.mapStateToPropsFactories,o=void 0===i?C:i,a=e.mapDispatchToPropsFactories,s=void 0===a?O:a,u=e.mergePropsFactories,l=void 0===u?L:u,c=e.selectorFactory,h=void 0===c?M:c;return function(t,e,n,i){void 0===i&&(i={});var a=i,u=a.pure,c=void 0===u||u,d=a.areStatesEqual,g=void 0===d?I:d,m=a.areOwnPropsEqual,y=void 0===m?_:m,v=a.areStatePropsEqual,b=void 0===v?_:v,E=a.areMergedPropsEqual,w=void 0===E?_:E,S=Object(p.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=k(t,o,"mapStateToProps"),T=k(e,s,"mapDispatchToProps"),O=k(n,l,"mergeProps");return r(h,Object(f.a)({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:x,initMapDispatchToProps:T,initMergeProps:O,pure:c,areStatesEqual:g,areOwnPropsEqual:y,areStatePropsEqual:b,areMergedPropsEqual:w},S))}}();n.d(e,"Provider",(function(){return c})),n.d(e,"connectAdvanced",(function(){return v})),n.d(e,"ReactReduxContext",(function(){return u})),n.d(e,"connect",(function(){return N}))},function(t,e,n){t.exports=n(237)},function(t,e,n){"use strict";var r=s(n(288)),i=s(n(293)),o=s(n(112)),a=s(n(109));function s(t){return t&&t.__esModule?t:{default:t}}t.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(34)(n(30),"Map");t.exports=r},function(t,e,n){var r=n(169),i=n(176),o=n(178),a=n(179),s=n(180);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(198),i=n(205),o=n(73);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r=n(88),i=n(72);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(28),i=n(75),o=n(216),a=n(219);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(28),i=n(76),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(41),i=n(42);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){"use strict";t.exports=n(243)},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r=n(53);n.d(e,"MemoryRouter",(function(){return r.a}));var i=n(54);n.d(e,"Prompt",(function(){return i.a}));var o=n(55);n.d(e,"Redirect",(function(){return o.a}));var a=n(39);n.d(e,"Route",(function(){return a.a}));var s=n(32);n.d(e,"Router",(function(){return s.a}));var u=n(56);n.d(e,"StaticRouter",(function(){return u.a}));var l=n(57);n.d(e,"Switch",(function(){return l.a}));var c=n(35);n.d(e,"generatePath",(function(){return c.a}));var h=n(33);n.d(e,"matchPath",(function(){return h.a}));var f=n(58);n.d(e,"withRouter",(function(){return f.a}))},function(t,e,n){var r=n(252),i=n(253),o=n(254);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e,n){"use strict";function r(t){try{return d.insertRule(t,d.cssRules.length)}catch(t){console.warn("react-reveal - animation failed")}}function i(){c||(e.globalHide=c=!0,window.removeEventListener("scroll",i,!0),r("."+o+" { opacity: 0; }"),window.removeEventListener("orientationchange",i,!0),window.document.removeEventListener("visibilitychange",i))}Object.defineProperty(e,"__esModule",{value:!0}),e.insertRule=r,e.cascade=function(t,e,n,r,i){var o=Math.log(r),a=(Math.log(i)-o)/(n-e);return Math.exp(o+a*(t-e))},e.animation=function(t){if(!d)return"";var e="@keyframes "+(g+f)+"{"+t+"}",n=p[t];return n?""+g+n:(d.insertRule(e,d.cssRules.length),p[t]=f,""+g+f++)},e.hideAll=i,e.default=function(t){var n=t.ssrFadeout;e.fadeOutEnabled=n};var o=e.namespace="react-reveal",a=(e.defaults={duration:1e3,delay:0,count:1},e.ssr=!0),s=e.observerMode=!1,u=e.raf=function(t){return window.setTimeout(t,66)},l=e.disableSsr=function(){return e.ssr=a=!1},c=(e.fadeOutEnabled=!1,e.ssrFadeout=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.fadeOutEnabled=t},e.globalHide=!1),h=(e.ie10=!1,e.collapseend=void 0),f=1,p={},d=!1,g=o+"-"+Math.floor(1e15*Math.random())+"-";if("undefined"!=typeof window&&"nodejs"!==window.name&&window.document&&"undefined"!=typeof navigator){e.observerMode=s="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&/\{\s*\[native code\]\s*\}/.test(""+IntersectionObserver),e.raf=u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||u,e.ssr=a=window.document.querySelectorAll("div[data-reactroot]").length>0,-1!==navigator.appVersion.indexOf("MSIE 10")&&(e.ie10=!0),a&&"performance"in window&&"timing"in window.performance&&"domContentLoadedEventEnd"in window.performance.timing&&window.performance.timing.domLoading&&Date.now()-window.performance.timing.domLoading<300&&(e.ssr=a=!1),a&&window.setTimeout(l,1500),s||(e.collapseend=h=document.createEvent("Event"),h.initEvent("collapseend",!0,!0));var m=document.createElement("style");document.head.appendChild(m),m.sheet&&m.sheet.cssRules&&m.sheet.insertRule&&(d=m.sheet,window.addEventListener("scroll",i,!0),window.addEventListener("orientationchange",i,!0),window.document.addEventListener("visibilitychange",i))}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"createStore",(function(){return s})),n.d(e,"combineReducers",(function(){return l})),n.d(e,"bindActionCreators",(function(){return h})),n.d(e,"applyMiddleware",(function(){return g})),n.d(e,"compose",(function(){return d})),n.d(e,"__DO_NOT_USE__ActionTypes",(function(){return o}));var r=n(85),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function s(t,e,n){var i;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var u=t,l=e,c=[],h=c,f=!1;function p(){h===c&&(h=c.slice())}function d(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function g(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return p(),h.push(t),function(){if(e){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,p();var n=h.indexOf(t);h.splice(n,1)}}}function m(t){if(!a(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,l=u(l,t)}finally{f=!1}for(var e=c=h,n=0;n<e.length;n++){(0,e[n])()}return t}function y(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");u=t,m({type:o.REPLACE})}function v(){var t,e=g;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(d())}return n(),{unsubscribe:e(n)}}})[r.a]=function(){return this},t}return m({type:o.INIT}),(i={dispatch:m,subscribe:g,getState:d,replaceReducer:y})[r.a]=v,i}function u(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"===typeof t[i]&&(n[i]=t[i])}var a,s=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(l){a=l}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var l=s[o],c=n[l],h=t[l],f=c(h,e);if("undefined"===typeof f){var p=u(l,e);throw new Error(p)}i[l]=f,r=r||f!==h}return r?i:t}}function c(t,e){return function(){return e(t.apply(this,arguments))}}function h(t,e){if("function"===typeof t)return c(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];"function"===typeof a&&(r[o]=c(a,e))}return r}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){f(t,e,n[e])}))}return t}function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function g(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return p({},n,{dispatch:r=d.apply(void 0,o)(n.dispatch)})}}}},function(t,e,n){"use strict";var r=n(77),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={};a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var s=Object.defineProperty,u=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(f){var p=h(n);p&&p!==f&&t(e,p,r)}var d=u(n);l&&(d=d.concat(l(n)));for(var g=a[e.$$typeof]||i,m=a[n.$$typeof]||i,y=0;y<d.length;++y){var v=d[y];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!g||!g[v])){var b=c(n,v);try{s(e,v,b)}catch(E){}}}return e}return e}},function(t,e,n){"use strict";(function(t,r){var i,o=n(120);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(27),n(244)(t))},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(46),i=n(158),o=n(159),a=n(160),s=n(161),u=n(162);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},function(t,e,n){var r=n(41),i=n(49);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(27))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(181),i=n(42);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(182),i=n(185),o=n(186);t.exports=function(t,e,n,a,s,u){var l=1&n,c=t.length,h=e.length;if(c!=h&&!(l&&h>c))return!1;var f=u.get(t);if(f&&u.get(e))return f==e;var p=-1,d=!0,g=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++p<c;){var m=t[p],y=e[p];if(a)var v=l?a(y,m,p,e,t,u):a(m,y,p,t,e,u);if(void 0!==v){if(v)continue;d=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(m===t||s(m,t,n,a,u)))return g.push(e)}))){d=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){d=!1;break}}return u.delete(t),u.delete(e),d}},function(t,e,n){var r=n(200),i=n(42),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(30),i=n(201),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(45)(t))},function(t,e,n){var r=n(202),i=n(203),o=n(204),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(49);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(74),i=n(43);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(228),i=n(231)(r);t.exports=i},function(t,e,n){var r=n(255),i=n(256),o=n(257);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))}},function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(i){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],o(n),o(r))}function a(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=o(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!==typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=i.exec(t);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(e){var o=a(r[0]);o!==r[0]&&(n[r[0]]=o)}r=i.exec(t)}n["%C2"]="\ufffd";for(var s=Object.keys(n),u=0;u<s.length;u++){var l=s[u];t=t.replace(new RegExp(l,"g"),n[l])}return t}(t)}}},function(t,e,n){"use strict";t.exports=function(t,e){if("string"!==typeof t||"string"!==typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];var n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(263)),r(n(264)),r(n(265)),r(n(276)),r(n(277))},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.elementFromHash=function(t){if("string"===typeof t)switch(t){case"#":return document.documentElement||document.body.parentElement||document.body;case"":return;default:var e=document.getElementById(t.substring(1));return null!==e?e:"#top"===t?document.documentElement||document.body.parentElement||document.body:void 0}},e.setTitle=function(t){"string"===typeof t&&""!==t.trim()||console.error("Title ["+t+"] is invalid. See https://www.w3.org/TR/UNDERSTANDING-WCAG20/navigation-mechanisms-title.html"),document.title=t},e.isInViewport=function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)};e.elementFromTarget=function(t,e){return void 0===e&&(e=document),t instanceof Element?t:function(t,e){void 0===e&&(e=document);try{var n=e.querySelector(t);return null===n?void 0:n}catch(r){return void console.warn("Syntax error in selector ["+t+"].")}}(t,e)},e.getScrollPosition=function(){var t=document.documentElement||document.body.parentNode||document.body;return{x:window.scrollX||window.pageXOffset||t.scrollLeft,y:window.scrollY||window.pageYOffset||t.scrollTop}},e.setScrollPosition=function(t,n){if(void 0===n&&(n=!1),!n||e.prefersReducedMotion())window.scrollTo(t.x,t.y);else try{window.scrollTo({behavior:"smooth",left:t.x,top:t.y})}catch(r){window.scrollTo(t.x,t.y)}};var o=function(t){return r(void 0,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return n=function(){var t=e.getScrollPosition();return function(){return e.setScrollPosition(t),new Promise((function(n){setTimeout((function(){e.setScrollPosition(t),n()}))}))}}(),r=function(){var t=("function"===typeof window.getComputedStyle?[window.document.documentElement,window.document.body]:[]).filter((function(t){return null!==t&&"smooth"===window.getComputedStyle(t).scrollBehavior})).map((function(t){return{element:t,originalScrollBehavior:t.style.scrollBehavior}}));return t.forEach((function(t){return t.element.style.scrollBehavior="auto"})),function(){t.forEach((function(t){var e=t.element,n=t.originalScrollBehavior;return e.style.scrollBehavior=n}))}}(),o=t(),[4,n()];case 1:return i.sent(),r(),[2,o]}}))}))};e.focusElement=function(t,n){return void 0===n&&(n=!1),r(void 0,void 0,void 0,(function(){var r,a,s;return i(this,(function(i){switch(i.label){case 0:if(void 0===(r=e.elementFromTarget(t)))return console.warn("Cannot focus element. Element ["+t+"] not found."),[2,Promise.resolve(!1)];if(!(r instanceof HTMLElement||r instanceof SVGElement))return console.warn("Cannot focus element. Element ["+t+"] is not an HTMLElement or SVGElement."),[2,Promise.resolve(!1)];i.label=1;case 1:return i.trys.push([1,5,,6]),r.hasAttribute("tabindex")||(r.setAttribute("tabindex","-1"),a=function(){r.removeAttribute("tabindex"),r.removeEventListener("blur",a)},r.addEventListener("blur",a)),n?[4,o((function(){try{r.focus({preventScroll:!0})}catch(i){r.focus()}}))]:[3,3];case 2:return i.sent(),[3,4];case 3:r.focus(),i.label=4;case 4:return[2,document.activeElement===r];case 5:return s=i.sent(),console.error(s),[2,!1];case 6:return[2]}}))}))},e.prefersReducedMotion=function(){return"function"===typeof window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},e.scrollIntoView=function(t,n){if(void 0===n&&(n=!1),t===document.documentElement||t===document.body)e.setScrollPosition({x:0,y:0},n);else if(!n||e.prefersReducedMotion())t.scrollIntoView();else try{t.scrollIntoView({behavior:"smooth"})}catch(r){t.scrollIntoView()}},e.scrollIntoViewIfRequired=function(t,n,r){void 0===n&&(n=!1),void 0===r&&(r=e.isInViewport);var i=e.elementFromTarget(t);void 0===i||r(i)||e.scrollIntoView(i,n)},e.focusAndScrollIntoViewIfRequired=function(t,n,o){return void 0===o&&(o=!1),r(void 0,void 0,void 0,(function(){var r,a,s,u,l;return i(this,(function(i){switch(i.label){case 0:return r=e.elementFromTarget(t),a=e.elementFromTarget(n)||r,s=o||r!==a,(l=void 0!==r)?[4,e.focusElement(r,s)]:[3,2];case 1:l=i.sent(),i.label=2;case 2:return u=l,void 0!==a&&e.scrollIntoViewIfRequired(a,o),[2,u]}}))}))},e.resetFocus=function(t,n,o){return void 0===o&&(o=!1),r(void 0,void 0,void 0,(function(){var r,a,s,u,l,c,h;return i(this,(function(i){switch(i.label){case 0:r=void 0!==n?e.elementFromTarget(n):void 0,a=e.elementFromTarget(t),s=[r,a,document.documentElement,document.body],u=0,l=s,i.label=1;case 1:if(!(u<l.length))return[3,6];if(!((c=l[u])instanceof Element))return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e.focusAndScrollIntoViewIfRequired(c,c,o)];case 3:return i.sent()?[2,!0]:[3,5];case 4:return h=i.sent(),console.error(h),[3,5];case 5:return u++,[3,1];case 6:return[2,!1]}}))}))};e.announce=function(t,e,n,r,i){void 0===e&&(e="announcements"),void 0===n&&(n=50),void 0===r&&(r=500),void 0===i&&(i="polite");var o=document.getElementById(e)||function(t,e){var n=document.createElement("div");return n.setAttribute("id",t),n.setAttribute("role","status"),n.setAttribute("aria-live",e),n.setAttribute("aria-atomic","true"),n.style.position="absolute",n.style.width="1px",n.style.height="1px",n.style.padding="0",n.style.overflow="hidden",n.style.clip="rect(0, 0, 0, 0)",n.style.whiteSpace="nowrap",n.style.border="0",document.body.appendChild(n),n}(e,i),a=new Promise((function(e){setTimeout((function(){o.innerText=t,e()}),n)})),s=new Promise((function(t){setTimeout((function(){o.innerText="",t()}),r)}));return Promise.all([a,s])},e.closestInsideForm=function(t,n,r){return t===r||null===t.parentElement?void 0:t.matches(n)?t:e.closestInsideForm(t.parentElement,n,r)},e.focusInvalidForm=function(t,n,r,i){void 0===i&&(i=!1);var o=e.elementFromTarget(t);if(void 0===o)return console.warn("No form matching ["+t+"] found in document. Users of keyboards, screen readers and other assistive technology will have a degraded experience."),Promise.resolve(!1);var a=e.elementFromTarget(n,o);if(void 0===a)return console.warn("No invalid form element matching ["+n+"] found inside form ["+t+"]. Users of keyboards, screen readers and other assistive technology will have a degraded experience."),Promise.resolve(!1);var s=void 0!==r&&"function"===typeof a.matches?e.closestInsideForm(a,r,o):void 0;return e.focusAndScrollIntoViewIfRequired(a,s||a,i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isElement=function(t){var e=void 0;e="object"===("undefined"===typeof HTMLElement?"undefined":r(HTMLElement))?t instanceof HTMLElement:!!t&&"object"===("undefined"===typeof t?"undefined":r(t))&&1===t.nodeType&&"string"===typeof t.nodeName;return e}},function(t,e,n){"use strict";t.exports=n(282)},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(1)),i=s(n(0)),o=s(n(22)),a=n(110);n(111);function s(t){return t&&t.__esModule?t:{default:t}}e.UNMOUNTED="unmounted";e.EXITED="exited";e.ENTERING="entering";e.ENTERED="entered";e.EXITING="exiting";var u=function(t){var e,n;function r(e,n){var r;r=t.call(this,e,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=e.unmountOnExit||e.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(t,e){return t.in&&"unmounted"===e.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(e="entering"):"entering"!==n&&"entered"!==n||(e="exiting")}this.updateStatus(!1,e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},a.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);"entering"===e?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(t,e){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts(),a=i?o.appear:o.enter;e||r?(this.props.onEnter(t,i),this.safeSetState({status:"entering"},(function(){n.props.onEntering(t,i),n.onTransitionEnd(t,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(t,i)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(t)}))},a.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},a.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(t,e,n){this.setNextCallback(n);var r=null==e&&!this.props.addEndListener;t&&!r?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if("unmounted"===t)return null;var e=this.props,n=e.children,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(t,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function l(){}u.contextTypes={transitionGroup:r.object},u.childContextTypes={transitionGroup:function(){}},u.propTypes={},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:l,onEntering:l,onEntered:l,onExit:l,onExiting:l,onExited:l},u.UNMOUNTED=0,u.EXITED=1,u.ENTERING=2,u.ENTERED=3,u.EXITING=4;var c=(0,a.polyfill)(u);e.default=c},function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function o(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=t.displayName||t.name,l="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=i),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;var r;(r=n(1))&&r.__esModule;e.timeoutsShape=null;e.classNamesShape=null},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=s(n(1)),i=s(n(0)),o=n(110),a=n(294);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},h=function(t){var e,n;function r(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(l(l(r)));return r.state={handleExited:i,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},o.handleExited=function(t,e){var n=(0,a.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=u({},e.children);return delete n[t.key],{children:n}})))},o.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["component","childFactory"]),o=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},r}(i.default.Component);h.childContextTypes={transitionGroup:r.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(t){return t}};var f=(0,o.polyfill)(h);e.default=f,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t,e,n,r){return"in"in t&&(t.when=t.in),o.default.Children.count(r)<2?o.default.createElement(a.default,i({},t,{inEffect:e,outEffect:n,children:r})):(r=o.default.Children.map(r,(function(r){return o.default.createElement(a.default,i({},t,{inEffect:e,outEffect:n,children:r}))})),"Fragment"in o.default?o.default.createElement(o.default.Fragment,null,r):o.default.createElement("span",null,r))};var o=r(n(0)),a=r(n(295));t.exports=e.default},function(t,e){e.__esModule=!0;e.ATTRIBUTE_NAMES={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"};var n=e.TAG_NAMES={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},r=(e.VALID_TAG_NAMES=Object.keys(n).map((function(t){return n[t]})),e.TAG_PROPERTIES={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src"},e.REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"});e.HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},e.HTML_TAG_MAP=Object.keys(r).reduce((function(t,e){return t[r[e]]=e,t}),{}),e.SELF_CLOSING_TAGS=[n.NOSCRIPT,n.SCRIPT,n.STYLE],e.HELMET_ATTRIBUTE="data-react-helmet"},function(t,e,n){var r=n(52),i=n(82),o=function(){"use strict";function t(e,n,i,o,a){r(this,t),this.x=e,this.y=n,this.w=i,this.h=o,a&&(this.data=a)}return i(t,[{key:"contains",value:function(t){return t.x>=this.x&&t.x<=this.x+this.w&&t.y>=this.y&&t.y<=this.y+this.h}},{key:"intersects",value:function(t){return!(t.x>this.x+this.w||t.x+t.w<this.x||t.y>this.y+this.h||t.y+t.h<this.y)}}]),t}();t.exports=o},function(t,e,n){"use strict";t.exports=n(313)},function(t,e,n){var r=n(86),i=n(150),o=n(227),a=n(28);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(232);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e,n){!function(t,e){"use strict";function n(t){return"string"===typeof t||"number"===typeof t}var r=function(){function t(){this._cache={}}var e=t.prototype;return e.set=function(t,e){this._cache[t]=e},e.get=function(t){return this._cache[t]},e.remove=function(t){delete this._cache[t]},e.clear=function(){this._cache={}},e.isValidCacheKey=function(t){return n(t)},t}(),i=r,o=function(){return!0};function a(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t,r){if("function"===typeof r)throw new Error('[re-reselect] Second argument "options" must be an object. Please use "options.selectorCreator" to provide a custom selectorCreator.');var a={};"function"===typeof t?Object.assign(a,r,{keySelector:t}):Object.assign(a,t);var s=0,u=n.pop(),l=Array.isArray(n[0])?n[0]:[].concat(n);n.push((function(){return s++,u.apply(void 0,arguments)}));var c=a.cacheObject||new i,h=a.selectorCreator||e.createSelector,f=c.isValidCacheKey||o;a.keySelectorCreator&&(a.keySelector=a.keySelectorCreator({keySelector:a.keySelector,inputSelectors:l,resultFunc:u}));var p=function(){var t=a.keySelector.apply(a,arguments);if(f(t)){var e=c.get(t);return void 0===e&&(e=h.apply(void 0,n),c.set(t,e)),e.apply(void 0,arguments)}console.warn('[re-reselect] Invalid cache key "'+t+'" has been returned by keySelector function.')};return p.getMatchingSelector=function(){var t=a.keySelector.apply(a,arguments);return c.get(t)},p.removeMatchingSelector=function(){var t=a.keySelector.apply(a,arguments);c.remove(t)},p.clearCache=function(){c.clear()},p.resultFunc=u,p.dependencies=l,p.cache=c,p.recomputations=function(){return s},p.resetRecomputations=function(){return s=0},p.keySelector=a.keySelector,p}}function s(t){if(void 0===t)throw new Error('Missing the required property "cacheSize".');if(!Number.isInteger(t)||t<=0)throw new Error('The "cacheSize" property must be a positive integer value.')}var u=function(){function t(t){var e=(void 0===t?{}:t).cacheSize;s(e),this._cache={},this._cacheOrdering=[],this._cacheSize=e}var e=t.prototype;return e.set=function(t,e){if(this._cache[t]=e,this._cacheOrdering.push(t),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},e.get=function(t){return this._cache[t]},e.remove=function(t){var e=this._cacheOrdering.indexOf(t);e>-1&&this._cacheOrdering.splice(e,1),delete this._cache[t]},e.clear=function(){this._cache={},this._cacheOrdering=[]},e.isValidCacheKey=function(t){return n(t)},t}(),l=function(){function t(t){var e=(void 0===t?{}:t).cacheSize;s(e),this._cache={},this._cacheOrdering=[],this._cacheSize=e}var e=t.prototype;return e.set=function(t,e){if(this._cache[t]=e,this._registerCacheHit(t),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},e.get=function(t){return this._registerCacheHit(t),this._cache[t]},e.remove=function(t){this._deleteCacheHit(t),delete this._cache[t]},e.clear=function(){this._cache={},this._cacheOrdering=[]},e._registerCacheHit=function(t){this._deleteCacheHit(t),this._cacheOrdering.push(t)},e._deleteCacheHit=function(t){var e=this._cacheOrdering.indexOf(t);e>-1&&this._cacheOrdering.splice(e,1)},e.isValidCacheKey=function(t){return n(t)},t}(),c=function(){function t(){this._cache=new Map}var e=t.prototype;return e.set=function(t,e){this._cache.set(t,e)},e.get=function(t){return this._cache.get(t)},e.remove=function(t){this._cache.delete(t)},e.clear=function(){this._cache.clear()},t}(),h=function(){function t(t){var e=(void 0===t?{}:t).cacheSize;s(e),this._cache=new Map,this._cacheSize=e}var e=t.prototype;return e.set=function(t,e){if(this._cache.set(t,e),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},e.get=function(t){return this._cache.get(t)},e.remove=function(t){this._cache.delete(t)},e.clear=function(){this._cache.clear()},t}(),f=function(){function t(t){var e=(void 0===t?{}:t).cacheSize;s(e),this._cache=new Map,this._cacheSize=e}var e=t.prototype;return e.set=function(t,e){if(this._cache.set(t,e),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},e.get=function(t){var e=this._cache.get(t);return this._cache.has(t)&&(this.remove(t),this._cache.set(t,e)),e},e.remove=function(t){this._cache.delete(t)},e.clear=function(){this._cache.clear()},t}();t.FifoCacheObject=u,t.FifoMapCache=h,t.FifoObjectCache=u,t.FlatCacheObject=r,t.FlatMapCache=c,t.FlatObjectCache=r,t.LruCacheObject=f,t.LruMapCache=f,t.LruObjectCache=l,t.createStructuredCachedSelector=function(t){return e.createStructuredSelector(t,a)},t.default=a,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(29))},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,c=l&&l(Object);t.exports=function t(e,n,h){if("string"!==typeof n){if(c){var f=l(n);f&&f!==c&&t(e,f,h)}var p=a(n);s&&(p=p.concat(s(n)));for(var d=0;d<p.length;++d){var g=p[d];if(!r[g]&&!i[g]&&(!h||!h[g])){var m=u(n,g);try{o(e,g,m)}catch(y){}}}return e}return e}},function(t,e,n){"use strict";var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var s=function(t){function e(){var t,n,r;o(this,e);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=r=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),r.state={animationIndex:0,animationLoop:null,animationRunning:!1},a(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"componentDidMount",value:function(){e.mountedInstances.push(this),e.update()}},{key:"componentWillUnmount",value:function(){var t=e.getActiveInstance();clearInterval(t.state.animationLoop)}},{key:"componentDidUpdate",value:function(t){t.url===this.props.url&&t.animated===this.props.animated&&t.alertCount===this.props.alertCount&&t.keepIconLink===this.props.keepIconLink||e.update()}},{key:"render",value:function(){return null}}],[{key:"getActiveInstance",value:function(){return e.mountedInstances[e.mountedInstances.length-1]}},{key:"draw",value:function(){if("undefined"!==typeof document){var t,n=e.getActiveInstance();if("undefined"===typeof r){var i=document.getElementsByTagName("head")[0];(r=document.createElement("link")).type="image/x-icon",r.rel="icon";for(var o=i.getElementsByTagName("link"),a=o.length;--a>=0;)/\bicon\b/i.test(o[a].getAttribute("rel"))&&!n.props.keepIconLink(o[a])&&i.removeChild(o[a]);i.appendChild(r)}t=n.props.url instanceof Array?n.props.url[n.state.animationIndex]:n.props.url,n.props.alertCount?function(t,e,n){var r=document.createElement("img");r.onload=function(){var t=document.createElement("canvas");t.width=r.width,t.height=r.height;var i=t.getContext("2d");i.clearRect(0,0,r.width,r.height),i.drawImage(r,0,0);var o=r.height-9,a=r.width-7-1;i.fillStyle="#F03D25",i.strokeStyle="#F03D25",i.lineWidth=1,i.beginPath(),i.moveTo(a+2,o),i.quadraticCurveTo(a,o,a,o+2),i.lineTo(a,14),i.quadraticCurveTo(a,16,a+2,16),i.lineTo(14,16),i.quadraticCurveTo(16,16,16,14),i.lineTo(16,o+2),i.quadraticCurveTo(16,o,14,o),i.closePath(),i.fill(),i.font="bold 10px arial",i.fillStyle="#FFF",i.textAlign="right",i.textBaseline="top",i.fillText(e,15,6),n(null,i.canvas.toDataURL())},r.src=t}(t,n.props.alertCount,(function(t,e){r.href=e})):r.href=t}}},{key:"update",value:function(){if("undefined"!==typeof document){var t=e.getActiveInstance(),n=t.props.url instanceof Array&&t.props.animated,r=null;if(clearInterval(t.state.animationLoop),n){var i=function(){var n=(t.state.animationIndex+1)%t.props.url.length;e.draw(),t.setState({animationIndex:n})};r=setInterval(i,t.props.animationDelay),i()}else e.draw();t.setState({animationLoop:r})}}}]),e}(n(0).Component);s.displayName="Favicon",s.defaultProps={alertCount:null,animated:!0,animationDelay:500,keepIconLink:function(){return!1}},s.mountedInstances=[],t.exports=s},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(105);e.defaultSettings=r({},i.defaultSettings);var o=function(t){return void 0!==t?t:"initial"};e.wrapHistory=function(t,n){var a=r(r({},e.defaultSettings),n),s=i.createOafRouter(a,(function(t){return t.hash})),u=t.location;setTimeout((function(){s.handleFirstPageLoad(u)}),a.renderTimeout);var l=u,c=t.listen((function(t,e){s.handleLocationWillChange(o(l.key),o(t.key),e);var n=l;setTimeout((function(){s.handleLocationChanged(n,t,o(t.key),e)}),a.renderTimeout),l=t}));return function(){s.resetAutoScrollRestoration(),c()}}},function(t,e,n){"use strict";var r=n(80),i=n(101),o=n(102),a=n(103),s=n(104);function u(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(t,e){return e.encode?e.strict?o(t):encodeURIComponent(t):t}function c(t,e){return e.decode?a(t):t}function h(t){var e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function f(t){var e=(t=h(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function d(t,e){u((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return function(e,n,r){var i="string"===typeof n&&n.split("").indexOf(t.arrayFormatSeparator)>-1?n.split(t.arrayFormatSeparator).map((function(e){return c(e,t)})):null===n?n:c(n,t);r[e]=i};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),i=Object.create(null);if("string"!==typeof t)return i;if(!(t=t.trim().replace(/^[?#&]/,"")))return i;var o=!0,a=!1,l=void 0;try{for(var h,f=t.split("&")[Symbol.iterator]();!(o=(h=f.next()).done);o=!0){var d=h.value,g=s(e.decode?d.replace(/\+/g," "):d,"="),m=r(g,2),y=m[0],v=m[1];v=void 0===v?null:"comma"===e.arrayFormat?v:c(v,e),n(c(y,e),v,i)}}catch(O){a=!0,l=O}finally{try{o||null==f.return||f.return()}finally{if(a)throw l}}for(var b=0,E=Object.keys(i);b<E.length;b++){var _=E[b],w=i[_];if("object"===typeof w&&null!==w)for(var S=0,x=Object.keys(w);S<x.length;S++){var T=x[S];w[T]=p(w[T],e)}else i[_]=p(w,e)}return!1===e.sort?i:(!0===e.sort?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((function(t,e){var n=i[e];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"===typeof e?t(Object.keys(e)).sort((function(t,e){return Number(t)-Number(e)})).map((function(t){return e[t]})):e}(n):t[e]=n,t}),Object.create(null))}e.extract=f,e.parse=d,e.stringify=function(t,e){if(!t)return"";u((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);var n=function(t){switch(t.arrayFormat){case"index":return function(e){return function(n,r){var o=n.length;return void 0===r||t.skipNull&&null===r?n:[].concat(i(n),null===r?[[l(e,t),"[",o,"]"].join("")]:[[l(e,t),"[",l(o,t),"]=",l(r,t)].join("")])}};case"bracket":return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r?n:[].concat(i(n),null===r?[[l(e,t),"[]"].join("")]:[[l(e,t),"[]=",l(r,t)].join("")])}};case"comma":case"separator":return function(e){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[l(e,t),"=",l(r,t)].join("")]:[[n,l(r,t)].join(t.arrayFormatSeparator)]}};default:return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r?n:[].concat(i(n),null===r?[l(e,t)]:[[l(e,t),"=",l(r,t)].join("")])}}}}(e),r=Object.assign({},t);if(e.skipNull)for(var o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];void 0!==r[s]&&null!==r[s]||delete r[s]}var c=Object.keys(r);return!1!==e.sort&&c.sort(e.sort),c.map((function(r){var i=t[r];return void 0===i?"":null===i?l(r,e):Array.isArray(i)?i.reduce(n(r),[]).join("&"):l(r,e)+"="+l(i,e)})).filter((function(t){return t.length>0})).join("&")},e.parseUrl=function(t,e){return{url:h(t).split("?")[0]||"",query:d(f(t),e)}},e.stringifyUrl=function(t,n){var r=h(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i),a=function(t){var e="",n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url),s=Object.assign(o,t.query),u=e.stringify(s,n);return u&&(u="?".concat(u)),"".concat(r).concat(u).concat(a)}},function(t,e,n){t.exports=function(){"use strict";return function(t){function e(e){if(e)try{t(e+"}")}catch(n){}}return function(n,r,i,o,a,s,u,l,c,h){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return t(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}}()},function(t,e,n){(function(e){for(var r=n(287),i="undefined"===typeof window?e:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=i[o[l]+"Request"+a],u=i[o[l]+"Cancel"+a]||i[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,h=0,f=[];s=function(t){if(0===f.length){var e=r(),n=Math.max(0,1e3/60-(e-c));c=n+e,setTimeout((function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return f.push({handle:++h,callback:t,cancelled:!1}),h},u=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return s.call(i,t)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(this,n(27))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=u(o),s=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}var l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],h=function(t,e){e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,e.style.textTransform=t.textTransform},f=!("undefined"===typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),p=function(){return f?"_"+Math.random().toString(36).substr(2,12):void 0},d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.inputRef=function(t){n.input=t,"function"===typeof n.props.inputRef&&n.props.inputRef(t)},n.placeHolderSizerRef=function(t){n.placeHolderSizer=t},n.sizerRef=function(t){n.sizer=t},n.state={inputWidth:t.minWidth,inputId:t.id||p()},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=t.id;e!==this.props.id&&this.setState({inputId:e||p()})}},{key:"componentDidUpdate",value:function(t,e){e.inputWidth!==this.state.inputWidth&&"function"===typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var t=this.input&&window.getComputedStyle(this.input);t&&(h(t,this.sizer),this.placeHolderSizer&&h(t,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var t=void 0;t=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(t+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var t=this.props.injectStyles;return f&&t?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var t=[this.props.defaultValue,this.props.value,""].reduce((function(t,e){return null!==t&&void 0!==t?t:e})),e=r({},this.props.style);e.display||(e.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(this.props,[]);return function(t){c.forEach((function(e){return delete t[e]}))}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,a.default.createElement("div",{className:this.props.className,style:e},this.renderStyles(),a.default.createElement("input",r({},i,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:l},t),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),e}(o.Component);d.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},d.defaultProps={minWidth:1,injectStyles:!0},e.default=d},function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}())}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!==typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function a(){n&&(n=!1,t()),r&&u()}function s(){o(a)}function u(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return u}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},c=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},h=y(0,0,0,0);function f(t){return parseFloat(t)||0}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+f(t["border-"+n+"-width"])}),0)}function d(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return h;var r=c(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=f(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),u=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=p(r,"left","right")+o),Math.round(u+a)!==n&&(u-=p(r,"top","bottom")+a)),!function(t){return t===c(t).document.documentElement}(t)){var l=Math.round(s+o)-e,d=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(d)&&(u-=d)}return y(i.left,i.top,s,u)}var g="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof c(t).SVGGraphicsElement}:function(t){return t instanceof c(t).SVGElement&&"function"===typeof t.getBBox};function m(t){return r?g(t)?function(t){var e=t.getBBox();return y(0,0,e.width,e.height)}(t):d(t):h}function y(t,e,n,r){return{x:t,y:e,width:n,height:r}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=m(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return l(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);l(this,{target:t,contentRect:n})},E=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new b(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),_="undefined"!==typeof WeakMap?new WeakMap:new n,w=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new E(e,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){w.prototype[t]=function(){var e;return(e=_.get(this))[t].apply(e,arguments)}}));var S="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:w;e.a=S}).call(this,n(27))},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(27))},function(t,e,n){"use strict";var r=n(77),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(e),g=u(n),m=0;m<a.length;++m){var y=a[m];if(!o[y]&&(!r||!r[y])&&(!g||!g[y])&&(!s||!s[y])){var v=f(n,y);try{l(e,y,v)}catch(b){}}}}return e}},,,,,,,,,,,,function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(){return p||(p=(0,c.animation)(f))}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,e=t.children,n=(t.out,t.timeout),o=t.duration,a=void 0===o?c.defaults.duration:o,s=t.delay,u=void 0===s?c.defaults.delay:s,h=t.count,f=void 0===h?c.defaults.count:h,p=t.forever,d=r(t,["children","out","timeout","duration","delay","count","forever"]),g={make:i,duration:void 0===n?a:n,delay:u,forever:p,count:f,style:{animationFillMode:"both"}};return(0,l.default)(d,g,!1,e,!0)}Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(1),u=n(113),l=(a=u)&&a.__esModule?a:{default:a},c=n(81),h={duration:s.number,timeout:s.number,delay:s.number,count:s.number,forever:s.bool},f="\n from, 20%, 53%, 80%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    transform: translate3d(0,0,0);\n  }\n\n  40%, 43% {\n    animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\n    transform: translate3d(0, -30px, 0);\n  }\n\n  70% {\n    animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\n    transform: translate3d(0, -15px, 0);\n  }\n\n  90% {\n    transform: translate3d(0, -4px, 0);\n}\n",p=!1;o.propTypes=h,e.default=o,t.exports=e.default},function(t,e,n){var r,i,o,a,s,u,l;window,t.exports=(r=n(116),i=n(1),o=n(20),a=n(31),s=n(5),u=n(314),l=n(317),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=26)}([function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e){t.exports=a},function(t,e,n){"use strict";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],u=e.base?s[0]+e.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var h=a(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(f)):o.push({identifier:c,updater:g(f,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function g(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=u(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(t,e),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r,i,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e){t.exports=s},function(t,e){t.exports=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(0)),l=n(20),c=s(n(21)),h={width:"auto",height:"auto"},f=c.default((function(t,e,n){return Math.max(Math.min(t,n),e)})),p=c.default((function(t,e){return Math.round(t/e)*e})),d=c.default((function(t,e){return new RegExp(t,"i").test(e)})),g=c.default((function(t,e,n){void 0===n&&(n=0);var r=e.reduce((function(n,r,i){return Math.abs(r-t)<Math.abs(e[n]-t)?i:n}),0),i=Math.abs(e[r]-t);return 0===n||i<n?e[r]:t})),m=c.default((function(t,e){return t.substr(t.length-e.length,e.length)===e})),y=c.default((function(t){return"auto"===(t=t.toString())||m(t,"px")||m(t,"%")||m(t,"vh")||m(t,"vw")||m(t,"vmax")||m(t,"vmin")?t:t+"px"})),v=c.default((function(t,e,n,r,i){if(e&&"string"==typeof e&&m(e,"%")){var o=Number(e.replace("%",""))/100;e=t.width*o}return n&&"string"==typeof n&&m(n,"%")&&(o=Number(n.replace("%",""))/100,n=t.height*o),r&&"string"==typeof r&&m(r,"%")&&(o=Number(r.replace("%",""))/100,r=t.width*o),i&&"string"==typeof i&&m(i,"%")&&(o=Number(i.replace("%",""))/100,i=t.height*o),{maxWidth:void 0===e?void 0:Number(e),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===r?void 0:Number(r),minHeight:void 0===i?void 0:Number(i)}})),b=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],E=function(t){function e(e){var n=t.call(this,e)||this;return n.ratio=1,n.resizable=null,n.extendsProps={},n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.updateExtendsProps(e),n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),"undefined"!=typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return i(e,t),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||h},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){var t=this.parentNode;if(t)for(var e=0,n=[].slice.call(t.children);e<n.length;e++){var r=n[e];if(r instanceof HTMLElement&&r.classList.contains("__resizable_base__"))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var t=0,e=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),t="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,e="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:t,height:e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var t=this,e=this.props.size,n=function(e){if(void 0===t.state[e]||"auto"===t.state[e])return"auto";if(t.propsSize&&t.propsSize[e]&&m(t.propsSize[e].toString(),"%")){if(m(t.state[e].toString(),"%"))return t.state[e].toString();var n=t.getParentSize();return Number(t.state[e].toString().replace("px",""))/n[e]*100+"%"}return y(t.state[e])};return{width:e&&void 0!==e.width&&!this.state.isResizing?y(e.width):n("width"),height:e&&void 0!==e.height&&!this.state.isResizing?y(e.height):n("height")}},enumerable:!0,configurable:!0}),e.prototype.updateExtendsProps=function(t){this.extendsProps=Object.keys(t).reduce((function(e,n){return-1!==b.indexOf(n)||(e[n]=t[n]),e}),{})},e.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var t=!1,e=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==e&&(t=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",t&&(this.parentNode.style.flexWrap=e),this.base.style.minWidth=n,r},e.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var t=this.parentNode;if(t instanceof HTMLElement&&!this.base){var e=document.createElement("div");e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.transform="scale(0, 0)",e.style.left="0",e.style.flex="0",e.classList?e.classList.add("__resizable_base__"):e.className+="__resizable_base__",t.appendChild(e)}},e.prototype.componentWillReceiveProps=function(t){this.updateExtendsProps(t)},e.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var t=this.parentNode;if(!this.base||!t)return;if(!(t instanceof HTMLElement&&this.base instanceof Node))return;t.removeChild(this.base)}},e.prototype.createSizeForCssProperty=function(t,e){var n=this.propsSize&&this.propsSize[e];return"auto"!==this.state[e]||this.state.original[e]!==t||void 0!==n&&"auto"!==n?t:"auto"},e.prototype.calculateNewMaxFromBoundary=function(t,e){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),i=n.offsetHeight+(this.parentTop-this.resizableTop);t=t&&t<r?t:r,e=e&&e<i?e:i}}else"window"===this.props.bounds?"undefined"!=typeof window&&(r=window.innerWidth-this.resizableLeft,i=window.innerHeight-this.resizableTop,t=t&&t<r?t:r,e=e&&e<i?e:i):this.props.bounds instanceof HTMLElement&&(r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop),t=t&&t<r?t:r,e=e&&e<i?e:i);return{maxWidth:t,maxHeight:e}},e.prototype.calculateNewSizeFromDirection=function(t,e){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,o=i.direction,a=i.original,s=this.props,u=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,c=s.lockAspectRatioExtraWidth,h=a.width,f=a.height,p=l||0,g=c||0;return d("right",o)&&(h=a.width+(t-a.x)*r/n,u&&(f=(h-g)/this.ratio+p)),d("left",o)&&(h=a.width-(t-a.x)*r/n,u&&(f=(h-g)/this.ratio+p)),d("bottom",o)&&(f=a.height+(e-a.y)*r/n,u&&(h=(f-p)*this.ratio+g)),d("top",o)&&(f=a.height-(e-a.y)*r/n,u&&(h=(f-p)*this.ratio+g)),{newWidth:h,newHeight:f}},e.prototype.calculateNewSizeFromAspectRatio=function(t,e,n,r){var i=this.props,o=i.lockAspectRatio,a=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,u=void 0===r.width?10:r.width,l=void 0===n.width||n.width<0?t:n.width,c=void 0===r.height?10:r.height,h=void 0===n.height||n.height<0?e:n.height,p=a||0,d=s||0;if(o){var g=(c-p)*this.ratio+d,m=(h-p)*this.ratio+d,y=(u-d)/this.ratio+p,v=(l-d)/this.ratio+p,b=Math.max(u,g),E=Math.min(l,m),_=Math.max(c,y),w=Math.min(h,v);t=f(t,b,E),e=f(e,_,w)}else t=f(t,u,l),e=f(e,c,h);return{newWidth:t,newHeight:e}},e.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var t=this.parentNode;if(t instanceof HTMLElement){var e=t.getBoundingClientRect();this.parentLeft=e.left,this.parentTop=e.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top;this.resizableLeft=i,this.resizableTop=o}},e.prototype.onResizeStart=function(t,e){var n=0,r=0;if(t.nativeEvent instanceof MouseEvent){if(n=t.nativeEvent.clientX,r=t.nativeEvent.clientY,3===t.nativeEvent.which)return}else t.nativeEvent instanceof TouchEvent&&(n=t.nativeEvent.touches[0].clientX,r=t.nativeEvent.touches[0].clientY);this.props.onResizeStart&&this.resizable&&this.props.onResizeStart(t,e,this.resizable),this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(t.target).cursor||"auto",direction:e})},e.prototype.onMouseMove=function(t){if(this.state.isResizing&&this.resizable){var e=this.props,n=e.maxWidth,r=e.maxHeight,i=e.minWidth,o=e.minHeight,a=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,s=t instanceof MouseEvent?t.clientY:t.touches[0].clientY,u=this.state,l=u.direction,c=u.original,h=u.width,f=u.height,d=this.getParentSize(),y=v(d,n,r,i,o);n=y.maxWidth,r=y.maxHeight,i=y.minWidth,o=y.minHeight;var b=this.calculateNewSizeFromDirection(a,s),E=b.newHeight,_=b.newWidth,w=this.calculateNewMaxFromBoundary(n,r),S=this.calculateNewSizeFromAspectRatio(_,E,{width:w.maxWidth,height:w.maxHeight},{width:i,height:o});if(_=S.newWidth,E=S.newHeight,this.props.grid){var x=p(_,this.props.grid[0]),T=p(E,this.props.grid[1]),O=this.props.snapGap||0;_=0===O||Math.abs(x-_)<=O?x:_,E=0===O||Math.abs(T-E)<=O?T:E}this.props.snap&&this.props.snap.x&&(_=g(_,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(E=g(E,this.props.snap.y,this.props.snapGap));var C={width:_-c.width,height:E-c.height};h&&"string"==typeof h&&(m(h,"%")?_=_/d.width*100+"%":m(h,"vw")?_=_/window.innerWidth*100+"vw":m(h,"vh")&&(_=_/window.innerHeight*100+"vh")),f&&"string"==typeof f&&(m(f,"%")?E=E/d.height*100+"%":m(f,"vw")?E=E/window.innerWidth*100+"vw":m(f,"vh")&&(E=E/window.innerHeight*100+"vh")),this.setState({width:this.createSizeForCssProperty(_,"width"),height:this.createSizeForCssProperty(E,"height")}),this.props.onResize&&this.props.onResize(t,l,this.resizable,C)}},e.prototype.onMouseUp=function(t){var e=this.state,n=e.isResizing,r=e.direction,i=e.original;if(n&&this.resizable){var o={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(t,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},e.prototype.updateSize=function(t){this.setState({width:t.width,height:t.height})},e.prototype.renderResizer=function(){var t=this,e=this.props,n=e.enable,r=e.handleStyles,i=e.handleClasses,o=e.handleWrapperStyle,a=e.handleWrapperClass,s=e.handleComponent;if(!n)return null;var c=Object.keys(n).map((function(e){return!1!==n[e]?u.createElement(l.Resizer,{key:e,direction:e,onResizeStart:t.onResizeStart,replaceStyles:r&&r[e],className:i&&i[e]},s&&s[e]?s[e]:null):null}));return u.createElement("span",{className:a,style:o},c)},e.prototype.render=function(){var t=this;return u.createElement("div",o({ref:function(e){e&&(t.resizable=e)},style:o({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},this.extendsProps),this.state.isResizing&&u.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},e.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(u.Component);e.Resizable=E},function(t,e,n){var r=n(4),i=n(10);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-login-overlay {\r\n\tposition: absolute;\r\n\tbackground: rgba(30,30,30,.95);\r\n\tcolor: #ccc;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tz-index: 100000;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\topacity: 0;\r\n\tpointer-events: none;\r\n\ttransition:\r\n\t\t\topacity .3s ease-in-out;\r\n}\r\n\r\n.ptr-login-overlay.open {\r\n\topacity: 1;\r\n\tpointer-events: all;\r\n}\r\n\r\n.ptr-login {\r\n\twidth: 20rem;\r\n\tflex-grow:0;\r\n}\r\n.ptr-login > div {\r\n\tmargin-bottom: .75rem;\r\n}\r\n\r\n.ptr-login .ptr-button {\r\n\tmargin-right: .5rem;\r\n}",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(12);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-screen-viewport {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n}\r\n.ptr-screen-container {\r\n\tdisplay: flex;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\theight: 100%;\r\n\ttransition: left .3s ease-in-out;\r\n}\r\n.ptr-screen-container > div {\r\n\theight: 100%;\r\n\tposition: relative;\r\n}",""]),t.exports=e},function(t,e,n){var r=n(4),i=n(14);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){var r=n(5),i=n(15),o=n(16),a=n(17);e=r(!1);var s=i(o),u=i(a);e.push([t.i,".ptr-screens{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden;display:flex}.ptr-screen{position:relative;background:#c7c5c2;transition:width .5s ease-in-out;box-shadow:-5px 0 15px -5px rgba(0,0,0,0.6);overflow-x:hidden}.ptr-screen.base{flex-grow:1}.ptr-screen.focused{outline:none}.ptr-screen p{position:absolute;bottom:0}.ptr-screen-overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:transparent;pointer-events:none;transition:background .2s ease-in-out, box-shadow .2s ease-in-out .3s}.ptr-screen.focused .ptr-screen-overlay{outline:none;box-shadow:inset 0 .75rem 0 -.25rem rgba(var(--accent6rgb), 0.6)}.ptr-screen.disabled>.ptr-screen-overlay{background:rgba(129,128,125,0.5);pointer-events:all;cursor:pointer}.ptr-screen.disabled>.ptr-screen-overlay:hover{background:rgba(152,150,148,0.5)}.ptr-screen.disabled>.ptr-screen-scroll{filter:blur(1px)}.ptr-screen-controls{position:absolute;cursor:pointer}.ptr-screen-controls.top{top:1rem}.ptr-screen-controls.middle{top:50%}.ptr-screen-controls>.ptr-button{color:var(--base5)}.ptr-screen-controls>.ptr-button.ghost{border-color:var(--base2);transition:border-color .3s ease-in-out, color .3s ease-in-out}.ptr-screen.disabled .ptr-screen-controls>.ptr-button{color:var(--base6)}.ptr-screen.disabled .ptr-screen-controls>.ptr-button.ghost{border-color:var(--base4)}.ptr-screen-controls>.ptr-button:hover,.ptr-screen.disabled .ptr-screen-controls>.ptr-button:hover{color:var(--base7)}.ptr-screen-controls>.ptr-button.ghost:hover,.ptr-screen.disabled .ptr-screen-controls>.ptr-button.ghost:hover{background:none;border-color:var(--base5)}.ptr-screen-scroll{overflow-x:hidden;width:100%;height:100%;outline:none}.ptr-screen-scroll>div{height:100%}.ptr-screen-content{padding:0 2rem}.ptr-screen-scroll::-webkit-scrollbar{width:.9375rem}.ptr-screen-scroll::-webkit-scrollbar-button{height:.9375rem;background:rgba(0,0,0,0.17)}.ptr-screen-scroll::-webkit-scrollbar-button:vertical:decrement{background-image:url("+s+");background-size:contain}.ptr-screen-scroll::-webkit-scrollbar-button:vertical:increment{background-image:url("+u+");background-size:contain}.ptr-screen-scroll::-webkit-scrollbar-track{background:rgba(0,0,0,0.1)}.ptr-screen-scroll::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.15)}.ptr-screen-scroll::-webkit-scrollbar-thumb:hover,.ptr-screen-scroll::-webkit-scrollbar-button:hover{background:rgba(60,30,0,0.2)}.ptr-screen-scroll::-webkit-scrollbar-thumb:active,.ptr-screen-scroll::-webkit-scrollbar-button:active{background:rgba(40,35,20,0.5)}.ptr-screen-scroll::-webkit-scrollbar-thumb:window-inactive{background:rgba(0,0,0,0.075)}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e){t.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" enableBackground="new 0 0 32 32" xml:space="preserve"><polygon fill="#3F3F3F" fill-opacity="0.6" points="8.687,22.334 15.999,9.667 23.313,22.334 "></polygon></svg>'},function(t,e){t.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" enableBackground="new 0 0 32 32" xml:space="preserve"><polygon fill="#3F3F3F" fill-opacity="0.6" points="23.313,9.666 16.001,22.333 8.688,9.666 "></polygon></svg>'},function(t,e,n){var r=n(4),i=n(19);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-user{display:flex;justify-content:flex-end;align-items:center;height:2.5rem}.ptr-user>div{flex-grow:0}.ptr-user-options{display:flex;align-items:center}.ptr-user-name,.ptr-user-login{display:flex;height:2rem;padding:.25rem;font-size:1rem;white-space:nowrap;overflow:hidden}.ptr-user-login{height:2.5rem;display:flex;align-items:center}.ptr-user-login{align-items:center}.ptr-user-login>a{cursor:pointer}\n",""]),t.exports=e},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};e.Resizer=function(t){return o.createElement("div",{className:t.className||"",style:r({position:"absolute",userSelect:"none"},a[t.direction],t.replaceStyles||{}),onMouseDown:function(e){t.onResizeStart(e,t.direction)},onTouchStart:function(e){t.onResizeStart(e,t.direction)}},t.children)}},function(t,e){function n(t,e,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=e.get(o);return void 0===a&&(a=t.call(this,r),e.set(o,a)),a}function r(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=e.get(i);return void 0===o&&(o=t.apply(this,r),e.set(i,o)),o}function i(t,e,n,r,i){return n.bind(e,t,r,i)}function o(t,e){return i(t,this,1===t.length?n:r,e.cache.create(),e.serializer)}function a(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(t){return t in this.cache},s.prototype.get=function(t){return this.cache[t]},s.prototype.set=function(t,e){this.cache[t]=e};var u={create:function(){return new s}};t.exports=function(t,e){var n=e&&e.cache?e.cache:u,r=e&&e.serializer?e.serializer:a;return(e&&e.strategy?e.strategy:o)(t,{cache:n,serializer:r})},t.exports.strategies={variadic:function(t,e){return i(t,this,r,e.cache.create(),e.serializer)},monadic:function(t,e){return i(t,this,n,e.cache.create(),e.serializer)}}},function(t,e,n){t.exports=function(t,e){"use strict";function n(t,e){return t(e={exports:{}},e.exports),e.exports}function r(t){return function(){return t}}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t};var o,a=i;o=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")};var s=function(t,e,n,r,i,a,s,u){if(o(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,u],h=0;(l=new Error(e.replace(/%s/g,(function(){return c[h++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}},u=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+t.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(t){}},l=function(t,e){if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];u.apply(void 0,[e].concat(r))}},c=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;function p(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var d=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=p(t),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))h.call(n,a)&&(i[a]=n[a]);if(c){r=c(n);for(var s=0;s<r.length;s++)f.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},g="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m=s,y=l,v={},b=function(t,e,n,r,i){for(var o in t)if(t.hasOwnProperty(o)){var a;try{m("function"==typeof t[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof t[o]),a=t[o](e,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(t){a=t}if(y(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in v)){v[a.message]=!0;var s=i?i():"";y(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}},E=n((function(t){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=function(t,e){var n="function"==typeof Symbol&&Symbol.iterator,r={array:u("array"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),symbol:u("symbol"),any:o(a.thatReturnsNull),arrayOf:function(t){return o((function(e,n,r,o,a){if("function"!=typeof t)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s))return new i("Invalid "+o+" `"+a+"` of type `"+h(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var l=t(s,u,r,o,a+"["+u+"]",g);if(l instanceof Error)return l}return null}))},element:o((function(e,n,r,o,a){var s=e[n];return t(s)?null:new i("Invalid "+o+" `"+a+"` of type `"+h(s)+"` supplied to `"+r+"`, expected a single ReactElement.")})),instanceOf:function(t){return o((function(e,n,r,o,a){if(!(e[n]instanceof t)){var s=t.name||"<<anonymous>>";return new i("Invalid "+o+" `"+a+"` of type `"+((u=e[n]).constructor&&u.constructor.name?u.constructor.name:"<<anonymous>>")+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}var u;return null}))},node:o((function(t,e,n,r,o){return c(t[e])?null:new i("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return o((function(e,n,r,o,a){if("function"!=typeof t)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=e[n],u=h(s);if("object"!==u)return new i("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var c=t(s,l,r,o,a+"."+l,g);if(c instanceof Error)return c}return null}))},oneOf:function(t){return Array.isArray(t)?o((function(e,n,r,o,a){for(var s=e[n],u=0;u<t.length;u++)if((l=s)===(c=t[u])?0!==l||1/l==1/c:l!=l&&c!=c)return null;var l,c;return new i("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+r+"`, expected one of "+JSON.stringify(t)+".")})):(l(!1,"Invalid argument supplied to oneOf, expected an instance of array."),a.thatReturnsNull)},oneOfType:function(t){if(!Array.isArray(t))return l(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),a.thatReturnsNull;for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)return l(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",p(n),e),a.thatReturnsNull}return o((function(e,n,r,o,a){for(var s=0;s<t.length;s++)if(null==(0,t[s])(e,n,r,o,a,g))return null;return new i("Invalid "+o+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(t){return o((function(e,n,r,o,a){var s=e[n],u=h(s);if("object"!==u)return new i("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in t){var c=t[l];if(c){var f=c(s,l,r,o,a+"."+l,g);if(f)return f}}return null}))},exact:function(t){return o((function(e,n,r,o,a){var s=e[n],u=h(s);if("object"!==u)return new i("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var l=d({},e[n],t);for(var c in l){var f=t[c];if(!f)return new i("Invalid "+o+" `"+a+"` key `"+c+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var p=f(s,c,r,o,a+"."+c,g);if(p)return p}return null}))}};function i(t){this.message=t,this.stack=""}function o(t){var n={},r=0;function o(o,a,u,c,h,f,p){if(c=c||"<<anonymous>>",f=f||u,p!==g)if(e)s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var d=c+":"+u;!n[d]&&r<3&&(l(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,c),n[d]=!0,r++)}return null==a[u]?o?null===a[u]?new i("The "+h+" `"+f+"` is marked as required in `"+c+"`, but its value is `null`."):new i("The "+h+" `"+f+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:t(a,u,c,h,f)}var a=o.bind(null,!1);return a.isRequired=o.bind(null,!0),a}function u(t){return o((function(e,n,r,o,a,s){var u=e[n];return h(u)!==t?new i("Invalid "+o+" `"+a+"` of type `"+f(u)+"` supplied to `"+r+"`, expected `"+t+"`."):null}))}function c(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(c);if(null===e||t(e))return!0;var r=function(t){var e=t&&(n&&t[n]||t["@@iterator"]);if("function"==typeof e)return e}(e);if(!r)return!1;var i,o=r.call(e);if(r!==e.entries){for(;!(i=o.next()).done;)if(!c(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function h(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}(e,t)?"symbol":e}function f(t){if(null==t)return""+t;var e=h(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function p(t){var e=f(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return i.prototype=Error.prototype,r.checkPropTypes=b,r.PropTypes=r,r}((function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}),!0)})),_=n((function(t){!function(){var e={}.hasOwnProperty;function n(){for(var t=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i))t.push(n.apply(null,i));else if("object"===o)for(var a in i)e.call(i,a)&&i[a]&&t.push(a)}}return t.join(" ")}t.exports?t.exports=n:window.classNames=n}()}));function w(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function S(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function x(t){return"number"==typeof t&&!isNaN(t)}function T(t){return parseInt(t,10)}function O(t,e,n){if(t[e])return new Error("Invalid prop "+e+" passed to "+n+" - do not set this, set it on the child.")}var C=["Moz","Webkit","O","ms"];function A(t,e){return e?""+e+function(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}(t):t}var L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var e=window.document.documentElement.style;if(t in e)return"";for(var n=0;n<C.length;n++)if(A(t,C[n])in e)return C[n];return""}(),P=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},R=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},N=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},D=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},j="";function F(t,e){return j||(j=w(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return S(t[e])}))),!!S(t[j])&&t[j](e)}function V(t,e,n){var r=t;do{if(F(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function B(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function U(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}function G(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e+=T(n.borderTopWidth))+T(n.borderBottomWidth)}function W(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e+=T(n.borderLeftWidth))+T(n.borderRightWidth)}function K(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e-=T(n.paddingTop))-T(n.paddingBottom)}function z(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e-=T(n.paddingLeft))-T(n.paddingRight)}function H(t,e,n){var r="translate("+t.x+n+","+t.y+n+")";return e&&(r="translate("+("string"==typeof e.x?e.x:e.x+n)+", "+("string"==typeof e.y?e.y:e.y+n)+")"+r),r}function Y(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}function q(t){if(t){var e,n,r=t.getElementById("react-draggable-style-el");r||((r=t.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",t.getElementsByTagName("head")[0].appendChild(r)),t.body&&(n="react-draggable-transparent-selection",(e=t.body).classList?e.classList.add(n):e.className.match(new RegExp("(?:^|\\s)"+n+"(?!\\S)"))||(e.className+=" "+n))}}function X(t){try{t&&t.body&&(e=t.body,n="react-draggable-transparent-selection",e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(?:^|\\s)"+n+"(?!\\S)","g"),"")),t.selection?t.selection.empty():window.getSelection().removeAllRanges()}catch(t){}var e,n}function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k({touchAction:"none"},t)}function J(t,e,n){return[Math.round(e/t[0])*t[0],Math.round(n/t[1])*t[1]]}function Q(t){return"both"===t.props.axis||"x"===t.props.axis}function $(t){return"both"===t.props.axis||"y"===t.props.axis}function tt(t,e,n){var r="number"==typeof e?function(t,e){return t.targetTouches&&w(t.targetTouches,(function(t){return e===t.identifier}))||t.changedTouches&&w(t.changedTouches,(function(t){return e===t.identifier}))}(t,e):null;if("number"==typeof e&&!r)return null;var i=rt(n);return function(t,e){var n=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect();return{x:t.clientX+e.scrollLeft-n.left,y:t.clientY+e.scrollTop-n.top}}(r||t,n.props.offsetParent||i.offsetParent||i.ownerDocument.body)}function et(t,e,n){var r=t.state,i=!x(r.lastX),o=rt(t);return i?{node:o,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:o,deltaX:e-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:e,y:n}}function nt(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function rt(e){var n=t.findDOMNode(e);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var it={start:"touchstart",move:"touchmove",stop:"touchend"},ot={start:"mousedown",move:"mousemove",stop:"mouseup"},at=ot,st=function(n){function r(){var e,n,i;P(this,r);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=N(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(e){if(i.props.onMouseDown(e),!i.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var n=t.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(e.target instanceof r.defaultView.Node)||i.props.handle&&!V(e.target,i.props.handle,n)||i.props.cancel&&V(e.target,i.props.cancel,n))){var o=Y(e);i.setState({touchIdentifier:o});var a=tt(e,o,i);if(null!=a){var s=a.x,u=a.y,l=et(i,s,u);i.props.onStart,!1!==i.props.onStart(e,l)&&(i.props.enableUserSelectHack&&q(r),i.setState({dragging:!0,lastX:s,lastY:u}),B(r,at.move,i.handleDrag),B(r,at.stop,i.handleDragStop))}}},i.handleDrag=function(t){"touchmove"===t.type&&t.preventDefault();var e=tt(t,i.state.touchIdentifier,i);if(null!=e){var n=e.x,r=e.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,a=r-i.state.lastY,s=J(i.props.grid,o,a),u=D(s,2);if(o=u[0],a=u[1],!o&&!a)return;n=i.state.lastX+o,r=i.state.lastY+a}var l=et(i,n,r);if(!1!==i.props.onDrag(t,l))i.setState({lastX:n,lastY:r});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(t){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(c)}}},i.handleDragStop=function(e){if(i.state.dragging){var n=tt(e,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,a=et(i,r,o),s=t.findDOMNode(i);s&&i.props.enableUserSelectHack&&X(s.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(e,a),s&&(U(s.ownerDocument,at.move,i.handleDrag),U(s.ownerDocument,at.stop,i.handleDragStop))}}},i.onMouseDown=function(t){return at=ot,i.handleDragStart(t)},i.onMouseUp=function(t){return at=ot,i.handleDragStop(t)},i.onTouchStart=function(t){return at=it,i.handleDragStart(t)},i.onTouchEnd=function(t){return at=it,i.handleDragStop(t)},N(i,n)}return I(r,n),R(r,[{key:"componentWillUnmount",value:function(){var e=t.findDOMNode(this);if(e){var n=e.ownerDocument;U(n,ot.move,this.handleDrag),U(n,it.move,this.handleDrag),U(n,ot.stop,this.handleDragStop),U(n,it.stop,this.handleDragStop),this.props.enableUserSelectHack&&X(n)}}},{key:"render",value:function(){return e.cloneElement(e.Children.only(this.props.children),{style:Z(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(e.Component);st.displayName="DraggableCore",st.propTypes={allowAnyClick:E.bool,disabled:E.bool,enableUserSelectHack:E.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:E.arrayOf(E.number),scale:E.number,handle:E.string,cancel:E.string,onStart:E.func,onDrag:E.func,onStop:E.func,onMouseDown:E.func,className:O,style:O,transform:O},st.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var ut=function(n){function r(t){P(this,r);var e=N(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return e.onDragStart=function(t,n){if(!1===e.props.onStart(t,nt(e,n)))return!1;e.setState({dragging:!0,dragged:!0})},e.onDrag=function(t,n){if(!e.state.dragging)return!1;var r=nt(e,n),i={x:r.x,y:r.y};if(e.props.bounds){var o=i.x,a=i.y;i.x+=e.state.slackX,i.y+=e.state.slackY;var s=function(t,e,n){if(!t.props.bounds)return[e,n];var r=t.props.bounds;r="string"==typeof r?r:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(r);var i=rt(t);if("string"==typeof r){var o,a=i.ownerDocument,s=a.defaultView;if(!((o="parent"===r?i.parentNode:a.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=s.getComputedStyle(i),l=s.getComputedStyle(o);r={left:-i.offsetLeft+T(l.paddingLeft)+T(u.marginLeft),top:-i.offsetTop+T(l.paddingTop)+T(u.marginTop),right:z(o)-W(i)-i.offsetLeft+T(l.paddingRight)-T(u.marginRight),bottom:K(o)-G(i)-i.offsetTop+T(l.paddingBottom)-T(u.marginBottom)}}return x(r.right)&&(e=Math.min(e,r.right)),x(r.bottom)&&(n=Math.min(n,r.bottom)),x(r.left)&&(e=Math.max(e,r.left)),x(r.top)&&(n=Math.max(n,r.top)),[e,n]}(e,i.x,i.y),u=D(s,2),l=u[0],c=u[1];i.x=l,i.y=c,i.slackX=e.state.slackX+(o-i.x),i.slackY=e.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-e.state.x,r.deltaY=i.y-e.state.y}if(!1===e.props.onDrag(t,r))return!1;e.setState(i)},e.onDragStop=function(t,n){if(!e.state.dragging)return!1;if(!1===e.props.onStop(t,nt(e,n)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(e.props.position)){var i=e.props.position,o=i.x,a=i.y;r.x=o,r.y=a}e.setState(r)},e.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},e}return I(r,n),R(r,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&t.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(t){!t.position||this.props.position&&t.position.x===this.props.position.x&&t.position.y===this.props.position.y||this.setState({x:t.position.x,y:t.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var t,n={},r=null,i=!Boolean(this.props.position)||this.state.dragging,o=this.props.position||this.props.defaultPosition,a={x:Q(this)&&i?this.state.x:o.x,y:$(this)&&i?this.state.y:o.y};this.state.isElementSVG?r=H(a,this.props.positionOffset,""):n=function(t,e){var n=H(t,e,"px");return M({},A("transform",L),n)}(a,this.props.positionOffset);var s=this.props,u=s.defaultClassName,l=s.defaultClassNameDragging,c=s.defaultClassNameDragged,h=e.Children.only(this.props.children),f=_(h.props.className||"",u,(M(t={},l,this.state.dragging),M(t,c,this.state.dragged),t));return e.createElement(st,k({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(h,{className:f,style:k({},h.props.style,n),transform:r}))}}]),r}(e.Component);return ut.displayName="Draggable",ut.propTypes=k({},st.propTypes,{axis:E.oneOf(["both","x","y","none"]),bounds:E.oneOfType([E.shape({left:E.number,right:E.number,top:E.number,bottom:E.number}),E.string,E.oneOf([!1])]),defaultClassName:E.string,defaultClassNameDragging:E.string,defaultClassNameDragged:E.string,defaultPosition:E.shape({x:E.number,y:E.number}),positionOffset:E.shape({x:E.oneOfType([E.number,E.string]),y:E.oneOfType([E.number,E.string])}),position:E.shape({x:E.number,y:E.number}),className:O,style:O,transform:O}),ut.defaultProps=k({},st.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),ut.default=ut,ut.DraggableCore=st,ut}(n(23),n(0))},function(t,e){t.exports=l},function(t,e,n){var r=n(4),i=n(25);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o=(r(i,{insert:"head",singleton:!1}),i.locals?i.locals:{});t.exports=o},function(t,e,n){(e=n(5)(!1)).push([t.i,".ptr-windows-container{width:100%;height:100%;position:relative;overflow:hidden;z-index:10}.ptr-window{background:var(--base0);border-top:1px solid var(--base20);border-radius:.2rem;box-shadow:0 7px 10px 0 rgba(var(--base100rgb), 0.25);z-index:9999}.ptr-window-handle{cursor:move}.ptr-window-header{display:flex;height:2.5rem;border-bottom:1px solid var(--base25)}.ptr-window-title{display:flex;align-items:center;white-space:nowrap;color:var(--base75);overflow:hidden;text-overflow:ellipsis;font-size:1rem;font-weight:bold;flex-grow:1;padding:.5rem .3rem .5rem .6rem}.ptr-window-title>.ptr-icon{fill:currentColor;width:1.25rem;height:1.25rem;margin-right:.35rem}.ptr-window-controls{height:2.5rem;padding:calc(.375rem - 1px) 0.3rem}.ptr-window-controls.fixed{position:fixed;right:calc(.15rem + 16px);top:.15rem}.ptr-window-controls.fixed .ptr-window-control{background:rgba(var(--base100rgb), 0.1);border-radius:.75rem;margin-left:.3rem;transition:background .3s ease-in-out}.ptr-window-controls.fixed .ptr-window-control:hover{background:rgba(var(--base100rgb), 0.2)}.ptr-window-control{cursor:pointer;height:1.75rem;width:1.75rem;padding:.25rem;display:flex;justify-content:center;align-items:center}.ptr-window-control .ptr-icon{height:1.25rem;width:1.25rem}.ptr-window-control .ptr-icon .line{fill:var(--base40);transition:fill .3s ease-in-out}.ptr-window-control:hover .ptr-icon .line{fill:var(--base80)}.ptr-window-controls{display:flex}.ptr-window-content{overflow:auto;height:calc(100% - 2.5rem)}\n",""]),t.exports=e},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=(n(9),n(2)),c=n(7);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=p(e).call(this,t))||"object"!==h(r)&&"function"!=typeof r?d(this):r).state={email:"",password:"",open:!1},n.onChangeEmail=n.onChangeEmail.bind(d(n)),n.onChangePassword=n.onChangePassword.bind(d(n)),n.cancel=n.cancel.bind(d(n)),n.login=n.login.bind(d(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){if(this.props.opening){var t=this;setTimeout((function(){t.setState({open:!0})}),10)}}},{key:"onChangeEmail",value:function(t){this.setState({email:t})}},{key:"onChangePassword",value:function(t){this.setState({password:t})}},{key:"login",value:function(){this.props.onLogin(this.state.email,this.state.password),this.closeOverlay()}},{key:"cancel",value:function(){this.closeOverlay()}},{key:"closeOverlay",value:function(){if(this.setState({open:!1}),this.props.onClose){var t=this;setTimeout((function(){t.props.onClose()}),350)}}},{key:"render",value:function(){var t=this.props.t;return i.a.createElement("div",{className:u()("ptr-login-overlay",{open:this.state.open||this.props.open})},i.a.createElement("div",{className:"ptr-login"},i.a.createElement("div",null,i.a.createElement(l.Input,{inverted:!0,email:!0,transparent:!0,placeholder:"E-mail",onChange:this.onChangeEmail,value:this.state.email})),i.a.createElement("div",null,i.a.createElement(l.Input,{inverted:!0,password:!0,transparent:!0,placeholder:t("user.passphrase"),onChange:this.onChangePassword,value:this.state.password})),i.a.createElement("div",null,i.a.createElement(l.Button,{primary:!0,onClick:this.login},t("user.login")),this.props.loginRequired?null:i.a.createElement(l.Button,{invisible:!0,inverted:!0,onClick:this.cancel},t("cancelCapitalized")))))}}])&&f(n.prototype,r),e}(i.a.PureComponent);m.propTypes={onClose:a.a.func,onLogin:a.a.func,open:a.a.bool,opening:a.a.bool,loginRequired:a.a.bool};var y=Object(c.withNamespaces)(["common"])(m);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(){return b(this,e),_(this,w(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=u()(this.props.appKey,{"ptr-light":this.props.light||!this.props.dark,"ptr-dark":this.props.dark});return i.a.createElement("div",{id:"ptr-app",key:"ptr-app",className:t},this.renderContent())}},{key:"renderContent",value:function(){var t=this.renderLoginOverlay();return this.props.loginRequired&&!this.props.activeUser?i.a.createElement(y,{open:!0,loginRequired:!0,onLogin:this.props.onLogIn}):i.a.createElement(i.a.Fragment,null,t,this.props.children)}},{key:"renderLoginOverlay",value:function(){return this.props.loginOverlayOpen?i.a.createElement(y,{onLogin:this.props.onLogIn,onClose:this.props.onLoginOverlayClose,opening:!0}):null}}])&&E(n.prototype,r),e}(i.a.PureComponent);x.propTypes={activeUser:a.a.object,loginRequired:a.a.bool,light:a.a.bool,dark:a.a.bool,onLoginOverlayClose:a.a.func};var T=x;function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(11);var k=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=P(e).call(this,t))||"object"!==O(r)&&"function"!=typeof r?R(this):r).state={activeScreen:t.activeScreenKey||null,screenCount:i.a.Children.count(t.children)},n.switchScreen=n.switchScreen.bind(R(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,t),n=e,(r=[{key:"componentWillReceiveProps",value:function(t){this.state.activeScreen!==t.activeScreenKey&&this.setState({activeScreen:t.activeScreenKey})}},{key:"switchScreen",value:function(t){this.setState({activeScreen:t})}},{key:"render",value:function(){var t=this,e=0,n=i.a.Children.map(this.props.children,(function(n,r){return n.props.screenKey===t.state.activeScreen&&(e=r),i.a.createElement("div",{style:{width:100/t.state.screenCount+"%"}},i.a.cloneElement(n,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n.props,{switchScreen:t.switchScreen})))}));return i.a.createElement("div",{className:"ptr-screen-viewport"},i.a.createElement("div",{className:"ptr-screen-container",style:{width:100*this.state.screenCount+"%",left:-100*e+"%"}},n))}}])&&L(n.prototype,r),e}(i.a.PureComponent),I=n(6),N=n.n(I);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(13);var U=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=F(e).call(this,t))||"object"!==D(r)&&"function"!=typeof r?V(this):r).screen=i.a.createRef(),n.state={focused:!1},n.onFocus=n.onFocus.bind(V(n)),n.onBlur=n.onBlur.bind(V(n)),n.onCloseClick=n.props.onCloseClick.bind(V(n),t.lineage),n.onOpenClick=n.props.onOpenClick.bind(V(n),t.lineage),n.onRetractClick=n.props.onRetractClick.bind(V(n),t.lineage),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,t),n=e,(r=[{key:"onFocus",value:function(){this.props.disabled||(this.props.onFocus(this.props.lineage),this.setState({focused:!0}))}},{key:"onBlur",value:function(){this.setState({focused:!1})}},{key:"componentDidMount",value:function(){!0!==this.props.disabled&&this.screen.current.children[0].focus()}},{key:"componentDidUpdate",value:function(t){this.props.focused&&t.focused!==this.props.focused&&!this.props.disabled&&this.screen.current.children[0].focus(),this.props.disabled&&this.setState({focused:!1})}},{key:"render",value:function(){var t=this.props.disabled?-1:0,e=u()("ptr-screen",{base:"base"===this.props.lineage,disabled:this.props.disabled,open:!this.props.disabled,focused:this.state.focused}),n={};(this.props.width||0===this.props.width)&&(n.width="".concat(this.props.width,"rem"));var r={};this.props.disabled&&(r.overflow="hidden");var o={};return(this.props.minWidth||0===this.props.minWidth)&&(o.minWidth="".concat(this.props.minWidth,"rem")),i.a.createElement("div",{className:e,style:n,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.screen},i.a.createElement("div",{className:"ptr-screen-scroll",style:r,tabIndex:t},i.a.createElement("div",{style:o},this.props.content)),i.a.createElement("div",{className:"ptr-screen-overlay",onClick:this.onOpenClick}),this.props.noControls?null:i.a.createElement("div",{className:"ptr-screen-controls top"},i.a.createElement(l.Button,{ghost:!0,icon:"close",side:"left",unfocusable:this.props.disabled,onClick:this.onCloseClick})),!this.props.noControls&&this.props.disabled?i.a.createElement("div",{className:"ptr-screen-controls middle"},i.a.createElement(l.Button,{ghost:!0,icon:"chevron-left",side:"left",unfocusable:this.props.disabled,onClick:this.onOpenClick})):null,this.props.noControls||this.props.disabled?null:i.a.createElement("div",{className:"ptr-screen-controls middle"},i.a.createElement(l.Button,{ghost:!0,icon:"chevron-right",side:"left",unfocusable:this.props.disabled,onClick:this.onRetractClick})))}}])&&j(n.prototype,r),e}(i.a.PureComponent);U.propTypes={content:a.a.oneOfType([a.a.element,a.a.array]),contentWidth:a.a.number,disabled:a.a.bool,focused:a.a.bool,onFocus:a.a.func,onCloseClick:a.a.func,onOpenClick:a.a.func,onRetractClick:a.a.func,noControls:a.a.bool,lineage:a.a.string,minWidth:a.a.number,width:a.a.number};var G=U;function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=q(e).call(this,t))||"object"!==W(r)&&"function"!=typeof r?X(this):r).state={width:null},n.ref=n.ref.bind(X(n)),n.resize=n.resize.bind(X(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.resize(),window&&window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.resize)}},{key:"resize",value:function(){var t=null,e=null;if(this.el&&void 0!==this.el.clientWidth&&(e=this.el.clientWidth),document&&document.documentElement&&(t=getComputedStyle(document.documentElement).fontSize,t=Number(t.slice(0,-2))),e&&t){var n=e/t;n!==this.state.width&&this.setState({width:n})}}},{key:"ref",value:function(t){this.el=t}},{key:"render",value:function(){return i.a.createElement("div",{className:"ptr-screens",ref:this.ref},this.renderScreens())}},{key:"renderScreens",value:function(){var t=this;if(this.state.width&&this.props.set){var e={},n=H(this.props.set.orderByHistory).reverse(),r=H(this.props.set.orderBySpace);this.props.children&&(N.a.includes(n,"base")||n.push("base"),N.a.includes(r,"base")||r.unshift("base"));var o=5*n.length,a=this.state.width-o,s=null,u=!1,l=!1;if(n.forEach((function(n){e[n]={lineage:n};var r=t.props.screens[n];s||u||l||(r&&r.data&&"open"===r.data.desiredState&&(r.data.width+1>a+5?s=r.lineage:l=!0),"base"===n&&(u=!0)),r&&r.data&&"closing"===r.data.desiredState&&(a+=5)})),s)n.forEach((function(n){n!==s?(e[n].computedDisabled=!0,e[n].computedWidth=0):(e[n].computedWidth=t.state.width,e[n].focused=!0,e[n].minActiveWidth=0)}));else{var c=!1;n.forEach(function(t,n){var r=this.props.screens[t];if(a)if(r&&r.data&&r.data.width)"open"===r.data.desiredState?(r.data.width+1<=a+5?e[t].computedWidth=r.data.width+1:(e[t].computedWidth=a+5,e[t].computedDisabled=!0),a-=e[t].computedWidth-5):"retracted"===r.data.desiredState?(e[t].computedWidth=5,e[t].computedDisabled=!0):"opening"===r.data.desiredState?(e[t].computedWidth=0,e[t].computedDisabled=!1,a-=r.data.width-5):(e[t].computedWidth=0,e[t].computedDisabled=!0);else if(r&&r.data&&"retracted"===r.data.desiredState)e[t].computedWidth=5,e[t].computedDisabled=!0;else if(r&&r.data&&"closing"===r.data.desiredState)e[t].computedWidth=0,e[t].computedDisabled=!0;else{var i=this.props.baseActiveWidth+1<=a+5;"base"===t&&(u||i)?(e[t].computedWidth=this.props.baseActiveWidth+1,a-=this.props.baseActiveWidth-5):(e[t].computedWidth=a+5,a=0),"base"!==t||u||(e[t].computedDisabled=e[t].computedWidth<this.props.baseActiveWidth)}else e[t].computedWidth=5,e[t].computedDisabled=!0;var o=r&&"closing"===r.data.desiredState;c||!o&&e[t].computedDisabled||(e[t].focused=!0,c=!0)}.bind(this))}var h=[];return r.forEach((function(n){var r=e[n],o=t.props.screens[n];if(o&&o.data&&(o.data.minActiveWidth||r.minActiveWidth)&&(r.minActiveWidth=r.hasOwnProperty("minActiveWidth")?r.minActiveWidth:o.data.minActiveWidth),o&&o.data&&o.data.width&&(r.contentWidth=o.data.width?o.data.width:null),"base"===n){var a=t.props.children;r.computedDisabled&&(a=i.a.cloneElement(t.props.children,{unfocusable:!0})),h.push(t.renderScreen(r,a,!0))}else h.push(t.renderScreen(r,i.a.createElement(o.data.component,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o.data.props,{unfocusable:r.computedDisabled}),null)))})),h}return this.props.children?this.renderScreen({lineage:"base"},this.props.children,!0):null}},{key:"renderScreen",value:function(t,e,n){return i.a.createElement(G,{key:t.lineage,lineage:t.lineage,focused:t.focused,disabled:t.computedDisabled,width:t.computedWidth,minWidth:t.minActiveWidth,content:e,contentWidth:t.contentWidth,onFocus:this.props.onFocusScreen,onCloseClick:this.props.onCloseScreen,onOpenClick:this.props.onOpenScreen,onRetractClick:this.props.onRetractScreen,noControls:n})}}])&&Y(n.prototype,r),e}(i.a.PureComponent);J.propTypes={set:a.a.shape({orderBySpace:a.a.array,orderByHistory:a.a.array}),screens:a.a.object,onCloseScreen:a.a.func,onFocusScreen:a.a.func,onOpenScreen:a.a.func,onRetractScreen:a.a.func,baseActiveWidth:a.a.number},J.defaultProps={baseActiveWidth:40};var Q=J;function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nt(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(18);var ot=function(t){function e(){return tt(this,e),nt(this,rt(e).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.t,e=this.props.user;if(e){var n=e.data.name||e.data.email;return i.a.createElement("div",{className:"ptr-user"},i.a.createElement("div",{className:"ptr-user-image"}),i.a.createElement("div",{className:"ptr-user-name"},n),i.a.createElement("div",{className:"ptr-user-options"},i.a.createElement(l.Button,{onClick:function(){},icon:"dots",invisible:!0,inverted:this.props.inverted},i.a.createElement(l.Menu,{bottom:!0,left:!0},i.a.createElement(l.MenuItem,{onClick:this.props.logout},t("user.logout"))))))}return i.a.createElement("div",{className:"ptr-user"},i.a.createElement("div",{className:"ptr-user-login"},i.a.createElement(l.Button,{invisible:!0,inverted:this.props.inverted,onClick:this.props.login},t("user.login"))))}}])&&et(n.prototype,r),e}(i.a.PureComponent);ot.propTypes={user:a.a.object,inverted:a.a.bool};var at=Object(c.withNamespaces)()(ot),st=n(8),ut=function(t,e){return(ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},lt=function(){return(lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ct=n(22),ht={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},ft=function(t){function e(e){var n=t.call(this,e)||this;return n.isResizing=!1,n.state={original:{x:0,y:0},bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(t,e){function n(){this.constructor=t}ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.componentDidMount=function(){var t=this.getOffsetFromParent(),e=t.left,n=t.top,r=this.getDraggablePosition(),i=r.x,o=r.y;this.draggable.setState({x:i-e,y:o-n}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var t=this.draggable.state;return{x:t.x,y:t.y}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/e;case"body":return document.body.offsetHeight/e;default:return t.offsetHeight}},e.prototype.getOffsetWidth=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/e;case"body":return document.body.offsetWidth/e;default:return t.offsetWidth}},e.prototype.onDragStart=function(t,e){if(this.props.onDragStart&&this.props.onDragStart(t,e),this.props.bounds){var n,r=this.getParent(),i=this.props.scale;if("parent"===this.props.bounds)n=r;else{if("body"===this.props.bounds){var o=r.getBoundingClientRect(),a=o.left,s=o.top,u=document.body.getBoundingClientRect(),l=-(a-r.offsetLeft*i-u.left)/i,c=-(s-r.offsetTop*i-u.top)/i,h=(document.body.offsetWidth-this.resizable.size.width*i)/i+l,f=(document.body.offsetHeight-this.resizable.size.height*i)/i+c;return this.setState({bounds:{top:c,right:h,bottom:f,left:l}})}if("window"===this.props.bounds){if(!this.resizable)return;var p=r.getBoundingClientRect(),d=p.left,g=p.top,m=-(d-r.offsetLeft*i)/i,y=-(g-r.offsetTop*i)/i;return h=(window.innerWidth-this.resizable.size.width*i)/i+m,f=(window.innerHeight-this.resizable.size.height*i)/i+y,this.setState({bounds:{top:y,right:h,bottom:f,left:m}})}n=document.querySelector(this.props.bounds)}if(n instanceof HTMLElement&&r instanceof HTMLElement){var v=n.getBoundingClientRect(),b=v.left,E=v.top,_=r.getBoundingClientRect(),w=(b-_.left)/i,S=E-_.top;if(this.resizable){var x=this.getOffsetFromParent();this.setState({bounds:{top:S-x.top,right:w+(n.offsetWidth-this.resizable.size.width)-x.left/i,bottom:S+(n.offsetHeight-this.resizable.size.height)-x.top,left:w-x.left/i}})}}}},e.prototype.onDrag=function(t,e){if(this.props.onDrag){var n=this.getOffsetFromParent();this.props.onDrag(t,lt({},e,{x:e.x-n.left,y:e.y-n.top}))}},e.prototype.onDragStop=function(t,e){if(this.props.onDragStop){var n=this.getOffsetFromParent(),r=n.left,i=n.top;return this.props.onDragStop(t,lt({},e,{x:e.x+r,y:e.y+i}))}},e.prototype.onResizeStart=function(t,e,n){t.stopPropagation(),this.isResizing=!0;var r=this.props.scale;if(this.setState({original:this.getDraggablePosition()}),this.props.bounds){var i=this.getParent(),o=void 0;o="parent"===this.props.bounds?i:"body"===this.props.bounds?document.body:"window"===this.props.bounds?window:document.querySelector(this.props.bounds);var a=this.getSelfElement();if(a instanceof Element&&(o instanceof HTMLElement||o===window)&&i instanceof HTMLElement){var s=this.getMaxSizesFromProps(),u=s.maxWidth,l=s.maxHeight,c=this.getParentSize();if(u&&"string"==typeof u)if(u.endsWith("%")){var h=Number(u.replace("%",""))/100;u=c.width*h}else u.endsWith("px")&&(u=Number(u.replace("px","")));l&&"string"==typeof l&&(l.endsWith("%")?(h=Number(l.replace("%",""))/100,l=c.width*h):l.endsWith("px")&&(l=Number(l.replace("px",""))));var f=a.getBoundingClientRect(),p=f.left,d=f.top,g="window"===this.props.bounds?{left:0,top:0}:o.getBoundingClientRect(),m=g.left,y=g.top,v=this.getOffsetWidth(o),b=this.getOffsetHeight(o),E=e.toLowerCase().endsWith("left"),_=e.toLowerCase().endsWith("right"),w=e.startsWith("top"),S=e.startsWith("bottom");if(E&&this.resizable){var x=(p-m)/r+this.resizable.size.width;this.setState({maxWidth:x>Number(u)?u:x})}(_||this.props.lockAspectRatio&&!E)&&(x=v+(m-p)/r,this.setState({maxWidth:x>Number(u)?u:x})),w&&this.resizable&&(x=(d-y)/r+this.resizable.size.height,this.setState({maxHeight:x>Number(l)?l:x})),(S||this.props.lockAspectRatio&&!w)&&(x=b+(y-d)/r,this.setState({maxHeight:x>Number(l)?l:x}))}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,e,n)},e.prototype.onResize=function(t,e,n,r){var i,o,a=this.getOffsetFromParent();/left/i.test(e)&&(i=this.state.original.x-r.width,this.props.position||this.draggable.setState({x:i}),i+=a.left),/top/i.test(e)&&(o=this.state.original.y-r.height,this.props.position||this.draggable.setState({y:o}),o+=a.top),this.props.onResize&&(void 0===i&&(i=this.getDraggablePosition().x+a.left),void 0===o&&(o=this.getDraggablePosition().y+a.top),this.props.onResize(t,e,n,r,{x:i,y:o}))},e.prototype.onResizeStop=function(t,e,n,r){this.isResizing=!1;var i=this.getMaxSizesFromProps(),o=i.maxWidth,a=i.maxHeight;if(this.setState({maxWidth:o,maxHeight:a}),this.props.onResizeStop){var s=this.getDraggablePosition();this.props.onResizeStop(t,e,n,r,s)}},e.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},e.prototype.updatePosition=function(t){this.draggable.setState(t)},e.prototype.getOffsetFromParent=function(){var t=this.props.scale,e=this.getParent(),n=this.getSelfElement();if(!e||null===n)return{top:0,left:0};var r=e.getBoundingClientRect(),i=r.left,o=r.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition();return{left:a.left-i-s.x*t,top:a.top-o-s.y*t}},e.prototype.render=function(){var t=this,e=this.props,n=e.disableDragging,i=e.style,o=e.dragHandleClassName,a=e.position,s=e.onMouseDown,u=e.dragAxis,l=e.dragGrid,c=e.bounds,h=e.enableUserSelectHack,f=e.cancel,p=e.children,d=(e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop,e.resizeHandleStyles),g=e.resizeHandleClasses,m=e.enableResizing,y=e.resizeGrid,v=e.resizeHandleWrapperClass,b=e.resizeHandleWrapperStyle,E=e.scale,_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale"]),w=this.props.default?lt({},this.props.default):void 0;delete _.default;var S,x=lt({},ht,n||o?{cursor:"auto"}:{cursor:"move"},i),T=this.getOffsetFromParent(),O=T.left,C=T.top;return a&&(S={x:a.x-O,y:a.y-C}),Object(r.createElement)(ct,{ref:function(e){e&&(t.draggable=e)},handle:o?"."+o:void 0,defaultPosition:w,onMouseDown:s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:u,disabled:n,grid:l,bounds:c?this.state.bounds:void 0,position:S,enableUserSelectHack:h,cancel:f,scale:E},Object(r.createElement)(st.Resizable,lt({},_,{ref:function(e){e&&(t.resizable=e)},defaultSize:w,size:this.props.size,enable:m,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:x,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.isResizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.isResizing?this.state.maxHeight:this.props.maxHeight,grid:y,handleWrapperClass:v,handleWrapperStyle:b,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:d,handleClasses:g,scale:this.props.scale}),p))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(r.Component);function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vt=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=gt(e).call(this,t))||"object"!==pt(r)&&"function"!=typeof r?mt(this):r).onDragStart=n.onDragStart.bind(mt(n)),n.onDragStop=n.onDragStop.bind(mt(n)),n.onClick=n.onClick.bind(mt(n)),n.onClose=n.onClose.bind(mt(n)),n.onResize=n.onResize.bind(mt(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(){this.props.onClick&&this.props.onClick(this.props.windowKey)}},{key:"onClose",value:function(t){t.stopPropagation(),this.props.onCloseClick&&this.props.onCloseClick(this.props.windowKey)}},{key:"onDragStart",value:function(){this.props.onDragStart&&this.props.onDragStart(this.props.windowKey)}},{key:"onDragStop",value:function(t,e){var n=this.calculatePositionFromXY(e.x,e.y,this.props.width,this.props.height),r=t.target.className&&"ptr-window-control close"===t.target.className,i=N.a.find(t.path,(function(t){return"ptr-window-control close"===t.className}));r||i?this.onClose(t):this.props.onDragStop&&this.props.onDragStop(this.props.windowKey,n)}},{key:"onResize",value:function(t,e,n,r,i){if(this.props.onResize){var o=this.calculatePositionFromXY(i.x,i.y,n.offsetWidth,n.offsetHeight);this.props.onResize(this.props.windowKey,n.offsetWidth,n.offsetHeight,o)}}},{key:"render",value:function(){var t,e,n,r=this.props,o=u()("ptr-window",(t={},e="ptr-window-handle",n=!!this.props.withoutHeader,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t)),a=this.props.width?this.props.width:"auto",s=this.props.height?this.props.height:"auto";a>this.props.containerWidth&&this.props.containerWidth&&(a=this.props.containerWidth),s>this.props.containerHeight&&this.props.containerHeight&&(s=this.props.containerHeight);var l=this.calculateXYfromPosition(a,s);return i.a.createElement(ft,{bounds:"parent",className:o,dragHandleClassName:"ptr-window-handle",minWidth:r.minWidth?r.minWidth:100,minHeight:r.minHeight?r.minHeight:100,maxWidth:r.maxWidth?r.maxWidth:"auto",maxHeight:r.maxHeight?r.maxHeight:"auto",onDragStop:this.onDragStop,onDragStart:this.onDragStart,onClick:this.onClick,onResize:this.onResize,position:{x:l.x,y:l.y},size:{width:a,height:s}},this.props.withoutHeader?this.renderControls(!0):this.renderHeader("ptr-window-handle"),this.renderContent())}},{key:"renderHeader",value:function(t){var e="ptr-window-header "+t;return i.a.createElement("div",{className:e},i.a.createElement("div",{className:"ptr-window-title",title:this.props.title},this.props.icon?i.a.createElement(l.Icon,{icon:this.props.icon}):null,this.props.title),this.renderControls())}},{key:"renderControls",value:function(t){var e=u()("ptr-window-controls",{fixed:t});return i.a.createElement("div",{className:e},i.a.createElement("div",{className:"ptr-window-control close",onClick:this.onClose},i.a.createElement(l.Icon,{icon:"close"})))}},{key:"renderContent",value:function(){return i.a.createElement("div",{className:"ptr-window-content"},this.props.content)}},{key:"calculateXYfromPosition",value:function(t,e){var n=this.props.containerWidth,r=this.props.containerHeight,i=this.props.position.top,o=this.props.position.bottom,a=this.props.position.left,s=this.props.position.right;return{x:a||0===a?a+t<n?a:n-t:s+t<n?n-(s+t):0,y:i||0===i?i+e<r?i:r-e:o+e<r?r-(o+e):0}}},{key:"calculatePositionFromXY",value:function(t,e,n,r){var i=this.props.containerWidth,o=e,a=this.props.containerHeight-(e+r),s=t,u=i-(t+n),l={top:null,bottom:null,left:null,right:null};return o>a&&a>0?l.bottom=a:l.top=o,s>u&&u>0?l.right=u:l.left=s,l}}])&&dt(n.prototype,r),e}(i.a.PureComponent);vt.propTypes={containerHeight:a.a.number,containerWidth:a.a.number,content:a.a.oneOfType([a.a.element,a.a.array]),icon:a.a.string,onDragStart:a.a.func,onDragStop:a.a.func,onClick:a.a.func,onCloseClick:a.a.func,onResize:a.a.func,title:a.a.string,windowKey:a.a.string,withoutHeader:a.a.bool,zIndex:a.a.number};var bt=vt;function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(){return(_t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function St(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(24);var At=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=Tt(e).call(this,t))||"object"!==Et(r)&&"function"!=typeof r?Ot(this):r).state={width:null,height:null},n.onWindowClick=n.props.onWindowClick.bind(Ot(n)),n.onWindowCloseClick=n.onWindowCloseClick.bind(Ot(n)),n.onWindowDragStart=n.onWindowDragStart.bind(Ot(n)),n.onWindowDragStop=n.onWindowDragStop.bind(Ot(n)),n.onWindowResize=n.onWindowResize.bind(Ot(n)),n.ref=n.ref.bind(Ot(n)),n.resize=n.resize.bind(Ot(n)),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.resize(),window&&window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.resize)}},{key:"resize",value:function(){var t=null,e=null;this.el&&void 0!==this.el.clientWidth&&void 0!==this.el.clientHeight&&(e=this.el.clientHeight,t=this.el.clientWidth),(t||e)&&(t===this.state.width&&e===this.state.height||this.setState({width:t,height:e}))}},{key:"ref",value:function(t){this.el=t}},{key:"onWindowClick",value:function(t){this.props.onWindowClick(t)}},{key:"onWindowCloseClick",value:function(t){this.props.onWindowClose(t)}},{key:"onWindowDragStart",value:function(t){this.props.onWindowDragStart(t)}},{key:"onWindowDragStop",value:function(t,e){this.props.onWindowDragStop(t,e)}},{key:"onWindowResize",value:function(t,e,n,r){this.props.onWindowResize(t,e,n,r)}},{key:"render",value:function(){return i.a.createElement("div",{className:"ptr-windows-container",ref:this.ref},this.props.children,this.renderWindows())}},{key:"renderWindows",value:function(){var t=this;return this.props.set?this.props.set.orderByHistory.map((function(e,n){var r=t.props.windows[e];return r.data.component&&"function"==typeof r.data.component?t.renderWindow(r.key,n,r.data.settings,i.a.createElement(r.data.component,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach((function(e){St(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r.data.props))):t.renderWindow(r.key,n,r.data.settings,i.a.cloneElement(r.data.component))})):null}},{key:"renderWindow",value:function(t,e,n,r){return i.a.createElement(bt,_t({key:t,containerHeight:this.state.height,containerWidth:this.state.width,content:r,onClick:this.onWindowClick,onCloseClick:this.onWindowCloseClick,onDragStart:this.onWindowDragStart,onDragStop:this.onWindowDragStop,onResize:this.onWindowResize,windowKey:t,withoutTilte:!n.title,zIndex:e},n))}}])&&xt(n.prototype,r),e}(i.a.PureComponent);At.propTypes={onWindowClick:a.a.func,onWindowClose:a.a.func,onWindowDragStart:a.a.func,onWindowDragStop:a.a.func,onWindowResize:a.a.func,set:a.a.shape({orderByHistory:a.a.array}),windows:a.a.object};var Lt=At;n.d(e,"AppContainer",(function(){return T})),n.d(e,"LoginOverlay",(function(){return y})),n.d(e,"ScreenAnimator",(function(){return k})),n.d(e,"Screens",(function(){return Q})),n.d(e,"User",(function(){return at})),n.d(e,"WindowsContainer",(function(){return Lt})),e.default={AppContainer:T,LoginOverlay:y,ScreenAnimator:k,Screens:Q,User:at,WindowsContainer:Lt}}]))},function(t,e,n){"use strict";var r=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var o=function(t){for(var e,n=t.length,r=n^n,i=0;n>=4;)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+((1540483477*(e>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&t.charCodeAt(i+2))<<16;case 2:r^=(255&t.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)};var a=function(t){function e(t,e,r){var i=e.trim().split(d);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=n(t,e[s],r).trim();break;default:var u=s=0;for(e=[];s<o;++s)for(var l=0;l<a;++l)e[u++]=n(t[l]+" ",i[s],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(g,"$1"+t.trim());case 58:return t.trim()+e.replace(g,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(g,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,o){var a=t+";",s=2*e+3*n+4*o;if(944===s){t=a.indexOf(":",9)+1;var u=a.substring(t,a.length-1).trim();return u=a.substring(0,t).trim()+u+";",1===L||2===L&&i(u,1)?"-webkit-"+u+u:u}if(0===L||2===L&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(T,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return f.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(e=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(u=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(w,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(w,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===x.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function i(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),k(2!==e?r:r.replace(S,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(_," or ($1)").substring(4):"("+e+")"}function a(t,e,n,r,i,o,a,s,l,c){for(var h,f=0,p=e;f<M;++f)switch(h=R[f].call(u,t,p,n,r,i,o,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==e)return p}function s(t){return void 0!==(t=t.prefix)&&(k=null,t?"function"!==typeof t?L=1:(L=2,k=t):L=0),s}function u(t,n){var s=t;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<M){var u=a(-1,n,s,s,C,O,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var h=function t(n,s,u,h,f){for(var p,d,g,b,_,w=0,S=0,x=0,T=0,R=0,k=0,N=g=p=0,D=0,j=0,F=0,V=0,B=u.length,U=B-1,G="",W="",K="",z="";D<B;){if(d=u.charCodeAt(D),D===U&&0!==S+T+x+w&&(0!==S&&(d=47===S?10:47),T=x=w=0,B++,U++),0===S+T+x+w){if(D===U&&(0<j&&(G=G.replace(c,"")),0<G.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:G+=u.charAt(D)}d=59}switch(d){case 123:for(p=(G=G.trim()).charCodeAt(0),g=1,V=++D;D<B;){switch(d=u.charCodeAt(D)){case 123:g++;break;case 125:g--;break;case 47:switch(d=u.charCodeAt(D+1)){case 42:case 47:t:{for(N=D+1;N<U;++N)switch(u.charCodeAt(N)){case 47:if(42===d&&42===u.charCodeAt(N-1)&&D+2!==N){D=N+1;break t}break;case 10:if(47===d){D=N+1;break t}}D=N}}break;case 91:d++;case 40:d++;case 34:case 39:for(;D++<U&&u.charCodeAt(D)!==d;);}if(0===g)break;D++}switch(g=u.substring(V,D),0===p&&(p=(G=G.replace(l,"").trim()).charCodeAt(0)),p){case 64:switch(0<j&&(G=G.replace(c,"")),d=G.charCodeAt(1)){case 100:case 109:case 115:case 45:j=s;break;default:j=P}if(V=(g=t(s,j,g,d,f+1)).length,0<M&&(_=a(3,g,j=e(P,G,F),s,C,O,V,d,f,h),G=j.join(""),void 0!==_&&0===(V=(g=_.trim()).length)&&(d=0,g="")),0<V)switch(d){case 115:G=G.replace(E,o);case 100:case 109:case 45:g=G+"{"+g+"}";break;case 107:g=(G=G.replace(m,"$1 $2"))+"{"+g+"}",g=1===L||2===L&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=G+g,112===h&&(W+=g,g="")}else g="";break;default:g=t(s,e(s,G,F),g,h,f+1)}K+=g,g=F=j=N=p=0,G="",d=u.charCodeAt(++D);break;case 125:case 59:if(1<(V=(G=(0<j?G.replace(c,""):G).trim()).length))switch(0===N&&(p=G.charCodeAt(0),45===p||96<p&&123>p)&&(V=(G=G.replace(" ",":")).length),0<M&&void 0!==(_=a(1,G,s,n,C,O,W.length,h,f,h))&&0===(V=(G=_.trim()).length)&&(G="\0\0"),p=G.charCodeAt(0),d=G.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){z+=G+u.charAt(D);break}default:58!==G.charCodeAt(V-1)&&(W+=r(G,p,d,G.charCodeAt(2)))}F=j=N=p=0,G="",d=u.charCodeAt(++D)}}switch(d){case 13:case 10:47===S?S=0:0===1+p&&107!==h&&0<G.length&&(j=1,G+="\0"),0<M*I&&a(0,G,s,n,C,O,W.length,h,f,h),O=1,C++;break;case 59:case 125:if(0===S+T+x+w){O++;break}default:switch(O++,b=u.charAt(D),d){case 9:case 32:if(0===T+w+S)switch(R){case 44:case 58:case 9:case 32:b="";break;default:32!==d&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===T+S+w&&(j=F=1,b="\f"+b);break;case 108:if(0===T+S+w+A&&0<N)switch(D-N){case 2:112===R&&58===u.charCodeAt(D-3)&&(A=R);case 8:111===k&&(A=k)}break;case 58:0===T+S+w&&(N=D);break;case 44:0===S+x+T+w&&(j=1,b+="\r");break;case 34:case 39:0===S&&(T=T===d?0:0===T?d:T);break;case 91:0===T+S+x&&w++;break;case 93:0===T+S+x&&w--;break;case 41:0===T+S+w&&x--;break;case 40:if(0===T+S+w){if(0===p)switch(2*R+3*k){case 533:break;default:p=1}x++}break;case 64:0===S+x+T+w+N+g&&(g=1);break;case 42:case 47:if(!(0<T+w+x))switch(S){case 0:switch(2*d+3*u.charCodeAt(D+1)){case 235:S=47;break;case 220:V=D,S=42}break;case 42:47===d&&42===R&&V+2!==D&&(33===u.charCodeAt(V+2)&&(W+=u.substring(V,D+1)),b="",S=0)}}0===S&&(G+=b)}k=R,R=d,D++}if(0<(V=W.length)){if(j=s,0<M&&(void 0!==(_=a(2,W,j,n,C,O,V,h,f,h))&&0===(W=_).length))return z+W+K;if(W=j.join(",")+"{"+W+"}",0!==L*A){switch(2!==L||i(W,2)||(A=0),A){case 111:W=W.replace(v,":-moz-$1")+W;break;case 112:W=W.replace(y,"::-webkit-input-$1")+W.replace(y,"::-moz-$1")+W.replace(y,":-ms-input-$1")+W}A=0}}return z+W+K}(P,s,n,0,0);return 0<M&&(void 0!==(u=a(-2,h,s,s,C,O,h.length,0,0,0))&&(h=u)),"",A=0,O=C=1,h}var l=/^\0+/g,c=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,d=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,w=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,O=1,C=1,A=0,L=1,P=[],R=[],M=0,k=null,I=0;return u.use=function t(e){switch(e){case void 0:case null:M=R.length=0;break;default:switch(e.constructor){case Array:for(var n=0,r=e.length;n<r;++n)t(e[n]);break;case Function:R[M++]=e;break;case Boolean:I=0|!!e}}return t},u.set=s,void 0!==t&&s(t),u},s=n(125),u=n.n(s),l=/[A-Z]|^ms/g,c=r((function(t){return t.replace(l,"-$&").toLowerCase()})),h=function(t,e){return null==e||"boolean"===typeof e?"":1===i[t]||45===t.charCodeAt(1)||isNaN(e)||0===e?e:e+"px"},f=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"function":0,a=t([o()]);break;case"object":if(Array.isArray(o))a=t(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i},p="undefined"!==typeof document;function d(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key||""),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),(void 0!==t.container?t.container:document.head).appendChild(e),e}var g=function(){function t(t){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=t}var e=t.prototype;return e.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=d(this.opts),this.injected=!0},e.speedy=function(t){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!t},e.insert=function(t,e){if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(this.tags[this.tags.length-1]);try{n.insertRule(t,n.cssRules.length)}catch(i){0}}else{var r=d(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(t+(e||"")))}this.ctr++,this.ctr%65e3===0&&this.tags.push(d(this.opts))},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0,this.injected=!1},t}();e.a=function(t,e){if(void 0!==t.__SECRET_EMOTION__)return t.__SECRET_EMOTION__;void 0===e&&(e={});var n,r,i=e.key||"css",s=u()((function(t){n+=t,p&&d.insert(t,y)}));void 0!==e.prefix&&(r={prefix:e.prefix});var l={registered:{},inserted:{},nonce:e.nonce,key:i},d=new g(e);p&&d.inject();var m=new a(r);m.use(e.stylisPlugins)(s);var y="";function v(t,e){if(null==t)return"";switch(typeof t){case"boolean":return"";case"function":if(void 0!==t.__emotion_styles){var n=t.toString();return n}return v.call(this,void 0===this?t():t(this.mergedProps,this.context),e);case"object":return w.call(this,t);default:var r=l.registered[t];return!1===e&&void 0!==r?r:t}}var b,E,_=new WeakMap;function w(t){if(_.has(t))return _.get(t);var e="";return Array.isArray(t)?t.forEach((function(t){e+=v.call(this,t,!1)}),this):Object.keys(t).forEach((function(n){"object"!==typeof t[n]?void 0!==l.registered[t[n]]?e+=n+"{"+l.registered[t[n]]+"}":e+=c(n)+":"+h(n,t[n])+";":Array.isArray(t[n])&&"string"===typeof t[n][0]&&void 0===l.registered[t[n][0]]?t[n].forEach((function(t){e+=c(n)+":"+h(n,t)+";"})):e+=n+"{"+v.call(this,t[n],!1)+"}"}),this),_.set(t,e),e}var S=/label:\s*([^\s;\n{]+)\s*;/g,x=function(t,e){return o(t+e)+e},T=function(t){var e=!0,n="",r="";null==t||void 0===t.raw?(e=!1,n+=v.call(this,t,!1)):n+=t[0];for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.forEach((function(r,i){n+=v.call(this,r,46===n.charCodeAt(n.length-1)),!0===e&&void 0!==t[i+1]&&(n+=t[i+1])}),this),E=n,n=n.replace(S,(function(t,e){return r+="-"+e,""})),b=x(n,r),n};function O(t,e){void 0===l.inserted[b]&&(n="",m(t,e),l.inserted[b]=n)}var C=function(){var t=T.apply(this,arguments),e=i+"-"+b;return void 0===l.registered[e]&&(l.registered[e]=E),O("."+e,t),e};function A(t,e){var n="";return e.split(" ").forEach((function(e){void 0!==l.registered[e]?t.push(e):n+=e+" "})),n}function L(t,e){var n=[],r=A(n,t);return n.length<2?t:r+C(n,e)}function P(t){l.inserted[t]=!0}if(p){var R=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(R,(function(t){d.tags[0].parentNode.insertBefore(t,d.tags[0]),t.getAttribute("data-emotion-"+i).split(" ").forEach(P)}))}var M={flush:function(){p&&(d.flush(),d.inject()),l.inserted={},l.registered={}},hydrate:function(t){t.forEach(P)},cx:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return L(f(e))},merge:L,getRegisteredStyles:A,injectGlobal:function(){var t=T.apply(this,arguments);O("",t)},keyframes:function(){var t=T.apply(this,arguments),e="animation-"+b;return O("","@keyframes "+e+"{"+t+"}"),e},css:C,sheet:d,caches:l};return t.__SECRET_EMOTION__=M,M}},,function(t,e,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}function _(){}function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=E.prototype;var S=w.prototype=new _;S.constructor=w,r(S,E.prototype),S.isPureReactComponent=!0;var x={current:null},T=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)T.call(e,r)&&!O.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:x.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var L=/\/+/g,P=[];function R(t,e,n,r){if(P.length){var i=P.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function k(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+I(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+I(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+I(s,l++),r,i);else if("object"===s)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function N(t,e){t.func.call(t.context,e,t.count++)}function D(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?j(t,r,n,(function(t){return t})):null!=t&&(A(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(L,"$&/")+"/")+n)),r.push(t))}function j(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(L,"$&/")+"/"),k(t,D,e=R(e,o,r,i)),M(e)}var F={current:null};function V(){var t=F.current;if(null===t)throw Error(y(321));return t}var B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return j(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;k(t,N,e=R(null,null,e,n)),M(e)},count:function(t){return k(t,(function(){return null}),null)},toArray:function(t){var e=[];return j(t,e,null,(function(t){return t})),e},only:function(t){if(!A(t))throw Error(y(143));return t}},e.Component=E,e.Fragment=s,e.Profiler=l,e.PureComponent=w,e.StrictMode=u,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(y(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=x.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)T.call(e,c)&&!O.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return V().useCallback(t,e)},e.useContext=function(t,e){return V().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return V().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return V().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return V().useLayoutEffect(t,e)},e.useMemo=function(t,e){return V().useMemo(t,e)},e.useReducer=function(t,e,n){return V().useReducer(t,e,n)},e.useRef=function(t){return V().useRef(t)},e.useState=function(t){return V().useState(t)},e.version="16.13.0"},function(t,e,n){"use strict";var r=n(0),i=n(23),o=n(148);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,h=null,f={onError:function(t){u=!0,l=t}};function p(t,e,n,r,i,o,a,c,h){u=!1,l=null,s.apply(f,arguments)}var d=null,g=null,m=null;function y(t,e,n){var r=t.type||"unknown-event";t.currentTarget=m(n),function(t,e,n,r,i,o,s,f,d){if(p.apply(this,arguments),u){if(!u)throw Error(a(198));var g=l;u=!1,l=null,c||(c=!0,h=g)}}(r,e,void 0,t),t.currentTarget=null}var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;v.hasOwnProperty("ReactCurrentDispatcher")||(v.ReactCurrentDispatcher={current:null}),v.hasOwnProperty("ReactCurrentBatchConfig")||(v.ReactCurrentBatchConfig={suspense:null});var b=/^(.*)[\\\/]/,E="function"===typeof Symbol&&Symbol.for,_=E?Symbol.for("react.element"):60103,w=E?Symbol.for("react.portal"):60106,S=E?Symbol.for("react.fragment"):60107,x=E?Symbol.for("react.strict_mode"):60108,T=E?Symbol.for("react.profiler"):60114,O=E?Symbol.for("react.provider"):60109,C=E?Symbol.for("react.context"):60110,A=E?Symbol.for("react.concurrent_mode"):60111,L=E?Symbol.for("react.forward_ref"):60112,P=E?Symbol.for("react.suspense"):60113,R=E?Symbol.for("react.suspense_list"):60120,M=E?Symbol.for("react.memo"):60115,k=E?Symbol.for("react.lazy"):60116,I=E?Symbol.for("react.block"):60121,N="function"===typeof Symbol&&Symbol.iterator;function D(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=N&&t[N]||t["@@iterator"])?t:null}function j(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case w:return"Portal";case T:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return"Context.Consumer";case O:return"Context.Provider";case L:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case M:return j(t.type);case I:return j(t.render);case k:if(t=1===t._status?t._result:null)return j(t)}return null}function F(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=j(t.type);n=null,r&&(n=j(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(b,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var V=null,B={};function U(){if(V)for(var t in B){var e=B[t],n=V.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!W[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in W[n]=e,n=e.eventTypes){var i=void 0,o=n[r],s=e,u=r;if(K.hasOwnProperty(u))throw Error(a(99,u));K[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&G(l[i],s,u);i=!0}else o.registrationName?(G(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function G(t,e,n){if(z[t])throw Error(a(100,t));z[t]=e,H[t]=e.eventTypes[n].dependencies}var W=[],K={},z={},H={};function Y(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!B.hasOwnProperty(e)||B[e]!==r){if(B[e])throw Error(a(102,e));B[e]=r,n=!0}}n&&U()}var q=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),X=null,Z=null,J=null;function Q(t){if(t=g(t)){if("function"!==typeof X)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),X(t.stateNode,t.type,e))}}function $(t){Z?J?J.push(t):J=[t]:Z=t}function tt(){if(Z){var t=Z,e=J;if(J=Z=null,Q(t),e)for(t=0;t<e.length;t++)Q(e[t])}}function et(t,e){return t(e)}function nt(t,e,n,r,i){return t(e,n,r,i)}function rt(){}var it=et,ot=!1,at=!1;function st(){null===Z&&null===J||(rt(),tt())}function ut(t,e,n){if(at)return t(e,n);at=!0;try{return it(t,e,n)}finally{at=!1,st()}}var lt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,ht={},ft={};function pt(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){dt[t]=new pt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];dt[e]=new pt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){dt[t]=new pt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){dt[t]=new pt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){dt[t]=new pt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){dt[t]=new pt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){dt[t]=new pt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){dt[t]=new pt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){dt[t]=new pt(t,5,!1,t.toLowerCase(),null,!1)}));var gt=/[\-:]([a-z])/g;function mt(t){return t[1].toUpperCase()}function yt(t,e,n,r){var i=dt.hasOwnProperty(e)?dt[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!ct.call(ft,t)||!ct.call(ht,t)&&(lt.test(t)?ft[t]=!0:(ht[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function vt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Et(t){t._valueTracker||(t._valueTracker=function(t){var e=bt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function wt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function St(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=vt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function xt(t,e){null!=(e=e.checked)&&yt(t,"checked",e,!1)}function Tt(t,e){xt(t,e);var n=vt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ct(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ct(t,e.type,vt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ot(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Ct(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function At(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Lt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Pt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:vt(n)}}function Mt(t,e){var n=vt(e.value),r=vt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function kt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(gt,mt);dt[e]=new pt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(gt,mt);dt[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(gt,mt);dt[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){dt[t]=new pt(t,1,!1,t.toLowerCase(),null,!1)})),dt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){dt[t]=new pt(t,1,!1,t.toLowerCase(),null,!0)}));var It="http://www.w3.org/1999/xhtml",Nt="http://www.w3.org/2000/svg";function Dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ft,Vt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Nt||"innerHTML"in t)t.innerHTML=e;else{for((Ft=Ft||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ft.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Bt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Ut(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Wt={},Kt={};function zt(t){if(Wt[t])return Wt[t];if(!Gt[t])return t;var e,n=Gt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Kt)return Wt[t]=n[e];return t}q&&(Kt=document.createElement("div").style,"AnimationEvent"in window||(delete Gt.animationend.animation,delete Gt.animationiteration.animation,delete Gt.animationstart.animation),"TransitionEvent"in window||delete Gt.transitionend.transition);var Ht=zt("animationend"),Yt=zt("animationiteration"),qt=zt("animationstart"),Xt=zt("transitionend"),Zt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jt=new("function"===typeof WeakMap?WeakMap:Map);function Qt(t){var e=Jt.get(t);return void 0===e&&(e=new Map,Jt.set(t,e)),e}function $t(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if($t(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=$t(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)y(t,e[r],n[r]);else e&&y(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,ae),oe)throw Error(a(95));if(c)throw t=h,c=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!q)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ce=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function fe(t,e,n,r){if(ce.length){var i=ce.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Cn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ue(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<W.length;u++){var l=W[u];l&&(l=l.extractEvents(r,e,o,i,a))&&(s=re(s,l))}se(s)}}function de(t,e,n){if(!n.has(t)){switch(t){case"scroll":qe(e,"scroll",!0);break;case"focus":case"blur":qe(e,"focus",!0),qe(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(t)&&qe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Zt.indexOf(t)&&Ye(t,e)}n.set(t,null)}}var ge,me,ye,ve=!1,be=[],Ee=null,_e=null,we=null,Se=new Map,xe=new Map,Te=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ce="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ae(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Le(t,e){switch(t){case"focus":case"blur":Ee=null;break;case"dragenter":case"dragleave":_e=null;break;case"mouseover":case"mouseout":we=null;break;case"pointerover":case"pointerout":Se.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xe.delete(e.pointerId)}}function Pe(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Ae(e,n,r,i,o),null!==e&&(null!==(e=An(e))&&me(e)),t):(t.eventSystemFlags|=r,t)}function Re(t){var e=Cn(t.target);if(null!==e){var n=$t(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){ye(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Me(t){if(null!==t.blockedOn)return!1;var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=An(e);return null!==n&&me(n),t.blockedOn=e,!1}return!0}function ke(t,e,n){Me(t)&&n.delete(e)}function Ie(){for(ve=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=An(t.blockedOn))&&ge(t);break}var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==Ee&&Me(Ee)&&(Ee=null),null!==_e&&Me(_e)&&(_e=null),null!==we&&Me(we)&&(we=null),Se.forEach(ke),xe.forEach(ke)}function Ne(t,e){t.blockedOn===e&&(t.blockedOn=null,ve||(ve=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ie)))}function De(t){function e(e){return Ne(e,t)}if(0<be.length){Ne(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ee&&Ne(Ee,t),null!==_e&&Ne(_e,t),null!==we&&Ne(we,t),Se.forEach(e),xe.forEach(e),n=0;n<Te.length;n++)(r=Te[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Te.length&&null===(n=Te[0]).blockedOn;)Re(n),null===n.blockedOn&&Te.shift()}var je={},Fe=new Map,Ve=new Map,Be=["abort","abort",Ht,"animationEnd",Yt,"animationIteration",qt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xt,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Ve.set(r,e),Fe.set(r,o),je[i]=o}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(Be,2);for(var Ge="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ge.length;We++)Ve.set(Ge[We],0);var Ke=o.unstable_UserBlockingPriority,ze=o.unstable_runWithPriority,He=!0;function Ye(t,e){qe(e,t,!1)}function qe(t,e,n){var r=Ve.get(e);switch(void 0===r?2:r){case 0:r=Xe.bind(null,e,1,t);break;case 1:r=Ze.bind(null,e,1,t);break;default:r=Je.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Xe(t,e,n,r){ot||rt();var i=Je,o=ot;ot=!0;try{nt(i,t,e,n,r)}finally{(ot=o)||st()}}function Ze(t,e,n,r){ze(Ke,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){if(He)if(0<be.length&&-1<Oe.indexOf(t))t=Ae(null,t,e,n,r),be.push(t);else{var i=Qe(t,e,n,r);if(null===i)Le(t,r);else if(-1<Oe.indexOf(t))t=Ae(i,t,e,n,r),be.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return Ee=Pe(Ee,t,e,n,r,i),!0;case"dragenter":return _e=Pe(_e,t,e,n,r,i),!0;case"mouseover":return we=Pe(we,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Se.set(o,Pe(Se.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xe.set(o,Pe(xe.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Le(t,r),t=fe(t,r,null,e);try{ut(pe,t)}finally{he(t)}}}}function Qe(t,e,n,r){if(null!==(n=Cn(n=ue(r)))){var i=$t(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=fe(t,r,n,e);try{ut(pe,t)}finally{he(t)}return null}var $e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||$e.hasOwnProperty(t)&&$e[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys($e).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$e[e]=$e[t]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=It;function un(t,e){var n=Qt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=H[e];for(var r=0;r<e.length;r++)de(e[r],t,n)}function ln(){}function cn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fn(t,e){var n,r=hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hn(r)}}function pn(){for(var t=window,e=cn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=cn((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gn=null,mn=null;function yn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function vn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,En="function"===typeof clearTimeout?clearTimeout:void 0;function _n(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function wn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),xn="__reactInternalInstance$"+Sn,Tn="__reactEventHandlers$"+Sn,On="__reactContainere$"+Sn;function Cn(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[xn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=wn(t);null!==t;){if(n=t[xn])return n;t=wn(t)}return e}n=(t=n).parentNode}return null}function An(t){return!(t=t[xn]||t[On])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Ln(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Pn(t){return t[Tn]||null}function Rn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Mn(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}function kn(t,e,n){(e=Mn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function In(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Rn(e);for(e=n.length;0<e--;)kn(n[e],"captured",t);for(e=0;e<n.length;e++)kn(n[e],"bubbled",t)}}function Nn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Mn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Dn(t){t&&t.dispatchConfig.registrationName&&Nn(t._targetInst,null,t)}function jn(t){ie(t,In)}var Fn=null,Vn=null,Bn=null;function Un(){if(Bn)return Bn;var t,e,n=Vn,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Bn=i.slice(t,1<e?1-e:void 0)}function Gn(){return!0}function Wn(){return!1}function Kn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gn:Wn,this.isPropagationStopped=Wn,this}function zn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Hn(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Yn(t){t.eventPool=[],t.getPooled=zn,t.release=Hn}i(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){this.isPersistent=Gn},isPersistent:Wn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Yn(n),n},Yn(Kn);var qn=Kn.extend({data:null}),Xn=Kn.extend({data:null}),Zn=[9,13,27,32],Jn=q&&"CompositionEvent"in window,Qn=null;q&&"documentMode"in document&&(Qn=document.documentMode);var $n=q&&"TextEvent"in window&&!Qn,tr=q&&(!Jn||Qn&&8<Qn&&11>=Qn),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(t,e){switch(t){case"keyup":return-1!==Zn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(t,e,n,r){var i;if(Jn)t:{switch(t){case"compositionstart":var o=nr.compositionStart;break t;case"compositionend":o=nr.compositionEnd;break t;case"compositionupdate":o=nr.compositionUpdate;break t}o=void 0}else ar?ir(t,n)&&(o=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=nr.compositionStart);return o?(tr&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Un()):(Vn="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),o=qn.getPooled(o,e,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),jn(o),i=o):i=null,(t=$n?function(t,e){switch(t){case"compositionend":return or(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(ar)return"compositionend"===t||!Jn&&ir(t,e)?(t=Un(),Bn=Vn=Fn=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Xn.getPooled(nr.beforeInput,e,n,r)).data=t,jn(e)):e=null,null===i?e:null===e?i:[i,e]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ur[t.type]:"textarea"===e}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(t,e,n){return(t=Kn.getPooled(cr.change,t,e,n)).type="change",$(n),jn(t),t}var fr=null,pr=null;function dr(t){se(t)}function gr(t){if(_t(Ln(t)))return t}function mr(t,e){if("change"===t)return e}var yr=!1;function vr(){fr&&(fr.detachEvent("onpropertychange",br),pr=fr=null)}function br(t){if("value"===t.propertyName&&gr(pr))if(t=hr(pr,t,ue(t)),ot)se(t);else{ot=!0;try{et(dr,t)}finally{ot=!1,st()}}}function Er(t,e,n){"focus"===t?(vr(),pr=n,(fr=e).attachEvent("onpropertychange",br)):"blur"===t&&vr()}function _r(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return gr(pr)}function wr(t,e){if("click"===t)return gr(e)}function Sr(t,e){if("input"===t||"change"===t)return gr(e)}q&&(yr=le("input")&&(!document.documentMode||9<document.documentMode));var xr={eventTypes:cr,_isInputEventSupported:yr,extractEvents:function(t,e,n,r){var i=e?Ln(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=mr;else if(lr(i))if(yr)a=Sr;else{a=_r;var s=Er}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=wr);if(a&&(a=a(t,e)))return hr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Ct(i,"number",i.value)}},Tr=Kn.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Or[t])&&!!e[t]}function Ar(){return Cr}var Lr=0,Pr=0,Rr=!1,Mr=!1,kr=Tr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ar,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Lr;return Lr=t.screenX,Rr?"mousemove"===t.type?t.screenX-e:0:(Rr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Pr;return Pr=t.screenY,Mr?"mousemove"===t.type?t.screenY-e:0:(Mr=!0,0)}}),Ir=kr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Nr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Dr={eventTypes:Nr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?Cn(e):null)&&(e!==$t(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=kr,u=Nr.mouseLeave,l=Nr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Ir,u=Nr.pointerLeave,l=Nr.pointerEnter,c="pointer");if(t=null==a?o:Ln(a),o=null==e?o:Ln(e),(u=s.getPooled(u,a,n,r)).type=c+"leave",u.target=t,u.relatedTarget=o,(n=s.getPooled(l,e,n,r)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(r=a)&&c)t:{for(l=c,a=0,t=s=r;t;t=Rn(t))a++;for(t=0,e=l;e;e=Rn(e))t++;for(;0<a-t;)s=Rn(s),a--;for(;0<t-a;)l=Rn(l),t--;for(;a--;){if(s===l||s===l.alternate)break t;s=Rn(s),l=Rn(l)}s=null}else s=null;for(l=s,s=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)s.push(r),r=Rn(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=Rn(c);for(c=0;c<s.length;c++)Nn(s[c],"bubbled",u);for(c=r.length;0<c--;)Nn(r[c],"captured",n);return 0===(64&i)?[u]:[u,n]}};var jr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Fr=Object.prototype.hasOwnProperty;function Vr(t,e){if(jr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(e,n[r])||!jr(t[n[r]],e[n[r]]))return!1;return!0}var Br=q&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gr=null,Wr=null,Kr=null,zr=!1;function Hr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return zr||null==Gr||Gr!==cn(n)?null:("selectionStart"in(n=Gr)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kr&&Vr(Kr,n)?null:(Kr=n,(t=Kn.getPooled(Ur.select,Wr,t,e)).type="select",t.target=Gr,jn(t),t))}var Yr={eventTypes:Ur,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Qt(i),o=H.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Ln(e):window,t){case"focus":(lr(i)||"true"===i.contentEditable)&&(Gr=i,Wr=e,Kr=null);break;case"blur":Kr=Wr=Gr=null;break;case"mousedown":zr=!0;break;case"contextmenu":case"mouseup":case"dragend":return zr=!1,Hr(n,r);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Hr(n,r)}return null}},qr=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Kn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zr=Tr.extend({relatedTarget:null});function Jr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ti=Tr.extend({key:function(t){if(t.key){var e=Qr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Jr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?$r[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ar,charCode:function(t){return"keypress"===t.type?Jr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Jr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ei=kr.extend({dataTransfer:null}),ni=Tr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ar}),ri=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=kr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:je,extractEvents:function(t,e,n,r){var i=Fe.get(t);if(!i)return null;switch(t){case"keypress":if(0===Jr(n))return null;case"keydown":case"keyup":t=ti;break;case"blur":case"focus":t=Zr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ni;break;case Ht:case Yt:case qt:t=qr;break;case Xt:t=ri;break;case"scroll":t=Tr;break;case"wheel":t=ii;break;case"copy":case"cut":case"paste":t=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ir;break;default:t=Kn}return jn(e=t.getPooled(i,e,n,r)),e}};if(V)throw Error(a(101));V=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),U(),d=Pn,g=An,m=Ln,Y({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Dr,ChangeEventPlugin:xr,SelectEventPlugin:Yr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(t){0>si||(t.current=ai[si],ai[si]=null,si--)}function li(t,e){si++,ai[si]=t.current,t.current=e}var ci={},hi={current:ci},fi={current:!1},pi=ci;function di(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function gi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function mi(){ui(fi),ui(hi)}function yi(t,e,n){if(hi.current!==ci)throw Error(a(168));li(hi,e),li(fi,n)}function vi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,j(e)||"Unknown",o));return i({},n,{},r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,pi=hi.current,li(hi,t),li(fi,fi.current),!0}function Ei(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=vi(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,ui(fi),ui(hi),li(hi,t)):ui(fi),li(fi,n)}var _i=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,xi=o.unstable_requestPaint,Ti=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Mi={},ki=o.unstable_shouldYield,Ii=void 0!==xi?xi:function(){},Ni=null,Di=null,ji=!1,Fi=Ti(),Vi=1e4>Fi?Ti:function(){return Ti()-Fi};function Bi(){switch(Oi()){case Ci:return 99;case Ai:return 98;case Li:return 97;case Pi:return 96;case Ri:return 95;default:throw Error(a(332))}}function Ui(t){switch(t){case 99:return Ci;case 98:return Ai;case 97:return Li;case 96:return Pi;case 95:return Ri;default:throw Error(a(332))}}function Gi(t,e){return t=Ui(t),_i(t,e)}function Wi(t,e,n){return t=Ui(t),wi(t,e,n)}function Ki(t){return null===Ni?(Ni=[t],Di=wi(Ci,Hi)):Ni.push(t),Mi}function zi(){if(null!==Di){var t=Di;Di=null,Si(t)}Hi()}function Hi(){if(!ji&&null!==Ni){ji=!0;var t=0;try{var e=Ni;Gi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(t+1)),wi(Ci,zi),n}finally{ji=!1}}}function Yi(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function qi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Xi={current:null},Zi=null,Ji=null,Qi=null;function $i(){Qi=Ji=Zi=null}function to(t){var e=Xi.current;ui(Xi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function no(t,e){Zi=t,Qi=Ji=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Pa=!0),t.firstContext=null)}function ro(t,e){if(Qi!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Qi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Ji){if(null===Zi)throw Error(a(308));Ji=e,Zi.dependencies={expirationTime:0,firstContext:e,responders:null}}else Ji=Ji.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function so(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function lo(t,e){var n=t.alternate;null!==n&&ao(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function co(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var l=o.baseState,c=0,h=null,f=null,p=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var g={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=g,h=l):p=p.next=g,s>c&&(c=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ou(s,d.suspenseConfig);t:{var m=t,y=d;switch(s=e,g=n,y.tag){case 1:if("function"===typeof(m=y.payload)){l=m.call(g,l,s);break t}l=m;break t;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=y.payload)?m.call(g,l,s):m)||void 0===s)break t;l=i({},l,s);break t;case 2:io=!0}}null!==d.callback&&(t.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=l:p.next=f,o.baseState=h,o.baseQueue=p,au(c),t.expirationTime=c,t.memoizedState=l}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var fo=v.ReactCurrentBatchConfig,po=(new r.Component).refs;function go(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var mo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&$t(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Hs(),i=fo.suspense;(i=so(r=Ys(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),uo(t,i),qs(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Hs(),i=fo.suspense;(i=so(r=Ys(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),uo(t,i),qs(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Hs(),r=fo.suspense;(r=so(n=Ys(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),uo(t,r),qs(t,n)}};function yo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Vr(n,r)||!Vr(i,o))}function vo(t,e,n){var r=!1,i=ci,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=gi(e)?pi:hi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?di(t,i):ci),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=mo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mo.enqueueReplaceState(e,e.state,null)}function Eo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=po,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=gi(e)?pi:hi.current,i.context=di(t,o)),co(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(go(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&mo.enqueueReplaceState(i,i.state,null),co(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var _o=Array.isArray;function wo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===po&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function xo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ou(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Lu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=wo(t,e,n),r.return=t,r):((r=Cu(n.type,n.key,n.props,null,t.mode,r)).ref=wo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Pu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Au(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Lu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Cu(e.type,e.key,e.props,null,t.mode,n)).ref=wo(t,null,e),n.return=t,n;case w:return(e=Pu(e,t.mode,n)).return=t,e}if(_o(e)||D(e))return(e=Au(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===S?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case w:return n.key===i?c(t,e,n,r):null}if(_o(n)||D(n))return null!==i?null:h(t,e,n,r,null);So(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return t=t.get(null===r.key?n:r.key)||null,r.type===S?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case w:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||D(r))return h(e,t=t.get(n)||null,r,i,null);So(e,r)}return null}function g(i,a,s,u){for(var l=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=p(i,h,s[g],u);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(i,h),a=o(y,a,g),null===c?l=y:c.sibling=y,c=y,h=m}if(g===s.length)return n(i,h),l;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(a=o(h,a,g),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);g<s.length;g++)null!==(m=d(h,i,g,s[g],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(i,t)})),l}function m(i,s,u,l){var c=D(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,g=s,m=s=0,y=null,v=u.next();null!==g&&!v.done;m++,v=u.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=p(i,g,v.value,l);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&e(i,g),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),c;if(null===g){for(;!v.done;m++,v=u.next())null!==(v=f(i,v.value,l))&&(s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return c}for(g=r(i,g);!v.done;m++,v=u.next())null!==(v=d(g,i,m,v.value,l))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===S&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case _:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===S){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}break;default:if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=wo(t,l,o),r.return=t,t=r;break t}}n(t,l);break}e(t,l),l=l.sibling}o.type===S?((r=Au(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Cu(o.type,o.key,o.props,null,t.mode,u)).ref=wo(t,r,o),u.return=t,t=u)}return s(t);case w:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Pu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Lu(o,t.mode,u)).return=t,t=r),s(t);if(_o(o))return g(t,r,o,u);if(D(o))return m(t,r,o,u);if(c&&So(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var To=xo(!0),Oo=xo(!1),Co={},Ao={current:Co},Lo={current:Co},Po={current:Co};function Ro(t){if(t===Co)throw Error(a(174));return t}function Mo(t,e){switch(li(Po,e),li(Lo,t),li(Ao,Co),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jt(null,"");break;default:e=jt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(Ao),li(Ao,e)}function ko(){ui(Ao),ui(Lo),ui(Po)}function Io(t){Ro(Po.current);var e=Ro(Ao.current),n=jt(e,t.type);e!==n&&(li(Lo,t),li(Ao,n))}function No(t){Lo.current===t&&(ui(Ao),ui(Lo))}var Do={current:0};function jo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Fo(t,e){return{responder:t,props:e}}var Vo=v.ReactCurrentDispatcher,Bo=v.ReactCurrentBatchConfig,Uo=0,Go=null,Wo=null,Ko=null,zo=!1;function Ho(){throw Error(a(321))}function Yo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jr(t[n],e[n]))return!1;return!0}function qo(t,e,n,r,i,o){if(Uo=o,Go=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Vo.current=null===t||null===t.memoizedState?ya:va,t=n(r,i),e.expirationTime===Uo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ko=Wo=null,e.updateQueue=null,Vo.current=ba,t=n(r,i)}while(e.expirationTime===Uo)}if(Vo.current=ma,e=null!==Wo&&null!==Wo.next,Uo=0,Ko=Wo=Go=null,zo=!1,e)throw Error(a(300));return t}function Xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ko?Go.memoizedState=Ko=t:Ko=Ko.next=t,Ko}function Zo(){if(null===Wo){var t=Go.alternate;t=null!==t?t.memoizedState:null}else t=Wo.next;var e=null===Ko?Go.memoizedState:Ko.next;if(null!==e)Ko=e,Wo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Wo=t).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===Ko?Go.memoizedState=Ko=t:Ko=Ko.next=t}return Ko}function Jo(t,e){return"function"===typeof e?e(t):e}function Qo(t){var e=Zo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Wo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.expirationTime;if(c<Uo){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,c>Go.expirationTime&&(Go.expirationTime=c,au(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),ou(c,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,jr(r,e.memoizedState)||(Pa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function $o(t){var e=Zo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);jr(o,e.memoizedState)||(Pa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ta(t){var e=Xo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t}).dispatch=ga.bind(null,Go,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Go.updateQueue)?(e={lastEffect:null},Go.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function na(){return Zo().memoizedState}function ra(t,e,n,r){var i=Xo();Go.effectTag|=t,i.memoizedState=ea(1|e,n,void 0,void 0===r?null:r)}function ia(t,e,n,r){var i=Zo();r=void 0===r?null:r;var o=void 0;if(null!==Wo){var a=Wo.memoizedState;if(o=a.destroy,null!==r&&Yo(r,a.deps))return void ea(e,n,o,r)}Go.effectTag|=t,i.memoizedState=ea(1|e,n,o,r)}function oa(t,e){return ra(516,4,t,e)}function aa(t,e){return ia(516,4,t,e)}function sa(t,e){return ia(4,2,t,e)}function ua(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function la(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ia(4,2,ua.bind(null,e,t),n)}function ca(){}function ha(t,e){return Xo().memoizedState=[t,void 0===e?null:e],t}function fa(t,e){var n=Zo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Yo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pa(t,e){var n=Zo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Yo(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function da(t,e,n){var r=Bi();Gi(98>r?98:r,(function(){t(!0)})),Gi(97<r?97:r,(function(){var r=Bo.suspense;Bo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Bo.suspense=r}}))}function ga(t,e,n){var r=Hs(),i=fo.suspense;i={expirationTime:r=Ys(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Go||null!==o&&o===Go)zo=!0,i.expirationTime=Uo,Go.expirationTime=Uo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,jr(s,a))return}catch(u){}qs(t,r)}}var ma={readContext:ro,useCallback:Ho,useContext:Ho,useEffect:Ho,useImperativeHandle:Ho,useLayoutEffect:Ho,useMemo:Ho,useReducer:Ho,useRef:Ho,useState:Ho,useDebugValue:Ho,useResponder:Ho,useDeferredValue:Ho,useTransition:Ho},ya={readContext:ro,useCallback:ha,useContext:ro,useEffect:oa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ra(4,2,ua.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ra(4,2,t,e)},useMemo:function(t,e){var n=Xo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ga.bind(null,Go,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Xo().memoizedState=t},useState:ta,useDebugValue:ca,useResponder:Fo,useDeferredValue:function(t,e){var n=ta(t),r=n[0],i=n[1];return oa((function(){var n=Bo.suspense;Bo.suspense=void 0===e?null:e;try{i(t)}finally{Bo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ta(!1),n=e[0];return e=e[1],[ha(da.bind(null,e,t),[e,t]),n]}},va={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:pa,useReducer:Qo,useRef:na,useState:function(){return Qo(Jo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(t,e){var n=Qo(Jo),r=n[0],i=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===e?null:e;try{i(t)}finally{Bo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Qo(Jo),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},ba={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:pa,useReducer:$o,useRef:na,useState:function(){return $o(Jo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(t,e){var n=$o(Jo),r=n[0],i=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===e?null:e;try{i(t)}finally{Bo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=$o(Jo),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},Ea=null,_a=null,wa=!1;function Sa(t,e){var n=xu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function xa(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Ta(t){if(wa){var e=_a;if(e){var n=e;if(!xa(t,e)){if(!(e=_n(n.nextSibling))||!xa(t,e))return t.effectTag=-1025&t.effectTag|2,wa=!1,void(Ea=t);Sa(Ea,n)}Ea=t,_a=_n(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,wa=!1,Ea=t}}function Oa(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ea=t}function Ca(t){if(t!==Ea)return!1;if(!wa)return Oa(t),wa=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!vn(e,t.memoizedProps))for(e=_a;e;)Sa(t,e),e=_n(e.nextSibling);if(Oa(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){_a=_n(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}_a=null}}else _a=Ea?_n(t.stateNode.nextSibling):null;return!0}function Aa(){_a=Ea=null,wa=!1}var La=v.ReactCurrentOwner,Pa=!1;function Ra(t,e,n,r){e.child=null===t?Oo(e,null,n,r):To(e,t.child,n,r)}function Ma(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=qo(t,e,n,r,o,i),null===t||Pa?(e.effectTag|=1,Ra(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),qa(t,e,i))}function ka(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Tu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Cu(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ia(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Vr)(i,r)&&t.ref===e.ref)?qa(t,e,o):(e.effectTag|=1,(t=Ou(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ia(t,e,n,r,i,o){return null!==t&&Vr(t.memoizedProps,r)&&t.ref===e.ref&&(Pa=!1,i<o)?(e.expirationTime=t.expirationTime,qa(t,e,o)):Da(t,e,n,r,o)}function Na(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Da(t,e,n,r,i){var o=gi(n)?pi:hi.current;return o=di(e,o),no(e,i),n=qo(t,e,n,r,o,i),null===t||Pa?(e.effectTag|=1,Ra(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),qa(t,e,i))}function ja(t,e,n,r,i){if(gi(n)){var o=!0;bi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),vo(e,n,r),Eo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ro(l):l=di(e,l=gi(n)?pi:hi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&bo(e,a,r,l),io=!1;var f=e.memoizedState;a.state=f,co(e,r,a,i),u=e.memoizedState,s!==r||f!==u||fi.current||io?("function"===typeof c&&(go(e,n,c,r),u=e.memoizedState),(s=io||yo(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,ao(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:qi(e.type,s),u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ro(l):l=di(e,l=gi(n)?pi:hi.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&bo(e,a,r,l),io=!1,u=e.memoizedState,a.state=u,co(e,r,a,i),f=e.memoizedState,s!==r||u!==f||fi.current||io?("function"===typeof c&&(go(e,n,c,r),f=e.memoizedState),(c=io||yo(e,n,s,r,u,f,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Fa(t,e,n,r,o,i)}function Fa(t,e,n,r,i,o){Na(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Ei(e,n,!1),qa(t,e,o);r=e.stateNode,La.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=To(e,t.child,null,o),e.child=To(e,null,s,o)):Ra(t,e,s,o),e.memoizedState=r.state,i&&Ei(e,n,!0),e.child}function Va(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),Mo(t,e.containerInfo)}var Ba,Ua,Ga,Wa={dehydrated:null,retryTime:0};function Ka(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Do.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),li(Do,1&a),null===t){if(void 0!==o.fallback&&Ta(e),s){if(s=o.fallback,(o=Au(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Au(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=Wa,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Oo(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=Ou(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Ou(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Wa,e.child=n,i}return n=To(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Au(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Au(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Wa,e.child=o,n}return e.memoizedState=null,e.child=To(e,t,o.children,n)}function za(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),eo(t.return,e)}function Ha(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ya(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ra(t,e,r.children,n),0!==(2&(r=Do.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&za(t,n);else if(19===t.tag)za(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(li(Do,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===jo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ha(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===jo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ha(e,!0,n,null,o,e.lastEffect);break;case"together":Ha(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function qa(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&au(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Ou(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ou(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Xa(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Za(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(e.type)&&mi(),null;case 3:return ko(),ui(fi),ui(hi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ca(e)||(e.effectTag|=4),null;case 5:No(e),n=Ro(Po.current);var o=e.type;if(null!==t&&null!=e.stateNode)Ua(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Ro(Ao.current),Ca(e)){r=e.stateNode,o=e.type;var s=e.memoizedProps;switch(r[xn]=e,r[Tn]=s,o){case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(t=0;t<Zt.length;t++)Ye(Zt[t],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"form":Ye("reset",r),Ye("submit",r);break;case"details":Ye("toggle",r);break;case"input":St(r,s),Ye("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r),un(n,"onChange");break;case"textarea":Rt(r,s),Ye("invalid",r),un(n,"onChange")}for(var u in on(o,s),t=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(t=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(t=["children",""+l]):z.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(o){case"input":Et(r),Ot(r,s,!0);break;case"textarea":Et(r),kt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===sn&&(t=Dt(o)),t===sn?"script"===o?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(o,{is:r.is}):(t=u.createElement(o),"select"===o&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,o),t[xn]=e,t[Tn]=r,Ba(t,e),e.stateNode=t,u=an(o,r),o){case"iframe":case"object":case"embed":Ye("load",t),l=r;break;case"video":case"audio":for(l=0;l<Zt.length;l++)Ye(Zt[l],t);l=r;break;case"source":Ye("error",t),l=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),l=r;break;case"form":Ye("reset",t),Ye("submit",t),l=r;break;case"details":Ye("toggle",t),l=r;break;case"input":St(t,r),l=wt(t,r),Ye("invalid",t),un(n,"onChange");break;case"option":l=At(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Ye("invalid",t),un(n,"onChange");break;case"textarea":Rt(t,r),l=Pt(t,r),Ye("invalid",t),un(n,"onChange");break;default:l=r}on(o,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?nn(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Vt(t,h):"children"===s?"string"===typeof h?("textarea"!==o||""!==h)&&Bt(t,h):"number"===typeof h&&Bt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(z.hasOwnProperty(s)?null!=h&&un(n,s):null!=h&&yt(t,s,h,u))}switch(o){case"input":Et(t),Ot(t,r,!1);break;case"textarea":Et(t),kt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+vt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Lt(t,!!r.multiple,n,!1):null!=r.defaultValue&&Lt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(t.onclick=ln)}yn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ga(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Ro(Po.current),Ro(Ao.current),Ca(e)?(n=e.stateNode,r=e.memoizedProps,n[xn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xn]=e,e.stateNode=n)}return null;case 13:return ui(Do),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ca(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Do.current)?Cs===Es&&(Cs=_s):(Cs!==Es&&Cs!==_s||(Cs=ws),0!==Ms&&null!==xs&&(ku(xs,Os),Iu(xs,Ms)))),(n||r)&&(e.effectTag|=4),null);case 4:return ko(),null;case 10:return to(e),null;case 17:return gi(e.type)&&mi(),null;case 19:if(ui(Do),null===(r=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(s=r.rendering)){if(o)Xa(r,!1);else if(Cs!==Es||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=jo(s))){for(e.effectTag|=64,Xa(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return li(Do,1&Do.current|2),e.child}s=s.sibling}}else{if(!o)if(null!==(t=jo(s))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,Xa(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=r.last)?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Vi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,e=Do.current,li(Do,o?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function Ja(t){switch(t.tag){case 1:gi(t.type)&&mi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(ko(),ui(fi),ui(hi),0!==(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return No(t),null;case 13:return ui(Do),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ui(Do),null;case 4:return ko(),null;case 10:return to(t),null;default:return null}}function Qa(t,e){return{value:t,source:e,stack:F(e)}}Ba=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,u,l=e.stateNode;switch(Ro(Ao.current),t=null,n){case"input":a=wt(l,a),r=wt(l,r),t=[];break;case"option":a=At(l,a),r=At(l,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Pt(l,a),r=Pt(l,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(l.onclick=ln)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in l=a[s])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(z.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(t||(t=[]),t.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(s,c)):"children"===s?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(z.hasOwnProperty(s)?(null!=c&&un(o,s),t||l===c||(t=[])):(t=t||[]).push(s,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ga=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var $a="function"===typeof WeakSet?WeakSet:Set;function ts(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=F(n)),null!==n&&j(n.type),e=e.value,null!==t&&1===t.tag&&j(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function es(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){vu(t,n)}else e.current=null}function ns(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:qi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function is(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function os(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:qi(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&De(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(t,e,n){switch("function"===typeof wu&&wu(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Gi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){vu(i,o)}}t=t.next}while(t!==r)}))}break;case 1:es(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){vu(t,n)}}(e,n);break;case 5:es(e);break;case 4:cs(t,e,n)}}function ss(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ss(e)}function us(t){return 5===t.tag||3===t.tag||4===t.tag}function ls(t){t:{for(var e=t.return;null!==e;){if(us(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Bt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function cs(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var u=t,l=o,c=n,h=l;;)if(as(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break t;for(;null===h.sibling;){if(null===h.return||h.return===l)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Tn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&xt(n,r),an(t,i),e=an(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Vt(n,u):"children"===s?Bt(n,u):yt(n,s,u,e)}switch(t){case"input":Tt(n,r);break;case"textarea":Mt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Lt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Lt(n,!!r.multiple,r.defaultValue,!0):Lt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,De(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Is=Vi()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=en("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void fs(e);case 19:return void fs(e);case 17:return}throw Error(a(163))}function fs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new $a),e.forEach((function(e){var r=Eu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ds||(Ds=!0,js=r),ts(t,e)},n}function gs(t,e,n){(n=so(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ts(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),ts(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ms,ys=Math.ceil,vs=v.ReactCurrentDispatcher,bs=v.ReactCurrentOwner,Es=0,_s=3,ws=4,Ss=0,xs=null,Ts=null,Os=0,Cs=Es,As=null,Ls=1073741823,Ps=1073741823,Rs=null,Ms=0,ks=!1,Is=0,Ns=null,Ds=!1,js=null,Fs=null,Vs=!1,Bs=null,Us=90,Gs=null,Ws=0,Ks=null,zs=0;function Hs(){return 0!==(48&Ss)?1073741821-(Vi()/10|0):0!==zs?zs:zs=1073741821-(Vi()/10|0)}function Ys(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Bi();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(16&Ss))return Os;if(null!==n)t=Yi(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Yi(t,150,100);break;case 97:case 96:t=Yi(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==xs&&t===Os&&--t,t}function qs(t,e){if(50<Ws)throw Ws=0,Ks=null,Error(a(185));if(null!==(t=Xs(t,e))){var n=Bi();1073741823===e?0!==(8&Ss)&&0===(48&Ss)?$s(t):(Js(t),0===Ss&&zi()):Js(t),0===(4&Ss)||98!==n&&99!==n||(null===Gs?Gs=new Map([[t,e]]):(void 0===(n=Gs.get(t))||n>e)&&Gs.set(t,e))}}function Xs(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(xs===i&&(au(e),Cs===ws&&ku(i,Os)),Iu(i,e)),i}function Zs(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Mu(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Js(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Ki($s.bind(null,t));else{var e=Zs(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Hs();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Mi&&Si(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Ki($s.bind(null,t)):Wi(r,Qs.bind(null,t),{timeout:10*(1073741821-e)-Vi()}),t.callbackNode=e}}}function Qs(t,e){if(zs=0,e)return Nu(t,e=Hs()),Js(t),null;var n=Zs(t);if(0!==n){if(e=t.callbackNode,0!==(48&Ss))throw Error(a(327));if(gu(),t===xs&&n===Os||nu(t,n),null!==Ts){var r=Ss;Ss|=16;for(var i=iu();;)try{uu();break}catch(u){ru(t,u)}if($i(),Ss=r,vs.current=i,1===Cs)throw e=As,nu(t,n),ku(t,n),Js(t),e;if(null===Ts)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Cs,xs=null,r){case Es:case 1:throw Error(a(345));case 2:Nu(t,2<n?2:n);break;case _s:if(ku(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(i)),1073741823===Ls&&10<(i=Is+500-Vi())){if(ks){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,nu(t,n);break}}if(0!==(o=Zs(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=bn(fu.bind(null,t),i);break}fu(t);break;case ws:if(ku(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(i)),ks&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,nu(t,n);break}if(0!==(i=Zs(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ps?r=10*(1073741821-Ps)-Vi():1073741823===Ls?r=0:(r=10*(1073741821-Ls)-5e3,0>(r=(i=Vi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ys(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=bn(fu.bind(null,t),r);break}fu(t);break;case 5:if(1073741823!==Ls&&null!==Rs){o=Ls;var s=Rs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Vi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){ku(t,n),t.timeoutHandle=bn(fu.bind(null,t),r);break}}fu(t);break;default:throw Error(a(329))}if(Js(t),t.callbackNode===e)return Qs.bind(null,t)}}return null}function $s(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Ss))throw Error(a(327));if(gu(),t===xs&&e===Os||nu(t,e),null!==Ts){var n=Ss;Ss|=16;for(var r=iu();;)try{su();break}catch(i){ru(t,i)}if($i(),Ss=n,vs.current=r,1===Cs)throw n=As,nu(t,e),ku(t,e),Js(t),n;if(null!==Ts)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,xs=null,fu(t),Js(t)}return null}function tu(t,e){var n=Ss;Ss|=1;try{return t(e)}finally{0===(Ss=n)&&zi()}}function eu(t,e){var n=Ss;Ss&=-2,Ss|=8;try{return t(e)}finally{0===(Ss=n)&&zi()}}function nu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,En(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:ko(),ui(fi),ui(hi);break;case 5:No(r);break;case 4:ko();break;case 13:case 19:ui(Do);break;case 10:to(r)}n=n.return}xs=t,Ts=Ou(t.current,null),Os=e,Cs=Es,As=null,Ps=Ls=1073741823,Rs=null,Ms=0,ks=!1}function ru(t,e){for(;;){try{if($i(),Vo.current=ma,zo)for(var n=Go.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Uo=0,Ko=Wo=Go=null,zo=!1,null===Ts||null===Ts.return)return Cs=1,As=e,Ts=null;t:{var i=t,o=Ts.return,a=Ts,s=e;if(e=Os,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var l=a.alternate;l?(a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):a.memoizedState=null}var c=0!==(1&Do.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!c)}}if(f){var g=h.updateQueue;if(null===g){var m=new Set;m.add(u),h.updateQueue=m}else g.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(1073741823,null);y.tag=2,uo(a,y)}a.expirationTime=1073741823;break t}s=void 0,a=e;var v=i.pingCache;if(null===v?(v=i.pingCache=new ps,s=new Set,v.set(u,s)):void 0===(s=v.get(u))&&(s=new Set,v.set(u,s)),!s.has(a)){s.add(a);var b=bu.bind(null,i,u,a);u.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((j(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+F(a))}5!==Cs&&(Cs=2),s=Qa(s,a),h=o;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=e,lo(h,ds(h,u,e));break t;case 1:u=s;var E=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof E.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Fs||!Fs.has(_)))){h.effectTag|=4096,h.expirationTime=e,lo(h,gs(h,u,e));break t}}h=h.return}while(null!==h)}Ts=cu(Ts)}catch(w){e=w;continue}break}}function iu(){var t=vs.current;return vs.current=ma,null===t?ma:t}function ou(t,e){t<Ls&&2<t&&(Ls=t),null!==e&&t<Ps&&2<t&&(Ps=t,Rs=e)}function au(t){t>Ms&&(Ms=t)}function su(){for(;null!==Ts;)Ts=lu(Ts)}function uu(){for(;null!==Ts&&!ki();)Ts=lu(Ts)}function lu(t){var e=ms(t.alternate,t,Os);return t.memoizedProps=t.pendingProps,null===e&&(e=cu(t)),bs.current=null,e}function cu(t){Ts=t;do{var e=Ts.alternate;if(t=Ts.return,0===(2048&Ts.effectTag)){if(e=Za(e,Ts,Os),1===Os||1!==Ts.childExpirationTime){for(var n=0,r=Ts.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ts.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ts.firstEffect),null!==Ts.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ts.firstEffect),t.lastEffect=Ts.lastEffect),1<Ts.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ts:t.firstEffect=Ts,t.lastEffect=Ts))}else{if(null!==(e=Ja(Ts)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ts.sibling))return e;Ts=t}while(null!==Ts);return Cs===Es&&(Cs=5),null}function hu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function fu(t){var e=Bi();return Gi(99,pu.bind(null,t,e)),null}function pu(t,e){do{gu()}while(null!==Bs);if(0!==(48&Ss))throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=hu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===xs&&(Ts=xs=null,Os=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ss;Ss|=32,bs.current=null,gn=He;var s=pn();if(dn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{u.nodeType,h.nodeType}catch(O){u=null;break t}var f=0,p=-1,d=-1,g=0,m=0,y=s,v=null;e:for(;;){for(var b;y!==u||0!==c&&3!==y.nodeType||(p=f+c),y!==h||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===s)break e;if(v===u&&++g===c&&(p=f),v===h&&++m===l&&(d=f),null!==(b=y.nextSibling))break;v=(y=v).parentNode}y=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:u},He=!1,Ns=i;do{try{du()}catch(O){if(null===Ns)throw Error(a(330));vu(Ns,O),Ns=Ns.nextEffect}}while(null!==Ns);Ns=i;do{try{for(s=t,u=e;null!==Ns;){var E=Ns.effectTag;if(16&E&&Bt(Ns.stateNode,""),128&E){var _=Ns.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&E){case 2:ls(Ns),Ns.effectTag&=-3;break;case 6:ls(Ns),Ns.effectTag&=-3,hs(Ns.alternate,Ns);break;case 1024:Ns.effectTag&=-1025;break;case 1028:Ns.effectTag&=-1025,hs(Ns.alternate,Ns);break;case 4:hs(Ns.alternate,Ns);break;case 8:cs(s,c=Ns,u),ss(c)}Ns=Ns.nextEffect}}catch(O){if(null===Ns)throw Error(a(330));vu(Ns,O),Ns=Ns.nextEffect}}while(null!==Ns);if(w=mn,_=pn(),E=w.focusedElem,u=w.selectionRange,_!==E&&E&&E.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(E.ownerDocument.documentElement,E)){null!==u&&dn(E)&&(_=u.start,void 0===(w=u.end)&&(w=_),"selectionStart"in E?(E.selectionStart=_,E.selectionEnd=Math.min(w,E.value.length)):(w=(_=E.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),c=E.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!w.extend&&s>u&&(c=u,u=s,s=c),c=fn(E,s),h=fn(E,u),c&&h&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((_=_.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),s>u?(w.addRange(_),w.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),w.addRange(_))))),_=[];for(w=E;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof E.focus&&E.focus(),E=0;E<_.length;E++)(w=_[E]).element.scrollLeft=w.left,w.element.scrollTop=w.top}He=!!gn,mn=gn=null,t.current=n,Ns=i;do{try{for(E=t;null!==Ns;){var S=Ns.effectTag;if(36&S&&os(E,Ns.alternate,Ns),128&S){_=void 0;var x=Ns.ref;if(null!==x){var T=Ns.stateNode;switch(Ns.tag){case 5:_=T;break;default:_=T}"function"===typeof x?x(_):x.current=_}}Ns=Ns.nextEffect}}catch(O){if(null===Ns)throw Error(a(330));vu(Ns,O),Ns=Ns.nextEffect}}while(null!==Ns);Ns=null,Ii(),Ss=o}else t.current=n;if(Vs)Vs=!1,Bs=t,Us=e;else for(Ns=i;null!==Ns;)e=Ns.nextEffect,Ns.nextEffect=null,Ns=e;if(0===(e=t.firstPendingTime)&&(Fs=null),1073741823===e?t===Ks?Ws++:(Ws=0,Ks=t):Ws=0,"function"===typeof _u&&_u(n.stateNode,r),Js(t),Ds)throw Ds=!1,t=js,js=null,t;return 0!==(8&Ss)||zi(),null}function du(){for(;null!==Ns;){var t=Ns.effectTag;0!==(256&t)&&ns(Ns.alternate,Ns),0===(512&t)||Vs||(Vs=!0,Wi(97,(function(){return gu(),null}))),Ns=Ns.nextEffect}}function gu(){if(90!==Us){var t=97<Us?97:Us;return Us=90,Gi(t,mu)}}function mu(){if(null===Bs)return!1;var t=Bs;if(Bs=null,0!==(48&Ss))throw Error(a(331));var e=Ss;for(Ss|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===t)throw Error(a(330));vu(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Ss=e,zi(),!0}function yu(t,e,n){uo(t,e=ds(t,e=Qa(n,e),1073741823)),null!==(t=Xs(t,1073741823))&&Js(t)}function vu(t,e){if(3===t.tag)yu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){yu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){uo(n,t=gs(n,t=Qa(e,t),1073741823)),null!==(n=Xs(n,1073741823))&&Js(n);break}}n=n.return}}function bu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),xs===t&&Os===n?Cs===ws||Cs===_s&&1073741823===Ls&&Vi()-Is<500?nu(t,Os):ks=!0:Mu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Js(t)))}function Eu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ys(e=Hs(),t,null)),null!==(t=Xs(t,e))&&Js(t)}ms=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||fi.current)Pa=!0;else{if(r<n){switch(Pa=!1,e.tag){case 3:Va(e),Aa();break;case 5:if(Io(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:gi(e.type)&&bi(e);break;case 4:Mo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,li(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Ka(t,e,n):(li(Do,1&Do.current),null!==(e=qa(t,e,n))?e.sibling:null);li(Do,1&Do.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Ya(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),li(Do,Do.current),!r)return null}return qa(t,e,n)}Pa=!1}}else Pa=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=di(e,hi.current),no(e,n),i=qo(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)){var o=!0;bi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(e,r,s,t),i.updater=mo,e.stateNode=i,i._reactInternalFiber=e,Eo(e,r,t,n),e=Fa(null,e,r,!0,o,n)}else e.tag=0,Ra(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"===typeof t)return Tu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===L)return 11;if(t===M)return 14}return 2}(i),t=qi(i,t),o){case 0:e=Da(null,e,i,t,n);break t;case 1:e=ja(null,e,i,t,n);break t;case 11:e=Ma(null,e,i,t,n);break t;case 14:e=ka(null,e,i,qi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Da(t,e,r,i=e.elementType===r?i:qi(r,i),n);case 1:return r=e.type,i=e.pendingProps,ja(t,e,r,i=e.elementType===r?i:qi(r,i),n);case 3:if(Va(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),co(e,r,null,n),(r=e.memoizedState.element)===i)Aa(),e=qa(t,e,n);else{if((i=e.stateNode.hydrate)&&(_a=_n(e.stateNode.containerInfo.firstChild),Ea=e,i=wa=!0),i)for(n=Oo(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ra(t,e,r,n),Aa();e=e.child}return e;case 5:return Io(e),null===t&&Ta(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,vn(r,i)?s=null:null!==o&&vn(r,o)&&(e.effectTag|=16),Na(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ra(t,e,s,n),e=e.child),e;case 6:return null===t&&Ta(e),null;case 13:return Ka(t,e,n);case 4:return Mo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=To(e,null,r,n):Ra(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ma(t,e,r,i=e.elementType===r?i:qi(r,i),n);case 7:return Ra(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ra(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(li(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=jr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){e=qa(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=so(n,null)).tag=2,uo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),eo(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ra(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.effectTag|=1,Ra(t,e,r,n),e.child;case 14:return o=qi(i=e.type,e.pendingProps),ka(t,e,i,o=qi(i.type,o),r,n);case 15:return Ia(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,gi(r)?(t=!0,bi(e)):t=!1,no(e,n),vo(e,r,i),Eo(e,r,i,n),Fa(null,e,r,!0,t,n);case 19:return Ya(t,e,n)}throw Error(a(156,e.tag))};var _u=null,wu=null;function Su(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function xu(t,e,n,r){return new Su(t,e,n,r)}function Tu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ou(t,e){var n=t.alternate;return null===n?((n=xu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Tu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Au(n.children,i,o,e);case A:s=8,i|=7;break;case x:s=8,i|=1;break;case T:return(t=xu(12,n,e,8|i)).elementType=T,t.type=T,t.expirationTime=o,t;case P:return(t=xu(13,n,e,i)).type=P,t.elementType=P,t.expirationTime=o,t;case R:return(t=xu(19,n,e,i)).elementType=R,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case O:s=10;break t;case C:s=9;break t;case L:s=11;break t;case M:s=14;break t;case k:s=16,r=null;break t;case I:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=xu(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Au(t,e,n,r){return(t=xu(7,t,r,e)).expirationTime=n,t}function Lu(t,e,n){return(t=xu(6,t,null,e)).expirationTime=n,t}function Pu(t,e,n){return(e=xu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ru(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Mu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function ku(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Iu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Nu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Du(t,e,n,r){var i=e.current,o=Hs(),s=fo.suspense;o=Ys(o,i,s);t:if(n){e:{if($t(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=vi(n,l,u);break t}}n=u}else n=ci;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),uo(i,e),qs(i,o),o}function ju(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Fu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Vu(t,e){Fu(t,e),(t=t.alternate)&&Fu(t,e)}function Bu(t,e,n){var r=new Ru(t,e,n=null!=n&&!0===n.hydrate),i=xu(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,oo(i),t[On]=r.current,n&&0!==e&&function(t,e){var n=Qt(e);Oe.forEach((function(t){de(t,e,n)})),Ce.forEach((function(t){de(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Uu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Gu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=ju(a);s.call(t)}}Du(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Bu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=ju(a);u.call(t)}}eu((function(){Du(e,a,t,i)}))}return ju(a)}function Wu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Ku(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uu(e))throw Error(a(200));return Wu(t,e,null,n)}Bu.prototype.render=function(t){Du(t,this._internalRoot,null,null)},Bu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Du(null,t,null,(function(){e[On]=null}))},ge=function(t){if(13===t.tag){var e=Yi(Hs(),150,100);qs(t,e),Vu(t,e)}},me=function(t){13===t.tag&&(qs(t,3),Vu(t,3))},ye=function(t){if(13===t.tag){var e=Hs();qs(t,e=Ys(e,t,null)),Vu(t,e)}},X=function(t,e,n){switch(e){case"input":if(Tt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pn(r);if(!i)throw Error(a(90));_t(r),Tt(r,i)}}}break;case"textarea":Mt(t,n);break;case"select":null!=(e=n.value)&&Lt(t,!!n.multiple,e,!1)}},et=tu,nt=function(t,e,n,r,i){var o=Ss;Ss|=4;try{return Gi(98,t.bind(null,e,n,r,i))}finally{0===(Ss=o)&&zi()}},rt=function(){0===(49&Ss)&&(function(){if(null!==Gs){var t=Gs;Gs=null,t.forEach((function(t,e){Nu(e,t),Js(e)})),zi()}}(),gu())},it=function(t,e){var n=Ss;Ss|=2;try{return t(e)}finally{0===(Ss=n)&&zi()}};var zu={Events:[An,Ln,Pn,Y,K,jn,function(t){ie(t,Dn)},$,tt,Je,se,gu,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);_u=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},wu=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Cn,bundleType:0,version:"16.13.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zu,e.createPortal=Ku,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Ss))throw Error(a(187));var n=Ss;Ss|=1;try{return Gi(99,t.bind(null,e))}finally{Ss=n,zi()}},e.hydrate=function(t,e,n){if(!Uu(e))throw Error(a(200));return Gu(null,t,e,!0,n)},e.render=function(t,e,n){if(!Uu(e))throw Error(a(200));return Gu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Uu(t))throw Error(a(40));return!!t._reactRootContainer&&(eu((function(){Gu(null,null,t,!1,(function(){t._reactRootContainer=null,t[On]=null}))})),!0)},e.unstable_batchedUpdates=tu,e.unstable_createPortal=function(t,e){return Ku(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uu(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Gu(t,e,n,!1,r)},e.version="16.13.0"},function(t,e,n){"use strict";t.exports=n(149)},function(t,e,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(c,0))},i=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)e.unstable_now=function(){return f.now()};else{var y=p.now();e.unstable_now=function(){return p.now()-y}}var v=!1,b=null,E=-1,_=5,w=0;a=function(){return e.unstable_now()>=w},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,x=S.port2;S.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();w=t+_;try{b(!0,t)?x.postMessage(null):(v=!1,b=null)}catch(n){throw x.postMessage(null),n}}else v=!1},r=function(t){b=t,v||(v=!0,x.postMessage(null))},i=function(t,n){E=d((function(){t(e.unstable_now())}),n)},o=function(){g(E),E=-1}}function T(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<A(i,e)))break t;t[r]=e,t[n]=i,n=r}}function O(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>A(a,n))void 0!==u&&0>A(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>A(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function A(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var L=[],P=[],R=1,M=null,k=3,I=!1,N=!1,D=!1;function j(t){for(var e=O(P);null!==e;){if(null===e.callback)C(P);else{if(!(e.startTime<=t))break;C(P),e.sortIndex=e.expirationTime,T(L,e)}e=O(P)}}function F(t){if(D=!1,j(t),!N)if(null!==O(L))N=!0,r(V);else{var e=O(P);null!==e&&i(F,e.startTime-t)}}function V(t,n){N=!1,D&&(D=!1,o()),I=!0;var r=k;try{for(j(n),M=O(L);null!==M&&(!(M.expirationTime>n)||t&&!a());){var s=M.callback;if(null!==s){M.callback=null,k=M.priorityLevel;var u=s(M.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?M.callback=u:M===O(L)&&C(L),j(n)}else C(L);M=O(L)}if(null!==M)var l=!0;else{var c=O(P);null!==c&&i(F,c.startTime-n),l=!1}return l}finally{M=null,k=r,I=!1}}function B(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){N||I||(N=!0,r(V))},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return O(L)},e.unstable_next=function(t){switch(k){case 1:case 2:case 3:var e=3;break;default:e=k}var n=k;k=e;try{return t()}finally{k=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=k;k=t;try{return e()}finally{k=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:B(t)}else a=B(t),u=s;return t={id:R++,callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(t.sortIndex=u,T(P,t),null===O(L)&&t===O(P)&&(D?o():D=!0,i(F,u-s))):(t.sortIndex=a,T(L,t),N||I||(N=!0,r(V))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();j(t);var n=O(L);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<M.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=k;return function(){var n=k;k=e;try{return t.apply(this,arguments)}finally{k=n}}}},function(t,e,n){var r=n(151),i=n(215),o=n(99),a=n(28),s=n(224);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(152),i=n(214),o=n(97);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(87),i=n(91);t.exports=function(t,e,n,o){var a=n.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var l=n[a];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){var c=(l=n[a])[0],h=t[c],f=l[1];if(u&&l[2]){if(void 0===h&&!(c in t))return!1}else{var p=new r;if(o)var d=o(h,f,c,t,e,p);if(!(void 0===d?i(f,h,3,o,p):d))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(47),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(47);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(47);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(47);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(46);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(46),i=n(68),o=n(69);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(88),i=n(166),o=n(49),a=n(90),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e,n){var r=n(48),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(167),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(30)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(170),i=n(46),o=n(68);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(171),i=n(172),o=n(173),a=n(174),s=n(175);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(50);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(50),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(50),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(50);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(51);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(51);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(51);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(51);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(87),i=n(92),o=n(187),a=n(191),s=n(209),u=n(28),l=n(94),c=n(95),h="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,p,d,g){var m=u(t),y=u(e),v=m?"[object Array]":s(t),b=y?"[object Array]":s(e),E=(v="[object Arguments]"==v?h:v)==h,_=(b="[object Arguments]"==b?h:b)==h,w=v==b;if(w&&l(t)){if(!l(e))return!1;m=!0,E=!1}if(w&&!E)return g||(g=new r),m||c(t)?i(t,e,n,p,d,g):o(t,e,v,n,p,d,g);if(!(1&n)){var S=E&&f.call(t,"__wrapped__"),x=_&&f.call(e,"__wrapped__");if(S||x){var T=S?t.value():t,O=x?e.value():e;return g||(g=new r),d(T,O,n,p,g)}}return!!w&&(g||(g=new r),a(t,e,n,p,d,g))}},function(t,e,n){var r=n(69),i=n(183),o=n(184);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(48),i=n(188),o=n(67),a=n(92),s=n(189),u=n(190),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,h,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var d=1&r;if(p||(p=u),t.size!=e.size&&!d)return!1;var g=f.get(t);if(g)return g==e;r|=2,f.set(t,e);var m=a(p(t),p(e),r,l,h,f);return f.delete(t),m;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},function(t,e,n){var r=n(30).Uint8Array;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(192),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,l=r(t),c=l.length;if(c!=r(e).length&&!u)return!1;for(var h=c;h--;){var f=l[h];if(!(u?f in e:i.call(e,f)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var g=u;++h<c;){var m=t[f=l[h]],y=e[f];if(o)var v=u?o(y,m,f,e,t,s):o(m,y,f,t,e,s);if(!(void 0===v?m===y||a(m,y,n,o,s):v)){d=!1;break}g||(g="constructor"==f)}if(d&&!g){var b=t.constructor,E=e.constructor;b!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E)&&(d=!1)}return s.delete(t),s.delete(e),d}},function(t,e,n){var r=n(193),i=n(195),o=n(70);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(194),i=n(28);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(196),i=n(197),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(199),i=n(93),o=n(28),a=n(94),s=n(71),u=n(95),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&a(t),f=!n&&!c&&!h&&u(t),p=n||c||h||f,d=p?r(t.length,String):[],g=d.length;for(var m in t)!e&&!l.call(t,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||d.push(m);return d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(41),i=n(42);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(41),i=n(72),o=n(42),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(89),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(45)(t))},function(t,e,n){var r=n(206),i=n(207),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(208)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(210),i=n(68),o=n(211),a=n(212),s=n(213),u=n(41),l=n(90),c=l(r),h=l(i),f=l(o),p=l(a),d=l(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r=n(34)(n(30),"DataView");t.exports=r},function(t,e,n){var r=n(34)(n(30),"Promise");t.exports=r},function(t,e,n){var r=n(34)(n(30),"Set");t.exports=r},function(t,e,n){var r=n(34)(n(30),"WeakMap");t.exports=r},function(t,e,n){var r=n(96),i=n(70);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(91),i=n(37),o=n(221),a=n(75),s=n(96),u=n(97),l=n(43);t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},function(t,e,n){var r=n(217),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(218);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(69);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(220);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(48),i=n(86),o=n(28),a=n(76),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(222),i=n(223);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(74),i=n(93),o=n(28),a=n(71),s=n(72),u=n(43);t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,h=!1;++l<c;){var f=u(e[l]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++l!=c?h:!!(c=null==t?0:t.length)&&s(c)&&a(f,c)&&(o(t)||i(t))}},function(t,e,n){var r=n(225),i=n(226),o=n(75),a=n(43);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(98);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(100),i=n(73);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},function(t,e,n){var r=n(229),i=n(70);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(230)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(73);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(233),i=n(74),o=n(71),a=n(49),s=n(43);t.exports=function(t,e,n,u){if(!a(t))return t;for(var l=-1,c=(e=i(e,t)).length,h=c-1,f=t;null!=f&&++l<c;){var p=s(e[l]),d=n;if(l!=h){var g=f[p];void 0===(d=u?u(g,p,f):void 0)&&(d=a(g)?g:o(e[l+1])?[]:{})}r(f,p,d),f=f[p]}return t}},function(t,e,n){var r=n(234),i=n(67),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(235);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(34),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",(function(){return p})),n.d(e,"Request",(function(){return E})),n.d(e,"Response",(function(){return S})),n.d(e,"DOMException",(function(){return T})),n.d(e,"fetch",(function(){return O}));var r="URLSearchParams"in self,i="Symbol"in self&&"iterator"in Symbol,o="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in self,s="ArrayBuffer"in self;if(s)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!==typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function g(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=g(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||l(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=g(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=c(t),e=h(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[c(t)]},p.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},p.prototype.set=function(t,e){this.map[c(t)]=h(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(t,e){var n=(e=e||{}).body;if(t instanceof E){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=function(t){var e=t.toUpperCase();return b.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function _(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function w(t){var e=new p;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}function S(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},v.call(E.prototype),v.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];S.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})};var T=self.DOMException;try{new T}catch(C){(T=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),T.prototype.constructor=T}function O(t,e){return new Promise((function(n,r){var i=new E(t,e);if(i.signal&&i.signal.aborted)return r(new T("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:w(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;n(new S(e,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new T("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),i.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),i.signal&&(i.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",s)}),a.send("undefined"===typeof i._bodyInit?null:i._bodyInit)}))}O.polyfill=!0,self.fetch||(self.fetch=O,self.Headers=p,self.Request=E,self.Response=S)},function(t,e,n){var r=n(238),i=n(100),o=n(239),a=n(28);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(99);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){!function(t,e){"use strict";function n(t){return"string"===typeof t||"number"===typeof t}var r=function(){function t(){this._cache={}}var e=t.prototype;return e.set=function(t,e){this._cache[t]=e},e.get=function(t){return this._cache[t]},e.remove=function(t){delete this._cache[t]},e.clear=function(){this._cache={}},e.isValidCacheKey=function(t){return n(t)},t}();function i(t){if(void 0===t)throw new Error('Missing the required property "cacheSize".');if(!Number.isInteger(t)||t<=0)throw new Error('The "cacheSize" property must be a positive integer value.')}var o=function(){function t(t){var e=(void 0===t?{}:t).cacheSize;i(e),this._cache={},this._cacheOrdering=[],this._cacheSize=e}var e=t.prototype;return e.set=function(t,e){if(this._cache[t]=e,this._cacheOrdering.push(t),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},e.get=function(t){return this._cache[t]},e.remove=function(t){var e=this._cacheOrdering.indexOf(t);e>-1&&this._cacheOrdering.splice(e,1),delete this._cache[t]},e.clear=function(){this._cache={},this._cacheOrdering=[]},e.isValidCacheKey=function(t){return n(t)},t}(),a=function(){function t(t){var e=(void 0===t?{}:t).cacheSize;i(e),this._cache={},this._cacheOrdering=[],this._cacheSize=e}var e=t.prototype;return e.set=function(t,e){if(this._cache[t]=e,this._registerCacheHit(t),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},e.get=function(t){return this._registerCacheHit(t),this._cache[t]},e.remove=function(t){this._deleteCacheHit(t),delete this._cache[t]},e.clear=function(){this._cache={},this._cacheOrdering=[]},e._registerCacheHit=function(t){this._deleteCacheHit(t),this._cacheOrdering.push(t)},e._deleteCacheHit=function(t){var e=this._cacheOrdering.indexOf(t);e>-1&&this._cacheOrdering.splice(e,1)},e.isValidCacheKey=function(t){return n(t)},t}(),s=function(){function t(){this._cache=new Map}var e=t.prototype;return e.set=function(t,e){this._cache.set(t,e)},e.get=function(t){return this._cache.get(t)},e.remove=function(t){this._cache.delete(t)},e.clear=function(){this._cache.clear()},t}(),u=function(){function t(t){var e=(void 0===t?{}:t).cacheSize;i(e),this._cache=new Map,this._cacheSize=e}var e=t.prototype;return e.set=function(t,e){if(this._cache.set(t,e),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},e.get=function(t){return this._cache.get(t)},e.remove=function(t){this._cache.delete(t)},e.clear=function(){this._cache.clear()},t}(),l=function(){function t(t){var e=(void 0===t?{}:t).cacheSize;i(e),this._cache=new Map,this._cacheSize=e}var e=t.prototype;return e.set=function(t,e){if(this._cache.set(t,e),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},e.get=function(t){var e=this._cache.get(t);return this._cache.has(t)&&(this.remove(t),this._cache.set(t,e)),e},e.remove=function(t){this._cache.delete(t)},e.clear=function(){this._cache.clear()},t}(),c=r,h=function(){return!0};t.default=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t,r){if(void 0===r&&(r={}),"function"===typeof r)throw new Error('[re-reselect] Second argument "options" must be an object. Please use "options.selectorCreator" to provide a custom selectorCreator.');var i=0,o=n.pop(),a=Array.isArray(n[0])?n[0]:[].concat(n);n.push((function(){return i++,o.apply(void 0,arguments)}));var s=r.cacheObject||new c,u=r.selectorCreator||e.createSelector,l=s.isValidCacheKey||h,f=function(){var e=t.apply(void 0,arguments);if(l(e)){var r=s.get(e);return void 0===r&&(r=u.apply(void 0,n),s.set(e,r)),r.apply(void 0,arguments)}console.warn('[re-reselect] Invalid cache key "'+e+'" has been returned by resolver function.')};return f.getMatchingSelector=function(){var e=t.apply(void 0,arguments);return s.get(e)},f.removeMatchingSelector=function(){var e=t.apply(void 0,arguments);s.remove(e)},f.clearCache=function(){s.clear()},f.resultFunc=o,f.dependencies=a,f.cache=s,f.recomputations=function(){return i},f.resetRecomputations=function(){return i=0},f}},t.FlatObjectCache=r,t.FlatCacheObject=r,t.FifoObjectCache=o,t.LruObjectCache=a,t.FlatMapCache=s,t.FifoMapCache=u,t.LruMapCache=l,t.FifoCacheObject=o,t.LruCacheObject=l,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(29))},function(t,e,n){"use strict";var r=n(242);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,E=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case p:case y:case m:case l:return t;default:return e}}case o:return e}}}function S(t){return w(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=y,e.Memo=m,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return S(t)||w(t)===h},e.isConcurrentMode=S,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===y},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===u},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===u||t===s||t===d||t===g||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===l||t.$$typeof===c||t.$$typeof===p||t.$$typeof===b||t.$$typeof===E||t.$$typeof===_||t.$$typeof===v)},e.typeOf=w},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(78))},function(t,e,n){"use strict";t.exports=n(247)},function(t,e,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function v(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw t.framesToPop=1,t}}function b(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);v(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function w(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||E}function S(){}function x(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||E}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&b("85"),this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},S.prototype=w.prototype;var T=x.prototype=new S;T.constructor=x,r(T,w.prototype),T.isPureReactComponent=!0;var O={current:null,currentDispatcher:null},C=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function L(t,e,n){var r=void 0,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)C.call(e,r)&&!A.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:O.current}}function P(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var R=/\/+/g,M=[];function k(t,e,n,r){if(M.length){var i=M.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function I(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function N(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+D(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+D(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=y&&e[y]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+D(s,l++),r,i);else"object"===s&&b("31","[object Object]"===(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return u}(t,"",e,n)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function j(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?V(t,r,n,(function(t){return t})):null!=t&&(P(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(R,"$&/")+"/")+n)),r.push(t))}function V(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(R,"$&/")+"/"),N(t,F,e=k(e,o,r,i)),I(e)}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return V(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;N(t,j,e=k(null,null,e,n)),I(e)},count:function(t){return N(t,(function(){return null}),null)},toArray:function(t){var e=[];return V(t,e,null,(function(t){return t})),e},only:function(t){return P(t)||b("143"),t}},createRef:function(){return{current:null}},Component:w,PureComponent:x,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:p,render:t}},lazy:function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:g,type:t,compare:void 0===e?null:e}},Fragment:s,StrictMode:u,Suspense:d,createElement:L,cloneElement:function(t,e,n){(null===t||void 0===t)&&b("267",t);var i=void 0,a=r({},t.props),s=t.key,u=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,l=O.current),void 0!==e.key&&(s=""+e.key);var c=void 0;for(i in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)C.call(e,i)&&!A.hasOwnProperty(i)&&(a[i]=void 0===e[i]&&void 0!==c?c[i]:e[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var h=0;h<i;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:o,type:t.type,key:s,ref:u,props:a,_owner:l}},createFactory:function(t){var e=L.bind(null,t);return e.type=t,e},isValidElement:P,version:"16.7.0",unstable_ConcurrentMode:f,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:O,assign:r}},U={default:B},G=U&&B||U;t.exports=G.default||G},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";t.exports=n(250)},function(t,e,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var m="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}function _(){}function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=E.prototype;var S=w.prototype=new _;S.constructor=w,r(S,E.prototype),S.isPureReactComponent=!0;var x={current:null},T={current:null},O=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)O.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:T.current}}function L(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,R=[];function M(t,e,n,r){if(R.length){var i=R.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function k(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>R.length&&R.push(t)}function I(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+N(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+N(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+N(s,l++),r,i);else if("object"===s)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function D(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(L(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),I(t,j,e=M(e,o,r,i)),k(e)}function V(){var t=x.current;if(null===t)throw Error(y(321));return t}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;I(t,D,e=M(null,null,e,n)),k(e)},count:function(t){return I(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!L(t))throw Error(y(143));return t}},createRef:function(){return{current:null}},Component:E,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:f,render:t}},lazy:function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return V().useCallback(t,e)},useContext:function(t,e){return V().useContext(t,e)},useEffect:function(t,e){return V().useEffect(t,e)},useImperativeHandle:function(t,e,n){return V().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return V().useLayoutEffect(t,e)},useMemo:function(t,e){return V().useMemo(t,e)},useReducer:function(t,e,n){return V().useReducer(t,e,n)},useRef:function(t){return V().useRef(t)},useState:function(t){return V().useState(t)},Fragment:s,Profiler:l,StrictMode:u,Suspense:p,createElement:A,cloneElement:function(t,e,n){if(null===t||void 0===t)throw Error(y(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=T.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)O.call(e,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(t){var e=A.bind(null,t);return e.type=t,e},isValidElement:L,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r}},U={default:B},G=U&&B||U;t.exports=G.default||G},function(t,e,n){"use strict";var r=n(80),i=n(101),o=n(102),a=n(103),s=n(104);function u(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(t,e){return e.encode?e.strict?o(t):encodeURIComponent(t):t}function c(t,e){return e.decode?a(t):t}function h(t){var e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function f(t){var e=(t=h(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function d(t,e){u((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return function(e,n,r){var i="string"===typeof n&&n.split("").indexOf(t.arrayFormatSeparator)>-1?n.split(t.arrayFormatSeparator).map((function(e){return c(e,t)})):null===n?n:c(n,t);r[e]=i};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),i=Object.create(null);if("string"!==typeof t)return i;if(!(t=t.trim().replace(/^[?#&]/,"")))return i;var o=!0,a=!1,l=void 0;try{for(var h,f=t.split("&")[Symbol.iterator]();!(o=(h=f.next()).done);o=!0){var d=h.value,g=s(e.decode?d.replace(/\+/g," "):d,"="),m=r(g,2),y=m[0],v=m[1];v=void 0===v?null:"comma"===e.arrayFormat?v:c(v,e),n(c(y,e),v,i)}}catch(O){a=!0,l=O}finally{try{o||null==f.return||f.return()}finally{if(a)throw l}}for(var b=0,E=Object.keys(i);b<E.length;b++){var _=E[b],w=i[_];if("object"===typeof w&&null!==w)for(var S=0,x=Object.keys(w);S<x.length;S++){var T=x[S];w[T]=p(w[T],e)}else i[_]=p(w,e)}return!1===e.sort?i:(!0===e.sort?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((function(t,e){var n=i[e];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"===typeof e?t(Object.keys(e)).sort((function(t,e){return Number(t)-Number(e)})).map((function(t){return e[t]})):e}(n):t[e]=n,t}),Object.create(null))}e.extract=f,e.parse=d,e.stringify=function(t,e){if(!t)return"";u((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);var n=function(t){switch(t.arrayFormat){case"index":return function(e){return function(n,r){var o=n.length;return void 0===r||t.skipNull&&null===r?n:[].concat(i(n),null===r?[[l(e,t),"[",o,"]"].join("")]:[[l(e,t),"[",l(o,t),"]=",l(r,t)].join("")])}};case"bracket":return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r?n:[].concat(i(n),null===r?[[l(e,t),"[]"].join("")]:[[l(e,t),"[]=",l(r,t)].join("")])}};case"comma":case"separator":return function(e){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[l(e,t),"=",l(r,t)].join("")]:[[n,l(r,t)].join(t.arrayFormatSeparator)]}};default:return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r?n:[].concat(i(n),null===r?[l(e,t)]:[[l(e,t),"=",l(r,t)].join("")])}}}}(e),r=Object.assign({},t);if(e.skipNull)for(var o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];void 0!==r[s]&&null!==r[s]||delete r[s]}var c=Object.keys(r);return!1!==e.sort&&c.sort(e.sort),c.map((function(r){var i=t[r];return void 0===i?"":null===i?l(r,e):Array.isArray(i)?i.reduce(n(r),[]).join("&"):l(r,e)+"="+l(i,e)})).filter((function(t){return t.length>0})).join("&")},e.parseUrl=function(t,e){return{url:h(t).split("?")[0]||"",query:d(f(t),e)}},e.stringifyUrl=function(t,n){var r=h(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i),a=function(t){var e="",n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url),s=Object.assign(o,t.query),u=e.stringify(s,n);return u&&(u="?".concat(u)),"".concat(r).concat(u).concat(a)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}n.r(e);var i=r();i.withExtraArgument=r,e.default=i},function(t,e,n){(function(t){!function(e){"use strict";function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function i(t,e,n){i.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function l(t){var e="undefined"==typeof t?"undefined":S(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function c(t,e,n,r,h,f,p){p=p||[];var d=(h=h||[]).slice(0);if("undefined"!=typeof f){if(r){if("function"==typeof r&&r(d,f))return;if("object"===("undefined"==typeof r?"undefined":S(r))){if(r.prefilter&&r.prefilter(d,f))return;if(r.normalize){var g=r.normalize(d,f,t,e);g&&(t=g[0],e=g[1])}}}d.push(f)}"regexp"===l(t)&&"regexp"===l(e)&&(t=t.toString(),e=e.toString());var m="undefined"==typeof t?"undefined":S(t),y="undefined"==typeof e?"undefined":S(e),v="undefined"!==m||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(f),b="undefined"!==y||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(f);if(!v&&b)n(new o(d,e));else if(!b&&v)n(new a(d,t));else if(l(t)!==l(e))n(new i(d,t,e));else if("date"===l(t)&&t-e!==0)n(new i(d,t,e));else if("object"===m&&null!==t&&null!==e)if(p.filter((function(e){return e.lhs===t})).length)t!==e&&n(new i(d,t,e));else{if(p.push({lhs:t,rhs:e}),Array.isArray(t)){var E;for(t.length,E=0;E<t.length;E++)E>=e.length?n(new s(d,E,new a(void 0,t[E]))):c(t[E],e[E],n,r,d,E,p);for(;E<e.length;)n(new s(d,E,new o(void 0,e[E++])))}else{var _=Object.keys(t),w=Object.keys(e);_.forEach((function(i,o){var a=w.indexOf(i);a>=0?(c(t[i],e[i],n,r,d,i,p),w=u(w,a)):c(t[i],void 0,n,r,d,i,p)})),w.forEach((function(t){c(void 0,e[t],n,r,d,t,p)}))}p.length=p.length-1}else t!==e&&("number"===m&&isNaN(t)&&isNaN(e)||n(new i(d,t,e)))}function h(t,e,n,r){return r=r||[],c(t,e,(function(t){t&&r.push(t)}),n),r.length?r:void 0}function f(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,i=-1,o=n.path?n.path.length-1:0;++i<o;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var i,o=e[n],a=r.path.length-1;for(i=0;i<a;i++)o=o[r.path[i]];switch(r.kind){case"A":t(o[r.path[i]],r.index,r.item);break;case"D":delete o[r.path[i]];break;case"E":case"N":o[r.path[i]]=r.rhs}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":e=u(e,n);break;case"E":case"N":e[n]=r.rhs}return e}(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(t){return"color: "+O[t].color+"; font-weight: bold"}function d(t,e,n,r){var i=h(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(t){n.log("diff")}i?i.forEach((function(t){var e=t.kind,r=function(t){var e=t.kind,n=t.path,r=t.lhs,i=t.rhs,o=t.index,a=t.item;switch(e){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}(t);n.log.apply(n,["%c "+O[e].text,p(e)].concat(x(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(t){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function g(t,e,n,r){switch("undefined"==typeof t?"undefined":S(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,x(n)):t[r];case"function":return t(e);default:return t}}function m(t,e){var n=e.logger,r=e.actionTransformer,i=e.titleFormatter,o=void 0===i?function(t){var e=t.timestamp,n=t.duration;return function(t,r,i){var o=["action"];return o.push("%c"+String(t.type)),e&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}(e):i,a=e.collapsed,s=e.colors,u=e.level,l=e.diff,c="undefined"==typeof e.titleFormatter;t.forEach((function(i,h){var f=i.started,p=i.startedTime,m=i.action,y=i.prevState,v=i.error,b=i.took,E=i.nextState,w=t[h+1];w&&(E=w.prevState,b=w.started-f);var S=r(m),x="function"==typeof a?a((function(){return E}),m,i):a,T=_(p),O=s.title?"color: "+s.title(S)+";":"",C=["color: gray; font-weight: lighter;"];C.push(O),e.timestamp&&C.push("color: gray; font-weight: lighter;"),e.duration&&C.push("color: gray; font-weight: lighter;");var A=o(S,T,b);try{x?s.title&&c?n.groupCollapsed.apply(n,["%c "+A].concat(C)):n.groupCollapsed(A):s.title&&c?n.group.apply(n,["%c "+A].concat(C)):n.group(A)}catch(t){n.log(A)}var L=g(u,S,[y],"prevState"),P=g(u,S,[S],"action"),R=g(u,S,[v,y],"error"),M=g(u,S,[E],"nextState");if(L)if(s.prevState){var k="color: "+s.prevState(y)+"; font-weight: bold";n[L]("%c prev state",k,y)}else n[L]("prev state",y);if(P)if(s.action){var I="color: "+s.action(S)+"; font-weight: bold";n[P]("%c action    ",I,S)}else n[P]("action    ",S);if(v&&R)if(s.error){var N="color: "+s.error(v,y)+"; font-weight: bold;";n[R]("%c error     ",N,v)}else n[R]("error     ",v);if(M)if(s.nextState){var D="color: "+s.nextState(E)+"; font-weight: bold";n[M]("%c next state",D,E)}else n[M]("next state",E);l&&d(y,E,n,x);try{n.groupEnd()}catch(t){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},C,t),n=e.logger,r=e.stateTransformer,i=e.errorTransformer,o=e.predicate,a=e.logErrors,s=e.diffPredicate;if("undefined"==typeof n)return function(){return function(t){return function(e){return t(e)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(t){return function(e){return t(e)}}};var u=[];return function(t){var n=t.getState;return function(t){return function(l){if("function"==typeof o&&!o(n,l))return t(l);var c={};u.push(c),c.started=w.now(),c.startedTime=new Date,c.prevState=r(n()),c.action=l;var h=void 0;if(a)try{h=t(l)}catch(t){c.error=i(t)}else h=t(l);c.took=w.now()-c.started,c.nextState=r(n());var f=e.diff&&"function"==typeof s?s(n,l):e.diff;if(m(u,Object.assign({},e,{diff:f})),u.length=0,c.error)throw c.error;return h}}}}var v,b,E=function(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t},_=function(t){return E(t.getHours(),2)+":"+E(t.getMinutes(),2)+":"+E(t.getSeconds(),2)+"."+E(t.getMilliseconds(),3)},w="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},T=[];v="object"===("undefined"==typeof t?"undefined":S(t))&&t?t:"undefined"!=typeof window?window:{},(b=v.DeepDiff)&&T.push((function(){"undefined"!=typeof b&&v.DeepDiff===h&&(v.DeepDiff=b,b=void 0)})),n(i,r),n(o,r),n(a,r),n(s,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:function(t,e,n){t&&e&&c(t,e,(function(r){n&&!n(t,e,r)||f(t,e,r)}))},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var r,i,o=t;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var i,o=e[n],a=r.path.length-1;for(i=0;i<a;i++)o=o[r.path[i]];switch(r.kind){case"A":t(o[r.path[i]],r.index,r.item);break;case"D":case"E":o[r.path[i]]=r.lhs;break;case"N":delete o[r.path[i]]}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":case"E":e[n]=r.lhs;break;case"N":e=u(e,n)}return e}(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof b},enumerable:!0},noConflict:{value:function(){return T&&(T.forEach((function(t){t()})),T=null),h},enumerable:!0}});var O={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},C={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?y()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=C,e.createLogger=y,e.logger=A,e.default=A,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n(27))},function(t,e,n){t.exports=n(261)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(262);Object.defineProperty(e,"reduxBatch",{enumerable:!0,get:function(){return r.reduxBatch}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reduxBatch=function(t){var e=[],n=void 0;function r(){e===n&&(e=e.slice())}function i(t){if("function"!==typeof t)throw new Error("Invalid listener, expected a function");var n=!0;return r(),e.push(t),function(){n&&(r(),e.splice(e.indexOf(t),1),n=!1)}}function o(){for(var t=e,r=0;r<t.length;++r)n=t,t[r]()}return function(){var e=t.apply(void 0,arguments),n=!1,r=!1;function a(t){return Array.isArray(t)?t.map((function(t){return a(t)})):e.dispatch(t)}function s(t){var e=r;e||(n=!1,r=!0);var i=a(t),s=n&&!e;return e||(n=!1,r=!1),s&&o(),i}return e.subscribe((function(){r?n=!0:o()})),Object.assign({},e,{dispatch:s,subscribe:i})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disableAutoScrollRestoration=function(){if("scrollRestoration"in window.history){var t=window.history.scrollRestoration;return window.history.scrollRestoration="manual",function(){return window.history.scrollRestoration=t}}return function(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPageStateMemory=function(){var t=new Array,e=new Map;return{pageState:function(t){return e.get(t)},update:function(n,r,i,o){e.set(r,o),"PUSH"===n?function(n,r){for(var i=t.indexOf(n)+1;t.length>i;){var o=t.pop();void 0!==o&&e.delete(o)}t.push(r)}(r,i):"REPLACE"===n&&function(n,r){var i=t.indexOf(n);-1!==i&&(t[i]=r),e.delete(n)}(r,i)}}}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(106),u=a(n(266)),l=n(275);e.getPageState=function(){var t=null!==document.activeElement?u.default(document.activeElement):void 0;return r(r({},s.getScrollPosition()),{focusSelector:t})};var c=!l.is.chrome();e.setPageState=function(t,e){return i(void 0,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return n=c&&void 0!==t.focusSelector?s.elementFromTarget(t.focusSelector):void 0,r=n||s.elementFromTarget(e)||document.body,[4,s.focusElement(r,!0)];case 1:return i.sent(),s.setScrollPosition(t),[2]}}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.selectorTypes,r=void 0===n?["ID","Class","Tag","NthChild"]:n,i=e.attributesToIgnore,o=void 0===i?["id","class","length"]:i,a=e.excludeRegex,s=void 0===a?null:a,u=[],h=(0,c.getParents)(t),f=!0,p=!1,g=void 0;try{for(var m,y=h[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var v=m.value,b=d(v,r,o,s);Boolean(b)&&u.push(b)}}catch(A){p=!0,g=A}finally{try{!f&&y.return&&y.return()}finally{if(p)throw g}}var E=[],_=!0,w=!1,S=void 0;try{for(var x,T=u[Symbol.iterator]();!(_=(x=T.next()).done);_=!0){var O=x.value;E.unshift(O);var C=E.join(" > ");if((0,l.isUnique)(t,C))return C}}catch(A){w=!0,S=A}finally{try{!_&&T.return&&T.return()}finally{if(w)throw S}}return null};var r=n(267),i=n(268),o=n(269),a=n(270),s=n(271),u=n(272),l=n(273),c=n(274);function h(t,e){var n=t.parentNode.querySelectorAll(e);return 1===n.length&&n[0]===t}function f(t,e){return e.find(h.bind(null,t))}function p(t,e,n){var r=(0,o.getCombinations)(e,3),i=f(t,r);return Boolean(i)||Boolean(n)&&(i=f(t,r=r.map((function(t){return n+t}))),Boolean(i))?i:null}function d(t,e,n,o){var l=void 0,c=function(t,e,n){var o={Tag:u.getTag,NthChild:s.getNthChild,Attributes:function(t){return(0,a.getAttributes)(t,n)},Class:i.getClassSelectors,ID:r.getID};return e.reduce((function(e,n){return e[n]=o[n](t),e}),{})}(t,e,n);o&&o instanceof RegExp&&(c.ID=o.test(c.ID)?null:c.ID,c.Class=c.Class.filter((function(t){return!o.test(t)})));var f=!0,d=!1,g=void 0;try{for(var m,y=e[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var v=m.value,b=c.ID,E=c.Tag,_=c.Class,w=c.Attributes,S=c.NthChild;switch(v){case"ID":if(Boolean(b)&&h(t,b))return b;break;case"Tag":if(Boolean(E)&&h(t,E))return E;break;case"Class":if(Boolean(_)&&_.length&&(l=p(t,_,E)))return l;break;case"Attributes":if(Boolean(w)&&w.length&&(l=p(t,w,E)))return l;break;case"NthChild":if(Boolean(S))return S}}}catch(x){d=!0,g=x}finally{try{!f&&y.return&&y.return()}finally{if(d)throw g}}return"*"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getID=function(t){var e=t.getAttribute("id");if(null!==e&&""!==e)return e.match(/^\d/)?'[id="'+e+'"]':"#"+e;return null}},function(t,e,n){"use strict";function r(t){if(!t.hasAttribute("class"))return[];try{return Array.prototype.slice.call(t.classList).filter((function(t){return/^[a-z_-][a-z\d_-]*$/i.test(t)?t:null}))}catch(n){var e=t.getAttribute("class");return(e=e.trim().replace(/\s+/g," ")).split(" ")}}Object.defineProperty(e,"__esModule",{value:!0}),e.getClasses=r,e.getClassSelectors=function(t){return r(t).filter(Boolean).map((function(t){return"."+t}))}},function(t,e,n){"use strict";function r(t,e,n,i,o,a,s){if(a!==s)for(var u=i;u<=o&&o-u+1>=s-a;++u)n[a]=e[u],r(t,e,n,u+1,o,a+1,s);else t.push(n.slice(0,a).join(""))}Object.defineProperty(e,"__esModule",{value:!0}),e.getCombinations=function(t,e){for(var n=[],i=t.length,o=[],a=1;a<=e;++a)r(n,t,o,0,i-1,0,a);return n}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getAttributes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id","class","length"],n=t.attributes,i=[].concat(r(n));return i.reduce((function(t,n){return e.indexOf(n.nodeName)>-1||t.push("["+n.nodeName+'="'+n.value+'"]'),t}),[])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNthChild=function(t){var e=0,n=void 0,i=void 0,o=t.parentNode;if(Boolean(o)){var a=o.childNodes,s=a.length;for(n=0;n<s;n++)if(i=a[n],(0,r.isElement)(i)&&(e++,i===t))return":nth-child("+e+")"}return null};var r=n(107)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTag=function(t){return t.tagName.toLowerCase().replace(/:/g,"\\:")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUnique=function(t,e){if(!Boolean(e))return!1;var n=t.ownerDocument.querySelectorAll(e);return 1===n.length&&n[0]===t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getParents=function(t){var e=[],n=t;for(;(0,r.isElement)(n);)e.push(n),n=n.parentNode;return e};var r=n(107)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=("object"===typeof navigator&&navigator.userAgent||"").toLowerCase(),i=("object"===typeof navigator&&navigator.vendor||"").toLowerCase();e.is={chrome:function(){return null!==(/google inc/.test(i)?r.match(/(?:chrome|crios)\/(\d+)/):null)&&!e.is.opera()},opera:function(){return null!==r.match(/(?:^opera.+?version|opr)\/(\d+)/)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultSettings={announcementsDivId:"announcements",primaryFocusTarget:"main h1, [role=main] h1",documentTitle:function(){return document.title},documentTitleAnnounceFallback:"new page",navigationMessage:function(t){return"Navigated to "+t+"."},shouldHandleAction:function(){return!0},disableAutoScrollRestoration:!0,announcePageNavigation:!0,repairFocus:!0,setPageTitle:!1,handleHashFragment:!0,restorePageStateOnPop:!0,renderTimeout:0,defaultPageState:{x:0,y:0},smoothScroll:void 0,setMessageTimeout:void 0,clearMessageTimeout:void 0}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(106),s=n(105),u=function(t,e){var n=e.documentTitle(t);return null===n||void 0===n||"string"!==typeof n||""===n.trim()?void console.error("Title ["+n+"] is invalid. See https://www.w3.org/TR/UNDERSTANDING-WCAG20/navigation-mechanisms-title.html"):n};e.createOafRouter=function(t,e){var n=t.disableAutoScrollRestoration?s.disableAutoScrollRestoration():function(){},l=function(t){var e={pageState:function(){},update:function(){}};if(!t.restorePageStateOnPop)return e;try{return s.createPageStateMemory()}catch(n){return console.error(n),e}}(t);return{handleFirstPageLoad:function(n){return i(void 0,void 0,void 0,(function(){var r,i,s;return o(this,(function(o){switch(o.label){case 0:return r=u(n,t),t.setPageTitle&&r&&a.setTitle(r),t.handleHashFragment?(i=e(n),void 0===(s=a.elementFromHash(i))?[3,2]:[4,a.focusAndScrollIntoViewIfRequired(s,s,t.smoothScroll)]):[3,2];case 1:o.sent()||console.warn("Unable to focus element for hash ["+i+"]."),o.label=2;case 2:return[2]}}))}))},handleLocationChanged:function(n,c,h,f){return i(void 0,void 0,void 0,(function(){var i,p,d,g,m,y;return o(this,(function(o){switch(o.label){case 0:return i=u(c,t),t.setPageTitle&&i&&a.setTitle(i),t.shouldHandleAction(n,c,f)?(t.announcePageNavigation&&a.announce(t.navigationMessage(i||t.documentTitleAnnounceFallback,c,f),t.announcementsDivId,t.setMessageTimeout,t.clearMessageTimeout),t.repairFocus?(p="string"===typeof t.primaryFocusTarget?t.primaryFocusTarget:t.primaryFocusTarget(c),"POP"===f&&t.restorePageStateOnPop?(d=void 0!==h?l.pageState(h):void 0,g=r(r({},t.defaultPageState),d),[4,s.setPageState(g,p)]):[3,2]):[3,4]):[2];case 1:return o.sent(),[3,4];case 2:return m=e(c),y=t.handleHashFragment?a.elementFromHash(m):void 0,[4,a.resetFocus(p,y,t.smoothScroll)];case 3:o.sent()||console.warn("Unable to focus element for primary focus target ["+p+"] and hash ["+m+"]."),o.label=4;case 4:return[2]}}))}))},handleLocationWillChange:function(e,n,r){t.restorePageStateOnPop&&l.update(r,e,n,s.getPageState())},resetAutoScrollRestoration:n}}},function(t,e,n){},function(t,e,n){},,,function(t,e,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var m="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}function _(){}function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=E.prototype;var S=w.prototype=new _;S.constructor=w,r(S,E.prototype),S.isPureReactComponent=!0;var x={current:null},T={current:null},O=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)O.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:T.current}}function L(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,R=[];function M(t,e,n,r){if(R.length){var i=R.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function k(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>R.length&&R.push(t)}function I(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+N(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+N(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+N(s,l++),r,i);else if("object"===s)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function D(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(L(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),I(t,j,e=M(e,o,r,i)),k(e)}function V(){var t=x.current;if(null===t)throw Error(y(321));return t}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;I(t,D,e=M(null,null,e,n)),k(e)},count:function(t){return I(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!L(t))throw Error(y(143));return t}},createRef:function(){return{current:null}},Component:E,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:f,render:t}},lazy:function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return V().useCallback(t,e)},useContext:function(t,e){return V().useContext(t,e)},useEffect:function(t,e){return V().useEffect(t,e)},useImperativeHandle:function(t,e,n){return V().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return V().useLayoutEffect(t,e)},useMemo:function(t,e){return V().useMemo(t,e)},useReducer:function(t,e,n){return V().useReducer(t,e,n)},useRef:function(t){return V().useRef(t)},useState:function(t){return V().useState(t)},Fragment:s,Profiler:l,StrictMode:u,Suspense:p,createElement:A,cloneElement:function(t,e,n){if(null===t||void 0===t)throw Error(y(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=T.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)O.call(e,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(t){var e=A.bind(null,t);return e.type=t,e},isValidElement:L,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r}},U={default:B},G=U&&B||U;t.exports=G.default||G},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(284)},function(t,e,n){"use strict";var r=n(108),i=n(23),o=n(285);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=null,u={};function l(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!h[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in h[n]=e,n=e.eventTypes){var i=void 0,o=n[r],l=e,p=r;if(f.hasOwnProperty(p))throw Error(a(99,p));f[p]=o;var d=o.phasedRegistrationNames;if(d){for(i in d)d.hasOwnProperty(i)&&c(d[i],l,p);i=!0}else o.registrationName?(c(o.registrationName,l,p),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function c(t,e,n){if(p[t])throw Error(a(100,t));p[t]=e,d[t]=e.eventTypes[n].dependencies}var h=[],f={},p={},d={};function g(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var m=!1,y=null,v=!1,b=null,E={onError:function(t){m=!0,y=t}};function _(t,e,n,r,i,o,a,s,u){m=!1,y=null,g.apply(E,arguments)}var w=null,S=null,x=null;function T(t,e,n){var r=t.type||"unknown-event";t.currentTarget=x(n),function(t,e,n,r,i,o,s,u,l){if(_.apply(this,arguments),m){if(!m)throw Error(a(198));var c=y;m=!1,y=null,v||(v=!0,b=c)}}(r,e,void 0,t),t.currentTarget=null}function O(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function C(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var A=null;function L(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)T(t,e[r],n[r]);else e&&T(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function P(t){if(null!==t&&(A=O(A,t)),t=A,A=null,t){if(C(t,L),A)throw Error(a(95));if(v)throw t=b,v=!1,b=null,t}}var R={injectEventPluginOrder:function(t){if(s)throw Error(a(101));s=Array.prototype.slice.call(t),l()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!u.hasOwnProperty(e)||u[e]!==r){if(u[e])throw Error(a(102,e));u[e]=r,n=!0}}n&&l()}};function M(t,e){var n=t.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;k.hasOwnProperty("ReactCurrentDispatcher")||(k.ReactCurrentDispatcher={current:null}),k.hasOwnProperty("ReactCurrentBatchConfig")||(k.ReactCurrentBatchConfig={suspense:null});var I=/^(.*)[\\\/]/,N="function"===typeof Symbol&&Symbol.for,D=N?Symbol.for("react.element"):60103,j=N?Symbol.for("react.portal"):60106,F=N?Symbol.for("react.fragment"):60107,V=N?Symbol.for("react.strict_mode"):60108,B=N?Symbol.for("react.profiler"):60114,U=N?Symbol.for("react.provider"):60109,G=N?Symbol.for("react.context"):60110,W=N?Symbol.for("react.concurrent_mode"):60111,K=N?Symbol.for("react.forward_ref"):60112,z=N?Symbol.for("react.suspense"):60113,H=N?Symbol.for("react.suspense_list"):60120,Y=N?Symbol.for("react.memo"):60115,q=N?Symbol.for("react.lazy"):60116;N&&Symbol.for("react.fundamental"),N&&Symbol.for("react.responder"),N&&Symbol.for("react.scope");var X="function"===typeof Symbol&&Symbol.iterator;function Z(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=X&&t[X]||t["@@iterator"])?t:null}function J(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case F:return"Fragment";case j:return"Portal";case B:return"Profiler";case V:return"StrictMode";case z:return"Suspense";case H:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case G:return"Context.Consumer";case U:return"Context.Provider";case K:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case Y:return J(t.type);case q:if(t=1===t._status?t._result:null)return J(t)}return null}function Q(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=J(t.type);n=null,r&&(n=J(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(I,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var $=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),tt=null,et=null,nt=null;function rt(t){if(t=S(t)){if("function"!==typeof tt)throw Error(a(280));var e=w(t.stateNode);tt(t.stateNode,t.type,e)}}function it(t){et?nt?nt.push(t):nt=[t]:et=t}function ot(){if(et){var t=et,e=nt;if(nt=et=null,rt(t),e)for(t=0;t<e.length;t++)rt(e[t])}}function at(t,e){return t(e)}function st(t,e,n,r){return t(e,n,r)}function ut(){}var lt=at,ct=!1,ht=!1;function ft(){null===et&&null===nt||(ut(),ot())}new Map;var pt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt=Object.prototype.hasOwnProperty,gt={},mt={};function yt(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){vt[t]=new yt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];vt[e]=new yt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){vt[t]=new yt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){vt[t]=new yt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){vt[t]=new yt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){vt[t]=new yt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){vt[t]=new yt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){vt[t]=new yt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){vt[t]=new yt(t,5,!1,t.toLowerCase(),null,!1)}));var bt=/[\-:]([a-z])/g;function Et(t){return t[1].toUpperCase()}function _t(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function wt(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!dt.call(mt,t)||!dt.call(gt,t)&&(pt.test(t)?mt[t]=!0:(gt[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function St(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function xt(t){t._valueTracker||(t._valueTracker=function(t){var e=St(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Tt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=St(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Ot(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Ct(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=_t(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function At(t,e){null!=(e=e.checked)&&wt(t,"checked",e,!1)}function Lt(t,e){At(t,e);var n=_t(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Rt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rt(t,e.type,_t(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Pt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Rt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Mt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function kt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_t(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function It(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nt(t,e){var n=e.value;if(null==n){if(n=e.defaultValue,null!=(e=e.children)){if(null!=n)throw Error(a(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(a(93));e=e[0]}n=e}null==n&&(n="")}t._wrapperState={initialValue:_t(n)}}function Dt(t,e){var n=_t(e.value),r=_t(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function jt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(bt,Et);vt[e]=new yt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(bt,Et);vt[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(bt,Et);vt[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){vt[t]=new yt(t,1,!1,t.toLowerCase(),null,!1)})),vt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){vt[t]=new yt(t,1,!1,t.toLowerCase(),null,!0)}));var Ft="http://www.w3.org/1999/xhtml",Vt="http://www.w3.org/2000/svg";function Bt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Bt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Gt,Wt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Vt||"innerHTML"in t)t.innerHTML=e;else{for((Gt=Gt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Kt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function zt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ht={animationend:zt("Animation","AnimationEnd"),animationiteration:zt("Animation","AnimationIteration"),animationstart:zt("Animation","AnimationStart"),transitionend:zt("Transition","TransitionEnd")},Yt={},qt={};function Xt(t){if(Yt[t])return Yt[t];if(!Ht[t])return t;var e,n=Ht[t];for(e in n)if(n.hasOwnProperty(e)&&e in qt)return Yt[t]=n[e];return t}$&&(qt=document.createElement("div").style,"AnimationEvent"in window||(delete Ht.animationend.animation,delete Ht.animationiteration.animation,delete Ht.animationstart.animation),"TransitionEvent"in window||delete Ht.transitionend.transition);var Zt=Xt("animationend"),Jt=Xt("animationiteration"),Qt=Xt("animationstart"),$t=Xt("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function ee(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ne(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function re(t){if(ee(t)!==t)throw Error(a(188))}function ie(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=ee(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return re(i),t;if(o===r)return re(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var oe,ae,se,ue=!1,le=[],ce=null,he=null,fe=null,pe=new Map,de=new Map,ge=[],me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ye="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ve(t,e,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r}}function be(t,e){switch(t){case"focus":case"blur":ce=null;break;case"dragenter":case"dragleave":he=null;break;case"mouseover":case"mouseout":fe=null;break;case"pointerover":case"pointerout":pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":de.delete(e.pointerId)}}function Ee(t,e,n,r,i){return null===t||t.nativeEvent!==i?(t=ve(e,n,r,i),null!==e&&(null!==(e=lr(e))&&ae(e)),t):(t.eventSystemFlags|=r,t)}function _e(t){var e=ur(t.target);if(null!==e){var n=ee(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ne(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){se(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function we(t){if(null!==t.blockedOn)return!1;var e=Rn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);if(null!==e){var n=lr(e);return null!==n&&ae(n),t.blockedOn=e,!1}return!0}function Se(t,e,n){we(t)&&n.delete(e)}function xe(){for(ue=!1;0<le.length;){var t=le[0];if(null!==t.blockedOn){null!==(t=lr(t.blockedOn))&&oe(t);break}var e=Rn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);null!==e?t.blockedOn=e:le.shift()}null!==ce&&we(ce)&&(ce=null),null!==he&&we(he)&&(he=null),null!==fe&&we(fe)&&(fe=null),pe.forEach(Se),de.forEach(Se)}function Te(t,e){t.blockedOn===e&&(t.blockedOn=null,ue||(ue=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xe)))}function Oe(t){function e(e){return Te(e,t)}if(0<le.length){Te(le[0],t);for(var n=1;n<le.length;n++){var r=le[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ce&&Te(ce,t),null!==he&&Te(he,t),null!==fe&&Te(fe,t),pe.forEach(e),de.forEach(e),n=0;n<ge.length;n++)(r=ge[n]).blockedOn===t&&(r.blockedOn=null);for(;0<ge.length&&null===(n=ge[0]).blockedOn;)_e(n),null===n.blockedOn&&ge.shift()}function Ce(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Ae(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Le(t,e,n){(e=M(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=O(n._dispatchListeners,e),n._dispatchInstances=O(n._dispatchInstances,t))}function Pe(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Ae(e);for(e=n.length;0<e--;)Le(n[e],"captured",t);for(e=0;e<n.length;e++)Le(n[e],"bubbled",t)}}function Re(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=M(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,e),n._dispatchInstances=O(n._dispatchInstances,t))}function Me(t){t&&t.dispatchConfig.registrationName&&Re(t._targetInst,null,t)}function ke(t){C(t,Pe)}function Ie(){return!0}function Ne(){return!1}function De(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Ie:Ne,this.isPropagationStopped=Ne,this}function je(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Fe(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Ve(t){t.eventPool=[],t.getPooled=je,t.release=Fe}i(De.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ie)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ie)},persist:function(){this.isPersistent=Ie},isPersistent:Ne,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ne,this._dispatchInstances=this._dispatchListeners=null}}),De.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},De.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Ve(n),n},Ve(De);var Be=De.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ue=De.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ge=De.extend({view:null,detail:null}),We=Ge.extend({relatedTarget:null});function Ke(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},He={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ye[t])&&!!e[t]}function Xe(){return qe}for(var Ze=Ge.extend({key:function(t){if(t.key){var e=ze[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Ke(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?He[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Xe,charCode:function(t){return"keypress"===t.type?Ke(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ke(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Je=0,Qe=0,$e=!1,tn=!1,en=Ge.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Xe,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Je;return Je=t.screenX,$e?"mousemove"===t.type?t.screenX-e:0:($e=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Qe;return Qe=t.screenY,tn?"mousemove"===t.type?t.screenY-e:0:(tn=!0,0)}}),nn=en.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),rn=en.extend({dataTransfer:null}),on=Ge.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Xe}),an=De.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=en.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),un=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Zt,"animationEnd",2],[Jt,"animationIteration",2],[Qt,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[$t,"transitionEnd",2],["waiting","waiting",2]],ln={},cn={},hn=0;hn<un.length;hn++){var fn=un[hn],pn=fn[0],dn=fn[1],gn=fn[2],mn="on"+(dn[0].toUpperCase()+dn.slice(1)),yn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[pn],eventPriority:gn};ln[dn]=yn,cn[pn]=yn}var vn={eventTypes:ln,getEventPriority:function(t){return void 0!==(t=cn[t])?t.eventPriority:2},extractEvents:function(t,e,n,r){var i=cn[t];if(!i)return null;switch(t){case"keypress":if(0===Ke(n))return null;case"keydown":case"keyup":t=Ze;break;case"blur":case"focus":t=We;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=on;break;case Zt:case Jt:case Qt:t=Be;break;case $t:t=an;break;case"scroll":t=Ge;break;case"wheel":t=sn;break;case"copy":case"cut":case"paste":t=Ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=nn;break;default:t=De}return ke(e=t.getPooled(i,e,n,r)),e}},bn=o.unstable_UserBlockingPriority,En=o.unstable_runWithPriority,_n=vn.getEventPriority,wn=[];function Sn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=ur(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Ce(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=t.eventSystemFlags,s=null,u=0;u<h.length;u++){var l=h[u];l&&(l=l.extractEvents(r,e,o,i,a))&&(s=O(s,l))}P(s)}}var xn=!0;function Tn(t,e){On(e,t,!1)}function On(t,e,n){switch(_n(e)){case 0:var r=Cn.bind(null,e,1);break;case 1:r=An.bind(null,e,1);break;default:r=Pn.bind(null,e,1)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Cn(t,e,n){ct||ut();var r=Pn,i=ct;ct=!0;try{st(r,t,e,n)}finally{(ct=i)||ft()}}function An(t,e,n){En(bn,Pn.bind(null,t,e,n))}function Ln(t,e,n,r){if(wn.length){var i=wn.pop();i.topLevelType=t,i.eventSystemFlags=e,i.nativeEvent=n,i.targetInst=r,t=i}else t={topLevelType:t,eventSystemFlags:e,nativeEvent:n,targetInst:r,ancestors:[]};try{if(e=Sn,n=t,ht)e(n,void 0);else{ht=!0;try{lt(e,n,void 0)}finally{ht=!1,ft()}}}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,wn.length<10&&wn.push(t)}}function Pn(t,e,n){if(xn)if(0<le.length&&-1<me.indexOf(t))t=ve(null,t,e,n),le.push(t);else{var r=Rn(t,e,n);null===r?be(t,n):-1<me.indexOf(t)?(t=ve(r,t,e,n),le.push(t)):function(t,e,n,r){switch(e){case"focus":return ce=Ee(ce,t,e,n,r),!0;case"dragenter":return he=Ee(he,t,e,n,r),!0;case"mouseover":return fe=Ee(fe,t,e,n,r),!0;case"pointerover":var i=r.pointerId;return pe.set(i,Ee(pe.get(i)||null,t,e,n,r)),!0;case"gotpointercapture":return i=r.pointerId,de.set(i,Ee(de.get(i)||null,t,e,n,r)),!0}return!1}(r,t,e,n)||(be(t,n),Ln(t,e,n,null))}}function Rn(t,e,n){var r=Ce(n);if(null!==(r=ur(r))){var i=ee(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=ne(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Ln(t,e,n,r),null}function Mn(t){if(!$)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var kn=new("function"===typeof WeakMap?WeakMap:Map);function In(t){var e=kn.get(t);return void 0===e&&(e=new Set,kn.set(t,e)),e}function Nn(t,e,n){if(!n.has(t)){switch(t){case"scroll":On(e,"scroll",!0);break;case"focus":case"blur":On(e,"focus",!0),On(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Mn(t)&&On(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(t)&&Tn(t,e)}n.add(t)}}var Dn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jn=["Webkit","ms","Moz","O"];function Fn(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Dn.hasOwnProperty(t)&&Dn[t]?(""+e).trim():e+"px"}function Vn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Fn(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Dn).forEach((function(t){jn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dn[e]=Dn[t]}))}));var Bn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(t,e){if(e){if(Bn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62,""))}}function Gn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Wn(t,e){var n=In(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=d[e];for(var r=0;r<e.length;r++)Nn(e[r],t,n)}function Kn(){}function zn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yn(t,e){var n,r=Hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Hn(r)}}function qn(){for(var t=window,e=zn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=zn((t=e.contentWindow).document)}return e}function Xn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Zn=null,Jn=null;function Qn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function $n(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var tr="function"===typeof setTimeout?setTimeout:void 0,er="function"===typeof clearTimeout?clearTimeout:void 0;function nr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function rr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var ir=Math.random().toString(36).slice(2),or="__reactInternalInstance$"+ir,ar="__reactEventHandlers$"+ir,sr="__reactContainere$"+ir;function ur(t){var e=t[or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[or]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=rr(t);null!==t;){if(n=t[or])return n;t=rr(t)}return e}n=(t=n).parentNode}return null}function lr(t){return!(t=t[or]||t[sr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function cr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function hr(t){return t[ar]||null}var fr=null,pr=null,dr=null;function gr(){if(dr)return dr;var t,e,n=pr,r=n.length,i="value"in fr?fr.value:fr.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return dr=i.slice(t,1<e?1-e:void 0)}var mr=De.extend({data:null}),yr=De.extend({data:null}),vr=[9,13,27,32],br=$&&"CompositionEvent"in window,Er=null;$&&"documentMode"in document&&(Er=document.documentMode);var _r=$&&"TextEvent"in window&&!Er,wr=$&&(!br||Er&&8<Er&&11>=Er),Sr=String.fromCharCode(32),xr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Tr=!1;function Or(t,e){switch(t){case"keyup":return-1!==vr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Cr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Ar=!1;var Lr={eventTypes:xr,extractEvents:function(t,e,n,r){var i;if(br)t:{switch(t){case"compositionstart":var o=xr.compositionStart;break t;case"compositionend":o=xr.compositionEnd;break t;case"compositionupdate":o=xr.compositionUpdate;break t}o=void 0}else Ar?Or(t,n)&&(o=xr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=xr.compositionStart);return o?(wr&&"ko"!==n.locale&&(Ar||o!==xr.compositionStart?o===xr.compositionEnd&&Ar&&(i=gr()):(pr="value"in(fr=r)?fr.value:fr.textContent,Ar=!0)),o=mr.getPooled(o,e,n,r),i?o.data=i:null!==(i=Cr(n))&&(o.data=i),ke(o),i=o):i=null,(t=_r?function(t,e){switch(t){case"compositionend":return Cr(e);case"keypress":return 32!==e.which?null:(Tr=!0,Sr);case"textInput":return(t=e.data)===Sr&&Tr?null:t;default:return null}}(t,n):function(t,e){if(Ar)return"compositionend"===t||!br&&Or(t,e)?(t=gr(),dr=pr=fr=null,Ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=yr.getPooled(xr.beforeInput,e,n,r)).data=t,ke(e)):e=null,null===i?e:null===e?i:[i,e]}},Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Pr[t.type]:"textarea"===e}var Mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function kr(t,e,n){return(t=De.getPooled(Mr.change,t,e,n)).type="change",it(n),ke(t),t}var Ir=null,Nr=null;function Dr(t){P(t)}function jr(t){if(Tt(cr(t)))return t}function Fr(t,e){if("change"===t)return e}var Vr=!1;function Br(){Ir&&(Ir.detachEvent("onpropertychange",Ur),Nr=Ir=null)}function Ur(t){if("value"===t.propertyName&&jr(Nr))if(t=kr(Nr,t,Ce(t)),ct)P(t);else{ct=!0;try{at(Dr,t)}finally{ct=!1,ft()}}}function Gr(t,e,n){"focus"===t?(Br(),Nr=n,(Ir=e).attachEvent("onpropertychange",Ur)):"blur"===t&&Br()}function Wr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return jr(Nr)}function Kr(t,e){if("click"===t)return jr(e)}function zr(t,e){if("input"===t||"change"===t)return jr(e)}$&&(Vr=Mn("input")&&(!document.documentMode||9<document.documentMode));var Hr,Yr={eventTypes:Mr,_isInputEventSupported:Vr,extractEvents:function(t,e,n,r){var i=e?cr(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Fr;else if(Rr(i))if(Vr)a=zr;else{a=Wr;var s=Gr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Kr);if(a&&(a=a(t,e)))return kr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Rt(i,"number",i.value)}},qr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xr={eventTypes:qr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?ur(e):null)&&(e!==(o=ee(e))||5!==e.tag&&6!==e.tag)&&(e=null)):a=null,a===e)return null;if("mouseout"===t||"mouseover"===t)var s=en,u=qr.mouseLeave,l=qr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=nn,u=qr.pointerLeave,l=qr.pointerEnter,c="pointer");if(t=null==a?i:cr(a),i=null==e?i:cr(e),(u=s.getPooled(u,a,n,r)).type=c+"leave",u.target=t,u.relatedTarget=i,(r=s.getPooled(l,e,n,r)).type=c+"enter",r.target=i,r.relatedTarget=t,c=e,(s=a)&&c)t:{for(t=c,a=0,e=l=s;e;e=Ae(e))a++;for(e=0,i=t;i;i=Ae(i))e++;for(;0<a-e;)l=Ae(l),a--;for(;0<e-a;)t=Ae(t),e--;for(;a--;){if(l===t||l===t.alternate)break t;l=Ae(l),t=Ae(t)}l=null}else l=null;for(t=l,l=[];s&&s!==t&&(null===(a=s.alternate)||a!==t);)l.push(s),s=Ae(s);for(s=[];c&&c!==t&&(null===(a=c.alternate)||a!==t);)s.push(c),c=Ae(c);for(c=0;c<l.length;c++)Re(l[c],"bubbled",u);for(c=s.length;0<c--;)Re(s[c],"captured",r);return n===Hr?(Hr=null,[u]):(Hr=n,[u,r])}};var Zr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Jr=Object.prototype.hasOwnProperty;function Qr(t,e){if(Zr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Jr.call(e,n[r])||!Zr(t[n[r]],e[n[r]]))return!1;return!0}var $r=$&&"documentMode"in document&&11>=document.documentMode,ti={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ei=null,ni=null,ri=null,ii=!1;function oi(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return ii||null==ei||ei!==zn(n)?null:("selectionStart"in(n=ei)&&Xn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ri&&Qr(ri,n)?null:(ri=n,(t=De.getPooled(ti.select,ni,t,e)).type="select",t.target=ei,ke(t),t))}var ai={eventTypes:ti,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=In(o),i=d.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break t}o=!0}i=!o}if(i)return null;switch(o=e?cr(e):window,t){case"focus":(Rr(o)||"true"===o.contentEditable)&&(ei=o,ni=e,ri=null);break;case"blur":ri=ni=ei=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":return ii=!1,oi(n,r);case"selectionchange":if($r)break;case"keydown":case"keyup":return oi(n,r)}return null}};R.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=hr,S=lr,x=cr,R.injectEventPluginsByName({SimpleEventPlugin:vn,EnterLeaveEventPlugin:Xr,ChangeEventPlugin:Yr,SelectEventPlugin:ai,BeforeInputEventPlugin:Lr}),new Set;var si=[],ui=-1;function li(t){0>ui||(t.current=si[ui],si[ui]=null,ui--)}function ci(t,e){ui++,si[ui]=t.current,t.current=e}var hi={},fi={current:hi},pi={current:!1},di=hi;function gi(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(t){li(pi),li(fi)}function vi(t){li(pi),li(fi)}function bi(t,e,n){if(fi.current!==hi)throw Error(a(168));ci(fi,e),ci(pi,n)}function Ei(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,J(e)||"Unknown",o));return i({},n,{},r)}function _i(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||hi,di=fi.current,ci(fi,e),ci(pi,pi.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(e=Ei(t,e,di),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(fi),ci(fi,e)):li(pi),ci(pi,n)}var Si=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ai=o.unstable_now,Li=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,ki=o.unstable_LowPriority,Ii=o.unstable_IdlePriority,Ni={},Di=void 0!==Ci?Ci:function(){},ji=null,Fi=null,Vi=!1,Bi=Ai(),Ui=1e4>Bi?Ai:function(){return Ai()-Bi};function Gi(){switch(Li()){case Pi:return 99;case Ri:return 98;case Mi:return 97;case ki:return 96;case Ii:return 95;default:throw Error(a(332))}}function Wi(t){switch(t){case 99:return Pi;case 98:return Ri;case 97:return Mi;case 96:return ki;case 95:return Ii;default:throw Error(a(332))}}function Ki(t,e){return t=Wi(t),Si(t,e)}function zi(t,e,n){return t=Wi(t),xi(t,e,n)}function Hi(t){return null===ji?(ji=[t],Fi=xi(Pi,qi)):ji.push(t),Ni}function Yi(){if(null!==Fi){var t=Fi;Fi=null,Ti(t)}qi()}function qi(){if(!Vi&&null!==ji){Vi=!0;var t=0;try{var e=ji;Ki(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(t+1)),xi(Pi,Yi),n}finally{Vi=!1}}}var Xi=3;function Zi(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Ji(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Qi={current:null},$i=null,to=null,eo=null;function no(){eo=to=$i=null}function ro(t,e){var n=t.type._context;ci(Qi,n._currentValue),n._currentValue=e}function io(t){var e=Qi.current;li(Qi),t.type._context._currentValue=e}function oo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ao(t,e){$i=t,eo=to=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ua=!0),t.firstContext=null)}function so(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===$i)throw Error(a(308));to=e,$i.dependencies={expirationTime:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var uo=!1;function lo(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function co(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ho(t,e){return{expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function fo(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function po(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=lo(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=lo(t.memoizedState),i=n.updateQueue=lo(n.memoizedState)):r=t.updateQueue=co(i):null===i&&(i=n.updateQueue=co(r));null===i||r===i?fo(r,e):null===r.lastUpdate||null===i.lastUpdate?(fo(r,e),fo(i,e)):(fo(r,e),i.lastUpdate=e)}function go(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=lo(t.memoizedState):mo(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function mo(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=co(e)),e}function yo(t,e,n,r,o,a){switch(n.tag){case 1:return"function"===typeof(t=n.payload)?t.call(a,r,o):t;case 3:t.effectTag=-4097&t.effectTag|64;case 0:if(null===(o="function"===typeof(t=n.payload)?t.call(a,r,o):t)||void 0===o)break;return i({},r,o);case 2:uo=!0}return r}function vo(t,e,n,r,i){uo=!1;for(var o=(e=mo(t,e)).baseState,a=null,s=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c<i?(null===a&&(a=u,o=l),s<c&&(s=c)):(hu(c,u.suspenseConfig),l=yo(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h<i?(null===c&&(c=u,null===a&&(o=l)),s<h&&(s=h)):(l=yo(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=l),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,fu(s),t.expirationTime=s,t.memoizedState=l}function bo(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),Eo(e.firstEffect,n),e.firstEffect=e.lastEffect=null,Eo(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function Eo(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;if("function"!==typeof n)throw Error(a(191,n));n.call(r)}t=t.nextEffect}}var _o=k.ReactCurrentBatchConfig,wo=(new r.Component).refs;function So(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var xo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&ee(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Qs(),i=_o.suspense;(i=ho(r=$s(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),po(t,i),tu(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Qs(),i=_o.suspense;(i=ho(r=$s(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),po(t,i),tu(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Qs(),r=_o.suspense;(r=ho(n=$s(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),po(t,r),tu(t,n)}};function To(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Qr(n,r)||!Qr(i,o))}function Oo(t,e,n){var r=!1,i=hi,o=e.contextType;return"object"===typeof o&&null!==o?o=so(o):(i=mi(e)?di:fi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?gi(t,i):hi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=xo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Co(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xo.enqueueReplaceState(e,e.state,null)}function Ao(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=wo;var o=e.contextType;"object"===typeof o&&null!==o?i.context=so(o):(o=mi(e)?di:fi.current,i.context=gi(t,o)),null!==(o=t.updateQueue)&&(vo(t,o,n,i,r),i.state=t.memoizedState),"function"===typeof(o=e.getDerivedStateFromProps)&&(So(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&xo.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(vo(t,o,n,i,r),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var Lo=Array.isArray;function Po(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===wo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Ro(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Mo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Mu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Nu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Po(t,e,n),r.return=t,r):((r=ku(n.type,n.key,n.props,null,t.mode,r)).ref=Po(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Du(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Iu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Nu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case D:return(n=ku(e.type,e.key,e.props,null,t.mode,n)).ref=Po(t,null,e),n.return=t,n;case j:return(e=Du(e,t.mode,n)).return=t,e}if(Lo(e)||Z(e))return(e=Iu(e,t.mode,n,null)).return=t,e;Ro(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case D:return n.key===i?n.type===F?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case j:return n.key===i?c(t,e,n,r):null}if(Lo(n)||Z(n))return null!==i?null:h(t,e,n,r,null);Ro(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case D:return t=t.get(null===r.key?n:r.key)||null,r.type===F?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case j:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Lo(r)||Z(r))return h(e,t=t.get(n)||null,r,i,null);Ro(e,r)}return null}function g(i,a,s,u){for(var l=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=p(i,h,s[g],u);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(i,h),a=o(y,a,g),null===c?l=y:c.sibling=y,c=y,h=m}if(g===s.length)return n(i,h),l;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(a=o(h,a,g),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);g<s.length;g++)null!==(m=d(h,i,g,s[g],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(i,t)})),l}function m(i,s,u,l){var c=Z(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,g=s,m=s=0,y=null,v=u.next();null!==g&&!v.done;m++,v=u.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=p(i,g,v.value,l);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&e(i,g),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),c;if(null===g){for(;!v.done;m++,v=u.next())null!==(v=f(i,v.value,l))&&(s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return c}for(g=r(i,g);!v.done;m++,v=u.next())null!==(v=d(g,i,m,v.value,l))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===F&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case D:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?o.type===F:l.elementType===o.type){n(t,l.sibling),(r=i(l,o.type===F?o.props.children:o.props)).ref=Po(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===F?((r=Iu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=ku(o.type,o.key,o.props,null,t.mode,u)).ref=Po(t,r,o),u.return=t,t=u)}return s(t);case j:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Du(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Nu(o,t.mode,u)).return=t,t=r),s(t);if(Lo(o))return g(t,r,o,u);if(Z(o))return m(t,r,o,u);if(c&&Ro(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var ko=Mo(!0),Io=Mo(!1),No={},Do={current:No},jo={current:No},Fo={current:No};function Vo(t){if(t===No)throw Error(a(174));return t}function Bo(t,e){ci(Fo,e),ci(jo,t),ci(Do,No);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ut(null,"");break;default:e=Ut(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}li(Do),ci(Do,e)}function Uo(t){li(Do),li(jo),li(Fo)}function Go(t){Vo(Fo.current);var e=Vo(Do.current),n=Ut(e,t.type);e!==n&&(ci(jo,t),ci(Do,n))}function Wo(t){jo.current===t&&(li(Do),li(jo))}var Ko={current:0};function zo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ho(t,e){return{responder:t,props:e}}var Yo=k.ReactCurrentDispatcher,qo=k.ReactCurrentBatchConfig,Xo=0,Zo=null,Jo=null,Qo=null,$o=null,ta=null,ea=null,na=0,ra=null,ia=0,oa=!1,aa=null,sa=0;function ua(){throw Error(a(321))}function la(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zr(t[n],e[n]))return!1;return!0}function ca(t,e,n,r,i,o){if(Xo=o,Zo=e,Qo=null!==t?t.memoizedState:null,Yo.current=null===Qo?La:Pa,e=n(r,i),oa){do{oa=!1,sa+=1,Qo=null!==t?t.memoizedState:null,ea=$o,ra=ta=Jo=null,Yo.current=Pa,e=n(r,i)}while(oa);aa=null,sa=0}if(Yo.current=Aa,(t=Zo).memoizedState=$o,t.expirationTime=na,t.updateQueue=ra,t.effectTag|=ia,t=null!==Jo&&null!==Jo.next,Xo=0,ea=ta=$o=Qo=Jo=Zo=null,na=0,ra=null,ia=0,t)throw Error(a(300));return e}function ha(){Yo.current=Aa,Xo=0,ea=ta=$o=Qo=Jo=Zo=null,na=0,ra=null,ia=0,oa=!1,aa=null,sa=0}function fa(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ta?$o=ta=t:ta=ta.next=t,ta}function pa(){if(null!==ea)ea=(ta=ea).next,Qo=null!==(Jo=Qo)?Jo.next:null;else{if(null===Qo)throw Error(a(310));var t={memoizedState:(Jo=Qo).memoizedState,baseState:Jo.baseState,queue:Jo.queue,baseUpdate:Jo.baseUpdate,next:null};ta=null===ta?$o=t:ta.next=t,Qo=Jo.next}return ta}function da(t,e){return"function"===typeof e?e(t):e}function ga(t){var e=pa(),n=e.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=t,0<sa){var r=n.dispatch;if(null!==aa){var i=aa.get(n);if(void 0!==i){aa.delete(n);var o=e.memoizedState;do{o=t(o,i.action),i=i.next}while(null!==i);return Zr(o,e.memoizedState)||(Ua=!0),e.memoizedState=o,e.baseUpdate===n.last&&(e.baseState=o),n.lastRenderedState=o,[o,r]}}return[e.memoizedState,r]}r=n.last;var s=e.baseUpdate;if(o=e.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,l=r,c=!1;do{var h=l.expirationTime;h<Xo?(c||(c=!0,u=s,i=o),h>na&&fu(na=h)):(hu(h,l.suspenseConfig),o=l.eagerReducer===t?l.eagerState:t(o,l.action)),s=l,l=l.next}while(null!==l&&l!==r);c||(u=s,i=o),Zr(o,e.memoizedState)||(Ua=!0),e.memoizedState=o,e.baseUpdate=u,e.baseState=i,n.lastRenderedState=o}return[e.memoizedState,n.dispatch]}function ma(t){var e=fa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:da,lastRenderedState:t}).dispatch=Ca.bind(null,Zo,t),[e.memoizedState,t]}function ya(t){return ga(da)}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===ra?(ra={lastEffect:null}).lastEffect=t.next=t:null===(e=ra.lastEffect)?ra.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,ra.lastEffect=t),t}function ba(t,e,n,r){var i=fa();ia|=t,i.memoizedState=va(e,n,void 0,void 0===r?null:r)}function Ea(t,e,n,r){var i=pa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&la(r,a.deps))return void va(0,n,o,r)}ia|=t,i.memoizedState=va(e,n,o,r)}function _a(t,e){return ba(516,192,t,e)}function wa(t,e){return Ea(516,192,t,e)}function Sa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function xa(){}function Ta(t,e){return fa().memoizedState=[t,void 0===e?null:e],t}function Oa(t,e){var n=pa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&la(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ca(t,e,n){if(!(25>sa))throw Error(a(301));var r=t.alternate;if(t===Zo||null!==r&&r===Zo)if(oa=!0,t={expirationTime:Xo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===aa&&(aa=new Map),void 0===(n=aa.get(e)))aa.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{var i=Qs(),o=_o.suspense;o={expirationTime:i=$s(i,t,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=e.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(e.last=o,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.lastRenderedReducer))try{var l=e.lastRenderedState,c=r(l,n);if(o.eagerReducer=r,o.eagerState=c,Zr(c,l))return}catch(h){}tu(t,i)}}var Aa={readContext:so,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useResponder:ua,useDeferredValue:ua,useTransition:ua},La={readContext:so,useCallback:Ta,useContext:so,useEffect:_a,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ba(4,36,Sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ba(4,36,t,e)},useMemo:function(t,e){var n=fa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ca.bind(null,Zo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},fa().memoizedState=t},useState:ma,useDebugValue:xa,useResponder:Ho,useDeferredValue:function(t,e){var n=ma(t),r=n[0],i=n[1];return _a((function(){o.unstable_next((function(){var n=qo.suspense;qo.suspense=void 0===e?null:e;try{i(t)}finally{qo.suspense=n}}))}),[t,e]),r},useTransition:function(t){var e=ma(!1),n=e[0],r=e[1];return[Ta((function(e){r(!0),o.unstable_next((function(){var n=qo.suspense;qo.suspense=void 0===t?null:t;try{r(!1),e()}finally{qo.suspense=n}}))}),[t,n]),n]}},Pa={readContext:so,useCallback:Oa,useContext:so,useEffect:wa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ea(4,36,Sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ea(4,36,t,e)},useMemo:function(t,e){var n=pa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&la(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:ga,useRef:function(){return pa().memoizedState},useState:ya,useDebugValue:xa,useResponder:Ho,useDeferredValue:function(t,e){var n=ya(),r=n[0],i=n[1];return wa((function(){o.unstable_next((function(){var n=qo.suspense;qo.suspense=void 0===e?null:e;try{i(t)}finally{qo.suspense=n}}))}),[t,e]),r},useTransition:function(t){var e=ya(),n=e[0],r=e[1];return[Oa((function(e){r(!0),o.unstable_next((function(){var n=qo.suspense;qo.suspense=void 0===t?null:t;try{r(!1),e()}finally{qo.suspense=n}}))}),[t,n]),n]}},Ra=null,Ma=null,ka=!1;function Ia(t,e){var n=Pu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Na(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Da(t){if(ka){var e=Ma;if(e){var n=e;if(!Na(t,e)){if(!(e=nr(n.nextSibling))||!Na(t,e))return t.effectTag=-1025&t.effectTag|2,ka=!1,void(Ra=t);Ia(Ra,n)}Ra=t,Ma=nr(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,ka=!1,Ra=t}}function ja(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ra=t}function Fa(t){if(t!==Ra)return!1;if(!ka)return ja(t),ka=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!$n(e,t.memoizedProps))for(e=Ma;e;)Ia(t,e),e=nr(e.nextSibling);if(ja(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Ma=nr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Ma=null}}else Ma=Ra?nr(t.stateNode.nextSibling):null;return!0}function Va(){Ma=Ra=null,ka=!1}var Ba=k.ReactCurrentOwner,Ua=!1;function Ga(t,e,n,r){e.child=null===t?Io(e,null,n,r):ko(e,t.child,n,r)}function Wa(t,e,n,r,i){n=n.render;var o=e.ref;return ao(e,i),r=ca(t,e,n,r,o,i),null===t||Ua?(e.effectTag|=1,Ga(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),os(t,e,i))}function Ka(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Ru(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=ku(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,za(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Qr)(i,r)&&t.ref===e.ref)?os(t,e,o):(e.effectTag|=1,(t=Mu(a,r)).ref=e.ref,t.return=e,e.child=t)}function za(t,e,n,r,i,o){return null!==t&&Qr(t.memoizedProps,r)&&t.ref===e.ref&&(Ua=!1,i<o)?os(t,e,o):Ya(t,e,n,r,o)}function Ha(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Ya(t,e,n,r,i){var o=mi(n)?di:fi.current;return o=gi(e,o),ao(e,i),n=ca(t,e,n,r,o,i),null===t||Ua?(e.effectTag|=1,Ga(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),os(t,e,i))}function qa(t,e,n,r,i){if(mi(n)){var o=!0;_i(e)}else o=!1;if(ao(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Oo(e,n,r),Ao(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=so(l):l=gi(e,l=mi(n)?di:fi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Co(e,a,r,l),uo=!1;var f=e.memoizedState;u=a.state=f;var p=e.updateQueue;null!==p&&(vo(e,p,r,a,i),u=e.memoizedState),s!==r||f!==u||pi.current||uo?("function"===typeof c&&(So(e,n,c,r),u=e.memoizedState),(s=uo||To(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:Ji(e.type,s),u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=so(l):l=gi(e,l=mi(n)?di:fi.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Co(e,a,r,l),uo=!1,u=e.memoizedState,f=a.state=u,null!==(p=e.updateQueue)&&(vo(e,p,r,a,i),f=e.memoizedState),s!==r||u!==f||pi.current||uo?("function"===typeof c&&(So(e,n,c,r),f=e.memoizedState),(c=uo||To(e,n,s,r,u,f,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Xa(t,e,n,r,o,i)}function Xa(t,e,n,r,i,o){Ha(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&wi(e,n,!1),os(t,e,o);r=e.stateNode,Ba.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,s,o)):Ga(t,e,s,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function Za(t){var e=t.stateNode;e.pendingContext?bi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&bi(0,e.context,!1),Bo(t,e.containerInfo)}var Ja,Qa,$a,ts={dehydrated:null,retryTime:0};function es(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Ko.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Ko,1&a),null===t){if(void 0!==o.fallback&&Da(e),s){if(s=o.fallback,(o=Iu(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Iu(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=ts,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Io(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=Mu(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Mu(i,o,i.expirationTime)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=ts,e.child=n,i}return n=ko(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Iu(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Iu(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=ts,e.child=o,n}return e.memoizedState=null,e.child=ko(e,t,o.children,n)}function ns(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),oo(t.return,e)}function rs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function is(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ga(t,e,r.children,n),0!==(2&(r=Ko.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ns(t,n);else if(19===t.tag)ns(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(Ko,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===zo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===zo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rs(e,!0,n,null,o,e.lastEffect);break;case"together":rs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function os(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&fu(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Mu(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Mu(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function as(t){t.effectTag|=4}function ss(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function us(t){switch(t.tag){case 1:mi(t.type)&&yi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Uo(),vi(),0!==(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Wo(t),null;case 13:return li(Ko),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return li(Ko),null;case 4:return Uo(),null;case 10:return io(t),null;default:return null}}function ls(t,e){return{value:t,source:e,stack:Q(e)}}Ja=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,u,l=e.stateNode;switch(Vo(Do.current),t=null,n){case"input":a=Ot(l,a),r=Ot(l,r),t=[];break;case"option":a=Mt(l,a),r=Mt(l,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=It(l,a),r=It(l,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(l.onclick=Kn)}for(s in Un(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in l=a[s])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(p.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(t||(t=[]),t.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(s,""+c)):"children"===s?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(p.hasOwnProperty(s)?(null!=c&&Wn(o,s),t||l===c||(t=[])):(t=t||[]).push(s,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&as(e)}},$a=function(t,e,n,r){n!==r&&as(e)};var cs="function"===typeof WeakSet?WeakSet:Set;function hs(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=Q(n)),null!==n&&J(n.type),e=e.value,null!==t&&1===t.tag&&J(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function fs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){xu(t,n)}else e.current=null}function ps(t,e){switch(e.tag){case 0:case 11:case 15:ds(2,0,e);break;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Ji(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function ds(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!==(r.tag&t)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!==(r.tag&e)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function gs(t,e,n){switch("function"===typeof Au&&Au(e),e.tag){case 0:case 11:case 14:case 15:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Ki(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){xu(i,o)}}t=t.next}while(t!==r)}))}break;case 1:fs(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){xu(t,n)}}(e,n);break;case 5:fs(e);break;case 4:bs(t,e,n)}}function ms(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,null!==e&&ms(e)}function ys(t){return 5===t.tag||3===t.tag||4===t.tag}function vs(t){t:{for(var e=t.return;null!==e;){if(ys(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Kt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=e).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else e.insertBefore(s,n);else r?(8===(u=e).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!==(u=u._reactRootContainer)&&void 0!==u||null!==o.onclick||(o.onclick=Kn)):e.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function bs(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var u=t,l=o,c=n,h=l;;)if(gs(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break;for(;null===h.sibling;){if(null===h.return||h.return===l)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(gs(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Es(t,e){switch(e.tag){case 0:case 11:case 14:case 15:ds(4,8,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[ar]=r,"input"===t&&"radio"===r.type&&null!=r.name&&At(n,r),Gn(t,i),e=Gn(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Vn(n,u):"dangerouslySetInnerHTML"===s?Wt(n,u):"children"===s?Kt(n,u):wt(n,s,u,e)}switch(t){case"input":Lt(n,r);break;case"textarea":Dt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?kt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?kt(n,!!r.multiple,r.defaultValue,!0):kt(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===e.stateNode)throw Error(a(162));e.stateNode.nodeValue=e.memoizedProps;break;case 3:(e=e.stateNode).hydrate&&(e.hydrate=!1,Oe(e.containerInfo));break;case 12:break;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Bs=Ui()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=Fn("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break t;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}_s(e);break;case 19:_s(e);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function _s(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new cs),e.forEach((function(e){var r=Ou.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var ws="function"===typeof WeakMap?WeakMap:Map;function Ss(t,e,n){(n=ho(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gs||(Gs=!0,Ws=r),hs(t,e)},n}function xs(t,e,n){(n=ho(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return hs(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),hs(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Ts,Os=Math.ceil,Cs=k.ReactCurrentDispatcher,As=k.ReactCurrentOwner,Ls=0,Ps=null,Rs=null,Ms=0,ks=0,Is=null,Ns=1073741823,Ds=1073741823,js=null,Fs=0,Vs=!1,Bs=0,Us=null,Gs=!1,Ws=null,Ks=null,zs=!1,Hs=null,Ys=90,qs=null,Xs=0,Zs=null,Js=0;function Qs(){return 0!==(48&Ls)?1073741821-(Ui()/10|0):0!==Js?Js:Js=1073741821-(Ui()/10|0)}function $s(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Gi();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(16&Ls))return Ms;if(null!==n)t=Zi(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Zi(t,150,100);break;case 97:case 96:t=Zi(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Ps&&t===Ms&&--t,t}function tu(t,e){if(50<Xs)throw Xs=0,Zs=null,Error(a(185));if(null!==(t=eu(t,e))){var n=Gi();1073741823===e?0!==(8&Ls)&&0===(48&Ls)?ou(t):(ru(t),0===Ls&&Yi()):ru(t),0===(4&Ls)||98!==n&&99!==n||(null===qs?qs=new Map([[t,e]]):(void 0===(n=qs.get(t))||n>e)&&qs.set(t,e))}}function eu(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ps===i&&(fu(e),4===ks&&Vu(i,Ms)),Bu(i,e)),i}function nu(t){var e=t.lastExpiredTime;return 0!==e?e:Fu(t,e=t.firstPendingTime)?(e=t.lastPingedTime)>(t=t.nextKnownPendingLevel)?e:t:e}function ru(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Hi(ou.bind(null,t));else{var e=nu(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Qs();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Ni&&Ti(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Hi(ou.bind(null,t)):zi(r,iu.bind(null,t),{timeout:10*(1073741821-e)-Ui()}),t.callbackNode=e}}}function iu(t,e){if(Js=0,e)return Uu(t,e=Qs()),ru(t),null;var n=nu(t);if(0!==n){if(e=t.callbackNode,0!==(48&Ls))throw Error(a(327));if(_u(),t===Ps&&n===Ms||uu(t,n),null!==Rs){var r=Ls;Ls|=16;for(var i=cu();;)try{du();break}catch(u){lu(t,u)}if(no(),Ls=r,Cs.current=i,1===ks)throw e=Is,uu(t,n),Vu(t,n),ru(t),e;if(null===Rs)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=ks,Ps=null,r){case 0:case 1:throw Error(a(345));case 2:Uu(t,2<n?2:n);break;case 3:if(Vu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=yu(i)),1073741823===Ns&&10<(i=Bs+500-Ui())){if(Vs){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,uu(t,n);break}}if(0!==(o=nu(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=tr(vu.bind(null,t),i);break}vu(t);break;case 4:if(Vu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=yu(i)),Vs&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,uu(t,n);break}if(0!==(i=nu(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ds?r=10*(1073741821-Ds)-Ui():1073741823===Ns?r=0:(r=10*(1073741821-Ns)-5e3,0>(r=(i=Ui())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Os(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=tr(vu.bind(null,t),r);break}vu(t);break;case 5:if(1073741823!==Ns&&null!==js){o=Ns;var s=js;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Ui()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Vu(t,n),t.timeoutHandle=tr(vu.bind(null,t),r);break}}vu(t);break;default:throw Error(a(329))}if(ru(t),t.callbackNode===e)return iu.bind(null,t)}}return null}function ou(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,t.finishedExpirationTime===e)vu(t);else{if(0!==(48&Ls))throw Error(a(327));if(_u(),t===Ps&&e===Ms||uu(t,e),null!==Rs){var n=Ls;Ls|=16;for(var r=cu();;)try{pu();break}catch(i){lu(t,i)}if(no(),Ls=n,Cs.current=r,1===ks)throw n=Is,uu(t,e),Vu(t,e),ru(t),n;if(null!==Rs)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ps=null,vu(t),ru(t)}}return null}function au(t,e){var n=Ls;Ls|=1;try{return t(e)}finally{0===(Ls=n)&&Yi()}}function su(t,e){var n=Ls;Ls&=-2,Ls|=8;try{return t(e)}finally{0===(Ls=n)&&Yi()}}function uu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,er(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&yi();break;case 3:Uo(),vi();break;case 5:Wo(r);break;case 4:Uo();break;case 13:case 19:li(Ko);break;case 10:io(r)}n=n.return}Ps=t,Rs=Mu(t.current,null),Ms=e,ks=0,Is=null,Ds=Ns=1073741823,js=null,Fs=0,Vs=!1}function lu(t,e){for(;;){try{if(no(),ha(),null===Rs||null===Rs.return)return ks=1,Is=e,null;t:{var n=t,r=Rs.return,i=Rs,o=e;if(e=Ms,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"===typeof o&&"function"===typeof o.then){var a=o,s=0!==(1&Ko.current),u=r;do{var l;if(l=13===u.tag){var c=u.memoizedState;if(null!==c)l=null!==c.dehydrated;else{var h=u.memoizedProps;l=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(l){var f=u.updateQueue;if(null===f){var p=new Set;p.add(a),u.updateQueue=p}else f.add(a);if(0===(2&u.mode)){if(u.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var d=ho(1073741823,null);d.tag=2,po(i,d)}i.expirationTime=1073741823;break t}o=void 0,i=e;var g=n.pingCache;if(null===g?(g=n.pingCache=new ws,o=new Set,g.set(a,o)):void 0===(o=g.get(a))&&(o=new Set,g.set(a,o)),!o.has(i)){o.add(i);var m=Tu.bind(null,n,a,i);a.then(m,m)}u.effectTag|=4096,u.expirationTime=e;break t}u=u.return}while(null!==u);o=Error((J(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Q(i))}5!==ks&&(ks=2),o=ls(o,i),u=r;do{switch(u.tag){case 3:a=o,u.effectTag|=4096,u.expirationTime=e,go(u,Ss(u,a,e));break t;case 1:a=o;var y=u.type,v=u.stateNode;if(0===(64&u.effectTag)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Ks||!Ks.has(v)))){u.effectTag|=4096,u.expirationTime=e,go(u,xs(u,a,e));break t}}u=u.return}while(null!==u)}Rs=mu(Rs)}catch(b){e=b;continue}break}}function cu(){var t=Cs.current;return Cs.current=Aa,null===t?Aa:t}function hu(t,e){t<Ns&&2<t&&(Ns=t),null!==e&&t<Ds&&2<t&&(Ds=t,js=e)}function fu(t){t>Fs&&(Fs=t)}function pu(){for(;null!==Rs;)Rs=gu(Rs)}function du(){for(;null!==Rs&&!Oi();)Rs=gu(Rs)}function gu(t){var e=Ts(t.alternate,t,Ms);return t.memoizedProps=t.pendingProps,null===e&&(e=mu(t)),As.current=null,e}function mu(t){Rs=t;do{var e=Rs.alternate;if(t=Rs.return,0===(2048&Rs.effectTag)){t:{var n=e,r=Ms,o=(e=Rs).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:mi(e.type)&&yi();break;case 3:Uo(),vi(),(o=e.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&Fa(e)&&as(e);break;case 5:Wo(e),r=Vo(Fo.current);var s=e.type;if(null!==n&&null!=e.stateNode)Qa(n,e,s,o,r),n.ref!==e.ref&&(e.effectTag|=128);else if(o){var u=Vo(Do.current);if(Fa(e)){var l=(o=e).stateNode;n=o.type;var c=o.memoizedProps,h=r;switch(l[or]=o,l[ar]=c,s=void 0,r=l,n){case"iframe":case"object":case"embed":Tn("load",r);break;case"video":case"audio":for(l=0;l<te.length;l++)Tn(te[l],r);break;case"source":Tn("error",r);break;case"img":case"image":case"link":Tn("error",r),Tn("load",r);break;case"form":Tn("reset",r),Tn("submit",r);break;case"details":Tn("toggle",r);break;case"input":Ct(r,c),Tn("invalid",r),Wn(h,"onChange");break;case"select":r._wrapperState={wasMultiple:!!c.multiple},Tn("invalid",r),Wn(h,"onChange");break;case"textarea":Nt(r,c),Tn("invalid",r),Wn(h,"onChange")}for(s in Un(n,c),l=null,c)c.hasOwnProperty(s)&&(u=c[s],"children"===s?"string"===typeof u?r.textContent!==u&&(l=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(l=["children",""+u]):p.hasOwnProperty(s)&&null!=u&&Wn(h,s));switch(n){case"input":xt(r),Pt(r,c,!0);break;case"textarea":xt(r),jt(r);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(r.onclick=Kn)}s=l,o.updateQueue=s,(o=null!==s)&&as(e)}else{n=e,h=s,c=o,l=9===r.nodeType?r:r.ownerDocument,u===Ft&&(u=Bt(h)),u===Ft?"script"===h?((c=l.createElement("div")).innerHTML="<script><\/script>",l=c.removeChild(c.firstChild)):"string"===typeof c.is?l=l.createElement(h,{is:c.is}):(l=l.createElement(h),"select"===h&&(h=l,c.multiple?h.multiple=!0:c.size&&(h.size=c.size))):l=l.createElementNS(u,h),(c=l)[or]=n,c[ar]=o,Ja(c,e),e.stateNode=c;var f=r,d=Gn(h=s,n=o);switch(h){case"iframe":case"object":case"embed":Tn("load",c),r=n;break;case"video":case"audio":for(r=0;r<te.length;r++)Tn(te[r],c);r=n;break;case"source":Tn("error",c),r=n;break;case"img":case"image":case"link":Tn("error",c),Tn("load",c),r=n;break;case"form":Tn("reset",c),Tn("submit",c),r=n;break;case"details":Tn("toggle",c),r=n;break;case"input":Ct(c,n),r=Ot(c,n),Tn("invalid",c),Wn(f,"onChange");break;case"option":r=Mt(c,n);break;case"select":c._wrapperState={wasMultiple:!!n.multiple},r=i({},n,{value:void 0}),Tn("invalid",c),Wn(f,"onChange");break;case"textarea":Nt(c,n),r=It(c,n),Tn("invalid",c),Wn(f,"onChange");break;default:r=n}Un(h,r),l=void 0,u=h;var g=c,m=r;for(l in m)if(m.hasOwnProperty(l)){var y=m[l];"style"===l?Vn(g,y):"dangerouslySetInnerHTML"===l?null!=(y=y?y.__html:void 0)&&Wt(g,y):"children"===l?"string"===typeof y?("textarea"!==u||""!==y)&&Kt(g,y):"number"===typeof y&&Kt(g,""+y):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(p.hasOwnProperty(l)?null!=y&&Wn(f,l):null!=y&&wt(g,l,y,d))}switch(h){case"input":xt(c),Pt(c,n,!1);break;case"textarea":xt(c),jt(c);break;case"option":null!=n.value&&c.setAttribute("value",""+_t(n.value));break;case"select":(r=c).multiple=!!n.multiple,null!=(c=n.value)?kt(r,!!n.multiple,c,!1):null!=n.defaultValue&&kt(r,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(c.onclick=Kn)}(o=Qn(s,o))&&as(e)}null!==e.ref&&(e.effectTag|=128)}else if(null===e.stateNode)throw Error(a(166));break;case 6:if(n&&null!=e.stateNode)$a(0,e,n.memoizedProps,o);else{if("string"!==typeof o&&null===e.stateNode)throw Error(a(166));r=Vo(Fo.current),Vo(Do.current),Fa(e)?(s=(o=e).stateNode,r=o.memoizedProps,s[or]=o,(o=s.nodeValue!==r)&&as(e)):(s=e,(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[or]=s,e.stateNode=o)}break;case 11:break;case 13:if(li(Ko),o=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=r;break t}o=null!==o,s=!1,null===n?void 0!==e.memoizedProps.fallback&&Fa(e):(s=null!==(r=n.memoizedState),o||null===r||null!==(r=n.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=r,r.nextEffect=c):(e.firstEffect=e.lastEffect=r,r.nextEffect=null),r.effectTag=8)),o&&!s&&0!==(2&e.mode)&&(null===n&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Ko.current)?0===ks&&(ks=3):(0!==ks&&3!==ks||(ks=4),0!==Fs&&null!==Ps&&(Vu(Ps,Ms),Bu(Ps,Fs)))),(o||s)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Uo();break;case 10:io(e);break;case 9:case 14:break;case 17:mi(e.type)&&yi();break;case 19:if(li(Ko),null===(o=e.memoizedState))break;if(s=0!==(64&e.effectTag),null===(c=o.rendering)){if(s)ss(o,!1);else if(0!==ks||null!==n&&0!==(64&n.effectTag))for(n=e.child;null!==n;){if(null!==(c=zo(n))){for(e.effectTag|=64,ss(o,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===o.lastEffect&&(e.firstEffect=null),e.lastEffect=o.lastEffect,o=r,s=e.child;null!==s;)n=o,(r=s).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(c=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=c.childExpirationTime,r.expirationTime=c.expirationTime,r.child=c.child,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,n=c.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;ci(Ko,1&Ko.current|2),e=e.child;break t}n=n.sibling}}else{if(!s)if(null!==(n=zo(c))){if(e.effectTag|=64,s=!0,null!==(r=n.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),ss(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate){null!==(e=e.lastEffect=o.lastEffect)&&(e.nextEffect=null);break}}else Ui()>o.tailExpiration&&1<r&&(e.effectTag|=64,s=!0,ss(o,!1),e.expirationTime=e.childExpirationTime=r-1);o.isBackwards?(c.sibling=e.child,e.child=c):(null!==(r=o.last)?r.sibling=c:e.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Ui()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=e.lastEffect,r.sibling=null,o=Ko.current,ci(Ko,o=s?1&o|2:1&o),e=r;break t}break;case 20:case 21:break;default:throw Error(a(156,e.tag))}e=null}if(o=Rs,1===Ms||1!==o.childExpirationTime){for(s=0,r=o.child;null!==r;)(n=r.expirationTime)>s&&(s=n),(c=r.childExpirationTime)>s&&(s=c),r=r.sibling;o.childExpirationTime=s}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Rs.firstEffect),null!==Rs.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Rs.firstEffect),t.lastEffect=Rs.lastEffect),1<Rs.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Rs:t.firstEffect=Rs,t.lastEffect=Rs))}else{if(null!==(e=us(Rs)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Rs.sibling))return e;Rs=t}while(null!==Rs);return 0===ks&&(ks=5),null}function yu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function vu(t){var e=Gi();return Ki(99,bu.bind(null,t,e)),null}function bu(t,e){do{_u()}while(null!==Hs);if(0!==(48&Ls))throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=yu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ps&&(Rs=Ps=null,Ms=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ls;Ls|=32,As.current=null,Zn=xn;var s=qn();if(Xn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{u.nodeType,h.nodeType}catch(N){u=null;break t}var f=0,p=-1,d=-1,g=0,m=0,y=s,v=null;e:for(;;){for(var b;y!==u||0!==c&&3!==y.nodeType||(p=f+c),y!==h||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===s)break e;if(v===u&&++g===c&&(p=f),v===h&&++m===l&&(d=f),null!==(b=y.nextSibling))break;v=(y=v).parentNode}y=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;Jn={focusedElem:s,selectionRange:u},xn=!1,Us=i;do{try{Eu()}catch(N){if(null===Us)throw Error(a(330));xu(Us,N),Us=Us.nextEffect}}while(null!==Us);Us=i;do{try{for(s=t,u=e;null!==Us;){var E=Us.effectTag;if(16&E&&Kt(Us.stateNode,""),128&E){var _=Us.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&E){case 2:vs(Us),Us.effectTag&=-3;break;case 6:vs(Us),Us.effectTag&=-3,Es(Us.alternate,Us);break;case 1024:Us.effectTag&=-1025;break;case 1028:Us.effectTag&=-1025,Es(Us.alternate,Us);break;case 4:Es(Us.alternate,Us);break;case 8:bs(s,c=Us,u),ms(c)}Us=Us.nextEffect}}catch(N){if(null===Us)throw Error(a(330));xu(Us,N),Us=Us.nextEffect}}while(null!==Us);if(w=Jn,_=qn(),E=w.focusedElem,u=w.selectionRange,_!==E&&E&&E.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(E.ownerDocument.documentElement,E)){null!==u&&Xn(E)&&(_=u.start,void 0===(w=u.end)&&(w=_),"selectionStart"in E?(E.selectionStart=_,E.selectionEnd=Math.min(w,E.value.length)):(w=(_=E.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),c=E.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!w.extend&&s>u&&(c=u,u=s,s=c),c=Yn(E,s),h=Yn(E,u),c&&h&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((_=_.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),s>u?(w.addRange(_),w.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),w.addRange(_))))),_=[];for(w=E;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof E.focus&&E.focus(),E=0;E<_.length;E++)(w=_[E]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Jn=null,xn=!!Zn,Zn=null,t.current=n,Us=i;do{try{for(E=r;null!==Us;){var S=Us.effectTag;if(36&S){var x=Us.alternate;switch(w=E,(_=Us).tag){case 0:case 11:case 15:ds(16,32,_);break;case 1:var T=_.stateNode;if(4&_.effectTag)if(null===x)T.componentDidMount();else{var O=_.elementType===_.type?x.memoizedProps:Ji(_.type,x.memoizedProps);T.componentDidUpdate(O,x.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var C=_.updateQueue;null!==C&&bo(0,C,T);break;case 3:var A=_.updateQueue;if(null!==A){if(s=null,null!==_.child)switch(_.child.tag){case 5:s=_.child.stateNode;break;case 1:s=_.child.stateNode}bo(0,A,s)}break;case 5:var L=_.stateNode;null===x&&4&_.effectTag&&Qn(_.type,_.memoizedProps)&&L.focus();break;case 6:case 4:case 12:break;case 13:if(null===_.memoizedState){var P=_.alternate;if(null!==P){var R=P.memoizedState;if(null!==R){var M=R.dehydrated;null!==M&&Oe(M)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&S){_=void 0;var k=Us.ref;if(null!==k){var I=Us.stateNode;switch(Us.tag){case 5:_=I;break;default:_=I}"function"===typeof k?k(_):k.current=_}}Us=Us.nextEffect}}catch(N){if(null===Us)throw Error(a(330));xu(Us,N),Us=Us.nextEffect}}while(null!==Us);Us=null,Di(),Ls=o}else t.current=n;if(zs)zs=!1,Hs=t,Ys=e;else for(Us=i;null!==Us;)e=Us.nextEffect,Us.nextEffect=null,Us=e;if(0===(e=t.firstPendingTime)&&(Ks=null),1073741823===e?t===Zs?Xs++:(Xs=0,Zs=t):Xs=0,"function"===typeof Cu&&Cu(n.stateNode,r),ru(t),Gs)throw Gs=!1,t=Ws,Ws=null,t;return 0!==(8&Ls)||Yi(),null}function Eu(){for(;null!==Us;){var t=Us.effectTag;0!==(256&t)&&ps(Us.alternate,Us),0===(512&t)||zs||(zs=!0,zi(97,(function(){return _u(),null}))),Us=Us.nextEffect}}function _u(){if(90!==Ys){var t=97<Ys?97:Ys;return Ys=90,Ki(t,wu)}}function wu(){if(null===Hs)return!1;var t=Hs;if(Hs=null,0!==(48&Ls))throw Error(a(331));var e=Ls;for(Ls|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:ds(128,0,n),ds(0,64,n)}}catch(r){if(null===t)throw Error(a(330));xu(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Ls=e,Yi(),!0}function Su(t,e,n){po(t,e=Ss(t,e=ls(n,e),1073741823)),null!==(t=eu(t,1073741823))&&ru(t)}function xu(t,e){if(3===t.tag)Su(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Su(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){po(n,t=xs(n,t=ls(e,t),1073741823)),null!==(n=eu(n,1073741823))&&ru(n);break}}n=n.return}}function Tu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Ps===t&&Ms===n?4===ks||3===ks&&1073741823===Ns&&Ui()-Bs<500?uu(t,Ms):Vs=!0:Fu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,t.finishedExpirationTime===n&&(t.finishedExpirationTime=0,t.finishedWork=null),ru(t)))}function Ou(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=$s(e=Qs(),t,null)),null!==(t=eu(t,e))&&ru(t)}Ts=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||pi.current)Ua=!0;else{if(r<n){switch(Ua=!1,e.tag){case 3:Za(e),Va();break;case 5:if(Go(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mi(e.type)&&_i(e);break;case 4:Bo(e,e.stateNode.containerInfo);break;case 10:ro(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?es(t,e,n):(ci(Ko,1&Ko.current),null!==(e=os(t,e,n))?e.sibling:null);ci(Ko,1&Ko.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return is(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),ci(Ko,Ko.current),!r)return null}return os(t,e,n)}Ua=!1}}else Ua=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=gi(e,fi.current),ao(e,n),i=ca(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,ha(),mi(r)){var o=!0;_i(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&So(e,r,s,t),i.updater=xo,e.stateNode=i,i._reactInternalFiber=e,Ao(e,r,t,n),e=Xa(null,e,r,!0,o,n)}else e.tag=0,Ga(null,e,i,n),e=e.child;return e;case 16:if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"===typeof t)return Ru(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===K)return 11;if(t===Y)return 14}return 2}(i),t=Ji(i,t),o){case 0:e=Ya(null,e,i,t,n);break;case 1:e=qa(null,e,i,t,n);break;case 11:e=Wa(null,e,i,t,n);break;case 14:e=Ka(null,e,i,Ji(i.type,t),r,n);break;default:throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ya(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 1:return r=e.type,i=e.pendingProps,qa(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 3:if(Za(e),null===(r=e.updateQueue))throw Error(a(282));if(i=null!==(i=e.memoizedState)?i.element:null,vo(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i)Va(),e=os(t,e,n);else{if((i=e.stateNode.hydrate)&&(Ma=nr(e.stateNode.containerInfo.firstChild),Ra=e,i=ka=!0),i)for(n=Io(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ga(t,e,r,n),Va();e=e.child}return e;case 5:return Go(e),null===t&&Da(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,$n(r,i)?s=null:null!==o&&$n(r,o)&&(e.effectTag|=16),Ha(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ga(t,e,s,n),e=e.child),e;case 6:return null===t&&Da(e),null;case 13:return es(t,e,n);case 4:return Bo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ko(e,null,r,n):Ga(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Wa(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 7:return Ga(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ga(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,ro(e,o=i.value),null!==s){var u=s.value;if(0===(o=Zr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){e=os(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=ho(n,null)).tag=2,po(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),oo(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}Ga(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,ao(e,n),r=r(i=so(i,o.unstable_observedBits)),e.effectTag|=1,Ga(t,e,r,n),e.child;case 14:return o=Ji(i=e.type,e.pendingProps),Ka(t,e,i,o=Ji(i.type,o),r,n);case 15:return za(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mi(r)?(t=!0,_i(e)):t=!1,ao(e,n),Oo(e,r,i),Ao(e,r,i,n),Xa(null,e,r,!0,t,n);case 19:return is(t,e,n)}throw Error(a(156,e.tag))};var Cu=null,Au=null;function Lu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pu(t,e,n,r){return new Lu(t,e,n,r)}function Ru(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Mu(t,e){var n=t.alternate;return null===n?((n=Pu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ku(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Ru(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case F:return Iu(n.children,i,o,e);case W:s=8,i|=7;break;case V:s=8,i|=1;break;case B:return(t=Pu(12,n,e,8|i)).elementType=B,t.type=B,t.expirationTime=o,t;case z:return(t=Pu(13,n,e,i)).type=z,t.elementType=z,t.expirationTime=o,t;case H:return(t=Pu(19,n,e,i)).elementType=H,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case U:s=10;break t;case G:s=9;break t;case K:s=11;break t;case Y:s=14;break t;case q:s=16,r=null;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Pu(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Iu(t,e,n,r){return(t=Pu(7,t,r,e)).expirationTime=n,t}function Nu(t,e,n){return(t=Pu(6,t,null,e)).expirationTime=n,t}function Du(t,e,n){return(e=Pu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ju(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Fu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Vu(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Bu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Uu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Gu(t,e,n,r){var i=e.current,o=Qs(),s=_o.suspense;o=$s(o,i,s);t:if(n){e:{if(ee(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=Ei(n,l,u);break t}}n=u}else n=hi;return null===e.context?e.context=n:e.pendingContext=n,(e=ho(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),po(i,e),tu(i,o),o}function Wu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ku(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function zu(t,e){Ku(t,e),(t=t.alternate)&&Ku(t,e)}function Hu(t,e,n){var r=new ju(t,e,n=null!=n&&!0===n.hydrate),i=Pu(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,t[sr]=r.current,n&&0!==e&&function(t){var e=In(t);me.forEach((function(n){Nn(n,t,e)})),ye.forEach((function(n){Nn(n,t,e)}))}(9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Yu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function qu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Wu(a);s.call(t)}}Gu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Hu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Wu(a);u.call(t)}}su((function(){Gu(e,a,t,i)}))}return Wu(a)}function Xu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Zu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(e))throw Error(a(200));return Xu(t,e,null,n)}Hu.prototype.render=function(t,e){Gu(t,this._internalRoot,null,void 0===e?null:e)},Hu.prototype.unmount=function(t){var e=this._internalRoot,n=void 0===t?null:t,r=e.containerInfo;Gu(null,e,null,(function(){r[sr]=null,null!==n&&n()}))},oe=function(t){if(13===t.tag){var e=Zi(Qs(),150,100);tu(t,e),zu(t,e)}},ae=function(t){if(13===t.tag){Qs();var e=Xi++;tu(t,e),zu(t,e)}},se=function(t){if(13===t.tag){var e=Qs();tu(t,e=$s(e,t,null)),zu(t,e)}},tt=function(t,e,n){switch(e){case"input":if(Lt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hr(r);if(!i)throw Error(a(90));Tt(r),Lt(r,i)}}}break;case"textarea":Dt(t,n);break;case"select":null!=(e=n.value)&&kt(t,!!n.multiple,e,!1)}},at=au,st=function(t,e,n,r){var i=Ls;Ls|=4;try{return Ki(98,t.bind(null,e,n,r))}finally{0===(Ls=i)&&Yi()}},ut=function(){0===(49&Ls)&&(function(){if(null!==qs){var t=qs;qs=null,t.forEach((function(t,e){Uu(e,t),ru(e)})),Yi()}}(),_u())},lt=function(t,e){var n=Ls;Ls|=2;try{return t(e)}finally{0===(Ls=n)&&Yi()}};var Ju={createPortal:Zu,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},hydrate:function(t,e,n){if(!Yu(e))throw Error(a(200));return qu(null,t,e,!0,n)},render:function(t,e,n){if(!Yu(e))throw Error(a(200));return qu(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){if(!Yu(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return qu(t,e,n,!1,r)},unmountComponentAtNode:function(t){if(!Yu(t))throw Error(a(40));return!!t._reactRootContainer&&(su((function(){qu(null,null,t,!1,(function(){t._reactRootContainer=null,t[sr]=null}))})),!0)},unstable_createPortal:function(){return Zu.apply(void 0,arguments)},unstable_batchedUpdates:au,flushSync:function(t,e){if(0!==(48&Ls))throw Error(a(187));var n=Ls;Ls|=1;try{return Ki(99,t.bind(null,e))}finally{Ls=n,Yi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[lr,cr,hr,R.injectEventPluginsByName,f,ke,function(t){C(t,Me)},it,ot,Pn,P,_u,{current:!1}]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Cu=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},Au=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:ur,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var Qu={default:Ju},$u=Qu&&Ju||Qu;t.exports=$u.default||$u},function(t,e,n){"use strict";t.exports=n(286)},function(t,e,n){"use strict";var r,i,o,a,s;if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(c,0))},i=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)e.unstable_now=function(){return f.now()};else{var y=p.now();e.unstable_now=function(){return p.now()-y}}var v=!1,b=null,E=-1,_=5,w=0;a=function(){return e.unstable_now()>=w},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,x=S.port2;S.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();w=t+_;try{b(!0,t)?x.postMessage(null):(v=!1,b=null)}catch(n){throw x.postMessage(null),n}}else v=!1},r=function(t){b=t,v||(v=!0,x.postMessage(null))},i=function(t,n){E=d((function(){t(e.unstable_now())}),n)},o=function(){g(E),E=-1}}function T(t,e){var n=t.length;t.push(e);t:for(;;){var r=Math.floor((n-1)/2),i=t[r];if(!(void 0!==i&&0<A(i,e)))break t;t[r]=e,t[n]=i,n=r}}function O(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>A(a,n))void 0!==u&&0>A(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>A(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function A(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var L=[],P=[],R=1,M=null,k=3,I=!1,N=!1,D=!1;function j(t){for(var e=O(P);null!==e;){if(null===e.callback)C(P);else{if(!(e.startTime<=t))break;C(P),e.sortIndex=e.expirationTime,T(L,e)}e=O(P)}}function F(t){if(D=!1,j(t),!N)if(null!==O(L))N=!0,r(V);else{var e=O(P);null!==e&&i(F,e.startTime-t)}}function V(t,n){N=!1,D&&(D=!1,o()),I=!0;var r=k;try{for(j(n),M=O(L);null!==M&&(!(M.expirationTime>n)||t&&!a());){var s=M.callback;if(null!==s){M.callback=null,k=M.priorityLevel;var u=s(M.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?M.callback=u:M===O(L)&&C(L),j(n)}else C(L);M=O(L)}if(null!==M)var l=!0;else{var c=O(P);null!==c&&i(F,c.startTime-n),l=!1}return l}finally{M=null,k=r,I=!1}}function B(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=k;k=t;try{return e()}finally{k=n}},e.unstable_next=function(t){switch(k){case 1:case 2:case 3:var e=3;break;default:e=k}var n=k;k=e;try{return t()}finally{k=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:B(t)}else a=B(t),u=s;return t={id:R++,callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(t.sortIndex=u,T(P,t),null===O(L)&&t===O(P)&&(D?o():D=!0,i(F,u-s))):(t.sortIndex=a,T(L,t),N||I||(N=!0,r(V))),t},e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_wrapCallback=function(t){var e=k;return function(){var n=k;k=e;try{return t.apply(this,arguments)}finally{k=n}}},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_shouldYield=function(){var t=e.unstable_now();j(t);var n=O(L);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<M.expirationTime||a()},e.unstable_requestPaint=U,e.unstable_continueExecution=function(){N||I||(N=!0,r(V))},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return O(L)},e.unstable_Profiling=null},function(t,e,n){(function(e){(function(){var n,r,i,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,o=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(78))},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}e.default=t}(n(1));var r=s(n(289)),i=s(n(292)),o=s(n(0)),a=s(n(109));n(111);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var l=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,r.default)(t,e)}))},c=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,i.default)(t,e)}))},h=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).onEnter=function(t,n){var r=e.getClassNames(n?"appear":"enter").className;e.removeClasses(t,"exit"),l(t,r),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.getClassNames(n?"appear":"enter").activeClassName;e.reflowAndAddClass(t,r),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.getClassNames("appear").doneClassName,i=e.getClassNames("enter").doneClassName,o=n?r+" "+i:i;e.removeClasses(t,n?"appear":"enter"),l(t,o),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.getClassNames("exit").className;e.removeClasses(t,"appear"),e.removeClasses(t,"enter"),l(t,n),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.getClassNames("exit").activeClassName;e.reflowAndAddClass(t,n),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.getClassNames("exit").doneClassName;e.removeClasses(t,"exit"),l(t,n),e.props.onExited&&e.props.onExited(t)},e.getClassNames=function(t){var n=e.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+t:n[t];return{className:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.removeClasses=function(t,e){var n=this.getClassNames(e),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&c(t,r),i&&c(t,i),o&&c(t,o)},i.reflowAndAddClass=function(t,e){e&&(t&&t.scrollTop,l(t,e))},i.render=function(){var t=u({},this.props);return delete t.classNames,o.default.createElement(a.default,u({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);h.defaultProps={classNames:""},h.propTypes={};var f=h;e.default=f,t.exports=e.default},function(t,e,n){"use strict";var r=n(290);e.__esModule=!0,e.default=function(t,e){t.classList?t.classList.add(e):(0,i.default)(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var i=r(n(291));t.exports=e.default},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;a(n(1));var r=a(n(0)),i=n(22),o=a(n(112));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e,n;function a(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handleEnter=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEnter",0,n)},e.handleEntering=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntering",0,n)},e.handleEntered=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntered",0,n)},e.handleExit=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExit",1,n)},e.handleExiting=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExiting",1,n)},e.handleExited=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExited",1,n)},e}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(t,e,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[e];s.props[t]&&(o=s.props)[t].apply(o,n),this.props[t]&&this.props[t]((0,i.findDOMNode)(this))},s.render=function(){var t=this.props,e=t.children,n=t.in,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["children","in"]),a=r.default.Children.toArray(e),s=a[0],u=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var u=s;e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=i,e.mergeChildMappings=o,e.getInitialChildMapping=function(t,e){return i(t.children,(function(n){return(0,r.cloneElement)(n,{onExited:e.bind(null,n),in:!0,appear:a(n,"appear",t),enter:a(n,"enter",t),exit:a(n,"exit",t)})}))},e.getNextChildMapping=function(t,e,n){var s=i(t.children),u=o(e,s);return Object.keys(u).forEach((function(i){var o=u[i];if((0,r.isValidElement)(o)){var l=i in e,c=i in s,h=e[i],f=(0,r.isValidElement)(h)&&!h.props.in;!c||l&&!f?c||!l||f?c&&l&&(0,r.isValidElement)(h)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:h.props.in,exit:a(o,"exit",t),enter:a(o,"enter",t)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",t),enter:a(o,"enter",t)})}})),u};var r=n(0);function i(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function o(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];s[i[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(t,e,n){return null!=n[e]?n[e]:t.props[e]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),l=(r=u)&&r.__esModule?r:{default:r},c=n(1),h=n(81),f=(0,c.shape)({make:c.func,duration:c.number.isRequired,delay:c.number.isRequired,forever:c.bool,count:c.number.isRequired,style:c.object.isRequired,reverse:c.bool}),p={collapse:c.bool,collapseEl:c.element,cascade:c.bool,wait:c.number,force:c.bool,disabled:c.bool,appear:c.bool,enter:c.bool,exit:c.bool,fraction:c.number,refProp:c.string,innerRef:c.func,onReveal:c.func,unmountOnExit:c.bool,mountOnEnter:c.bool,inEffect:f.isRequired,outEffect:(0,c.oneOfType)([f,(0,c.oneOf)([!1])]).isRequired,ssrReveal:c.bool,collapseOnly:c.bool,ssrFadeout:c.bool},d={transitionGroup:c.object},g=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.isOn=void 0===t.when||!!t.when,r.state={collapse:t.collapse?e.getInitialCollapseStyle(t):void 0,style:{opacity:r.isOn&&!t.ssrReveal||!t.outEffect?void 0:0}},r.savedChild=!1,r.isShown=!1,h.observerMode?r.handleObserve=r.handleObserve.bind(r):(r.revealHandler=r.makeHandler(r.reveal),r.resizeHandler=r.makeHandler(r.resize)),r.saveRef=r.saveRef.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),s(e,[{key:"saveRef",value:function(t){this.childRef&&this.childRef(t),this.props.innerRef&&this.props.innerRef(t),this.el!==t&&(this.el=t&&"offsetHeight"in t?t:void 0,this.observe(this.props,!0))}},{key:"invisible",value:function(){this&&this.el&&(this.savedChild=!1,this.isShown||(this.setState({hasExited:!0,collapse:this.props.collapse?a({},this.state.collapse,{visibility:"hidden"}):null,style:{opacity:0}}),!h.observerMode&&this.props.collapse&&window.document.dispatchEvent(h.collapseend)))}},{key:"animationEnd",value:function(t,e,n){var r=this,i=n.forever,o=n.count,a=n.delay,s=n.duration;if(!i){this.animationEndTimeout=window.setTimeout((function(){r&&r.el&&(r.animationEndTimeout=void 0,t.call(r))}),a+(s+(e?s:0)*o))}}},{key:"getDimensionValue",value:function(){return this.el.offsetHeight+parseInt(window.getComputedStyle(this.el,null).getPropertyValue("margin-top"),10)+parseInt(window.getComputedStyle(this.el,null).getPropertyValue("margin-bottom"),10)}},{key:"collapse",value:function(t,e,n){var r=n.duration+(e.cascade?n.duration:0),i=this.isOn?this.getDimensionValue():0,o=void 0,a=void 0;if(e.collapseOnly)o=n.duration/3,a=n.delay;else{var s=r>>2,u=s>>1;o=s,a=n.delay+(this.isOn?0:r-s-u),t.style.animationDuration=r-s+(this.isOn?u:-u)+"ms",t.style.animationDelay=n.delay+(this.isOn?s-u:0)+"ms"}return t.collapse={height:i,transition:"height "+o+"ms ease "+a+"ms",overflow:e.collapseOnly?"hidden":void 0},t}},{key:"animate",value:function(t){if(this&&this.el&&(this.unlisten(),this.isShown!==this.isOn)){this.isShown=this.isOn;var e=!this.isOn&&t.outEffect,n=t[e?"outEffect":"inEffect"],r="style"in n&&n.style.animationName||void 0,i=void 0;t.collapseOnly?i={hasAppeared:!0,hasExited:!1,style:{opacity:1}}:((t.outEffect||this.isOn)&&n.make&&(r=n.make),i={hasAppeared:!0,hasExited:!1,collapse:void 0,style:a({},n.style,{animationDuration:n.duration+"ms",animationDelay:n.delay+"ms",animationIterationCount:n.forever?"infinite":n.count,opacity:1,animationName:r}),className:n.className}),this.setState(t.collapse?this.collapse(i,t,n):i),e?(this.savedChild=l.default.cloneElement(this.getChild()),this.animationEnd(this.invisible,t.cascade,n)):this.savedChild=!1,this.onReveal(t)}}},{key:"onReveal",value:function(t){t.onReveal&&this.isOn&&(this.onRevealTimeout&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)),t.wait?this.onRevealTimeout=window.setTimeout(t.onReveal,t.wait):t.onReveal())}},{key:"componentWillUnmount",value:function(){this.unlisten(),h.ssr&&(0,h.disableSsr)()}},{key:"handleObserve",value:function(t,e){o(t,1)[0].intersectionRatio>0&&(e.disconnect(),this.observer=null,this.reveal(this.props,!0))}},{key:"observe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.el&&h.observerMode){if(this.observer){if(!e)return;this.observer.disconnect()}else if(e)return;this.observer=new IntersectionObserver(this.handleObserve,{threshold:t.fraction}),this.observer.observe(this.el)}}},{key:"reveal",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];h.globalHide||(0,h.hideAll)(),this&&this.el&&(t||(t=this.props),h.ssr&&(0,h.disableSsr)(),this.isOn&&this.isShown&&void 0!==t.spy?(this.isShown=!1,this.setState({style:{}}),window.setTimeout((function(){return e.reveal(t)}),200)):n||this.inViewport(t)||t.force?this.animate(t):h.observerMode?this.observe(t):this.listen())}},{key:"componentDidMount",value:function(){var t=this;if(this.el&&!this.props.disabled){this.props.collapseOnly||("make"in this.props.inEffect&&this.props.inEffect.make(!1,this.props),void 0!==this.props.when&&this.props.outEffect&&"make"in this.props.outEffect&&this.props.outEffect.make(!0,this.props));var n=this.context.transitionGroup,r=n&&!n.isMounting?!("enter"in this.props&&!1===this.props.enter):this.props.appear;return this.isOn&&((void 0!==this.props.when||void 0!==this.props.spy)&&!r||h.ssr&&!h.fadeOutEnabled&&!this.props.ssrFadeout&&this.props.outEffect&&!this.props.ssrReveal&&e.getTop(this.el)<window.pageYOffset+window.innerHeight)?(this.isShown=!0,this.setState({hasAppeared:!0,collapse:this.props.collapse?{height:this.getDimensionValue()}:this.state.collapse,style:{opacity:1}}),void this.onReveal(this.props)):h.ssr&&(h.fadeOutEnabled||this.props.ssrFadeout)&&this.props.outEffect&&e.getTop(this.el)<window.pageYOffset+window.innerHeight?(this.setState({style:{opacity:0,transition:"opacity 1000ms 1000ms"}}),void window.setTimeout((function(){return t.reveal(t.props,!0)}),2e3)):void(this.isOn&&(this.props.force?this.animate(this.props):this.reveal(this.props)))}}},{key:"cascade",value:function(t){var e=this,n=void 0;n="string"==typeof t?t.split("").map((function(t,e){return l.default.createElement("span",{key:e,style:{display:"inline-block",whiteSpace:"pre"}},t)})):l.default.Children.toArray(t);var r=this.props[this.isOn||!this.props.outEffect?"inEffect":"outEffect"],o=r.duration,s=r.reverse,u=n.length,c=2*o;this.props.collapse&&(c=parseInt(this.state.style.animationDuration,10),o=c/2);var f=s?u:0;return n.map((function(t){return"object"===(void 0===t?"undefined":i(t))&&t?l.default.cloneElement(t,{style:a({},t.props.style,e.state.style,{animationDuration:Math.round((0,h.cascade)(s?f--:f++,0,u,o,c))+"ms"})}):t}))}},{key:"componentWillReceiveProps",value:function(t){void 0!==t.when&&(this.isOn=!!t.when),t.fraction!==this.props.fraction&&this.observe(t,!0),!this.isOn&&t.onExited&&"exit"in t&&!1===t.exit?t.onExited():t.disabled||(t.collapse&&!this.props.collapse&&(this.setState({style:{},collapse:e.getInitialCollapseStyle(t)}),this.isShown=!1),t.when===this.props.when&&t.spy===this.props.spy||this.reveal(t),this.onRevealTimeout&&!this.isOn&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)))}},{key:"getChild",value:function(){if(this.savedChild&&!this.props.disabled)return this.savedChild;if("object"===i(this.props.children)){var t=l.default.Children.only(this.props.children);return"type"in t&&"string"==typeof t.type||"ref"!==this.props.refProp?t:l.default.createElement("div",null,t)}return l.default.createElement("div",null,this.props.children)}},{key:"render",value:function(){var t;t=this.state.hasAppeared?!this.props.unmountOnExit||!this.state.hasExited||this.isOn:!this.props.mountOnEnter||this.isOn;var e=this.getChild();"function"==typeof e.ref&&(this.childRef=e.ref);var n=!1,r=e.props,i=r.style,o=r.className,s=r.children,u=this.props.disabled?o:(this.props.outEffect?h.namespace:"")+(this.state.className?" "+this.state.className:"")+(o?" "+o:"")||void 0,c=void 0;"function"==typeof this.state.style.animationName&&(this.state.style.animationName=this.state.style.animationName(!this.isOn,this.props)),this.props.cascade&&!this.props.disabled&&s&&this.state.style.animationName?(n=this.cascade(s),c=a({},i,{opacity:1})):c=this.props.disabled?i:a({},i,this.state.style);var f=a({},this.props.props,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({className:u,style:c},this.props.refProp,this.saveRef)),p=l.default.cloneElement(e,f,t?n||s:void 0);return void 0!==this.props.collapse?this.props.collapseEl?l.default.cloneElement(this.props.collapseEl,{style:a({},this.props.collapseEl.style,this.props.disabled?void 0:this.state.collapse),children:p}):l.default.createElement("div",{style:this.props.disabled?void 0:this.state.collapse,children:p}):p}},{key:"makeHandler",value:function(t){var e=this,n=function(){t.call(e,e.props),e.ticking=!1};return function(){e.ticking||((0,h.raf)(n),e.ticking=!0)}}},{key:"inViewport",value:function(t){if(!this.el||window.document.hidden)return!1;var n=this.el.offsetHeight,r=window.pageYOffset-e.getTop(this.el),i=Math.min(n,window.innerHeight)*(h.globalHide?t.fraction:0);return r>i-window.innerHeight&&r<n-i}},{key:"resize",value:function(t){this&&this.el&&this.isOn&&this.inViewport(t)&&(this.unlisten(),this.isShown=this.isOn,this.setState({hasExited:!this.isOn,hasAppeared:!0,collapse:void 0,style:{opacity:this.isOn||!t.outEffect?1:0}}),this.onReveal(t))}},{key:"listen",value:function(){h.observerMode||this.isListener||(this.isListener=!0,window.addEventListener("scroll",this.revealHandler,{passive:!0}),window.addEventListener("orientationchange",this.revealHandler,{passive:!0}),window.document.addEventListener("visibilitychange",this.revealHandler,{passive:!0}),window.document.addEventListener("collapseend",this.revealHandler,{passive:!0}),window.addEventListener("resize",this.resizeHandler,{passive:!0}))}},{key:"unlisten",value:function(){!h.observerMode&&this.isListener&&(window.removeEventListener("scroll",this.revealHandler,{passive:!0}),window.removeEventListener("orientationchange",this.revealHandler,{passive:!0}),window.document.removeEventListener("visibilitychange",this.revealHandler,{passive:!0}),window.document.removeEventListener("collapseend",this.revealHandler,{passive:!0}),window.removeEventListener("resize",this.resizeHandler,{passive:!0}),this.isListener=!1),this.onRevealTimeout&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)),this.animationEndTimeout&&(this.animationEndTimeout=window.clearTimeout(this.animationEndTimeout))}}],[{key:"getInitialCollapseStyle",value:function(t){return{height:0,visibility:t.when?void 0:"hidden"}}},{key:"getTop",value:function(t){for(;void 0===t.offsetTop;)t=t.parentNode;for(var e=t.offsetTop;t.offsetParent;e+=t.offsetTop)t=t.offsetParent;return e}}]),e}(l.default.Component);g.propTypes=p,g.defaultProps={fraction:.2,refProp:"ref"},g.contextTypes=d,g.displayName="RevealBase",e.default=g,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&"object"===typeof t&&"default"in t?t.default:t}var i=n(0),o=r(i),a=r(n(297));function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=!("undefined"===typeof window||!window.document||!window.document.createElement);t.exports=function(t,e,n){if("function"!==typeof t)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof e)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function h(){l=t(c.map((function(t){return t.props}))),f.canUseDOM?e(l):n&&(l=n(l))}var f=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.peek=function(){return l},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var t=l;return l=void 0,c=[],t};var s=i.prototype;return s.shouldComponentUpdate=function(t){return!a(t,this.props)},s.componentWillMount=function(){c.push(this),h()},s.componentDidUpdate=function(){h()},s.componentWillUnmount=function(){var t=c.indexOf(this);c.splice(t,1),h()},s.render=function(){return o.createElement(r,this.props)},i}(i.Component);return s(f,"displayName","SideEffect("+function(t){return t.displayName||t.name||"Component"}(r)+")"),s(f,"canUseDOM",u),f}}},function(t,e){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=t[l],h=e[l];if(!1===(i=n?n.call(r,c,h,l):void 0)||void 0===i&&c!==h)return!1}return!0}},function(t,e,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty,a="undefined"!==typeof Element;t.exports=function(t,e){try{return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var s,u,l,c=r(e),h=r(n);if(c&&h){if((u=e.length)!=n.length)return!1;for(s=u;0!==s--;)if(!t(e[s],n[s]))return!1;return!0}if(c!=h)return!1;var f=e instanceof Date,p=n instanceof Date;if(f!=p)return!1;if(f&&p)return e.getTime()==n.getTime();var d=e instanceof RegExp,g=n instanceof RegExp;if(d!=g)return!1;if(d&&g)return e.toString()==n.toString();var m=i(e);if((u=m.length)!==i(n).length)return!1;for(s=u;0!==s--;)if(!o.call(n,m[s]))return!1;if(a&&e instanceof Element&&n instanceof Element)return e===n;for(s=u;0!==s--;)if(("_owner"!==(l=m[s])||!e.$$typeof)&&!t(e[l],n[l]))return!1;return!0}return e!==e&&n!==n}(t,e)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},function(t,e,n){(function(t){e.__esModule=!0,e.warn=e.requestAnimationFrame=e.reducePropsToState=e.mapStateOnServer=e.handleClientStateChange=e.convertReactPropstoHtmlAttributes=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=u(n(0)),a=u(n(23)),s=n(114);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===e?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},c=function(t){var e=g(t,s.TAG_NAMES.TITLE),n=g(t,s.HELMET_PROPS.TITLE_TEMPLATE);if(n&&e)return n.replace(/%s/g,(function(){return e}));var r=g(t,s.HELMET_PROPS.DEFAULT_TITLE);return e||r||void 0},h=function(t){return g(t,s.HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||function(){}},f=function(t,e){return e.filter((function(e){return"undefined"!==typeof e[t]})).map((function(e){return e[t]})).reduce((function(t,e){return i({},t,e)}),{})},p=function(t,e){return e.filter((function(t){return"undefined"!==typeof t[s.TAG_NAMES.BASE]})).map((function(t){return t[s.TAG_NAMES.BASE]})).reverse().reduce((function(e,n){if(!e.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==t.indexOf(o)&&n[o])return e.concat(n)}return e}),[])},d=function(t,e,n){var i={};return n.filter((function(e){return!!Array.isArray(e[t])||("undefined"!==typeof e[t]&&E("Helmet: "+t+' should be of type "Array". Instead found type "'+r(e[t])+'"'),!1)})).map((function(e){return e[t]})).reverse().reduce((function(t,n){var r={};n.filter((function(t){for(var n=void 0,o=Object.keys(t),a=0;a<o.length;a++){var u=o[a],l=u.toLowerCase();-1===e.indexOf(l)||n===s.TAG_PROPERTIES.REL&&"canonical"===t[n].toLowerCase()||l===s.TAG_PROPERTIES.REL&&"stylesheet"===t[l].toLowerCase()||(n=l),-1===e.indexOf(u)||u!==s.TAG_PROPERTIES.INNER_HTML&&u!==s.TAG_PROPERTIES.CSS_TEXT&&u!==s.TAG_PROPERTIES.ITEM_PROP||(n=u)}if(!n||!t[n])return!1;var c=t[n].toLowerCase();return i[n]||(i[n]={}),r[n]||(r[n]={}),!i[n][c]&&(r[n][c]=!0,!0)})).reverse().forEach((function(e){return t.push(e)}));for(var o=Object.keys(r),u=0;u<o.length;u++){var l=o[u],c=(0,a.default)({},i[l],r[l]);i[l]=c}return t}),[]).reverse()},g=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.hasOwnProperty(e))return r[e]}return null},m=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout((function(){m(e)}),0)}}(),y=function(t){return clearTimeout(t)},v="undefined"!==typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||m:t.requestAnimationFrame||m,b="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||y:t.cancelAnimationFrame||y,E=function(t){return console&&"function"===typeof console.warn&&console.warn(t)},_=null,w=function(t,e){var n=t.baseTag,r=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,l=t.onChangeClientState,c=t.scriptTags,h=t.styleTags,f=t.title,p=t.titleAttributes;T(s.TAG_NAMES.BODY,r),T(s.TAG_NAMES.HTML,i),x(f,p);var d={baseTag:O(s.TAG_NAMES.BASE,n),linkTags:O(s.TAG_NAMES.LINK,o),metaTags:O(s.TAG_NAMES.META,a),noscriptTags:O(s.TAG_NAMES.NOSCRIPT,u),scriptTags:O(s.TAG_NAMES.SCRIPT,c),styleTags:O(s.TAG_NAMES.STYLE,h)},g={},m={};Object.keys(d).forEach((function(t){var e=d[t],n=e.newTags,r=e.oldTags;n.length&&(g[t]=n),r.length&&(m[t]=d[t].oldTags)})),e&&e(),l(t,g,m)},S=function(t){return Array.isArray(t)?t.join(""):t},x=function(t,e){"undefined"!==typeof t&&document.title!==t&&(document.title=S(t)),T(s.TAG_NAMES.TITLE,e)},T=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var r=n.getAttribute(s.HELMET_ATTRIBUTE),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(e),u=0;u<a.length;u++){var l=a[u],c=e[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===i.indexOf(l)&&i.push(l);var h=o.indexOf(l);-1!==h&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)n.removeAttribute(o[f]);i.length===o.length?n.removeAttribute(s.HELMET_ATTRIBUTE):n.getAttribute(s.HELMET_ATTRIBUTE)!==a.join(",")&&n.setAttribute(s.HELMET_ATTRIBUTE,a.join(","))}},O=function(t,e){var n=document.head||document.querySelector(s.TAG_NAMES.HEAD),r=n.querySelectorAll(t+"["+s.HELMET_ATTRIBUTE+"]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return e&&e.length&&e.forEach((function(e){var n=document.createElement(t);for(var r in e)if(e.hasOwnProperty(r))if(r===s.TAG_PROPERTIES.INNER_HTML)n.innerHTML=e.innerHTML;else if(r===s.TAG_PROPERTIES.CSS_TEXT)n.styleSheet?n.styleSheet.cssText=e.cssText:n.appendChild(document.createTextNode(e.cssText));else{var u="undefined"===typeof e[r]?"":e[r];n.setAttribute(r,u)}n.setAttribute(s.HELMET_ATTRIBUTE,"true"),i.some((function(t,e){return a=e,n.isEqualNode(t)}))?i.splice(a,1):o.push(n)})),i.forEach((function(t){return t.parentNode.removeChild(t)})),o.forEach((function(t){return n.appendChild(t)})),{oldTags:i,newTags:o}},C=function(t){return Object.keys(t).reduce((function(e,n){var r="undefined"!==typeof t[n]?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r}),"")},A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,n){return e[s.REACT_TAG_MAP[n]||n]=t[n],e}),e)},L=function(t,e,n){switch(t){case s.TAG_NAMES.TITLE:return{toComponent:function(){return function(t,e,n){var r,i=((r={key:e})[s.HELMET_ATTRIBUTE]=!0,r),a=A(n,i);return[o.default.createElement(s.TAG_NAMES.TITLE,a,e)]}(0,e.title,e.titleAttributes)},toString:function(){return function(t,e,n,r){var i=C(n),o=S(e);return i?"<"+t+" "+s.HELMET_ATTRIBUTE+'="true" '+i+">"+l(o,r)+"</"+t+">":"<"+t+" "+s.HELMET_ATTRIBUTE+'="true">'+l(o,r)+"</"+t+">"}(t,e.title,e.titleAttributes,n)}};case s.ATTRIBUTE_NAMES.BODY:case s.ATTRIBUTE_NAMES.HTML:return{toComponent:function(){return A(e)},toString:function(){return C(e)}};default:return{toComponent:function(){return function(t,e){return e.map((function(e,n){var r,i=((r={key:n})[s.HELMET_ATTRIBUTE]=!0,r);return Object.keys(e).forEach((function(t){var n=s.REACT_TAG_MAP[t]||t;if(n===s.TAG_PROPERTIES.INNER_HTML||n===s.TAG_PROPERTIES.CSS_TEXT){var r=e.innerHTML||e.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=e[t]})),o.default.createElement(t,i)}))}(t,e)},toString:function(){return function(t,e,n){return e.reduce((function(e,r){var i=Object.keys(r).filter((function(t){return!(t===s.TAG_PROPERTIES.INNER_HTML||t===s.TAG_PROPERTIES.CSS_TEXT)})).reduce((function(t,e){var i="undefined"===typeof r[e]?e:e+'="'+l(r[e],n)+'"';return t?t+" "+i:i}),""),o=r.innerHTML||r.cssText||"",a=-1===s.SELF_CLOSING_TAGS.indexOf(t);return e+"<"+t+" "+s.HELMET_ATTRIBUTE+'="true" '+i+(a?"/>":">"+o+"</"+t+">")}),"")}(t,e,n)}}}};e.convertReactPropstoHtmlAttributes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,n){return e[s.HTML_TAG_MAP[n]||n]=t[n],e}),e)},e.handleClientStateChange=function(t){_&&b(_),t.defer?_=v((function(){w(t,(function(){_=null}))})):(w(t),_=null)},e.mapStateOnServer=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,o=t.linkTags,a=t.metaTags,u=t.noscriptTags,l=t.scriptTags,c=t.styleTags,h=t.title,f=void 0===h?"":h,p=t.titleAttributes;return{base:L(s.TAG_NAMES.BASE,e,r),bodyAttributes:L(s.ATTRIBUTE_NAMES.BODY,n,r),htmlAttributes:L(s.ATTRIBUTE_NAMES.HTML,i,r),link:L(s.TAG_NAMES.LINK,o,r),meta:L(s.TAG_NAMES.META,a,r),noscript:L(s.TAG_NAMES.NOSCRIPT,u,r),script:L(s.TAG_NAMES.SCRIPT,l,r),style:L(s.TAG_NAMES.STYLE,c,r),title:L(s.TAG_NAMES.TITLE,{title:f,titleAttributes:p},r)}},e.reducePropsToState=function(t){return{baseTag:p([s.TAG_PROPERTIES.HREF],t),bodyAttributes:f(s.ATTRIBUTE_NAMES.BODY,t),defer:g(t,s.HELMET_PROPS.DEFER),encode:g(t,s.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:f(s.ATTRIBUTE_NAMES.HTML,t),linkTags:d(s.TAG_NAMES.LINK,[s.TAG_PROPERTIES.REL,s.TAG_PROPERTIES.HREF],t),metaTags:d(s.TAG_NAMES.META,[s.TAG_PROPERTIES.NAME,s.TAG_PROPERTIES.CHARSET,s.TAG_PROPERTIES.HTTPEQUIV,s.TAG_PROPERTIES.PROPERTY,s.TAG_PROPERTIES.ITEM_PROP],t),noscriptTags:d(s.TAG_NAMES.NOSCRIPT,[s.TAG_PROPERTIES.INNER_HTML],t),onChangeClientState:h(t),scriptTags:d(s.TAG_NAMES.SCRIPT,[s.TAG_PROPERTIES.SRC,s.TAG_PROPERTIES.INNER_HTML],t),styleTags:d(s.TAG_NAMES.STYLE,[s.TAG_PROPERTIES.CSS_TEXT],t),title:c(t),titleAttributes:f(s.ATTRIBUTE_NAMES.TITLE,t)}},e.requestAnimationFrame=v,e.warn=E}).call(this,n(27))},function(t,e,n){"use strict";t.exports=n(301)},function(t,e,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var m="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}function _(){}function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=E.prototype;var S=w.prototype=new _;S.constructor=w,r(S,E.prototype),S.isPureReactComponent=!0;var x={current:null},T={current:null},O=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)O.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:T.current}}function L(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,R=[];function M(t,e,n,r){if(R.length){var i=R.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function k(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>R.length&&R.push(t)}function I(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+N(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+N(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+N(s,l++),r,i);else if("object"===s)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function D(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(L(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),I(t,j,e=M(e,o,r,i)),k(e)}function V(){var t=x.current;if(null===t)throw Error(y(321));return t}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;I(t,D,e=M(null,null,e,n)),k(e)},count:function(t){return I(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!L(t))throw Error(y(143));return t}},createRef:function(){return{current:null}},Component:E,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:f,render:t}},lazy:function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return V().useCallback(t,e)},useContext:function(t,e){return V().useContext(t,e)},useEffect:function(t,e){return V().useEffect(t,e)},useImperativeHandle:function(t,e,n){return V().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return V().useLayoutEffect(t,e)},useMemo:function(t,e){return V().useMemo(t,e)},useReducer:function(t,e,n){return V().useReducer(t,e,n)},useRef:function(t){return V().useRef(t)},useState:function(t){return V().useState(t)},Fragment:s,Profiler:l,StrictMode:u,Suspense:p,createElement:A,cloneElement:function(t,e,n){if(null===t||void 0===t)throw Error(y(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=T.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)O.call(e,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(t){var e=A.bind(null,t);return e.type=t,e},isValidElement:L,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r}},U={default:B},G=U&&B||U;t.exports=G.default||G},function(t,e,n){!function(e){"use strict";var n=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return function(){var t="application/font-woff";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[n]||""},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):function(t){return new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);e(new Blob([i],{type:"image/png"}))}))}(t)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var i=n.createElement("a");return n.body.appendChild(i),r.href=e,i.href=t,i.href},getAndEncode:function(t){s.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());return new Promise((function(e){var n,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4!==r.readyState)return;if(200!==r.status)return void(n?e(n):o("cannot fetch resource: "+t+", status: "+r.status));var i=new FileReader;i.onloadend=function(){var t=i.result.split(/,/)[1];e(t)},i.readAsDataURL(r.response)},r.ontimeout=function(){n?e(n):o("timeout of 30000ms occured while fetching resource: "+t)},r.responseType="blob",r.timeout=3e4,r.open("GET",t,!0),r.send(),s.impl.options.imagePlaceholder){var i=s.impl.options.imagePlaceholder.split(/,/);i&&i[1]&&(n=i[1])}function o(t){console.error(t),e("")}}))},uid:function(){var t=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}}(),delay:function(t){return function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))}},asArray:function(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src=t}))},width:function(t){var n=e(t,"border-left-width"),r=e(t,"border-right-width");return t.scrollWidth+n+r},height:function(t){var n=e(t,"border-top-width"),r=e(t,"border-bottom-width");return t.scrollHeight+n+r}};function t(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function e(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}}(),r=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,n,o){return function(){return!e(t)}()?Promise.resolve(t):Promise.resolve(t).then(r).then((function(e){var r=Promise.resolve(t);return e.forEach((function(t){r=r.then((function(e){return i(e,t,n,o)}))})),r}))},shouldProcess:e,impl:{readUrls:r,inline:i}};function e(e){return-1!==e.search(t)}function r(e){for(var r,i=[];null!==(r=t.exec(e));)i.push(r[1]);return i.filter((function(t){return!n.isDataUrl(t)}))}function i(t,e,r,i){return Promise.resolve(e).then((function(t){return r?n.resolveUrl(t,r):t})).then(i||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e))})).then((function(r){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+n.escape(t)+")(['\"]?\\))","g")}(e),"$1"+r+"$3")}))}}(),i=function(){return{resolveAll:function(){return t(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(n.asArray(document.styleSheets)).then((function(t){var e=[];return t.forEach((function(t){try{n.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(r){console.log("Error while reading CSS rules from "+t.href,r.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return r.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}));function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return r.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),o=function(){return{inlineAll:function e(i){return i instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?r.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}(i).then((function(){return i instanceof HTMLImageElement?t(i).inline():Promise.all(n.asArray(i.childNodes).map((function(t){return e(t)})))})):Promise.resolve(i)},impl:{newImage:t}};function t(t){return{inline:function(e){return n.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t.src))})).then((function(e){return new Promise((function(n,r){t.onload=n,t.onerror=r,t.src=e}))}))}}}}(),a={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:u,toPng:function(t,e){return l(t,e||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return l(t,e=e||{}).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))},toBlob:function(t,e){return l(t,e||{}).then(n.canvasToBlob)},toPixelData:function(t,e){return l(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,n.width(t),n.height(t)).data}))},impl:{fontFaces:i,images:o,util:n,inliner:r,options:{}}};function u(t,e){return function(t){"undefined"===typeof t.imagePlaceholder?s.impl.options.imagePlaceholder=a.imagePlaceholder:s.impl.options.imagePlaceholder=t.imagePlaceholder;"undefined"===typeof t.cacheBust?s.impl.options.cacheBust=a.cacheBust:s.impl.options.cacheBust=t.cacheBust}(e=e||{}),Promise.resolve(t).then((function(t){return function t(e,r,i){return i||!r||r(e)?Promise.resolve(e).then((function(t){return t instanceof HTMLCanvasElement?n.makeImage(t.toDataURL()):t.cloneNode(!1)})).then((function(t){return o(e,t,r)})).then((function(t){return function(t,e){return e instanceof Element?Promise.resolve().then(r).then(i).then(o).then(a).then((function(){return e})):e;function r(){var r,i;r=window.getComputedStyle(t),i=e.style,r.cssText?i.cssText=r.cssText:function(t,e){n.asArray(t).forEach((function(n){e.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n))}))}(r,i)}function i(){[":before",":after"].forEach((function(r){!function(r){var i=window.getComputedStyle(t,r),o=i.getPropertyValue("content");if(""===o||"none"===o)return;var a=n.uid();e.className=e.className+" "+a;var s=document.createElement("style");s.appendChild(function(t,e,r){var i="."+t+":"+e,o=r.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(r):function(t){return n.asArray(t).map((function(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")})).join("; ")+";"}(r);return document.createTextNode(i+"{"+o+"}")}(a,r,i)),e.appendChild(s)}(r)}))}function o(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function a(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var n=e.getAttribute(t);n&&e.style.setProperty(t,n)})))}}(e,t)})):Promise.resolve();function o(e,r,i){var o=e.childNodes;return 0===o.length?Promise.resolve(r):a(r,n.asArray(o),i).then((function(){return r}));function a(e,n,r){var i=Promise.resolve();return n.forEach((function(n){i=i.then((function(){return t(n,r)})).then((function(t){t&&e.appendChild(t)}))})),i}}}(t,e.filter,!0)})).then(c).then(h).then((function(t){e.bgcolor&&(t.style.backgroundColor=e.bgcolor);e.width&&(t.style.width=e.width+"px");e.height&&(t.style.height=e.height+"px");e.style&&Object.keys(e.style).forEach((function(n){t.style[n]=e.style[n]}));return t})).then((function(r){return function(t,e,r){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(n.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+r+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}(r,e.width||n.width(t),e.height||n.height(t))}))}function l(t,e){return u(t,e).then(n.makeImage).then(n.delay(100)).then((function(r){var i=function(t){var r=document.createElement("canvas");if(r.width=e.width||n.width(t),r.height=e.height||n.height(t),e.bgcolor){var i=r.getContext("2d");i.fillStyle=e.bgcolor,i.fillRect(0,0,r.width,r.height)}return r}(t);return i.getContext("2d").drawImage(r,0,0),i}))}function c(t){return i.resolveAll().then((function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t}))}function h(t){return o.inlineAll(t).then((function(){return t}))}t.exports=s}()},function(t,e,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){return function t(e,n,r){var i,o,a=window,s="application/octet-stream",u=r||s,l=e,c=!n&&!r&&l,h=document.createElement("a"),f=function(t){return String(t)},p=a.Blob||a.MozBlob||a.WebKitBlob||f,d=n||"download";if(p=p.call?p.bind(a):Blob,"true"===String(this)&&(u=(l=[l,u])[0],l=l[1]),c&&c.length<2048&&(d=c.split("/").pop().split("?")[0],h.href=c,-1!==h.href.indexOf(c))){var g=new XMLHttpRequest;return g.open("GET",c,!0),g.responseType="blob",g.onload=function(e){t(e.target.response,d,s)},setTimeout((function(){g.send()}),0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&p!==f))return navigator.msSaveBlob?navigator.msSaveBlob(b(l),d):E(l);u=(l=b(l)).type||s}else if(/([\x80-\xff])/.test(l)){for(var m=0,y=new Uint8Array(l.length),v=y.length;m<v;++m)y[m]=l.charCodeAt(m);l=new p([y],{type:u})}function b(t){for(var e=t.split(/[:;,]/),n=e[1],r=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),i=r.length,o=0,a=new Uint8Array(i);o<i;++o)a[o]=r.charCodeAt(o);return new p([a],{type:n})}function E(t,e){if("download"in h)return h.href=t,h.setAttribute("download",d),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout((function(){h.click(),document.body.removeChild(h),!0===e&&setTimeout((function(){a.URL.revokeObjectURL(h.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),n.src=t,setTimeout((function(){document.body.removeChild(n)}),333)}if(i=l instanceof p?l:new p([l],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(i,d);if(a.URL)E(a.URL.createObjectURL(i),!0);else{if("string"===typeof i||i.constructor===f)try{return E("data:"+u+";base64,"+a.btoa(i))}catch(_){return E("data:"+u+","+encodeURIComponent(i))}(o=new FileReader).onload=function(t){E(this.result)},o.readAsDataURL(i)}return!0}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";t.exports=n(305)},function(t,e,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var m="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}function _(){}function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=E.prototype;var S=w.prototype=new _;S.constructor=w,r(S,E.prototype),S.isPureReactComponent=!0;var x={current:null},T={current:null},O=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)O.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:T.current}}function L(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,R=[];function M(t,e,n,r){if(R.length){var i=R.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function k(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>R.length&&R.push(t)}function I(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+N(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+N(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+N(s,l++),r,i);else if("object"===s)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function D(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(L(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),I(t,j,e=M(e,o,r,i)),k(e)}function V(){var t=x.current;if(null===t)throw Error(y(321));return t}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;I(t,D,e=M(null,null,e,n)),k(e)},count:function(t){return I(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!L(t))throw Error(y(143));return t}},createRef:function(){return{current:null}},Component:E,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:f,render:t}},lazy:function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return V().useCallback(t,e)},useContext:function(t,e){return V().useContext(t,e)},useEffect:function(t,e){return V().useEffect(t,e)},useImperativeHandle:function(t,e,n){return V().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return V().useLayoutEffect(t,e)},useMemo:function(t,e){return V().useMemo(t,e)},useReducer:function(t,e,n){return V().useReducer(t,e,n)},useRef:function(t){return V().useRef(t)},useState:function(t){return V().useState(t)},Fragment:s,Profiler:l,StrictMode:u,Suspense:p,createElement:A,cloneElement:function(t,e,n){if(null===t||void 0===t)throw Error(y(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=T.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)O.call(e,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(t){var e=A.bind(null,t);return e.type=t,e},isValidElement:L,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r}},U={default:B},G=U&&B||U;t.exports=G.default||G},function(t,e,n){(function(e){t.exports=function(){var n,r,i;!function(t){function e(t,e){return b.call(t,e)}function o(t,e){var n,r,i,o,a,s,u,l,c,h,f,p=e&&e.split("/"),d=y.map,g=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),a=(t=t.split("/")).length-1,y.nodeIdCompat&&_.test(t[a])&&(t[a]=t[a].replace(_,"")),t=p.concat(t),c=0;c<t.length;c+=1)if("."===(f=t[c]))t.splice(c,1),c-=1;else if(".."===f){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&d){for(c=(n=t.split("/")).length;c>0;c-=1){if(r=n.slice(0,c).join("/"),p)for(h=p.length;h>0;h-=1)if((i=d[p.slice(0,h).join("/")])&&(i=i[r])){o=i,s=c;break}if(o)break;!u&&g&&g[r]&&(u=g[r],l=c)}!o&&u&&(o=u,s=l),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function a(e,n){return function(){var r=E.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),f.apply(t,r.concat([e,n]))}}function s(t){return function(e){g[t]=e}}function u(n){if(e(m,n)){var r=m[n];delete m[n],v[n]=!0,h.apply(t,r)}if(!e(g,n)&&!e(v,n))throw new Error("No "+n);return g[n]}function l(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function c(t){return function(){return y&&y.config&&y.config[t]||{}}}var h,f,p,d,g={},m={},y={},v={},b=Object.prototype.hasOwnProperty,E=[].slice,_=/\.js$/;p=function(t,e){var n,r=l(t),i=r[0];return t=r[1],i&&(n=u(i=o(i,e))),i?t=n&&n.normalize?n.normalize(t,function(t){return function(e){return o(e,t)}}(e)):o(t,e):(i=(r=l(t=o(t,e)))[0],t=r[1],i&&(n=u(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:n}},d={require:function(t){return a(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:c(t)}}},h=function(n,r,i,o){var l,c,h,f,y,b,E=[],_=typeof i;if(o=o||n,"undefined"===_||"function"===_){for(r=!r.length&&i.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)if(f=p(r[y],o),"require"===(c=f.f))E[y]=d.require(n);else if("exports"===c)E[y]=d.exports(n),b=!0;else if("module"===c)l=E[y]=d.module(n);else if(e(g,c)||e(m,c)||e(v,c))E[y]=u(c);else{if(!f.p)throw new Error(n+" missing "+c);f.p.load(f.n,a(o,!0),s(c),{}),E[y]=g[c]}h=i?i.apply(g[n],E):void 0,n&&(l&&l.exports!==t&&l.exports!==g[n]?g[n]=l.exports:h===t&&b||(g[n]=h))}else n&&(g[n]=i)},n=r=f=function(e,n,r,i,o){if("string"==typeof e)return d[e]?d[e](n):u(p(e,n).f);if(!e.splice){if((y=e).deps&&f(y.deps,y.callback),!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},"function"==typeof r&&(r=i,i=o),i?h(t,e,n,r):setTimeout((function(){h(t,e,n,r)}),4),f},f.config=function(t){return f(t)},n._defined=g,(i=function(t,n,r){n.splice||(r=n,n=[]),e(g,t)||e(m,t)||(m[t]=[t,n,r])}).amd={jQuery:!0}}(),i("../tools/almond",(function(){})),i("formats/aaigrid/AAIGridConstants",[],(function(){"use strict";return{N_COLS:"ncols",N_ROWS:"nrows",X_LL_CORNER:"xllcorner",Y_LL_CORNER:"yllcorner",CELL_SIZE:"cellsize",NO_DATA_VALUE:"NODATA_value"}})),i("formats/aaigrid/AAIGridMetadata",[],(function(){"use strict";var t=function(){this._ncols=null,this._nrows=null,this._xllcorner=null,this._yllcorner=null,this._cellsize=null,this._NODATA_value=void 0};return Object.defineProperties(t.prototype,{ncols:{get:function(){return this._ncols},set:function(t){this._ncols=t}},nrows:{get:function(){return this._nrows},set:function(t){this._nrows=t}},xllcorner:{get:function(){return this._xllcorner},set:function(t){this._xllcorner=t}},yllcorner:{get:function(){return this._yllcorner},set:function(t){this._yllcorner=t}},cellsize:{get:function(){return this._cellsize},set:function(t){this._cellsize=t}},NODATA_value:{get:function(){return this._NODATA_value},set:function(t){this._NODATA_value=t}}}),t})),i("error/AbstractError",[],(function(){"use strict";var t=function(t,e){this.name=t,this.message=e};return t.prototype.toString=function(){var t=this.name+": "+this.message;return this.stack&&(t+="\n"+this.stack.toString()),t},t})),i("error/ArgumentError",["../error/AbstractError"],(function(t){"use strict";var e=function(e){var n;t.call(this,"ArgumentError",e);try{throw new Error}catch(t){n=t.stack}this.stack=n};return e.prototype=Object.create(t.prototype),e})),i("util/Logger",[],(function(){"use strict";var t={LEVEL_NONE:0,LEVEL_SEVERE:1,LEVEL_WARNING:2,LEVEL_INFO:3,setLoggingLevel:function(t){e=t},getLoggingLevel:function(){return e},log:function(n,r){r&&n>0&&n<=e&&(n===t.LEVEL_SEVERE?console.error(r):n===t.LEVEL_WARNING?console.warn(r):n===t.LEVEL_INFO?console.info(r):console.log(r))},makeMessage:function(t,e,n){return t+"."+e+": "+(this.messageTable[n]?this.messageTable[n]:n)},logMessage:function(t,e,n,r){var i=this.makeMessage(e,n,r);return this.log(t,i),i},messageTable:{abstractInvocation:"The function called is abstract and must be overridden in a subclass.",indexOutOfRange:"The specified index is out of range.",invalidColumn:"The specified column is out of range.",invalidHeight:"The specified height is zero or negative.",invalidWidth:"The specified width is zero or negative.",invalidRow:"The specified row is out of range.",invalidSize:"The specified size is zero or negative.",missingAltitudeMode:"The specified altitude mode is null or undefined.",missingArrayBuffer:"The specified array buffer is null or undefined",missingAttributeName:"The specified DBase attribute file name is null or undefined.",missingArray:"The specified array is null, undefined or of insufficient length.",missingBoundaries:"The specified boundaries array is null or undefined.",missingBuffer:"The specified buffer descriptor is null or undefined.",missingColor:"The specified color is null or undefined.",missingConfig:"The specified config is null or undefined.",missingDc:"The specified draw context is null or undefined.",missingDomElement:"The specified DOM element is null or undefined.",missingEntry:"The specified entry is null or undefined.",missingFont:"The specified font is null or undefined.",missingFrustum:"The specified frustum is null or undefined.",missingFunction:"The specified function is null or undefined.",missingGlContext:"The specified WebGL rendering context is null or undefined.",missingGlobe:"The specified globe is null or undefined.",missingId:"The specified id is null or undefined.",missingImage:"The specified image is null or undefined.",missingImageFormat:"The specified image format is null or undefined.",missingIndices:"The specified indices array is null or undefined.",missingKey:"The specified key is null or undefined.",missingLevel:"The specified level is null or undefined.",missingLine:"The specified line is null or undefined.",missingList:"The specified list is null or undefined.",missingListener:"The specified listener is null or undefined",missingLocation:"The specified location is null or undefined.",missingMatrix:"The specified matrix is null or undefined.",missingOffset:"The specified offset is null or undefined.",missingPath:"The specified path is null or undefined.",missingPlacename:"The specified place name is null or undefined.",missingPlane:"The specified plane is null or undefined.",missingPoint:"The specified point is null or undefined.",missingPoints:"The specified points array is null or undefined.",missingPosition:"The specified position is null or undefined.",missingPositions:"The specified positions array is null or undefined.",missingProgram:"The specified program is null or undefined.",missingProjection:"The specified projection is null or undefined.",missingRectangle:"The specified rectangle is null or undefined.",missingRenderable:"The specified renderable is null or undefined.",missingResolution:"The specified resolution is null, undefined, or zero.",missingResource:"The specified resource is null or undefined.",missingResult:"The specified result variable is null or undefined.",missingResults:"The specified results array is null or undefined.",missingSector:"The specified sector is null or undefined.",missingShapeType:"The specified shape type is null or undefined.",missingSize:"The specified size is null or undefined.",missingText:"The specified text is null or undefined.",missingTexture:"The specified texture is null or undefined.",missingTile:"The specified tile is null or undefined.",missingType:"The specified type is null or undefined.",missingUrl:"The specified URL is null or undefined",missingVector:"The specified vector is null or undefined.",missingVertex:"The specified vertex is null or undefined.",missingViewport:"The specified viewport is null or undefined.",missingWebCoverageService:"The specified WebCoverageService is null or undefined.",missingWorldWindow:"The specified WorldWindow is null or undefined.",notYetImplemented:"This function is not yet implemented",unsupportedVersion:"The specified version is not supported.",webglNotSupported:"The browser does not support WebGL, or WebGL is disabled."}},e=1;return t})),i("formats/aaigrid/AAIGridReader",["./AAIGridConstants","./AAIGridMetadata","../../error/ArgumentError","../../util/Logger"],(function(t,e,n,r){"use strict";var i=function(t){if(!t)throw new n(r.logMessage(r.LEVEL_SEVERE,"AAIGridReader","constructor","missingDataSource"));if("string"!=typeof t&&!(t instanceof ArrayBuffer))throw new n(r.logMessage(r.LEVEL_SEVERE,"AAIGridReader","constructor","invalidDataSource"));this._values=null,this._metadata=new e;var i=this.decodeData(t);this.parse(i)};return Object.defineProperties(i.prototype,{metadata:{get:function(){return this._metadata}}}),i.prototype.getImageData=function(){return this._values},i.prototype.decodeData=function(t){if("string"!=typeof t&&!(t instanceof ArrayBuffer))throw new n(r.logMessage(r.LEVEL_SEVERE,"AAIGridReader","decodeData","invalidDataSource"));if("string"==typeof t)return t;if("function"==typeof window.TextDecoder)return new TextDecoder("utf-8").decode(t);for(var e="",i=new Uint8Array(t),o=65535,a=0,s=i.length;a<s;a+=o)a+o>s&&(o=s-a),e+=String.fromCharCode.apply(null,i.subarray(a,a+o));return e},i.prototype.parse=function(e){if("string"!=typeof e)throw new n(r.logMessage(r.LEVEL_SEVERE,"AAIGridReader","parse","invalidDataString"));for(var i=e.replace(/\r?\n|\r/g,"\n").split("\n"),o=[],a=!0,s=0,u=i.length;s<u;s++){var l=i[s];if(l){var c=l.trim().split(" ").map((function(t){return t.trim()})).filter((function(t){return""!==t}));if(c[0]===t.N_COLS)this.metadata.ncols=+c[1];else if(c[0]===t.N_ROWS)this.metadata.nrows=+c[1];else if(c[0]===t.X_LL_CORNER)this.metadata.xllcorner=+c[1];else if(c[0]===t.Y_LL_CORNER)this.metadata.yllcorner=+c[1];else if(c[0]===t.CELL_SIZE)this.metadata.cellsize=+c[1];else if(c[0]===t.NO_DATA_VALUE)this.metadata.NODATA_value=+c[1];else if(isFinite(+c[0])){var h=c.map((function(t){var e=+t;return Math.floor(e)!==e&&(a=!1),e}));o=o.concat(h)}}}this._values=a?new Int16Array(o):new Float32Array(o)},i.retrieveFromUrl=function(t,e){if(!t)throw new n(r.logMessage(r.LEVEL_SEVERE,"AAIGridReader","retrieveFromUrl","missingUrl"));if(!e)throw new n(r.logMessage(r.LEVEL_SEVERE,"AAIGridReader","retrieveFromUrl","The specified callback is null or undefined."));var o=new XMLHttpRequest;o.onload=function(){this.status>=200&&this.status<300?e(new i(this.response),o):(r.log(r.LEVEL_WARNING,"AAIGrid retrieval failed ("+o.statusText+"): "+t),e(null,o))},o.onerror=function(){r.log(r.LEVEL_WARNING,"AAIGrid retrieval failed: "+t),e(null,o)},o.ontimeout=function(){r.log(r.LEVEL_WARNING,"AAIGrid retrieval timed out: "+t),e(null,o)},o.open("GET",t,!0),o.responseType="arraybuffer",o.send(null)},i})),i("geom/Angle",[],(function(){"use strict";return{DEGREES_TO_RADIANS:Math.PI/180,RADIANS_TO_DEGREES:180/Math.PI,TWO_PI:2*Math.PI,HALF_PI:Math.PI/2,normalizedDegrees:function(t){var e=t%360;return e>180?e-360:e<-180?360+e:e},normalizedDegreesLatitude:function(t){var e=t%180;return e>90?180-e:e<-90?-180-e:e},normalizedDegreesLongitude:function(t){var e=t%360;return e>180?e-360:e<-180?360+e:e},normalizedRadians:function(t){var e=t%this.TWO_PI;return e>Math.PI?e-this.TWO_PI:e<-Math.PI?this.TWO_PI+e:e},normalizedRadiansLatitude:function(t){var e=t%Math.PI;return e>this.HALF_PI?Math.PI-e:e<-this.HALF_PI?-Math.PI-e:e},normalizedRadiansLongitude:function(t){var e=t%this.TWO_PI;return e>Math.PI?e-this.TWO_PI:e<-Math.PI?this.TWO_PI+e:e},isValidLatitude:function(t){return t>=-90&&t<=90},isValidLongitude:function(t){return t>=-180&&t<=180},toString:function(t){return t.toString()+"\xb0"},toDecimalDegreesString:function(t){return t.toString()+"\xb0"},toDMSString:function(t){var e,n,r,i,o;return n=60*((n=60*((n=(e=t<0?-1:1)*t)-(r=Math.floor(n))))-(i=Math.floor(n))),60==(o=Math.round(n))&&(i++,o=0),60==i&&(r++,i=0),(-1==e?"-":"")+r+"\xb0 "+i+"\u2019 "+o+"\u201d"},toDMString:function(t){var e,n,r,i,o;return n=60*((n=60*((n=(e=t<0?-1:1)*t)-(r=Math.floor(n))))-(i=Math.floor(n))),60==(o=Math.round(n))&&(i++,o=0),60==i&&(r++,i=0),(-1==e?"-":"")+r+"\xb0 "+(0==o?i:i+o/60)+"\u2019"}}})),i("util/Color",["../util/Logger"],(function(t){"use strict";var e=function(t,e,n,r){this.red=t,this.green=e,this.blue=n,this.alpha=r};return e.WHITE=new e(1,1,1,1),e.BLACK=new e(0,0,0,1),e.RED=new e(1,0,0,1),e.GREEN=new e(0,1,0,1),e.BLUE=new e(0,0,1,1),e.CYAN=new e(0,1,1,1),e.YELLOW=new e(1,1,0,1),e.MAGENTA=new e(1,0,1,1),e.LIGHT_GRAY=new e(.75,.75,.75,1),e.MEDIUM_GRAY=new e(.5,.5,.5,1),e.DARK_GRAY=new e(.25,.25,.25,1),e.TRANSPARENT=new e(0,0,0,0),e.prototype.set=function(t,e,n,r){return this.red=t,this.green=e,this.blue=n,this.alpha=r,this},e.prototype.copy=function(e){if(!e)throw new ArgumentError(t.logMessage(t.LEVEL_SEVERE,"Color","copy","missingColor"));return this.red=e.red,this.green=e.green,this.blue=e.blue,this.alpha=e.alpha,this},e.prototype.clone=function(){return new e(this.red,this.green,this.blue,this.alpha)},e.prototype.premultipliedComponents=function(t){var e=this.alpha;return t[0]=this.red*e,t[1]=this.green*e,t[2]=this.blue*e,t[3]=e,t},e.colorFromByteArray=function(t){return new e(t[0]/255,t[1]/255,t[2]/255,t[3]/255)},e.colorFromBytes=function(t,n,r,i){return new e(t/255,n/255,r/255,i/255)},e.colorFromHex=function(t){var n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16),o=parseInt(t.substring(6,8),16);return e.colorFromBytes(n,r,i,o)},e.colorFromKmlHex=function(t){var n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16),o=parseInt(t.substring(6,8),16);return e.colorFromBytes(o,i,r,n)},e.prototype.nextColor=function(){var t=Math.round(255*this.red),e=Math.round(255*this.green),n=Math.round(255*this.blue);return t<255?this.red=(t+1)/255:e<255?(this.red=0,this.green=(e+1)/255):n<255?(this.red=0,this.green=0,this.blue=(n+1)/255):(this.red=1/255,this.green=0,this.blue=0),this},e.prototype.equals=function(t){var e=Math.round(255*this.red),n=Math.round(255*this.green),r=Math.round(255*this.blue),i=Math.round(255*this.alpha),o=Math.round(255*t.red),a=Math.round(255*t.green),s=Math.round(255*t.blue),u=Math.round(255*t.alpha);return e===o&&n===a&&r===s&&i===u},e.prototype.equalsBytes=function(t){var e=Math.round(255*this.red),n=Math.round(255*this.green),r=Math.round(255*this.blue),i=Math.round(255*this.alpha);return e===t[0]&&n===t[1]&&r===t[2]&&i===t[3]},e.prototype.toByteString=function(){return"("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+","+Math.round(255*this.alpha)+")"},e.prototype.toHexString=function(t){var e=Math.ceil(255*this.red).toString(16),n=Math.ceil(255*this.green).toString(16),r=Math.ceil(255*this.blue).toString(16),i=Math.ceil(255*this.alpha).toString(16),o="#";return o+=e.length<2?"0"+e:e,o+=n.length<2?"0"+n:n,o+=r.length<2?"0"+r:r,t&&(o+=i.length<2?"0"+i:i),o},e.prototype.toCssColorString=function(){return"rgba("+Math.round(255*this.red)+", "+Math.round(255*this.green)+", "+Math.round(255*this.blue)+", "+this.alpha+")"},e})),i("util/Font",["../error/ArgumentError","../util/Color","../util/Logger"],(function(t,e,n){"use strict";var r=function(e,r,i,o,a,s){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"Font","constructor","missingSize"));if(e<=0)throw new t(n.logMessage(n.LEVEL_SEVERE,"Font","constructor","invalidSize"));this._size=e,this.style=r||"normal",this.variant=i||"normal",this.weight=o||"normal",this.family=a||"sans-serif",this.horizontalAlignment=s||"center"};return Object.defineProperties(r.prototype,{size:{get:function(){return this._size},set:function(t){this._fontString=null,this._size=t}},style:{get:function(){return this._style},set:function(t){this._fontString=null,this._style=t}},variant:{get:function(){return this._variant},set:function(t){this._fontString=null,this._variant=t}},weight:{get:function(){return this._weight},set:function(t){this._fontString=null,this._weight=t}},family:{get:function(){return this._family},set:function(t){this._fontString=null,this._family=t}},horizontalAlignment:{get:function(){return this._horizontalAlignment},set:function(t){this._toString=null,this._horizontalAlignment=t}},fontString:{get:function(){return this._fontString||(this._fontString=this._style+" "+this.variant+" "+this._weight+" "+this._size.toString()+"px "+this._family),this._fontString}}}),r.prototype.toString=function(){return this._toString&&this._fontString||(this._toString=this.fontString+" "+this.horizontalAlignment),this._toString},r})),i("util/Insets",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function(n,r,i,o){if(4!==arguments.length)throw new t(e.logMessage(e.LEVEL_SEVERE,"Insets","constructor","invalidArgumentCount"));this._top=n,this._left=r,this._bottom=i,this._right=o};return n.prototype.set=function(t,e,n,r){this._top=t,this._left=e,this._bottom=n,this._right=r},n.prototype.clone=function(){return new n(this._top,this._left,this._bottom,this._right)},n.prototype.toString=function(){return this._top+" "+this._left+" "+this._bottom+" "+this._right},Object.defineProperties(n.prototype,{top:{get:function(){return this._top},set:function(t){this._top=t}},left:{get:function(){return this._left},set:function(t){this._left=t}},bottom:{get:function(){return this._bottom},set:function(t){this._bottom=t}},right:{get:function(){return this._right},set:function(t){this._right=t}}}),n})),i("geom/Vec3",["../util/Logger","../error/ArgumentError"],(function(t,e){"use strict";var n=function(t,e,n){this[0]=t,this[1]=e,this[2]=n};return n.prototype=new Float64Array(3),n.ZERO=new n(0,0,0),n.average=function(n,r){if(!n||n.length<1)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","average","missingArray"));if(!r)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","average","missingResult"));var i,o=n.length;r[0]=0,r[1]=0,r[2]=0;for(var a=0,s=n.length;a<s;a++)i=n[a],r[0]+=i[0]/o,r[1]+=i[1]/o,r[2]+=i[2]/o;return r},n.averageOfBuffer=function(n,r){if(!n||n.length<1)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","averageBuffer","missingArray"));if(!r)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","averageBuffer","missingResult"));var i=n.length/3;r[0]=0,r[1]=0,r[2]=0;for(var o=0;o<i;o++)r[0]+=n[3*o]/i,r[1]+=n[3*o+1]/i,r[2]+=n[3*o+2]/i;return r},n.areColinear=function(r,i,o){if(!r||!i||!o)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","areColinear","missingVector"));var a=new n(r[0]-i[0],r[1]-i[1],r[2]-i[2]).normalize(),s=new n(o[0]-i[0],o[1]-i[1],o[2]-i[2]).normalize();return Math.abs(a.dot(s))>.999},n.computeTriangleNormal=function(r,i,o){if(!r||!i||!o)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","areColinear","missingVector"));var a=(i[1]-r[1])*(o[2]-r[2])-(i[2]-r[2])*(o[1]-r[1]),s=(i[2]-r[2])*(o[0]-r[0])-(i[0]-r[0])*(o[2]-r[2]),u=(i[0]-r[0])*(o[1]-r[1])-(i[1]-r[1])*(o[0]-r[0]),l=a*a+s*s+u*u;return 0===l?new n(a,s,u):(l=Math.sqrt(l),new n(a/l,s/l,u/l))},n.findThreeIndependentVertices=function(t,e){var r=e&&e>0?e:3;if(!t||t.length<3*r)return null;for(var i=new n(t[0],t[1],t[2]),o=null,a=null,s=r;s<t.length&&(o=new n(t[s],t[s+1],t[s+2]))[0]===i[0]&&o[1]===i[1]&&o[2]===i[2];s+=r)o=null;if(!o)return null;for(s+=r;s<t.length&&((a=new n(t[s],t[s+1],t[s+2]))[0]===i[0]&&a[1]===i[1]&&a[2]===i[2]||a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2]||n.areColinear(i,o,a));s+=r)a=null;return a?[i,o,a]:null},n.computeBufferNormal=function(t,e){var r=n.findThreeIndependentVertices(t,e);return r?n.computeTriangleNormal(r[0],r[1],r[2]):null},n.prototype.set=function(t,e,n){return this[0]=t,this[1]=e,this[2]=n,this},n.prototype.copy=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","copy","missingVector"));return this[0]=n[0],this[1]=n[1],this[2]=n[2],this},n.prototype.equals=function(t){return this[0]===t[0]&&this[1]===t[1]&&this[2]===t[2]},n.prototype.add=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","add","missingVector"));return this[0]+=n[0],this[1]+=n[1],this[2]+=n[2],this},n.prototype.subtract=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","subtract","missingVector"));return this[0]-=n[0],this[1]-=n[1],this[2]-=n[2],this},n.prototype.multiply=function(t){return this[0]*=t,this[1]*=t,this[2]*=t,this},n.prototype.divide=function(t){return this[0]/=t,this[1]/=t,this[2]/=t,this},n.prototype.multiplyByMatrix=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","multiplyByMatrix","missingMatrix"));var r=n[0]*this[0]+n[1]*this[1]+n[2]*this[2]+n[3],i=n[4]*this[0]+n[5]*this[1]+n[6]*this[2]+n[7],o=n[8]*this[0]+n[9]*this[1]+n[10]*this[2]+n[11],a=n[12]*this[0]+n[13]*this[1]+n[14]*this[2]+n[15];return this[0]=r/a,this[1]=i/a,this[2]=o/a,this},n.prototype.mix=function(n,r){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","mix","missingVector"));var i=1-r,o=r;return this[0]=this[0]*i+n[0]*o,this[1]=this[1]*i+n[1]*o,this[2]=this[2]*i+n[2]*o,this},n.prototype.negate=function(){return this[0]=-this[0],this[1]=-this[1],this[2]=-this[2],this},n.prototype.dot=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","dot","missingVector"));return this[0]*n[0]+this[1]*n[1]+this[2]*n[2]},n.prototype.cross=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","cross","missingVector"));var r=this[1]*n[2]-this[2]*n[1],i=this[2]*n[0]-this[0]*n[2],o=this[0]*n[1]-this[1]*n[0];return this[0]=r,this[1]=i,this[2]=o,this},n.prototype.magnitudeSquared=function(){return this.dot(this)},n.prototype.magnitude=function(){return Math.sqrt(this.magnitudeSquared())},n.prototype.normalize=function(){var t=1/this.magnitude();return this[0]*=t,this[1]*=t,this[2]*=t,this},n.prototype.distanceToSquared=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","distanceToSquared","missingVector"));var r=this[0]-n[0],i=this[1]-n[1],o=this[2]-n[2];return r*r+i*i+o*o},n.prototype.distanceTo=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec3","distanceTo","missingVector"));return Math.sqrt(this.distanceToSquared(n))},n.prototype.swap=function(t){var e=this[0];return this[0]=t[0],t[0]=e,e=this[1],this[1]=t[1],t[1]=e,e=this[2],this[2]=t[2],t[2]=e,this},n.prototype.toString=function(){return"("+this[0]+", "+this[1]+", "+this[2]+")"},n})),i("geom/Vec2",["../util/Logger","../error/ArgumentError","../geom/Vec3"],(function(t,e,n){"use strict";var r=function(t,e){this[0]=t,this[1]=e};return(r.prototype=new Float64Array(2)).set=function(t,e){return this[0]=t,this[1]=e,this},r.prototype.copy=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec2","copy","missingVector"));return this[0]=n[0],this[1]=n[1],this},r.prototype.equals=function(t){return this[0]===t[0]&&this[1]===t[1]},r.average=function(n,r){if(!n||n.length<1)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec2","average","missingArray"));if(!r)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec2","average","missingResult"));var i,o=n.length;r[0]=0,r[1]=0;for(var a=0,s=n.length;a<s;a++)i=n[a],r[0]+=i[0]/o,r[1]+=i[1]/o;return r},r.prototype.add=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec2","add","missingVector"));return this[0]+=n[0],this[1]+=n[1],this},r.prototype.subtract=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec2","subtract","missingVector"));return this[0]-=n[0],this[1]-=n[1],this},r.prototype.multiply=function(t){return this[0]*=t,this[1]*=t,this},r.prototype.divide=function(t){return this[0]/=t,this[1]/=t,this},r.prototype.mix=function(n,r){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec2","mix","missingVector"));var i=1-r,o=r;return this[0]=this[0]*i+n[0]*o,this[1]=this[1]*i+n[1]*o,this},r.prototype.negate=function(){return this[0]=-this[0],this[1]=-this[1],this},r.prototype.dot=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec2","dot","missingVector"));return this[0]*n[0]+this[1]*n[1]},r.prototype.magnitudeSquared=function(){return this.dot(this)},r.prototype.magnitude=function(){return Math.sqrt(this.magnitudeSquared())},r.prototype.normalize=function(){var t=1/this.magnitude();return this[0]*=t,this[1]*=t,this},r.prototype.distanceToSquared=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec2","distanceToSquared","missingVector"));var r=this[0]-n[0],i=this[1]-n[1];return r*r+i*i},r.prototype.distanceTo=function(n){if(!n)throw new e(t.logMessage(t.LEVEL_SEVERE,"Vec2","distanceTo","missingVector"));return Math.sqrt(this.distanceToSquared(n))},r.prototype.toVec3=function(){return new n(this[0],this[1],0)},r.prototype.swap=function(t){var e=this[0];return this[0]=t[0],t[0]=e,e=this[1],this[1]=t[1],t[1]=e,this},r.prototype.toString=function(){return"("+this[0]+", "+this[1]+")"},r})),i("util/Offset",["../geom/Vec2"],(function(t){"use strict";var e=function(t,e,n,r){this.x=e,this.y=r,this.xUnits=t,this.yUnits=n};return e.prototype.clone=function(){return new e(this.xUnits,this.x,this.yUnits,this.y)},e.prototype.offsetForSize=function(e,n){var r,i;return r=this.xUnits===WorldWind.OFFSET_FRACTION?e*this.x:this.xUnits===WorldWind.OFFSET_INSET_PIXELS?e-this.x:this.x,i=this.yUnits===WorldWind.OFFSET_FRACTION?n*this.y:this.yUnits===WorldWind.OFFSET_INSET_PIXELS?n-this.y:this.y,new t(r,i)},e.prototype.toString=function(){return this.xUnits+" "+this.x+" "+this.yUnits+" "+this.y},e})),i("shapes/TextAttributes",["../util/Color","../util/Font","../util/Offset"],(function(t,e,n){"use strict";var r=function(r){this._color=r?r._color.clone():t.WHITE.clone(),this._font=r?r._font:new e(14),this._offset=r?r._offset:new n(WorldWind.OFFSET_FRACTION,.5,WorldWind.OFFSET_FRACTION,0),this._scale=r?r._scale:1,this._depthTest=!!r&&r._depthTest,this._enableOutline=!r||r._enableOutline,this._outlineWidth=r?r._outlineWidth:4,this._outlineColor=r?r._outlineColor:new t(0,0,0,.5),this.stateKeyInvalid=!0};return r.prototype.computeStateKey=function(){return"c "+this._color.toHexString(!0)+" f "+this._font.toString()+" o "+this._offset.toString()+" s "+this._scale+" dt "+this._depthTest+" eo "+this._enableOutline+" ow "+this._outlineWidth+" oc "+this._outlineColor.toHexString(!0)},Object.defineProperties(r.prototype,{stateKey:{get:function(){return this.stateKeyInvalid&&(this._stateKey=this.computeStateKey(),this.stateKeyInvalid=!1),this._stateKey}},color:{get:function(){return this._color},set:function(t){this._color=t,this.stateKeyInvalid=!0}},font:{get:function(){return this._font},set:function(t){this._font=t,this.stateKeyInvalid=!0}},offset:{get:function(){return this._offset},set:function(t){this._offset=t,this.stateKeyInvalid=!0}},scale:{get:function(){return this._scale},set:function(t){this._scale=t,this.stateKeyInvalid=!0}},depthTest:{get:function(){return this._depthTest},set:function(t){this._depthTest=t,this.stateKeyInvalid=!0}},enableOutline:{get:function(){return this._enableOutline},set:function(t){this._enableOutline=t,this.stateKeyInvalid=!0}},outlineWidth:{get:function(){return this._outlineWidth},set:function(t){this._outlineWidth=t,this.stateKeyInvalid=!0}},outlineColor:{get:function(){return this._outlineColor},set:function(t){this._outlineColor=t,this.stateKeyInvalid=!0}}}),r})),i("shapes/AnnotationAttributes",["../util/Color","../util/Font","../util/Insets","../shapes/TextAttributes"],(function(t,e,n,r){"use strict";var i=function(e){this._cornerRadius=e?e._cornerRadius:0,this._insets=e?e._insets:new n(0,0,0,0),this._backgroundColor=e?e._backgroundColor.clone():t.WHITE.clone(),this._leaderGapWidth=e?e._leaderGapWidth:40,this._leaderGapHeight=e?e._leaderGapHeight:30,this._opacity=e?e._opacity:1,this._scale=e?e._scale:1,this._drawLeader=!e||e._drawLeader,this._width=e?e._width:200,this._height=e?e._height:100,this._textAttributes=e?e._textAttributes:this.createDefaultTextAttributes(),this.stateKeyInvalid=!0};return i.prototype.computeStateKey=function(){return"wi "+this._width+" he "+this._height+" cr "+this._cornerRadius+" in "+this._insets.toString()+" bg "+this.backgroundColor.toHexString(!0)+" dl "+this.drawLeader+" lgw "+this.leaderGapWidth+" lgh "+this.leaderGapHeight+" op "+this.opacity+" ta "+this._textAttributes.stateKey+" sc "+this.scale},i.prototype.createDefaultTextAttributes=function(){var t=new r(null);return t.enableOutline=!1,t},Object.defineProperties(i.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t,this.stateKeyInvalid=!0}},height:{get:function(){return this._height},set:function(t){this._height=t,this.stateKeyInvalid=!0}},cornerRadius:{get:function(){return this._cornerRadius},set:function(t){this._cornerRadius=t,this.stateKeyInvalid=!0}},insets:{get:function(){return this._insets},set:function(t){this._insets=t,this.stateKeyInvalid=!0}},backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this.stateKeyInvalid=!0}},textAttributes:{get:function(){return this._textAttributes},set:function(t){this._textAttributes=t,this.stateKeyInvalid=!0}},drawLeader:{get:function(){return this._drawLeader},set:function(t){this._drawLeader=t,this.stateKeyInvalid=!0}},leaderGapWidth:{get:function(){return this._leaderGapWidth},set:function(t){this._leaderGapWidth=t,this.stateKeyInvalid=!0}},leaderGapHeight:{get:function(){return this._leaderGapHeight},set:function(t){this._leaderGapHeight=t,this.stateKeyInvalid=!0}},opacity:{get:function(){return this._opacity},set:function(t){this._opacity=t,this.stateKeyInvalid=!0}},scale:{get:function(){return this._scale},set:function(t){this._scale=t,this.stateKeyInvalid=!0}},stateKey:{get:function(){return this.stateKeyInvalid&&(this._stateKey=this.computeStateKey(),this.stateKeyInvalid=!1),this._stateKey}}}),i})),i("shaders/GpuShader",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function(n,r,i){if(r!==n.VERTEX_SHADER&&r!==n.FRAGMENT_SHADER)throw new t(e.logMessage(e.LEVEL_SEVERE,"GpuShader","constructor","The specified shader type is unrecognized."));if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"GpuShader","constructor","The specified shader source is null or undefined."));var o=n.createShader(r);if(!o)throw new t(e.logMessage(e.LEVEL_SEVERE,"GpuShader","constructor","Unable to create shader of type "+(r==n.VERTEX_SHADER?"VERTEX_SHADER.":"FRAGMENT_SHADER.")));if(!this.compile(n,o,r,i)){var a=n.getShaderInfoLog(o);throw n.deleteShader(o),new t(e.logMessage(e.LEVEL_SEVERE,"GpuShader","constructor","Unable to compile shader: "+a))}this.shaderId=o};return n.prototype.compile=function(t,e,n,r){return t.shaderSource(e,r),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)},n.prototype.dispose=function(t){this.shaderId&&(t.deleteShader(this.shaderId),delete this.shaderId)},n})),i("shaders/GpuProgram",["../error/ArgumentError","../util/Color","../shaders/GpuShader","../util/Logger"],(function(t,e,n,r){"use strict";var i=function(e,i,o,a){if(!i||!o)throw new t(r.logMessage(r.LEVEL_SEVERE,"GpuProgram","constructor","The specified shader source is null or undefined."));var s,u,l;try{u=new n(e,e.VERTEX_SHADER,i),l=new n(e,e.FRAGMENT_SHADER,o)}catch(t){throw u&&u.dispose(e),l&&l.dispose(e),t}if(!(s=e.createProgram()))throw new t(r.logMessage(r.LEVEL_SEVERE,"GpuProgram","constructor","Unable to create shader program."));if(e.attachShader(s,u.shaderId),e.attachShader(s,l.shaderId),a)for(var c=0,h=a.length;c<h;c++)e.bindAttribLocation(s,c,a[c]);if(!this.link(e,s)){var f=e.getProgramInfoLog(s);throw e.detachShader(s,u.shaderId),e.detachShader(s,l.shaderId),e.deleteProgram(s),u.dispose(e),l.dispose(e),new t(r.logMessage(r.LEVEL_SEVERE,"GpuProgram","constructor","Unable to link shader program: "+f))}this.programId=s,this.attributeLocations={},this.uniformLocations={},this.vertexShader=u,this.fragmentShader=l,this.size=i.length+o.length,this.scratchArray=new Float32Array(16)};return i.prototype.dispose=function(t){this.programId&&(this.vertexShader&&t.detachShader(this.programId,this.vertexShader.shaderId),this.fragmentShader&&t.detachShader(this.programId,this.fragmentShader.shaderId),t.deleteProgram(this.programId),delete this.programId),this.vertexShader&&(this.vertexShader.dispose(t),delete this.vertexShader),this.fragmentShader&&(this.fragmentShader.dispose(t),delete this.fragmentShader),this.attributeLocations={},this.uniformLocations={}},i.prototype.attributeLocation=function(e,n){if(!n||0==n.length)throw new t(r.logMessage(r.LEVEL_SEVERE,"GpuProgram","attributeLocation","The specified attribute name is null, undefined or empty."));var i=this.attributeLocations[n];return i||(i=e.getAttribLocation(this.programId,n),this.attributeLocations[n]=i),i},i.prototype.uniformLocation=function(e,n){if(!n||0==n.length)throw new t(r.logMessage(r.LEVEL_SEVERE,"GpuProgram","uniformLocation","The specified uniform name is null, undefined or empty."));var i=this.uniformLocations[n];return i||(i=e.getUniformLocation(this.programId,n),this.uniformLocations[n]=i),i},i.prototype.link=function(t,e){return t.linkProgram(e),t.getProgramParameter(e,t.LINK_STATUS)},i.prototype.loadUniformMatrix=function(e,n,i){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"GpuProgram","loadUniformMatrix","missingMatrix"));var o=n.columnMajorComponents(this.scratchArray);e.uniformMatrix4fv(i,!1,o)},i.prototype.loadUniformColor=function(e,n,i){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"GpuProgram","loadUniformColor","missingColor"));var o=n.premultipliedComponents(this.scratchArray);e.uniform4f(i,o[0],o[1],o[2],o[3])},i.prototype.loadUniformColorComponents=function(t,e,n,r,i,o){t.uniform4f(o,e*i,n*i,r*i,i)},i})),i("shaders/BasicTextureProgram",["../error/ArgumentError","../util/Color","../shaders/GpuProgram","../util/Logger"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,t,"attribute vec4 vertexPoint;\nattribute vec4 vertexTexCoord;\nattribute vec4 normalVector;\nuniform mat4 mvpMatrix;\nuniform mat4 mvInverseMatrix;\nuniform mat4 texCoordMatrix;\nuniform bool applyLighting;\nvarying vec2 texCoord;\nvarying vec4 normal;\nvoid main() {gl_Position = mvpMatrix * vertexPoint;\ntexCoord = (texCoordMatrix * vertexTexCoord).st;\nif (applyLighting) {normal = mvInverseMatrix * normalVector;}\n}","precision mediump float;\nuniform float opacity;\nuniform vec4 color;\nuniform bool enableTexture;\nuniform bool modulateColor;\nuniform sampler2D textureSampler;\nuniform bool applyLighting;\nvarying vec2 texCoord;\nvarying vec4 normal;\nvoid main() {\nvec4 textureColor = texture2D(textureSampler, texCoord);\nfloat ambient = 0.15; vec4 lightDirection = vec4(0, 0, 1, 0);\nif (enableTexture && !modulateColor)\n    gl_FragColor = textureColor * color * opacity;\nelse if (enableTexture && modulateColor)\n    gl_FragColor = color * floor(textureColor.a + 0.5);\nelse\n    gl_FragColor = color * opacity;\nif (gl_FragColor.a == 0.0) {discard;}\nif (applyLighting) {\n    vec4 n = normal * (gl_FrontFacing ? 1.0 : -1.0);\n    gl_FragColor.rgb *= clamp(ambient + dot(lightDirection, n), 0.0, 1.0);\n}\n}",["vertexPoint","normalVector","vertexTexCoord"]),this.vertexPointLocation=this.attributeLocation(t,"vertexPoint"),this.normalVectorLocation=this.attributeLocation(t,"normalVector"),this.vertexTexCoordLocation=this.attributeLocation(t,"vertexTexCoord"),this.mvpMatrixLocation=this.uniformLocation(t,"mvpMatrix"),this.mvInverseMatrixLocation=this.uniformLocation(t,"mvInverseMatrix"),this.colorLocation=this.uniformLocation(t,"color"),this.textureEnabledLocation=this.uniformLocation(t,"enableTexture"),this.modulateColorLocation=this.uniformLocation(t,"modulateColor"),this.textureUnitLocation=this.uniformLocation(t,"textureSampler"),this.textureMatrixLocation=this.uniformLocation(t,"texCoordMatrix"),this.opacityLocation=this.uniformLocation(t,"opacity"),this.applyLightingLocation=this.uniformLocation(t,"applyLighting")};return i.key="WorldWindGpuBasicTextureProgram",(i.prototype=Object.create(n.prototype)).loadModelviewInverse=function(e,n){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"BasicTextureProgram","loadModelviewInverse","missingMatrix"));this.loadUniformMatrix(e,n,this.mvInverseMatrixLocation)},i.prototype.loadModelviewProjection=function(e,n){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"BasicTextureProgram","loadModelviewProjection","missingMatrix"));this.loadUniformMatrix(e,n,this.mvpMatrixLocation)},i.prototype.loadColor=function(e,n){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"BasicTextureProgram","loadColor","missingColor"));this.loadUniformColor(e,n,this.colorLocation)},i.prototype.loadTextureEnabled=function(t,e){t.uniform1i(this.textureEnabledLocation,e?1:0)},i.prototype.loadModulateColor=function(t,e){t.uniform1i(this.modulateColorLocation,e?1:0)},i.prototype.loadTextureUnit=function(t,e){t.uniform1i(this.textureUnitLocation,e-t.TEXTURE0)},i.prototype.loadTextureMatrix=function(t,e){this.loadUniformMatrix(t,e,this.textureMatrixLocation)},i.prototype.loadOpacity=function(t,e){t.uniform1f(this.opacityLocation,e)},i.prototype.loadApplyLighting=function(t,e){t.uniform1i(this.applyLightingLocation,e)},i})),i("geom/Line",["../error/ArgumentError","../util/Logger","../geom/Vec3"],(function(t,e,n){"use strict";var r=function(n,r){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"Line","constructor","Origin is null or undefined."));if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"Line","constructor","Direction is null or undefined."));this.origin=n,this.direction=r};return r.fromSegment=function(i,o){if(!i||!o)throw new t(e.logMessage(e.LEVEL_SEVERE,"Line","fromSegment","missingPoint"));var a=new n(i[0],i[1],i[2]),s=new n(o[0]-i[0],o[1]-i[1],o[2]-i[2]);return new r(a,s)},r.prototype.pointAt=function(n,r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"Line","pointAt","missingResult."));return r[0]=this.origin[0]+this.direction[0]*n,r[1]=this.origin[1]+this.direction[1]*n,r[2]=this.origin[2]+this.direction[2]*n,r},r.prototype.equals=function(t){return!!t&&this.origin.equals(t.origin)&&this.direction.equals(t.direction)},r.prototype.clone=function(){var t=new r(new n(0,0,0),new n(0,0,0));return t.copy(this),t},r.prototype.copy=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"Line","copy","missingLine"));return this.origin.copy(n.origin),this.direction.copy(n.direction),this},r})),i("geom/Plane",["../error/ArgumentError","../geom/Line","../util/Logger","../geom/Vec3"],(function(t,e,n,r){"use strict";var i=function(t,e,n,i){this.normal=new r(t,e,n),this.distance=i};return i.fromPoints=function(e,o,a){if(!e||!o||!a)throw new t(n.logMessage(n.LEVEL_SEVERE,"Plane","fromPoints","missingVector"));var s=new r(o[0],o[1],o[2]);s.subtract(e);var u=new r(a[0],a[1],a[2]);u.subtract(e),s.cross(u),s.normalize();var l=-s.dot(e);return new i(s[0],s[1],s[2],l)},i.prototype.dot=function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"Plane","dot","missingVector"));return this.normal.dot(e)+this.distance},i.prototype.distanceToPoint=function(t){return this.dot(t)},i.prototype.transformByMatrix=function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"Plane","transformByMatrix","missingMatrix"));var r=e[0]*this.normal[0]+e[1]*this.normal[1]+e[2]*this.normal[2]+e[3]*this.distance,i=e[4]*this.normal[0]+e[5]*this.normal[1]+e[6]*this.normal[2]+e[7]*this.distance,o=e[8]*this.normal[0]+e[9]*this.normal[1]+e[10]*this.normal[2]+e[11]*this.distance,a=e[12]*this.normal[0]+e[13]*this.normal[1]+e[14]*this.normal[2]+e[15]*this.distance;return this.normal[0]=r,this.normal[1]=i,this.normal[2]=o,this.distance=a,this},i.prototype.normalize=function(){var t=this.normal.magnitude();return 0===t||(this.normal.divide(t),this.distance/=t),this},i.prototype.intersectsSegment=function(t,e){return this.dot(t)*this.dot(e)<=0},i.prototype.intersectsSegmentAt=function(t,e,n){var r=this.dot(t),i=this.dot(e);if(0===r&&0===i)return n[0]=t[0],n[1]=t[1],n[2]=t[2],!0;if(r===i)return!1;var o=-r/(i-r),a=1-o;return n[0]=o*t[0]+a*e[0],n[1]=o*t[1]+a*e[1],n[2]=o*t[2]+a*e[2],r*i<=0},i.prototype.onSameSide=function(e,r){if(!e||!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"Plane","onSameSide","missingPoint"));var i=this.distanceToPoint(e),o=this.distanceToPoint(r);return i<0&&o<0?-1:i>0&&o>0?1:0},i.prototype.clip=function(i,o){if(!i||!o)throw new t(n.logMessage(n.LEVEL_SEVERE,"Plane","clip","missingPoint"));if(i.equals(o))return null;var a,s,u=e.fromSegment(i,o),l=this.normal.dot(u.direction);return 0===l?0===this.dot(u.origin)?[i,o]:null:(a=-this.dot(u.origin)/l)<0||a>1?null:(s=u.pointAt(a,new r(0,0,0)),l>0?[s,o]:[i,s])},i})),i("geom/Rectangle",["../util/Logger"],(function(t){"use strict";var e=function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r};return e.prototype.set=function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r},e.prototype.getMinX=function(){return this.x},e.prototype.getMinY=function(){return this.y},e.prototype.getMaxX=function(){return this.x+this.width},e.prototype.getMaxY=function(){return this.y+this.height},e.prototype.containsPoint=function(t){return t[0]>=this.x&&t[0]<=this.x+this.width&&t[1]>=this.y&&t[1]<=this.y+this.height},e.prototype.intersects=function(t){return!(t.x+t.width<this.x)&&!(t.x>this.x+this.width)&&!(t.y+t.height<this.y)&&!(t.y>this.y+this.height)},e.prototype.intersectsRectangles=function(t){if(t)for(var e=0;e<t.length;e++)if(this.intersects(t[e]))return!0;return!1},e.prototype.toString=function(){return this.x+", "+this.y+", "+this.width+", "+this.height},e})),i("util/WWMath",["../geom/Angle","../error/ArgumentError","../geom/Line","../util/Logger","../geom/Rectangle","../geom/Vec3"],(function(t,e,n,r,i,o){"use strict";var a={clamp:function(t,e,n){return t<e?e:t>n?n:t},interpolate:function(t,e,n){return(1-t)*e+t*n},cbrt:function(t){return"function"==typeof Math.cbrt?Math.cbrt(t):Math.pow(t,1/3)},computeEllipsoidalGlobeIntersection:function(t,n,i,o){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeEllipsoidalGlobeIntersection","missingLine"));if(!o)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeEllipsoidalGlobeIntersection","missingResult"));var a,s=t.direction[0],u=t.direction[1],l=t.direction[2],c=t.origin[0],h=t.origin[1],f=t.origin[2],p=n/i,d=p*p,g=s*s+d*u*u+l*l,m=2*(c*s+d*h*u+f*l),y=m*m-4*g*(c*c+d*h*h+f*f-n*n);return!(y<0)&&(a=(-m-Math.sqrt(y))/(2*g),o[0]=c+s*a,o[1]=h+u*a,o[2]=f+l*a,!0)},computeTriangleIntersection:function(t,n,i,o,a){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeTriangleIntersection","missingLine"));if(!n||!i||!o)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeTriangleIntersection","missingVertex"));if(!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeTriangleIntersection","missingResult"));var s=t.direction[0],u=t.direction[1],l=t.direction[2],c=t.origin[0],h=t.origin[1],f=t.origin[2],p=1e-5,d=i[0]-n[0],g=i[1]-n[1],m=i[2]-n[2],y=o[0]-n[0],v=o[1]-n[1],b=o[2]-n[2],E=u*b-l*v,_=l*y-s*b,w=s*v-u*y,S=d*E+g*_+m*w;if(S>-p&&S<p)return!1;var x=1/S,T=c-n[0],O=h-n[1],C=f-n[2],A=x*(T*E+O*_+C*w);if(A<-p||A>1+p)return!1;var L=O*m-C*g,P=C*d-T*m,R=T*g-O*d,M=x*(s*L+u*P+l*R);if(M<-p||A+M>1+p)return!1;var k=x*(y*L+v*P+b*R);return!(k<0)&&(a[0]=c+s*k,a[1]=h+u*k,a[2]=f+l*k,!0)},computeIndexedTrianglesIntersection:function(t,n,i,s){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeIndexedTrianglesIntersection","missingLine"));if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeIndexedTrianglesIntersection","missingPoints"));if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeIndexedTrianglesIntersection","missingIndices"));if(!s)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeIndexedTrianglesIntersection","missingResults"));for(var u=new o(0,0,0),l=new o(0,0,0),c=new o(0,0,0),h=new o(0,0,0),f=0,p=i.length;f<p;f+=3){var d=3*i[f],g=3*i[f+1],m=3*i[f+2];u[0]=n[d],u[1]=n[d+1],u[2]=n[d+2],l[0]=n[g],l[1]=n[g+1],l[2]=n[g+2],c[0]=n[m],c[1]=n[m+1],c[2]=n[m+2],a.computeTriangleIntersection(t,u,l,c,h)&&(s.push(h),h=new o(0,0,0))}return s.length>0},computeTriStripIntersections:function(t,n,i,a){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeTriStripIntersections","missingLine"));if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeTriStripIntersections","missingPoints"));if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeTriStripIntersections","missingIndices"));if(!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","computeTriStripIntersections","missingResults"));var s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w,S,x,T,O,C,A,L,P,R,M,k,I,N,D,j=t.direction[0],F=t.direction[1],V=t.direction[2],B=t.origin[0],U=t.origin[1],G=t.origin[2],W=1e-5;D=3*i[0],c=n[D++],h=n[D++],f=n[D],D=3*i[1],p=n[D++],d=n[D++],g=n[D];for(var K=2,z=i.length;K<z;K++)s=c,u=h,l=f,c=p,h=d,f=g,D=3*i[K],p=n[D++],d=n[D++],(I=(m=c-s)*(w=F*(_=(g=n[D])-l)-V*(E=d-u))+(y=h-u)*(S=V*(b=p-s)-j*_)+(v=f-l)*(x=j*E-F*b))>-W&&I<W||(R=(N=1/I)*((T=B-s)*w+(O=U-u)*S+(C=G-l)*x))<-W||R>1+W||(M=N*(j*(A=O*v-C*y)+F*(L=C*m-T*v)+V*(P=T*y-O*m)))<-W||R+M>1+W||(k=N*(b*A+E*L+_*P))>=0&&a.push(new o(B+j*k,U+F*k,G+V*k))},fabs:function(t){return t>=0?t:-t},fmod:function(t,e){return 0===e?0:t-Math.floor(t/e)*e},fract:function(t){return t-Math.floor(t)},mod:function(t,e){return(t%e+e)%e},max:function(t,e){return t>e?t:e},localCoordinateAxesAtPoint:function(t,n,i,o,a){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","localCoordinateAxesAtPoint","missingVector"));if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","localCoordinateAxesAtPoint","missingGlobe"));if(!i||!o||!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","localCoordinateAxesAtPoint","missingResult"));var s=t[0],u=t[1],l=t[2];n.surfaceNormalAtPoint(s,u,l,a),n.northTangentAtPoint(s,u,l,o),i.set(o[0],o[1],o[2]),i.cross(a),i.normalize(),o.set(a[0],a[1],a[2]),o.cross(i),o.normalize()},horizonDistanceForGlobeRadius:function(t,n){if(t<0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","horizontalDistanceForGlobeRadius","The specified globe radius is negative."));return t>0&&n>0?Math.sqrt(n*(2*t+n)):0},perspectiveNearDistanceForFarDistance:function(t,n,i){if(t<0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectiveNearDistanceForFarDistance","The specified distance is negative."));if(n<0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectiveNearDistanceForFarDistance","The specified resolution is negative."));if(i<1)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectiveNearDistanceForFarDistance","The specified depth bits is negative."));var o=(1<<i)-1;return t/(o/(1-n/t)-o+1)},perspectiveNearDistance:function(t,n,i){if(t<=0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectiveNearDistance","invalidWidth"));if(n<=0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectiveNearDistance","invalidHeight"));if(i<0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectiveNearDistance","The specified distance is negative."));var o=n/t;return 2*i/Math.sqrt(o*o+5)},perspectiveFrustumRectangle:function(t,n,o){if(t<=0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectiveFrustumRectangle","invalidWidth"));if(n<=0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectiveFrustumRectangle","invalidHeight"));if(o<0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectiveFrustumRectangle","The specified distance is negative."));var a=o*n/t;return new i(-o/2,-a/2,o,a)},perspectivePixelSize:function(t,n,i){if(t<=0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectivePixelSize","invalidWidth"));if(n<=0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectivePixelSize","invalidHeight"));if(i<0)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","perspectivePixelSize","The specified distance is negative."));return a.perspectiveFrustumRectangle(t,n,i).height/n},boundingRectForUnitQuad:function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"WWMath","boundingRectForUnitQuad","missingMatrix"));var n=t,o=n[3],a=n[7],s=n[0]+n[3],u=n[4]+n[7],l=n[1]+n[3],c=n[5]+n[7],h=n[0]+n[1]+n[3],f=n[4]+n[5]+n[7],p=Math.min(Math.min(o,s),Math.min(l,h)),d=Math.max(Math.max(o,s),Math.max(l,h)),g=Math.min(Math.min(a,u),Math.min(c,f)),m=Math.max(Math.max(a,u),Math.max(c,f));return new i(p,g,d-p,m-g)},isPowerOfTwo:function(t){return 0!=t&&0===(t&t-1)},signum:function(t){return t>0?1:t<0?-1:0},gudermannianInverse:function(e){return Math.log(Math.tan(Math.PI/4+e*t.DEGREES_TO_RADIANS/2))/Math.PI},epsg3857ToEpsg4326:function(e,n){var r=6378100,i=Math.PI/2-2*Math.atan(Math.exp(-n/r)),o=e/r;return[a.clamp(i*t.RADIANS_TO_DEGREES,-90,90),a.clamp(o*t.RADIANS_TO_DEGREES,-180,180)]},powerOfTwoFloor:function(t){var e=Math.floor(Math.log(t)/Math.log(2));return Math.pow(2,e)},normalizeAngle360:function(t){var e=t%360;return e>=0?e:e<0?360+e:360-e}};return a})),i("geom/Location",["../geom/Angle","../error/ArgumentError","../util/Logger","../geom/Plane","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o){"use strict";var a=function(t,e){this.latitude=t,this.longitude=e};return a.ZERO=new a(0,0),a.fromRadians=function(e,n){return new a(e*t.RADIANS_TO_DEGREES,n*t.RADIANS_TO_DEGREES)},a.prototype.copy=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","copy","missingLocation"));return this.latitude=t.latitude,this.longitude=t.longitude,this},a.prototype.set=function(t,e){return this.latitude=t,this.longitude=e,this},a.prototype.equals=function(t){return t&&t.latitude===this.latitude&&t.longitude===this.longitude},a.interpolateAlongPath=function(t,r,i,o,a){if(!i||!o)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","interpolateAlongPath","missingLocation"));if(!a)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","interpolateAlongPath","missingResult"));return t===WorldWind.GREAT_CIRCLE?this.interpolateGreatCircle(r,i,o,a):t&&t===WorldWind.RHUMB_LINE?this.interpolateRhumb(r,i,o,a):this.interpolateLinear(r,i,o,a)},a.interpolateGreatCircle=function(t,r,i,a){if(!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","interpolateGreatCircle","missingLocation"));if(!a)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","interpolateGreatCircle","missingResult"));if(r.equals(i))return a.latitude=r.latitude,a.longitude=r.longitude,a;var s=o.clamp(t,0,1),u=this.greatCircleAzimuth(r,i),l=this.greatCircleDistance(r,i);return this.greatCircleLocation(r,u,s*l,a)},a.greatCircleAzimuth=function(r,i){if(!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","greatCircleAzimuth","missingLocation"));var o,a,s,u=r.latitude*t.DEGREES_TO_RADIANS,l=i.latitude*t.DEGREES_TO_RADIANS,c=r.longitude*t.DEGREES_TO_RADIANS,h=i.longitude*t.DEGREES_TO_RADIANS;return u==l&&c==h?0:c==h?u>l?180:0:(a=Math.cos(l)*Math.sin(h-c),o=Math.cos(u)*Math.sin(l)-Math.sin(u)*Math.cos(l)*Math.cos(h-c),s=Math.atan2(a,o),isNaN(s)?0:s*t.RADIANS_TO_DEGREES)},a.greatCircleDistance=function(r,i){if(!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","greatCircleDistance","missingLocation"));var o,a,s,u,l=r.latitude*t.DEGREES_TO_RADIANS,c=i.latitude*t.DEGREES_TO_RADIANS,h=r.longitude*t.DEGREES_TO_RADIANS,f=i.longitude*t.DEGREES_TO_RADIANS;return l==c&&h==f?0:(o=Math.sin((c-l)/2),a=Math.sin((f-h)/2),s=o*o+Math.cos(l)*Math.cos(c)*a*a,u=2*Math.asin(Math.sqrt(s)),isNaN(u)?0:u)},a.greatCircleLocation=function(r,i,o,a){if(!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","greatCircleLocation","missingLocation"));if(!a)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","greatCircleLocation","missingResult"));if(0==o)return a.latitude=r.latitude,a.longitude=r.longitude,a;var s,u,l=r.latitude*t.DEGREES_TO_RADIANS,c=r.longitude*t.DEGREES_TO_RADIANS,h=i*t.DEGREES_TO_RADIANS;return s=Math.asin(Math.sin(l)*Math.cos(o)+Math.cos(l)*Math.sin(o)*Math.cos(h)),u=c+Math.atan2(Math.sin(o)*Math.sin(h),Math.cos(l)*Math.cos(o)-Math.sin(l)*Math.sin(o)*Math.cos(h)),isNaN(s)||isNaN(u)?(a.latitude=r.latitude,a.longitude=r.longitude):(a.latitude=t.normalizedDegreesLatitude(s*t.RADIANS_TO_DEGREES),a.longitude=t.normalizedDegreesLongitude(u*t.RADIANS_TO_DEGREES)),a},a.interpolateRhumb=function(t,r,i,a){if(!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","interpolateRhumb","missingLocation"));if(!a)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","interpolateRhumb","missingResult"));if(r.equals(i))return a.latitude=r.latitude,a.longitude=r.longitude,a;var s=o.clamp(t,0,1),u=this.rhumbAzimuth(r,i),l=this.rhumbDistance(r,i);return this.rhumbLocation(r,u,s*l,a)},a.rhumbAzimuth=function(r,i){if(!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","rhumbAzimuth","missingLocation"));var a,s,u,l=r.latitude*t.DEGREES_TO_RADIANS,c=i.latitude*t.DEGREES_TO_RADIANS,h=r.longitude*t.DEGREES_TO_RADIANS,f=i.longitude*t.DEGREES_TO_RADIANS;return l==c&&h==f?0:(a=f-h,s=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(l/2+Math.PI/4)),o.fabs(a)>Math.PI&&(a=a>0?-(2*Math.PI-a):2*Math.PI+a),u=Math.atan2(a,s),isNaN(u)?0:u*t.RADIANS_TO_DEGREES)},a.rhumbDistance=function(r,i){if(!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","rhumbDistance","missingLocation"));var a,s,u,l,c,h=r.latitude*t.DEGREES_TO_RADIANS,f=i.latitude*t.DEGREES_TO_RADIANS,p=r.longitude*t.DEGREES_TO_RADIANS,d=i.longitude*t.DEGREES_TO_RADIANS;return h==f&&p==d?0:(s=d-p,l=(a=f-h)/(u=Math.log(Math.tan(f/2+Math.PI/4)/Math.tan(h/2+Math.PI/4))),(isNaN(u)||isNaN(l))&&(l=Math.cos(h)),o.fabs(s)>Math.PI&&(s=s>0?-(2*Math.PI-s):2*Math.PI+s),c=Math.sqrt(a*a+l*l*s*s),isNaN(c)?0:c)},a.rhumbLocation=function(r,i,a,s){if(!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","rhumbLocation","missingLocation"));if(!s)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","rhumbLocation","missingResult"));if(0==a)return s.latitude=r.latitude,s.longitude=r.longitude,s;var u,l,c=r.latitude*t.DEGREES_TO_RADIANS,h=r.longitude*t.DEGREES_TO_RADIANS,f=i*t.DEGREES_TO_RADIANS,p=c+a*Math.cos(f),d=Math.log(Math.tan(p/2+Math.PI/4)/Math.tan(c/2+Math.PI/4)),g=(p-c)/d;return(isNaN(d)||isNaN(g)||!isFinite(g))&&(g=Math.cos(c)),u=a*Math.sin(f)/g,o.fabs(p)>Math.PI/2&&(p=p>0?Math.PI-p:-Math.PI-p),l=o.fmod(h+u+Math.PI,2*Math.PI)-Math.PI,isNaN(p)||isNaN(l)?(s.latitude=r.latitude,s.longitude=r.longitude):(s.latitude=t.normalizedDegreesLatitude(p*t.RADIANS_TO_DEGREES),s.longitude=t.normalizedDegreesLongitude(l*t.RADIANS_TO_DEGREES)),s},a.interpolateLinear=function(t,r,i,a){if(!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","interpolateLinear","missingLocation"));if(!a)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","interpolateLinear","missingResult"));if(r.equals(i))return a.latitude=r.latitude,a.longitude=r.longitude,a;var s=o.clamp(t,0,1),u=this.linearAzimuth(r,i),l=this.linearDistance(r,i);return this.linearLocation(r,u,s*l,a)},a.linearAzimuth=function(r,i){if(!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","linearAzimuth","missingLocation"));var a,s,u,l=r.latitude*t.DEGREES_TO_RADIANS,c=i.latitude*t.DEGREES_TO_RADIANS,h=r.longitude*t.DEGREES_TO_RADIANS,f=i.longitude*t.DEGREES_TO_RADIANS;return l==c&&h==f?0:(a=f-h,s=c-l,o.fabs(a)>Math.PI&&(a=a>0?-(2*Math.PI-a):2*Math.PI+a),u=Math.atan2(a,s),isNaN(u)?0:u*t.RADIANS_TO_DEGREES)},a.linearDistance=function(r,i){if(!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","linearDistance","missingLocation"));var a,s,u,l=r.latitude*t.DEGREES_TO_RADIANS,c=i.latitude*t.DEGREES_TO_RADIANS,h=r.longitude*t.DEGREES_TO_RADIANS,f=i.longitude*t.DEGREES_TO_RADIANS;return l==c&&h==f?0:(a=c-l,s=f-h,o.fabs(s)>Math.PI&&(s=s>0?-(2*Math.PI-s):2*Math.PI+s),u=Math.sqrt(a*a+s*s),isNaN(u)?0:u)},a.linearLocation=function(r,i,a,s){if(!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","linearLocation","missingLocation"));if(!s)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","linearLocation","missingResult"));if(0==a)return s.latitude=r.latitude,s.longitude=r.longitude,s;var u,l=r.latitude*t.DEGREES_TO_RADIANS,c=r.longitude*t.DEGREES_TO_RADIANS,h=i*t.DEGREES_TO_RADIANS,f=l+a*Math.cos(h);return o.fabs(f)>Math.PI/2&&(f=f>0?Math.PI-f:-Math.PI-f),u=o.fmod(c+a*Math.sin(h)+Math.PI,2*Math.PI)-Math.PI,isNaN(f)||isNaN(u)?(s.latitude=r.latitude,s.longitude=r.longitude):(s.latitude=t.normalizedDegreesLatitude(f*t.RADIANS_TO_DEGREES),s.longitude=t.normalizedDegreesLongitude(u*t.RADIANS_TO_DEGREES)),s},a.locationsCrossDateLine=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","locationsCrossDateline","missingLocation"));for(var r=null,i=0,a=t.length;i<a;i+=1){var s=t[i];if(null!=r&&o.signum(r.longitude)!=o.signum(s.longitude)){var u=Math.abs(r.longitude-s.longitude);if(u>180&&u<360)return!0}r=s}return!1},a.greatCircleArcExtremeLocations=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","greatCircleArcExtremeLocations","missingLocation"));for(var r=null,i=null,o=null,s=0,u=t.length;s<u;s+=1){var l=t[s];if(null!=o){var c=a.greatCircleArcExtremeForTwoLocations(o,l);if(null==c)continue;(null==r||r.latitude>c[0].latitude)&&(r=c[0]),(null==i||i.latitude<c[1].latitude)&&(i=c[1])}o=l}return[r,i]},a.greatCircleArcExtremeForTwoLocations=function(t,r){if(!t||!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","greatCircleArcExtremeForTwoLocations","missingLocation"));var i,s,u,l=null,c=null,h=90,f=-90,p=[t,r];for(i=0,s=p.length;i<s;i+=1)h>=(u=p[i]).latitude&&(h=u.latitude,l=u),f<=u.latitude&&(f=u.latitude,c=u);var d=a.greatCircleAzimuth(t,r),g=a.greatCircleDistance(t,r),m=a.greatCircleExtremeLocationsUsingAzimuth(t,d);for(i=0,s=m.length;i<s;i+=1){u=m[i];var y=a.greatCircleAzimuth(t,u),v=a.greatCircleDistance(t,u);o.signum(y)==o.signum(d)&&v>=0&&v<=g&&(h>=u.latitude&&(h=u.latitude,l=u),f<=u.latitude&&(f=u.latitude,c=u))}return[l,c]},a.greatCircleExtremeLocationsUsingAzimuth=function(r,i){if(!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Location","greatCircleArcExtremeLocationsUsingAzimuth","missingLocation"));var o=r.latitude,s=i*t.DEGREES_TO_RADIANS,u=-Math.tan(o)/Math.cos(s),l=Math.atan(u),c=l+Math.PI/2,h=l-Math.PI/2;return[a.greatCircleLocation(r,i,c,new a(0,0)),a.greatCircleLocation(r,i,h,new a(0,0))]},a.intersectionWithMeridian=function(t,e,n,o){var a=o.computePointFromLocation(t.latitude,t.longitude,new i(0,0,0)),s=o.computePointFromLocation(e.latitude,e.longitude,new i(0,0,0)),u=o.computePointFromLocation(90,n,new i(0,0,0)),l=o.computePointFromLocation(0,n,new i(0,0,0)),c=r.fromPoints(u,l,i.ZERO),h=new i(0,0,0);if(!c.intersectsSegmentAt(a,s,h))return null;var f=new WorldWind.Position(0,0,0);return o.computePositionFromPoint(h[0],h[1],h[2],f),f.latitude},a.meridianIntersection=function(t,e,n){var r=t.longitude<0?t.longitude+360:t.longitude,i=e.longitude<0?e.longitude+360:e.longitude;if(r===i)return null;var o=n<0?n+360:n,a=(e.latitude-t.latitude)/(i-r);return t.latitude+a*(o-r)},a.poles={NONE:0,NORTH:1,SOUTH:2},a})),i("geom/Position",["../geom/Angle","../error/ArgumentError","../geom/Location","../util/Logger","../util/WWMath"],(function(t,e,n,r,i){"use strict";var o=function(t,e,n){this.latitude=t,this.longitude=e,this.altitude=n};return o.ZERO=new o(0,0,0),o.fromRadians=function(e,n,r){return new o(e*t.RADIANS_TO_DEGREES,n*t.RADIANS_TO_DEGREES,r)},o.prototype.copy=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"Position","copy","missingPosition"));return this.latitude=t.latitude,this.longitude=t.longitude,this.altitude=t.altitude,this},o.prototype.equals=function(t){return t&&t.latitude===this.latitude&&t.longitude===this.longitude&&t.altitude===this.altitude},o.interpolateGreatCircle=function(t,o,a,s){if(!o||!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"Position","interpolateGreatCircle","missingPosition"));if(!s)throw new e(r.logMessage(r.LEVEL_SEVERE,"Position","interpolateGreatCircle","missingResult"));var u=i.clamp(t,0,1);return s.altitude=i.interpolate(u,o.altitude,a.altitude),n.interpolateGreatCircle(u,o,a,s),s},o.interpolateRhumb=function(t,o,a,s){if(!o||!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"Position","interpolateRhumb","missingPosition"));if(!s)throw new e(r.logMessage(r.LEVEL_SEVERE,"Position","interpolateRhumb","missingResult"));var u=i.clamp(t,0,1);return s.altitude=i.interpolate(u,o.altitude,a.altitude),n.interpolateRhumb(u,o,a,s),s},o.interpolateLinear=function(t,o,a,s){if(!o||!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"Position","interpolateLinear","missingPosition"));if(!s)throw new e(r.logMessage(r.LEVEL_SEVERE,"Position","interpolateLinear","missingResult"));var u=i.clamp(t,0,1);return s.altitude=i.interpolate(u,o.altitude,a.altitude),n.interpolateLinear(u,o,a,s),s},o.prototype.toString=function(){return"("+this.latitude.toString()+"\xb0, "+this.longitude.toString()+"\xb0, "+this.altitude.toString()+")"},o})),i("render/Texture",["../error/ArgumentError","../util/Logger","../util/WWMath"],(function(t,e,n){"use strict";var r=function(r,i,o){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"Texture","constructor","missingGlContext"));if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"Texture","constructor","missingImage"));o||(o=r.CLAMP_TO_EDGE);var a=r.createTexture(),s=n.isPowerOfTwo(i.width)&&n.isPowerOfTwo(i.height);this.originalImageWidth=i.width,this.originalImageHeight=i.height,o!==r.REPEAT||s||(i=this.resizeImage(i),s=!0),this.imageWidth=i.width,this.imageHeight=i.height,this.size=i.width*i.height*4,r.bindTexture(r.TEXTURE_2D,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,s?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,o),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),s&&r.generateMipmap(r.TEXTURE_2D),this.textureId=a,this.creationTime=new Date,this.texParameters={},this.anisotropicFilterExt=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic")};return r.prototype.setTexParameter=function(t,e){this.texParameters[t]=e},r.prototype.getTexParameter=function(t){return this.texParameters[t]},r.prototype.clearTexParameters=function(){this.texParameters={}},r.prototype.dispose=function(t){t.deleteTexture(this.textureId),delete this.textureId},r.prototype.bind=function(t){var e=t.currentGlContext;return e.bindTexture(e.TEXTURE_2D,this.textureId),this.applyTexParameters(t),t.frameStatistics.incrementTextureLoadCount(1),!0},r.prototype.applyTexParameters=function(t){var e=t.currentGlContext,n=this.texParameters[e.TEXTURE_MAG_FILTER]||e.LINEAR;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n),n===e.LINEAR&&this.anisotropicFilterExt&&e.texParameteri(e.TEXTURE_2D,this.anisotropicFilterExt.TEXTURE_MAX_ANISOTROPY_EXT,4)},r.prototype.resizeImage=function(t){var e=document.createElement("canvas");return e.width=n.powerOfTwoFloor(t.width),e.height=n.powerOfTwoFloor(t.height),e.getContext("2d").drawImage(t,0,0,e.width,e.height),e},r})),i("geom/Matrix",["../geom/Angle","../error/ArgumentError","../util/Logger","../geom/Plane","../geom/Position","../geom/Rectangle","../render/Texture","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a,s,u){"use strict";var l=function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g){this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=l,this[10]=c,this[11]=h,this[12]=f,this[13]=p,this[14]=d,this[15]=g};return l.prototype=new Float64Array(16),l.fromIdentity=function(){return new l(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},l.principalAxesFromPoints=function(t,r,i,o){if(!t||t.length<1)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","principalAxesFromPoints","missingPoints"));if(!r||!i||!o)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","principalAxesFromPoints","An axis argument is null or undefined."));var a=l.fromIdentity();a.setToCovarianceOfPoints(t),a.eigensystemFromSymmetricMatrix(r,i,o),r.normalize(),i.normalize(),o.normalize()},l.prototype.set=function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=l,this[10]=c,this[11]=h,this[12]=f,this[13]=p,this[14]=d,this[15]=g,this},l.prototype.setToIdentity=function(){this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=1,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=1,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1},l.prototype.copy=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","copy","missingMatrix"));this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15]},l.prototype.clone=function(){var t=l.fromIdentity();return t.copy(this),t},l.prototype.equals=function(t){return t&&this[0]==t[0]&&this[1]==t[1]&&this[2]==t[2]&&this[3]==t[3]&&this[4]==t[4]&&this[5]==t[5]&&this[6]==t[6]&&this[7]==t[7]&&this[8]==t[8]&&this[9]==t[9]&&this[10]==t[10]&&this[11]==t[11]&&this[12]==t[12]&&this[13]==t[13]&&this[14]==t[14]&&this[15]==t[15]},l.prototype.columnMajorComponents=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","columnMajorComponents","missingResult"));return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t},l.prototype.setToTranslation=function(t,e,n){return this[0]=1,this[1]=0,this[2]=0,this[3]=t,this[4]=0,this[5]=1,this[6]=0,this[7]=e,this[8]=0,this[9]=0,this[10]=1,this[11]=n,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this},l.prototype.setTranslation=function(t,e,n){return this[3]=t,this[7]=e,this[11]=n,this},l.prototype.setToScale=function(t,e,n){return this[0]=t,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=e,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=n,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this},l.prototype.setScale=function(t,e,n){return this[0]=t,this[5]=e,this[10]=n,this},l.prototype.setToTransposeOfMatrix=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","setToTransposeOfMatrix","missingMatrix"));return this[0]=t[0],this[1]=t[4],this[2]=t[8],this[3]=t[12],this[4]=t[1],this[5]=t[5],this[6]=t[9],this[7]=t[13],this[8]=t[2],this[9]=t[6],this[10]=t[10],this[11]=t[14],this[12]=t[3],this[13]=t[7],this[14]=t[11],this[15]=t[15],this},l.prototype.setToMultiply=function(t,r){if(!t||!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","setToMultiply","missingMatrix"));var i=t,o=r;return this[0]=i[0]*o[0]+i[1]*o[4]+i[2]*o[8]+i[3]*o[12],this[1]=i[0]*o[1]+i[1]*o[5]+i[2]*o[9]+i[3]*o[13],this[2]=i[0]*o[2]+i[1]*o[6]+i[2]*o[10]+i[3]*o[14],this[3]=i[0]*o[3]+i[1]*o[7]+i[2]*o[11]+i[3]*o[15],this[4]=i[4]*o[0]+i[5]*o[4]+i[6]*o[8]+i[7]*o[12],this[5]=i[4]*o[1]+i[5]*o[5]+i[6]*o[9]+i[7]*o[13],this[6]=i[4]*o[2]+i[5]*o[6]+i[6]*o[10]+i[7]*o[14],this[7]=i[4]*o[3]+i[5]*o[7]+i[6]*o[11]+i[7]*o[15],this[8]=i[8]*o[0]+i[9]*o[4]+i[10]*o[8]+i[11]*o[12],this[9]=i[8]*o[1]+i[9]*o[5]+i[10]*o[9]+i[11]*o[13],this[10]=i[8]*o[2]+i[9]*o[6]+i[10]*o[10]+i[11]*o[14],this[11]=i[8]*o[3]+i[9]*o[7]+i[10]*o[11]+i[11]*o[15],this[12]=i[12]*o[0]+i[13]*o[4]+i[14]*o[8]+i[15]*o[12],this[13]=i[12]*o[1]+i[13]*o[5]+i[14]*o[9]+i[15]*o[13],this[14]=i[12]*o[2]+i[13]*o[6]+i[14]*o[10]+i[15]*o[14],this[15]=i[12]*o[3]+i[13]*o[7]+i[14]*o[11]+i[15]*o[15],this},l.prototype.setToCovarianceOfPoints=function(t){if(!t||t.length<1)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","setToCovarianceOfPoints","missingArray"));var r,i,o,a,u=0,l=0,c=0,h=0,f=0,p=0,d=0,g=new s(0,0,0);r=s.averageOfBuffer(t,new s(0,0,0));for(var m=0,y=t.length/3;m<y;m++)g[0]=t[3*m],g[1]=t[3*m+1],g[2]=t[3*m+2],++u,l+=(i=g[0]-r[0])*i,c+=(o=g[1]-r[1])*o,h+=(a=g[2]-r[2])*a,f+=i*o,p+=i*a,d+=o*a;return this[0]=l/u,this[1]=f/u,this[2]=p/u,this[3]=0,this[4]=f/u,this[5]=c/u,this[6]=d/u,this[7]=0,this[8]=p/u,this[9]=d/u,this[10]=h/u,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=0,this},l.prototype.multiplyByTranslation=function(t,e,n){return this.multiply(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},l.prototype.multiplyByRotation=function(e,n,r,i){var o=Math.cos(i*t.DEGREES_TO_RADIANS),a=Math.sin(i*t.DEGREES_TO_RADIANS);return this.multiply(o+(1-o)*e*e,(1-o)*e*n-a*r,(1-o)*e*r+a*n,0,(1-o)*e*n+a*r,o+(1-o)*n*n,(1-o)*n*r-a*e,0,(1-o)*e*r-a*n,(1-o)*n*r+a*e,o+(1-o)*r*r,0,0,0,0,1),this},l.prototype.multiplyByScale=function(t,e,n){return this.multiply(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},l.prototype.setToUnitYFlip=function(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=-1,this[6]=0,this[7]=1,this[8]=0,this[9]=0,this[10]=1,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this},l.prototype.multiplyByLocalCoordinateTransform=function(t,r){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","multiplyByLocalCoordinateTransform","Origin vector is null or undefined"));if(!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","multiplyByLocalCoordinateTransform","missingGlobe"));var i=new s(0,0,0),o=new s(0,0,0),a=new s(0,0,0);return u.localCoordinateAxesAtPoint(t,r,i,o,a),this.multiply(i[0],o[0],a[0],t[0],i[1],o[1],a[1],t[1],i[2],o[2],a[2],t[2],0,0,0,1),this},l.prototype.multiplyByTextureTransform=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","multiplyByTextureTransform","missingTexture"));var r=t.originalImageWidth/t.imageWidth,i=t.originalImageHeight/t.imageHeight;return this.multiply(r,0,0,0,0,-i,0,i,0,0,1,0,0,0,0,1),this},l.prototype.extractTranslation=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","extractTranslation","missingResult"));return t[0]=this[3],t[1]=this[7],t[2]=this[11],t},l.prototype.extractRotationAngles=function(r){if(!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","extractRotationAngles","missingResult"));var i=Math.atan2(this[6],this[10]),o=Math.atan2(-this[2],Math.sqrt(this[0]*this[0]+this[1]*this[1])),a=Math.cos(i),s=Math.sin(i),u=Math.atan2(s*this[8]-a*this[4],a*this[5]-s*this[9]);return r[0]=i*t.RADIANS_TO_DEGREES,r[1]=o*t.RADIANS_TO_DEGREES,r[2]=u*t.RADIANS_TO_DEGREES,r},l.prototype.multiplyByFirstPersonModelview=function(r,i,o,a,l){if(!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","multiplyByFirstPersonModelview","missingPosition"));if(!l)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","multiplyByFirstPersonModelview","missingGlobe"));var c,h,f,p,d,g,m,y,v,b,E,_,w,S,x=new s(0,0,0),T=new s(0,0,0),O=new s(0,0,0),C=new s(0,0,0);return c=Math.cos(a*t.DEGREES_TO_RADIANS),h=Math.sin(a*t.DEGREES_TO_RADIANS),this.multiply(c,h,0,0,-h,c,0,0,0,0,1,0,0,0,0,1),c=Math.cos(o*t.DEGREES_TO_RADIANS),h=Math.sin(o*t.DEGREES_TO_RADIANS),this.multiply(1,0,0,0,0,c,h,0,0,-h,c,0,0,0,0,1),c=Math.cos(i*t.DEGREES_TO_RADIANS),h=Math.sin(i*t.DEGREES_TO_RADIANS),this.multiply(c,-h,0,0,h,c,0,0,0,0,1,0,0,0,0,1),l.computePointFromPosition(r.latitude,r.longitude,r.altitude,x),f=x[0],p=x[1],d=x[2],u.localCoordinateAxesAtPoint(x,l,T,O,C),g=T[0],m=T[1],y=T[2],v=O[0],b=O[1],E=O[2],_=C[0],w=C[1],S=C[2],this.multiply(g,m,y,-g*f-m*p-y*d,v,b,E,-v*f-b*p-E*d,_,w,S,-_*f-w*p-S*d,0,0,0,1),this},l.prototype.multiplyByLookAtModelview=function(t,r,i,o,a,s){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","multiplyByLookAtModelview","missingPosition"));if(r<0)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","multiplyByLookAtModelview","Range is less than zero"));if(!s)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","multiplyByLookAtModelview","missingGlobe"));return this.multiplyByTranslation(0,0,-r),this.multiplyByFirstPersonModelview(t,i,o,a,s),this},l.prototype.setToPerspectiveProjection=function(t,r,i,o){if(t<=0)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","setToPerspectiveProjection","invalidWidth"));if(r<=0)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","setToPerspectiveProjection","invalidHeight"));if(i===o)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","setToPerspectiveProjection","Near and far distance are the same."));if(i<=0||o<=0)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","setToPerspectiveProjection","Near or far distance is less than or equal to zero."));var a=u.perspectiveFrustumRectangle(t,r,i),s=a.getMinX(),l=a.getMaxX(),c=a.getMinY(),h=a.getMaxY();return this[0]=2*i/(l-s),this[1]=0,this[2]=(l+s)/(l-s),this[3]=0,this[4]=0,this[5]=2*i/(h-c),this[6]=(h+c)/(h-c),this[7]=0,this[8]=0,this[9]=0,this[10]=-(o+i)/(o-i),this[11]=-2*i*o/(o-i),this[12]=0,this[13]=0,this[14]=-1,this[15]=0,this},l.prototype.setToScreenProjection=function(t,r){if(t<=0)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","setToScreenProjection","invalidWidth"));if(r<=0)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","setToScreenProjection","invalidHeight"));return this[0]=2/t,this[1]=0,this[2]=0,this[3]=-1,this[4]=0,this[5]=2/r,this[6]=0,this[7]=-1,this[8]=0,this[9]=0,this[10]=2,this[11]=-1,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this},l.prototype.extractEyePoint=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","extractEyePoint","missingResult"));return t[0]=-this[0]*this[3]-this[4]*this[7]-this[8]*this[11],t[1]=-this[1]*this[3]-this[5]*this[7]-this[9]*this[11],t[2]=-this[2]*this[3]-this[6]*this[7]-this[10]*this[11],t},l.prototype.extractForwardVector=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","extractForwardVector","missingResult"));return t[0]=-this[8],t[1]=-this[9],t[2]=-this[10],t},l.prototype.extractViewingParameters=function(r,o,a,s){if(!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","extractViewingParameters","The specified origin is null or undefined."));if(!a)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","extractViewingParameters","missingGlobe"));if(!s)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","extractViewingParameters","missingResult"));var u,c,h,f,p,d,g,m,y,v=new i(0,0,0),b=l.fromIdentity();return a.computePositionFromPoint(r[0],r[1],r[2],v),b.copy(this),b.multiplyByLocalCoordinateTransform(r,a),u=-b[11],c=b[10],h=Math.sqrt(b[2]*b[2]+b[6]*b[6]),f=Math.atan2(h,c)*t.RADIANS_TO_DEGREES,p=Math.cos(o*t.DEGREES_TO_RADIANS),d=Math.sin(o*t.DEGREES_TO_RADIANS),g=p*b[0]-d*b[4],m=d*b[5]-p*b[1],y=Math.atan2(m,g)*t.RADIANS_TO_DEGREES,s.origin=v,s.range=u,s.heading=y,s.tilt=f,s.roll=o,s},l.prototype.offsetProjectionDepth=function(t){return this[10]*=1+t,this},l.prototype.multiplyMatrix=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","multiplyMatrix","missingMatrix"));var r,i,o,a,s=this,u=t;return r=s[0],i=s[1],o=s[2],a=s[3],s[0]=r*u[0]+i*u[4]+o*u[8]+a*u[12],s[1]=r*u[1]+i*u[5]+o*u[9]+a*u[13],s[2]=r*u[2]+i*u[6]+o*u[10]+a*u[14],s[3]=r*u[3]+i*u[7]+o*u[11]+a*u[15],r=s[4],i=s[5],o=s[6],a=s[7],s[4]=r*u[0]+i*u[4]+o*u[8]+a*u[12],s[5]=r*u[1]+i*u[5]+o*u[9]+a*u[13],s[6]=r*u[2]+i*u[6]+o*u[10]+a*u[14],s[7]=r*u[3]+i*u[7]+o*u[11]+a*u[15],r=s[8],i=s[9],o=s[10],a=s[11],s[8]=r*u[0]+i*u[4]+o*u[8]+a*u[12],s[9]=r*u[1]+i*u[5]+o*u[9]+a*u[13],s[10]=r*u[2]+i*u[6]+o*u[10]+a*u[14],s[11]=r*u[3]+i*u[7]+o*u[11]+a*u[15],r=s[12],i=s[13],o=s[14],a=s[15],s[12]=r*u[0]+i*u[4]+o*u[8]+a*u[12],s[13]=r*u[1]+i*u[5]+o*u[9]+a*u[13],s[14]=r*u[2]+i*u[6]+o*u[10]+a*u[14],s[15]=r*u[3]+i*u[7]+o*u[11]+a*u[15],this},l.prototype.multiply=function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g){var m,y,v,b,E=this;return m=E[0],y=E[1],v=E[2],b=E[3],E[0]=m*t+y*i+v*u+b*f,E[1]=m*e+y*o+v*l+b*p,E[2]=m*n+y*a+v*c+b*d,E[3]=m*r+y*s+v*h+b*g,m=E[4],y=E[5],v=E[6],b=E[7],E[4]=m*t+y*i+v*u+b*f,E[5]=m*e+y*o+v*l+b*p,E[6]=m*n+y*a+v*c+b*d,E[7]=m*r+y*s+v*h+b*g,m=E[8],y=E[9],v=E[10],b=E[11],E[8]=m*t+y*i+v*u+b*f,E[9]=m*e+y*o+v*l+b*p,E[10]=m*n+y*a+v*c+b*d,E[11]=m*r+y*s+v*h+b*g,m=E[12],y=E[13],v=E[14],b=E[15],E[12]=m*t+y*i+v*u+b*f,E[13]=m*e+y*o+v*l+b*p,E[14]=m*n+y*a+v*c+b*d,E[15]=m*r+y*s+v*h+b*g,this},l.prototype.invertMatrix=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","invertMatrix","missingMatrix"));var r=[[],[],[],[]];r[0][0]=t[0],r[0][1]=t[1],r[0][2]=t[2],r[0][3]=t[3],r[1][0]=t[4],r[1][1]=t[5],r[1][2]=t[6],r[1][3]=t[7],r[2][0]=t[8],r[2][1]=t[9],r[2][2]=t[10],r[2][3]=t[11],r[3][0]=t[12],r[3][1]=t[13],r[3][2]=t[14],r[3][3]=t[15];var i,o,a=[],s=l.ludcmp(r,a);for(i=0;i<4;i+=1)s*=r[i][i];if(Math.abs(s)<1e-8)return null;var u=[[],[],[],[]],c=[];for(o=0;o<4;o+=1){for(i=0;i<4;i+=1)c[i]=0;for(c[o]=1,l.lubksb(r,a,c),i=0;i<4;i+=1)u[i][o]=c[i]}return this[0]=u[0][0],this[1]=u[0][1],this[2]=u[0][2],this[3]=u[0][3],this[4]=u[1][0],this[5]=u[1][1],this[6]=u[1][2],this[7]=u[1][3],this[8]=u[2][0],this[9]=u[2][1],this[10]=u[2][2],this[11]=u[2][3],this[12]=u[3][0],this[13]=u[3][1],this[14]=u[3][2],this[15]=u[3][3],this},l.lubksb=function(t,e,n){var r,i,o,a=-1;for(r=0;r<4;r+=1){var s=e[r];if(o=n[s],n[s]=n[r],-1!=a)for(i=a;i<=r-1;i+=1)o-=t[r][i]*n[i];else 0!=o&&(a=r);n[r]=o}for(r=3;r>=0;r-=1){for(o=n[r],i=r+1;i<4;i+=1)o-=t[r][i]*n[i];n[r]=o/t[r][r]}},l.ludcmp=function(t,e){var n,r,i,o,a,s,u,l,c=[],h=1;for(r=0;r<4;r+=1){for(a=0,i=0;i<4;i+=1)(n=Math.abs(t[r][i]))>a&&(a=n);if(0==a)return 0;c[r]=1/a}for(i=0;i<4;i+=1){for(r=0;r<i;r+=1){for(s=t[r][i],o=0;o<r;o+=1)s-=t[r][o]*t[o][i];t[r][i]=s}for(a=0,u=-1,r=i;r<4;r+=1){for(s=t[r][i],o=0;o<i;o++)s-=t[r][o]*t[o][i];t[r][i]=s,(l=c[r]*Math.abs(s))>=a&&(a=l,u=r)}if(i!=u){for(o=0;o<4;o+=1)l=t[u][o],t[u][o]=t[i][o],t[i][o]=l;h=-h,c[u]=c[i]}if(e[i]=u,0==t[i][i]&&(t[i][i]=1e-20),3!=i)for(l=1/t[i][i],r=i+1;r<4;r+=1)t[r][i]*=l}return h},l.prototype.invertOrthonormalMatrix=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","invertOrthonormalMatrix","missingMatrix"));var r=t;return this[0]=r[0],this[1]=r[4],this[2]=r[8],this[3]=0-r[0]*r[3]-r[4]*r[7]-r[8]*r[11],this[4]=r[1],this[5]=r[5],this[6]=r[9],this[7]=0-r[1]*r[3]-r[5]*r[7]-r[9]*r[11],this[8]=r[2],this[9]=r[6],this[10]=r[10],this[11]=0-r[2]*r[3]-r[6]*r[7]-r[10]*r[11],this[12]=0,this[13]=0,this[14]=0,this[15]=1,this},l.prototype.eigensystemFromSymmetricMatrix=function(t,r,i){if(!t||!r||!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","eigensystemFromSymmetricMatrix","missingResult"));if(this[1]!=this[4]||this[2]!=this[8]||this[6]!=this[9])throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","eigensystemFromSymmetricMatrix","Matrix is not symmetric"));for(var o,a,s,l,c,h,f,p,d,g,m,y=1e-10,v=this[0],b=this[1],E=this[2],_=this[5],w=this[6],S=this[10],x=[[1,0,0],[0,1,0],[0,0,1]],T=0;T<32&&!(u.fabs(b)<y&&u.fabs(E)<y&&u.fabs(w)<y);T++){if(0!=b)for(v-=(l=(s=1+(a=(o=.5*(_-v)/b)*o))!=a?(o<0?-1:1)*(Math.sqrt(s)-u.fabs(o)):.5/o)*b,_+=l*b,b=0,f=(c=1/Math.sqrt(l*l+1))*E-(h=c*l)*w,w=h*E+c*w,E=f,p=0;p<3;p++)f=c*x[p][0]-h*x[p][1],x[p][1]=h*x[p][0]+c*x[p][1],x[p][0]=f;if(0!=E)for(v-=(l=(s=1+(a=(o=.5*(S-v)/E)*o))!=a?(o<0?-1:1)*(Math.sqrt(s)-u.fabs(o)):.5/o)*E,S+=l*E,E=0,f=(c=1/Math.sqrt(l*l+1))*b-(h=c*l)*w,w=h*b+c*w,b=f,p=0;p<3;p++)f=c*x[p][0]-h*x[p][2],x[p][2]=h*x[p][0]+c*x[p][2],x[p][0]=f;if(0!=w)for(_-=(l=(s=1+(a=(o=.5*(S-_)/w)*o))!=a?(o<0?-1:1)*(Math.sqrt(s)-u.fabs(o)):.5/o)*w,S+=l*w,w=0,f=(c=1/Math.sqrt(l*l+1))*b-(h=c*l)*E,E=h*b+c*E,b=f,p=0;p<3;p++)f=c*x[p][1]-h*x[p][2],x[p][2]=h*x[p][1]+c*x[p][2],x[p][1]=f}d=0,g=1,m=2,v<_&&(f=v,v=_,_=f,f=d,d=g,g=f),_<S&&(f=_,_=S,S=f,f=g,g=m,m=f),v<_&&(f=v,v=_,_=f,f=d,d=g,g=f),t[0]=x[0][d],t[1]=x[1][d],t[2]=x[2][d],r[0]=x[0][g],r[1]=x[1][g],r[2]=x[2][g],i[0]=x[0][m],i[1]=x[1][m],i[2]=x[2][m],t.normalize(),r.normalize(),i.normalize(),t.multiply(v),r.multiply(_),i.multiply(S)},l.prototype.upper3By3=function(){var t=l.fromIdentity();return t[0]=this[0],t[1]=this[1],t[2]=this[2],t[4]=this[4],t[5]=this[5],t[6]=this[6],t[8]=this[8],t[9]=this[9],t[10]=this[10],t},l.prototype.unProject=function(t,r,i){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","unProject","missingPoint"));if(!r)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","unProject","missingViewport"));if(!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"Matrix","unProject","missingResult"));var o=t[0],a=t[1],s=t[2];if(o=2*(o=(o-r.x)/r.width)-1,a=2*(a=(a-r.y)/r.height)-1,(s=2*s-1)<-1||s>1)return!1;var u=this[0]*o+this[1]*a+this[2]*s+this[3],l=this[4]*o+this[5]*a+this[6]*s+this[7],c=this[8]*o+this[9]*a+this[10]*s+this[11],h=this[12]*o+this[13]*a+this[14]*s+this[15];return 0!==h&&(i[0]=u/h,i[1]=l/h,i[2]=c/h,!0)},l})),i("pick/PickedObject",[],(function(){"use strict";return function(t,e,n,r,i){this.color=t,this.userObject=e,this.position=n,this.parentLayer=r,this.isTerrain=i,this.isOnTop=!1}})),i("error/UnsupportedOperationError",["../error/AbstractError"],(function(t){"use strict";var e=function(e){var n;t.call(this,"UnsupportedOperationError",e);try{throw new Error}catch(t){n=t.stack}this.stack=n};return e.prototype=Object.create(t.prototype),e})),i("render/Renderable",["../util/Logger","../error/UnsupportedOperationError"],(function(t,e){"use strict";var n=function(){this.displayName="Renderable",this.enabled=!0,this.pickDelegate=null,this.userProperties={},this.timeRange=[]};return n.prototype.render=function(n){throw new e(t.logMessage(t.LEVEL_SEVERE,"Renderable","render","abstractInvocation"))},n})),i("shapes/Annotation",["../shapes/AnnotationAttributes","../error/ArgumentError","../shaders/BasicTextureProgram","../util/Color","../util/Font","../util/Insets","../util/Logger","../geom/Matrix","../util/Offset","../pick/PickedObject","../render/Renderable","../shapes/TextAttributes","../geom/Vec2","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d){"use strict";var g=function(n,r){if(!n)throw new e(a.logMessage(a.LEVEL_SEVERE,"Annotation","constructor","missingPosition"));c.call(this),this.position=n,this.attributes=r||new t(null),this.altitudeMode=WorldWind.ABSOLUTE,this.layer=null,this.lastStateKey=null,this.calloutTransform=s.fromIdentity(),this.calloutOffset=new WorldWind.Offset(WorldWind.OFFSET_FRACTION,.5,WorldWind.OFFSET_FRACTION,0),this.label="",this.labelTexture=null,this.labelTransform=s.fromIdentity(),this.placePoint=new p(0,0,0),this.depthOffset=-2.05,this.calloutPoints=null};return g.matrix=s.fromIdentity(),g.screenPoint=new p(0,0,0),g.scratchPoint=new p(0,0,0),g.prototype=Object.create(c.prototype),Object.defineProperties(g.prototype,{text:{get:function(){return this.label},set:function(t){this.label=t,this.lastStateKey=null}}}),g.prototype.renderOrdered=function(t){if(this.drawOrderedAnnotation(t),t.pickingMode){var e=new l(this.pickColor.clone(),this,this.position,this.layer,!1);t.pickPoint&&this.labelBounds.containsPoint(t.convertPointToViewport(t.pickPoint,g.scratchPoint))&&(e.labelPicked=!0),t.resolvePick(e)}},g.prototype.clone=function(){var t=new g(this.position);return t.copy(this),t.pickDelegate=this.pickDelegate?this.pickDelegate:this,t},g.prototype.copy=function(t){return this.position=t.position,this.enabled=t.enabled,this.attributes=t.attributes,this.label=t.label,this.altitudeMode=t.altitudeMode,this.pickDelegate=t.pickDelegate,this.depthOffset=t.depthOffset,this},g.prototype.render=function(t){var e;this.enabled&&t.accumulateOrderedRenderables&&(!t.globe.projectionLimits||t.globe.projectionLimits.containsLocation(this.position.latitude,this.position.longitude))&&((e=this.lastFrameTime!==t.timestamp?this.makeOrderedRenderable(t):this.clone().makeOrderedRenderable(t))&&(e.layer=t.currentLayer,this.lastFrameTime=t.timestamp,t.addOrderedRenderable(e)))},g.prototype.drawOrderedAnnotation=function(t){this.beginDrawing(t);try{this.doDrawOrderedAnnotation(t)}finally{this.endDrawing(t)}},g.prototype.makeOrderedRenderable=function(t){var e,n,r,i,o,a,s,u,l;if(this.label=t.textRenderer.wrap(this.label,this.attributes.width,this.attributes.height),t.surfacePointForMode(this.position.latitude,this.position.longitude,this.position.altitude,this.altitudeMode,this.placePoint),this.eyeDistance=t.eyePoint.distanceTo(this.placePoint),!t.projectWithDepth(this.placePoint,this.depthOffset,g.screenPoint))return null;this.labelTexture=t.createTextTexture(this.label,this.attributes.textAttributes),e=this.labelTexture.imageWidth,n=this.labelTexture.imageHeight,r=this.attributes.scale,i=this.attributes.insets.left,o=this.attributes.insets.right,a=this.attributes.insets.top,s=this.attributes.insets.bottom,l=this.attributes.leaderGapHeight,u=this.calloutOffset.offsetForSize((e+i+o)*r,(n+a+s)*r),this.calloutTransform.setTranslation(g.screenPoint[0]-u[0],g.screenPoint[1]+l,g.screenPoint[2]),this.labelTransform.setTranslation(g.screenPoint[0]-u[0]+i*r,g.screenPoint[1]+l+s*r,g.screenPoint[2]),this.labelTransform.setScale(e*r,n*r,1),this.labelBounds=d.boundingRectForUnitQuad(this.labelTransform);var c=(e+i+o)*r,h=(n+a+s)*r,f=c/2,p=-l;return this.attributes.drawLeader||(p=0),this.attributes.stateKey!==this.lastStateKey&&(this.calloutPoints=this.createCallout(c,h,f,p,this.attributes.leaderGapWidth,this.attributes.cornerRadius)),this},g.prototype.beginDrawing=function(t){var e,r=t.currentGlContext;t.findAndBindProgram(n),e=t.currentProgram,r.enableVertexAttribArray(e.vertexPointLocation),r.enableVertexAttribArray(e.vertexTexCoordLocation),e.loadModulateColor(r,t.pickingMode)},g.prototype.endDrawing=function(t){var e=t.currentGlContext,n=t.currentProgram;e.disableVertexAttribArray(n.vertexPointLocation),e.disableVertexAttribArray(n.vertexTexCoordLocation),t.bindProgram(null)},g.prototype.drawCorner=function(t,e,n,r,i,o,a,s){if(n<1)return s;for(var u=(i-r)/(o-1),l=1;l<o-1;l++){var c=r+u*l,h=t+Math.cos(c)*n,f=e+Math.sin(c)*n;a[s++]=h,a[s++]=f}return s},g.prototype.createCallout=function(t,e,n,r,i,o){var a=new Float32Array(2*(12+(o<1?0:56))),s=0;return a[s++]=t/2+i/2,a[s++]=0,a[s++]=t-o,a[s++]=0,s=this.drawCorner(t-o,o,o,-Math.PI/2,0,16,a,s),a[s++]=t,a[s++]=o,a[s++]=t,a[s++]=e-o,s=this.drawCorner(t-o,e-o,o,0,Math.PI/2,16,a,s),a[s++]=t-o,a[s++]=e,a[s++]=o,a[s++]=e,s=this.drawCorner(o,e-o,o,Math.PI/2,Math.PI,16,a,s),a[s++]=0,a[s++]=e-o,a[s++]=0,a[s++]=o,s=this.drawCorner(o,o,o,Math.PI,1.5*Math.PI,16,a,s),a[s++]=o,a[s++]=0,a[s++]=t/2-i/2,a[s++]=0,a[s++]=n,a[s++]=r,a[s++]=t/2+i/2,a[s]=0,a},g.prototype.doDrawOrderedAnnotation=function(t){var e,n=t.currentGlContext,i=t.currentProgram,o=!1;t.pickingMode&&(this.pickColor=t.uniquePickColor()),i.loadOpacity(n,t.pickingMode?1:this.attributes.opacity*this.layer.opacity);var a=this.attributes.stateKey!==this.lastStateKey;this.calloutCacheKey&&!a||(this.calloutCacheKey=t.gpuResourceCache.generateCacheKey());var s=t.gpuResourceCache.resourceForKey(this.calloutCacheKey);s||(s=n.createBuffer(),t.gpuResourceCache.putResource(this.calloutCacheKey,s,4*this.calloutPoints.length),o=!0),a&&this.calloutCacheKey&&t.gpuResourceCache.removeResource(this.calloutCacheKey),this.lastStateKey=this.attributes.stateKey,g.matrix.copy(t.screenProjection),g.matrix.multiplyMatrix(this.calloutTransform),i.loadModelviewProjection(n,g.matrix),n.bindBuffer(n.ARRAY_BUFFER,s),o&&(n.bufferData(n.ARRAY_BUFFER,this.calloutPoints,n.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1)),i.loadColor(n,t.pickingMode?this.pickColor:this.attributes.backgroundColor),i.loadTextureEnabled(n,!1),n.vertexAttribPointer(i.vertexPointLocation,2,n.FLOAT,!1,0,0),n.vertexAttribPointer(i.vertexTexCoordLocation,2,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLE_FAN,0,this.calloutPoints.length/2),g.matrix.copy(t.screenProjection),g.matrix.multiplyMatrix(this.labelTransform),i.loadModelviewProjection(n,g.matrix),g.matrix.setToIdentity(),g.matrix.multiplyByTextureTransform(this.labelTexture),i.loadTextureMatrix(n,g.matrix),i.loadColor(n,t.pickingMode?this.pickColor:r.WHITE),e=this.labelTexture.bind(t),i.loadTextureEnabled(n,e),n.bindBuffer(n.ARRAY_BUFFER,t.unitQuadBuffer3()),n.vertexAttribPointer(i.vertexPointLocation,3,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,t.unitQuadBuffer()),n.vertexAttribPointer(i.vertexTexCoordLocation,2,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLE_STRIP,0,4)},g})),i("ArcBallCamera",["./geom/Angle","./error/ArgumentError","./util/Logger","./geom/Matrix","./geom/Position","./geom/Vec3","./util/WWMath"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"ArcBallCamera","constructor","missing WorldWindow instance."));this.position=new i(30,-110,0),this.heading=0,this.tilt=0,this.range=1e7,this.roll=0,this.wwd=t,this._scratchMatrix=r.fromIdentity(),this._scratchVector=new o(0,0,0)};return s.prototype.createViewMatrix=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"ArcBallCamera","createViewMatrix","missing matrix"));return this.applyLimits(),t.setToIdentity(),t.multiplyByLookAtModelview(this.position,this.range,this.heading,this.tilt,this.roll,this.wwd.globe),t},s.prototype.clone=function(t){return(t=t||new s(this.wwd)).copy(this),t},s.prototype.copy=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"ArcBallCamera","copy","missing camera"));return this.position.copy(t.position),this.tilt=t.tilt,this.heading=t.heading,this.range=t.range,this.roll=t.roll,this},s.prototype.applyLimits=function(){if(this.position.latitude=a.clamp(this.position.latitude,-90,90),this.position.longitude=t.normalizedDegreesLongitude(this.position.longitude),this.position.altitude=a.clamp(this.position.altitude,0,Number.MAX_VALUE),this.range=a.clamp(this.range,1,Number.MAX_VALUE),this.heading=t.normalizedDegrees(this.heading),this.tilt=a.clamp(this.tilt,0,90),this.roll=t.normalizedDegrees(this.roll),this.wwd.globe.is2D()){var e=2*Math.PI*this.wwd.globe.equatorialRadius;this.range=a.clamp(this.range,1,e),this.tilt=0}},s.prototype.toFirstPerson=function(t){if(!t)throw new e(n.logMessage(n.LEVEL_SEVERE,"ArcBallCamera","toFirstPerson","missing camera"));var r=this.createViewMatrix(this._scratchMatrix),i=r.extractEyePoint(this._scratchVector),o=r.extractViewingParameters(i,this.roll,this.wwd.globe,{});return t.position.copy(o.origin),t.heading=o.heading,t.tilt=o.tilt-90,t.roll=o.roll,t.applyLimits(),t},s})),i("util/measure/MeasurerUtils",["../../geom/Location","../../geom/Position"],(function(t,e){"use strict";return{subdividePositions:function(n,r,i,o,a){var s,u=[],l=new t(0,0),c=new t(0,0),h=r[0];this.addPosition(n,u,h,i);for(var f=1;f<r.length;f++){var p=r[f],d=t.greatCircleDistance(h,p);l=t.interpolateAlongPath(o,.5,h,p,l);var g=d*n.radiusAt(l.latitude,l.longitude);if(g>a)for(var m=null,y=null,v=Math.ceil(g/a),b=1;b<v;b++){var E=b/v;o===WorldWind.LINEAR?c=t.interpolateLinear(E,h,p,c):o===WorldWind.RHUMB_LINE?(null==m&&(m=t.rhumbAzimuth(h,p),y=t.rhumbDistance(h,p)),c=t.rhumbLocation(h,m,E*y,c)):(null==m&&(m=t.greatCircleAzimuth(h,p),y=t.greatCircleDistance(h,p)),c=t.greatCircleLocation(h,m,E*y,c)),s=i?n.elevationAtLocation(c.latitude,c.longitude):h.altitude*(1-E)+p.altitude*E,u.push(new e(c.latitude,c.longitude,s))}this.addPosition(n,u,p,i),h=p}return u},addPosition:function(t,n,r,i){var o=r.altitude;return i&&(o=t.elevationAtLocation(r.latitude,r.longitude)),n.push(new e(r.latitude,r.longitude,o)),n},isLocationInside:function(t,e){for(var n=!1,r=e[0],i=1,o=e.length;i<o;i++){var a=e[i];(a.latitude<=t.latitude&&t.latitude<r.latitude||r.latitude<=t.latitude&&t.latitude<a.latitude)&&t.longitude<(r.longitude-a.longitude)*(t.latitude-a.latitude)/(r.latitude-a.latitude)+a.longitude&&(n=!n),r=a}return n},angleBetweenVectors:function(t,e){var n=t.dot(e),r=t.magnitude()*e.magnitude();return 0!==r&&1!==r&&(n/=r),n<-1?n=-1:n>1&&(n=1),Math.acos(n)}}})),i("geom/Sector",["../geom/Angle","../error/ArgumentError","../geom/Location","../util/Logger","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o){"use strict";var a=function(t,e,n,r){this.minLatitude=t,this.maxLatitude=e,this.minLongitude=n,this.maxLongitude=r};return a.ZERO=new a(0,0,0,0),a.FULL_SPHERE=new a(-90,90,-180,180),a.prototype.copy=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"Sector","copy","missingSector"));return this.minLatitude=t.minLatitude,this.maxLatitude=t.maxLatitude,this.minLongitude=t.minLongitude,this.maxLongitude=t.maxLongitude,this},a.prototype.isEmpty=function(){return this.minLatitude===this.maxLatitude&&this.minLongitude===this.maxLongitude},a.prototype.deltaLatitude=function(){return this.maxLatitude-this.minLatitude},a.prototype.deltaLongitude=function(){return this.maxLongitude-this.minLongitude},a.prototype.centroidLatitude=function(){return.5*(this.minLatitude+this.maxLatitude)},a.prototype.centroidLongitude=function(){return.5*(this.minLongitude+this.maxLongitude)},a.prototype.centroid=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"Sector","centroid","missingResult"));return t.latitude=this.centroidLatitude(),t.longitude=this.centroidLongitude(),t},a.prototype.minLatitudeRadians=function(){return this.minLatitude*t.DEGREES_TO_RADIANS},a.prototype.maxLatitudeRadians=function(){return this.maxLatitude*t.DEGREES_TO_RADIANS},a.prototype.minLongitudeRadians=function(){return this.minLongitude*t.DEGREES_TO_RADIANS},a.prototype.maxLongitudeRadians=function(){return this.maxLongitude*t.DEGREES_TO_RADIANS},a.prototype.setToBoundingSector=function(t){if(!t||t.length<2)throw new e(r.logMessage(r.LEVEL_SEVERE,"Sector","setToBoundingSector","missingArray"));for(var n=90,i=-90,o=180,a=-180,s=0,u=t.length;s<u;s+=1){var l=t[s];l&&(n=Math.min(n,l.latitude),i=Math.max(i,l.latitude),o=Math.min(o,l.longitude),a=Math.max(a,l.longitude))}return this.minLatitude=n,this.maxLatitude=i,this.minLongitude=o,this.maxLongitude=a,this},a.splitBoundingSectors=function(t){if(!t||t.length<2)throw new e(r.logMessage(r.LEVEL_SEVERE,"Sector","splitBoundingSectors","missingArray"));for(var n=90,i=180,s=-90,u=-180,l=null,c=0,h=t.length;c<h;c+=1){var f=t[c],p=f.latitude;p<n&&(n=p),p>s&&(s=p);var d=f.longitude;if(d>=0&&d<i&&(i=d),d<=0&&d>u&&(u=d),null!=l){var g=l.longitude;o.signum(d)!=o.signum(g)&&Math.abs(d-g)<180&&(u=0,i=0)}l=f}return n===s&&i===u?null:[new a(n,s,i,180),new a(n,s,-180,u)]},a.prototype.intersects=function(t){return t&&this.minLongitude<=t.maxLongitude&&this.maxLongitude>=t.minLongitude&&this.minLatitude<=t.maxLatitude&&this.maxLatitude>=t.minLatitude},a.prototype.overlaps=function(t){return t&&this.minLongitude<t.maxLongitude&&this.maxLongitude>t.minLongitude&&this.minLatitude<t.maxLatitude&&this.maxLatitude>t.minLatitude},a.prototype.contains=function(t){return t&&this.minLatitude<=t.minLatitude&&this.maxLatitude>=t.maxLatitude&&this.minLongitude<=t.minLongitude&&this.maxLongitude>=t.maxLongitude},a.prototype.containsLocation=function(t,e){return this.minLatitude<=t&&this.maxLatitude>=t&&this.minLongitude<=e&&this.maxLongitude>=e},a.prototype.intersection=function(t){if(!t instanceof a)throw new e(r.logMessage(r.LEVEL_SEVERE,"Sector","intersection","missingSector"));return this.minLatitude<t.minLatitude&&(this.minLatitude=t.minLatitude),this.maxLatitude>t.maxLatitude&&(this.maxLatitude=t.maxLatitude),this.minLongitude<t.minLongitude&&(this.minLongitude=t.minLongitude),this.maxLongitude>t.maxLongitude&&(this.maxLongitude=t.maxLongitude),this.maxLatitude<this.minLatitude&&(this.maxLatitude=this.minLatitude),this.maxLongitude<this.minLongitude&&(this.maxLongitude=this.minLongitude),this},a.prototype.getCorners=function(){var t=[];return t.push(new n(this.minLatitude,this.minLongitude)),t.push(new n(this.minLatitude,this.maxLongitude)),t.push(new n(this.maxLatitude,this.maxLongitude)),t.push(new n(this.maxLatitude,this.minLongitude)),t},a.prototype.computeBoundingPoints=function(t,o){if(null===t)throw new e(r.logMessage(r.LEVEL_SEVERE,"Sector","computeBoundingBox","missingGlobe"));var a=t.minAndMaxElevationsForSector(this),s=a[0]*o,u=a[1]*o;s===u&&(u=s+10);for(var l=[],c=this.getCorners(),h=0;h<c.length;h++)l.push(t.computePointFromPosition(c[h].latitude,c[h].longitude,s,new i(0,0,0))),l.push(t.computePointFromPosition(c[h].latitude,c[h].longitude,u,new i(0,0,0)));var f=this.centroid(new n(0,0));if(l.push(t.computePointFromPosition(f.latitude,f.longitude,u,new i(0,0,0))),this.minLatitude<0&&this.maxLatitude>0?(l.push(t.computePointFromPosition(this.minLatitude,f.longitude,u,new i(0,0,0))),l.push(t.computePointFromPosition(this.maxLatitude,f.longitude,u,new i(0,0,0))),l.push(t.computePointFromPosition(0,this.minLongitude,u,new i(0,0,0))),l.push(t.computePointFromPosition(0,this.maxLongitude,u,new i(0,0,0)))):this.minLatitude<0?l.push(t.computePointFromPosition(this.maxLatitude,f.longitude,u,new i(0,0,0))):l.push(t.computePointFromPosition(this.minLatitude,f.longitude,u,new i(0,0,0))),this.deltaLongitude()>=360){var p=this.minLatitude;l.push(t.computePointFromPosition(p,0,u,new i(0,0,0))),l.push(t.computePointFromPosition(p,90,u,new i(0,0,0))),l.push(t.computePointFromPosition(p,-90,u,new i(0,0,0))),l.push(t.computePointFromPosition(p,180,u,new i(0,0,0)));var d=this.maxLatitude;l.push(t.computePointFromPosition(d,0,u,new i(0,0,0))),l.push(t.computePointFromPosition(d,90,u,new i(0,0,0))),l.push(t.computePointFromPosition(d,-90,u,new i(0,0,0))),l.push(t.computePointFromPosition(d,180,u,new i(0,0,0)))}else if(this.deltaLongitude()>180){var g=f.longitude,m=f.latitude,y=(this.minLongitude+g)/2;l.push(t.computePointFromPosition(m,y,u,new i(0,0,0))),y=(g+this.maxLongitude)/2,l.push(t.computePointFromPosition(m,y,u,new i(0,0,0))),l.push(t.computePointFromPosition(m,this.minLongitude,u,new i(0,0,0))),l.push(t.computePointFromPosition(m,this.maxLongitude,u,new i(0,0,0)))}return l},a.prototype.union=function(t){if(!t instanceof a)throw new e(r.logMessage(r.LEVEL_SEVERE,"Sector","union","missingSector"));return this.minLatitude>t.minLatitude&&(this.minLatitude=t.minLatitude),this.maxLatitude<t.maxLatitude&&(this.maxLatitude=t.maxLatitude),this.minLongitude>t.minLongitude&&(this.minLongitude=t.minLongitude),this.maxLongitude<t.maxLongitude&&(this.maxLongitude=t.maxLongitude),this},a}));var o={DEBUG:!1,assert:function(t,e){if(o.DEBUG&&!t)throw new Error("Assertion failed"+(e?": "+e:""))},GLU_TESS_MAX_COORD:1e150,TRUE_PROJECT:!1,TESS_MAX_CACHE:100,GLU_TESS_DEFAULT_TOLERANCE:0,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111,GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901}};return o.PQHandle,o.PQKey,o.geom={},o.geom.vertEq=function(t,e){return t.s===e.s&&t.t===e.t},o.geom.vertLeq=function(t,e){return t.s<e.s||t.s===e.s&&t.t<=e.t},o.geom.edgeEval=function(t,e,n){var r=e.s-t.s,i=n.s-e.s;return r+i>0?r<i?e.t-t.t+(t.t-n.t)*(r/(r+i)):e.t-n.t+(n.t-t.t)*(i/(r+i)):0},o.geom.edgeSign=function(t,e,n){var r=e.s-t.s,i=n.s-e.s;return r+i>0?(e.t-n.t)*r+(e.t-t.t)*i:0},o.geom.transLeq=function(t,e){return t.t<e.t||t.t===e.t&&t.s<=e.s},o.geom.transEval=function(t,e,n){var r=e.t-t.t,i=n.t-e.t;return r+i>0?r<i?e.s-t.s+(t.s-n.s)*(r/(r+i)):e.s-n.s+(n.s-t.s)*(i/(r+i)):0},o.geom.transSign=function(t,e,n){var r=e.t-t.t,i=n.t-e.t;return r+i>0?(e.s-n.s)*r+(e.s-t.s)*i:0},o.geom.edgeGoesLeft=function(t){return o.geom.vertLeq(t.dst(),t.org)},o.geom.edgeGoesRight=function(t){return o.geom.vertLeq(t.org,t.dst())},o.geom.vertL1dist=function(t,e){return Math.abs(t.s-e.s)+Math.abs(t.t-e.t)},o.geom.vertCCW=function(t,e,n){return t.s*(e.t-n.t)+e.s*(n.t-t.t)+n.s*(t.t-e.t)>=0},o.geom.interpolate_=function(t,e,n,r){return(t=t<0?0:t)<=(n=n<0?0:n)?0===n?(e+r)/2:e+t/(t+n)*(r-e):r+n/(t+n)*(e-r)},o.geom.edgeIntersect=function(t,e,n,r,i){var a,s,u;o.geom.vertLeq(t,e)||(u=t,t=e,e=u),o.geom.vertLeq(n,r)||(u=n,n=r,r=u),o.geom.vertLeq(t,n)||(u=t,t=n,n=u,u=e,e=r,r=u),o.geom.vertLeq(n,e)?o.geom.vertLeq(e,r)?((a=o.geom.edgeEval(t,n,e))+(s=o.geom.edgeEval(n,e,r))<0&&(a=-a,s=-s),i.s=o.geom.interpolate_(a,n.s,s,e.s)):((a=o.geom.edgeSign(t,n,e))+(s=-o.geom.edgeSign(t,r,e))<0&&(a=-a,s=-s),i.s=o.geom.interpolate_(a,n.s,s,r.s)):i.s=(n.s+e.s)/2,o.geom.transLeq(t,e)||(u=t,t=e,e=u),o.geom.transLeq(n,r)||(u=n,n=r,r=u),o.geom.transLeq(t,n)||(u=t,t=n,n=u,u=e,e=r,r=u),o.geom.transLeq(n,e)?o.geom.transLeq(e,r)?((a=o.geom.transEval(t,n,e))+(s=o.geom.transEval(n,e,r))<0&&(a=-a,s=-s),i.t=o.geom.interpolate_(a,n.t,s,e.t)):((a=o.geom.transSign(t,n,e))+(s=-o.geom.transSign(t,r,e))<0&&(a=-a,s=-s),i.t=o.geom.interpolate_(a,n.t,s,r.t)):i.t=(n.t+e.t)/2},o.mesh={},o.mesh.makeEdge=function(t){var e=o.mesh.makeEdgePair_(t.eHead);return o.mesh.makeVertex_(e,t.vHead),o.mesh.makeVertex_(e.sym,t.vHead),o.mesh.makeFace_(e,t.fHead),e},o.mesh.meshSplice=function(t,e){var n=!1,r=!1;t!==e&&(e.org!==t.org&&(r=!0,o.mesh.killVertex_(e.org,t.org)),e.lFace!==t.lFace&&(n=!0,o.mesh.killFace_(e.lFace,t.lFace)),o.mesh.splice_(e,t),r||(o.mesh.makeVertex_(e,t.org),t.org.anEdge=t),n||(o.mesh.makeFace_(e,t.lFace),t.lFace.anEdge=t))},o.mesh.deleteEdge=function(t){var e=t.sym,n=!1;t.lFace!==t.rFace()&&(n=!0,o.mesh.killFace_(t.lFace,t.rFace())),t.oNext===t?o.mesh.killVertex_(t.org,null):(t.rFace().anEdge=t.oPrev(),t.org.anEdge=t.oNext,o.mesh.splice_(t,t.oPrev()),n||o.mesh.makeFace_(t,t.lFace)),e.oNext===e?(o.mesh.killVertex_(e.org,null),o.mesh.killFace_(e.lFace,null)):(t.lFace.anEdge=e.oPrev(),e.org.anEdge=e.oNext,o.mesh.splice_(e,e.oPrev())),o.mesh.killEdge_(t)},o.mesh.addEdgeVertex=function(t){var e=o.mesh.makeEdgePair_(t),n=e.sym;return o.mesh.splice_(e,t.lNext),e.org=t.dst(),o.mesh.makeVertex_(n,e.org),e.lFace=n.lFace=t.lFace,e},o.mesh.splitEdge=function(t){var e=o.mesh.addEdgeVertex(t).sym;return o.mesh.splice_(t.sym,t.sym.oPrev()),o.mesh.splice_(t.sym,e),t.sym.org=e.org,e.dst().anEdge=e.sym,e.sym.lFace=t.rFace(),e.winding=t.winding,e.sym.winding=t.sym.winding,e},o.mesh.connect=function(t,e){var n=!1,r=o.mesh.makeEdgePair_(t),i=r.sym;return e.lFace!==t.lFace&&(n=!0,o.mesh.killFace_(e.lFace,t.lFace)),o.mesh.splice_(r,t.lNext),o.mesh.splice_(i,e),r.org=t.dst(),i.org=e.org,r.lFace=i.lFace=t.lFace,t.lFace.anEdge=i,n||o.mesh.makeFace_(r,t.lFace),r},o.mesh.zapFace=function(t){var e,n=t.anEdge,r=n.lNext;do{if(r=(e=r).lNext,e.lFace=null,null===e.rFace()){e.oNext===e?o.mesh.killVertex_(e.org,null):(e.org.anEdge=e.oNext,o.mesh.splice_(e,e.oPrev()));var i=e.sym;i.oNext===i?o.mesh.killVertex_(i.org,null):(i.org.anEdge=i.oNext,o.mesh.splice_(i,i.oPrev())),o.mesh.killEdge_(e)}}while(e!==n);var a=t.prev,s=t.next;s.prev=a,a.next=s},o.mesh.meshUnion=function(t,e){var n=t.fHead,r=t.vHead,i=t.eHead,o=e.fHead,a=e.vHead,s=e.eHead;return o.next!==o&&(n.prev.next=o.next,o.next.prev=n.prev,o.prev.next=n,n.prev=o.prev),a.next!==a&&(r.prev.next=a.next,a.next.prev=r.prev,a.prev.next=r,r.prev=a.prev),s.next!==s&&(i.sym.next.sym.next=s.next,s.next.sym.next=i.sym.next,s.sym.next.sym.next=i,i.sym.next=s.sym.next),t},o.mesh.deleteMesh=function(t){},o.mesh.makeEdgePair_=function(t){var e=new o.GluHalfEdge,n=new o.GluHalfEdge,r=t.sym.next;return n.next=r,r.sym.next=e,e.next=t,t.sym.next=n,e.sym=n,e.oNext=e,e.lNext=n,n.sym=e,n.oNext=n,n.lNext=e,e},o.mesh.splice_=function(t,e){var n=t.oNext,r=e.oNext;n.sym.lNext=e,r.sym.lNext=t,t.oNext=r,e.oNext=n},o.mesh.makeVertex_=function(t,e){var n=e.prev,r=new o.GluVertex(e,n);n.next=r,e.prev=r,r.anEdge=t;var i=t;do{i.org=r,i=i.oNext}while(i!==t)},o.mesh.makeFace_=function(t,e){var n=e.prev,r=new o.GluFace(e,n);n.next=r,e.prev=r,r.anEdge=t,r.inside=e.inside;var i=t;do{i.lFace=r,i=i.lNext}while(i!==t)},o.mesh.killEdge_=function(t){var e=t.next,n=t.sym.next;e.sym.next=n,n.sym.next=e},o.mesh.killVertex_=function(t,e){var n=t.anEdge,r=n;do{r.org=e,r=r.oNext}while(r!==n);var i=t.prev,o=t.next;o.prev=i,i.next=o},o.mesh.killFace_=function(t,e){var n=t.anEdge,r=n;do{r.lFace=e,r=r.lNext}while(r!==n);var i=t.prev,o=t.next;o.prev=i,i.next=o},o.normal={},o.normal.S_UNIT_X_=1,o.normal.S_UNIT_Y_=0,o.normal.projectPolygon=function(t){var e=!1,n=[t.normal[0],t.normal[1],t.normal[2]];0===n[0]&&0===n[1]&&0===n[2]&&(o.normal.computeNormal_(t,n),e=!0);var r=t.sUnit,i=t.tUnit,a=o.normal.longAxis_(n);if(o.TRUE_PROJECT){o.normal.normalize_(n),r[a]=0,r[(a+1)%3]=o.normal.S_UNIT_X_,r[(a+2)%3]=o.normal.S_UNIT_Y_;var s=o.normal.dot_(r,n);r[0]-=s*n[0],r[1]-=s*n[1],r[2]-=s*n[2],o.normal.normalize_(r),i[0]=n[1]*r[2]-n[2]*r[1],i[1]=n[2]*r[0]-n[0]*r[2],i[2]=n[0]*r[1]-n[1]*r[0],o.normal.normalize_(i)}else r[a]=0,r[(a+1)%3]=o.normal.S_UNIT_X_,r[(a+2)%3]=o.normal.S_UNIT_Y_,i[a]=0,i[(a+1)%3]=n[a]>0?-o.normal.S_UNIT_Y_:o.normal.S_UNIT_Y_,i[(a+2)%3]=n[a]>0?o.normal.S_UNIT_X_:-o.normal.S_UNIT_X_;for(var u=t.mesh.vHead,l=u.next;l!==u;l=l.next)l.s=o.normal.dot_(l.coords,r),l.t=o.normal.dot_(l.coords,i);e&&o.normal.checkOrientation_(t)},o.normal.dot_=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},o.normal.normalize_=function(t){var e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];e=Math.sqrt(e),t[0]/=e,t[1]/=e,t[2]/=e},o.normal.longAxis_=function(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),Math.abs(t[2])>Math.abs(t[e])&&(e=2),e},o.normal.computeNormal_=function(t,e){var n,r=[-2*o.GLU_TESS_MAX_COORD,-2*o.GLU_TESS_MAX_COORD,-2*o.GLU_TESS_MAX_COORD],i=[2*o.GLU_TESS_MAX_COORD,2*o.GLU_TESS_MAX_COORD,2*o.GLU_TESS_MAX_COORD],a=[],s=[],u=t.mesh.vHead;for(n=u.next;n!==u;n=n.next)for(var l=0;l<3;++l){var c=n.coords[l];c<i[l]&&(i[l]=c,s[l]=n),c>r[l]&&(r[l]=c,a[l]=n)}var h=0;if(r[1]-i[1]>r[0]-i[0]&&(h=1),r[2]-i[2]>r[h]-i[h]&&(h=2),i[h]>=r[h])return e[0]=0,e[1]=0,void(e[2]=1);var f=0,p=s[h],d=a[h],g=[0,0,0],m=[p.coords[0]-d.coords[0],p.coords[1]-d.coords[1],p.coords[2]-d.coords[2]],y=[0,0,0];for(n=u.next;n!==u;n=n.next){y[0]=n.coords[0]-d.coords[0],y[1]=n.coords[1]-d.coords[1],y[2]=n.coords[2]-d.coords[2],g[0]=m[1]*y[2]-m[2]*y[1],g[1]=m[2]*y[0]-m[0]*y[2],g[2]=m[0]*y[1]-m[1]*y[0];var v=g[0]*g[0]+g[1]*g[1]+g[2]*g[2];v>f&&(f=v,e[0]=g[0],e[1]=g[1],e[2]=g[2])}f<=0&&(e[0]=e[1]=e[2]=0,e[o.normal.longAxis_(m)]=1)},o.normal.checkOrientation_=function(t){for(var e=0,n=t.mesh.fHead,r=n.next;r!==n;r=r.next){var i=r.anEdge;if(!(i.winding<=0))do{e+=(i.org.s-i.dst().s)*(i.org.t+i.dst().t),i=i.lNext}while(i!==r.anEdge)}if(e<0){for(var o=t.mesh.vHead,a=o.next;a!==o;a=a.next)a.t=-a.t;t.tUnit[0]=-t.tUnit[0],t.tUnit[1]=-t.tUnit[1],t.tUnit[2]=-t.tUnit[2]}},o.render={},o.render.renderMesh=function(t,e,n){for(var r=!1,i=-1,a=e.fHead.prev;a!==e.fHead;a=a.prev)if(a.inside){r||(t.callBeginOrBeginData(o.primitiveType.GL_TRIANGLES),r=!0);var s=a.anEdge;do{if(n){var u=s.rFace().inside?0:1;i!==u&&(i=u,t.callEdgeFlagOrEdgeFlagData(!!i))}t.callVertexOrVertexData(s.org.data),s=s.lNext}while(s!==a.anEdge)}r&&t.callEndOrEndData()},o.render.renderBoundary=function(t,e){for(var n=e.fHead.next;n!==e.fHead;n=n.next)if(n.inside){t.callBeginOrBeginData(o.primitiveType.GL_LINE_LOOP);var r=n.anEdge;do{t.callVertexOrVertexData(r.org.data),r=r.lNext}while(r!==n.anEdge);t.callEndOrEndData()}},o.sweep={},o.sweep.SENTINEL_COORD_=4*o.GLU_TESS_MAX_COORD,o.sweep.TOLERANCE_NONZERO_=!1,o.sweep.computeInterior=function(t){t.fatalError=!1,o.sweep.removeDegenerateEdges_(t),o.sweep.initPriorityQ_(t),o.sweep.initEdgeDict_(t);for(var e;null!==(e=t.pq.extractMin());){for(;;){var n=t.pq.minimum();if(null===n||!o.geom.vertEq(n,e))break;n=t.pq.extractMin(),o.sweep.spliceMergeVertices_(t,e.anEdge,n.anEdge)}o.sweep.sweepEvent_(t,e)}var r=t.dict.getMin().getKey();t.event=r.eUp.org,o.sweep.doneEdgeDict_(t),o.sweep.donePriorityQ_(t),o.sweep.removeDegenerateFaces_(t.mesh),t.mesh.checkMesh()},o.sweep.addWinding_=function(t,e){t.winding+=e.winding,t.sym.winding+=e.sym.winding},o.sweep.edgeLeq_=function(t,e,n){var r=t.event,i=e.eUp,a=n.eUp;return i.dst()===r?a.dst()===r?o.geom.vertLeq(i.org,a.org)?o.geom.edgeSign(a.dst(),i.org,a.org)<=0:o.geom.edgeSign(i.dst(),a.org,i.org)>=0:o.geom.edgeSign(a.dst(),r,a.org)<=0:a.dst()===r?o.geom.edgeSign(i.dst(),r,i.org)>=0:o.geom.edgeEval(i.dst(),r,i.org)>=o.geom.edgeEval(a.dst(),r,a.org)},o.sweep.deleteRegion_=function(t,e){e.fixUpperEdge,e.eUp.activeRegion=null,t.dict.deleteNode(e.nodeUp),e.nodeUp=null},o.sweep.fixUpperEdge_=function(t,e){o.mesh.deleteEdge(t.eUp),t.fixUpperEdge=!1,t.eUp=e,e.activeRegion=t},o.sweep.topLeftRegion_=function(t){var e=t.eUp.org;do{t=t.regionAbove()}while(t.eUp.org===e);if(t.fixUpperEdge){var n=o.mesh.connect(t.regionBelow().eUp.sym,t.eUp.lNext);o.sweep.fixUpperEdge_(t,n),t=t.regionAbove()}return t},o.sweep.topRightRegion_=function(t){var e=t.eUp.dst();do{t=t.regionAbove()}while(t.eUp.dst()===e);return t},o.sweep.addRegionBelow_=function(t,e,n){var r=new o.ActiveRegion;return r.eUp=n,r.nodeUp=t.dict.insertBefore(e.nodeUp,r),n.activeRegion=r,r},o.sweep.isWindingInside_=function(t,e){switch(t.windingRule){case o.windingRule.GLU_TESS_WINDING_ODD:return 0!==(1&e);case o.windingRule.GLU_TESS_WINDING_NONZERO:return 0!==e;case o.windingRule.GLU_TESS_WINDING_POSITIVE:return e>0;case o.windingRule.GLU_TESS_WINDING_NEGATIVE:return e<0;case o.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:return e>=2||e<=-2}return!1},o.sweep.computeWinding_=function(t,e){e.windingNumber=e.regionAbove().windingNumber+e.eUp.winding,e.inside=o.sweep.isWindingInside_(t,e.windingNumber)},o.sweep.finishRegion_=function(t,e){var n=e.eUp,r=n.lFace;r.inside=e.inside,r.anEdge=n,o.sweep.deleteRegion_(t,e)},o.sweep.finishLeftRegions_=function(t,e,n){for(var r=e,i=e.eUp;r!==n;){r.fixUpperEdge=!1;var a=r.regionBelow(),s=a.eUp;if(s.org!==i.org){if(!a.fixUpperEdge){o.sweep.finishRegion_(t,r);break}s=o.mesh.connect(i.lPrev(),s.sym),o.sweep.fixUpperEdge_(a,s)}i.oNext!==s&&(o.mesh.meshSplice(s.oPrev(),s),o.mesh.meshSplice(i,s)),o.sweep.finishRegion_(t,r),i=a.eUp,r=a}return i},o.sweep.addRightEdges_=function(t,e,n,r,i,a){var s=!0,u=n;do{o.sweep.addRegionBelow_(t,e,u.sym),u=u.oNext}while(u!==r);null===i&&(i=e.regionBelow().eUp.rPrev());for(var l,c=e,h=i;(u=(l=c.regionBelow()).eUp.sym).org===h.org;)u.oNext!==h&&(o.mesh.meshSplice(u.oPrev(),u),o.mesh.meshSplice(h.oPrev(),u)),l.windingNumber=c.windingNumber-u.winding,l.inside=o.sweep.isWindingInside_(t,l.windingNumber),c.dirty=!0,!s&&o.sweep.checkForRightSplice_(t,c)&&(o.sweep.addWinding_(u,h),o.sweep.deleteRegion_(t,c),o.mesh.deleteEdge(h)),s=!1,c=l,h=u;c.dirty=!0,a&&o.sweep.walkDirtyRegions_(t,c)},o.sweep.callCombine_=function(t,e,n,r,i){var a=[e.coords[0],e.coords[1],e.coords[2]];e.data=null,e.data=t.callCombineOrCombineData(a,n,r),null===e.data&&(i?t.fatalError||(t.callErrorOrErrorData(o.errorType.GLU_TESS_NEED_COMBINE_CALLBACK),t.fatalError=!0):e.data=n[0])},o.sweep.spliceMergeVertices_=function(t,e,n){var r=[null,null,null,null];r[0]=e.org.data,r[1]=n.org.data,o.sweep.callCombine_(t,e.org,r,[.5,.5,0,0],!1),o.mesh.meshSplice(e,n)},o.sweep.vertexWeights_=function(t,e,n,r,i){var a=o.geom.vertL1dist(e,t),s=o.geom.vertL1dist(n,t),u=i,l=i+1;r[u]=.5*s/(a+s),r[l]=.5*a/(a+s),t.coords[0]+=r[u]*e.coords[0]+r[l]*n.coords[0],t.coords[1]+=r[u]*e.coords[1]+r[l]*n.coords[1],t.coords[2]+=r[u]*e.coords[2]+r[l]*n.coords[2]},o.sweep.getIntersectData_=function(t,e,n,r,i,a){var s=[0,0,0,0],u=[n.data,r.data,i.data,a.data];e.coords[0]=e.coords[1]=e.coords[2]=0,o.sweep.vertexWeights_(e,n,r,s,0),o.sweep.vertexWeights_(e,i,a,s,2),o.sweep.callCombine_(t,e,u,s,!0)},o.sweep.checkForRightSplice_=function(t,e){var n=e.regionBelow(),r=e.eUp,i=n.eUp;if(o.geom.vertLeq(r.org,i.org)){if(o.geom.edgeSign(i.dst(),r.org,i.org)>0)return!1;o.geom.vertEq(r.org,i.org)?r.org!==i.org&&(t.pq.remove(r.org.pqHandle),o.sweep.spliceMergeVertices_(t,i.oPrev(),r)):(o.mesh.splitEdge(i.sym),o.mesh.meshSplice(r,i.oPrev()),e.dirty=n.dirty=!0)}else{if(o.geom.edgeSign(r.dst(),i.org,r.org)<0)return!1;e.regionAbove().dirty=e.dirty=!0,o.mesh.splitEdge(r.sym),o.mesh.meshSplice(i.oPrev(),r)}return!0},o.sweep.checkForLeftSplice_=function(t,e){var n,r=e.regionBelow(),i=e.eUp,a=r.eUp;if(o.geom.vertLeq(i.dst(),a.dst())){if(o.geom.edgeSign(i.dst(),a.dst(),i.org)<0)return!1;e.regionAbove().dirty=e.dirty=!0,n=o.mesh.splitEdge(i),o.mesh.meshSplice(a.sym,n),n.lFace.inside=e.inside}else{if(o.geom.edgeSign(a.dst(),i.dst(),a.org)>0)return!1;e.dirty=r.dirty=!0,n=o.mesh.splitEdge(a),o.mesh.meshSplice(i.lNext,a.sym),n.rFace().inside=e.inside}return!0},o.sweep.checkForIntersect_=function(t,e){var n=e.regionBelow(),r=e.eUp,i=n.eUp,a=r.org,s=i.org,u=r.dst(),l=i.dst(),c=new o.GluVertex;if(a===s)return!1;if(Math.min(a.t,u.t)>Math.max(s.t,l.t))return!1;if(o.geom.vertLeq(a,s)){if(o.geom.edgeSign(l,a,s)>0)return!1}else if(o.geom.edgeSign(u,s,a)<0)return!1;o.geom.edgeIntersect(u,a,l,s,c),o.geom.vertLeq(c,t.event)&&(c.s=t.event.s,c.t=t.event.t);var h=o.geom.vertLeq(a,s)?a:s;if(o.geom.vertLeq(h,c)&&(c.s=h.s,c.t=h.t),o.geom.vertEq(c,a)||o.geom.vertEq(c,s))return o.sweep.checkForRightSplice_(t,e),!1;if(!o.geom.vertEq(u,t.event)&&o.geom.edgeSign(u,t.event,c)>=0||!o.geom.vertEq(l,t.event)&&o.geom.edgeSign(l,t.event,c)<=0){if(l===t.event)return o.mesh.splitEdge(r.sym),o.mesh.meshSplice(i.sym,r),r=(e=o.sweep.topLeftRegion_(e)).regionBelow().eUp,o.sweep.finishLeftRegions_(t,e.regionBelow(),n),o.sweep.addRightEdges_(t,e,r.oPrev(),r,r,!0),!0;if(u===t.event){o.mesh.splitEdge(i.sym),o.mesh.meshSplice(r.lNext,i.oPrev()),n=e;var f=(e=o.sweep.topRightRegion_(e)).regionBelow().eUp.rPrev();return n.eUp=i.oPrev(),i=o.sweep.finishLeftRegions_(t,n,null),o.sweep.addRightEdges_(t,e,i.oNext,r.rPrev(),f,!0),!0}return o.geom.edgeSign(u,t.event,c)>=0&&(e.regionAbove().dirty=e.dirty=!0,o.mesh.splitEdge(r.sym),r.org.s=t.event.s,r.org.t=t.event.t),o.geom.edgeSign(l,t.event,c)<=0&&(e.dirty=n.dirty=!0,o.mesh.splitEdge(i.sym),i.org.s=t.event.s,i.org.t=t.event.t),!1}return o.mesh.splitEdge(r.sym),o.mesh.splitEdge(i.sym),o.mesh.meshSplice(i.oPrev(),r),r.org.s=c.s,r.org.t=c.t,r.org.pqHandle=t.pq.insert(r.org),o.sweep.getIntersectData_(t,r.org,a,u,s,l),e.regionAbove().dirty=e.dirty=n.dirty=!0,!1},o.sweep.walkDirtyRegions_=function(t,e){for(var n=e.regionBelow();;){for(;n.dirty;)e=n,n=n.regionBelow();if(!e.dirty&&(n=e,null===(e=e.regionAbove())||!e.dirty))return;e.dirty=!1;var r=e.eUp,i=n.eUp;if(r.dst()!==i.dst()&&o.sweep.checkForLeftSplice_(t,e)&&(n.fixUpperEdge?(o.sweep.deleteRegion_(t,n),o.mesh.deleteEdge(i),i=(n=e.regionBelow()).eUp):e.fixUpperEdge&&(o.sweep.deleteRegion_(t,e),o.mesh.deleteEdge(r),r=(e=n.regionAbove()).eUp)),r.org!==i.org)if(r.dst()===i.dst()||e.fixUpperEdge||n.fixUpperEdge||r.dst()!==t.event&&i.dst()!==t.event)o.sweep.checkForRightSplice_(t,e);else if(o.sweep.checkForIntersect_(t,e))return;r.org===i.org&&r.dst()===i.dst()&&(o.sweep.addWinding_(i,r),o.sweep.deleteRegion_(t,e),o.mesh.deleteEdge(r),e=n.regionAbove())}},o.sweep.connectRightVertex_=function(t,e,n){var r,i=n.oNext,a=e.regionBelow(),s=e.eUp,u=a.eUp,l=!1;s.dst()!==u.dst()&&o.sweep.checkForIntersect_(t,e),o.geom.vertEq(s.org,t.event)&&(o.mesh.meshSplice(i.oPrev(),s),i=(e=o.sweep.topLeftRegion_(e)).regionBelow().eUp,o.sweep.finishLeftRegions_(t,e.regionBelow(),a),l=!0),o.geom.vertEq(u.org,t.event)&&(o.mesh.meshSplice(n,u.oPrev()),n=o.sweep.finishLeftRegions_(t,a,null),l=!0),l?o.sweep.addRightEdges_(t,e,n.oNext,i,i,!0):(r=o.geom.vertLeq(u.org,s.org)?u.oPrev():s,r=o.mesh.connect(n.lPrev(),r),o.sweep.addRightEdges_(t,e,r,r.oNext,r.oNext,!1),r.sym.activeRegion.fixUpperEdge=!0,o.sweep.walkDirtyRegions_(t,e))},o.sweep.connectLeftDegenerate_=function(t,e,n){var r=e.eUp;if(o.geom.vertEq(r.org,n))o.sweep.TOLERANCE_NONZERO_&&o.sweep.spliceMergeVertices_(t,r,n.anEdge);else{if(!o.geom.vertEq(r.dst(),n))return o.mesh.splitEdge(r.sym),e.fixUpperEdge&&(o.mesh.deleteEdge(r.oNext),e.fixUpperEdge=!1),o.mesh.meshSplice(n.anEdge,r),void o.sweep.sweepEvent_(t,n);if(o.sweep.TOLERANCE_NONZERO_){var i=(e=o.sweep.topRightRegion_(e)).regionBelow(),a=i.eUp.sym,s=a.oNext,u=s;i.fixUpperEdge&&(o.sweep.deleteRegion_(t,i),o.mesh.deleteEdge(a),a=s.oPrev()),o.mesh.meshSplice(n.anEdge,a),o.geom.edgeGoesLeft(s)||(s=null),o.sweep.addRightEdges_(t,e,a.oNext,u,s,!0)}}},o.sweep.connectLeftVertex_=function(t,e){var n=new o.ActiveRegion;n.eUp=e.anEdge.sym;var r=t.dict.search(n).getKey(),i=r.regionBelow(),a=r.eUp,s=i.eUp;if(0!==o.geom.edgeSign(a.dst(),e,a.org)){var u,l=o.geom.vertLeq(s.dst(),a.dst())?r:i;r.inside||l.fixUpperEdge?(u=l===r?o.mesh.connect(e.anEdge.sym,a.lNext):o.mesh.connect(s.dNext(),e.anEdge).sym,l.fixUpperEdge?o.sweep.fixUpperEdge_(l,u):o.sweep.computeWinding_(t,o.sweep.addRegionBelow_(t,r,u)),o.sweep.sweepEvent_(t,e)):o.sweep.addRightEdges_(t,r,e.anEdge,e.anEdge,null,!0)}else o.sweep.connectLeftDegenerate_(t,r,e)},o.sweep.sweepEvent_=function(t,e){t.event=e;for(var n=e.anEdge;null===n.activeRegion;)if((n=n.oNext)===e.anEdge)return void o.sweep.connectLeftVertex_(t,e);var r=o.sweep.topLeftRegion_(n.activeRegion),i=r.regionBelow(),a=i.eUp,s=o.sweep.finishLeftRegions_(t,i,null);s.oNext===a?o.sweep.connectRightVertex_(t,r,s):o.sweep.addRightEdges_(t,r,s.oNext,a,a,!0)},o.sweep.addSentinel_=function(t,e){var n=new o.ActiveRegion,r=o.mesh.makeEdge(t.mesh);r.org.s=o.sweep.SENTINEL_COORD_,r.org.t=e,r.dst().s=-o.sweep.SENTINEL_COORD_,r.dst().t=e,t.event=r.dst(),n.eUp=r,n.windingNumber=0,n.inside=!1,n.fixUpperEdge=!1,n.sentinel=!0,n.dirty=!1,n.nodeUp=t.dict.insert(n)},o.sweep.initEdgeDict_=function(t){t.dict=new o.Dict(t,o.sweep.edgeLeq_),o.sweep.addSentinel_(t,-o.sweep.SENTINEL_COORD_),o.sweep.addSentinel_(t,o.sweep.SENTINEL_COORD_)},o.sweep.doneEdgeDict_=function(t){for(var e;null!==(e=t.dict.getMin().getKey());)e.sentinel,o.sweep.deleteRegion_(t,e);t.dict=null},o.sweep.removeDegenerateEdges_=function(t){for(var e,n=t.mesh.eHead,r=n.next;r!==n;r=e){e=r.next;var i=r.lNext;o.geom.vertEq(r.org,r.dst())&&r.lNext.lNext!==r&&(o.sweep.spliceMergeVertices_(t,i,r),o.mesh.deleteEdge(r),i=(r=i).lNext),i.lNext===r&&(i!==r&&(i!==e&&i!==e.sym||(e=e.next),o.mesh.deleteEdge(i)),r!==e&&r!==e.sym||(e=e.next),o.mesh.deleteEdge(r))}},o.sweep.initPriorityQ_=function(t){var e=new o.PriorityQ(o.geom.vertLeq);t.pq=e;var n,r=t.mesh.vHead;for(n=r.next;n!==r;n=n.next)n.pqHandle=e.insert(n);e.init()},o.sweep.donePriorityQ_=function(t){t.pq.deleteQ(),t.pq=null},o.sweep.removeDegenerateFaces_=function(t){for(var e,n=t.fHead.next;n!==t.fHead;n=e){e=n.next;var r=n.anEdge;r.lNext.lNext===r&&(o.sweep.addWinding_(r.oNext,r),o.mesh.deleteEdge(r))}},o.tessmono={},o.tessmono.tessellateMonoRegion_=function(t){for(var e=t.anEdge;o.geom.vertLeq(e.dst(),e.org);e=e.lPrev());for(;o.geom.vertLeq(e.org,e.dst());e=e.lNext);for(var n,r=e.lPrev();e.lNext!==r;)if(o.geom.vertLeq(e.dst(),r.org)){for(;r.lNext!==e&&(o.geom.edgeGoesLeft(r.lNext)||o.geom.edgeSign(r.org,r.dst(),r.lNext.dst())<=0);)r=(n=o.mesh.connect(r.lNext,r)).sym;r=r.lPrev()}else{for(;r.lNext!==e&&(o.geom.edgeGoesRight(e.lPrev())||o.geom.edgeSign(e.dst(),e.org,e.lPrev().org)>=0);)n=o.mesh.connect(e,e.lPrev()),e=n.sym;e=e.lNext}for(;r.lNext.lNext!==e;)r=(n=o.mesh.connect(r.lNext,r)).sym},o.tessmono.tessellateInterior=function(t){for(var e,n=t.fHead.next;n!==t.fHead;n=e)e=n.next,n.inside&&o.tessmono.tessellateMonoRegion_(n)},o.tessmono.discardExterior=function(t){for(var e,n=t.fHead.next;n!==t.fHead;n=e)e=n.next,n.inside||o.mesh.zapFace(n)},o.tessmono.setWindingNumber=function(t,e,n){for(var r,i=t.eHead.next;i!==t.eHead;i=r)r=i.next,i.rFace().inside!==i.lFace.inside?i.winding=i.lFace.inside?e:-e:n?o.mesh.deleteEdge(i):i.winding=0},o.Dict=function(t,e){this.head_=new o.DictNode,this.frame_=t,this.leq_=e},o.Dict.prototype.deleteDict_=function(){},o.Dict.prototype.insertBefore=function(t,e){do{t=t.prev}while(null!==t.key&&!this.leq_(this.frame_,t.key,e));var n=new o.DictNode(e,t.next,t);return t.next.prev=n,t.next=n,n},o.Dict.prototype.insert=function(t){return this.insertBefore(this.head_,t)},o.Dict.prototype.deleteNode=function(t){t.next.prev=t.prev,t.prev.next=t.next},o.Dict.prototype.search=function(t){var e=this.head_;do{e=e.next}while(null!==e.key&&!this.leq_(this.frame_,t,e.key));return e},o.Dict.prototype.getMin=function(){return this.head_.next},o.Dict.prototype.getMax=function(){return this.head_.prev},o.DictNode=function(t,e,n){this.key=t||null,this.next=e||this,this.prev=n||this},o.DictNode.prototype.getKey=function(){return this.key},o.DictNode.prototype.getSuccessor=function(){return this.next},o.DictNode.prototype.getPredecessor=function(){return this.prev},o.CachedVertex=function(){this.coords=[0,0,0],this.data=null},o.GluTesselator=function(){this.state=o.GluTesselator.tessState_.T_DORMANT,this.lastEdge_=null,this.mesh=null,this.callError_=null,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.relTolerance=o.GLU_TESS_DEFAULT_TOLERANCE,this.windingRule=o.windingRule.GLU_TESS_WINDING_ODD,this.fatalError=!1,this.dict=null,this.pq=null,this.event=null,this.callCombine_=null,this.boundaryOnly=!1,this.callBegin_=null,this.callEdgeFlag_=null,this.callVertex_=null,this.callEnd_=null,this.callMesh_=null,this.callBeginData_=null,this.callEdgeFlagData_=null,this.callVertexData_=null,this.callEndData_=null,this.callErrorData_=null,this.callCombineData_=null,this.polygonData_=null,this.emptyCache=!1,this.cacheCount=0,this.cache=new Array(o.TESS_MAX_CACHE);for(var t=0;t<o.TESS_MAX_CACHE;t++)this.cache[t]=new o.CachedVertex},o.GluTesselator.tessState_={T_DORMANT:0,T_IN_POLYGON:1,T_IN_CONTOUR:2},o.GluTesselator.prototype.gluDeleteTess=function(){this.requireState_(o.GluTesselator.tessState_.T_DORMANT)},o.GluTesselator.prototype.gluTessProperty=function(t,e){switch(t){case o.gluEnum.GLU_TESS_TOLERANCE:if(e<0||e>1)break;return void(this.relTolerance=e);case o.gluEnum.GLU_TESS_WINDING_RULE:var n=e;switch(n){case o.windingRule.GLU_TESS_WINDING_ODD:case o.windingRule.GLU_TESS_WINDING_NONZERO:case o.windingRule.GLU_TESS_WINDING_POSITIVE:case o.windingRule.GLU_TESS_WINDING_NEGATIVE:case o.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:return void(this.windingRule=n)}break;case o.gluEnum.GLU_TESS_BOUNDARY_ONLY:return void(this.boundaryOnly=!!e);default:return void this.callErrorOrErrorData(o.gluEnum.GLU_INVALID_ENUM)}this.callErrorOrErrorData(o.gluEnum.GLU_INVALID_VALUE)},o.GluTesselator.prototype.gluGetTessProperty=function(t){switch(t){case o.gluEnum.GLU_TESS_TOLERANCE:return this.relTolerance;case o.gluEnum.GLU_TESS_WINDING_RULE:return this.windingRule;case o.gluEnum.GLU_TESS_BOUNDARY_ONLY:return this.boundaryOnly;default:this.callErrorOrErrorData(o.gluEnum.GLU_INVALID_ENUM)}return!1},o.GluTesselator.prototype.gluTessNormal=function(t,e,n){this.normal[0]=t,this.normal[1]=e,this.normal[2]=n},o.GluTesselator.prototype.gluTessCallback=function(t,e){var n=e||null;switch(t){case o.gluEnum.GLU_TESS_BEGIN:return void(this.callBegin_=n);case o.gluEnum.GLU_TESS_BEGIN_DATA:return void(this.callBeginData_=n);case o.gluEnum.GLU_TESS_EDGE_FLAG:return void(this.callEdgeFlag_=n);case o.gluEnum.GLU_TESS_EDGE_FLAG_DATA:return void(this.callEdgeFlagData_=n);case o.gluEnum.GLU_TESS_VERTEX:return void(this.callVertex_=n);case o.gluEnum.GLU_TESS_VERTEX_DATA:return void(this.callVertexData_=n);case o.gluEnum.GLU_TESS_END:return void(this.callEnd_=n);case o.gluEnum.GLU_TESS_END_DATA:return void(this.callEndData_=n);case o.gluEnum.GLU_TESS_ERROR:return void(this.callError_=n);case o.gluEnum.GLU_TESS_ERROR_DATA:return void(this.callErrorData_=n);case o.gluEnum.GLU_TESS_COMBINE:return void(this.callCombine_=n);case o.gluEnum.GLU_TESS_COMBINE_DATA:return void(this.callCombineData_=n);case o.gluEnum.GLU_TESS_MESH:return void(this.callMesh_=n);default:return void this.callErrorOrErrorData(o.gluEnum.GLU_INVALID_ENUM)}},o.GluTesselator.prototype.gluTessVertex=function(t,e){var n=!1,r=[0,0,0];this.requireState_(o.GluTesselator.tessState_.T_IN_CONTOUR),this.emptyCache&&(this.emptyCache_(),this.lastEdge_=null);for(var i=0;i<3;++i){var a=t[i];a<-o.GLU_TESS_MAX_COORD&&(a=-o.GLU_TESS_MAX_COORD,n=!0),a>o.GLU_TESS_MAX_COORD&&(a=o.GLU_TESS_MAX_COORD,n=!0),r[i]=a}if(n&&this.callErrorOrErrorData(o.errorType.GLU_TESS_COORD_TOO_LARGE),null===this.mesh){if(this.cacheCount<o.TESS_MAX_CACHE)return void this.cacheVertex_(r,e);this.emptyCache_()}this.addVertex_(r,e)},o.GluTesselator.prototype.gluTessBeginPolygon=function(t){this.requireState_(o.GluTesselator.tessState_.T_DORMANT),this.state=o.GluTesselator.tessState_.T_IN_POLYGON,this.cacheCount=0,this.emptyCache=!1,this.mesh=null,this.polygonData_=t},o.GluTesselator.prototype.gluTessBeginContour=function(){this.requireState_(o.GluTesselator.tessState_.T_IN_POLYGON),this.state=o.GluTesselator.tessState_.T_IN_CONTOUR,this.lastEdge_=null,this.cacheCount>0&&(this.emptyCache=!0)},o.GluTesselator.prototype.gluTessEndContour=function(){this.requireState_(o.GluTesselator.tessState_.T_IN_CONTOUR),this.state=o.GluTesselator.tessState_.T_IN_POLYGON},o.GluTesselator.prototype.gluTessEndPolygon=function(){if(this.requireState_(o.GluTesselator.tessState_.T_IN_POLYGON),this.state=o.GluTesselator.tessState_.T_DORMANT,null===this.mesh&&this.emptyCache_(),o.normal.projectPolygon(this),o.sweep.computeInterior(this),!this.fatalError){var t=this.mesh;if(this.boundaryOnly?o.tessmono.setWindingNumber(t,1,!0):o.tessmono.tessellateInterior(t),this.mesh.checkMesh(),this.callBegin_||this.callEnd_||this.callVertex_||this.callEdgeFlag_||this.callBeginData_||this.callEndData_||this.callVertexData_||this.callEdgeFlagData_)if(this.boundaryOnly)o.render.renderBoundary(this,this.mesh);else{var e=!(!this.callEdgeFlag_&&!this.callEdgeFlagData_);o.render.renderMesh(this,this.mesh,e)}if(this.callMesh_)return o.tessmono.discardExterior(this.mesh),this.callMesh_(this.mesh),this.mesh=null,void(this.polygonData_=null)}o.mesh.deleteMesh(this.mesh),this.polygonData_=null,this.mesh=null},o.GluTesselator.prototype.makeDormant_=function(){this.mesh&&o.mesh.deleteMesh(this.mesh),this.state=o.GluTesselator.tessState_.T_DORMANT,this.lastEdge_=null,this.mesh=null},o.GluTesselator.prototype.requireState_=function(t){this.state!==t&&this.gotoState_(t)},o.GluTesselator.prototype.gotoState_=function(t){for(;this.state!==t;)if(this.state<t)switch(this.state){case o.GluTesselator.tessState_.T_DORMANT:this.callErrorOrErrorData(o.errorType.GLU_TESS_MISSING_BEGIN_POLYGON),this.gluTessBeginPolygon(null);break;case o.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorOrErrorData(o.errorType.GLU_TESS_MISSING_BEGIN_CONTOUR),this.gluTessBeginContour()}else switch(this.state){case o.GluTesselator.tessState_.T_IN_CONTOUR:this.callErrorOrErrorData(o.errorType.GLU_TESS_MISSING_END_CONTOUR),this.gluTessEndContour();break;case o.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorOrErrorData(o.errorType.GLU_TESS_MISSING_END_POLYGON),this.makeDormant_()}},o.GluTesselator.prototype.addVertex_=function(t,e){var n=this.lastEdge_;null===n?(n=o.mesh.makeEdge(this.mesh),o.mesh.meshSplice(n,n.sym)):(o.mesh.splitEdge(n),n=n.lNext),n.org.data=e,n.org.coords[0]=t[0],n.org.coords[1]=t[1],n.org.coords[2]=t[2],n.winding=1,n.sym.winding=-1,this.lastEdge_=n},o.GluTesselator.prototype.cacheVertex_=function(t,e){var n=this.cache[this.cacheCount];n.data=e,n.coords[0]=t[0],n.coords[1]=t[1],n.coords[2]=t[2],++this.cacheCount},o.GluTesselator.prototype.emptyCache_=function(){this.mesh=new o.GluMesh;for(var t=0;t<this.cacheCount;t++){var e=this.cache[t];this.addVertex_(e.coords,e.data)}this.cacheCount=0,this.emptyCache=!1},o.GluTesselator.prototype.callBeginOrBeginData=function(t){this.callBeginData_?this.callBeginData_(t,this.polygonData_):this.callBegin_&&this.callBegin_(t)},o.GluTesselator.prototype.callVertexOrVertexData=function(t){this.callVertexData_?this.callVertexData_(t,this.polygonData_):this.callVertex_&&this.callVertex_(t)},o.GluTesselator.prototype.callEdgeFlagOrEdgeFlagData=function(t){this.callEdgeFlagData_?this.callEdgeFlagData_(t,this.polygonData_):this.callEdgeFlag_&&this.callEdgeFlag_(t)},o.GluTesselator.prototype.callEndOrEndData=function(){this.callEndData_?this.callEndData_(this.polygonData_):this.callEnd_&&this.callEnd_()},o.GluTesselator.prototype.callCombineOrCombineData=function(t,e,n){var r;return this.callCombineData_?r=this.callCombineData_(t,e,n,this.polygonData_):this.callCombine_&&(r=this.callCombine_(t,e,n)),void 0===r&&(r=null),r},o.GluTesselator.prototype.callErrorOrErrorData=function(t){this.callErrorData_?this.callErrorData_(t,this.polygonData_):this.callError_&&this.callError_(t)},o.GluFace=function(t,e){this.next=t||this,this.prev=e||this,this.anEdge=null,this.data=null,this.inside=!1},o.GluHalfEdge=function(t){this.next=t||this,this.sym=null,this.oNext=null,this.lNext=null,this.org=null,this.lFace=null,this.activeRegion=null,this.winding=0},o.GluHalfEdge.prototype.rFace=function(){return this.sym.lFace},o.GluHalfEdge.prototype.dst=function(){return this.sym.org},o.GluHalfEdge.prototype.oPrev=function(){return this.sym.lNext},o.GluHalfEdge.prototype.lPrev=function(){return this.oNext.sym},o.GluHalfEdge.prototype.dPrev=function(){return this.lNext.sym},o.GluHalfEdge.prototype.rPrev=function(){return this.sym.oNext},o.GluHalfEdge.prototype.dNext=function(){return this.rPrev().sym},o.GluHalfEdge.prototype.rNext=function(){return this.oPrev().sym},o.GluMesh=function(){this.vHead=new o.GluVertex,this.fHead=new o.GluFace,this.eHead=new o.GluHalfEdge,this.eHeadSym=new o.GluHalfEdge,this.eHead.sym=this.eHeadSym,this.eHeadSym.sym=this.eHead},o.GluMesh.prototype.checkMesh=function(){if(o.DEBUG){var t,e,n=this.fHead,r=this.vHead,i=this.eHead,a=n;for(a=n;(e=a.next)!==n;a=e){t=e.anEdge;do{t=t.lNext}while(t!==e.anEdge)}var s,u=r;for(u=r;(s=u.next)!==r;u=s){t=s.anEdge;do{t=t.oNext}while(t!==s.anEdge)}var l=i;for(l=i;(t=l.next)!==i;l=t);}},o.GluVertex=function(t,e){this.next=t||this,this.prev=e||this,this.anEdge=null,this.data=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=null},o.PQHandleElem=function(){this.key=null,this.node=0},o.PQHandleElem.realloc=function(t,e){var n=new Array(e),r=0;if(null!==t)for(;r<t.length;r++)n[r]=t[r];for(;r<e;r++)n[r]=new o.PQHandleElem;return n},o.PQNode=function(){this.handle=0},o.PQNode.realloc=function(t,e){var n=new Array(e),r=0;if(null!==t)for(;r<t.length;r++)n[r]=t[r];for(;r<e;r++)n[r]=new o.PQNode;return n},o.PriorityQ=function(t){this.keys_=o.PriorityQ.prototype.PQKeyRealloc_(null,o.PriorityQ.INIT_SIZE_),this.order_=null,this.size_=0,this.max_=o.PriorityQ.INIT_SIZE_,this.initialized_=!1,this.leq_=t,this.heap_=new o.PriorityQHeap(this.leq_)},o.PriorityQ.INIT_SIZE_=32,o.PriorityQ.prototype.deleteQ=function(){this.heap_.deleteHeap(),this.heap_=null,this.order_=null,this.keys_=null},o.PriorityQ.prototype.init=function(){this.order_=[];for(var t=0;t<this.size_;t++)this.order_[t]=t;var e=function(t,e){return function(n,r){return e(t[n],t[r])?1:-1}}(this.keys_,this.leq_);if(this.order_.sort(e),this.max_=this.size_,this.initialized_=!0,this.heap_.init(),o.DEBUG){var n=0+this.size_-1;for(t=0;t<n;++t);}},o.PriorityQ.prototype.insert=function(t){if(this.initialized_)return this.heap_.insert(t);var e=this.size_;return++this.size_>=this.max_&&(this.max_*=2,this.keys_=o.PriorityQ.prototype.PQKeyRealloc_(this.keys_,this.max_)),this.keys_[e]=t,-(e+1)},o.PriorityQ.prototype.PQKeyRealloc_=function(t,e){var n=new Array(e),r=0;if(null!==t)for(;r<t.length;r++)n[r]=t[r];for(;r<e;r++)n[r]=null;return n},o.PriorityQ.prototype.keyLessThan_=function(t,e){var n=this.keys_[t],r=this.keys_[e];return!this.leq_(r,n)},o.PriorityQ.prototype.keyGreaterThan_=function(t,e){var n=this.keys_[t],r=this.keys_[e];return!this.leq_(n,r)},o.PriorityQ.prototype.extractMin=function(){if(0===this.size_)return this.heap_.extractMin();var t=this.keys_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var e=this.heap_.minimum();if(this.leq_(e,t))return this.heap_.extractMin()}do{--this.size_}while(this.size_>0&&null===this.keys_[this.order_[this.size_-1]]);return t},o.PriorityQ.prototype.minimum=function(){if(0===this.size_)return this.heap_.minimum();var t=this.keys_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var e=this.heap_.minimum();if(this.leq_(e,t))return e}return t},o.PriorityQ.prototype.isEmpty_=function(){return 0===this.size_&&this.heap_.isEmpty()},o.PriorityQ.prototype.remove=function(t){if(t>=0)this.heap_.remove(t);else for(t=-(t+1),this.keys_[t]=null;this.size_>0&&null===this.keys_[this.order_[this.size_-1]];)--this.size_},o.PriorityQHeap=function(t){this.nodes_=o.PQNode.realloc(null,o.PriorityQHeap.INIT_SIZE_+1),this.handles_=o.PQHandleElem.realloc(null,o.PriorityQHeap.INIT_SIZE_+1),this.size_=0,this.max_=o.PriorityQHeap.INIT_SIZE_,this.freeList_=0,this.initialized_=!1,this.leq_=t,this.nodes_[1].handle=1},o.PriorityQHeap.INIT_SIZE_=32,o.PriorityQHeap.prototype.deleteHeap=function(){this.handles_=null,this.nodes_=null},o.PriorityQHeap.prototype.init=function(){for(var t=this.size_;t>=1;--t)this.floatDown_(t);this.initialized_=!0},o.PriorityQHeap.prototype.insert=function(t){var e,n=++this.size_;return 2*n>this.max_&&(this.max_*=2,this.nodes_=o.PQNode.realloc(this.nodes_,this.max_+1),this.handles_=o.PQHandleElem.realloc(this.handles_,this.max_+1)),0===this.freeList_?e=n:(e=this.freeList_,this.freeList_=this.handles_[e].node),this.nodes_[n].handle=e,this.handles_[e].node=n,this.handles_[e].key=t,this.initialized_&&this.floatUp_(n),e},o.PriorityQHeap.prototype.isEmpty=function(){return 0===this.size_},o.PriorityQHeap.prototype.minimum=function(){return this.handles_[this.nodes_[1].handle].key},o.PriorityQHeap.prototype.extractMin=function(){var t=this.nodes_,e=this.handles_,n=t[1].handle,r=e[n].key;return this.size_>0&&(t[1].handle=t[this.size_].handle,e[t[1].handle].node=1,e[n].key=null,e[n].node=this.freeList_,this.freeList_=n,--this.size_>0&&this.floatDown_(1)),r},o.PriorityQHeap.prototype.remove=function(t){var e=this.nodes_,n=this.handles_,r=n[t].node;e[r].handle=e[this.size_].handle,n[e[r].handle].node=r,r<=--this.size_&&(r<=1||this.leq_(n[e[r>>1].handle].key,n[e[r].handle].key)?this.floatDown_(r):this.floatUp_(r)),n[t].key=null,n[t].node=this.freeList_,this.freeList_=t},o.PriorityQHeap.prototype.floatDown_=function(t){for(var e=this.nodes_,n=this.handles_,r=e[t].handle;;){var i=t<<1;i<this.size_&&this.leq_(n[e[i+1].handle].key,n[e[i].handle].key)&&++i;var o=e[i].handle;if(i>this.size_||this.leq_(n[r].key,n[o].key)){e[t].handle=r,n[r].node=t;break}e[t].handle=o,n[o].node=t,t=i}},o.PriorityQHeap.prototype.floatUp_=function(t){for(var e=this.nodes_,n=this.handles_,r=e[t].handle;;){var i=t>>1,o=e[i].handle;if(0===i||this.leq_(n[o].key,n[r].key)){e[t].handle=r,n[r].node=t;break}e[t].handle=o,n[o].node=t,t=i}},o.ActiveRegion=function(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1},o.ActiveRegion.prototype.regionBelow=function(){return this.nodeUp.getPredecessor().getKey()},o.ActiveRegion.prototype.regionAbove=function(){return this.nodeUp.getSuccessor().getKey()},t.exports=o,i("util/libtess",(function(){})),i("util/measure/AreaMeasurer",["../../geom/Angle","../../error/ArgumentError","../../geom/Location","../Logger","./MeasurerUtils","../../geom/Sector","../../geom/Vec3","../libtess"],(function(t,e,n,r,i,a,s,u){"use strict";var l=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"AreaMeasurer","constructor","missingWorldWindow"));this.wwd=t,this.DEFAULT_AREA_SAMPLING_STEPS=32,this._areaTerrainSamplingSteps=this.DEFAULT_AREA_SAMPLING_STEPS,this._maxSegmentLength=1e5,this.subdividedPositions=null,this.vecZ=new s(0,0,1),this.scratchLocation=new n(0,0)};return Object.defineProperties(l.prototype,{areaTerrainSamplingSteps:{get:function(){return this._areaTerrainSamplingSteps},set:function(t){this._areaTerrainSamplingSteps=t}},maxSegmentLength:{get:function(){return this._maxSegmentLength},set:function(t){this._maxSegmentLength=t}}}),l.prototype.getArea=function(t,e,n){var r=this.wwd.globe;return e?this.computeSurfaceAreaSampling(r,t,n):this.computeProjectedAreaGeometry(r,t,n)},l.prototype.computeSurfaceAreaSampling=function(e,n,r){var o=new a(0,0,0,0);o.setToBoundingSector(n),this.subdividedPositions=i.subdividePositions(e,n,!0,r,this._maxSegmentLength);for(var u=Math.max(this.DEFAULT_AREA_SAMPLING_STEPS,this._areaTerrainSamplingSteps),l=o.deltaLatitude()*t.DEGREES_TO_RADIANS,c=o.deltaLongitude()*t.DEGREES_TO_RADIANS,h=Math.max(l/u,c/u),f=Math.round(l/h),p=Math.round(c/h*Math.cos(o.centroidLatitude()*t.DEGREES_TO_RADIANS)),d=l/f,g=c/p,m=0,y=0;y<f;y++)for(var v=o.minLatitude*t.DEGREES_TO_RADIANS+d*y,b=e.radiusAt((v+d/2)*t.RADIANS_TO_DEGREES,o.centroidLongitude()),E=g*b*Math.cos(v+d/2),_=d*b,w=E*_,S=0;S<p;S++){var x=o.minLongitude*t.DEGREES_TO_RADIANS+g*S,T=v*t.RADIANS_TO_DEGREES,O=(v+d)*t.RADIANS_TO_DEGREES,C=x*t.RADIANS_TO_DEGREES,A=(x+g)*t.RADIANS_TO_DEGREES,L=new a(T,O,C,A);if(i.isLocationInside(L.centroid(this.scratchLocation),this.subdividedPositions)){var P=e.elevationAtLocation(T,C),R=e.elevationAtLocation(T,A),M=e.elevationAtLocation(O,C),k=new s(E,0,R-P),I=new s(0,_,M-P);k.normalize(),I.normalize();var N=k.cross(I).normalize(),D=Math.tan(i.angleBetweenVectors(this.vecZ,N));m+=w*Math.sqrt(1+D*D)}}return m},l.prototype.computeProjectedAreaGeometry=function(e,n,r){this.subdividedPositions=i.subdividePositions(e,n,!1,r,this._maxSegmentLength);var o=this.subdividedPositions.length,a=this.subdividedPositions[0],s=this.subdividedPositions[o-1];a.equals(s)&&o--;for(var u=[],l=0,c=0;c<o;c++){var h=this.subdividedPositions[c];u[l++]=h.longitude*t.DEGREES_TO_RADIANS,u[l++]=h.latitude*t.DEGREES_TO_RADIANS,u[l++]=0}var f=this.tessellatePolygon(o,u),p=0,d=f.length/9;for(c=0;c<d;c++){var g=[f[0+(l=9*c)],f[l+1],f[l+2],f[l+3],f[l+4],f[l+5],f[l+6],f[l+7],f[l+8]];p+=this.computeTriangleProjectedArea(e,g)}return p},l.prototype.computeTriangleProjectedArea=function(e,n){var r=n[0],i=n[1],o=n[3],a=n[4],s=n[6],u=n[7],l=Math.abs(r*(a-u)+o*(u-i)+s*(i-a));l/=2;var c=(r+o+s)/3,h=(i+a+u)/3,f=e.radiusAt(h*t.RADIANS_TO_DEGREES,c*t.RADIANS_TO_DEGREES);return l*(Math.cos(h)*f*f)},l.prototype.tessellatePolygon=function(t,e){var n,i=new o.GluTesselator,a=[];i.gluTessCallback(o.gluEnum.GLU_TESS_BEGIN,(function(t){t!==o.primitiveType.GL_TRIANGLES&&r.logMessage(r.LEVEL_WARNING,"AreaMeasurer","tessellatePolygon","Tessellation error, primitive is not TRIANGLES.")})),i.gluTessCallback(o.gluEnum.GLU_TESS_VERTEX_DATA,(function(t,e){e.push(t[0]),e.push(t[1]),e.push(t[2])})),i.gluTessCallback(o.gluEnum.GLU_TESS_EDGE_FLAG,(function(){})),i.gluTessCallback(o.gluEnum.GLU_TESS_ERROR,(function(t){r.logMessage(r.LEVEL_WARNING,"AreaMeasurer","tessellatePolygon","Tessellation error "+t+".")})),i.gluTessBeginPolygon(a),i.gluTessBeginContour();for(var s=0;s<t;s++)n=e.slice(3*s,3*s+3),i.gluTessVertex(n,n);return i.gluTessEndContour(),i.gluTessEndPolygon(),a},l})),i("util/AbsentResourceList",[],(function(){"use strict";var t=function(t,e){this.maxTrys=t,this.minCheckInterval=e,this.tryAgainInterval=6e4,this.possiblyAbsent={}};return t.prototype.isResourceAbsent=function(t){var e=this.possiblyAbsent[t];if(!e)return!1;if(e.permanent)return!0;var n=Date.now()-e.timeOfLastMark;return n>this.tryAgainInterval?(delete this.possiblyAbsent[t],!1):n<this.minCheckInterval||e.numTrys>this.maxTrys},t.prototype.markResourceAbsent=function(t){var e=this.possiblyAbsent[t];e||(e={timeOfLastMark:Date.now(),numTrys:0},this.possiblyAbsent[t]=e),e.numTrys=e.numTrys+1,e.timeOfLastMark=Date.now()},t.prototype.markResourceAbsentPermanently=function(t){var e=this.possiblyAbsent[t];e||(e={timeOfLastMark:Date.now(),numTrys:0},this.possiblyAbsent[t]=e),e.numTrys=e.numTrys+1,e.timeOfLastMark=Date.now(),e.permanent=!0},t.prototype.unmarkResourceAbsent=function(t){this.possiblyAbsent[t]&&delete this.possiblyAbsent[t]},t})),i("globe/ElevationCoverage",["../error/ArgumentError","../util/Logger","../geom/Sector"],(function(t,e,n){"use strict";var r=function(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationCoverage","constructor","missingResolution"));this.timestamp=Date.now(),this.displayName="Coverage",this._enabled=!0,this.resolution=r,this.coverageSector=n.FULL_SPHERE};return Object.defineProperties(r.prototype,{enabled:{get:function(){return this._enabled},set:function(t){this._enabled=t,this.timestamp=Date.now()}}}),r.prototype.minAndMaxElevationsForSector=function(n,r){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationCoverage","minAndMaxElevationsForSector","missingSector"));if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationCoverage","minAndMaxElevationsForSector","missingResult"));return r[0]>0&&(r[0]=0),r[1]<0&&(r[1]=0),!0},r.prototype.elevationAtLocation=function(t,e){return 0},r.prototype.elevationsForGrid=function(n,r,i,o){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationCoverage","elevationsForGrid","missingSector"));if(r<=0||i<=0)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationCoverage","elevationsForGrid","numLat or numLon is less than 1"));if(!o||o.length<r*i)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationCoverage","elevationsForGrid","missingArray"));for(var a=0,s=o.length;a<s;a++)o[a]=0;return!0},r})),i("globe/ElevationImage",["../error/ArgumentError","../util/Logger","../util/WWMath"],(function(t,e,n){"use strict";var r=function(n,r,i){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationImage","constructor","missingSector"));this.sector=n,this.imageWidth=r,this.imageHeight=i,this.size=this.imageWidth*this.imageHeight,this.hasData=!0,this.hasMissingData=!1};return r.NO_DATA=0,r.isNoData=function(t,e,n,i){var o=r.NO_DATA;return t===o&&e===o&&n===o&&i===o},r.prototype.pixel=function(t,e){return t<0||t>=this.imageWidth||e<0||e>=this.imageHeight?0:(e=this.imageHeight-e-1,this.imageData[t+e*this.imageWidth])},r.prototype.elevationAtLocation=function(t,e){var i=this.sector.maxLatitude,o=this.sector.minLongitude,a=this.sector.deltaLatitude(),s=this.sector.deltaLongitude(),u=(this.imageWidth-1)*(e-o)/s,l=(this.imageHeight-1)*(i-t)/a,c=Math.floor(n.clamp(u,0,this.imageWidth-1)),h=Math.floor(n.clamp(c+1,0,this.imageWidth-1)),f=Math.floor(n.clamp(l,0,this.imageHeight-1)),p=Math.floor(n.clamp(f+1,0,this.imageHeight-1)),d=this.imageData,g=d[c+f*this.imageWidth],m=d[h+f*this.imageWidth],y=d[c+p*this.imageWidth],v=d[h+p*this.imageWidth],b=u-c,E=l-f;return r.isNoData(g,m,y,v)?NaN:(1-b)*(1-E)*g+b*(1-E)*m+(1-b)*E*y+b*E*v},r.prototype.elevationsForGrid=function(i,o,a,s){if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationImage","elevationsForGrid","missingSector"));if(o<1||a<1)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationImage","elevationsForGrid","The specified number of sample points is less than 1."));if(!s)throw new t(e.logMessage(e.LEVEL_SEVERE,"ElevationImage","elevationsForGrid","missingResult"));var u,l,c,h,f=this.sector.minLatitude,p=this.sector.maxLatitude,d=this.sector.minLongitude,g=this.sector.maxLongitude,m=p-f,y=g-d,v=i.minLatitude,b=i.maxLatitude,E=i.minLongitude,_=i.maxLongitude,w=(b-v)/(o>1?o-1:1),S=(_-E)/(a>1?a-1:1),x=0,T=this.imageData;for(h=0,u=v;h<o;h+=1,u+=w)if(h===o-1&&(u=b),u>=f&&u<=p){var O=(this.imageHeight-1)*(p-u)/m,C=Math.floor(n.clamp(O,0,this.imageHeight-1)),A=Math.floor(n.clamp(C+1,0,this.imageHeight-1)),L=O-C;for(c=0,l=E;c<a;c+=1,l+=S){if(c===a-1&&(l=_),l>=d&&l<=g&&isNaN(s[x])){var P=(this.imageWidth-1)*(l-d)/y,R=Math.floor(n.clamp(P,0,this.imageWidth-1)),M=Math.floor(n.clamp(R+1,0,this.imageWidth-1)),k=P-R,I=T[R+C*this.imageWidth],N=T[M+C*this.imageWidth],D=T[R+A*this.imageWidth],j=T[M+A*this.imageWidth];r.isNoData(I,N,D,j)?s[x]=NaN:s[x]=(1-k)*(1-L)*I+k*(1-L)*N+(1-k)*L*D+k*L*j}x++}}else x+=a},r.prototype.minAndMaxElevationsForSector=function(t){if(!this.hasData)return null;var e=[];if(t)if(t.contains(this.sector))e[0]>this.minElevation&&(e[0]=this.minElevation),e[1]<this.maxElevation&&(e[1]=this.maxElevation);else{var r=this.sector.maxLatitude,i=this.sector.minLongitude,o=this.sector.deltaLatitude(),a=this.sector.deltaLongitude(),s=t.minLatitude,u=t.maxLatitude,l=t.minLongitude,c=t.maxLongitude,h=Math.floor((this.imageHeight-1)*(r-u)/o),f=Math.ceil((this.imageHeight-1)*(r-s)/o),p=Math.floor((this.imageWidth-1)*(l-i)/a),d=Math.ceil((this.imageWidth-1)*(c-i)/a);h=n.clamp(h,0,this.imageHeight-1),f=n.clamp(f,0,this.imageHeight-1),p=n.clamp(p,0,this.imageWidth-1),d=n.clamp(d,0,this.imageWidth-1);for(var g=this.imageData,m=Number.MAX_VALUE,y=-m,v=h;v<=f;v++)for(var b=p;b<=d;b++){var E=g[Math.floor(b+v*this.imageWidth)];m>E&&(m=E),y<E&&(y=E)}e[0]>m&&(e[0]=m),e[1]<y&&(e[1]=y)}else e[0]=this.minElevation,e[1]=this.maxElevation;return e},r.prototype.findMinAndMaxElevation=function(){if(this.hasData=!1,this.hasMissingData=!1,this.imageData&&this.imageData.length>0){this.minElevation=Number.MAX_VALUE,this.maxElevation=-Number.MAX_VALUE;for(var t=this.imageData,e=this.imageWidth*this.imageHeight,n=0;n<e;n++){var i=t[n];i!==r.NO_DATA?(this.hasData=!0,this.minElevation>i&&(this.minElevation=i),this.maxElevation<i&&(this.maxElevation=i)):this.hasMissingData=!0}}this.hasData||(this.minElevation=0,this.maxElevation=0)},r})),i("formats/geotiff/GeoTiffConstants",[],(function(){"use strict";return{Tag:{MODEL_PIXEL_SCALE:33550,MODEL_TRANSFORMATION:34264,MODEL_TIEPOINT:33922,GEO_KEY_DIRECTORY:34735,GEO_DOUBLE_PARAMS:34736,GEO_ASCII_PARAMS:34737,GDAL_NODATA:42113,GDAL_METADATA:42112},Key:{GTModelTypeGeoKey:1024,GTRasterTypeGeoKey:1025,GTCitationGeoKey:1026,GeographicTypeGeoKey:2048,GeogCitationGeoKey:2049,GeogGeodeticDatumGeoKey:2050,GeogPrimeMeridianGeoKey:2051,GeogLinearUnitsGeoKey:2052,GeogLinearUnitSizeGeoKey:2053,GeogAngularUnitsGeoKey:2054,GeogAngularUnitSizeGeoKey:2055,GeogEllipsoidGeoKey:2056,GeogSemiMajorAxisGeoKey:2057,GeogSemiMinorAxisGeoKey:2058,GeogInvFlatteningGeoKey:2059,GeogAzimuthUnitsGeoKey:2060,GeogPrimeMeridianLongGeoKey:2061,GeogTOWGS84GeoKey:2062,ProjectedCSTypeGeoKey:3072,PCSCitationGeoKey:3073,ProjectionGeoKey:3074,ProjCoordTransGeoKey:3075,ProjLinearUnitsGeoKey:3076,ProjLinearUnitSizeGeoKey:3077,ProjStdParallel1GeoKey:3078,ProjStdParallel2GeoKey:3079,ProjNatOriginLongGeoKey:3080,ProjNatOriginLatGeoKey:3081,ProjFalseEastingGeoKey:3082,ProjFalseNorthingGeoKey:3083,ProjFalseOriginLongGeoKey:3084,ProjFalseOriginLatGeoKey:3085,ProjFalseOriginEastingGeoKey:3086,ProjFalseOriginNorthingGeoKey:3087,ProjCenterLongGeoKey:3088,ProjCenterLatGeoKey:3089,ProjCenterEastingGeoKey:3090,ProjCenterNorthingGeoKey:3091,ProjScaleAtNatOriginGeoKey:3092,ProjScaleAtCenterGeoKey:3093,ProjAzimuthAngleGeoKey:3094,ProjStraightVertPoleLongGeoKey:3095,VerticalCSTypeGeoKey:4096,VerticalCitationGeoKey:4097,VerticalDatumGeoKey:4098,VerticalUnitsGeoKey:4099}}})),i("formats/geotiff/GeoTiffKeyEntry",["../../error/AbstractError","../../error/ArgumentError","./GeoTiffConstants","../../util/Logger"],(function(t,e,n,r){"use strict";var i=function(t,n,i,o){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"GeoTiffKeyEntry","constructor","missingKeyId"));if(null===n||void 0===n)throw new e(r.logMessage(r.LEVEL_SEVERE,"GeoTiffKeyEntry","constructor","missingTiffTagLocation"));if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"GeoTiffKeyEntry","constructor","missingCount"));if(null===o||void 0===o)throw new e(r.logMessage(r.LEVEL_SEVERE,"GeoTiffKeyEntry","constructor","missingValueOffset"));this._keyId=t,this._tiffTagLocation=n,this._count=i,this._valueOffset=o};return Object.defineProperties(i.prototype,{keyId:{get:function(){return this._keyId}},tiffTagLocation:{get:function(){return this._tiffTagLocation}},count:{get:function(){return this._count}},valueOffset:{get:function(){return this._valueOffset}}}),i.prototype.getGeoKeyValue=function(t,e){var r;if(0===this.tiffTagLocation)r=this.valueOffset;else if(this.tiffTagLocation===n.Tag.GEO_ASCII_PARAMS){var i="";if(e){for(var o=this.valueOffset;o<this.count-1;o++)i+=e[o];"|"!=e[this.count-1]&&(i+=e[this.count-1]),r=i}}else this.tiffTagLocation===n.Tag.GEO_DOUBLE_PARAMS&&t&&(r=t[this.valueOffset]);return r},i})),i("formats/geotiff/GeoTiffMetadata",[],(function(){"use strict";var t=function(){this._bitsPerSample=null,this._colorMap=null,this._compression=null,this._extraSamples=null,this._imageDescription=null,this._imageLength=null,this._imageWidth=null,this._maxSampleValue=null,this._minSampleValue=null,this._orientation=0,this._photometricInterpretation=null,this._planarConfiguration=null,this._resolutionUnit=null,this._rowsPerStrip=null,this._samplesPerPixel=null,this._sampleFormat=null,this._software=null,this._stripByteCounts=null,this._stripOffsets=null,this._tileByteCounts=null,this._tileOffsets=null,this._tileLength=null,this._tileWidth=null,this._xResolution=null,this._yResolution=null,this._geoAsciiParams=null,this._geoDoubleParams=null,this._geoKeyDirectory=null,this._modelPixelScale=null,this._modelTiepoint=null,this._modelTransformation=null,this._noData=null,this._metaData=null,this._bbox=null,this._gtModelTypeGeoKey=null,this._gtRasterTypeGeoKey=null,this._gtCitationGeoKey=null,this._geographicTypeGeoKey=null,this._geogCitationGeoKey=null,this._geogAngularUnitsGeoKey=null,this._geogAngularUnitSizeGeoKey=null,this._geogSemiMajorAxisGeoKey=null,this._geogInvFlatteningGeoKey=null,this._projectedCSType=null,this._projLinearUnits=null};return Object.defineProperties(t.prototype,{bitsPerSample:{get:function(){return this._bitsPerSample},set:function(t){this._bitsPerSample=t}},colorMap:{get:function(){return this._colorMap},set:function(t){this._colorMap=t}},compression:{get:function(){return this._compression},set:function(t){this._compression=t}},extraSamples:{get:function(){return this._extraSamples},set:function(t){this._extraSamples=t}},imageDescription:{get:function(){return this._imageDescription},set:function(t){this._imageDescription=t}},imageLength:{get:function(){return this._imageLength},set:function(t){this._imageLength=t}},imageWidth:{get:function(){return this._imageWidth},set:function(t){this._imageWidth=t}},maxSampleValue:{get:function(){return this._maxSampleValue},set:function(t){this._maxSampleValue=t}},minSampleValue:{get:function(){return this._minSampleValue},set:function(t){this._minSampleValue=t}},orientation:{get:function(){return this._orientation},set:function(t){this._orientation=t}},photometricInterpretation:{get:function(){return this._photometricInterpretation},set:function(t){this._photometricInterpretation=t}},planarConfiguration:{get:function(){return this._planarConfiguration},set:function(t){this._planarConfiguration=t}},resolutionUnit:{get:function(){return this._resolutionUnit},set:function(t){this._resolutionUnit=t}},rowsPerStrip:{get:function(){return this._rowsPerStrip},set:function(t){this._rowsPerStrip=t}},samplesPerPixel:{get:function(){return this._samplesPerPixel},set:function(t){this._samplesPerPixel=t}},sampleFormat:{get:function(){return this._sampleFormat},set:function(t){this._sampleFormat=t}},software:{get:function(){return this._software},set:function(t){this._software=t}},stripByteCounts:{get:function(){return this._stripByteCounts},set:function(t){this._stripByteCounts=t}},stripOffsets:{get:function(){return this._stripOffsets},set:function(t){this._stripOffsets=t}},tileByteCounts:{get:function(){return this._tileByteCounts},set:function(t){this._tileByteCounts=t}},tileOffsets:{get:function(){return this._tileOffsets},set:function(t){this._tileOffsets=t}},tileLength:{get:function(){return this._tileLength},set:function(t){this._tileLength=t}},tileWidth:{get:function(){return this._tileWidth},set:function(t){this._tileWidth=t}},geoAsciiParams:{get:function(){return this._geoAsciiParams},set:function(t){this._geoAsciiParams=t}},geoDoubleParams:{get:function(){return this._geoDoubleParams},set:function(t){this._geoDoubleParams=t}},geoKeyDirectory:{get:function(){return this._geoKeyDirectory},set:function(t){this._geoKeyDirectory=t}},modelPixelScale:{get:function(){return this._modelPixelScale},set:function(t){this._modelPixelScale=t}},modelTiepoint:{get:function(){return this._modelTiepoint},set:function(t){this._modelTiepoint=t}},modelTransformation:{get:function(){return this._modelTransformation},set:function(t){this._modelTransformation=t}},noData:{get:function(){return this._noData},set:function(t){this._noData=t}},metaData:{get:function(){return this._metaData},set:function(t){this._metaData=t}},bbox:{get:function(){return this._bbox},set:function(t){this._bbox=t}},gtModelTypeGeoKey:{get:function(){return this._gtModelTypeGeoKey},set:function(t){this._gtModelTypeGeoKey=t}},gtRasterTypeGeoKey:{get:function(){return this._gtRasterTypeGeoKey},set:function(t){this._gtRasterTypeGeoKey=t}},gtCitationGeoKey:{get:function(){return this._gtCitationGeoKey},set:function(t){this._gtCitationGeoKey=t}},geographicTypeGeoKey:{get:function(){return this._geographicTypeGeoKey},set:function(t){this._geographicTypeGeoKey=t}},geogCitationGeoKey:{get:function(){return this._geogCitationGeoKey},set:function(t){this._geogCitationGeoKey=t}},geogAngularUnitsGeoKey:{get:function(){return this._geogAngularUnitsGeoKey},set:function(t){this._geogAngularUnitsGeoKey=t}},geogAngularUnitSizeGeoKey:{get:function(){return this._geogAngularUnitSizeGeoKey},set:function(t){this._geogAngularUnitSizeGeoKey=t}},geogSemiMajorAxisGeoKey:{get:function(){return this._geogSemiMajorAxisGeoKey},set:function(t){this._geogSemiMajorAxisGeoKey=t}},geogInvFlatteningGeoKey:{get:function(){return this._geogInvFlatteningGeoKey},set:function(t){this._geogInvFlatteningGeoKey=t}},projectedCSType:{get:function(){return this._projectedCSType},set:function(t){this._projectedCSType=t}},projLinearUnits:{get:function(){return this._projLinearUnits},set:function(t){this._projLinearUnits=t}},xResolution:{get:function(){return this._xResolution},set:function(t){this._xResolution=t}},yResolution:{get:function(){return this._yResolution},set:function(t){this._yResolution=t}}}),t})),i("formats/geotiff/TiffConstants",[],(function(){"use strict";return{Tag:{NEW_SUBFILE_TYPE:254,SUBFILE_TYPE:255,IMAGE_WIDTH:256,IMAGE_LENGTH:257,BITS_PER_SAMPLE:258,COMPRESSION:259,PHOTOMETRIC_INTERPRETATION:262,THRESHHOLDING:263,CELL_WIDTH:264,CELL_LENGTH:265,FILL_ORDER:266,DOCUMENT_NAME:269,IMAGE_DESCRIPTION:270,MAKE:271,MODEL:272,STRIP_OFFSETS:273,ORIENTATION:274,SAMPLES_PER_PIXEL:277,ROWS_PER_STRIP:278,STRIP_BYTE_COUNTS:279,MIN_SAMPLE_VALUE:280,MAX_SAMPLE_VALUE:281,X_RESOLUTION:282,Y_RESOLUTION:283,PLANAR_CONFIGURATION:284,PAGE_NAME:285,X_POSITION:286,Y_POSITION:287,FREE_OFFSETS:288,FREE_BYTE_COUNTS:289,GRAY_RESPONSE_UNIT:290,GRAY_RESPONSE_CURVE:291,T4_OPTIONS:292,T6_PTIONS:293,RESOLUTION_UNIT:296,PAGE_NUMBER:297,TRANSFER_FUNCTION:301,SOFTWARE:305,DATE_TIME:306,ARTIST:315,HOST_COMPUTER:316,PREDICTOR:317,WHITE_POINT:318,PRIMARY_CHROMATICITIES:319,COLOR_MAP:320,HALFTONE_HINTS:321,TILE_WIDTH:322,TILE_LENGTH:323,TILE_OFFSETS:324,TILE_BYTE_COUNTS:325,INK_SET:332,INK_NAMES:333,NUMBER_OF_INKS:334,DOT_RANGE:336,TARGET_PRINTER:337,EXTRA_SAMPLES:338,SAMPLE_FORMAT:339,S_MIN_SAMPLE_VALUE:340,S_MAX_SAMPLE_VALUE:341,TRANSFER_RANGE:342,JPEG_PROC:512,JPEG_INTERCHANGE_FORMAT:513,JPEG_INTERCHANGE_FORMAT_LENGTH:514,JPEG_RESTART_INTERVAL:515,JPEG_LOSSLESS_PREDICTORS:517,JPEG_POINT_TRANSFORMS:518,JPEG_Q_TABLES:519,JPEG_DC_TABLES:520,JPEG_AC_TABLES:521,Y_Cb_Cr_COEFFICIENTS:529,Y_Cb_Cr_SUB_SAMPLING:530,Y_Cb_Cr_POSITIONING:531,REFERENCE_BLACK_WHITE:532,COPYRIGHT:33432},Compression:{UNCOMPRESSED:1,CCITT_1D:2,GROUP_3_FAX:3,GROUP_4_FAX:4,LZW:5,JPEG:6,PACK_BITS:32773},Orientation:{Row0_IS_TOP__Col0_IS_LHS:1,Row0_IS_TOP__Col0_IS_RHS:2,Row0_IS_BOTTOM__Col0_IS_RHS:3,Row0_IS_BOTTOM__Col0_IS_LHS:4,Row0_IS_LHS__Col0_IS_TOP:5,Row0_IS_RHS__Col0_IS_TOP:6,Row0_IS_RHS__Col0_IS_BOTTOM:7,Row0_IS_LHS__Col0_IS_BOTTOM:8},PhotometricInterpretation:{WHITE_IS_ZERO:0,BLACK_IS_ZERO:1,RGB:2,RGB_PALETTE:3,TRANSPARENCY_MASK:4,CMYK:5,Y_Cb_Cr:6,CIE_LAB:7},PlanarConfiguration:{CHUNKY:1,PLANAR:2},ResolutionUnit:{NONE:1,INCH:2,CENTIMETER:3},SampleFormat:{UNSIGNED:1,SIGNED:2,IEEE_FLOAT:3,UNDEFINED:4,DEFAULT:1},Type:{BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,SBYTE:6,UNDEFINED:7,SSHORT:8,SLONG:9,SRATIONAL:10,FLOAT:11,DOUBLE:12}}})),i("formats/geotiff/GeoTiffUtil",["../../error/ArgumentError","../../util/Logger","./TiffConstants"],(function(t,e,n){"use strict";return{getBytes:function(n,r,i,o,a){if(i<=0)throw new t(e.logMessage(e.LEVEL_SEVERE,"GeoTiffReader","getBytes","noBytesRequested"));if(i<=1)return a?n.getInt8(r,o):n.getUint8(r,o);if(i<=2)return a?n.getInt16(r,o):n.getUint16(r,o);if(i<=3)return a?n.getInt32(r,o)>>>8:n.getUint32(r,o)>>>8;if(i<=4)return a?n.getInt32(r,o):n.getUint32(r,o);if(i<=8)return n.getFloat64(r,o);throw new t(e.logMessage(e.LEVEL_SEVERE,"GeoTiffReader","getBytes","tooManyBytesRequested"))},getSampleBytes:function(t,r,i,o,a){var s;switch(o){case n.SampleFormat.UNSIGNED:s=this.getBytes(t,r,i,a,!1);break;case n.SampleFormat.SIGNED:s=this.getBytes(t,r,i,a,!0);break;case n.SampleFormat.IEEE_FLOAT:3==i?s=t.getFloat32(r,a)>>>8:4==i?s=t.getFloat32(r,a):8==i?s=t.getFloat64(r,a):e.log(e.LEVEL_WARNING,"Do not attempt to parse the data  not handled: "+i);break;case n.SampleFormat.UNDEFINED:default:s=this.getBytes(t,r,i,a,!1)}return s},getRGBAFillValue:function(t,e,n,r){return"undefined"==typeof r&&(r=1),"rgba("+t+", "+e+", "+n+", "+r+")"},clampColorSample:function(t,e){var n=Math.pow(2,8-e);return Math.floor(t*n+(n-1))}}})),i("util/proj4-src",[],(function(){"use strict";function t(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(W,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(W,"")===i)return t[n]}function e(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=z}function n(t){return new e(t).output()}function r(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,o=n.reduce((function(t,e){return i(e,t),t}),r);e&&(t[e]=o)}function i(t,e){if(Array.isArray(t)){var n,o=t.shift();if("PARAMETER"===o&&(o=t.shift()),1===t.length)return Array.isArray(t[0])?(e[o]={},void i(t[0],e[o])):void(e[o]=t[0]);if(t.length)if("TOWGS84"!==o)switch(Array.isArray(o)||(e[o]={}),o){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[o]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&i(t[2],e[o]));case"SPHEROID":case"ELLIPSOID":return e[o]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&i(t[3],e[o]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void r(e,o,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return i(t,e[o]);return r(e,o,t)}else e[o]=t;else e[o]=!0}else e[t]=!0}function o(t){return t*J}function a(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var n=t.GEOGCS;"GEOGCS"===t.type&&(n=t),n&&(n.DATUM?t.datumCode=n.DATUM.name.toLowerCase():t.datumCode=n.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(t.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=n.DATUM.SPHEROID.a,t.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",o],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["alpha","azimuth",o],["srsCode","name"]].forEach((function(e){return function(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=o(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function s(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?s[t]=K(arguments[1]):s[t]=Q(arguments[1]):s[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?s.apply(e,t):s(t)}));if("string"==typeof t){if(t in s)return s[t]}else"EPSG"in t?s["EPSG:"+t.EPSG]=t:"ESRI"in t?s["ESRI:"+t.ESRI]=t:"IAU2000"in t?s["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function u(t){return function(t){return"string"==typeof t}(t)?function(t){return t in s}(t)?s[t]:function(t){return $.some((function(e){return t.indexOf(e)>-1}))}(t)?Q(t):function(t){return"+"===t[0]}(t)?K(t):void 0:t}function l(t){return t}function c(t,e){var n=ut.length;return t.names?(ut[n]=t,t.names.forEach((function(t){st[t.toLowerCase()]=n})),this):(console.log(e),!0)}function h(e,n){if(!(this instanceof h))return new h(e);n=n||function(t){if(t)throw t};var r=u(e);if("object"==typeof r){var i=h.projections.get(r.projName);if(i){if(r.datumCode&&"none"!==r.datumCode){var o=t(ft,r.datumCode);o&&(r.datum_params=o.towgs84?o.towgs84.split(","):null,r.ellps=o.ellipse,r.datumName=o.datumName?o.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84";var a=function(e,n,r,i,o){if(!e){var a=t(ct,i);a||(a=ht),e=a.a,n=a.b,r=a.rf}return r&&!n&&(n=(1-1/r)*e),(0===r||Math.abs(e-n)<D)&&(o=!0,n=e),{a:e,b:n,rf:r,sphere:o}}(r.a,r.b,r.rf,r.ellps,r.sphere),s=function(t,e,n,r){var i=t*t,o=e*e,a=(i-o)/i,s=0;return r?(i=(t*=1-a*(k+a*(I+a*N)))*t,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(i-o)/o}}(a.a,a.b,a.rf,r.R_A),l=r.datum||function(t,e,n,r,i,o){var a={};return a.datum_type=void 0===t||"none"===t?P:L,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=C),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=A,a.datum_params[3]*=R,a.datum_params[4]*=R,a.datum_params[5]*=R,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=n,a.b=r,a.es=i,a.ep2=o,a}(r.datumCode,r.datum_params,a.a,a.b,s.es,s.ep2);tt(this,r),tt(this,i),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),n(null,this)}else n(e)}else n(e)}function f(t){return t===C||t===A}function p(t,e,n){var r;return Array.isArray(n)&&(n=gt(n)),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===C||t.datum.datum_type===A)&&"WGS84"!==e.datumCode||(e.datum.datum_type===C||e.datum.datum_type===A)&&"WGS84"!==t.datumCode}(t,e)&&(n=p(t,r=new h("WGS84"),n),t=r),"enu"!==t.axis&&(n=dt(t,!1,n)),"longlat"===t.projName?n={x:n.x*j,y:n.y*j}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=pt(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*F,y:n.y*F}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?dt(e,!0,n):n}function d(t,e,n){var r;return Array.isArray(n)?(r=p(t,e,n),3===n.length?[r.x,r.y,r.z]:[r.x,r.y]):p(t,e,n)}function g(t){return t instanceof h?t:t.oProj?t.oProj:h(t)}function m(t,e,n){t=g(t);var r,i=!1;return"undefined"==typeof e?(e=t,t=mt,i=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(n=e,e=t,t=mt,i=!0),e=g(e),n?d(t,e,n):(r={forward:function(n){return d(t,e,n)},inverse:function(n){return d(e,t,n)}},i&&(r.oProj=e),r)}function y(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,n){var r=S(n),i=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return function(t,e,n){var r=n-1,i=vt.charCodeAt(r),o=bt.charCodeAt(r),a=i+t-1,s=o+e,u=!1;return a>xt&&(a=a-xt+Et-1,u=!0),(a===_t||i<_t&&a>_t||(a>_t||i<_t)&&u)&&a++,(a===wt||i<wt&&a>wt||(a>wt||i<wt)&&u)&&++a===_t&&a++,a>xt&&(a=a-xt+Et-1),s>St?(s=s-St+Et-1,u=!0):u=!1,(s===_t||o<_t&&s>_t||(s>_t||o<_t)&&u)&&s++,(s===wt||o<wt&&s>wt||(s>wt||o<wt)&&u)&&++s===_t&&s++,s>St&&(s=s-St+Et-1),String.fromCharCode(a)+String.fromCharCode(s)}(i,o,r)}(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}(function(t){var e,n,r,i,o,a,s,u,l=t.lat,c=t.lon,h=6378137,f=.00669438,p=b(l),d=b(c);u=Math.floor((c+180)/6)+1,180===c&&(u=60),l>=56&&l<64&&c>=3&&c<12&&(u=32),l>=72&&l<84&&(c>=0&&c<9?u=31:c>=9&&c<21?u=33:c>=21&&c<33?u=35:c>=33&&c<42&&(u=37)),s=b(6*(u-1)-180+3),e=f/(1-f),n=h/Math.sqrt(1-f*Math.sin(p)*Math.sin(p)),r=Math.tan(p)*Math.tan(p),i=e*Math.cos(p)*Math.cos(p),o=Math.cos(p)*(d-s),a=h*(.9983242984503243*p-.002514607064228144*Math.sin(2*p)+2639046602129982e-21*Math.sin(4*p)-35*f*f*f/3072*Math.sin(6*p));var g=.9996*n*(o+(1-r+i)*o*o*o/6+(5-18*r+r*r+72*i-58*e)*o*o*o*o*o/120)+5e5,m=.9996*(a+n*Math.tan(p)*(o*o/2+(5-r+9*i+4*i*i)*o*o*o*o/24+(61-58*r+r*r+600*i-330*e)*o*o*o*o*o*o/720));return l<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(g),zoneNumber:u,zoneLetter:w(l)}}({lat:t[1],lon:t[0]}),e)}function v(t){var e=_(x(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function b(t){return t*(Math.PI/180)}function E(t){return t/Math.PI*180}function _(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,a,s,u,l,c,h,f,p,d=6378137,g=.00669438,m=(1-Math.sqrt(1-g))/(1+Math.sqrt(1-g)),y=n-5e5,v=e;r<"N"&&(v-=1e7),h=6*(i-1)-180+3,o=g/(1-g),p=(f=v/.9996/6367449.145945056)+(3*m/2-27*m*m*m/32)*Math.sin(2*f)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*f)+151*m*m*m/96*Math.sin(6*f),a=d/Math.sqrt(1-g*Math.sin(p)*Math.sin(p)),s=Math.tan(p)*Math.tan(p),u=o*Math.cos(p)*Math.cos(p),l=d*(1-g)/Math.pow(1-g*Math.sin(p)*Math.sin(p),1.5),c=y/(.9996*a);var b=p-a*Math.tan(p)/l*(c*c/2-(5+3*s+10*u-4*u*u-9*o)*c*c*c*c/24+(61+90*s+298*u+45*s*s-252*o-3*u*u)*c*c*c*c*c*c/720);b=E(b);var w,S=(c-(1+2*s+u)*c*c*c/6+(5-2*u+28*s-3*u*u+8*o+24*s*s)*c*c*c*c*c/120)/Math.cos(p);if(S=h+E(S),t.accuracy){var x=_({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:x.lat,right:x.lon,bottom:b,left:S}}else w={lat:b,lon:S};return w}function w(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function S(t){var e=t%yt;return 0===e&&(e=yt),e}function x(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var a=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(o,o+=2);for(var u=S(a),l=function(t,e){for(var n=vt.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(++n===_t&&n++,n===wt&&n++,n>xt){if(i)throw"Bad character: "+t;n=Et,i=!0}r+=1e5}return r}(r.charAt(0),u),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=bt.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(++n===_t&&n++,n===wt&&n++,n>St){if(i)throw"Bad character: "+t;n=Et,i=!0}r+=1e5}return r}(r.charAt(1),u);c<T(s);)c+=2e6;var h=n-o;if(h%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,g=h/2,m=0,y=0;return g>0&&(f=1e5/Math.pow(10,g),p=t.substring(o,o+g),m=parseFloat(p)*f,d=t.substring(o+g),y=parseFloat(d)*f),{easting:m+l,northing:y+c,zoneLetter:s,zoneNumber:a,accuracy:f}}function T(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function O(t,e,n){if(!(this instanceof O))return new O(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var C=1,A=2,L=4,P=5,R=484813681109536e-20,M=Math.PI/2,k=.16666666666666666,I=.04722222222222222,N=.022156084656084655,D="undefined"==typeof Number.EPSILON?1e-10:Number.EPSILON,j=.017453292519943295,F=57.29577951308232,V=Math.PI/4,B=2*Math.PI,U={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},G={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},W=/[\s_\-\/\(\)]/g,K=function(e){var n,r,i,o={},a=e.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){o.rf=parseFloat(t)},lat_0:function(t){o.lat0=t*j},lat_1:function(t){o.lat1=t*j},lat_2:function(t){o.lat2=t*j},lat_ts:function(t){o.lat_ts=t*j},lon_0:function(t){o.long0=t*j},lon_1:function(t){o.long1=t*j},lon_2:function(t){o.long2=t*j},alpha:function(t){o.alpha=parseFloat(t)*j},lonc:function(t){o.longc=t*j},x_0:function(t){o.x0=parseFloat(t)},y_0:function(t){o.y0=parseFloat(t)},k_0:function(t){o.k0=parseFloat(t)},k:function(t){o.k0=parseFloat(t)},a:function(t){o.a=parseFloat(t)},b:function(t){o.b=parseFloat(t)},r_a:function(){o.R_A=!0},zone:function(t){o.zone=parseInt(t,10)},south:function(){o.utmSouth=!0},towgs84:function(t){o.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){o.to_meter=parseFloat(t)},units:function(e){o.units=e;var n=t(G,e);n&&(o.to_meter=n.to_meter)},from_greenwich:function(t){o.from_greenwich=t*j},pm:function(e){var n=t(U,e);o.from_greenwich=(n||parseFloat(e))*j},nadgrids:function(t){"@null"===t?o.datumCode="none":o.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(o.axis=t)}};for(n in a)r=a[n],n in s?"function"==typeof(i=s[n])?i(r):o[i]=r:o[n]=r;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o},z=1,H=/\s/,Y=/[A-Za-z]/,q=/[A-Za-z84]/,X=/[,\]]/,Z=/[\d\.E\-\+]/;e.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;H.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case z:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},e.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(X.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},e.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=z)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=z,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},e.prototype.number=function(t){if(!Z.test(t)){if(X.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},e.prototype.quoted=function(t){return'"'===t?void(this.state=5):void(this.word+=t)},e.prototype.keyword=function(t){if(q.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=z)}if(!X.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},e.prototype.neutral=function(t){if(Y.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(Z.test(t))return this.word=t,void(this.state=3);if(!X.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},e.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var J=.017453292519943295,Q=function(t){var e=n(t),r=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",r]);var s={};return i(e,s),a(s),s};!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(s);var $=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],tt=function(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t},et=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)},nt=function(t){return t<0?-1:1},rt=function(t){return Math.abs(t)<=3.14159265359?t:t-nt(t)*B},it=function(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(M-e))/r},ot=function(t,e){for(var n,r,i=.5*t,o=M-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),o+=r=M-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-o,Math.abs(r)<=1e-10)return o;return-9999},at=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=et(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,i=t.y;if(i*F>90&&i*F<-90&&r*F>180&&r*F<-180)return null;if(Math.abs(Math.abs(i)-M)<=D)return null;if(this.sphere)e=this.x0+this.a*this.k0*rt(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(V+.5*i));else{var o=Math.sin(i),a=it(this.e,i,o);e=this.x0+this.a*this.k0*rt(r-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=M-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=ot(this.e,o)))return null}return e=rt(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:l,inverse:l,names:["longlat","identity"]}],st={},ut=[],lt={start:function(){at.forEach(c)},add:c,get:function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof st[e]&&ut[st[e]]?ut[st[e]]:void 0}},ct={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},ht=ct.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ct.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var ft={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};h.projections=lt,h.projections.start();var pt=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===C?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==A||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)||t.datum_type===P||e.datum_type===P?n:t.es!==e.es||t.a!==e.a||f(t.datum_type)||f(e.datum_type)?(n=function(t,e,n){var r,i,o,a,s=t.x,u=t.y,l=t.z?t.z:0;if(u<-M&&u>-1.001*M)u=-M;else if(u>M&&u<1.001*M)u=M;else if(u<-M||u>M)return null;return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(u),a=Math.cos(u),o=i*i,{x:((r=n/Math.sqrt(1-e*o))+l)*a*Math.cos(s),y:(r+l)*a*Math.sin(s),z:(r*(1-e)+l)*i}}(n,t.es,t.a),f(t.datum_type)&&(n=function(t,e,n){if(e===C)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===A){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6];return{x:l*(t.x-u*t.y+s*t.z)+r,y:l*(u*t.x+t.y-a*t.z)+i,z:l*(-s*t.x+a*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),f(e.datum_type)&&(n=function(t,e,n){if(e===C)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===A){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6],c=(t.x-r)/l,h=(t.y-i)/l,f=(t.z-o)/l;return{x:c+u*h-s*f,y:-u*c+h+a*f,z:s*c-a*h+f}}}(n,e.datum_type,e.datum_params)),function(t,e,n,r){var i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b=1e-12,E=t.x,_=t.y,w=t.z?t.z:0;if(i=Math.sqrt(E*E+_*_),o=Math.sqrt(E*E+_*_+w*w),i/n<b){if(y=0,o/n<b)return v=-r,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(_,E);a=w/o,h=(s=i/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*s*s)),f=a*u,m=0;do{m++,l=e*(c=n/Math.sqrt(1-e*f*f))/(c+(v=i*h+w*f-c*(1-e*f*f))),g=(d=a*(u=1/Math.sqrt(1-l*(2-l)*s*s)))*h-(p=s*(1-l)*u)*f,h=p,f=d}while(g*g>1e-24&&m<30);return{x:y,y:Math.atan(d/Math.abs(p)),z:v}}(n,e.es,e.a,e.b)):n},dt=function(t,e,n){var r,i,o,a=n.x,s=n.y,u=n.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=a,i="x"):1===o?(r=s,i="y"):(r=u,i="z"),t.axis[o]){case"e":l[i]=r;break;case"w":l[i]=-r;break;case"n":l[i]=r;break;case"s":l[i]=-r;break;case"u":void 0!==n[i]&&(l.z=r);break;case"d":void 0!==n[i]&&(l.z=-r);break;default:return null}return l},gt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},mt=h("WGS84"),yt=6,vt="AJSAJS",bt="AFAFAF",Et=65,_t=73,wt=79,St=86,xt=90,Tt={forward:y,inverse:function(t){var e=_(x(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:v};O.fromMGRS=function(t){return new O(v(t))},O.prototype.toMGRS=function(t){return y([this.x,this.y],t)};var Ot=.01953125,Ct=.01068115234375,At=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(Ot+t*Ct))),e[1]=t*(.75-t*(.046875+t*(Ot+t*Ct)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Lt=function(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))},Pt=function(t,e,n){for(var r=1/(1-e),i=t,o=20;o;--o){var a=Math.sin(i),s=1-e*a*a;if(i-=s=(Lt(i,a,Math.cos(i),n)-t)*(s*Math.sqrt(s))*r,Math.abs(s)<D)return i}return i},Rt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=At(this.es),this.ml0=Lt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,i=t.x,o=t.y,a=rt(i-this.long0),s=Math.sin(o),u=Math.cos(o);if(this.es){var l=u*a,c=Math.pow(l,2),h=this.ep2*Math.pow(u,2),f=Math.pow(h,2),p=Math.abs(u)>D?Math.tan(o):0,d=Math.pow(p,2),g=Math.pow(d,2);e=1-this.es*Math.pow(s,2),l/=Math.sqrt(e);var m=Lt(o,s,u,this.en);n=this.a*(this.k0*l*(1+c/6*(1-d+h+c/20*(5-18*d+g+14*h-58*d*h+c/42*(61+179*g-g*d-479*d)))))+this.x0,r=this.a*(this.k0*(m-this.ml0+s*a*l/2*(1+c/12*(5-d+9*h+4*f+c/30*(61+g-58*d+270*h-330*d*h+c/56*(1385+543*g-g*d-3111*d))))))+this.y0}else{var y=u*Math.sin(a);if(Math.abs(Math.abs(y)-1)<D)return 93;if(n=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,r=u*Math.cos(a)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(r))>=1){if(y-1>D)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,i,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=Pt(e,this.es,this.en),Math.abs(n)<M){var s=Math.sin(n),u=Math.cos(n),l=Math.abs(u)>D?Math.tan(n):0,c=this.ep2*Math.pow(u,2),h=Math.pow(c,2),f=Math.pow(l,2),p=Math.pow(f,2);e=1-this.es*Math.pow(s,2);var d=o*Math.sqrt(e)/this.k0,g=Math.pow(d,2);r=n-(e*=l)*g/(1-this.es)*.5*(1-g/12*(5+3*f-9*c*f+c-4*h-g/30*(61+90*f-252*c*f+45*p+46*c-g/56*(1385+3633*f+4095*p+1574*p*f)))),i=rt(this.long0+d*(1-g/6*(1+2*f+c-g/20*(5+28*f+24*p+8*c*f+6*c-g/42*(61+662*f+1320*p+720*p*f))))/u)}else r=M*nt(a),i=0;else{var m=Math.exp(o/this.k0),y=.5*(m-1/m),v=this.lat0+a/this.k0,b=Math.cos(v);e=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(y,2))),r=Math.asin(e),a<0&&(r=-r),i=0===y&&0===b?0:rt(Math.atan2(y,b)+this.long0)}return t.x=i,t.y=r,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Mt=function(t){var e=Math.exp(t);return(e-1/e)/2},kt=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},It=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(kt(1,e)+1))),t<0?-e:e},Nt=function(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,o=t[i],a=0;--i>=0;)n=r*o-a+t[i],a=o,o=n;return e+n*Math.sin(2*e)},Dt=function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,o=t[i],a=0;--i>=0;)n=r*o-a+t[i],a=o,o=n;return Math.sin(e)*n},jt=function(t,e,n){for(var r,i,o=Math.sin(e),a=Math.cos(e),s=Mt(n),u=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),l=2*a*u,c=-2*o*s,h=t.length-1,f=t[h],p=0,d=0,g=0;--h>=0;)r=d,i=p,f=l*(d=f)-r-c*(p=g)+t[h],g=c*d-i+l*p;return[(l=o*u)*f-(c=a*s)*g,l*g+c*f]},Ft={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=Nt(this.cbg,this.lat0);this.Zb=-this.Qn*(r+Dt(this.gtu,2*r))},forward:function(t){var e=rt(t.x-this.long0),n=t.y;n=Nt(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(o*i,kt(r,i*a)),e=It(Math.tan(e));var s,u,l=jt(this.gtu,2*n,2*e);return n+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,u=1/0),t.x=s,t.y=u,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=jt(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Mt(r));var a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r);i=Math.atan2(a*l,kt(u,l*s)),r=Math.atan2(u,l*s),e=rt(r+this.long0),n=Nt(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Vt=function(t,e){if(void 0===t){if((t=Math.floor(30*(rt(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t},Bt={init:function(){var t=Vt(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*j,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ft.init.apply(this),this.forward=Ft.forward,this.inverse=Ft.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Ut=function(t,e){return Math.pow((1-t)/(1+t),e)},Gt=20,Wt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+V)/(Math.pow(Math.tan(.5*this.lat0+V),this.C)*Ut(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+V),this.C)*Ut(this.e*Math.sin(n),this.ratexp))-M,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+V)/this.K,1/this.C),i=Gt;i>0&&(n=2*Math.atan(r*Ut(this.e*Math.sin(t.y),-.5*this.e))-M,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]},Kt={init:function(){Wt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=rt(t.x-this.long0),Wt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Wt.inverse.apply(this,[t]),t.x=rt(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},zt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=D&&(this.k0=.5*(1+nt(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=D&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=D&&(this.k0=.5*this.cons*et(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/it(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=et(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-M,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,i,o,a,s=t.x,u=t.y,l=Math.sin(u),c=Math.cos(u),h=rt(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=D&&Math.abs(u+this.lat0)<=D?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*c*Math.cos(h)),t.x=this.a*e*c*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*c*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,l,this.e))-M,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=D?(o=it(this.e,u*this.con,this.con*l),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<D?(e=2*this.a*this.k0/(1+i*Math.cos(h)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(h))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(h))+this.y0),t.x=e*i*Math.sin(h)+this.x0,t))},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(a/(.5*this.a*this.k0));return e=this.long0,n=this.lat0,a<=D?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/a),e=rt(Math.abs(this.coslat0)<D?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(s),a*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=D){if(a<=D)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*ot(this.e,r),e=this.con*rt(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=D?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=rt(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*ot(this.e,Math.tan(.5*(M+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(M+t))*Math.pow((1-e)/(1+e),.5*n)}},Ht={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,u=0,l=o,c=-1e3,h=0;Math.abs(l-c)>1e-7;){if(++h>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=s,t.y=l,t},names:["somerc"]},Yt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,o=it(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(a*a<1&&(a=1),isNaN(this.longc)){var s=it(this.e,this.lat1,Math.sin(this.lat1)),u=it(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var l=Math.pow(s,this.bl),c=Math.pow(u,this.bl);i=.5*((r=this.el/l)-1/r);var h=(this.el*this.el-c*l)/(this.el*this.el+c*l),f=(c-l)/(c+l),p=rt(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*p)/f)/this.bl,this.long0=rt(this.long0);var d=rt(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/i),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else r=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=r*Math.pow(o,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},forward:function(t){var e,n,r,i=t.x,o=t.y,a=rt(i-this.long0);if(Math.abs(Math.abs(o)-M)<=D)r=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(V+r*this.gamma0*.5)),e=-1*r*M*this.al/this.bl;else{var s=it(this.e,o,Math.sin(o)),u=this.el/Math.pow(s,this.bl),l=.5*(u-1/u),c=.5*(u+1/u),h=Math.sin(this.bl*a),f=(l*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(f)-1)<=D?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-f)/(1+f))/this.bl,e=Math.abs(Math.cos(this.bl*a))<=D?this.al*this.bl*a:this.al*Math.atan2(l*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),o=.5*(r+1/r),a=Math.sin(this.bl*e/this.al),s=(a*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/o,u=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<D?(t.x=this.long0,t.y=M):Math.abs(s+1)<D?(t.x=this.long0,t.y=-1*M):(t.y=ot(this.e,u),t.x=rt(this.long0-Math.atan2(i*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},qt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<D)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=et(this.e,e,n),i=it(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=et(this.e,o,a),u=it(this.e,this.lat2,o),l=it(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>D?this.ns=Math.log(r/s)/Math.log(i/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=D&&(n=nt(n)*(M-2*D));var r,i,o=Math.abs(Math.abs(n)-M);if(o>D)r=it(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var a=this.ns*rt(e-this.long0);return t.x=this.k0*(i*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(a))+this.y0,t},inverse:function(t){var e,n,r,i,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),n=1):(e=-Math.sqrt(a*a+s*s),n=-1);var u=0;if(0!==e&&(u=Math.atan2(n*a,n*s)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=ot(this.e,r)))return null}else i=-M;return o=rt(u/this.ns+this.long0),t.x=o,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},Xt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,o,a,s,u=t.x,l=t.y,c=rt(u-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),r=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,o,a,s,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,s=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,l+=1}while(0===s&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},Zt=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},Jt=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Qt=function(t){return.375*t*(1+.25*t*(1+.46875*t))},$t=function(t){return.05859375*t*t*(1+.75*t)},te=function(t){return t*t*t*(35/3072)},ee=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)},ne=function(t){return Math.abs(t)<M?t:t-nt(t)*Math.PI},re=function(t,e,n,r,i){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN},ie={init:function(){this.sphere||(this.e0=Jt(this.es),this.e1=Qt(this.es),this.e2=$t(this.es),this.e3=te(this.es),this.ml0=this.a*Zt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=rt(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=ee(this.a,this.e,o),u=Math.tan(i)*Math.tan(i),l=r*Math.cos(i),c=l*l,h=this.es*a*a/(1-this.es);e=s*l*(1-c*u*(1/6-(8-u+8*h)*c/120)),n=this.a*Zt(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*o/a*c*(.5+(5-u+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+i,s=re(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-M)<=D)return t.x=this.long0,t.y=M,i<0&&(t.y*=-1),t;var u=ee(this.a,this.e,Math.sin(s)),l=u*u*u/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),h=r*this.a/u,f=h*h;e=s-u*Math.tan(s)/l*h*h*(.5-(1+3*c)*h*h/24),n=h*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(s)}return t.x=rt(n+this.long0),t.y=ne(e),t},names:["Cassini","Cassini_Soldner","cass"]},oe=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e},ae=.3333333333333333,se=.17222222222222222,ue=.10257936507936508,le=.06388888888888888,ce=.0664021164021164,he=.016415012942191543,fe={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-M)<D?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<D?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=oe(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*ae,e=t*t,n[0]+=e*se,n[1]=e*le,e*=t,n[0]+=e*ue,n[1]+=e*ce,n[2]=e*he,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=oe(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,i,o,a,s,u,l,c,h=t.x,f=t.y;if(h=rt(h-this.long0),this.sphere){if(o=Math.sin(f),c=Math.cos(f),r=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*o+this.cosph0*c*r)<=D)return null;e=(n=Math.sqrt(2/n))*c*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.phi0)<D)return null;n=V-.5*f,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=r}}else{switch(s=0,u=0,l=0,r=Math.cos(h),i=Math.sin(h),o=Math.sin(f),a=oe(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,u=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*u*r;break;case this.EQUIT:l=1+u*r;break;case this.N_POLE:l=M+f,a=this.qp-a;break;case this.S_POLE:l=f-M,a=this.qp+a}if(Math.abs(l)<D)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),n=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*s-this.sinb1*u*r):(l=Math.sqrt(2/(1+u*r)))*s*this.ymf,e=this.xmf*l*u*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(l=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?l:-l)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,a,s,u=t.x/this.a,l=t.y/this.a;if(this.sphere){var c,h=0,f=0;if((n=.5*(c=Math.sqrt(u*u+l*l)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(c)<=D?0:Math.asin(l*f/c),u*=f,l=h*c;break;case this.OBLIQ:n=Math.abs(c)<=D?this.phi0:Math.asin(h*this.sinph0+l*f*this.cosph0/c),u*=f*this.cosph0,l=(h-Math.sin(n)*this.sinph0)*c;break;case this.N_POLE:l=-l,n=M-n;break;case this.S_POLE:n-=M}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,l):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,l*=this.dd,(a=Math.sqrt(u*u+l*l))<D)return t.x=0,t.y=this.phi0,t;i=2*Math.asin(.5*a/this.rq),r=Math.cos(i),u*=i=Math.sin(i),this.mode===this.OBLIQ?(s=r*this.sinb1+l*i*this.cosb1/a,o=this.qp*s,l=a*this.cosb1*r-l*this.sinb1*i):(s=l*i/a,o=this.qp*s,l=a*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(o=u*u+l*l))return t.x=0,t.y=this.phi0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(u,l),n=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}(Math.asin(s),this.apa)}return t.x=rt(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},pe=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},de={init:function(){Math.abs(this.lat1+this.lat2)<D||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=et(this.e3,this.sin_po,this.cos_po),this.qs1=oe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=et(this.e3,this.sin_po,this.cos_po),this.qs2=oe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=oe(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>D?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=oe(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*rt(e-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),o=rt(i/this.ns0+this.long0),t.x=o,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,i,o,a=pe(.5*e);if(t<D)return a;for(var s=t*t,u=1;u<=25;u++)if(a+=o=.5*(i=1-(r=t*(n=Math.sin(a)))*r)*i/Math.cos(a)*(e/(1-s)-n/i+.5/t*Math.log((1-r)/(1+r))),Math.abs(o)<=1e-7)return a;return null}},ge={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,i,o,a,s,u=t.x,l=t.y;return r=rt(u-this.long0),e=Math.sin(l),n=Math.cos(l),i=Math.cos(r),(o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=D?(a=this.x0+1*this.a*n*Math.sin(r)/o,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/o):(a=this.x0+this.infinity_dist*n*Math.sin(r),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=pe(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=rt(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t},names:["gnom"]},me=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*M:M;for(var r,i,o,a,s=Math.asin(.5*e),u=0;u<30;u++)if(i=Math.sin(s),o=Math.cos(s),a=t*i,s+=r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-i/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(r)<=1e-10)return s;return NaN},ye={init:function(){this.sphere||(this.k0=et(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,i=t.y,o=rt(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=oe(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=rt(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=me(this.e,2*t.y*this.k0/this.a),e=rt(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},ve={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=rt(e-this.long0),i=ne(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=rt(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=ne(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},be=20,Ee={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Jt(this.es),this.e1=Qt(this.es),this.e2=$t(this.es),this.e3=te(this.es),this.ml0=this.a*Zt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,i=t.x,o=t.y,a=rt(i-this.long0);if(r=a*Math.sin(o),this.sphere)Math.abs(o)<=D?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*(ne(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=D)e=this.a*a,n=-1*this.ml0;else{var s=ee(this.a,this.e,Math.sin(o))/Math.tan(o);e=s*Math.sin(r),n=this.a*Zt(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,i,o,a,s,u,l;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=D)e=rt(r/this.a+this.long0),n=0;else{var c;for(a=this.lat0+i/this.a,s=r*r/this.a/this.a+a*a,u=a,o=be;o;--o)if(u+=l=-1*(a*(u*(c=Math.tan(u))+1)-u-.5*(u*u+s)*c)/((u-a)/c-1),Math.abs(l)<=D){n=u;break}e=rt(this.long0+Math.asin(r*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=D)n=0,e=rt(this.long0+r/this.a);else{var h,f,p,d,g;for(a=(this.ml0+i)/this.a,s=r*r/this.a/this.a+a*a,u=a,o=be;o;--o)if(g=this.e*Math.sin(u),h=Math.sqrt(1-g*g)*Math.tan(u),f=this.a*Zt(this.e0,this.e1,this.e2,this.e3,u),p=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),u-=l=(a*(h*(d=f/this.a)+1)-d-.5*h*(d*d+s))/(this.es*Math.sin(2*u)*(d*d+s-2*a*d)/(4*h)+(a-d)*(h*p-2/Math.sin(2*u))-p),Math.abs(l)<=D){n=u;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=rt(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},_e={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,i=n-this.long0,o=r/R*1e-5,a=i,s=1,u=0;for(e=1;e<=10;e++)s*=o,u+=this.A[e]*s;var l,c=u,h=a,f=1,p=0,d=0,g=0;for(e=1;e<=6;e++)l=p*c+f*h,f=f*c-p*h,p=l,d=d+this.B_re[e]*f-this.B_im[e]*p,g=g+this.B_im[e]*f+this.B_re[e]*p;return t.x=g*this.a+this.x0,t.y=d*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,i=t.y,o=r-this.x0,a=(i-this.y0)/this.a,s=o/this.a,u=1,l=0,c=0,h=0;for(e=1;e<=6;e++)n=l*a+u*s,u=u*a-l*s,l=n,c=c+this.C_re[e]*u-this.C_im[e]*l,h=h+this.C_im[e]*u+this.C_re[e]*l;for(var f=0;f<this.iterations;f++){var p,d=c,g=h,m=a,y=s;for(e=2;e<=6;e++)p=g*c+d*h,d=d*c-g*h,g=p,m+=(e-1)*(this.B_re[e]*d-this.B_im[e]*g),y+=(e-1)*(this.B_im[e]*d+this.B_re[e]*g);d=1,g=0;var v=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)p=g*c+d*h,d=d*c-g*h,g=p,v+=e*(this.B_re[e]*d-this.B_im[e]*g),b+=e*(this.B_im[e]*d+this.B_re[e]*g);var E=v*v+b*b;c=(m*v+y*b)/E,h=(y*v-m*b)/E}var _=c,w=h,S=1,x=0;for(e=1;e<=9;e++)S*=_,x+=this.D[e]*S;var T=this.lat0+x*R*1e5,O=this.long0+w;return t.x=O,t.y=T,t},names:["New_Zealand_Map_Grid","nzmg"]},we={init:function(){},forward:function(t){var e=t.x,n=t.y,r=rt(e-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=rt(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},Se=20,xe={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=At(this.es)},forward:function(t){var e,n,r=t.x,i=t.y;if(r=rt(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),a=Se;a;--a){var s=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<D)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var u=Math.sin(i),l=Math.cos(i);n=this.a*Lt(i,u,l,this.en),e=this.a*r*l/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=pe((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=pe(Math.sin(e)/this.n)),r=rt(r+this.long0),e=ne(e)):(e=Pt(t.y/this.a,this.es,this.en),(i=Math.abs(e))<M?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=rt(n)):i-D<M&&(r=this.long0)),t.x=r,t.y=e,t},names:["Sinusoidal","sinu"]},Te={init:function(){},forward:function(t){for(var e=t.x,n=t.y,r=rt(e-this.long0),i=n,o=Math.PI*Math.sin(n),a=0;;a++){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<D)break}i/=2,Math.PI/2-Math.abs(n)<D&&(r=0);var u=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=u,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=rt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t},names:["Mollweide","moll"]},Oe={init:function(){Math.abs(this.lat1+this.lat2)<D||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Jt(this.es),this.e1=Qt(this.es),this.e2=$t(this.es),this.e3=te(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=et(this.e,this.sinphi,this.cosphi),this.ml1=Zt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<D?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=et(this.e,this.sinphi,this.cosphi),this.ml2=Zt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Zt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=Zt(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*rt(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=rt(this.long0+o/this.ns),r=ne(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=re(a,this.e0,this.e1,this.e2,this.e3),i=rt(this.long0+o/this.ns),t.x=i,t.y=r,t},names:["Equidistant_Conic","eqdc"]},Ce={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.x,i=t.y,o=rt(r-this.long0);Math.abs(i)<=D&&(e=this.x0+this.R*o,n=this.y0);var a=pe(2*Math.abs(i/Math.PI));(Math.abs(o)<=D||Math.abs(Math.abs(i)-M)<=D)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),u=s*s,l=Math.sin(a),c=Math.cos(a),h=c/(l+c-1),f=h*h,p=h*(2/l-1),d=p*p,g=Math.PI*this.R*(s*(h-d)+Math.sqrt(u*(h-d)*(h-d)-(d+u)*(f-d)))/(d+u);o<0&&(g=-g),e=this.x0+g;var m=u+h;return g=Math.PI*this.R*(p*m-s*Math.sqrt((d+u)*(u+1)-m*m))/(d+u),n=i>=0?this.y0+g:this.y0-g,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i,o,a,s,u,l,c,h,f;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(r=t.x/h)*r+(i=t.y/h)*i,h=3*(i*i/(u=-2*(a=-Math.abs(i)*(1+o))+1+2*i*i+o*o)+(2*(s=a-2*i*i+r*r)*s*s/u/u/u-9*a*s/u/u)/27)/(l=(a-s*s/3/u)/u)/(c=2*Math.sqrt(-l/3)),Math.abs(h)>1&&(h=h>=0?1:-1),f=Math.acos(h)/3,n=t.y>=0?(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI:-(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI,e=Math.abs(r)<D?this.long0:rt(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Ae={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w,S=t.x,x=t.y,T=Math.sin(t.y),O=Math.cos(t.y),C=rt(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=D?(t.x=this.x0+this.a*(M-x)*Math.sin(C),t.y=this.y0-this.a*(M-x)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=D?(t.x=this.x0+this.a*(M+x)*Math.sin(C),t.y=this.y0+this.a*(M+x)*Math.cos(C),t):(v=this.sin_p12*T+this.cos_p12*O*Math.cos(C),y=(m=Math.acos(v))/Math.sin(m),t.x=this.x0+this.a*y*O*Math.sin(C),t.y=this.y0+this.a*y*(this.cos_p12*T-this.sin_p12*O*Math.cos(C)),t):(e=Jt(this.es),n=Qt(this.es),r=$t(this.es),i=te(this.es),Math.abs(this.sin_p12-1)<=D?(o=this.a*Zt(e,n,r,i,M),a=this.a*Zt(e,n,r,i,x),t.x=this.x0+(o-a)*Math.sin(C),t.y=this.y0-(o-a)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=D?(o=this.a*Zt(e,n,r,i,M),a=this.a*Zt(e,n,r,i,x),t.x=this.x0+(o+a)*Math.sin(C),t.y=this.y0+(o+a)*Math.cos(C),t):(s=T/O,u=ee(this.a,this.e,this.sin_p12),l=ee(this.a,this.e,T),c=Math.atan((1-this.es)*s+this.es*u*this.sin_p12/(l*O)),b=0===(h=Math.atan2(Math.sin(C),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(C)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(h)-Math.PI)<=D?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(C)*Math.cos(c)/Math.sin(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),m=u*b*(1-(E=b*b)*(g=(p=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*p)*(1-g)/6+(_=E*b)/8*(d=f*p)*(1-2*g)+(w=_*b)/120*(g*(4-7*g)-3*f*f*(1-7*g))-w*b/48*d),t.x=this.x0+m*Math.sin(h),t.y=this.y0+m*Math.cos(h),t))},inverse:function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*M*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=D?a=this.lat0:(a=pe(i*this.sin_p12+t.y*r*this.cos_p12/e),s=Math.abs(this.lat0)-M,o=rt(Math.abs(s)<=D?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=o,t.y=a,t}return u=Jt(this.es),l=Qt(this.es),c=$t(this.es),h=te(this.es),Math.abs(this.sin_p12-1)<=D?(f=this.a*Zt(u,l,c,h,M),e=Math.sqrt(t.x*t.x+t.y*t.y),a=re((f-e)/this.a,u,l,c,h),o=rt(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=D?(f=this.a*Zt(u,l,c,h,M),e=Math.sqrt(t.x*t.x+t.y*t.y),a=re((e-f)/this.a,u,l,c,h),o=rt(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=ee(this.a,this.e,this.sin_p12),m=Math.cos(g),v=-(y=this.e*this.cos_p12*m)*y/(1-this.es),b=3*this.es*(1-v)*this.sin_p12*this.cos_p12*m/(1-this.es),w=1-v*(_=(E=e/p)-v*(1+v)*Math.pow(E,3)/6-b*(1+3*v)*Math.pow(E,4)/24)*_/2-E*_*_*_/6,d=Math.asin(this.sin_p12*Math.cos(_)+this.cos_p12*Math.sin(_)*m),o=rt(this.long0+Math.asin(Math.sin(g)*Math.sin(_)/Math.cos(d))),a=Math.atan((1-this.es*w*this.sin_p12/Math.sin(d))*Math.tan(d)/(1-this.es)),t.x=o,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]},Le={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,a,s,u=t.x,l=t.y;return r=rt(u-this.long0),e=Math.sin(l),n=Math.cos(l),i=Math.cos(r),((o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=D)&&(a=1*this.a*n*Math.sin(r),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o,a,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=pe(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=D?(s=this.lat0,t.x=a,t.y=s,t):(s=pe(i*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-M,Math.abs(o)<=D?(a=rt(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=s,t):(a=rt(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=s,t))},names:["ortho"]};return m.defaultDatum="WGS84",m.Proj=h,m.WGS84=new m.Proj("WGS84"),m.Point=O,m.toPoint=gt,m.defs=s,m.transform=p,m.mgrs=Tt,m.version="2.4.3",function(t){t.Proj.projections.add(Rt),t.Proj.projections.add(Ft),t.Proj.projections.add(Bt),t.Proj.projections.add(Kt),t.Proj.projections.add(zt),t.Proj.projections.add(Ht),t.Proj.projections.add(Yt),t.Proj.projections.add(qt),t.Proj.projections.add(Xt),t.Proj.projections.add(ie),t.Proj.projections.add(fe),t.Proj.projections.add(de),t.Proj.projections.add(ge),t.Proj.projections.add(ye),t.Proj.projections.add(ve),t.Proj.projections.add(Ee),t.Proj.projections.add(_e),t.Proj.projections.add(we),t.Proj.projections.add(xe),t.Proj.projections.add(Te),t.Proj.projections.add(Oe),t.Proj.projections.add(Ce),t.Proj.projections.add(Ae),t.Proj.projections.add(Le)}(m),m})),i("formats/geotiff/TiffIFDEntry",["../../error/AbstractError","../../error/ArgumentError","./GeoTiffUtil","../../util/Logger","./TiffConstants"],(function(t,e,n,r,i){"use strict";var o=function(t,n,i,o,a,s){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"TiffIFDEntry","constructor","missingTag"));if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"TiffIFDEntry","constructor","missingType"));if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"TiffIFDEntry","constructor","missingCount"));if(null===o||void 0===o)throw new e(r.logMessage(r.LEVEL_SEVERE,"TiffIFDEntry","constructor","missingValueOffset"));if(!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"TiffIFDEntry","constructor","missingGeoTiffData"));if(null===s||void 0===s)throw new e(r.logMessage(r.LEVEL_SEVERE,"TiffIFDEntry","constructor","missingIsLittleEndian"));this._tag=t,this._type=n,this._count=i,this._valueOffset=o,this._geoTiffData=a,this._isLittleEndian=s};return Object.defineProperties(o.prototype,{tag:{get:function(){return this._tag}},type:{get:function(){return this._type}},count:{get:function(){return this._count}},valueOffset:{get:function(){return this._valueOffset}},geoTiffData:{get:function(){return this._geoTiffData}},isLittleEndian:{get:function(){return this._isLittleEndian}}}),o.prototype.getIFDTypeLength=function(){switch(this.type){case i.Type.BYTE:case i.Type.ASCII:case i.Type.SBYTE:case i.Type.UNDEFINED:return 1;case i.Type.SHORT:case i.Type.SSHORT:return 2;case i.Type.LONG:case i.Type.SLONG:case i.Type.FLOAT:return 4;case i.Type.RATIONAL:case i.Type.SRATIONAL:case i.Type.DOUBLE:return 8;default:return-1}},o.prototype.getIFDEntryValue=function(){var e=[],o=null,a=this.getIFDTypeLength();if(a*this.count<=4)o=!1===this.isLittleEndian?this.valueOffset>>>8*(4-a):this.valueOffset,e.push(o);else for(var s=0;s<this.count;s++){var u=a*s;if(a>=8)if(this.type===i.Type.RATIONAL||this.type===i.Type.SRATIONAL)e.push(n.getBytes(this.geoTiffData,this.valueOffset+u,4,this.isLittleEndian)),e.push(n.getBytes(this.geoTiffData,this.valueOffset+u+4,4,this.isLittleEndian));else{if(this.type!==i.Type.DOUBLE)throw new t(r.logMessage(r.LEVEL_SEVERE,"TiffIFDEntry","parse","invalidTypeOfIFD"));e.push(n.getBytes(this.geoTiffData,this.valueOffset+u,8,this.isLittleEndian))}else e.push(n.getBytes(this.geoTiffData,this.valueOffset+u,a,this.isLittleEndian))}return this.type===i.Type.ASCII?(e.forEach((function(t,e,n){0===t?n.splice(e,1):n[e]=String.fromCharCode(t)})),e.join("")):e},o})),i("util/WWUtil",["../error/ArgumentError","../geom/Line","../util/Logger","../geom/Rectangle","../geom/Vec3"],(function(t,e,n,r,i){"use strict";var o={latLonRegex:/^(\-?\d+(\.\d+)?),\s*(\-?\d+(\.\d+)?)$/,suffixForMimeType:function(t){return"image/png"===t?"png":"image/jpeg"===t?"jpg":"application/bil16"===t||"application/bil32"===t?"bil":null},currentUrlSansFilePart:function(){for(var t=window.location.protocol,e=window.location.host,n=window.location.pathname.split("/"),r="",i=0,o=n.length;i<o-1;i++)n[i].length>0&&(r=r+"/"+n[i]);return t+"//"+e+r},worldwindlibLocation:function(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var n=t[e].src.indexOf("/worldwind.");if(n>=0)return t[e].src.substring(0,n)+"/"}return null},urlPath:function(t){if(!t)return"";for(var e=t.split("/"),n="",r=0,i=e.length;r<i;r++){var o=e[r];o&&0!==o.length&&-1==o.indexOf(":")&&"."!==o&&".."!==o&&"null"!==o&&"undefined"!==o&&(0!==n.length&&(n+="/"),n+=o)}return n},fillArray:function(t,e){if(t)for(var n=0,r=t.length;n<r;n++)t[n]=e},multiplyArray:function(t,e){if(t)for(var n=0,r=t.length;n<r;n++)t[n]*=e},jsonpCounter:0,jsonp:function(t,e,n){var r="gov_nasa_worldwind_jsonp_"+o.jsonpCounter++;window[r]=function(t){delete window[r],n(t)};var i=t+(-1===t.indexOf("?")?"?":"&");i+=e+"="+r;var a=document.createElement("script");a.async=!0,a.src=i;var s=document.getElementsByTagName("head")[0],u=function(){a.onload=void 0,a.onerror=void 0,s.removeChild(a)};a.onload=u,a.onerror=u,s.appendChild(a)},arrayEquals:function(t,e){return t.length==e.length&&t.every((function(t,n){return t===e[n]||t.equals&&t.equals(e[n])}))},transformToBoolean:function(t){return 0!=t&&"0"!=t&&"false"!=t&&Boolean(t)},clone:function(t){var e,n={},r=Object.keys(t);for(e=0;e<r.length;e++)n[r[e]]=t[r[e]];return n},guid:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},date:function(t){return new Date(t)},startsWith:function(t,e,n){return n=n||0,t.substr(n,e.length)===e},endsWith:function(t,e,n){("number"!=typeof n||!isFinite(n)||Math.floor(n)!==n||n>t.length)&&(n=t.length),n-=e.length;var r=t.lastIndexOf(e,n);return-1!==r&&r===n},arrayIncludes:function(t,e){if(!t)return!1;for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i===e||"number"==typeof i&&"number"==typeof e&&isNaN(i)&&isNaN(e))return!0}return!1}};return o})),i("formats/geotiff/GeoTiffReader",["../../error/AbstractError","../../error/ArgumentError","./GeoTiffConstants","./GeoTiffKeyEntry","./GeoTiffMetadata","./GeoTiffUtil","../../geom/Location","../../geom/Sector","../../util/Logger","../../util/proj4-src","./TiffConstants","./TiffIFDEntry","../../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f){"use strict";var p=function(t){if(!t)throw new e(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","constructor","missingArrayBuffer"));this._isLittleEndian=!1,this._imageFileDirectories=[],this._geoTiffData=new DataView(t),this._metadata=new i,this.parse()};return Object.defineProperties(p.prototype,{isLittleEndian:{get:function(){return this._isLittleEndian}},imageFileDirectories:{get:function(){return this._imageFileDirectories}},geoTiffData:{get:function(){return this._geoTiffData}},metadata:{get:function(){return this._metadata}}}),p.retrieveFromUrl=function(t,n){if(!t)throw new e(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","retrieveFromUrl","missingUrl"));if(!n)throw new e(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","retrieveFromUrl","The specified callback is null or undefined."));var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var e=r.response;e&&n(new p(e),r)}else u.log(u.LEVEL_WARNING,"GeoTiff retrieval failed ("+r.statusText+"): "+t),n(null,r)}.bind(this),r.onerror=function(){u.log(u.LEVEL_WARNING,"GeoTiff retrieval failed: "+t),n(null,r)},r.ontimeout=function(){u.log(u.LEVEL_WARNING,"GeoTiff retrieval timed out: "+t),n(null,r)},r.send(null)},p.prototype.parse=function(){if(!this._imageFileDirectories.length){if(this.getEndianness(),!this.isTiffFileType())throw new t(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","parse","invalidTiffFileType"));var e=o.getBytes(this.geoTiffData,4,4,this.isLittleEndian);this.parseImageFileDirectory(e),this.getMetadataFromImageFileDirectory(),this.parseGeoKeys(),this.setBBox()}},p.prototype.getEndianness=function(){var e=o.getBytes(this.geoTiffData,0,2,this.isLittleEndian);if(18761===e)this._isLittleEndian=!0;else{if(19789!==e)throw new t(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","getEndianness","invalidByteOrderValue"));this._isLittleEndian=!1}},p.prototype.getImage=function(){return this.createImage()},p.prototype.getImageData=function(){return this.createTypedElevationArray()},p.prototype.isTiffFileType=function(){return 42===o.getBytes(this.geoTiffData,2,2,this.isLittleEndian)},p.prototype.isGeoTiff=function(){return!!this.getIFDByTag(n.Tag.GEO_KEY_DIRECTORY)},p.prototype.createImage=function(){var t=this.metadata.bitsPerSample,e=this.metadata.samplesPerPixel,n=this.metadata.photometricInterpretation,r=this.metadata.imageLength,i=this.metadata.imageWidth;if(this.metadata.colorMap)var o=this.metadata.colorMap,a=Math.pow(2,t[0]);var s=document.createElement("canvas");s.width=i,s.height=r;var u=s.getContext("2d");if(this.metadata.stripOffsets){var l=this.parseStrips(!1);if(this.metadata.rowsPerStrip)var c=this.metadata.rowsPerStrip;else c=r;for(var h=l.length,f=0,p=0;p<h;p++){for(var d=l[p].length,g=f*p,m=0,y=0;y<d;m++)for(var v=0;v<i;v++,y++){var b=l[p][y];u.fillStyle=this.getFillStyle(b,n,t,e,o,a),u.fillRect(v,g+m,1,1)}f=c}}else if(this.metadata.tileOffsets){var E=this.parseTiles(!1),_=this.metadata.tileWidth,w=this.metadata.tileLength,S=Math.ceil(i/_);for(m=0;m<r;m++)for(v=0;v<i;v++){var x=Math.floor(v/_),T=m%w*_+v%_;b=E[Math.floor(m/w)*S+x][T],u.fillStyle=this.getFillStyle(b,n,t,e,o,a),u.fillRect(v,m,1,1)}}return this._geoTiffData=null,s},p.prototype.getFillStyle=function(t,e,n,r,i,a){var s=0,l=0,h=0,f=1;switch(this.metadata.noData&&t[0]==this.metadata.noData&&(f=0),e){case c.PhotometricInterpretation.WHITE_IS_ZERO:var p=Math.pow(2,n)-1;t[0]=p-t[0];case c.PhotometricInterpretation.BLACK_IS_ZERO:s=l=h=o.clampColorSample(t[0],n[0]);break;case c.PhotometricInterpretation.RGB:if(s=o.clampColorSample(t[0],n[0]),l=o.clampColorSample(t[1],n[1]),h=o.clampColorSample(t[2],n[2]),4===r&&2===this.metadata.extraSamples[0]){var d=Math.pow(2,n[3]);f=t[3]/d}break;case c.PhotometricInterpretation.RGB_PALETTE:if(i){var g=t[0];s=o.clampColorSample(i[g],16),l=o.clampColorSample(i[a+g],16),h=o.clampColorSample(i[2*a+g],16)}break;case c.PhotometricInterpretation.TRANSPARENCY_MASK:u.log(u.LEVEL_WARNING,"Photometric interpretation not yet implemented: TRANSPARENCY_MASK");break;case c.PhotometricInterpretation.CMYK:u.log(u.LEVEL_WARNING,"Photometric interpretation not yet implemented: CMYK");break;case c.PhotometricInterpretation.Y_Cb_Cr:u.log(u.LEVEL_WARNING,"Photometric interpretation not yet implemented: Y_Cb_Cr");break;case c.PhotometricInterpretation.CIE_LAB:u.log(u.LEVEL_WARNING,"Photometric interpretation not yet implemented: CIE_LAB");break;default:u.log("Unknown photometric interpretation: "+e)}return o.getRGBAFillValue(s,l,h,f)},p.prototype.createTypedElevationArray=function(){var t,e=[],n=this.metadata.bitsPerSample[0];if(this.metadata.stripOffsets)for(var r=this.parseStrips(!0),i=0;i<r.length;i++)e=e.concat(r[i]);else if(this.metadata.tileOffsets)for(var o=this.parseTiles(!0),a=this.metadata.imageWidth,s=this.metadata.imageLength,u=this.metadata.tileWidth,l=this.metadata.tileLength,h=Math.ceil(a/u),f=0;f<s;f++)for(var p=0;p<a;p++){var d=Math.floor(p/u),g=f%l*u+p%u,m=o[Math.floor(f/l)*h+d][g];e.push(m)}if(this.metadata.sampleFormat)var y=this.metadata.sampleFormat[0];else y=c.SampleFormat.UNSIGNED;switch(n){case 8:t=y===c.SampleFormat.SIGNED?new Int8Array(e):new Uint8Array(e);break;case 16:t=y===c.SampleFormat.SIGNED?new Int16Array(e):new Uint16Array(e);break;case 32:t=y===c.SampleFormat.SIGNED?new Int32Array(e):y===c.SampleFormat.IEEE_FLOAT?new Float32Array(e):new Uint32Array(e);break;case 64:t=new Float64Array(e)}return t},p.prototype.parseStrips=function(t){var e=this.metadata.samplesPerPixel,n=this.metadata.bitsPerSample,r=this.metadata.stripOffsets,i=this.metadata.stripByteCounts,o=this.metadata.compression;if(this.metadata.sampleFormat)var a=this.metadata.sampleFormat;else a=c.SampleFormat.UNSIGNED;for(var s=e*n[0]/8,u=[],l=0;l<r.length;l++){var h=r[l],f=i[l];u[l]=this.parseBlock(t,o,s,f,h,n,a)}return u},p.prototype.parseBlock=function(t,e,n,r,i,a,s){var l=[];switch(e){case c.Compression.UNCOMPRESSED:for(var h=0,f=n;h<r;h+=f){for(var p=0,d=[];p<a.length;p++){var g=p*(L=a[p]/8);d.push(o.getSampleBytes(this.geoTiffData,i+h+g,L,s[p],this.isLittleEndian))}t?l.push(d[0]):l.push(d)}break;case c.Compression.CCITT_1D:u.log(u.LEVEL_WARNING,"Compression type not yet implemented: CCITT_1D");break;case c.Compression.GROUP_3_FAX:u.log(u.LEVEL_WARNING,"Compression type not yet implemented: GROUP_3_FAX");break;case c.Compression.GROUP_4_FAX:u.log(u.LEVEL_WARNING,"Compression type not yet implemented: GROUP_4_FAX");break;case c.Compression.LZW:u.log(u.LEVEL_WARNING,"Compression type not yet implemented: LZW");break;case c.Compression.JPEG:u.log(u.LEVEL_WARNING,"Compression type not yet implemented: JPEG");break;case c.Compression.PACK_BITS:if(this.metadata.tileOffsets)var m=this.metadata.tileWidth,y=this.metadata.tileWidth,v=new ArrayBuffer(m*y*n);else{var b=this.metadata.rowsPerStrip,E=this.metadata.imageWidth;v=new ArrayBuffer(b*E*n)}var _=new DataView(v),w=!0,S=(d=[],0),x=0,T=0;for(h=0;h<r;h+=1)if(w){S=1,x=1,w=!1;var O=this.geoTiffData.getInt8(i+h,this.isLittleEndian);O>=0&&O<=127?S=O+1:O>=-127&&O<=-1?x=1-O:w=!0}else{for(var C=o.getBytes(this.geoTiffData,i+h,1,this.isLittleEndian),A=0;A<x;A++)_.setInt8(T,C),T++;0===--S&&(w=!0)}for(h=0,f=n;h<v.byteLength;h+=f){for(p=0,d=[];p<a.length;p++){var L;g=p*(L=a[p]/8),d.push(o.getSampleBytes(_,h+g,L,s[p],this.isLittleEndian))}t?l.push(d[0]):l.push(d)}}return l},p.prototype.parseTiles=function(t){var e=this.metadata.samplesPerPixel,n=this.metadata.bitsPerSample,r=this.metadata.compression;if(this.metadata.sampleFormat)var i=this.metadata.sampleFormat;else i=new Array(e),f.fillArray(i,c.SampleFormat.UNSIGNED);for(var o=e*n[0]/8,a=this.metadata.tileWidth,s=this.metadata.tileLength,u=this.metadata.tileOffsets,l=this.metadata.tileByteCounts,h=this.metadata.imageLength,p=this.metadata.imageWidth,d=Math.ceil(p/a),g=Math.ceil(h/s),m=[],y=0;y<g;y++)for(var v=0;v<d;v++){var b=d*y+v,E=u[b],_=l[b];m[b]=this.parseBlock(t,r,o,_,E,n,i)}return m},p.prototype.geoTiffImageToPCS=function(t,n){if(null===t||void 0===t)throw new e(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","geoTiffImageToPCS","missingXValue"));if(null===n||void 0===n)throw new e(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","geoTiffImageToPCS","missingYValue"));var r=[t,n],i=this.metadata.modelTiepoint,o=this.metadata.modelPixelScale,s=this.metadata.modelTransformation,c=i?i.length:0,h=o?o.length:0,f=s?s.length:0;if(c>6&&0===h);else if(16===f){var p=t,d=n;r=[t=p*s[0]+d*s[1]+s[3],n=p*s[4]+d*s[5]+s[7]]}else h<3||c<6||(t=(t-i[0])*o[0]+i[3],n=(n-i[1])*(-1*o[1])+i[4]),r=[t,n];return l.defs([["EPSG:26771","+proj=tmerc +lat_0=36.66666666666666 +lon_0=-88.33333333333333 +k=0.9999749999999999 +x_0=152400.3048006096 +y_0=0 +ellps=clrk66 +datum=NAD27 +to_meter=0.3048006096012192 +no_defs "],["EPSG:32633","+proj=utm +zone=33 +datum=WGS84 +units=m +no_defs"]]),this.metadata.projectedCSType&&(r=l("EPSG:"+this.metadata.projectedCSType,"EPSG:4326",r)),new a(r[1],r[0])},p.prototype.setBBox=function(){var t=this.geoTiffImageToPCS(0,0),e=this.geoTiffImageToPCS(this.metadata.imageWidth,0),n=this.geoTiffImageToPCS(0,this.metadata.imageLength);this.geoTiffImageToPCS(this.metadata.imageWidth,this.metadata.imageLength),this.metadata.bbox=new s(n.latitude,t.latitude,t.longitude,e.longitude)},p.prototype.getMetadataFromImageFileDirectory=function(){for(var t=0;t<this.imageFileDirectories[0].length;t++)switch(this.imageFileDirectories[0][t].tag){case c.Tag.BITS_PER_SAMPLE:this.metadata.bitsPerSample=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.COLOR_MAP:this.metadata.colorMap=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.COMPRESSION:this.metadata.compression=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.EXTRA_SAMPLES:this.metadata.extraSamples=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.IMAGE_DESCRIPTION:this.metadata.imageDescription=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.IMAGE_LENGTH:this.metadata.imageLength=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.IMAGE_WIDTH:this.metadata.imageWidth=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.MAX_SAMPLE_VALUE:this.metadata.maxSampleValue=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.MIN_SAMPLE_VALUE:this.metadata.minSampleValue=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.ORIENTATION:this.metadata.orientation=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.PHOTOMETRIC_INTERPRETATION:this.metadata.photometricInterpretation=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.PLANAR_CONFIGURATION:this.metadata.planarConfiguration=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.ROWS_PER_STRIP:this.metadata.rowsPerStrip=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.RESOLUTION_UNIT:this.metadata.resolutionUnit=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.SAMPLES_PER_PIXEL:this.metadata.samplesPerPixel=this.imageFileDirectories[0][t].getIFDEntryValue()[0];break;case c.Tag.SAMPLE_FORMAT:this.metadata.sampleFormat=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.SOFTWARE:this.metadata.software=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.STRIP_BYTE_COUNTS:this.metadata.stripByteCounts=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.STRIP_OFFSETS:this.metadata.stripOffsets=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.TILE_BYTE_COUNTS:this.metadata.tileByteCounts=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.TILE_OFFSETS:this.metadata.tileOffsets=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.TILE_LENGTH:this.metadata.tileLength=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.TILE_WIDTH:this.metadata.tileWidth=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.X_RESOLUTION:this.metadata.xResolution=this.imageFileDirectories[0][t].getIFDEntryValue();break;case c.Tag.Y_RESOLUTION:this.metadata.tileWidth=this.imageFileDirectories[0][t].getIFDEntryValue();break;case n.Tag.GEO_ASCII_PARAMS:this.metadata.geoAsciiParams=this.imageFileDirectories[0][t].getIFDEntryValue();break;case n.Tag.GEO_DOUBLE_PARAMS:this.metadata.geoDubleParams=this.imageFileDirectories[0][t].getIFDEntryValue();break;case n.Tag.GEO_KEY_DIRECTORY:this.metadata.geoKeyDirectory=this.imageFileDirectories[0][t].getIFDEntryValue();break;case n.Tag.MODEL_PIXEL_SCALE:this.metadata.modelPixelScale=this.imageFileDirectories[0][t].getIFDEntryValue();break;case n.Tag.MODEL_TIEPOINT:this.metadata.modelTiepoint=this.imageFileDirectories[0][t].getIFDEntryValue();break;case n.Tag.GDAL_METADATA:this.metadata.metaData=this.imageFileDirectories[0][t].getIFDEntryValue();break;case n.Tag.GDAL_NODATA:this.metadata.noData=this.imageFileDirectories[0][t].getIFDEntryValue();break;default:u.log(u.LEVEL_WARNING,"Ignored GeoTiff tag: "+this.imageFileDirectories[0][t].tag)}},p.prototype.parseGeoKeys=function(){if(!this.isGeoTiff())throw new t(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","parse","invalidGeoTiffFile"));var e=this.metadata.geoKeyDirectory;if(!e)throw new t(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","parseGeoKeys","missingGeoKeyDirectoryTag"));for(var i=(e[0],e[1],e[2],e[3]),o=0;o<i;o++){var a=e[4+4*o],s=e[5+4*o],l=e[6+4*o],c=e[7+4*o];switch(a){case n.Key.GTModelTypeGeoKey:this.metadata.gtModelTypeGeoKey=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.GTRasterTypeGeoKey:this.metadata.gtRasterTypeGeoKey=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.GTCitationGeoKey:this.metadata.gtCitationGeoKey=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.GeographicTypeGeoKey:this.metadata.geographicTypeGeoKey=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.GeogCitationGeoKey:this.metadata.geogCitationGeoKey=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.GeogAngularUnitsGeoKey:this.metadata.geogAngularUnitsGeoKey=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.GeogAngularUnitSizeGeoKey:this.metadata.geogAngularUnitSizeGeoKey=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.GeogSemiMajorAxisGeoKey:this.metadata.geogSemiMajorAxisGeoKey=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.GeogInvFlatteningGeoKey:this.metadata.geogInvFlatteningGeoKey=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.ProjectedCSTypeGeoKey:this.metadata.projectedCSType=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;case n.Key.ProjLinearUnitsGeoKey:this.metadata.projLinearUnits=new r(a,s,l,c).getGeoKeyValue(this.metadata.geoDoubleParams,this.metadata.geoAsciiParams);break;default:u.log(u.LEVEL_WARNING,"Ignored GeoTiff key: "+a)}}},p.prototype.parseImageFileDirectory=function(t){if(!t)throw new e(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","parseImageFileDirectory","missingOffset"));for(var n=o.getBytes(this.geoTiffData,t,2,this.isLittleEndian),r=[],i=t+2,a=0;a<n;i+=12,a++){var s=o.getBytes(this.geoTiffData,i,2,this.isLittleEndian),l=o.getBytes(this.geoTiffData,i+2,2,this.isLittleEndian),c=o.getBytes(this.geoTiffData,i+4,4,this.isLittleEndian),f=o.getBytes(this.geoTiffData,i+8,4,this.isLittleEndian);r.push(new h(s,l,c,f,this.geoTiffData,this.isLittleEndian))}this._imageFileDirectories.push(r);var p=o.getBytes(this.geoTiffData,i,4,this.isLittleEndian);0!==p&&this.parseImageFileDirectory(p)},p.prototype.getIFDByTag=function(t){if(!t)throw new e(u.logMessage(u.LEVEL_SEVERE,"GeoTiffReader","getIFDByTag","missingTag"));for(var n=0;n<this.imageFileDirectories[0].length;n++)if(this.imageFileDirectories[0][n].tag===t)return this.imageFileDirectories[0][n];return null},p})),i("util/Level",["../geom/Angle","../error/ArgumentError","../geom/Location","../util/Logger"],(function(t,e,n,r){"use strict";var i=function(n,i,o){if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"Level","constructor","The specified tile delta is null or undefined"));if(!o)throw new e(r.logMessage(r.LEVEL_SEVERE,"Level","constructor","The specified parent level set is null or undefined"));this.levelNumber=n,this.tileDelta=i,this.parent=o,this.texelSize=i.latitude*t.DEGREES_TO_RADIANS/o.tileHeight,this.tileWidth=o.tileWidth,this.tileHeight=o.tileHeight,this.sector=o.sector};return i.prototype.isFirstLevel=function(){return this.parent.firstLevel()==this},i.prototype.isLastLevel=function(){return this.parent.lastLevel()==this},i.prototype.previousLevel=function(){return this.parent.level(this.levelNumber-1)},i.prototype.nextLevel=function(){return this.parent.level(this.levelNumber+1)},i.prototype.compare=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"Level","compare","The specified level is null or undefined"));return this.levelNumber<t.levelNumber?-1:this.levelNumber>t.levelNumber?1:0},i})),i("util/LevelSet",["../error/ArgumentError","../util/Level","../geom/Location","../util/Logger"],(function(t,e,n,r){"use strict";var i=function(i,o,a,s,u){if(!i)throw new t(r.logMessage(r.LEVEL_SEVERE,"LevelSet","constructor","missingSector"));if(!o)throw new t(r.logMessage(r.LEVEL_SEVERE,"LevelSet","constructor","The specified level zero delta is null or undefined"));if(o.latitude<=0||o.longitude<=0)throw new t(r.logMessage(r.LEVEL_SEVERE,"LevelSet","constructor","The specified level zero delta is less than or equal to zero."));if(a<1)throw new t(r.logMessage(r.LEVEL_SEVERE,"LevelSet","constructor","The specified number of levels is less than one."));if(s<1||u<1)throw new t(r.logMessage(r.LEVEL_SEVERE,"LevelSet","constructor","The specified tile width or tile height is less than one."));this.sector=i,this.levelZeroDelta=o,this.numLevels=a,this.tileWidth=s,this.tileHeight=u,this.levels=[];for(var l=0;l<a;l+=1){var c=Math.pow(2,l),h=o.latitude/c,f=o.longitude/c,p=new n(h,f),d=new e(l,p,this);this.levels[l]=d}};return i.numLevelsForResolution=function(e,n){if(!e||!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"LevelSet","numLevelsForResolution","missingResolution"));var i=Math.log(e/n)/Math.log(2);return i<0&&(i=0),i+1},i.prototype.level=function(t){return t<0||t>=this.levels.length?null:this.levels[t]},i.prototype.levelForTexelSize=function(t){var e=this.lastLevel();if(e.texelSize>=t)return e;for(var n=0,r=this.levels.length;n<r;n+=1){var i=this.levels[n];if(i.texelSize<=t)return i}return e},i.prototype.firstLevel=function(){return this.levels[0]},i.prototype.lastLevel=function(){return this.levels[this.levels.length-1]},i})),i("cache/MemoryCache",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function(n,r){if(!n||n<1)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","constructor","The specified capacity is undefined, zero or negative"));if(!r||r>=n||r<0)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","constructor","The specified low-water value is undefined, greater than or equal to the capacity, or less than 1"));this._capacity=n,this._lowWater=r,this.usedCapacity=0,this.freeCapacity=n,this.entries={},this.listeners=[]};return Object.defineProperties(n.prototype,{capacity:{get:function(){return this._capacity},set:function(n){if(!n||n<1)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","capacity","Specified cache capacity is undefined, 0 or negative."));var r=this._capacity;this._capacity=n,this._capacity<=this.lowWater&&(this._lowWater=.85*this._capacity),this._capacity<r&&this.makeSpace(0)}},lowWater:{get:function(){return this._lowWater},set:function(n){if(!n||n>=this._capacity||n<0)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","lowWater","Specified cache low-water value is undefined, negative or not less than the current capacity."));this._lowWater=n}}}),n.prototype.entryForKey=function(t){if(!t)return null;var e=this.entries[t];return e?(e.lastUsed=Date.now(),e.entry):null},n.prototype.putEntry=function(n,r,i){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","putEntry","missingKey."));if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","putEntry","missingEntry."));if(i<1)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","putEntry","The specified entry size is less than 1."));var o;this.entries[n]&&this.removeEntry(n),this.usedCapacity+i>this._capacity&&this.makeSpace(i),this.usedCapacity+=i,this.freeCapacity=this._capacity-this.usedCapacity,o={key:n,entry:r,size:i,lastUsed:Date.now(),agingFactor:1},this.entries[n]=o},n.prototype.clear=function(t){if(t)for(var e in this.entries)this.entries.hasOwnProperty(e)&&this.removeCacheEntry(e);this.entries={},this.freeCapacity=this._capacity,this.usedCapacity=0},n.prototype.removeEntry=function(t){if(t){var e=this.entries[t];e&&this.removeCacheEntry(e)}},n.prototype.setEntryAgingFactor=function(t,e){if(t){var n=this.entries[t];n&&(n.agingFactor=e)}},n.prototype.removeCacheEntry=function(t){delete this.entries[t.key],this.usedCapacity-=t.size,this.freeCapacity=this._capacity-this.usedCapacity;for(var e=0,n=this.listeners.length;e<n;e++)try{this.listeners[e].entryRemoved(t.key,t.entry)}catch(n){this.listeners[e].removalError(n,t.key,t.entry)}},n.prototype.containsKey=function(t){return t&&this.entries[t]},n.prototype.addCacheListener=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","addCacheListener","missingListener"));if("function"!=typeof n.entryRemoved||"function"!=typeof n.removalError)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","addCacheListener","The specified listener does not implement the required functions."));this.listeners.push(n)},n.prototype.removeCacheListener=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"MemoryCache","removeCacheListener","missingListener"));var r=this.listeners.indexOf(n);r>-1&&this.listeners.splice(r,1)},n.prototype.makeSpace=function(t){var e=[],n=Date.now();for(var r in this.entries)this.entries.hasOwnProperty(r)&&e.push(this.entries[r]);e.sort((function(t,e){var r=(n-t.lastUsed)*t.agingFactor;return(n-e.lastUsed)*e.agingFactor-r}));for(var i=0,o=e.length;i<o&&(this.usedCapacity>this._lowWater||this.freeCapacity<t);i++)this.removeCacheEntry(e[i])},n})),i("shaders/BasicProgram",["../error/ArgumentError","../util/Color","../shaders/GpuProgram","../util/Logger"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,t,"attribute vec4 vertexPoint;\nuniform mat4 mvpMatrix;\nvoid main() {gl_Position = mvpMatrix * vertexPoint;}","precision mediump float;\nuniform vec4 color;\nvoid main() {gl_FragColor = color;}"),this.vertexPointLocation=this.attributeLocation(t,"vertexPoint"),this.mvpMatrixLocation=this.uniformLocation(t,"mvpMatrix"),this.colorLocation=this.uniformLocation(t,"color")};return i.key="WorldWindGpuBasicProgram",(i.prototype=Object.create(n.prototype)).loadModelviewProjection=function(e,n){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"BasicProgram","loadModelviewProjection","missingMatrix"));this.loadUniformMatrix(e,n,this.mvpMatrixLocation)},i.prototype.loadColor=function(e,n){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"BasicProgram","loadColor","missingColor"));this.loadUniformColor(e,n,this.colorLocation)},i.prototype.loadColorComponents=function(t,e,n,r,i){this.loadUniformColorComponents(t,e,n,r,i,this.colorLocation)},i})),i("geom/Frustum",["../error/ArgumentError","../geom/Matrix","../geom/Plane","../util/Logger"],(function(t,e,n,r){"use strict";var i=function(e,n,i,o,a,s){if(!(e&&n&&i&&o&&a&&s))throw new t(r.logMessage(r.LEVEL_SEVERE,"Frustum","constructor","missingPlane"));this._left=e,this._right=n,this._bottom=i,this._top=o,this._near=a,this._far=s,this._planes=[this._left,this._right,this._top,this._bottom,this._near,this._far]};return Object.defineProperties(i.prototype,{left:{get:function(){return this._left}},right:{get:function(){return this._right}},bottom:{get:function(){return this._bottom}},top:{get:function(){return this._top}},near:{get:function(){return this._near}},far:{get:function(){return this._far}}}),i.prototype.transformByMatrix=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"Frustum","transformByMatrix","missingMatrix"));return this._left.transformByMatrix(e),this._right.transformByMatrix(e),this._bottom.transformByMatrix(e),this._top.transformByMatrix(e),this._near.transformByMatrix(e),this._far.transformByMatrix(e),this},i.prototype.normalize=function(){return this._left.normalize(),this._right.normalize(),this._bottom.normalize(),this._top.normalize(),this._near.normalize(),this._far.normalize(),this},i.unitFrustum=function(){return new i(new n(1,0,0,1),new n(-1,0,0,1),new n(0,1,1,1),new n(0,-1,0,1),new n(0,0,-1,1),new n(0,0,1,1))},i.fromProjectionMatrix=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"Frustum","fromProjectionMatrix","missingMatrix"));var o,a,s,u,l,c,h,f,p,d,g;return o=e[12]+e[0],a=e[13]+e[1],s=e[14]+e[2],u=e[15]+e[3],l=Math.sqrt(o*o+a*a+s*s),c=new n(o/l,a/l,s/l,u/l),o=e[12]-e[0],a=e[13]-e[1],s=e[14]-e[2],u=e[15]-e[3],l=Math.sqrt(o*o+a*a+s*s),h=new n(o/l,a/l,s/l,u/l),o=e[12]+e[4],a=e[13]+e[5],s=e[14]+e[6],u=e[15]+e[7],l=Math.sqrt(o*o+a*a+s*s),p=new n(o/l,a/l,s/l,u/l),o=e[12]-e[4],a=e[13]-e[5],s=e[14]-e[6],u=e[15]-e[7],l=Math.sqrt(o*o+a*a+s*s),f=new n(o/l,a/l,s/l,u/l),o=e[12]+e[8],a=e[13]+e[9],s=e[14]+e[10],u=e[15]+e[11],l=Math.sqrt(o*o+a*a+s*s),d=new n(o/l,a/l,s/l,u/l),o=e[12]-e[8],a=e[13]-e[9],s=e[14]-e[10],u=e[15]-e[11],l=Math.sqrt(o*o+a*a+s*s),g=new n(o/l,a/l,s/l,u/l),new i(c,h,p,f,d,g)},i.prototype.containsPoint=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"Frustum","containsPoint","missingPoint"));return!(this._far.dot(e)<=0)&&!(this._left.dot(e)<=0)&&!(this._right.dot(e)<=0)&&!(this._top.dot(e)<=0)&&!(this._bottom.dot(e)<=0)&&!(this._near.dot(e)<=0)},i.prototype.intersectsSegment=function(e,n){if(!e||!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"Frustum","containsPoint","missingPoint"));if(this.containsPoint(e)||this.containsPoint(n))return!0;if(e.equals(n))return!1;for(var i=0,o=this._planes.length;i<o;i++){if(this._planes[i].onSameSide(e,n)<0)return!1;if(null!=this._planes[i].clip(e,n))return!0}return!1},i})),i("error/NotYetImplementedError",["../error/AbstractError"],(function(t){"use strict";var e=function(e){var n;t.call(this,"NotYetImplementedError",e);try{throw new Error}catch(t){n=t.stack}this.stack=n};return e.prototype=Object.create(t.prototype),e})),i("geom/BoundingBox",["../error/ArgumentError","../shaders/BasicProgram","../geom/Frustum","../util/Logger","../geom/Matrix","../error/NotYetImplementedError","../geom/Plane","../geom/Sector","../geom/Vec3","../util/WWMath","../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c){"use strict";var h=function(){this.center=new u(0,0,0),this.bottomCenter=new u(-.5,0,0),this.topCenter=new u(.5,0,0),this.r=new u(1,0,0),this.s=new u(0,1,0),this.t=new u(0,0,1),this.radius=Math.sqrt(3),this.tmp1=new u(0,0,0),this.tmp2=new u(0,0,0),this.tmp3=new u(0,0,0),this.scratchElevations=new Float64Array(9),this.scratchPoints=new Float64Array(3*this.scratchElevations.length)};return h.scratchMatrix=i.fromIdentity(),h.prototype.getCorners=function(){var t=new u(this.s[0],this.s[1],this.s[2]),e=new u(this.t[0],this.t[1],this.t[2]),n=new u(this.s[0],this.s[1],this.s[2]),r=new u(this.s[0],this.s[1],this.s[2]);t.add(this.t).multiply(-.5),e.subtract(this.s).multiply(.5),n.add(this.t).multiply(.5),r.subtract(this.t).multiply(.5);for(var i=[],o=0;o<4;o++)i.push(new u(this.bottomCenter[0],this.bottomCenter[1],this.bottomCenter[2]));for(o=0;o<4;o++)i.push(new u(this.topCenter[0],this.topCenter[1],this.topCenter[2]));return i[0].add(t),i[1].add(e),i[2].add(n),i[3].add(r),i[4].add(t),i[5].add(e),i[6].add(n),i[7].add(r),i},h.prototype.setToPoints=function(e){if(!e||e.length<3)throw new t(r.logMessage(r.LEVEL_SEVERE,"BoundingBox","setToPoints","missingArray"));var n,o,a,s,l,c,h,f,p,d,g,m,y,v,b,E=+Number.MAX_VALUE,_=-Number.MAX_VALUE,w=+Number.MAX_VALUE,S=-Number.MAX_VALUE,x=+Number.MAX_VALUE,T=-Number.MAX_VALUE,O=this.r,C=this.s,A=this.t,L=new u(0,0,0);i.principalAxesFromPoints(e,O,C,A);for(var P=0,R=e.length/3;P<R;P++)L[0]=e[3*P],L[1]=e[3*P+1],L[2]=e[3*P+2],E>(n=L.dot(O))&&(E=n),_<n&&(_=n),w>(o=L.dot(C))&&(w=o),S<o&&(S=o),x>(a=L.dot(A))&&(x=a),T<a&&(T=a);return _===E&&(_=E+1),S===w&&(S=w+1),T===x&&(T=x+1),s=_-E,l=S-w,c=T-x,h=_+E,f=S+w,p=T+x,d=.5*O[0]*s,g=.5*O[1]*s,m=.5*O[2]*s,y=.5*(O[0]*h+C[0]*f+A[0]*p),v=.5*(O[1]*h+C[1]*f+A[1]*p),b=.5*(O[2]*h+C[2]*f+A[2]*p),this.center[0]=y,this.center[1]=v,this.center[2]=b,this.topCenter[0]=y+d,this.topCenter[1]=v+g,this.topCenter[2]=b+m,this.bottomCenter[0]=y-d,this.bottomCenter[1]=v-g,this.bottomCenter[2]=b-m,O.multiply(s),C.multiply(l),A.multiply(c),this.radius=.5*Math.sqrt(s*s+l*l+c*c),this},h.prototype.setToVec3Points=function(e){if(!e||0===e.length)throw new t(r.logMessage(r.LEVEL_SEVERE,"BoundingBox","setToVec3Points","missingArray"));for(var n=new Float32Array(3*e.length),i=0;i<e.length;i++)for(var o=e[i],a=0;a<3;a++)n[3*i+a]=o[a];return this.setToPoints(n)},h.prototype.setToSector=function(e,n,i,o){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"BoundingBox","setToSector","missingSector"));if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"BoundingBox","setToSector","missingGlobe"));var a=this.scratchElevations,s=this.scratchPoints;c.fillArray(a,o),a[0]=a[2]=a[6]=a[8]=i,n.computePointsForGrid(e,3,3,a,u.ZERO,s),this.tmp1.set(s[12],s[13],s[14]),l.localCoordinateAxesAtPoint(this.tmp1,n,this.r,this.s,this.t);for(var h=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],f=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],p=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],d=0,g=s.length;d<g;d+=3)this.tmp1.set(s[d],s[d+1],s[d+2]),this.adjustExtremes(this.r,h,this.s,f,this.t,p,this.tmp1);e.deltaLongitude()>180&&(n.computePointFromPosition(e.centroidLatitude(),e.centroidLongitude()+90,o,this.tmp1),n.computePointFromPosition(e.centroidLatitude(),e.centroidLongitude()-90,o,this.tmp2),this.adjustExtremes(this.r,h,this.s,f,this.t,p,this.tmp1),this.adjustExtremes(this.r,h,this.s,f,this.t,p,this.tmp2)),h[1]-h[0]<f[1]-f[0]&&this.swapAxes(this.r,h,this.s,f),f[1]-f[0]<p[1]-p[0]&&this.swapAxes(this.s,f,this.t,p),h[1]-h[0]<f[1]-f[0]&&this.swapAxes(this.r,h,this.s,f);var m=h[1]-h[0],y=f[1]-f[0],v=p[1]-p[0],b=h[1]+h[0],E=f[1]+f[0],_=p[1]+p[0],w=.5*(this.r[0]*b+this.s[0]*E+this.t[0]*_),S=.5*(this.r[1]*b+this.s[1]*E+this.t[1]*_),x=.5*(this.r[2]*b+this.s[2]*E+this.t[2]*_),T=.5*this.r[0]*m,O=.5*this.r[1]*m,C=.5*this.r[2]*m;return this.center.set(w,S,x),this.topCenter.set(w+T,S+O,x+C),this.bottomCenter.set(w-T,S-O,x-C),this.r.multiply(m),this.s.multiply(y),this.t.multiply(v),this.radius=.5*Math.sqrt(m*m+y*y+v*v),this},h.prototype.translate=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"BoundingBox","translate","missingVector"));return this.bottomCenter.add(e),this.topCenter.add(e),this.center.add(e),this},h.prototype.distanceTo=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"BoundingBox","distanceTo","missingPoint"));var n=this.center.distanceTo(e)-this.radius;return n>=0?n:-n},h.prototype.effectiveRadius=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"BoundingBox","effectiveRadius","missingPlane"));var n=e.normal;return.5*(l.fabs(this.r.dot(n))+l.fabs(this.s.dot(n))+l.fabs(this.t.dot(n)))},h.prototype.intersectsFrustum=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"BoundingBox","intersectsFrustum","missingFrustum"));return this.tmp1.copy(this.bottomCenter),this.tmp2.copy(this.topCenter),!(this.intersectionPoint(e.near)<0)&&!(this.intersectionPoint(e.far)<0)&&!(this.intersectionPoint(e.left)<0)&&!(this.intersectionPoint(e.right)<0)&&!(this.intersectionPoint(e.top)<0)&&!(this.intersectionPoint(e.bottom)<0)},h.prototype.intersectionPoint=function(t){var e=t.normal,n=.5*(Math.abs(this.s.dot(e))+Math.abs(this.t.dot(e)));return this.intersectsAt(t,n,this.tmp1,this.tmp2)},h.prototype.intersectsAt=function(t,e,n,r){var i=t.dot(n),o=i<=-e,a=t.dot(r)<=-e;if(o&&a)return-1;if(o==a)return 0;this.tmp3.copy(n),this.tmp3.subtract(r);var s=(e+i)/t.normal.dot(this.tmp3);return this.tmp3.copy(r),this.tmp3.subtract(n),this.tmp3.multiply(s),this.tmp3.add(n),o?n.copy(this.tmp3):r.copy(this.tmp3),s},h.prototype.adjustExtremes=function(t,e,n,r,i,o,a){var s=a.dot(t);e[0]>s&&(e[0]=s),e[1]<s&&(e[1]=s);var u=a.dot(n);r[0]>u&&(r[0]=u),r[1]<u&&(r[1]=u);var l=a.dot(i);o[0]>l&&(o[0]=l),o[1]<l&&(o[1]=l)},h.prototype.swapAxes=function(t,e,n,r){t.swap(n);var i=e[0];e[0]=r[0],r[0]=i,i=e[1],e[1]=r[1],r[1]=i},h.prototype.render=function(t){var n=t.currentGlContext,r=h.scratchMatrix,i=t.findAndBindProgram(e);try{r.copy(t.modelviewProjection),r.multiply(this.r[0],this.s[0],this.t[0],this.center[0],this.r[1],this.s[1],this.t[1],this.center[1],this.r[2],this.s[2],this.t[2],this.center[2],0,0,0,1),r.multiplyByTranslation(-.5,-.5,-.5),i.loadModelviewProjection(n,r),n.disable(n.CULL_FACE),n.bindBuffer(n.ARRAY_BUFFER,t.unitCubeBuffer()),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.unitCubeElements()),n.enableVertexAttribArray(i.vertexPointLocation),n.vertexAttribPointer(i.vertexPointLocation,3,n.FLOAT,!1,0,0),i.loadColorComponents(n,0,1,0,.6),n.drawElements(n.LINES,24,n.UNSIGNED_SHORT,72),i.loadColorComponents(n,1,1,1,.3),n.drawElements(n.TRIANGLES,36,n.UNSIGNED_SHORT,0)}finally{n.enable(n.CULL_FACE),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}},h})),i("util/Tile",["../error/ArgumentError","../geom/BoundingBox","../util/Logger","../geom/Sector","../geom/Vec3","../util/WWUtil"],(function(t,e,n,r,i,o){"use strict";var a=function e(r,i,o,a){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","constructor","missingSector"));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","constructor","The specified level is null or undefined."));if(o<0||a<0)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","constructor","The specified row or column is less than zero."));this.sector=r,this.level=i,this.row=o,this.column=a,this.tileWidth=i.tileWidth,this.tileHeight=i.tileHeight,this.texelSize=i.texelSize,this.tileKey=e.computeTileKey(i.levelNumber,o,a),this.extent=null,this.referencePoint=null,this.opacity=1,this.samplePoints=null,this.sampleElevations=null,this.updateTimestamp=null,this.updateVerticalExaggeration=null,this.updateGlobeStateKey=null};return a.prototype.isEqual=function(t){return!!t&&!!t.tileKey&&this.tileKey==t.tileKey},a.prototype.size=function(){return 828},a.prototype.distanceTo=function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","distanceTo","missingVector"));for(var r,i,o,a=e[0],s=e[1],u=e[2],l=this.samplePoints,c=Number.POSITIVE_INFINITY,h=0,f=l.length;h<f;h+=3)r=a-l[h],i=s-l[h+1],o=u-l[h+2],c=Math.min(c,r*r+i*i+o*o);return Math.sqrt(c)},a.prototype.subdivide=function(e,i){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","subdivide","The specified level is null or undefined."));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","subdivide","The specified tile factory is null or undefined."));var o,a,s,u=this.sector.minLatitude,l=this.sector.maxLatitude,c=this.sector.centroidLatitude(),h=this.sector.minLongitude,f=this.sector.maxLongitude,p=this.sector.centroidLongitude(),d=[];return o=2*this.row,a=2*this.column,s=new r(u,c,h,p),d.push(i.createTile(s,e,o,a)),o=2*this.row,a=2*this.column+1,s=new r(u,c,p,f),d.push(i.createTile(s,e,o,a)),o=2*this.row+1,a=2*this.column,s=new r(c,l,h,p),d.push(i.createTile(s,e,o,a)),o=2*this.row+1,a=2*this.column+1,s=new r(c,l,p,f),d.push(i.createTile(s,e,o,a)),d},a.prototype.subdivideToCache=function(e,r,i){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","subdivideToCache","The specified level is null or undefined."));if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","subdivideToCache","The specified tile factory is null or undefined."));var o=i?i.entryForKey(this.tileKey):null;return o||(o=this.subdivide(e,r))&&i&&i.putEntry(this.tileKey,o,4*o[0].size()),o},a.prototype.mustSubdivide=function(t,e){var n=t.globe.equatorialRadius*this.texelSize,r=this.distanceTo(t.eyePoint);return n>e*t.pixelSizeAtDistance(r)},a.prototype.update=function(t){var e=t.globe.elevationTimestamp(),n=t.verticalExaggeration,r=t.globeStateKey;this.updateTimestamp==e&&this.updateVerticalExaggeration==n&&this.updateGlobeStateKey==r||(this.doUpdate(t),t.frameStatistics.incrementTileUpdateCount(1),this.updateTimestamp=e,this.updateVerticalExaggeration=n,this.updateGlobeStateKey=r)},a.prototype.doUpdate=function(t){var n=t.globe,r=t.verticalExaggeration,a=n.minAndMaxElevationsForSector(this.sector),s=a[0]*r,u=a[1]*r;s===u&&(s=u+10),this.extent||(this.extent=new e),this.extent.setToSector(this.sector,n,s,u),this.samplePoints||(this.sampleElevations=new Float64Array(9),this.samplePoints=new Float64Array(3*this.sampleElevations.length)),o.fillArray(this.sampleElevations,.5*(s+u)),n.computePointsForGrid(this.sector,3,3,this.sampleElevations,i.ZERO,this.samplePoints),this.referencePoint||(this.referencePoint=new i(0,0,0)),n.computePointFromPosition(this.sector.centroidLatitude(),this.sector.centroidLongitude(),0,this.referencePoint)},a.computeTileKey=function(t,e,n){return t+"."+e+"."+n},a.computeRow=function(t,e){var n=Math.floor((e+90)/t);return 90==e&&(n-=1),n},a.computeColumn=function(t,e){var n=Math.floor((e+180)/t);return 180==e&&(n-=1),n},a.computeLastRow=function(t,e){var n=Math.ceil((e+90)/t-1);return e+90<t&&(n=0),n},a.computeLastColumn=function(t,e){var n=Math.ceil((e+180)/t-1);return e+180<t&&(n=0),n},a.computeSector=function(e,i,o){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","computeSector","missingLevel"));if(i<0||o<0)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","computeSector","The specified row or column is less than zero."));var a=e.tileDelta.latitude,s=e.tileDelta.longitude,u=i*a-90,l=o*s-180;return new r(u,u+a,l,l+s)},a.createTilesForLevel=function(e,i,o){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","createTilesForLevel","missingLevel"));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","createTilesForLevel","The specified tile factory is null or undefined"));if(!o)throw new t(n.logMessage(n.LEVEL_SEVERE,"Tile","createTilesForLevel","missingResult"));for(var s,u,l,c=e.tileDelta.latitude,h=e.tileDelta.longitude,f=e.sector,p=a.computeRow(c,f.minLatitude),d=a.computeRow(c,f.maxLatitude),g=a.computeColumn(h,f.minLongitude),m=a.computeColumn(h,f.maxLongitude),y=g*h-180,v=p*c-90,b=p;b<=d;b+=1){u=v+c,s=y;for(var E=g;E<=m;E+=1){var _=new r(v,u,s,l=s+h),w=i.createTile(_,e,b,E);o.push(w),s=l}v=u}},a})),i("globe/TiledElevationCoverage",["../formats/aaigrid/AAIGridReader","../util/AbsentResourceList","../geom/Angle","../error/ArgumentError","../globe/ElevationCoverage","../globe/ElevationImage","../formats/geotiff/GeoTiffReader","../util/LevelSet","../geom/Location","../util/Logger","../cache/MemoryCache","../geom/Sector","../util/Tile","../util/WWMath","../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d){"use strict";var g=function(t){if(!t)throw new r(l.logMessage(l.LEVEL_SEVERE,"TiledElevationCoverage","constructor","missingConfig"));if(!t.coverageSector)throw new r(l.logMessage(l.LEVEL_SEVERE,"TiledElevationCoverage","constructor","missingSector"));if(!t.resolution)throw new r(l.logMessage(l.LEVEL_SEVERE,"TiledElevationCoverage","constructor","missingResolution"));if(!t.retrievalImageFormat)throw new r(l.logMessage(l.LEVEL_SEVERE,"TiledElevationCoverage","constructor","missingImageFormat"));i.call(this,t.resolution);var n=s.numLevelsForResolution(45/256,t.resolution),o=Math.ceil(n);this.coverageSector=t.coverageSector,this.retrievalImageFormat=t.retrievalImageFormat,this.minElevation=t.minElevation||0,this.maxElevation=t.maxElevation||0,this.pixelIsPoint=!1,this.levels=new s(this.coverageSector,new u(45,45),o,256,256),this.currentTiles=[],this.currentSector=new h(0,0,0,0),this.tileCache=new c(1e6,8e5),this.imageCache=new c(1e7,8e6),this.retrievalQueueSize=WorldWind.configuration.coverageRetrievalQueueSize,this.currentRetrievals=[],this.absentResourceList=new e(3,5e3),this.urlBuilder=t.urlBuilder||null};return(g.prototype=Object.create(i.prototype)).minAndMaxElevationsForSector=function(t,e){if(!t)throw new r(l.logMessage(l.LEVEL_SEVERE,"TiledElevationCoverage","minAndMaxElevationsForSector","missingSector"));if(!e)throw new r(l.logMessage(l.LEVEL_SEVERE,"TiledElevationCoverage","minAndMaxElevationsForSector","missingResult"));var i=this.levels.levelForTexelSize(t.deltaLatitude()*n.DEGREES_TO_RADIANS/64);if(this.assembleTiles(i,t,!1),0===this.currentTiles.length)return!1;for(var o=!0,a=0,s=this.currentTiles.length;a<s;a++){var u=this.imageCache.entryForKey(this.currentTiles[a].tileKey);if(u&&u.hasData){var c=u.minElevation;e[0]>c&&(e[0]=c);var h=u.maxElevation;e[1]<h&&(e[1]=h)}u&&u.hasData&&!u.hasMissingData||(o=!1)}return o},g.prototype.elevationAtLocation=function(t,e){return this.coverageSector.containsLocation(t,e)?this.pointElevationForLocation(t,e):null},g.prototype.elevationsForGrid=function(t,e,i,o){if(!t)throw new r(l.logMessage(l.LEVEL_SEVERE,"TiledElevationCoverage","elevationsForGrid","missingSector"));if(!e||!i||e<1||i<1)throw new r(l.logMessage(l.LEVEL_SEVERE,"TiledElevationCoverage","elevationsForGrid","The specified number of latitudinal or longitudinal positions is less than one."));var a=t.deltaLatitude()/(e-1)*n.DEGREES_TO_RADIANS,s=this.levels.levelForTexelSize(a);return this.pixelIsPoint?this.pointElevationsForGrid(t,e,i,s,o):this.areaElevationsForGrid(t,e,i,s,o)},g.prototype.pointElevationForLocation=function(t,e){for(var n,r=this.levels.lastLevel(),i=r.tileDelta.latitude,o=r.tileDelta.longitude,a=f.computeRow(i,t),s=f.computeColumn(o,e),u=null,l=r.levelNumber;l>=0;l--){if(n=f.computeTileKey(l,a,s),u=this.imageCache.entryForKey(n)){var c=u.elevationAtLocation(t,e);return isNaN(c)?null:c}a=Math.floor(a/2),s=Math.floor(s/2)}return null},g.prototype.pointElevationsForGrid=function(t,e,n,r,i){if(this.assembleTiles(r,t,!0),0===this.currentTiles.length)return!1;this.currentTiles.sort((function(t,e){return t.level.levelNumber-e.level.levelNumber}));for(var o=0,a=this.currentTiles.length;o<a;o++){var s=this.imageCache.entryForKey(this.currentTiles[o].tileKey);s&&s.elevationsForGrid(t,e,n,i)}return!d.arrayIncludes(i,NaN)},g.prototype.areaElevationsForGrid=function(t,e,n,r,i){var o,a,s,u,l,c,h=t.minLatitude,f=t.maxLatitude,p=t.minLongitude,g=t.maxLongitude,m=t.deltaLatitude()/(e>1?e-1:1),y=t.deltaLongitude()/(n>1?n-1:1),v=0;for(l=0,o=h;l<e;l+=1,o+=m)for(l===e-1&&(o=f),c=0,a=p;c<n;c+=1,a+=y)c===n-1&&(a=g),isNaN(i[v])&&this.coverageSector.containsLocation(o,a)&&(s=(a+180)/360,u=(o+90)/180,this.areaElevationForCoord(s,u,r.levelNumber,i,v)),v++;return!d.arrayIncludes(i,NaN)},g.prototype.areaElevationForCoord=function(t,e,n,r,i){for(var a,s,u,l,c,h,f,d,g,m,y,v,b,E,_,w=new Float64Array(4),S=n;S>=0;S--)if(a=this.levels.level(S),s=Math.round(360*a.tileWidth/a.tileDelta.longitude),c=1-(l=1/(2*(u=Math.round(180*a.tileHeight/a.tileDelta.latitude)))),h=u-1,f=s*p.fract(t),d=u*p.clamp(e,l,c),g=p.mod(Math.floor(f-.5),s),m=p.mod(g+1,s),y=p.clamp(Math.floor(d-.5),0,h),v=p.clamp(y+1,0,h),b=p.fract(f-.5),E=p.fract(d-.5),_=S==n||0==S,this.lookupPixels(g,m,y,v,a,_,w))return!o.isNoData(w[0],w[1],w[2],w[3])&&(r[i]=(1-b)*(1-E)*w[0]+b*(1-E)*w[1]+(1-b)*E*w[2]+b*E*w[3],!0);return!1},g.prototype.lookupPixels=function(t,e,n,r,i,o,a){var s,u,l,c,h=i.levelNumber,f=i.tileWidth,p=i.tileHeight,d=Math.floor(n/p),g=Math.floor(r/p),m=Math.floor(t/f),y=Math.floor(e/f);return d==g&&d==this.cachedRow&&m==y&&m==this.cachedCol?s=u=l=c=this.cachedImage:d==g&&m==y?(u=l=c=s=this.lookupImage(h,d,m,o),this.cachedRow=d,this.cachedCol=m,this.cachedImage=s):(s=this.lookupImage(h,d,m,o),u=this.lookupImage(h,d,y,o),l=this.lookupImage(h,g,m,o),c=this.lookupImage(h,g,y,o)),!!(s&&u&&l&&c)&&(a[0]=s.pixel(t%f,n%p),a[1]=u.pixel(e%f,n%p),a[2]=l.pixel(t%f,r%p),a[3]=c.pixel(e%f,r%p),!0)},g.prototype.lookupImage=function(t,e,n,r){var i=f.computeTileKey(t,e,n),o=this.imageCache.entryForKey(i);if(null==o&&r){var a=this.tileForLevel(t,e,n);this.retrieveTileImage(a)}return o},g.prototype.assembleTiles=function(t,e,n){if(this.currentTiles=[],this.currentSector.copy(e),this.currentSector.intersection(this.coverageSector),!this.currentSector.isEmpty())for(var r=t.tileDelta.latitude,i=t.tileDelta.longitude,o=f.computeRow(r,this.currentSector.minLatitude),a=f.computeLastRow(r,this.currentSector.maxLatitude),s=f.computeColumn(i,this.currentSector.minLongitude),u=f.computeLastColumn(i,this.currentSector.maxLongitude),l=o;l<=a;l++)for(var c=s;c<=u;c++)this.addTileOrAncestor(t,l,c,n)},g.prototype.addTileOrAncestor=function(t,e,n,r){var i=this.tileForLevel(t.levelNumber,e,n);this.isTileImageInMemory(i)?this.addToCurrentTiles(i):(r&&this.retrieveTileImage(i),t.isFirstLevel()?this.currentTiles.push(i):this.addAncestor(t,e,n,r))},g.prototype.addAncestor=function(t,e,n,r){for(var i=null,o=Math.floor(e/2),a=Math.floor(n/2),s=t.levelNumber-1;s>=0;s--){if(i=this.tileForLevel(s,o,a),this.isTileImageInMemory(i))return void this.addToCurrentTiles(i);o=Math.floor(o/2),a=Math.floor(a/2)}this.addToCurrentTiles(i),r&&this.retrieveTileImage(i)},g.prototype.addToCurrentTiles=function(t){this.currentTiles.push(t)},g.prototype.tileForLevel=function(t,e,n){var r=f.computeTileKey(t,e,n),i=this.tileCache.entryForKey(r);if(i)return i;var o=this.levels.level(t),a=f.computeSector(o,e,n);return i=new f(a,o,e,n),this.tileCache.putEntry(r,i,i.size()),i},g.prototype.isTileImageInMemory=function(t){return this.imageCache.containsKey(t.tileKey)},g.prototype.resourceUrlForTile=function(t){return this.urlBuilder.urlForTile(t,this.retrievalImageFormat)},g.prototype.retrieveTileImage=function(t){if(this.currentRetrievals.indexOf(t.tileKey)<0){if(this.currentRetrievals.length>this.retrievalQueueSize)return;var e=this.resourceUrlForTile(t,this.retrievalImageFormat),n=new XMLHttpRequest,r=this;if(!e)return;n.open("GET",e,!0),n.responseType="arraybuffer",n.onreadystatechange=function(){if(4===n.readyState){r.removeFromCurrentRetrievals(t.tileKey);var i=n.getResponseHeader("content-type");if(200===n.status)if(i===r.retrievalImageFormat||"text/plain"===i||"application/octet-stream"===i||"multipart/related"===i.substring(0,17)){l.log(l.LEVEL_INFO,"Elevations retrieval succeeded: "+e),r.loadElevationImage(t,n),r.absentResourceList.unmarkResourceAbsent(t.tileKey);var o=document.createEvent("Event");o.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),window.dispatchEvent(o)}else"text/xml"===i?(r.absentResourceList.markResourceAbsent(t.tileKey),l.log(l.LEVEL_WARNING,"Elevations retrieval failed ("+n.statusText+"): "+e+".\n "+String.fromCharCode.apply(null,new Uint8Array(n.response)))):(r.absentResourceList.markResourceAbsent(t.tileKey),l.log(l.LEVEL_WARNING,"Elevations retrieval failed: "+e+". Unexpected content type "+i));else r.absentResourceList.markResourceAbsent(t.tileKey),l.log(l.LEVEL_WARNING,"Elevations retrieval failed ("+n.statusText+"): "+e)}},n.onerror=function(){r.removeFromCurrentRetrievals(t.tileKey),r.absentResourceList.markResourceAbsent(t.tileKey),l.log(l.LEVEL_WARNING,"Elevations retrieval failed: "+e)},n.ontimeout=function(){r.removeFromCurrentRetrievals(t.tileKey),r.absentResourceList.markResourceAbsent(t.tileKey),l.log(l.LEVEL_WARNING,"Elevations retrieval timed out: "+e)},n.send(null),this.currentRetrievals.push(t.tileKey)}},g.prototype.removeFromCurrentRetrievals=function(t){var e=this.currentRetrievals.indexOf(t);e>-1&&this.currentRetrievals.splice(e,1)},g.prototype.loadElevationImage=function(e,n){var r,i,s=new o(e.sector,e.tileWidth,e.tileHeight);"application/bil16"===this.retrievalImageFormat?(s.imageData=new Int16Array(n.response),s.size=2*s.imageData.length):"application/bil32"===this.retrievalImageFormat?(s.imageData=new Float32Array(n.response),s.size=4*s.imageData.length):"image/tiff"===this.retrievalImageFormat?(r=new a(n.response),s.imageData=r.getImageData(),s.size=s.imageData.length*r.metadata.bitsPerSample[0]/8):"image/x-aaigrid"===this.retrievalImageFormat&&(i=new t(n.response),s.imageData=i.getImageData(),s.size=s.imageData.length),s.imageData&&(s.findMinAndMaxElevation(),this.imageCache.putEntry(e.tileKey,s,s.size),this.timestamp=Date.now())},g})),i("util/WmsUrlBuilder",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function(n,r,i,o,a){if(!n||0===n.length)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsUrlBuilder","constructor","The WMS service address is missing."));if(!r||0===r.length)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsUrlBuilder","constructor","The WMS layer names are not specified."));this.serviceAddress=n,this.layerNames=r,this.styleNames=i||"",this.transparent=!0,this.wmsVersion=o&&o.length>0?o:"1.3.0",this.isWms130OrGreater=this.wmsVersion>="1.3.0",this.crs="EPSG:4326",this.timeString=a};return n.prototype.urlForTile=function(r,i){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsUrlBuilder","urlForTile","missingTile"));if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsUrlBuilder","urlForTile","The image format is null or undefined."));var o=r.sector,a=n.fixGetMapString(this.serviceAddress);return a.search(/service=wms/i)<0&&(a+="service=WMS"),a=(a=(a=(a=(a=(a=(a=(a+="&request=GetMap")+"&version="+this.wmsVersion)+"&transparent="+(this.transparent?"TRUE":"FALSE"))+"&layers="+this.layerNames)+"&styles="+this.styleNames)+"&format="+i)+"&width="+r.tileWidth)+"&height="+r.tileHeight,this.timeString&&(a=a+"&time="+this.timeString),this.isWms130OrGreater?(a=a+"&crs="+this.crs,a+="&bbox=",a="CRS:84"===this.crs?(a=a+o.minLongitude+","+o.minLatitude+",")+o.maxLongitude+","+o.maxLatitude:(a=a+o.minLatitude+","+o.minLongitude+",")+o.maxLatitude+","+o.maxLongitude):(a=a+"&srs="+this.crs,a=(a=(a+="&bbox=")+o.minLongitude+","+o.minLatitude+",")+o.maxLongitude+","+o.maxLatitude),a.replace(" ","%20")},n.fixGetMapString=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsUrlBuilder","fixGetMapString","The specified service address is null or undefined."));var r=n.indexOf("?");return r<0?n+="?":r!==n.length-1&&(r=n.search(/&$/))<0&&(n+="&"),n},n})),i("globe/AsterV2ElevationCoverage",["../geom/Location","../geom/Sector","../globe/TiledElevationCoverage","../util/WmsUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(){n.call(this,{coverageSector:new e(-83.0001,83.0001,-180,180),resolution:.000277777777778,retrievalImageFormat:"application/bil16",minElevation:-11e3,maxElevation:8850,urlBuilder:new r("https://worldwind26.arc.nasa.gov/elev","aster_v2","","1.3.0")}),this.displayName="ASTER V2 Earth Elevation Coverage"};return i.prototype=Object.create(n.prototype),i})),i("shaders/AtmosphereProgram",["../error/ArgumentError","../shaders/GpuProgram","../util/Logger"],(function(t,e,n){"use strict";var r=function(t,n,r,i){e.call(this,t,n,r,i),this.FRAGMODE_SKY=1,this.FRAGMODE_GROUND_PRIMARY=2,this.FRAGMODE_GROUND_SECONDARY=3,this.FRAGMODE_GROUND_PRIMARY_TEX_BLEND=4,this.altitude=16e4,this.rayleighScaleDepth=.25,this.fragModeLocation=this.uniformLocation(t,"fragMode"),this.mvpMatrixLocation=this.uniformLocation(t,"mvpMatrix"),this.texCoordMatrixLocation=this.uniformLocation(t,"texCoordMatrix"),this.vertexOriginLocation=this.uniformLocation(t,"vertexOrigin"),this.eyePointLocation=this.uniformLocation(t,"eyePoint"),this.eyeMagnitudeLocation=this.uniformLocation(t,"eyeMagnitude"),this.eyeMagnitude2Location=this.uniformLocation(t,"eyeMagnitude2"),this.lightDirectionLocation=this.uniformLocation(t,"lightDirection"),this.atmosphereRadiusLocation=this.uniformLocation(t,"atmosphereRadius"),this.atmosphereRadius2Location=this.uniformLocation(t,"atmosphereRadius2"),this.globeRadiusLocation=this.uniformLocation(t,"globeRadius"),this.scaleLocation=this.uniformLocation(t,"scale"),this.scaleDepthLocation=this.uniformLocation(t,"scaleDepth"),this.scaleOverScaleDepthLocation=this.uniformLocation(t,"scaleOverScaleDepth"),this.scratchArray9=new Float32Array(9)};return r.key="WorldWindGpuAtmosphereProgram",(r.prototype=Object.create(e.prototype)).getAltitude=function(){return this.altitude},r.prototype.loadFragMode=function(e,r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"AtmosphereProgram","loadFragMode","missingFragMode"));e.uniform1i(this.fragModeLocation,r)},r.prototype.loadModelviewProjection=function(e,r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"AtmosphereProgram","loadModelviewProjection","missingMatrix"));this.loadUniformMatrix(e,r,this.mvpMatrixLocation)},r.prototype.loadVertexOrigin=function(e,r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"AtmosphereProgram","loadVertexOrigin","missingVector"));e.uniform3f(this.vertexOriginLocation,r[0],r[1],r[2])},r.prototype.loadLightDirection=function(e,r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"AtmosphereProgram","loadLightDirection","missingVector"));e.uniform3f(this.lightDirectionLocation,r[0],r[1],r[2])},r.prototype.loadEyePoint=function(e,r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"AtmosphereProgram","loadEyePoint","missingVector"));e.uniform3f(this.eyePointLocation,r[0],r[1],r[2]),e.uniform1f(this.eyeMagnitudeLocation,r.magnitude()),e.uniform1f(this.eyeMagnitude2Location,r.magnitudeSquared())},r.prototype.loadGlobeRadius=function(e,r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"AtmosphereProgram","loadGlobeRadius","missingGlobeRadius"));var i=r,o=i+this.altitude;e.uniform1f(this.globeRadiusLocation,i),e.uniform1f(this.atmosphereRadiusLocation,o),e.uniform1f(this.atmosphereRadius2Location,o*o)},r.prototype.setScale=function(t){t.uniform1f(this.scaleLocation,1/this.getAltitude()),t.uniform1f(this.scaleDepthLocation,this.rayleighScaleDepth),t.uniform1f(this.scaleOverScaleDepthLocation,1/this.getAltitude()/this.rayleighScaleDepth)},r.prototype.loadTexMatrix=function(e,r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"AtmosphereProgram","loadTexMatrix","missingMatrix"));r.columnMajorComponents(this.scratchArray9),e.uniformMatrix3fv(this.texCoordMatrixLocation,!1,this.scratchArray9)},r})),i("shaders/GroundProgram",["../shaders/AtmosphereProgram"],(function(t){"use strict";var e=function(e){t.call(this,e,"precision mediump int;\nconst int FRAGMODE_GROUND_PRIMARY_TEX_BLEND = 4;\nconst int SAMPLE_COUNT = 2;\nconst float SAMPLES = 2.0;\nconst float PI = 3.141592653589;\nconst float Kr = 0.0025;\nconst float Kr4PI = Kr * 4.0 * PI;\nconst float Km = 0.0015;\nconst float Km4PI = Km * 4.0 * PI;\nconst float ESun = 15.0;\nconst float KmESun = Km * ESun;\nconst float KrESun = Kr * ESun;\nconst vec3 invWavelength = vec3(5.60204474633241, 9.473284437923038, 19.643802610477206);\nconst float rayleighScaleDepth = 0.25;\nuniform int fragMode;\nuniform mat4 mvpMatrix;\nuniform mat3 texCoordMatrix;\nuniform vec3 vertexOrigin;\nuniform vec3 eyePoint;\nuniform float eyeMagnitude;\nuniform float eyeMagnitude2;\nuniform vec3 lightDirection;\nuniform float atmosphereRadius;\nuniform float atmosphereRadius2;\nuniform float globeRadius;\nuniform float scale;\nuniform float scaleDepth;\nuniform float scaleOverScaleDepth;\nattribute vec4 vertexPoint;\nattribute vec2 vertexTexCoord;\nvarying vec3 primaryColor;\nvarying vec3 secondaryColor;\nvarying vec2 texCoord;\nfloat scaleFunc(float cos) {\n    float x = 1.0 - cos;\n    return scaleDepth * exp(-0.00287 + x*(0.459 + x*(3.83 + x*(-6.80 + x*5.25))));\n}\nvoid sampleGround() {\n    vec3 point = vertexPoint.xyz + vertexOrigin;\n    vec3 ray = point - eyePoint;\n    float far = length(ray);\n    ray /= far;\n    vec3 start;\n    if (eyeMagnitude < atmosphereRadius) {\n        start = eyePoint;\n    } else {\n        float B = 2.0 * dot(eyePoint, ray);\n        float C = eyeMagnitude2 - atmosphereRadius2;\n        float det = max(0.0, B*B - 4.0 * C);\n        float near = 0.5 * (-B - sqrt(det));\n        start = eyePoint + ray * near;\n        far -= near;\n}\n    float depth = exp((globeRadius - atmosphereRadius) / scaleDepth);\n    float eyeAngle = dot(-ray, point) / length(point);\n    float lightAngle = dot(lightDirection, point) / length(point);\n    float eyeScale = scaleFunc(eyeAngle);\n    float lightScale = scaleFunc(lightAngle);\n    float eyeOffset = depth*eyeScale;\n    float temp = (lightScale + eyeScale);\n    float sampleLength = far / SAMPLES;\n    float scaledLength = sampleLength * scale;\n    vec3 sampleRay = ray * sampleLength;\n    vec3 samplePoint = start + sampleRay * 0.5;\n    vec3 frontColor = vec3(0.0, 0.0, 0.0);\n    vec3 attenuate = vec3(0.0, 0.0, 0.0);\n    for(int i=0; i<SAMPLE_COUNT; i++)\n    {\n        float height = length(samplePoint);\n        float depth = exp(scaleOverScaleDepth * (globeRadius - height));\n        float scatter = depth*temp - eyeOffset;\n        attenuate = exp(-scatter * (invWavelength * Kr4PI + Km4PI));\n        frontColor += attenuate * (depth * scaledLength);\n        samplePoint += sampleRay;\n    }\n    primaryColor = frontColor * (invWavelength * KrESun + KmESun);\n    secondaryColor = attenuate;\n}\nvoid main()\n {\n    sampleGround();\n    gl_Position = mvpMatrix * vertexPoint;\n    if (fragMode == FRAGMODE_GROUND_PRIMARY_TEX_BLEND) {\n        texCoord = (texCoordMatrix * vec3(vertexTexCoord, 1.0)).st;\n    }\n}","precision mediump float;\nprecision mediump int;\nconst int FRAGMODE_GROUND_PRIMARY = 2;\nconst int FRAGMODE_GROUND_SECONDARY = 3;\nconst int FRAGMODE_GROUND_PRIMARY_TEX_BLEND = 4;\nuniform int fragMode;\nuniform sampler2D texSampler;\nvarying vec3 primaryColor;\nvarying vec3 secondaryColor;\nvarying vec2 texCoord;\nvoid main (void)\n{\n    if (fragMode == FRAGMODE_GROUND_PRIMARY) {\n        gl_FragColor = vec4(primaryColor, 1.0);\n    } else if (fragMode == FRAGMODE_GROUND_SECONDARY) {\n        gl_FragColor = vec4(secondaryColor, 1.0);\n    } else if (fragMode == FRAGMODE_GROUND_PRIMARY_TEX_BLEND) {\n        vec4 texColor = texture2D(texSampler, texCoord);\n        gl_FragColor = vec4(primaryColor + texColor.rgb * (1.0 - secondaryColor), 1.0);\n    }\n}",["vertexPoint","vertexTexCoord"])};return e.key="WorldWindGroundProgram",e.prototype=Object.create(t.prototype),e})),i("layer/Layer",["../util/Logger"],(function(t){"use strict";var e=function(t){this.displayName=t||"Layer",this.enabled=!0,this.pickEnabled=!0,this.opacity=1,this.minActiveAltitude=-Number.MAX_VALUE,this.maxActiveAltitude=Number.MAX_VALUE,this.inCurrentFrame=!1,this.time=null};return e.prototype.refresh=function(){},e.prototype.render=function(t){this.inCurrentFrame=!1,this.enabled&&(t.pickingMode&&!this.pickEnabled||this.withinActiveAltitudes(t)&&this.isLayerInView(t)&&this.doRender(t))},e.prototype.doRender=function(t){},e.prototype.withinActiveAltitudes=function(t){var e=t.eyePosition;return!!e&&e.altitude>=this.minActiveAltitude&&e.altitude<=this.maxActiveAltitude},e.prototype.isLayerInView=function(t){return!0},e})),i("geom/Matrix3",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function(t,e,n,r,i,o,a,s,u){this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u};return n.prototype=new Float64Array(9),n.fromIdentity=function(){return new n(1,0,0,0,1,0,0,0,1)},n.prototype.setToUnitYFlip=function(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=-1,this[5]=1,this[6]=0,this[7]=0,this[8]=1,this},n.prototype.multiplyMatrix=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"Matrix3","multiplyMatrix","missingMatrix"));var r,i,o,a=this,s=n;return r=a[0],i=a[1],o=a[2],a[0]=r*s[0]+i*s[3]+o*s[6],a[1]=r*s[1]+i*s[4]+o*s[7],a[2]=r*s[2]+i*s[5]+o*s[8],r=a[3],i=a[4],o=a[5],a[3]=r*s[0]+i*s[3]+o*s[6],a[4]=r*s[1]+i*s[4]+o*s[7],a[5]=r*s[2]+i*s[5]+o*s[8],r=a[6],i=a[7],o=a[8],a[6]=r*s[0]+i*s[3]+o*s[6],a[7]=r*s[1]+i*s[4]+o*s[7],a[8]=r*s[2]+i*s[5]+o*s[8],this},n.prototype.multiplyByTileTransform=function(t,e){var n=t.deltaLatitude(),r=t.deltaLongitude(),i=e.deltaLatitude(),o=e.deltaLongitude(),a=r/o,s=n/i,u=(t.minLongitude-e.minLongitude)/o,l=(t.minLatitude-e.minLatitude)/i,c=this;return c[2]+=c[0]*u+c[1]*l,c[5]+=c[3]*u+c[4]*l,c[8]+=c[6]*u+c[6]*l,c[0]*=a,c[1]*=s,c[3]*=a,c[4]*=s,c[6]*=a,c[7]*=s,this},n.prototype.columnMajorComponents=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"Matrix3","columnMajorComponents","missingResult"));return n[0]=this[0],n[1]=this[3],n[2]=this[6],n[3]=this[1],n[4]=this[4],n[5]=this[7],n[6]=this[2],n[7]=this[5],n[8]=this[8],n},n})),i("shaders/SkyProgram",["../shaders/AtmosphereProgram"],(function(t){"use strict";var e=function(e){t.call(this,e,"precision mediump int;\nconst int SAMPLE_COUNT = 2;\nconst float SAMPLES = 2.0;\nconst float PI = 3.141592653589;\nconst float Kr = 0.0025;\nconst float Kr4PI = Kr * 4.0 * PI;\nconst float Km = 0.0015;\nconst float Km4PI = Km * 4.0 * PI;\nconst float ESun = 15.0;\nconst float KmESun = Km * ESun;\nconst float KrESun = Kr * ESun;\nconst vec3 invWavelength = vec3(5.60204474633241, 9.473284437923038, 19.643802610477206);\nconst float rayleighScaleDepth = 0.25;\nuniform mat4 mvpMatrix;\nuniform vec3 vertexOrigin;\nuniform vec3 eyePoint;\nuniform float eyeMagnitude;\nuniform float eyeMagnitude2;\nuniform mediump vec3 lightDirection;\nuniform float atmosphereRadius;\nuniform float atmosphereRadius2;\nuniform float globeRadius;\nuniform float scale;\nuniform float scaleDepth;\nuniform float scaleOverScaleDepth;\nattribute vec4 vertexPoint;\nvarying vec3 primaryColor;\nvarying vec3 secondaryColor;\nvarying vec3 direction;\nfloat scaleFunc(float cos)\n{\n    float x = 1.0 - cos;\n    return scaleDepth * exp(-0.00287 + x*(0.459 + x*(3.83 + x*(-6.80 + x*5.25))));\n}\nvoid sampleSky() {\n    vec3 point = vertexPoint.xyz + vertexOrigin;\n    vec3 ray = point - eyePoint;\n    float far = length(ray);\n    ray /= far;\n    vec3 start;\n    float startOffset;\n    if (eyeMagnitude < atmosphereRadius) {\n        start = eyePoint;\n        float height = length(start);\n        float depth = exp(scaleOverScaleDepth * (globeRadius - eyeMagnitude));\n        float startAngle = dot(ray, start) / height;\n        startOffset = depth*scaleFunc(startAngle);\n    } else {\n        float B = 2.0 * dot(eyePoint, ray);\n        float C = eyeMagnitude2 - atmosphereRadius2;\n        float det = max(0.0, B*B - 4.0 * C);\n        float near = 0.5 * (-B - sqrt(det));\n        start = eyePoint + ray * near;\n        far -= near;\n        float startAngle = dot(ray, start) / atmosphereRadius;\n        float startDepth = exp(-1.0 / scaleDepth);\n        startOffset = startDepth*scaleFunc(startAngle);\n    }\n    float sampleLength = far / SAMPLES;\n    float scaledLength = sampleLength * scale;\n    vec3 sampleRay = ray * sampleLength;\n    vec3 samplePoint = start + sampleRay * 0.5;\n    vec3 frontColor = vec3(0.0, 0.0, 0.0);\n    for(int i=0; i<SAMPLE_COUNT; i++)\n    {\n       float height = length(samplePoint);\n       float depth = exp(scaleOverScaleDepth * (globeRadius - height));\n       float lightAngle = dot(lightDirection, samplePoint) / height;\n       float cameraAngle = dot(ray, samplePoint) / height;\n       float scatter = (startOffset + depth*(scaleFunc(lightAngle) - scaleFunc(cameraAngle)));\n       vec3 attenuate = exp(-scatter * (invWavelength * Kr4PI + Km4PI));\n       frontColor += attenuate * (depth * scaledLength);\n       samplePoint += sampleRay;\n    }\n    primaryColor = frontColor * (invWavelength * KrESun);\n    secondaryColor = frontColor * KmESun;\n    direction = eyePoint - point;\n}\nvoid main()\n{\n    sampleSky();\n    gl_Position = mvpMatrix * vertexPoint;\n}","#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nconst float g = -0.95;\nconst float g2 = g * g;\nuniform mediump vec3 lightDirection;\nvarying vec3 primaryColor;\nvarying vec3 secondaryColor;\nvarying vec3 direction;\nvoid main (void)\n{\n    float cos = dot(lightDirection, direction) / length(direction);\n    float rayleighPhase = 0.75 * (1.0 + cos * cos);\n    float miePhase = 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + cos*cos) /         pow(1.0 + g2 - 2.0*g*cos, 1.5);\n    const float exposure = 2.0;\n    vec3 color = primaryColor * rayleighPhase + secondaryColor * miePhase;\n    color = vec3(1.0) - exp(-exposure * color);\n    gl_FragColor = vec4(color, color.b);\n}",["vertexPoint"])};return e.key="WorldWindSkyProgram",e.prototype=Object.create(t.prototype),e})),i("util/SunPosition",["../geom/Angle","../error/ArgumentError","./Logger","./WWMath"],(function(t,e,n,r){"use strict";return{getAsGeographicLocation:function(t){if(t instanceof Date==0)throw new e(n.logMessage(n.LEVEL_SEVERE,"SunPosition","getAsGeographicLocation","missingDate"));var r=this.getAsCelestialLocation(t);return this.celestialToGeographic(r,t)},getAsCelestialLocation:function(i){if(i instanceof Date==0)throw new e(n.logMessage(n.LEVEL_SEVERE,"SunPosition","getAsCelestialLocation","missingDate"));var o=this.computeJulianDate(i)-2451545,a=r.normalizeAngle360(280.46+.9856474*o),s=r.normalizeAngle360(357.528+.9856003*o)*t.DEGREES_TO_RADIANS,u=a+1.915*Math.sin(s)+.02*Math.sin(2*s),l=u*t.DEGREES_TO_RADIANS,c=(23.439-4e-7*o)*t.DEGREES_TO_RADIANS,h=Math.asin(Math.sin(c)*Math.sin(l))*t.RADIANS_TO_DEGREES,f=Math.atan(Math.cos(c)*Math.tan(l))*t.RADIANS_TO_DEGREES;return u>=90&&u<270&&(f+=180),{declination:h,rightAscension:f=r.normalizeAngle360(f)}},celestialToGeographic:function(i,o){if(!i)throw new e(n.logMessage(n.LEVEL_SEVERE,"SunPosition","celestialToGeographic","missingCelestialLocation"));if(o instanceof Date==0)throw new e(n.logMessage(n.LEVEL_SEVERE,"SunPosition","celestialToGeographic","missingDate"));var a=this.computeJulianDate(o)-2451545,s=r.normalizeAngle360(280.46061837+360.98564736629*a),u=r.normalizeAngle360(s-i.rightAscension),l=t.normalizedDegreesLongitude(-u);return{latitude:i.declination,longitude:l}},computeJulianDate:function(t){if(t instanceof Date==0)throw new e(n.logMessage(n.LEVEL_SEVERE,"SunPosition","computeJulianDate","missingDate"));var r=t.getUTCFullYear(),i=t.getUTCMonth()+1,o=t.getUTCDate(),a=(t.getUTCHours()+t.getUTCMinutes()/60+t.getUTCSeconds()/3600)/24;i<=2&&(r-=1,i+=12);var s=Math.floor(r/100),u=2-s+Math.floor(s/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(i+1))+o+u-1524.5+a}}})),i("layer/AtmosphereLayer",["../error/ArgumentError","../shaders/GroundProgram","../layer/Layer","../util/Logger","../geom/Matrix","../geom/Matrix3","../geom/Sector","../shaders/SkyProgram","../util/SunPosition","../geom/Vec3","../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c){"use strict";var h=function(t){n.call(this,"Atmosphere"),this.pickEnabled=!1,this._nightImageSource=t||WorldWind.configuration.baseUrl+"images/dnb_land_ocean_ice_2012.png",this._activeLightDirection=new l(0,0,0),this._fullSphereSector=a.FULL_SPHERE,this._skyData={},this._skyWidth=128,this._skyHeight=128,this._numIndices=0,this._texMatrix=o.fromIdentity(),this._activeTexture=null};return h.prototype=Object.create(n.prototype),Object.defineProperties(h.prototype,{nightImageSource:{get:function(){return this._nightImageSource},set:function(t){this._nightImageSource=t}}}),h.prototype.doRender=function(t){t.globe.is2D()||(this.determineLightDirection(t),this.drawSky(t),this.drawGround(t))},h.prototype.applySkyVertices=function(t){var e,n,r=t.currentGlContext,i=t.currentProgram,o=this._skyData;o.verticesVboCacheKey||(o.verticesVboCacheKey=t.gpuResourceCache.generateCacheKey()),(n=t.gpuResourceCache.resourceForKey(o.verticesVboCacheKey))?(r.bindBuffer(r.ARRAY_BUFFER,n),r.vertexAttribPointer(0,3,r.FLOAT,!1,0,0)):(e=this.assembleVertexPoints(t,this._skyHeight,this._skyWidth,i.getAltitude()),n=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW),r.vertexAttribPointer(0,3,r.FLOAT,!1,0,0),t.gpuResourceCache.putResource(o.verticesVboCacheKey,n,4*e.length),t.frameStatistics.incrementVboLoadCount(1))},h.prototype.applySkyIndices=function(t){var e,n,r=t.currentGlContext,i=this._skyData;i.indicesVboCacheKey||(i.indicesVboCacheKey=t.gpuResourceCache.generateCacheKey()),(n=t.gpuResourceCache.resourceForKey(i.indicesVboCacheKey))?r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n):(e=this.assembleTriStripIndices(this._skyWidth,this._skyHeight),n=r.createBuffer(),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e,r.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),t.gpuResourceCache.putResource(i.indicesVboCacheKey,n,2*e.length))},h.prototype.drawSky=function(t){var e=t.currentGlContext,n=t.findAndBindProgram(s);n.loadGlobeRadius(e,t.globe.equatorialRadius),n.loadEyePoint(e,t.eyePoint),n.loadVertexOrigin(e,l.ZERO),n.loadModelviewProjection(e,t.modelviewProjection),n.loadLightDirection(e,this._activeLightDirection),n.setScale(e),this.applySkyVertices(t),this.applySkyIndices(t),e.depthMask(!1),e.frontFace(e.CW),e.enableVertexAttribArray(0),e.drawElements(e.TRIANGLE_STRIP,this._numIndices,e.UNSIGNED_SHORT,0),e.depthMask(!0),e.frontFace(e.CCW),e.disableVertexAttribArray(0)},h.prototype.drawGround=function(t){if(t.terrain){var n,r=t.currentGlContext,i=t.findAndBindProgram(e),o=t.terrain;i.loadGlobeRadius(r,t.globe.equatorialRadius),i.loadEyePoint(r,t.eyePoint),i.loadLightDirection(r,this._activeLightDirection),i.setScale(r),this.nightImageSource&&null!==this.time&&(this._activeTexture=t.gpuResourceCache.resourceForKey(this.nightImageSource),this._activeTexture||(this._activeTexture=t.gpuResourceCache.retrieveTexture(r,this.nightImageSource)),n=this._activeTexture&&this._activeTexture.bind(t)),o.beginRendering(t);for(var a=0,s=o.surfaceGeometry.length;a<s;a++){var u=o.surfaceGeometry[a],l=u.referencePoint;i.loadVertexOrigin(r,l),n&&(this._texMatrix.setToUnitYFlip(),this._texMatrix.multiplyByTileTransform(u.sector,this._fullSphereSector),i.loadTexMatrix(r,this._texMatrix)),o.beginRenderingTile(t,u),i.loadFragMode(r,i.FRAGMODE_GROUND_SECONDARY),r.blendFunc(r.DST_COLOR,r.ZERO),o.renderTile(t,u);var c=n?i.FRAGMODE_GROUND_PRIMARY_TEX_BLEND:i.FRAGMODE_GROUND_PRIMARY;i.loadFragMode(r,c),r.blendFunc(r.ONE,r.ONE),o.renderTile(t,u),o.endRenderingTile(t,u)}o.endRendering(t),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),this._activeTexture=null}},h.prototype.assembleVertexPoints=function(t,e,n,r){var i=e*n,o=new Array(i);c.fillArray(o,r);var a=new Float32Array(3*i);return t.globe.computePointsForGrid(this._fullSphereSector,e,n,o,l.ZERO,a)},h.prototype.assembleTriStripIndices=function(t,e){for(var n=[],r=0,i=0;i<t-1;i++){for(var o=0;o<e;o++)r=o+i*e,n.push(r+e),n.push(r);i<t-2&&(n.push(r),n.push((i+2)*e))}return this._numIndices=n.length,new Uint16Array(n)},h.prototype.determineLightDirection=function(t){if(null!==this.time){var e=u.getAsGeographicLocation(this.time);t.globe.computePointFromLocation(e.latitude,e.longitude,this._activeLightDirection)}else this._activeLightDirection.copy(t.eyePoint);this._activeLightDirection.normalize()},h})),i("util/BasicTimeSequence",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function(n){if(!n&&n.length<2)throw new t(e.logMessage(e.LEVEL_SEVERE,"BasicTimeSequence","constructor","missingDates"));this.dates=n,this.currentIndex=0,this.currentTime=n[0]};return Object.defineProperties(n.prototype,{scaleForCurrentTime:{get:function(){return this.currentTime?this.currentIndex/this.dates.length:1}}}),n.prototype.next=function(){return this.currentIndex>=this.dates.length-1?null:(this.currentIndex++,this.currentTime=this.dates[this.currentIndex],this.currentTime)},n.prototype.previous=function(){return this.currentIndex<=0?null:(this.currentIndex--,this.currentTime=this.dates[this.currentIndex],this.currentTime)},n.prototype.reset=function(){this.currentIndex=-1,this.currentTime=null},n.prototype.getTimeForScale=function(t){return this.currentIndex=t<=0?0:t>=1?this.dates.length-1:Math.floor(this.dates.length*t),this.currentTime=this.dates[this.currentIndex],this.currentTime},n})),i("gesture/Touch",[],(function(){"use strict";var t=function(t,e,n){this.identifier=t,this._clientX=e,this._clientY=n,this._clientStartX=e,this._clientStartY=n};return Object.defineProperties(t.prototype,{clientX:{get:function(){return this._clientX},set:function(t){this._clientX=t}},clientY:{get:function(){return this._clientY},set:function(t){this._clientY=t}},translationX:{get:function(){return this._clientX-this._clientStartX},set:function(t){this._clientStartX=this._clientX-t}},translationY:{get:function(){return this._clientY-this._clientStartY},set:function(t){this._clientStartY=this._clientY-t}}}),t})),i("gesture/GestureRecognizer",["../error/ArgumentError","../util/Logger","../gesture/Touch"],(function(t,e,n){"use strict";var r=function n(r,i){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"GestureRecognizer","constructor","missingTarget"));this.target=r,this.enabled=!0,this._state=WorldWind.POSSIBLE,this._nextState=null,this._clientX=0,this._clientY=0,this._clientStartX=0,this._clientStartY=0,this._translationX=0,this._translationY=0,this._translationWeight=.4,this._mouseButtonMask=0,this._touches=[],this._touchCentroidShiftX=0,this._touchCentroidShiftY=0,this._gestureCallbacks=[],this._canRecognizeWith=[],this._requiresFailureOf=[],this._requiredToFailBy=[],i&&this._gestureCallbacks.push(i),this.listenerList=[],n.allRecognizers.push(this)};return r.allRecognizers=[],Object.defineProperties(r.prototype,{state:{get:function(){return this._state},set:function(t){this.transitionToState(t)}},clientX:{get:function(){return this._clientX},set:function(t){this._clientX=t}},clientY:{get:function(){return this._clientY},set:function(t){this._clientY=t}},translationX:{get:function(){return this._translationX},set:function(t){this._translationX=t,this._clientStartX=this._clientX,this._touchCentroidShiftX=0}},translationY:{get:function(){return this._translationY},set:function(t){this._translationY=t,this._clientStartY=this._clientY,this._touchCentroidShiftY=0}},mouseButtonMask:{get:function(){return this._mouseButtonMask}},touchCount:{get:function(){return this._touches.length}},gestureCallbacks:{get:function(){return this._gestureCallbacks}}}),r.prototype.touch=function(n){if(n<0||n>=this._touches.length)throw new t(e.logMessage(e.LEVEL_SEVERE,"GestureRecognizer","touch","indexOutOfRange"));return this._touches[n]},r.prototype.recognizeSimultaneouslyWith=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"GestureRecognizer","recognizeSimultaneouslyWith","The specified gesture recognizer is null or undefined."));-1==this._canRecognizeWith.indexOf(n)&&(this._canRecognizeWith.push(n),n._canRecognizeWith.push(this))},r.prototype.canRecognizeSimultaneouslyWith=function(t){return-1!=this._canRecognizeWith.indexOf(t)},r.prototype.requireRecognizerToFail=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"GestureRecognizer","requireRecognizerToFail","The specified gesture recognizer is null or undefined"));-1==this._requiresFailureOf.indexOf(n)&&(this._requiresFailureOf.push(n),n._requiredToFailBy.push(this))},r.prototype.requiresRecognizerToFail=function(t){return-1!=this._requiresFailureOf.indexOf(t)},r.prototype.requiredToFailByRecognizer=function(t){return-1!=this._requiredToFailBy.indexOf(t)},r.prototype.reset=function(){this._state=WorldWind.POSSIBLE,this._nextState=null,this._clientX=0,this._clientY=0,this._clientStartX=0,this._clientStartY=0,this._translationX=0,this._translationY=0,this._mouseButtonMask=0,this._touches=[],this._touchCentroidShiftX=0,this._touchCentroidShiftY=0},r.prototype.prepareToRecognize=function(){},r.prototype.mouseDown=function(t){},r.prototype.mouseMove=function(t){},r.prototype.mouseUp=function(t){},r.prototype.touchStart=function(t){},r.prototype.touchMove=function(t){},r.prototype.touchCancel=function(t){},r.prototype.touchEnd=function(t){},r.prototype.transitionToState=function(t){this._nextState=null,t===WorldWind.FAILED?(this._state=t,this.updateRecognizersWaitingForFailure(),this.resetIfEventsEnded()):t===WorldWind.RECOGNIZED?(this.tryToRecognize(t),this._state===t&&(this.prepareToRecognize(),this.notifyListeners(),this.callGestureCallbacks(),this.resetIfEventsEnded())):t===WorldWind.BEGAN?(this.tryToRecognize(t),this._state===t&&(this.prepareToRecognize(),this.notifyListeners(),this.callGestureCallbacks())):t===WorldWind.CHANGED?(this._state=t,this.notifyListeners(),this.callGestureCallbacks()):(t===WorldWind.CANCELLED||t===WorldWind.ENDED)&&(this._state=t,this.notifyListeners(),this.callGestureCallbacks(),this.resetIfEventsEnded())},r.prototype.updateRecognizersWaitingForFailure=function(){for(var t=0,e=this._requiredToFailBy.length;t<e;t++){var n=this._requiredToFailBy[t];null!=n._nextState&&n.transitionToState(n._nextState)}},r.prototype.tryToRecognize=function(t){if(r.allRecognizers.some(this.canBePreventedByRecognizer,this))this.transitionToState(WorldWind.FAILED);else if(r.allRecognizers.some(this.isWaitingForRecognizerToFail,this))this._nextState=t;else{for(var e=r.allRecognizers.filter(this.canPreventRecognizer,this),n=0,i=e.length;n<i;n++)e[n].transitionToState(WorldWind.FAILED);this._state=t}},r.prototype.canPreventRecognizer=function(t){return this!=t&&this.target==t.target&&t.state==WorldWind.POSSIBLE&&(this.requiredToFailByRecognizer(t)||!this.canRecognizeSimultaneouslyWith(t))},r.prototype.canBePreventedByRecognizer=function(t){return this!=t&&this.target==t.target&&t.state==WorldWind.RECOGNIZED&&(this.requiresRecognizerToFail(t)||!this.canRecognizeSimultaneouslyWith(t))},r.prototype.isWaitingForRecognizerToFail=function(t){return this!=t&&this.target==t.target&&t.state==WorldWind.POSSIBLE&&this.requiresRecognizerToFail(t)},r.prototype.addListener=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"GestureRecognizer","addListener","missingListener"));this.listenerList.push(n)},r.prototype.removeListener=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"GestureRecognizer","removeListener","missingListener"));var r=this.listenerList.indexOf(n);-1!==r&&this.listenerList.splice(r,1)},r.prototype.notifyListeners=function(){for(var t=0;t<this.listenerList.length;t++)this.listenerList[t].gestureStateChanged(this)},r.prototype.callGestureCallbacks=function(){for(var t=0,e=this._gestureCallbacks.length;t<e;t++)this._gestureCallbacks[t](this)},r.prototype.onGestureEvent=function(t){var n,r;if(this.enabled&&(!t.defaultPrevented||this.state!==WorldWind.POSSIBLE))try{if("mousedown"===t.type)this.handleMouseDown(t);else if("mousemove"===t.type)this.handleMouseMove(t);else if("mouseup"===t.type)this.handleMouseUp(t);else if("touchstart"===t.type)for(n=0,r=t.changedTouches.length;n<r;n++)this.handleTouchStart(t.changedTouches.item(n));else if("touchmove"===t.type)for(n=0,r=t.changedTouches.length;n<r;n++)this.handleTouchMove(t.changedTouches.item(n));else if("touchcancel"===t.type)for(n=0,r=t.changedTouches.length;n<r;n++)this.handleTouchCancel(t.changedTouches.item(n));else if("touchend"===t.type)for(n=0,r=t.changedTouches.length;n<r;n++)this.handleTouchEnd(t.changedTouches.item(n));else"pointerdown"===t.type&&"mouse"===t.pointerType?this.handleMouseDown(t):"pointermove"===t.type&&"mouse"===t.pointerType?this.handleMouseMove(t):"pointercancel"===t.type&&"mouse"===t.pointerType||("pointerup"===t.type&&"mouse"===t.pointerType?this.handleMouseUp(t):"pointerdown"===t.type&&"touch"===t.pointerType?this.handleTouchStart(t):"pointermove"===t.type&&"touch"===t.pointerType?this.handleTouchMove(t):"pointercancel"===t.type&&"touch"===t.pointerType?this.handleTouchCancel(t):"pointerup"===t.type&&"touch"===t.pointerType?this.handleTouchEnd(t):e.logMessage(e.LEVEL_INFO,"GestureRecognizer","handleEvent","Unrecognized event type: "+t.type))}catch(t){e.logMessage(e.LEVEL_SEVERE,"GestureRecognizer","handleEvent","Error handling event.\n"+t.toString())}},r.prototype.handleMouseDown=function(t){if(!("mousedown"==t.type&&this._touches.length>0)){var e=1<<t.button;e&0!=this._mouseButtonMask||(0==this._mouseButtonMask&&(this._clientX=t.clientX,this._clientY=t.clientY,this._clientStartX=t.clientX,this._clientStartY=t.clientY,this._translationX=0,this._translationY=0),this._mouseButtonMask|=e,this.mouseDown(t))}},r.prototype.handleMouseMove=function(t){if(0!=this._mouseButtonMask&&(this._clientX!=t.clientX||this._clientY!=t._clientY)){var e=t.clientX-this._clientStartX,n=t.clientY-this._clientStartY,r=this._translationWeight;this._clientX=t.clientX,this._clientY=t.clientY,this._translationX=this._translationX*(1-r)+e*r,this._translationY=this._translationY*(1-r)+n*r,this.mouseMove(t)}},r.prototype.handleMouseUp=function(t){var e=1<<t.button;e&0==this._mouseButtonMask||(this._mouseButtonMask&=~e,this.mouseUp(t),0==this._mouseButtonMask&&this.resetIfEventsEnded())},r.prototype.handleTouchStart=function(t){var e=new n(t.identifier||t.pointerId,t.clientX,t.clientY);this._touches.push(e),1==this._touches.length?(this._clientX=t.clientX,this._clientY=t.clientY,this._clientStartX=t.clientX,this._clientStartY=t.clientY,this._translationX=0,this._translationY=0,this._touchCentroidShiftX=0,this._touchCentroidShiftY=0):this.touchesAddedOrRemoved(),this.touchStart(e)},r.prototype.handleTouchMove=function(t){var e=this.indexOfTouchWithId(t.identifier||t.pointerId);if(-1!=e){var n=this._touches[e];if(n.clientX!=t.clientX||n.clientY!=t.clientY){n.clientX=t.clientX,n.clientY=t.clientY;var r=this.touchCentroid(),i=r.clientX-this._clientStartX+this._touchCentroidShiftX,o=r.clientY-this._clientStartY+this._touchCentroidShiftY,a=this._translationWeight;this._clientX=r.clientX,this._clientY=r.clientY,this._translationX=this._translationX*(1-a)+i*a,this._translationY=this._translationY*(1-a)+o*a,this.touchMove(n)}}},r.prototype.handleTouchCancel=function(t){var e=this.indexOfTouchWithId(t.identifier||t.pointerId);if(-1!=e){var n=this._touches[e];this._touches.splice(e,1),this.touchesAddedOrRemoved(),this.touchCancel(n),this.resetIfEventsEnded()}},r.prototype.handleTouchEnd=function(t){var e=this.indexOfTouchWithId(t.identifier||t.pointerId);if(-1!=e){var n=this._touches[e];this._touches.splice(e,1),this.touchesAddedOrRemoved(),this.touchEnd(n),this.resetIfEventsEnded()}},r.prototype.resetIfEventsEnded=function(){this._state!=WorldWind.POSSIBLE&&0==this._mouseButtonMask&&0==this._touches.length&&this.reset()},r.prototype.touchesAddedOrRemoved=function(){this._touchCentroidShiftX+=this._clientX,this._touchCentroidShiftY+=this._clientY;var t=this.touchCentroid();this._clientX=t.clientX,this._clientY=t.clientY,this._touchCentroidShiftX-=this._clientX,this._touchCentroidShiftY-=this._clientY},r.prototype.touchCentroid=function(){for(var t=0,e=0,n=0,r=this._touches.length;n<r;n++){var i=this._touches[n];t+=i.clientX/r,e+=i.clientY/r}return{clientX:t,clientY:e}},r.prototype.indexOfTouchWithId=function(t){for(var e=0,n=this._touches.length;e<n;e++)if(this._touches[e].identifier==t)return e;return-1},r})),i("gesture/ClickRecognizer",["../gesture/GestureRecognizer"],(function(t){"use strict";var e=function(e,n){t.call(this,e,n),this.numberOfClicks=1,this.button=0,this.maxMouseMovement=5,this.maxClickDuration=500,this.maxClickInterval=400,this.clicks=[],this.timeout=null};return(e.prototype=Object.create(t.prototype)).reset=function(){t.prototype.reset.call(this),this.clicks=[],this.cancelFailAfterDelay()},e.prototype.mouseDown=function(t){if(this.state==WorldWind.POSSIBLE)if(this.button!=t.button)this.state=WorldWind.FAILED;else{var e={clientX:this.clientX,clientY:this.clientY};this.clicks.push(e),this.failAfterDelay(this.maxClickDuration)}},e.prototype.mouseMove=function(t){if(this.state==WorldWind.POSSIBLE){var e=this.translationX,n=this.translationY;Math.sqrt(e*e+n*n)>this.maxMouseMovement&&(this.state=WorldWind.FAILED)}},e.prototype.mouseUp=function(t){this.state==WorldWind.POSSIBLE&&0==this.mouseButtonMask&&(this.clicks.length==this.numberOfClicks?(this.clientX=this.clicks[0].clientX,this.clientY=this.clicks[0].clientY,this.state=WorldWind.RECOGNIZED):this.failAfterDelay(this.maxClickInterval))},e.prototype.touchStart=function(t){this.state==WorldWind.POSSIBLE&&(this.state=WorldWind.FAILED)},e.prototype.failAfterDelay=function(t){var e=this;e.timeout&&window.clearTimeout(e.timeout),e.timeout=window.setTimeout((function(){e.timeout=null,e.state==WorldWind.POSSIBLE&&(e.state=WorldWind.FAILED)}),t)},e.prototype.cancelFailAfterDelay=function(){var t=this;t.timeout&&(window.clearTimeout(t.timeout),t.timeout=null)},e})),i("gesture/DragRecognizer",["../gesture/GestureRecognizer"],(function(t){"use strict";var e=function(e,n){t.call(this,e,n),this.button=0,this.interpretDistance=5};return(e.prototype=Object.create(t.prototype)).mouseMove=function(t){this.state==WorldWind.POSSIBLE?this.shouldInterpret()&&(this.shouldRecognize()?(this.translationX=0,this.translationY=0,this.state=WorldWind.BEGAN):this.state=WorldWind.FAILED):this.state!=WorldWind.BEGAN&&this.state!=WorldWind.CHANGED||(this.state=WorldWind.CHANGED)},e.prototype.mouseUp=function(t){0==this.mouseButtonMask&&(this.state==WorldWind.POSSIBLE?this.state=WorldWind.FAILED:this.state!=WorldWind.BEGAN&&this.state!=WorldWind.CHANGED||(this.state=WorldWind.ENDED))},e.prototype.touchStart=function(t){this.state==WorldWind.POSSIBLE&&(this.state=WorldWind.FAILED)},e.prototype.shouldInterpret=function(){var t=this.translationX,e=this.translationY;return Math.sqrt(t*t+e*e)>this.interpretDistance},e.prototype.shouldRecognize=function(){return 1<<this.button==this.mouseButtonMask},e})),i("gesture/FlingRecognizer",["../gesture/GestureRecognizer"],(function(t){"use strict";var e=function(e,n){t.call(this,e,n),this.minVelocity=100,this._stackLimit=5,this._positionStack=[]};return(e.prototype=Object.create(t.prototype))._pushEvent=function(t){this._positionStack.length>=this._stackLimit&&this._positionStack.shift(),this._positionStack.push({time:new Date,x:t.clientX,y:t.clientY})},e.prototype._getVelocity=function(){var t=this._positionStack.length;if(0===t)return{x:0,y:0};var e=this._positionStack[0],n=this._positionStack[t-1];this._positionStack.length=0;var r=(n.time-e.time)/1e3;return{x:(n.x-e.x)/r,y:(n.y-e.y)/r}},e.prototype.mouseMove=function(t){this._pushEvent(t)},e.prototype.mouseUp=function(t){this._checkForFling()},e.prototype.touchMove=function(t){1===this.touchCount&&this._pushEvent(t)},e.prototype.touchCancel=function(t){this._positionStack.length=0},e.prototype.touchEnd=function(t){0===this.touchCount?this._checkForFling():this._positionStack.length=0},e.prototype._checkForFling=function(){var t=this._getVelocity();this.state===WorldWind.POSSIBLE&&(Math.abs(t.x)>this.minVelocity||Math.abs(t.y)>this.minVelocity)&&(this.state=WorldWind.RECOGNIZED)},e})),i("gesture/PanRecognizer",["../gesture/GestureRecognizer"],(function(t){"use strict";var e=function(e,n){t.call(this,e,n),this.minNumberOfTouches=1,this.maxNumberOfTouches=Number.MAX_VALUE,this.interpretDistance=20};return(e.prototype=Object.create(t.prototype)).mouseDown=function(t){this.state==WorldWind.POSSIBLE&&(this.state=WorldWind.FAILED)},e.prototype.touchMove=function(t){this.state==WorldWind.POSSIBLE?this.shouldInterpret()&&(this.shouldRecognize()?this.state=WorldWind.BEGAN:this.state=WorldWind.FAILED):this.state!=WorldWind.BEGAN&&this.state!=WorldWind.CHANGED||(this.state=WorldWind.CHANGED)},e.prototype.touchEnd=function(t){0==this.touchCount&&(this.state==WorldWind.POSSIBLE?this.state=WorldWind.FAILED:this.state!=WorldWind.BEGAN&&this.state!=WorldWind.CHANGED||(this.state=WorldWind.ENDED))},e.prototype.touchCancel=function(t){0==this.touchCount&&(this.state==WorldWind.POSSIBLE?this.state=WorldWind.FAILED:this.state!=WorldWind.BEGAN&&this.state!=WorldWind.CHANGED||(this.state=WorldWind.CANCELLED))},e.prototype.prepareToRecognize=function(){this.translationX=0,this.translationY=0},e.prototype.shouldInterpret=function(){var t=this.translationX,e=this.translationY;return Math.sqrt(t*t+e*e)>this.interpretDistance},e.prototype.shouldRecognize=function(){var t=this.touchCount;return 0!=t&&t>=this.minNumberOfTouches&&t<=this.maxNumberOfTouches},e})),i("gesture/PinchRecognizer",["../gesture/GestureRecognizer"],(function(t){"use strict";var e=function(e,n){t.call(this,e,n),this._scale=1,this._offsetScale=1,this.referenceDistance=0,this.interpretThreshold=20,this.weight=.4,this.pinchTouches=[]};return e.prototype=Object.create(t.prototype),Object.defineProperties(e.prototype,{scale:{get:function(){return this._scale*this._offsetScale}}}),e.prototype.reset=function(){t.prototype.reset.call(this),this._scale=1,this._offsetScale=1,this.referenceDistance=0,this.pinchTouches=[]},e.prototype.mouseDown=function(t){this.state==WorldWind.POSSIBLE&&(this.state=WorldWind.FAILED)},e.prototype.touchStart=function(t){this.pinchTouches.length<2&&2==this.pinchTouches.push(t)&&(this.referenceDistance=this.currentPinchDistance(),this._offsetScale*=this._scale,this._scale=1)},e.prototype.touchMove=function(t){if(2==this.pinchTouches.length)if(this.state==WorldWind.POSSIBLE)this.shouldRecognize()&&(this.state=WorldWind.BEGAN);else if(this.state==WorldWind.BEGAN||this.state==WorldWind.CHANGED){var e=this.currentPinchDistance(),n=Math.abs(e/this.referenceDistance),r=this.weight;this._scale=this._scale*(1-r)+n*r,this.state=WorldWind.CHANGED}},e.prototype.touchEnd=function(t){var e=this.pinchTouches.indexOf(t);-1!=e&&this.pinchTouches.splice(e,1),0==this.touchCount&&(this.state==WorldWind.POSSIBLE?this.state=WorldWind.FAILED:this.state!=WorldWind.BEGAN&&this.state!=WorldWind.CHANGED||(this.state=WorldWind.ENDED))},e.prototype.touchCancel=function(t){var e=this.pinchTouches.indexOf(t);-1!=e&&this.pinchTouches.splice(e,1),0==this.touchCount&&(this.state==WorldWind.POSSIBLE?this.state=WorldWind.FAILED:this.state!=WorldWind.BEGAN&&this.state!=WorldWind.CHANGED||(this.state=WorldWind.CANCELLED))},e.prototype.prepareToRecognize=function(){this.referenceDistance=this.currentPinchDistance(),this._scale=1},e.prototype.shouldRecognize=function(){var t=this.currentPinchDistance();return Math.abs(t-this.referenceDistance)>this.interpretThreshold},e.prototype.currentPinchDistance=function(){var t=this.pinchTouches[0],e=this.pinchTouches[1],n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)},e})),i("gesture/RotationRecognizer",["../geom/Angle","../gesture/GestureRecognizer"],(function(t,e){"use strict";var n=function(t,n){e.call(this,t,n),this._rotation=0,this._offsetRotation=0,this.referenceAngle=0,this.interpretThreshold=20,this.weight=.4,this.rotationTouches=[]};return n.prototype=Object.create(e.prototype),Object.defineProperties(n.prototype,{rotation:{get:function(){return this._rotation+this._offsetRotation}}}),n.prototype.reset=function(){e.prototype.reset.call(this),this._rotation=0,this._offsetRotation=0,this.referenceAngle=0,this.rotationTouches=[]},n.prototype.mouseDown=function(t){this.state==WorldWind.POSSIBLE&&(this.state=WorldWind.FAILED)},n.prototype.touchStart=function(t){this.rotationTouches.length<2&&2==this.rotationTouches.push(t)&&(this.referenceAngle=this.currentTouchAngle(),this._offsetRotation+=this._rotation,this._rotation=0)},n.prototype.touchMove=function(e){if(2==this.rotationTouches.length)if(this.state==WorldWind.POSSIBLE)this.shouldRecognize()&&(this.state=WorldWind.BEGAN);else if(this.state==WorldWind.BEGAN||this.state==WorldWind.CHANGED){var n=this.currentTouchAngle(),r=t.normalizedDegrees(n-this.referenceAngle),i=this.weight;this._rotation=this._rotation*(1-i)+r*i,this.state=WorldWind.CHANGED}},n.prototype.touchEnd=function(t){var e=this.rotationTouches.indexOf(t);-1!=e&&this.rotationTouches.splice(e,1),0==this.touchCount&&(this.state==WorldWind.POSSIBLE?this.state=WorldWind.FAILED:this.state!=WorldWind.BEGAN&&this.state!=WorldWind.CHANGED||(this.state=WorldWind.ENDED))},n.prototype.touchCancel=function(t){var e=this.rotationTouches.indexOf(t);-1!=e&&(this.rotationTouches.splice(e,1),0==this.touchCount&&(this.state==WorldWind.POSSIBLE?this.state=WorldWind.FAILED:this.state!=WorldWind.BEGAN&&this.state!=WorldWind.CHANGED||(this.state=WorldWind.CANCELLED)))},n.prototype.prepareToRecognize=function(){this.referenceAngle=this.currentTouchAngle(),this._rotation=0},n.prototype.shouldRecognize=function(){var e=this.currentTouchAngle(),n=t.normalizedDegrees(e-this.referenceAngle);return Math.abs(n)>this.interpretThreshold},n.prototype.currentTouchAngle=function(){var e=this.rotationTouches[0],n=this.rotationTouches[1],r=e.clientX-n.clientX,i=e.clientY-n.clientY;return Math.atan2(i,r)*t.RADIANS_TO_DEGREES},n})),i("gesture/TapRecognizer",["../gesture/GestureRecognizer"],(function(t){"use strict";var e=function(e,n){t.call(this,e,n),this.numberOfTaps=1,this.numberOfTouches=1,this.maxTouchMovement=20,this.maxTapDuration=500,this.maxTapInterval=400,this.taps=[],this.timeout=null};return(e.prototype=Object.create(t.prototype)).reset=function(){t.prototype.reset.call(this),this.taps=[],this.cancelFailAfterDelay()},e.prototype.mouseDown=function(t){this.state==WorldWind.POSSIBLE&&(this.state=WorldWind.FAILED)},e.prototype.touchStart=function(t){var e;this.state==WorldWind.POSSIBLE&&(this.touchCount>this.numberOfTouches?this.state=WorldWind.FAILED:1==this.touchCount?(e={touchCount:this.touchCount,clientX:this.clientX,clientY:this.clientY},this.taps.push(e),this.failAfterDelay(this.maxTapDuration)):((e=this.taps[this.taps.length-1]).touchCount=this.touchCount,e.clientX=this.clientX,e.clientY=this.clientY))},e.prototype.touchMove=function(t){if(this.state==WorldWind.POSSIBLE){var e=this.translationX,n=this.translationY;Math.sqrt(e*e+n*n)>this.maxTouchMovement&&(this.state=WorldWind.FAILED)}},e.prototype.touchEnd=function(t){if(this.state==WorldWind.POSSIBLE&&0==this.touchCount){var e=this.taps.length;this.taps[e-1].touchCount!=this.numberOfTouches?this.state=WorldWind.FAILED:e==this.numberOfTaps?(this.clientX=this.taps[0].clientX,this.clientY=this.taps[0].clientY,this.state=WorldWind.RECOGNIZED):this.failAfterDelay(this.maxTapInterval)}},e.prototype.touchCancel=function(t){this.state==WorldWind.POSSIBLE&&(this.state=WorldWind.FAILED)},e.prototype.failAfterDelay=function(t){var e=this;e.timeout&&window.clearTimeout(e.timeout),e.timeout=window.setTimeout((function(){e.timeout=null,e.state==WorldWind.POSSIBLE&&(e.state=WorldWind.FAILED)}),t)},e.prototype.cancelFailAfterDelay=function(){var t=this;t.timeout&&(window.clearTimeout(t.timeout),t.timeout=null)},e})),i("gesture/TiltRecognizer",["../gesture/PanRecognizer"],(function(t){"use strict";var e=function(e,n){t.call(this,e,n),this.maxTouchDistance=250,this.maxTouchDivergence=50};return e.LEFT=1,e.RIGHT=2,e.UP=4,e.DOWN=8,(e.prototype=Object.create(t.prototype)).shouldInterpret=function(){for(var t=0,e=this.touchCount;t<e;t++){var n=this.touch(t),r=n.translationX,i=n.translationY;if(Math.sqrt(r*r+i*i)>this.interpretDistance)return!0}return!1},e.prototype.shouldRecognize=function(){if(this.touchCount<2)return!1;var t=this.touch(0),n=this.touch(1),r=t.clientX-n.clientX,i=t.clientY-n.clientY;if(Math.sqrt(r*r+i*i)>this.maxTouchDistance)return!1;var o=t.translationX-n.translationX,a=t.translationY-n.translationY;if(Math.sqrt(o*o+a*a)>this.maxTouchDivergence)return!1;var s=e.UP|e.DOWN;return 0!=(this.touchDirection(t)&s&this.touchDirection(n)&s)},e.prototype.touchDirection=function(t){var n=t.translationX,r=t.translationY,i=0;return Math.abs(n)>Math.abs(r)?(i|=n<0?e.LEFT:0,i|=n>0?e.RIGHT:0):(i|=r<0?e.UP:0,i|=r>0?e.DOWN:0),i},e})),i("WorldWindowController",["./error/ArgumentError","./util/Logger","./error/UnsupportedOperationError"],(function(t,e,n){"use strict";var r=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WorldWindowController","constructor","missingWorldWindow"));this.wwd=n,this.allGestureListeners=[]};return r.prototype.onGestureEvent=function(t){for(var e=!1,n=0;n<this.allGestureListeners.length&&!e;n++)e|=this.allGestureListeners[n].onGestureEvent(t);return e},r.prototype.gestureStateChanged=function(t){throw new n(e.logMessage(e.LEVEL_SEVERE,"WorldWindowController","gestureStateChanged","abstractInvocation"))},r.prototype.addGestureListener=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WorldWindowController","addGestureListener","missingListener"));this.allGestureListeners.push(n)},r.prototype.removeGestureListener=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WorldWindowController","removeGestureListener","missingListener"));var r=this.allGestureListeners.indexOf(n);-1!==r&&this.allGestureListeners.splice(r,1)},r.prototype.applyLimits=function(){},r})),i("BasicWorldWindowController",["./geom/Angle","./ArcBallCamera","./error/ArgumentError","./gesture/ClickRecognizer","./gesture/DragRecognizer","./gesture/FlingRecognizer","./gesture/GestureRecognizer","./geom/Line","./geom/Location","./util/Logger","./geom/Matrix","./util/measure/MeasurerUtils","./gesture/PanRecognizer","./gesture/PinchRecognizer","./geom/Position","./gesture/RotationRecognizer","./gesture/TapRecognizer","./gesture/TiltRecognizer","./geom/Vec2","./geom/Vec3","./WorldWindowController","./util/WWMath"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_){"use strict";var w=function(t){E.call(this,t),this.zoomToMouseEnabled=!0,this.primaryDragRecognizer=new i(this.wwd,null),this.primaryDragRecognizer.addListener(this),this.secondaryDragRecognizer=new i(this.wwd,null),this.secondaryDragRecognizer.addListener(this),this.secondaryDragRecognizer.button=2,this.panRecognizer=new f(this.wwd,null),this.panRecognizer.addListener(this),this.pinchRecognizer=new p(this.wwd,null),this.pinchRecognizer.addListener(this),this.rotationRecognizer=new g(this.wwd,null),this.rotationRecognizer.addListener(this),this.tiltRecognizer=new y(this.wwd,null),this.tiltRecognizer.addListener(this),this.panRecognizer.recognizeSimultaneouslyWith(this.pinchRecognizer),this.panRecognizer.recognizeSimultaneouslyWith(this.rotationRecognizer),this.pinchRecognizer.recognizeSimultaneouslyWith(this.rotationRecognizer),this.panRecognizer.requireRecognizerToFail(this.tiltRecognizer),this.pinchRecognizer.requireRecognizerToFail(this.tiltRecognizer),this.rotationRecognizer.requireRecognizerToFail(this.tiltRecognizer),this.flingRecognizer=new o(this.wwd,null),this.flingRecognizer.addListener(this),this.flingRecognizer.recognizeSimultaneouslyWith(this.primaryDragRecognizer),this.flingRecognizer.recognizeSimultaneouslyWith(this.panRecognizer),this.flingRecognizer.recognizeSimultaneouslyWith(this.pinchRecognizer),this.flingRecognizer.recognizeSimultaneouslyWith(this.rotationRecognizer),this.beginPoint=new v(0,0),this.lastPoint=new v(0,0),this.beginHeading=0,this.beginTilt=0,this.beginRange=0,this.lastRotation=0,this.pointerLocation=null,this.dragDelta=new v(0,0),this.dragLastLocation=new u(0,0),this.flingAnimationId=-1,this.beginIntersectionPoint=new b(0,0,0),this.lastIntersectionPoint=new b(0,0,0),this.beginIntersectionPosition=new d(0,0,0),this.lastIntersectionPosition=new d(0,0,0),this.rotationVector=new b(0,0,0),this.scratchRay=new s(new b(0,0,0),new b(0,0,0)),this.scratchMatrix=c.fromIdentity()};return(w.prototype=Object.create(E.prototype)).onGestureEvent=function(t){var e=E.prototype.onGestureEvent.call(this,t);if(("mousemove"===t.type||"mouse"===t.pointerType&&"pointermove"===t.type)&&(this.pointerLocation=null),!e)if("wheel"===t.type)e=!0,this.handleWheelEvent(t);else for(var n=0,r=a.allRecognizers.length;n<r;n++){var i=a.allRecognizers[n];i.target===this.wwd&&(e|=i.onGestureEvent(t))}return e},w.prototype.gestureStateChanged=function(t){t.state!==WorldWind.BEGAN&&t.state!==WorldWind.RECOGNIZED||this.cancelFlingAnimation();var n=this.wwd.navigator.camera instanceof e;t===this.primaryDragRecognizer||t===this.panRecognizer?n?this.handlePanOrDrag(t):this.handleSecondaryDrag(t):t===this.secondaryDragRecognizer?n&&this.handleSecondaryDrag(t):t===this.pinchRecognizer?this.handlePinch(t):t===this.rotationRecognizer?this.handleRotation(t):t===this.tiltRecognizer?this.handleTilt(t):t===this.flingRecognizer&&this.handleFling(t)},w.prototype.handlePanOrDrag=function(t){this.wwd.globe.is2D()?this.handlePanOrDrag2D(t):this.handlePanOrDrag3D(t)},w.prototype.handlePanOrDrag3D=function(e){var n=this.wwd,r=e.state,i=e.clientX,o=e.clientY;if(r===WorldWind.BEGAN){var a=n.rayThroughScreenPoint(n.canvasCoordinates(i,o));if(!n.globe.intersectsLine(a,this.beginIntersectionPoint))return;n.globe.computePositionFromPoint(this.beginIntersectionPoint[0],this.beginIntersectionPoint[1],this.beginIntersectionPoint[2],this.beginIntersectionPosition),this.beginPoint.set(i,o),this.lastPoint.set(i,o)}else r===WorldWind.CHANGED&&this.move3D(i,o)&&(this.beginPoint.copy(this.lastPoint),this.lastPoint.set(i,o),this.applyLimits(),this.dragDelta.set(this.dragLastLocation.latitude-n.navigator.lookAtLocation.latitude,t.normalizedDegreesLongitude(this.dragLastLocation.longitude-n.navigator.lookAtLocation.longitude)),this.dragLastLocation.copy(n.navigator.lookAtLocation),n.redraw())},w.prototype.move3D=function(t,e){var n=this.wwd,r=n.rayThroughScreenPoint(n.canvasCoordinates(t,e));if(!n.globe.intersectsLine(r,this.lastIntersectionPoint))return!1;if(n.globe.computePositionFromPoint(this.lastIntersectionPoint[0],this.lastIntersectionPoint[1],this.lastIntersectionPoint[2],this.lastIntersectionPosition),this.isSphereRotation(this.lastIntersectionPosition)){var i=this.computeRotationVectorAndAngle(this.beginIntersectionPoint,this.lastIntersectionPoint,this.rotationVector);return this.rotateShpere(this.rotationVector,i,!1)}var o=this.lastIntersectionPosition.latitude-this.beginIntersectionPosition.latitude,a=this.lastIntersectionPosition.longitude-this.beginIntersectionPosition.longitude,s=n.navigator.lookAtLocation;return s.latitude-=o,s.longitude-=a,!0},w.prototype.isSphereRotation=function(t){var e=this.wwd.navigator.lookAtLocation.latitude;return 0!==this.wwd.navigator.heading||Math.abs(e)>75||Math.abs(t.latitude)>75},w.prototype.computeRotationVectorAndAngle=function(e,n,r){var i=h.angleBetweenVectors(e,n)*t.RADIANS_TO_DEGREES;return r.copy(e),r.cross(n),r.normalize(),i},w.prototype.rotateShpere=function(t,e,n){if(!(isFinite(e)&&isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])))return!1;var r=this.wwd,i=r.navigator,o=this.scratchMatrix,a=i.lookAtLocation.altitude,s=i.tilt;if(i.tilt=0,r.computeViewingTransform(null,o),o.multiplyByRotation(t[0],t[1],t[2],e),o.extractEyePoint(this.scratchRay.origin),o.extractForwardVector(this.scratchRay.direction),!r.globe.intersectsLine(this.scratchRay,this.lastIntersectionPoint))return i.tilt=s,!1;var u=o.extractViewingParameters(this.lastIntersectionPoint,i.roll,r.globe,{});return!n&&Math.abs(i.heading)<5&&Math.abs(i.lookAtLocation.latitude<70)&&Math.abs(this.lastIntersectionPosition.latitude)<70?i.heading=Math.round(u.heading):i.heading=u.heading,i.lookAtLocation.copy(u.origin),i.lookAtLocation.altitude=a,i.tilt=s,!0},w.prototype.handlePanOrDrag2D=function(t){var e=t.state,n=t.clientX,r=t.clientY,i=t.translationX,o=t.translationY;this.wwd.navigator,e===WorldWind.BEGAN?(this.beginPoint.set(n,r),this.lastPoint.set(n,r)):e===WorldWind.CHANGED&&this.move2D(i,o)},w.prototype.move2D=function(t,e){var n=this.wwd.navigator,r=this.lastPoint[0],i=this.lastPoint[1],o=this.beginPoint[0]+t,a=this.beginPoint[1]+e;this.lastPoint.set(o,a);var s=this.wwd.globe,u=this.wwd.rayThroughScreenPoint(this.wwd.canvasCoordinates(r,i)),l=new b(0,0,0),h=new b(0,0,0),f=new b(0,0,0);if(s.intersectsLine(u,l)&&(u=this.wwd.rayThroughScreenPoint(this.wwd.canvasCoordinates(o,a)),s.intersectsLine(u,h))){var p=c.fromIdentity();if(this.wwd.computeViewingTransform(null,p),p.multiplyByTranslation(h[0]-l[0],h[1]-l[1],h[2]-l[2]),p.extractEyePoint(u.origin),p.extractForwardVector(u.direction),s.intersectsLine(u,f)){var d=p.extractViewingParameters(f,n.roll,s,{});n.lookAtLocation.copy(d.origin),n.range=d.range,n.heading=d.heading,n.tilt=d.tilt,n.roll=d.roll,this.applyLimits(),this.wwd.redraw(),this.dragDelta.set(r-o,i-a),this.dragLastLocation.copy(n.lookAtLocation)}}},w.prototype.handleFling=function(t){this.wwd.globe.is2D()?this.handleFling2D(t):this.handleFling3D(t)},w.prototype.handleFling2D=function(t){if(t.state===WorldWind.RECOGNIZED){var e=this.wwd.navigator;this.beginPoint.copy(this.lastPoint);var n=new u;n.copy(this.dragLastLocation);var r=new Date,i=this.dragDelta[0],o=this.dragDelta[1],a=i,s=o,l=this;this.flingAnimationId=requestAnimationFrame((function t(){if(l.flingAnimationId=-1,n.equals(e.lookAtLocation)){var u=(new Date-r)/1500;u=u>1?1:u;var c=Math.sin(u*Math.PI/2);a-=i-i*c,s-=o-o*c,l.move2D(a,s),n.copy(e.lookAtLocation),u<1&&(l.flingAnimationId=requestAnimationFrame(t))}}))}},w.prototype.handleFling3D=function(t){if(t.state===WorldWind.RECOGNIZED){var e=this.wwd.navigator,n=new v;n.copy(this.dragDelta);var r=new u;r.copy(this.dragLastLocation);var i=this.wwd,o=0,a=i.rayThroughScreenPoint(i.canvasCoordinates(this.lastPoint[0],this.lastPoint[1]));if(!i.globe.intersectsLine(a,this.lastIntersectionPoint))return;i.globe.computePositionFromPoint(this.lastIntersectionPoint[0],this.lastIntersectionPoint[1],this.lastIntersectionPoint[2],this.lastIntersectionPosition);var s=this.isSphereRotation(this.lastIntersectionPosition);if(s){if(a=i.rayThroughScreenPoint(i.canvasCoordinates(this.beginPoint[0],this.beginPoint[1])),!i.globe.intersectsLine(a,this.beginIntersectionPoint))return;if(o=this.computeRotationVectorAndAngle(this.beginIntersectionPoint,this.lastIntersectionPoint,this.rotationVector),!(isFinite(o)&&isFinite(this.rotationVector[0])&&isFinite(this.rotationVector[1])&&isFinite(this.rotationVector[2])))return}var l=new Date,c=this;this.flingAnimationId=requestAnimationFrame((function t(){if(c.flingAnimationId=-1,r.equals(e.lookAtLocation)){var i=(new Date-l)/1500;i=i>1?1:i;var a=Math.sin(i*Math.PI/2);if(s){var u=o*(1-a);c.rotateShpere(c.rotationVector,u,!0)}else{var h=n[0]-n[0]*a,f=n[1]-n[1]*a;e.lookAtLocation.latitude-=h,e.lookAtLocation.longitude-=f}c.applyLimits(),c.wwd.redraw(),r.copy(e.lookAtLocation),i<1&&(c.flingAnimationId=requestAnimationFrame(t))}}))}},w.prototype.cancelFlingAnimation=function(){-1!==this.flingAnimationId&&(cancelAnimationFrame(this.flingAnimationId),this.flingAnimationId=-1)},w.prototype.handleSecondaryDrag=function(t){var e=t.state,n=t.translationX,r=t.translationY,i=this.wwd.navigator;if(e===WorldWind.BEGAN)this.beginHeading=i.heading,this.beginTilt=i.tilt;else if(e===WorldWind.CHANGED){var o=180*n/this.wwd.canvas.clientWidth,a=90*r/this.wwd.canvas.clientHeight;i.heading=this.beginHeading+o,i.tilt=this.beginTilt+a,this.applyLimits(),this.wwd.redraw()}},w.prototype.handlePinch=function(t){var e=this.wwd.navigator,n=t.state,r=t.scale;if(n===WorldWind.BEGAN)this.beginRange=e.range,this.pointerLocation=null;else if(n===WorldWind.CHANGED&&0!==r){var i=this.beginRange/r,o=i/e.range;this.moveZoom(t.clientX,t.clientY,o),e.range=i,this.applyLimits(),this.wwd.redraw()}},w.prototype.handleRotation=function(t){var e=this.wwd.navigator,n=t.state,r=t.rotation;n===WorldWind.BEGAN?this.lastRotation=0:n===WorldWind.CHANGED&&(e.heading-=r-this.lastRotation,this.lastRotation=r,this.applyLimits(),this.wwd.redraw())},w.prototype.handleTilt=function(t){var e=this.wwd.navigator,n=t.state,r=t.translationY;if(n===WorldWind.BEGAN)this.beginTilt=e.tilt;else if(n===WorldWind.CHANGED){var i=-90*r/this.wwd.canvas.clientHeight;e.tilt=this.beginTilt+i,this.applyLimits(),this.wwd.redraw()}},w.prototype.handleWheelEvent=function(t){this.cancelFlingAnimation();var e,n=this.wwd.navigator;t.deltaMode===WheelEvent.DOM_DELTA_PIXEL?e=t.deltaY:t.deltaMode===WheelEvent.DOM_DELTA_LINE?e=40*t.deltaY:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e=400*t.deltaY);var r=1+e/1e3;this.moveZoom(t.clientX,t.clientY,r),n.range*=r,this.applyLimits(),this.wwd.redraw()},w.prototype.locationAtPickPoint=function(t,e){for(var n=this.wwd.canvasCoordinates(t,e),r=this.wwd.pickTerrain(n),i=0;i<r.objects.length;i++){var o=r.objects[i];if(o.isTerrain){var a=o.position;if(a)return new u(a.latitude,a.longitude)}}},w.prototype.moveZoom=function(t,e,n){if(this.zoomToMouseEnabled&&1!==n&&(this.pointerLocation||(this.pointerLocation=this.locationAtPickPoint(t,e)),this.pointerLocation)){var r,i=this.wwd.navigator.lookAtLocation;if(n<1)r=u.greatCircleDistance(i,this.pointerLocation)*this.wwd.globe.equatorialRadius<=5e4?this.pointerLocation:u.interpolateGreatCircle(n,this.pointerLocation,i,new u(0,0));else{var o=u.interpolateGreatCircle(1/n,this.pointerLocation,i,new u(0,0)),a=u.greatCircleDistance(i,o),s=u.greatCircleAzimuth(i,o);r=u.greatCircleLocation(i,s-180,a,new u(0,0))}i.latitude=r.latitude,i.longitude=r.longitude}},w.prototype.applyLimits=function(){this.wwd.navigator.camera.applyLimits()},w})),i("util/ImageSource",["../error/ArgumentError","../util/Color","../util/Logger"],(function(t,e,n){"use strict";var r=function e(r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"ImageSource","constructor","missingImage"));this.image=r,this.key="ImageSource "+ ++e.keyPool};return r.keyPool=0,r})),i("shapes/ScreenImage",["../error/ArgumentError","../shaders/BasicTextureProgram","../util/Color","../util/ImageSource","../util/Logger","../geom/Matrix","../util/Offset","../pick/PickedObject","../render/Renderable","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a,s,u,l,c){"use strict";var h=function(e,r){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"ScreenImage","constructor","missingOffset"));if(!r)throw new t(i.logMessage(i.LEVEL_SEVERE,"ScreenImage","constructor","missingImage"));u.call(this),this.screenOffset=e,this._imageSource=r,this.imageColor=n.WHITE,this.imageOffset=new a(WorldWind.OFFSET_FRACTION,.5,WorldWind.OFFSET_FRACTION,.5),this.imageScale=1,this.imageRotation=0,this.imageTilt=0,this.enabled=!0,this.opacity=1,this.pickDelegate=null,this.activeTexture=null,this.imageTransform=o.fromIdentity(),this.texCoordMatrix=o.fromIdentity(),this.imageBounds=null,this.layer=null};return h.matrix=o.fromIdentity(),h.prototype=Object.create(u.prototype),Object.defineProperties(h.prototype,{imageSource:{get:function(){return this._imageSource},set:function(e){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"ScreenImage","imageSource","missingImage"));this._imageSource=e,this.imageSourceWasUpdated=!0}}}),h.prototype.render=function(t){if(this.enabled&&t.accumulateOrderedRenderables){var e=null;this.lastFrameTime!==t.timestamp&&(e=this.makeOrderedRenderable(t)),e&&e.isVisible(t)&&(e.layer=t.currentLayer,this.lastFrameTime=t.timestamp,t.addOrderedRenderable(e))}},h.prototype.renderOrdered=function(t){if(this.drawOrderedScreenImage(t),t.pickingMode){var e=new s(this.pickColor.clone(),this.pickDelegate?this.pickDelegate:this,null,this.layer,!1);t.resolvePick(e)}},h.prototype.makeOrderedRenderable=function(t){var e,n,r,i,o,a,s;return this.activeTexture=this.getActiveTexture(t),this.activeTexture&&!this.imageSourceWasUpdated||(this.activeTexture=t.gpuResourceCache.retrieveTexture(t.currentGlContext,this._imageSource),this.activeTexture)?(this.eyeDistance=0,e=this.activeTexture.imageWidth,n=this.activeTexture.imageHeight,r=this.imageScale,a=this.imageOffset.offsetForSize(e,n),i=t.viewport.width,o=t.viewport.height,s=this.screenOffset.offsetForSize(i,o),this.imageTransform.setTranslation(s[0]-a[0]*r,s[1]-a[1]*r,0),this.imageTransform.setScale(e*r,n*r,1),this.imageBounds=c.boundingRectForUnitQuad(this.imageTransform),this):null},h.prototype.getActiveTexture=function(t){return t.gpuResourceCache.resourceForKey(this._imageSource)},h.prototype.isVisible=function(t){return t.pickingMode?t.pickRectangle&&this.imageBounds.intersects(t.pickRectangle):this.imageBounds.intersects(t.viewport)},h.prototype.drawOrderedScreenImage=function(t){this.beginDrawing(t);try{this.doDrawOrderedScreenImage(t)}finally{this.endDrawing(t)}},h.prototype.beginDrawing=function(t){var n,r=t.currentGlContext;t.findAndBindProgram(e),n=t.currentProgram,r.bindBuffer(r.ARRAY_BUFFER,t.unitQuadBuffer()),r.vertexAttribPointer(n.vertexTexCoordLocation,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.vertexPointLocation),r.enableVertexAttribArray(n.vertexTexCoordLocation),n.loadTextureUnit(r,r.TEXTURE0),n.loadModulateColor(r,t.pickingMode),r.disable(r.DEPTH_TEST)},h.prototype.endDrawing=function(t){var e=t.currentGlContext,n=t.currentProgram;e.disableVertexAttribArray(n.vertexPointLocation),e.disableVertexAttribArray(n.vertexTexCoordLocation),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.enable(e.DEPTH_TEST)},h.prototype.doDrawOrderedScreenImage=function(t){var e=t.currentGlContext,n=t.currentProgram;e.bindBuffer(e.ARRAY_BUFFER,t.unitQuadBuffer3()),e.vertexAttribPointer(n.vertexPointLocation,3,e.FLOAT,!1,0,0),h.matrix.copy(t.screenProjection),h.matrix.multiplyMatrix(this.imageTransform),h.matrix.multiplyByTranslation(.5,.5,.5),h.matrix.multiplyByRotation(1,0,0,this.imageTilt),h.matrix.multiplyByRotation(0,0,1,this.imageRotation),h.matrix.multiplyByTranslation(-.5,-.5,0),n.loadModelviewProjection(e,h.matrix),n.loadTextureEnabled(e,!0),t.pickingMode?(this.pickColor=t.uniquePickColor(),n.loadColor(e,this.pickColor),n.loadOpacity(e,1)):(n.loadColor(e,this.imageColor),n.loadOpacity(e,this.opacity*this.layer.opacity)),this.texCoordMatrix.setToIdentity(),this.texCoordMatrix.multiplyByTextureTransform(this.activeTexture),n.loadTextureMatrix(e,this.texCoordMatrix),this.activeTexture.bind(t)&&e.drawArrays(e.TRIANGLE_STRIP,0,4)},h})),i("render/TextureTile",["../error/ArgumentError","../util/Logger","../util/Tile"],(function(t,e,n){"use strict";var r=function(t,e,r,i){n.call(this,t,e,r,i),this.gpuCacheKey=null};return(r.prototype=Object.create(n.prototype)).size=function(){return n.prototype.size.call(this)},r.prototype.bind=function(t){var e=t.gpuResourceCache.resourceForKey(this.gpuCacheKey);return!!e&&e.bind(t)},r.prototype.applyInternalTransform=function(t,e){},r})),i("render/ImageTile",["../error/ArgumentError","../util/Logger","../render/TextureTile","../util/Tile"],(function(t,e,n,r){"use strict";var i=function(r,i,o,a,s){if(!s||s.length<1)throw new t(e.logMessage(e.LEVEL_SEVERE,"ImageTile","constructor","The specified image path is null, undefined or zero length."));n.call(this,r,i,o,a),this.imagePath=s,this.fallbackTile=null,this.gpuCacheKey=s};return(i.prototype=Object.create(n.prototype)).size=function(){return this.__proto__.__proto__.size.call(this)+this.imagePath.length+8},i.prototype.bind=function(t){return!!this.__proto__.__proto__.bind.call(this,t)||!!this.fallbackTile&&this.fallbackTile.bind(t)},i.prototype.applyInternalTransform=function(t,e){this.fallbackTile&&!t.gpuResourceCache.resourceForKey(this.imagePath)&&this.applyFallbackTransform(e)},i.prototype.applyFallbackTransform=function(t){if(!(this.level.levelNumber-this.fallbackTile.level.levelNumber<=0)){var e=this.fallbackTile.sector.deltaLatitude(),n=this.fallbackTile.sector.deltaLongitude(),r=this.sector.deltaLongitude()/n,i=this.sector.deltaLatitude()/e,o=(this.sector.minLongitude-this.fallbackTile.sector.minLongitude)/n,a=(this.sector.minLatitude-this.fallbackTile.sector.minLatitude)/e;t.multiply(r,0,0,o,0,i,0,a,0,0,1,0,0,0,0,1)}},i})),i("layer/TiledImageLayer",["../util/AbsentResourceList","../error/ArgumentError","../render/ImageTile","../layer/Layer","../util/LevelSet","../util/Logger","../geom/Matrix","../cache/MemoryCache","../render/Texture","../util/Tile","../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c){"use strict";var h=function(n,u,l,c,h,f,p){if(!n)throw new e(o.logMessage(o.LEVEL_SEVERE,"TiledImageLayer","constructor","missingSector"));if(!u)throw new e(o.logMessage(o.LEVEL_SEVERE,"TiledImageLayer","constructor","The specified level-zero delta is null or undefined."));if(!c)throw new e(o.logMessage(o.LEVEL_SEVERE,"TiledImageLayer","constructor","The specified image format is null or undefined."));if(!h)throw new e(o.logMessage(o.LEVEL_SEVERE,"TiledImageLayer","constructor","The specified cache path is null or undefined."));if(!l||l<1)throw new e(o.logMessage(o.LEVEL_SEVERE,"TiledImageLayer","constructor","The specified number of levels is less than one."));if(!f||!p||f<1||p<1)throw new e(o.logMessage(o.LEVEL_SEVERE,"TiledImageLayer","constructor","The specified tile width or height is less than one."));r.call(this,"Tiled Image Layer"),this.retrievalImageFormat=c,this.cachePath=h,this.retrievalQueueSize=WorldWind.configuration.layerRetrievalQueueSize,this.levels=new i(n,u,l,f,p),this.detailControl=1.75,this.crossOrigin="anonymous",this.expiration=null,this.currentTiles=[],this.currentTilesInvalid=!0,this.tileCache=new s(5e5,4e5),this.currentRetrievals=[],this.absentResourceList=new t(3,5e4),this.pickEnabled=!1,this.lasTtMVP=a.fromIdentity()};return(h.prototype=Object.create(r.prototype)).refresh=function(){this.expiration=new Date,this.currentTilesInvalid=!0},h.prototype.prePopulate=function(t){if(!t)throw new e(o.logMessage(o.LEVEL_SEVERE,"TiledImageLayer","prePopulate","missingWorldWindow"));var n=t.drawContext;this.topLevelTiles&&0!==this.topLevelTiles.length||this.createTopLevelTiles(n);for(var r=0;r<this.topLevelTiles.length;r++){var i=this.topLevelTiles[r];this.isTileTextureInMemory(n,i)||this.retrieveTileImage(n,i,!0)}},h.prototype.prePopulateCurrentTiles=function(t){if(!t)throw new e(o.logMessage(o.LEVEL_SEVERE,"TiledImageLayer","prePopulate","missingWorldWindow"));var n=t.drawContext;this.assembleTiles(n);for(var r=0,i=this.currentTiles.length;r<i;r++){var a=this.currentTiles[r];this.isTileTextureInMemory(n,a)||this.retrieveTileImage(n,a,!0)}},h.prototype.isPrePopulated=function(t){if(!t)throw new e(o.logMessage(o.LEVEL_SEVERE,"TiledImageLayer","isPrePopulated","missingWorldWindow"));for(var n=0;n<this.topLevelTiles.length;n++)if(!this.isTileTextureInMemory(t.drawContext,this.topLevelTiles[n]))return!1;return!0},h.prototype.createTile=function(t,e,r,i){var o=this.cachePath+"-layer/"+e.levelNumber+"/"+r+"/"+r+"_"+i+"."+c.suffixForMimeType(this.retrievalImageFormat);return new n(t,e,r,i,o)},h.prototype.doRender=function(t){if(t.terrain){if(this.currentTilesInvalid||!t.modelviewProjection.equals(this.lasTtMVP)||t.globeStateKey!==this.lastGlobeStateKey)if(this.currentTilesInvalid=!1,t.surfaceOpacity>=1&&this.opacity>=1){this.previousTiles={};for(var e=0;e<this.currentTiles.length;e++)this.previousTiles[this.currentTiles[e].imagePath]=this.currentTiles[e];this.assembleTiles(t),this.fadeOutgoingTiles(t)}else this.assembleTiles(t);this.lasTtMVP.copy(t.modelviewProjection),this.lastGlobeStateKey=t.globeStateKey,this.currentTiles.length>0&&(t.surfaceTileRenderer.renderTiles(t,this.currentTiles,this.opacity,t.surfaceOpacity>=1),t.frameStatistics.incrementImageTileCount(this.currentTiles.length),this.inCurrentFrame=!0)}},h.prototype.fadeOutgoingTiles=function(t){for(var e=(t.timestamp-t.previousRedrawTimestamp)/t.fadeTime,n={},r=0;r<this.currentTiles.length;r++){var i=this.currentTiles[r];n[i.imagePath]=i}for(var o in this.previousTiles)this.previousTiles.hasOwnProperty(o)&&(i=this.previousTiles[o]).opacity>0&&!n[i.imagePath]&&(i.opacity=Math.max(0,i.opacity-e),i.opacity>0&&(this.currentTiles.push(i),this.currentTilesInvalid=!0,t.redrawRequested=!0))},h.prototype.isLayerInView=function(t){return t.terrain&&t.terrain.sector&&t.terrain.sector.intersects(this.levels.sector)},h.prototype.createTopLevelTiles=function(t){this.topLevelTiles=[],l.createTilesForLevel(this.levels.firstLevel(),this,this.topLevelTiles)},h.prototype.assembleTiles=function(t){this.currentTiles=[],this.topLevelTiles&&0!==this.topLevelTiles.length||this.createTopLevelTiles(t);for(var e=0,n=this.topLevelTiles.length;e<n;e++){var r=this.topLevelTiles[e];r.update(t),this.currentAncestorTile=null,this.isTileVisible(t,r)&&this.addTileOrDescendants(t,r)}},h.prototype.addTileOrDescendants=function(t,e){if(this.tileMeetsRenderingCriteria(t,e))this.addTile(t,e);else{var n=null;try{(this.isTileTextureInMemory(t,e)||0===e.level.levelNumber)&&(n=this.currentAncestorTile,this.currentAncestorTile=e);for(var r=this.levels.level(e.level.levelNumber+1),i=e.subdivideToCache(r,this,this.tileCache),o=0,a=i.length;o<a;o++){var s=i[o];s.update(t),this.levels.sector.intersects(s.sector)&&this.isTileVisible(t,s)&&this.addTileOrDescendants(t,s)}}finally{n&&(this.currentAncestorTile=n)}}},h.prototype.addTile=function(t,e){e.fallbackTile=null;var n=t.gpuResourceCache.resourceForKey(e.imagePath);return n?(e.opacity=1,this.currentTiles.push(e),void(this.expiration&&this.isTextureExpired(n)&&this.retrieveTileImage(t,e))):(this.retrieveTileImage(t,e),void(this.currentAncestorTile&&this.isTileTextureInMemory(t,this.currentAncestorTile)&&(e.fallbackTile=this.currentAncestorTile,e.fallbackTile.opacity=1,this.currentTiles.push(e))))},h.prototype.isTileVisible=function(t,e){return!(t.globe.projectionLimits&&!e.sector.overlaps(t.globe.projectionLimits))&&e.extent.intersectsFrustum(t.frustumInModelCoordinates)},h.prototype.tileMeetsRenderingCriteria=function(t,e){var n=this.detailControl;return(e.sector.minLatitude>=75||e.sector.maxLatitude<=-75)&&(n*=1.2),e.level.isLastLevel()||!e.mustSubdivide(t,n)},h.prototype.isTileTextureInMemory=function(t,e){return t.gpuResourceCache.containsResource(e.imagePath)},h.prototype.isTextureExpired=function(t){return this.expiration&&t.creationTime.getTime()<=this.expiration.getTime()},h.prototype.retrieveTileImage=function(t,e,n){if(this.currentRetrievals.indexOf(e.imagePath)<0){if(this.currentRetrievals.length>this.retrievalQueueSize)return;if(this.absentResourceList.isResourceAbsent(e.imagePath))return;var r=this.resourceUrlForTile(e,this.retrievalImageFormat),i=new Image,a=e.imagePath,s=t.gpuResourceCache,u=t.currentGlContext.canvas,l=this;if(!r)return void(this.currentTilesInvalid=!0);i.onload=function(){o.log(o.LEVEL_INFO,"Image retrieval succeeded: "+r);var c=l.createTexture(t,e,i);if(l.removeFromCurrentRetrievals(a),c&&(s.putResource(a,c,c.size),l.currentTilesInvalid=!0,l.absentResourceList.unmarkResourceAbsent(a),!n)){var h=document.createEvent("Event");h.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),u.dispatchEvent(h)}},i.onerror=function(){l.removeFromCurrentRetrievals(a),l.absentResourceList.markResourceAbsent(a),o.log(o.LEVEL_WARNING,"Image retrieval failed: "+r)},this.currentRetrievals.push(a),i.crossOrigin=this.crossOrigin,i.src=r}},h.prototype.createTexture=function(t,e,n){return new u(t.currentGlContext,n)},h.prototype.removeFromCurrentRetrievals=function(t){var e=this.currentRetrievals.indexOf(t);e>-1&&this.currentRetrievals.splice(e,1)},h.prototype.resourceUrlForTile=function(t,e){return this.urlBuilder?this.urlBuilder.urlForTile(t,e):null},h})),i("layer/MercatorTiledImageLayer",["../util/Color","../geom/Sector","../layer/TiledImageLayer","../geom/Vec2","../util/WWMath"],(function(t,e,n,r,i){"use strict";var o=function(t,e,i,o,a,s,u){n.call(this,t,e,i,o,a,s,u),this.detectBlankImages=!1,this.testPixels=[new r(20,20),new r(235,20),new r(20,235),new r(235,235)],this.destCanvas=document.createElement("canvas"),this.destContext=this.destCanvas.getContext("2d")};return(o.prototype=Object.create(n.prototype)).createTile=function(t,r,o,a){var s,u,l,c,h,f=this.mapSizeForLevel(r.levelNumber),p=i.clamp(a*this.imageSize,0,f),d=i.clamp(o*this.imageSize,0,f),g=i.clamp(p+this.imageSize,0,f);return s=p/f-.5,u=.5-i.clamp(d+this.imageSize,0,f)/f,l=90-360*Math.atan(Math.exp(2*-u*Math.PI))/Math.PI,c=360*s,s=g/f-.5,u=.5-d/f,h=90-360*Math.atan(Math.exp(2*-u*Math.PI))/Math.PI,t=new e(l,h,c,360*s),n.prototype.createTile.call(this,t,r,o,a)},o.prototype.createTexture=function(t,e,r){var o,a,s,u,l,c,h=t.canvas2D,f=t.ctx2D,p=this.destCanvas,d=this.destContext,g=d.createImageData(r.width,r.height),m=e.sector,y=i.gudermannianInverse(m.minLatitude),v=i.gudermannianInverse(m.maxLatitude);if(h.width=r.width,h.height=r.height,p.width=r.width,p.height=r.height,f.drawImage(r,0,0,r.width,r.height),o=f.getImageData(0,0,r.width,r.height),this.detectBlankImages&&this.isBlankImage(r,o))return this.absentResourceList.markResourceAbsentPermanently(e.imagePath),null;for(var b=0;b<1;b++)for(var E=0;E<r.height;E++){a=(1-E/(r.height-1))*m.deltaLatitude()+m.minLatitude,c=1-(i.gudermannianInverse(a)-y)/(v-y),c=i.clamp(c,0,1),s=Math.floor(c*(r.height-1));for(var _=0;_<r.width;_++)u=4*(_+s*r.width),l=4*(_+E*r.width),g.data[l]=o.data[u],g.data[l+1]=o.data[u+1],g.data[l+2]=o.data[u+2],g.data[l+3]=o.data[u+3]}return d.putImageData(g,0,0),n.prototype.createTexture.call(this,t,e,p)},o.prototype.isBlankImage=function(t,e){for(var n,r,i=null,o=0,a=this.testPixels.length;o<a;o++)if(r=4*((n=this.testPixels[o])[0]+n[1]*t.width),i){if(e.data[r]!=i[0]||e.data[r+1]!=i[1]||e.data[r+2]!=i[2])return!1}else i=[e.data[r],e.data[r+1],e.data[r+2]];return!0},o})),i("layer/BingTiledImageLayer",["../geom/Angle","../util/Color","../geom/Location","../util/Offset","../shapes/ScreenImage","../geom/Sector","../layer/MercatorTiledImageLayer"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t){this.imageSize=256,a.call(this,new o(-85.05,85.05,-180,180),new n(85.05,180),23,"image/jpeg",t,this.imageSize,this.imageSize),this.displayName=t,this.pickEnabled=!0,this.detectBlankImages=!0};return s.logoImage=null,s.logoLastFrameTime=0,(s.prototype=Object.create(a.prototype)).doRender=function(t){a.prototype.doRender.call(this,t),this.inCurrentFrame&&this.renderLogo(t)},s.prototype.createTopLevelTiles=function(t){this.topLevelTiles=[],this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),0,0)),this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),0,1)),this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),1,0)),this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),1,1))},s.prototype.renderLogo=function(t){s.logoImage||((s.logoImage=new i(WorldWind.configuration.bingLogoPlacement,WorldWind.configuration.baseUrl+"images/powered-by-bing.png")).imageColor=new e(1,1,1,.5)),s.logoLastFrameTime!==t.timestamp&&(s.logoImage.screenOffset=WorldWind.configuration.bingLogoPlacement,s.logoImage.imageOffset=WorldWind.configuration.bingLogoAlignment,s.logoImage.render(t),s.logoLastFrameTime=t.timestamp)},s.prototype.mapSizeForLevel=function(t){return 256<<t+1},s})),i("util/BingImageryUrlBuilder",["../error/ArgumentError","../util/Logger","../util/WWUtil"],(function(t,e,n){"use strict";var r=function t(e,n){var r="AkttWCS8p6qzxvx5RH3qUcCPgwG9nRJ7IwlpFGb14B0rBorB5DvmXr2Y_eCUNIxH";this.bingMapsKey=n,this.bingMapsKey||(this.bingMapsKey=WorldWind.BingMapsKey),this.bingMapsKey||(this.bingMapsKey=r),this.bingMapsKey===r&&t.showBingMapsKeyWarning(),this.imagerySet=e};return r.showBingMapsKeyWarning=function(){r.keyMessagePrinted||(r.keyMessagePrinted=!0,e.log(e.LEVEL_WARNING,"WARNING: You are using a limited use, non-production Bing Maps key.\nIf you are developing an app or a web page this violates the Bing Terms of Use.\nPlease visit https://www.microsoft.com/en-us/maps/create-a-bing-maps-key to obtain your own key for your application.\nSpecify that key to WorldWind by setting the WorldWind.BingMapsKey property to your key prior to creating any Bing Maps layers.\n"))},r.prototype.requestMetadata=function(){if(!this.metadataRetrievalInProcess){this.metadataRetrievalInProcess=!0;var t="https://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+this.imagerySet+"/0,0?zl=1&uriScheme=https&key="+this.bingMapsKey,e=this;n.jsonp(t,"jsonp",(function(t){e.imageUrl=t.resourceSets[0].resources[0].imageUrl;var n=document.createEvent("Event");n.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),window.dispatchEvent(n),e.metadataRetrievalInProcess=!1}))}},r.prototype.urlForTile=function(n,r){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"BingImageryUrlBuilder","urlForTile","missingTile"));if(!this.imageUrl)return this.requestMetadata(),null;var i,o=this.quadKeyFromLevelRowColumn(n.level.levelNumber,n.row,n.column);return"Aerial"===this.imagerySet?i=this.imageUrl.replace(/a3/,"a"+o):"AerialWithLabels"===this.imagerySet?i=this.imageUrl.replace(/h3/,"h"+o):"Road"===this.imagerySet&&(i=this.imageUrl.replace(/r3/,"r"+o)),i},r.prototype.quadKeyFromLevelRowColumn=function(t,e,n){for(var r,i,o="",a=t+1;a>0;a--)r=0,0!=(n&(i=1<<a-1))&&(r+=1),0!=(e&i)&&(r+=2),o+=r.toString();return o},r})),i("layer/BingAerialLayer",["../geom/Location","../geom/Sector","../layer/BingTiledImageLayer","../util/BingImageryUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,"Bing Aerial"),this.urlBuilder=new r("Aerial",t)};return i.prototype=Object.create(n.prototype),i})),i("layer/BingAerialWithLabelsLayer",["../geom/Location","../geom/Sector","../layer/BingTiledImageLayer","../util/BingImageryUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,"Bing Aerial with Labels"),this.urlBuilder=new r("AerialWithLabels",t)};return i.prototype=Object.create(n.prototype),i})),i("layer/BingRoadsLayer",["../geom/Location","../geom/Sector","../layer/BingTiledImageLayer","../util/BingImageryUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,"Bing Roads"),this.urlBuilder=new r("Road",t),this.detectBlankImages=!1};return i.prototype=Object.create(n.prototype),i})),i("layer/BingWMSLayer",["../geom/Location","../geom/Sector","../layer/TiledImageLayer","../util/WmsUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(){n.call(this,e.FULL_SPHERE,new t(45,45),16,"image/png","BingWMS",256,256),this.displayName="Bing WMS",this.pickEnabled=!1,this.maxActiveAltitude=1e4,this.urlBuilder=new r("https://worldwind27.arc.nasa.gov/wms/virtualearth","ve","","1.3.0")};return i.prototype=Object.create(n.prototype),i})),i("layer/BMNGLandsatLayer",["../geom/Location","../geom/Sector","../layer/TiledImageLayer","../util/WmsUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(){n.call(this,e.FULL_SPHERE,new t(45,45),12,"image/jpeg","BMNGLandsat256",256,256),this.displayName="Blue Marble & Landsat",this.pickEnabled=!1,this.urlBuilder=new r("https://worldwind25.arc.nasa.gov/wms","BlueMarble-200405,esat","","1.3.0")};return i.prototype=Object.create(n.prototype),i})),i("layer/BMNGLayer",["../geom/Location","../geom/Sector","../layer/TiledImageLayer","../util/WmsUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(i){n.call(this,e.FULL_SPHERE,new t(45,45),7,"image/jpeg",i||"BMNG256",256,256),this.displayName="Blue Marble",this.pickEnabled=!1,this.urlBuilder=new r("https://worldwind25.arc.nasa.gov/wms",i||"BlueMarble-200405","","1.3.0")};return i.prototype=Object.create(n.prototype),i})),i("layer/RenderableLayer",["../error/ArgumentError","../layer/Layer","../util/Logger"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t),this.renderables=[],this.timeRange=[]};return(r.prototype=Object.create(e.prototype)).addRenderable=function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"RenderableLayer","addRenderable","missingRenderable"));this.renderables.push(e)},r.prototype.addRenderables=function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"RenderableLayer","addRenderables","The renderables array is null or undefined."));for(var r=0,i=e.length;r<i;r++)this.addRenderable(e[r])},r.prototype.removeRenderable=function(t){var e=this.renderables.indexOf(t);e>=0&&this.renderables.splice(e,1)},r.prototype.removeAllRenderables=function(){this.renderables=[]},r.prototype.doRender=function(t){for(var e=t.orderedRenderables.length,r=0,i=this.renderables.length;r<i;r++)try{var o=this.renderables[r].enabled;this.renderables[r].enabled=this.solveTimeVisibility(t,this.renderables[r]),this.renderables[r].render(t),this.renderables[r].enabled=o}catch(t){n.logMessage(n.LEVEL_SEVERE,"RenderableLayer","doRender","Error while rendering shape "+this.renderables[r].displayName+".\n"+t.toString())}t.orderedRenderables.length>e&&(this.inCurrentFrame=!0)},r.prototype.solveTimeVisibility=function(t,e){var n=t.currentLayer.timeRange;if(e.timeRange.length>=2&&n.length>=2){var r=e.timeRange[0],i=e.timeRange[1],o=n[0],a=n[1];if(r<o||i>a)return!1}return e.enabled},r})),i("render/SurfaceTile",["../error/ArgumentError","../util/Logger","../geom/Matrix","../geom/Sector","../error/UnsupportedOperationError"],(function(t,e,n,r,i){"use strict";var o=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"SurfaceTile","constructor","missingSector"));this.sector=n};return o.prototype.bind=function(t){throw new i(e.logMessage(e.LEVEL_SEVERE,"SurfaceTile","bind","abstractInvocation"))},o.prototype.applyInternalTransform=function(t,n){throw new i(e.logMessage(e.LEVEL_SEVERE,"SurfaceTile","applyInternalTransform","abstractInvocation"))},o})),i("shapes/SurfaceImage",["../error/ArgumentError","../util/Logger","../pick/PickedObject","../render/SurfaceTile"],(function(t,e,n,r){"use strict";var i=function(n,i){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"SurfaceImage","constructor","missingSector"));if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"SurfaceImage","constructor","missingImage"));r.call(this,n),this.enabled=!0,this._imageSource=i,this.resamplingMode=WorldWind.FILTER_LINEAR,this.opacity=1,this.displayName="Surface Image",this.imageSourceWasUpdated=!0};return i.prototype=Object.create(r.prototype),Object.defineProperties(i.prototype,{imageSource:{get:function(){return this._imageSource},set:function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"SurfaceImage","imageSource","missingImage"));this._imageSource=n,this.imageSourceWasUpdated=!0}}}),i.prototype.bind=function(t){var e=t.gpuResourceCache.resourceForKey(this._imageSource);return e&&!this.imageSourceWasUpdated?this.bindTexture(t,e):(e=t.gpuResourceCache.retrieveTexture(t.currentGlContext,this._imageSource),this.imageSourceWasUpdated=!1,e?this.bindTexture(t,e):void 0)},i.prototype.bindTexture=function(t,e){var n=t.currentGlContext;return e.setTexParameter(n.TEXTURE_MAG_FILTER,this.resamplingMode===WorldWind.FILTER_NEAREST?n.NEAREST:n.LINEAR),e.bind(t)},i.prototype.applyInternalTransform=function(t,e){},i.prototype.render=function(t){if(this.enabled&&t.terrain&&this.sector.overlaps(t.terrain.sector)){if(t.pickingMode&&(this.pickColor=t.uniquePickColor()),t.surfaceTileRenderer.renderTiles(t,[this],this.opacity*t.currentLayer.opacity),t.pickingMode){var e=new n(this.pickColor.clone(),this.pickDelegate?this.pickDelegate:this,null,this.layer,!1);t.resolvePick(e)}t.currentLayer.inCurrentFrame=!0}},i})),i("layer/BMNGOneImageLayer",["../layer/RenderableLayer","../geom/Sector","../shapes/SurfaceImage","../util/WWUtil"],(function(t,e,n,r){"use strict";var i=function(){t.call(this,"Blue Marble Image");var r=new n(e.FULL_SPHERE,WorldWind.configuration.baseUrl+"images/BMNG_world.topo.bathy.200405.3.2048x1024.jpg");this.addRenderable(r),this.pickEnabled=!1,this.minActiveAltitude=3e6};return i.prototype=Object.create(t.prototype),i})),i("util/PeriodicTimeSequence",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function n(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"PeriodicTimeSequence","constructor","missingString"));var i=r.split("/");if(3!==i.length)throw new t(e.logMessage(e.LEVEL_SEVERE,"PeriodicTimeSequence","constructor","The interval string "+r+" does not contain 3 elements."));this.sequenceString=r,this.startTime=new Date(i[0]),this.endTime=new Date(i[1]),this.intervalMilliseconds=this.endTime.getTime()-this.startTime.getTime(),this._currentTime=this.startTime,this.infiniteInterval=this.startTime.getTime()==this.endTime.getTime(),this.period=n.parsePeriodString(i[2],!1)};return Object.defineProperties(n.prototype,{currentTime:{get:function(){return this._currentTime},set:function(t){this._currentTime=t}},scaleForCurrentTime:{get:function(){return this.currentTime?(this.currentTime.getTime()-this.startTime.getTime())/this.intervalMilliseconds:1}}}),n.prototype.next=function(){return this.currentTime?this.currentTime.getTime()>=this.endTime.getTime()&&!this.infiniteInterval?this.currentTime=null:this.currentTime=n.incrementTime(this.currentTime,this.period):this.currentTime=this.startTime,this.currentTime},n.prototype.previous=function(){return this.currentTime?this.currentTime.getTime()===this.startTime.getTime()?this.currentTime=null:this.currentTime=this.getTimeForScale(.9999*this.scaleForCurrentTime):this.currentTime=this.endTime,this.currentTime},n.prototype.reset=function(){this.currentTime=null},n.prototype.getTimeForScale=function(t){if(t<=0)return this.startTime;if(t>=1)return this.endTime;var e=new Date(this.startTime.getTime()),r=e,i=0;for(i=0;i<t;i=(e.getTime()-this.startTime.getTime())/this.intervalMilliseconds)r=e,e=n.incrementTime(e,this.period);return r},n.incrementTime=function(t,e){var r=new Date(t.getTime());return 0!=e[0]&&r.setUTCFullYear(r.getUTCFullYear()+e[0]),0!=e[1]&&n.addMonths(r,e[1]),0!=e[2]&&r.setUTCDate(r.getUTCDate()+7*e[2]),0!=e[3]&&r.setUTCDate(r.getUTCDate()+e[3]),0!=e[4]&&r.setUTCHours(r.getUTCHours()+e[4]),0!=e[5]&&r.setUTCMinutes(r.getUTCMinutes()+e[5]),0!=e[6]&&r.setUTCSeconds(r.getUTCSeconds()+e[6]),r},n.isLeapYear=function(t){return t%4===0&&t%100!==0||t%400===0},n.getDaysInMonth=function(t,e){return[31,n.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},n.addMonths=function(t,e){var r=t.getUTCDate();return t.setUTCDate(1),t.setUTCMonth(t.getUTCMonth()+e),t.setUTCDate(Math.min(r,n.getDaysInMonth(t.getUTCFullYear(),t.getUTCMonth()))),t},n.parsePeriodString=function(n,r){var i,o=!!r&&r,a=[2,3,4,5,7,8,9],s=[0,0,0,0,0,0,0],u=[0,12,4,7,24,60,60];if(!(n=n.toUpperCase().trim()))return s;if("string"!=typeof n)throw new t(e.logMessage(e.LEVEL_SEVERE,"PeriodicTimeSequence","parsePeriodString","Invalid ISO8601 period string '"+n+"'"));if(!(i=/^P((\d+Y)?(\d+M)?(\d+W)?(\d+D)?)?(T(\d+H)?(\d+M)?(\d+S)?)?$/.exec(n)))throw new t(e.logMessage(e.LEVEL_SEVERE,"PeriodicTimeSequence","parsePeriodString","String '"+n+"' is not a valid ISO8601 period."));for(var l=0;l<a.length;l++){var c=a[l];s[l]=i[c]?+i[c].replace(/[A-Za-z]+/g,""):0}if(o)for(l=s.length-1;l>0;l--)s[l]>=u[l]&&(s[l-1]=s[l-1]+Math.floor(s[l]/u[l]),s[l]=s[l]%u[l]);return s},n})),i("util/LevelRowColumnUrlBuilder",["../error/ArgumentError","../util/Logger","../util/WWUtil"],(function(t,e,n){"use strict";var r=function(t,e){this.serverAddress=t,t&&0!==t.length||(this.serverAddress=n.currentUrlSansFilePart()),this.pathToData=e};return r.prototype.urlForTile=function(r,i){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsUrlBuilder","urlForTile","missingTile"));if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsUrlBuilder","urlForTile","The image format is null or undefined."));var o=this.serverAddress;return this.pathToData&&(o=o+"/"+this.pathToData),(o=(o=(o=(o=o+"/"+r.level.levelNumber.toString())+"/"+r.row.toString())+"/"+r.row.toString()+"_"+r.column.toString())+"."+n.suffixForMimeType(i)).replace(" ","%20")},r})),i("layer/RestTiledImageLayer",["../error/ArgumentError","../geom/Location","../util/Logger","../geom/Sector","../layer/TiledImageLayer","../util/LevelRowColumnUrlBuilder","../util/WWUtil"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t,n,s,u){var l=a.urlPath(t+"/"+n);i.call(this,u&&u.sector||r.FULL_SPHERE,u&&u.levelZeroTileDelta||new e(45,45),u&&u.numLevels||5,u&&u.imageFormat||"image/jpeg",l,u&&u.tileWidth||256,u&&u.tileHeight||256),this.displayName=s,this.pickEnabled=!1,this.urlBuilder=new o(t,n)};return s.prototype=Object.create(i.prototype),s})),i("layer/BMNGRestLayer",["../error/ArgumentError","../layer/Layer","../util/Logger","../util/PeriodicTimeSequence","../layer/RestTiledImageLayer"],(function(t,e,n,r,i){"use strict";var o=function t(n,i,o,a){e.call(this,o||"Blue Marble time series"),this.time=a||new Date("2004-01"),this.timeSequence=new r("2004-01-01/2004-12-01/P1M"),this.serverAddress=n,this.pathToData=i,this.layers={},this.layerNames=[{month:"BlueMarble-200401",time:t.availableTimes[0]},{month:"BlueMarble-200402",time:t.availableTimes[1]},{month:"BlueMarble-200403",time:t.availableTimes[2]},{month:"BlueMarble-200404",time:t.availableTimes[3]},{month:"BlueMarble-200405",time:t.availableTimes[4]},{month:"BlueMarble-200406",time:t.availableTimes[5]},{month:"BlueMarble-200407",time:t.availableTimes[6]},{month:"BlueMarble-200408",time:t.availableTimes[7]},{month:"BlueMarble-200409",time:t.availableTimes[8]},{month:"BlueMarble-200410",time:t.availableTimes[9]},{month:"BlueMarble-200411",time:t.availableTimes[10]},{month:"BlueMarble-200412",time:t.availableTimes[11]}],this.pickEnabled=!1};return o.prototype=Object.create(e.prototype),o.availableTimes=[new Date("2004-01"),new Date("2004-02"),new Date("2004-03"),new Date("2004-04"),new Date("2004-05"),new Date("2004-06"),new Date("2004-07"),new Date("2004-08"),new Date("2004-09"),new Date("2004-10"),new Date("2004-11"),new Date("2004-12")],o.prototype.prePopulate=function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"BMNGRestLayer","prePopulate","missingWorldWindow"));for(var r=0;r<this.layerNames.length;r++){var i=this.layerNames[r].month;this.layers[i]||this.createSubLayer(i),this.layers[i].prePopulate(e)}},o.prototype.isPrePopulated=function(t){for(var e=0;e<this.layerNames.length;e++){var n=this.layers[this.layerNames[e].month];if(!n||!n.isPrePopulated(t))return!1}return!0},o.prototype.doRender=function(t){var e=this.nearestLayer(this.time);e.opacity=this.opacity,this.detailControl&&(e.detailControl=this.detailControl),e.doRender(t),this.inCurrentFrame=e.inCurrentFrame},o.prototype.nearestLayer=function(t){var e=this.nearestLayerName(t);return this.layers[e]||this.createSubLayer(e),this.layers[e]},o.prototype.createSubLayer=function(t){var e;e=this.pathToData?this.pathToData+"/"+t:t,this.layers[t]=new i(this.serverAddress,e,this.displayName)},o.prototype.nearestLayerName=function(t){var e=t.getTime();if(e<=this.layerNames[0].time.getTime())return this.layerNames[0].month;if(e>=this.layerNames[11].time.getTime())return this.layerNames[11].month;for(var n=0;n<this.layerNames.length-1;n++){var r=this.layerNames[n].time.getTime(),i=this.layerNames[n+1].time.getTime();if(e>=r&&e<=i)return e-r<i-e?this.layerNames[n].month:this.layerNames[n+1].month}},o})),i("formats/collada/ColladaAsset",[],(function(){"use strict";var t=function(t){this.xmlAsset=t.getElementsByTagName("asset")[0],this.asset={daeVersion:t.querySelector("COLLADA").getAttribute("version")}};return t.prototype.parse=function(){if(!this.xmlAsset)return null;for(var t=0;t<this.xmlAsset.childNodes.length;t++){var e=this.xmlAsset.childNodes.item(t);if(1===e.nodeType)switch(e.nodeName){case"contributor":var n=e.querySelector("authoring_tool");n&&(this.asset.authoring_tool=n.textContext);break;case"unit":this.asset.unit=e.getAttribute("meter");break;default:this.asset[e.localName]=e.textContent}}return this.xmlAsset=null,this.asset},t})),i("formats/collada/ColladaUtils",["../../util/Logger"],(function(t){"use strict";return{getRawValues:function(t){if(!t)return null;var e=t.textContent;return 0===(e=(e=(e=e.replace(/\n/gi," ")).replace(/\s+/gi," ")).trim()).length?null:e.split(" ")},bufferDataFloat32:function(t){var e=this.getRawValues(t);if(!e)return null;for(var n=e.length,r=new Float32Array(n),i=0;i<n;i++)r[i]=parseFloat(e[i]);return r},bufferDataUInt32:function(t){var e=this.getRawValues(t);if(!e)return null;for(var n=e.length,r=new Uint32Array(n),i=0;i<n;i++)r[i]=parseInt(e[i]);return r},getFirstChildElement:function(t,e){for(var n=t.childNodes,r=0;r<n.length;++r){var i=n.item(r);if(1===i.nodeType&&(i.nodeName&&!e||e&&e===i.nodeName))return i}return null},getFilename:function(t){var e=t.lastIndexOf("\\");return-1!==e&&(t=t.substr(e+1)),-1!==(e=t.lastIndexOf("/"))&&(t=t.substr(e+1)),t},replaceSpace:function(t){return t?t.replace(/ /g,"_"):""},querySelectorById:function(t,e){for(var n=0;n<t.length;n++){var r=t.item(n).getAttribute("id");if(r&&r.toString()===e)return t.item(n)}return null},getTextureType:function(t){for(var e=!0,n=0,r=t.length;n<r;n++)if(t[n]<0||t[n]>1){e=!1;break}return e},fetchFile:function(e,n){var r=new XMLHttpRequest;r.onload=function(){this.status>=200&&this.status<400||0===this.status?n(this.response):(t.log(t.LEVEL_SEVERE,"sever error: "+this.status),n(null))},r.onerror=function(e){t.log(t.LEVEL_SEVERE,"connection error: "+e),n(null)},r.open("get",e,!0),r.send()}}})),i("formats/collada/ColladaImage",["./ColladaUtils"],(function(t){"use strict";var e=function(t,e){this.filename="",this.map=t,this.name=e,this.path=""};return e.prototype.parse=function(e){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"init_from":this.filename=t.getFilename(r.textContent),this.path=r.textContent}}return this},e})),i("formats/collada/ColladaMaterial",["./ColladaUtils"],(function(t){"use strict";var e=function(t){this.id=t,this.newParams=[]};return e.prototype.parse=function(t){for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];if(1===n.nodeType)switch(n.nodeName){case"profile_COMMON":this.parseProfileCommon(n)}}return this},e.prototype.parseProfileCommon=function(t){for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];if(1===n.nodeType)switch(n.nodeName){case"newparam":this.parseNewparam(n);break;case"image":break;case"technique":this.parseTechnique(n)}}},e.prototype.parseNewparam=function(t){for(var e=t.getAttribute("sid"),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"surface":var i=r.querySelector("init_from");i&&this.newParams.push({sid:e,type:"surface",initFrom:i.textContent});break;case"sampler2D":var o=r.querySelector("source");this.newParams.push({sid:e,type:"sampler2D",source:o.textContent})}}},e.prototype.parseTechnique=function(t){for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];if(1===n.nodeType)switch(n.nodeName){case"constant":case"lambert":case"blinn":case"phong":this.techniqueType=n.nodeName,this.parseTechniqueType(n)}}},e.prototype.parseTechniqueType=function(e){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType&&r.nodeName){var i=r.nodeName,o=t.getFirstChildElement(r);if(o)switch(o.nodeName){case"color":this[i]=t.bufferDataFloat32(o).subarray(0,4);break;case"float":this[i]=t.bufferDataFloat32(o)[0];break;case"texture":var a=o.getAttribute("texture"),s=this.newParams.map((function(t){return t.sid})).indexOf(a),u=this.newParams[s].source;s=this.newParams.map((function(t){return t.sid})).indexOf(u);var l=this.newParams[s].initFrom;this.textures||(this.textures={}),this.textures[i]={mapId:l}}}}},e})),i("formats/collada/ColladaMesh",["./ColladaUtils"],(function(t){"use strict";var e=function(t){this.filename=t||"",this.name=t||"",this.buffers=[]};return e.prototype.parse=function(e){for(var n={},r={},i={id:"",inputs:[]},o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if(1===a.nodeType)switch(a.nodeName){case"source":if(!a.querySelector)continue;var s=a.querySelector("float_array");if(!s)continue;var u=t.bufferDataFloat32(s),l=a.querySelector("accessor"),c=parseInt(l.getAttribute("stride"));n[a.getAttribute("id")]={stride:c,data:u};break;case"vertices":this.parseVertices(a,i);break;case"triangles":r=this.parsePolygons(a,n,i,3),this.buffers.push(r);break;case"polygons":r=this.parsePolygons(a,n,i,4),this.buffers.push(r);break;case"polylist":r=this.parsePolygons(a,n,i,null),this.buffers.push(r)}}return this},e.prototype.parseVertices=function(t,e){e.id=t.getAttribute("id");for(var n=t.querySelectorAll("input"),r=0;r<n.length;r++){var i=n[r],o=i.getAttribute("source").substr(1),a=i.getAttribute("semantic").toUpperCase();e.inputs.push({semantic:a,source:o})}},e.prototype.parsePolygons=function(t,e,n,r){var i=[];null==r&&(i=t.querySelector("vcount").textContent.trim().split(" "));var o=parseInt(t.getAttribute("count")),a=t.getAttribute("material"),s=this.parseInputs(t,e,n),u=s.inputs,l=s.maxOffset,c=t.querySelector("p"),h=[];c&&(h=c.textContent.trim().split(" "));for(var f=u.length,p=0,d={},g=[],m=0,y=!1,v=!1,b=0;b<o;b++){if(i.length)var E=parseInt(i[b]);else E=r;for(var _=-1,w=-1,S=-1,x=0;x<E;x++){var T=h.slice(m,m+l).join(" ");if(S=w,d.hasOwnProperty(T))w=d[T],y=!0;else{for(var O=0;O<f;O++){var C=u[O],A=C[4],L=parseInt(h[m+A]),P=C[1],R=C[3];L*=C[2];for(var M=0;M<C[2];M++)P.push(R[L+M])}w=p,p+=1,d[T]=w}E>3&&(0===x&&(_=w),x>2*l&&((_>65535||S>65535)&&(v=!0),g.push(_),g.push(S))),w>65535&&(v=!0),g.push(w),m+=l}}var k={vertices:new Float32Array(u[0][1]),indexedRendering:y,material:a};return k.indexedRendering&&(k.indices=v?new Uint32Array(g):new Uint16Array(g)),this.transformMeshInfo(k,u),k},e.prototype.parseInputs=function(t,e,n){for(var r=[],i=0,o=t.querySelectorAll("input"),a=0;a<o.length;a++){var s=o.item(a);if(s.getAttribute){var u=s.getAttribute("semantic").toUpperCase(),l=s.getAttribute("source").substr(1),c=parseInt(s.getAttribute("offset"));i=i<c+1?c+1:i;var h=0;if(s.getAttribute("set")&&(h=parseInt(s.getAttribute("set"))),n.id===l)for(var f=n.inputs,p=0;p<f.length;p++){var d=e[f[p].source];d&&r.push([f[p].semantic,[],d.stride,d.data,c,h])}else d=e[l],r.push([u,[],d.stride,d.data,c,h])}}return{inputs:r,maxOffset:i}},e.prototype.transformMeshInfo=function(e,n){for(var r={normal:"normals",texcoord:"uvs"},i=1;i<n.length;i++){var o=n[i][0].toLowerCase(),a=n[i][1];a.length&&(r[o]&&(o=r[o]),e[o]&&(o+=n[i][5]),e[o]=new Float32Array(a),"uvs"===o&&(e.isClamp=t.getTextureType(a)))}return e},e})),i("formats/collada/ColladaNode",["./ColladaUtils","../../geom/Matrix","../../geom/Vec3"],(function(t,e,n){"use strict";var r=function(){this.id="",this.name="",this.sid="",this.children=[],this.materials=[],this.mesh="",this.localMatrix=e.fromIdentity(),this.worldMatrix=e.fromIdentity()};return r.prototype.parse=function(t,n,i){this.id=t.getAttribute("id"),this.sid=t.getAttribute("sid"),this.name=t.getAttribute("name"),this.children=[],this.materials=[],this.mesh="",this.localMatrix=e.fromIdentity(),this.worldMatrix=e.fromIdentity(),this.setNodeTransforms(t,i);for(var o=0;o<t.childNodes.length;o++){var a=t.childNodes[o];if(1===a.nodeType)switch(a.nodeName){case"node":this.children.push((new r).parse(a,n,this.worldMatrix));break;case"instance_geometry":this.mesh=a.getAttribute("url").substr(1);for(var s=a.querySelectorAll("instance_material"),u=0;u<s.length;u++){var l=s.item(u);this.materials.push({id:l.getAttribute("target").substr(1),symbol:l.getAttribute("symbol")})}break;case"instance_node":var c=a.getAttribute("url").substr(1),h=this.getLibraryNode(n,c);h&&this.children.push((new r).parse(h,n,this.worldMatrix))}}return this},r.prototype.setNodeTransforms=function(r,i){var o=e.fromIdentity(),a=e.fromIdentity(),s=e.fromIdentity(),u=e.fromIdentity();i||(i=e.fromIdentity());for(var l=[],c=0;c<r.childNodes.length;c++){var h=r.childNodes[c];if(1===h.nodeType)switch(h.nodeName){case"matrix":var f=t.bufferDataFloat32(h);o.copy(f),l.push(o);break;case"rotate":f=t.bufferDataFloat32(h),a.multiplyByRotation(f[0],f[1],f[2],f[3]),l.push(a);break;case"translate":f=t.bufferDataFloat32(h),s.multiplyByTranslation(f[0],f[1],f[2]),l.push(s);break;case"scale":f=t.bufferDataFloat32(h),u.multiplyByScale(f[0],f[1],f[2]),l.push(u)}}for(c=0;c<l.length;c++)this.localMatrix.multiplyMatrix(l[c]);this.worldMatrix.setToMultiply(i,this.localMatrix),this.normalMatrix=e.fromIdentity();var p=new n(0,0,0);this.worldMatrix.extractRotationAngles(p),this.normalMatrix.multiplyByRotation(-1,0,0,p[0]),this.normalMatrix.multiplyByRotation(0,-1,0,p[1]),this.normalMatrix.multiplyByRotation(0,0,-1,p[2])},r.prototype.getLibraryNode=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].attributes.getNamedItem("id");if(r&&r.value===e)return t[n]}return null},r})),i("formats/collada/ColladaScene",["../../error/ArgumentError","../../shaders/BasicTextureProgram","../../util/Color","../../util/Logger","../../geom/Matrix","../../geom/Position","../../pick/PickedObject","../../render/Renderable","../../geom/Vec3"],(function(t,e,n,r,i,o,a,s,u){"use strict";var l=function(e,o){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"ColladaScene","constructor","missingPosition"));s.call(this),this._position=e,this._nodes=[],this._meshes={},this._materials={},this._images={},this._upAxis="",this._dirPath="",this._xRotation=0,this._yRotation=0,this._zRotation=0,this._xTranslation=0,this._yTranslation=0,this._zTranslation=0,this._scale=1,this._altitudeMode=WorldWind.ABSOLUTE,this._localTransforms=!0,this._useTexturePaths=!0,this._nodesToHide=[],this._hideNodes=!1,this._placePoint=new u(0,0,0),this._transformationMatrix=i.fromIdentity(),this._mvpMatrix=i.fromIdentity(),this._normalTransformMatrix=i.fromIdentity(),this._normalMatrix=i.fromIdentity(),this._texCoordMatrix=i.fromIdentity().setToUnitYFlip(),this._entities=[],this._activeTexture=null,this._tmpVector=new u(0,0,0),this._tmpColor=new n(1,1,1,1),this._vboCacheKey="",this._iboCacheKey="",this.setSceneData(o)};return(l.prototype=Object.create(s.prototype)).constructor=l,Object.defineProperties(l.prototype,{position:{get:function(){return this._position},set:function(t){this._position=t}},nodes:{get:function(){return this._nodes},set:function(t){this._nodes=t}},meshes:{get:function(){return this._meshes},set:function(t){this._meshes=t}},materials:{get:function(){return this._materials},set:function(t){this._materials=t}},images:{get:function(){return this._images},set:function(t){this._images=t}},upAxis:{get:function(){return this._upAxis},set:function(t){this._upAxis=t}},dirPath:{get:function(){return this._dirPath},set:function(t){this._dirPath=t}},xRotation:{get:function(){return this._xRotation},set:function(t){this._xRotation=t}},yRotation:{get:function(){return this._yRotation},set:function(t){this._yRotation=t}},zRotation:{get:function(){return this._zRotation},set:function(t){this._zRotation=t}},xTranslation:{get:function(){return this._xTranslation},set:function(t){this._xTranslation=t}},yTranslation:{get:function(){return this._yTranslation},set:function(t){this._yTranslation=t}},zTranslation:{get:function(){return this._zTranslation},set:function(t){this._zTranslation=t}},scale:{get:function(){return this._scale},set:function(t){this._scale=t}},placePoint:{get:function(){return this._placePoint},set:function(t){this._placePoint=t}},altitudeMode:{get:function(){return this._altitudeMode},set:function(t){this._altitudeMode=t}},transformationMatrix:{get:function(){return this._transformationMatrix},set:function(t){this._transformationMatrix=t}},normalMatrix:{get:function(){return this._normalMatrix},set:function(t){this._normalMatrix=t}},localTransforms:{get:function(){return this._localTransforms},set:function(t){this._localTransforms=t}},useTexturePaths:{get:function(){return this._useTexturePaths},set:function(t){this._useTexturePaths=t}},nodesToHide:{get:function(){return this._nodesToHide},set:function(t){this._nodesToHide=t}},hideNodes:{get:function(){return this._hideNodes},set:function(t){this._hideNodes=t}}}),l.prototype.setSceneData=function(t){t&&(this._nodes=t.root.children,this._meshes=t.meshes,this._materials=t.materials,this._images=t.images,this._upAxis=t.metadata.up_axis,this._dirPath=t.dirPath,this.flattenModel())},l.prototype.flattenModel=function(){for(var t=0,e=this._nodes.length;t<e;t++)this.flattenNode(this._nodes[t]);this._entities.sort((function(t,e){var n=null===t.imageKey?"":""+t,r=null===e.imageKey?"":""+e;return n>r?1:n===r?0:-1}))},l.prototype.flattenNode=function(t){if(t.mesh)for(var e=t.mesh,n=this._meshes[e].buffers,r=0,i=n.length;r<i;r++){for(var o=n[r].material,a=0;a<t.materials.length;a++)if(o===t.materials[a].symbol){var s=t.materials[a].id;break}var u=this._materials[s],l=null;u&&u.textures&&n[r].uvs&&n[r].uvs.length>0&&(u.textures.diffuse?l=u.textures.diffuse.mapId:u.textures.reflective&&(l=u.textures.reflective.mapId)),this._entities.push({mesh:n[r],material:u,node:t,imageKey:l})}for(var c=0;c<t.children.length;c++)this.flattenNode(t.children[c])},l.prototype.render=function(t){var e,n=t.frustumInModelCoordinates;this.enabled&&(this.lastFrameTime!==t.timestamp&&(e=this.makeOrderedRenderable(t)),e&&n.containsPoint(this._placePoint)&&(e.layer=t.currentLayer,this.lastFrameTime=t.timestamp,t.addOrderedRenderable(e)))},l.prototype.makeOrderedRenderable=function(t){return t.surfacePointForMode(this._position.latitude,this._position.longitude,this._position.altitude,this._altitudeMode,this._placePoint),this.eyeDistance=t.eyePoint.distanceTo(this._placePoint),this},l.prototype.renderOrdered=function(t){if(this.drawOrderedScene(t),t.pickingMode){var e=new a(this.pickColor.clone(),this,this._position,this.layer,!1);t.resolvePick(e)}},l.prototype.drawOrderedScene=function(t){try{this.beginDrawing(t)}finally{this.endDrawing(t)}},l.prototype.beginDrawing=function(t){var n=t.currentGlContext,r=t.gpuResourceCache,i=r.resourceForKey(this._vboCacheKey),o=r.resourceForKey(this._iboCacheKey);i||(this.setupBuffers(t),i=r.resourceForKey(this._vboCacheKey),o=r.resourceForKey(this._iboCacheKey)),n.bindBuffer(n.ARRAY_BUFFER,i),o&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,o),t.findAndBindProgram(e),n.enableVertexAttribArray(0),t.pickingMode&&(this.pickColor=t.uniquePickColor()),this.computeTransformationMatrix(t.globe);for(var a=0,s=this._entities.length;a<s;a++)this.mustRenderNode(this._entities[a].node.id)&&this.draw(t,this._entities[a])},l.prototype.setupBuffers=function(t){for(var e=t.currentGlContext,n=Float32Array.BYTES_PER_ELEMENT||4,i=Uint16Array.BYTES_PER_ELEMENT||2,o=Uint32Array.BYTES_PER_ELEMENT||4,a=!1,s=0,u=0,l=0,c=this._entities.length;l<c;l++){var h=this._entities[l].mesh;h.indexedRendering&&(s+=h.indices.length,h.indices instanceof Uint32Array&&(a=!0)),u+=h.vertices.length,this._entities[l].imageKey&&(u+=h.uvs.length),h.normals&&h.normals.length&&(u+=h.normals.length)}var f=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,f),e.bufferData(e.ARRAY_BUFFER,u*n,e.STATIC_DRAW);var p=0;for(l=0,c=this._entities.length;l<c;l++){var d=this._entities[l].mesh.vertices;this._entities[l].vertexOffset=p,e.bufferSubData(e.ARRAY_BUFFER,p*n,d),p+=d.length}for(l=0,c=this._entities.length;l<c;l++)this._entities[l].imageKey&&(d=this._entities[l].mesh.uvs,this._entities[l].uvOffset=p,e.bufferSubData(e.ARRAY_BUFFER,p*n,d),p+=d.length);for(l=0,c=this._entities.length;l<c;l++)(d=d=this._entities[l].mesh.normals)&&d.length&&(this._entities[l].normalOffset=p,e.bufferSubData(e.ARRAY_BUFFER,p*n,d),p+=d.length);var g,m=i,y=s*m;if(a&&((g=t.getExtension("OES_element_index_uint"))?y=s*(m=o):r.log(r.LEVEL_SEVERE,'The 3D model is too big and might not render properly. \nYour browser does not support the "OES_element_index_uint" extension, required to render large models.')),s){var v=e.createBuffer();for(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,v),e.bufferData(e.ELEMENT_ARRAY_BUFFER,y,e.STATIC_DRAW),p=0,l=0,c=this._entities.length;l<c;l++)(h=this._entities[l].mesh).indexedRendering&&((d=h.indices)instanceof Uint32Array&&!g&&(d=new Uint16Array(d)),this._entities[l].indexOffset=p,this._entities[l].indexSize=m,e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,p*m,d),p+=d.length)}this._vboCacheKey=t.gpuResourceCache.generateCacheKey(),t.gpuResourceCache.putResource(this._vboCacheKey,f,u*n),s&&(this._iboCacheKey=t.gpuResourceCache.generateCacheKey(),t.gpuResourceCache.putResource(this._iboCacheKey,v,y))},l.prototype.draw=function(t,e){var n=t.currentGlContext,r=t.currentProgram,i=t.gpuResourceCache,o=e.mesh,a=e.material,s=e.node.worldMatrix,u=e.node.normalMatrix,l=o.normals&&o.normals.length,c=e.imageKey;if(this.applyColor(t,a),c){var h=this._useTexturePaths?this._images[c].path:this._images[c].filename,f=this._dirPath+h;if(this._activeTexture=i.resourceForKey(f),!this._activeTexture){var p=o.isClamp?n.CLAMP_TO_EDGE:n.REPEAT;this._activeTexture=i.retrieveTexture(n,f,p)}this._activeTexture&&this._activeTexture.bind(t)?(r.loadTextureEnabled(n,!0),n.vertexAttribPointer(2,2,n.FLOAT,!1,8,4*e.uvOffset),n.enableVertexAttribArray(2),r.loadModulateColor(n,t.pickingMode)):(r.loadTextureEnabled(n,!1),n.disableVertexAttribArray(2))}else r.loadTextureEnabled(n,!1),n.disableVertexAttribArray(2);if(l&&!t.pickingMode?(r.loadApplyLighting(n,1),n.vertexAttribPointer(1,3,n.FLOAT,!1,12,4*e.normalOffset),n.enableVertexAttribArray(1)):(r.loadApplyLighting(n,0),n.disableVertexAttribArray(1)),this.applyMatrix(t,l,f,s,u),n.vertexAttribPointer(0,3,n.FLOAT,!1,12,4*e.vertexOffset),o.indexedRendering){var d=e.indexOffset*e.indexSize;o.indices instanceof Uint32Array&&t.getExtension("OES_element_index_uint")?n.drawElements(n.TRIANGLES,o.indices.length,n.UNSIGNED_INT,d):n.drawElements(n.TRIANGLES,o.indices.length,n.UNSIGNED_SHORT,d)}else n.drawArrays(n.TRIANGLES,0,Math.floor(o.vertices.length/3))},l.prototype.applyColor=function(t,e){var n=t.currentGlContext,r=t.currentProgram;if(e)if("constant"===e.techniqueType)var i=e.reflective;else i=e.diffuse;var o,a=1,s=1,u=1,l=1;i&&(a=i[0],s=i[1],u=i[2],l=null!=i[3]?i[3]:1),this._tmpColor.set(a,s,u,l),o=l*this.layer.opacity,n.depthMask(o>=1||t.pickingMode),r.loadColor(n,t.pickingMode?this.pickColor:this._tmpColor),r.loadOpacity(n,t.pickingMode?o>0?1:0:o)},l.prototype.applyMatrix=function(t,e,n,r,i){this._mvpMatrix.copy(t.modelviewProjection),this._mvpMatrix.multiplyMatrix(this._transformationMatrix),r&&this._localTransforms&&this._mvpMatrix.multiplyMatrix(r),e&&!t.pickingMode&&(this._normalMatrix.copy(t.modelviewNormalTransform),this._normalMatrix.multiplyMatrix(this._normalTransformMatrix),i&&this._localTransforms&&this._normalMatrix.multiplyMatrix(i),t.currentProgram.loadModelviewInverse(t.currentGlContext,this._normalMatrix)),n&&this._activeTexture&&(t.currentProgram.loadTextureMatrix(t.currentGlContext,this._texCoordMatrix),this._activeTexture=null),t.currentProgram.loadModelviewProjection(t.currentGlContext,this._mvpMatrix)},l.prototype.endDrawing=function(t){var e=t.currentGlContext,n=t.currentProgram;e.disableVertexAttribArray(1),e.disableVertexAttribArray(2),n.loadApplyLighting(e,0),n.loadTextureEnabled(e,!1)},l.prototype.computeTransformationMatrix=function(t){this._transformationMatrix.setToIdentity(),this._transformationMatrix.multiplyByLocalCoordinateTransform(this._placePoint,t),this._transformationMatrix.multiplyByRotation(1,0,0,this._xRotation),this._transformationMatrix.multiplyByRotation(0,1,0,this._yRotation),this._transformationMatrix.multiplyByRotation(0,0,1,this._zRotation),this._transformationMatrix.multiplyByScale(this._scale,this._scale,this._scale),this._transformationMatrix.multiplyByTranslation(this._xTranslation,this._yTranslation,this._zTranslation),this.computeNormalMatrix()},l.prototype.computeNormalMatrix=function(){this._transformationMatrix.extractRotationAngles(this._tmpVector),this._normalTransformMatrix.setToIdentity(),this._normalTransformMatrix.multiplyByRotation(-1,0,0,this._tmpVector[0]),this._normalTransformMatrix.multiplyByRotation(0,-1,0,this._tmpVector[1]),this._normalTransformMatrix.multiplyByRotation(0,0,-1,this._tmpVector[2])},l.prototype.mustRenderNode=function(t){var e=!0;return this._hideNodes&&(e=-1===this._nodesToHide.indexOf(t)),e},l})),i("formats/collada/ColladaLoader",["../../error/ArgumentError","./ColladaAsset","./ColladaImage","./ColladaMaterial","./ColladaMesh","./ColladaNode","./ColladaScene","./ColladaUtils","../../util/Logger"],(function(t,e,n,r,i,o,a,s,u){"use strict";var l=function(e,n){if(!e)throw new t(u.logMessage(u.LEVEL_SEVERE,"ColladaLoader","constructor","missingPosition"));this.position=e,this.dirPath="/",this.init(n)};return l.prototype.init=function(t){t&&(this.dirPath=t.dirPath||"/"),this.scene={type:"SceneTree",dirPath:this.dirPath,images:{},metadata:{},materials:{},meshes:{},root:{children:[]}},this.xmlDoc=null},l.prototype.load=function(t,e){-1===t.indexOf("://")&&(t=this.dirPath+t),s.fetchFile(t,function(t){if(t)try{n=this.parse(t)}catch(t){n=null,u.log(u.LEVEL_SEVERE,"error parsing collada file: "+t)}else var n=null;e(n)}.bind(this))},l.prototype.parse=function(t){this.init();var n=new DOMParser;this.xmlDoc=n.parseFromString(t,"text/xml");var r=this.xmlDoc.querySelectorAll("library_nodes node"),i=this.xmlDoc.querySelectorAll("library_effects effect");return this.scene.metadata=new e(this.xmlDoc).parse(),this.parseLib("visual_scene",r),this.parseLib("library_geometries"),this.parseLib("library_materials",i),this.parseLib("library_images"),this.xmlDoc=null,new a(this.position,this.scene)},l.prototype.parseLib=function(t,e){var a=this.xmlDoc.getElementsByTagName(t),u=[];a&&a.length&&(u=a[0].childNodes);for(var l=0;l<u.length;l++){var c=u[l];if(1===c.nodeType)switch(c.nodeName){case"node":var h=(new o).parse(c,e);h&&this.scene.root.children.push(h);break;case"geometry":var f=c.getAttribute("id"),p=c.querySelector("mesh"),d=new i(f).parse(p);d&&(this.scene.meshes[f]=d);break;case"material":var g=c.getAttribute("id"),m=c.querySelector("instance_effect").getAttribute("url").substr(1),y=s.querySelectorById(e,m),v=new r(g).parse(y);v&&(this.scene.materials[g]=v);break;case"image":var b=c.getAttribute("id"),E=c.getAttribute("name"),_=new n(b,E).parse(c);_&&(this.scene.images[b]=_)}}},l})),i("shapes/Compass",["../error/ArgumentError","../util/Logger","../util/Offset","../shapes/ScreenImage"],(function(t,e,n,r){"use strict";var i=function(t,e){var i=t||new n(WorldWind.OFFSET_FRACTION,1,WorldWind.OFFSET_FRACTION,1),o=e||WorldWind.configuration.baseUrl+"images/notched-compass.png";r.call(this,i,o),t||(this.imageOffset=new n(WorldWind.OFFSET_FRACTION,1.1,WorldWind.OFFSET_FRACTION,1.1)),this.size=.15};return(i.prototype=Object.create(r.prototype)).render=function(t){this.imageRotation=t.navigator.heading,this.imageTilt=t.navigator.tilt;var e=this.getActiveTexture(t);e&&(this.imageScale=this.size*t.currentGlContext.drawingBufferWidth/e.imageWidth),r.prototype.render.call(this,t)},i})),i("layer/CompassLayer",["../shapes/Compass","../layer/RenderableLayer"],(function(t,e){"use strict";var n=function(){e.call(this,"Compass"),this._compass=new t(null,null),this.addRenderable(this._compass)};return n.prototype=Object.create(e.prototype),Object.defineProperties(n.prototype,{compass:{get:function(){return this._compass},set:function(e){e&&e instanceof t&&(this.removeAllRenderables(),this.addRenderable(e),this._compass=e)}}}),n})),i("shapes/Text",["../error/ArgumentError","../shaders/BasicTextureProgram","../util/Color","../util/Font","../util/Logger","../geom/Matrix","../pick/PickedObject","../render/Renderable","../shapes/TextAttributes","../error/UnsupportedOperationError","../geom/Vec2","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f){"use strict";var p=function(e){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"Text","constructor","missingText"));s.call(this),this.attributes=new u(null),this.highlightAttributes=null,this.highlighted=!1,this.enabled=!0,this.text=e,this.altitudeMode=WorldWind.ABSOLUTE,this.pickDelegate=null,this.alwaysOnTop=!1,this.targetVisibility=1,this.currentVisibility=1,this.declutterGroup=0,this.markerImageSource=WorldWind.configuration.baseUrl+"images/white-dot.png",this.markerImageScale=.1,this.activeAttributes=null,this.activeTexture=null,this.imageTransform=o.fromIdentity(),this.imageBounds=null,this.layer=null,this.depthOffset=-.003,this.screenPoint=new h(0,0,0)};return p.matrix=o.fromIdentity(),p.glPickPoint=new h(0,0,0),(p.prototype=Object.create(s.prototype)).copy=function(t){return this.text=t.text,this.attributes=t.attributes,this.highlightAttributes=t.highlightAttributes,this.highlighted=t.highlighted,this.enabled=t.enabled,this.altitudeMode=t.altitudeMode,this.pickDelegate=t.pickDelegate,this.alwaysOnTop=t.alwaysOnTop,this.depthOffset=t.depthOffset,this.declutterGroup=t.declutterGroup,this.targetVisibility=t.targetVisibility,this.currentVisibility=t.currentVisibility,this},Object.defineProperties(p.prototype,{screenBounds:{get:function(){return this.imageBounds}}}),p.prototype.render=function(t){var e;this.enabled&&this.text&&0!==this.text.length&&t.accumulateOrderedRenderables&&((e=this.lastFrameTime!==t.timestamp?this.makeOrderedRenderable(t):this.clone().makeOrderedRenderable(t))&&e.isVisible(t)&&(e.layer=t.currentLayer,this.lastFrameTime=t.timestamp,t.addOrderedRenderable(e)))},p.prototype.renderOrdered=function(t){if((0!==this.currentVisibility||0!==this.targetVisibility||this.markerImageSource)&&(this.drawOrderedText(t),t.pickingMode)){var e=new a(this.pickColor.clone(),this.pickDelegate?this.pickDelegate:this,this.position,this.layer,!1);t.resolvePick(e)}},p.prototype.makeOrderedRenderable=function(t){var e,n,r,i;return this.determineActiveAttributes(t),this.activeAttributes&&this.computeScreenPointAndEyeDistance(t)?(this.activeTexture=t.createTextTexture(this.text,this.activeAttributes),e=this.activeTexture.imageWidth,n=this.activeTexture.imageHeight,r=this.activeAttributes.scale,i=this.activeAttributes.offset.offsetForSize(e,n),this.imageTransform.setTranslation(this.screenPoint[0]-i[0]*r,this.screenPoint[1]-i[1]*r,this.screenPoint[2]),this.imageTransform.setScale(e*r,n*r,1),this.imageBounds=f.boundingRectForUnitQuad(this.imageTransform),this):null},p.prototype.computeScreenPointAndEyeDistance=function(t){throw new l(i.logMessage(i.LEVEL_SEVERE,"Renderable","render","abstractInvocation"))},p.prototype.determineActiveAttributes=function(t){this.highlighted&&this.highlightAttributes?this.activeAttributes=this.highlightAttributes:this.activeAttributes=this.attributes},p.prototype.isVisible=function(t){return t.pickingMode?t.pickRectangle&&this.imageBounds.intersects(t.pickRectangle):this.imageBounds.intersects(t.viewport)},p.prototype.drawOrderedText=function(t){this.beginDrawing(t);try{this.doDrawOrderedText(t),t.pickingMode}finally{this.endDrawing(t)}},p.prototype.drawBatchOrderedText=function(t){for(var e;(e=t.peekOrderedRenderable())&&e instanceof p;){t.popOrderedRenderable();try{e.doDrawOrderedText(t)}catch(t){i.logMessage(i.LEVEL_WARNING,"Text","drawBatchOrderedText","Error occurred while rendering text using batching: "+t.message)}}},p.prototype.beginDrawing=function(t){var n,r=t.currentGlContext;t.findAndBindProgram(e),n=t.currentProgram,r.bindBuffer(r.ARRAY_BUFFER,t.unitQuadBuffer3()),r.vertexAttribPointer(n.vertexPointLocation,3,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t.unitQuadBuffer()),r.vertexAttribPointer(n.vertexTexCoordLocation,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.vertexPointLocation),r.enableVertexAttribArray(n.vertexTexCoordLocation),n.loadTextureUnit(r,r.TEXTURE0),n.loadModulateColor(r,!1),r.depthMask(!1)},p.prototype.endDrawing=function(t){var e=t.currentGlContext,n=t.currentProgram;e.disableVertexAttribArray(n.vertexPointLocation),e.disableVertexAttribArray(n.vertexTexCoordLocation),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.depthMask(!0)},p.prototype.doDrawOrderedText=function(t){var e=t.currentGlContext,r=t.currentProgram;if(!t.pickingMode&&this.currentVisibility!==this.targetVisibility){var i=(t.timestamp-t.previousRedrawTimestamp)/t.fadeTime;this.currentVisibility<this.targetVisibility?this.currentVisibility=Math.min(1,this.currentVisibility+i):this.currentVisibility=Math.max(0,this.currentVisibility-i),t.redrawRequested=!0}this.activeAttributes.depthTest||e.disable(e.DEPTH_TEST),t.pickingMode?(this.pickColor=t.uniquePickColor(),r.loadColor(e,this.pickColor),r.loadOpacity(e,1),r.loadTextureEnabled(e,!1)):(r.loadColor(e,n.WHITE),r.loadOpacity(e,this.layer.opacity*this.currentVisibility)),this.currentVisibility>0&&this.drawLabel(t),this.currentVisibility<1&&this.markerImageSource&&this.drawMarker(t),this.activeAttributes.depthTest||e.enable(e.DEPTH_TEST)},p.prototype.drawLabel=function(t){var e,n=t.currentGlContext,r=t.currentProgram;!t.pickingMode&&this.activeTexture&&(p.matrix.setToIdentity(),p.matrix.multiplyByTextureTransform(this.activeTexture),e=this.activeTexture.bind(t),r.loadTextureEnabled(n,e),r.loadTextureMatrix(n,p.matrix)),p.matrix.copy(t.screenProjection),p.matrix.multiplyMatrix(this.imageTransform),r.loadModelviewProjection(n,p.matrix),n.drawArrays(n.TRIANGLE_STRIP,0,4)},p.prototype.drawMarker=function(t){var e,n=t.currentGlContext,r=t.currentProgram,i=t.gpuResourceCache.resourceForKey(this.markerImageSource);if(i){t.pickingMode||(p.matrix.setToIdentity(),p.matrix.multiplyByTextureTransform(i),e=i.bind(t),r.loadTextureEnabled(n,e),r.loadTextureMatrix(n,p.matrix),r.loadOpacity(n,this.layer.opacity*(1-this.currentVisibility)));var o=this.markerImageScale;p.matrix.copy(t.screenProjection),p.matrix.multiplyByTranslation(this.screenPoint[0]-o*i.imageWidth/2,this.screenPoint[1]-o*i.imageWidth/2,this.screenPoint[2]),p.matrix.multiplyByScale(i.imageWidth*o,i.imageHeight*o,1),r.loadModelviewProjection(n,p.matrix),n.drawArrays(n.TRIANGLE_STRIP,0,4)}else t.gpuResourceCache.retrieveTexture(t.currentGlContext,this.markerImageSource)},p})),i("shapes/ScreenText",["../error/ArgumentError","../util/Logger","../util/Offset","../shapes/Text"],(function(t,e,n,r){"use strict";var i=function(n,i){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"Text","constructor","missingOffset"));r.call(this,i),this.screenOffset=n,this.altitudeMode=null};return(i.prototype=Object.create(r.prototype)).render=function(t){this.lastFrameTime!==t.timestamp&&r.prototype.render.call(this,t)},i.prototype.computeScreenPointAndEyeDistance=function(t){var e=t.currentGlContext,n=this.screenOffset.offsetForSize(e.drawingBufferWidth,e.drawingBufferHeight);return this.screenPoint[0]=n[0],this.screenPoint[1]=n[1],this.screenPoint[2]=0,this.eyeDistance=0,!0},i})),i("layer/CoordinatesDisplayLayer",["../error/ArgumentError","../util/Color","../util/Font","../layer/Layer","../util/Logger","../util/Offset","../geom/Position","../shapes/ScreenImage","../shapes/ScreenText","../shapes/TextAttributes","../geom/Vec2"],(function(t,e,n,r,i,o,a,s,u,l,c){"use strict";var h=function(n){function a(t){f.handleUIEvent(t)}if(!n)throw new t(i.logMessage(i.LEVEL_SEVERE,"CoordinatesDisplayLayer","constructor","missingWorldWindow"));r.call(this,"Coordinates"),this.wwd=n,this.pickEnabled=!1,this.eventType=null,this.clientX=null,this.clientY=null,this.terrainPosition=null,this.latText=new u(new o(WorldWind.OFFSET_PIXELS,0,WorldWind.OFFSET_PIXELS,0)," "),this.latText.attributes=new l(null),this.latText.attributes.color=e.YELLOW,this.lonText=new u(new o(WorldWind.OFFSET_PIXELS,0,WorldWind.OFFSET_PIXELS,0)," "),this.lonText.attributes=new l(null),this.lonText.attributes.color=e.YELLOW,this.elevText=new u(new o(WorldWind.OFFSET_PIXELS,0,WorldWind.OFFSET_PIXELS,0)," "),this.elevText.attributes=new l(null),this.elevText.attributes.color=e.YELLOW,this.eyeText=new u(new o(WorldWind.OFFSET_PIXELS,0,WorldWind.OFFSET_PIXELS,0)," "),this.eyeText.attributes=new l(null),this.eyeText.attributes.color=e.YELLOW;var c=new o(WorldWind.OFFSET_FRACTION,.5,WorldWind.OFFSET_FRACTION,.5),h=WorldWind.configuration.baseUrl+"images/crosshair.png";this.crosshairImage=new s(c,h);var f=this;window.PointerEvent?(n.addEventListener("pointerdown",a),n.addEventListener("pointermove",a),n.addEventListener("pointerleave",a)):(n.addEventListener("mousedown",a),n.addEventListener("mousemove",a),n.addEventListener("mouseleave",a),n.addEventListener("touchstart",a),n.addEventListener("touchmove",a)),this.wwd.redrawCallbacks.push((function(t,e){f.handleRedraw(e)}))};return(h.prototype=Object.create(r.prototype)).doRender=function(t){var e,n,r,i,a,s=this.terrainPosition,u=t.eyePosition,l=t.currentGlContext.canvas.clientWidth;l>650?(e=l/2-50,n=11,r=WorldWind.OFFSET_PIXELS,i=0):l>400?(e=60,n=5,r=WorldWind.OFFSET_INSET_PIXELS,i=1):(e=60,n=5,r=WorldWind.OFFSET_INSET_PIXELS,i=1,a=!0),this.latText.text=s?this.formatLatitude(s.latitude):null,this.latText.screenOffset=new o(WorldWind.OFFSET_PIXELS,e,r,n),this.latText.attributes.offset=new o(WorldWind.OFFSET_FRACTION,1,WorldWind.OFFSET_FRACTION,i),this.latText.render(t),e+=70,this.lonText.text=s?this.formatLongitude(s.longitude):null,this.lonText.screenOffset=new o(WorldWind.OFFSET_PIXELS,e,r,n),this.lonText.attributes.offset=new o(WorldWind.OFFSET_FRACTION,1,WorldWind.OFFSET_FRACTION,i),this.lonText.render(t),t.globe.is2D()||(e+=70,this.elevText.text=s?this.formatAltitude(s.altitude,"m"):null,this.elevText.screenOffset=new o(WorldWind.OFFSET_PIXELS,e,r,n),this.elevText.attributes.offset=new o(WorldWind.OFFSET_FRACTION,1,WorldWind.OFFSET_FRACTION,i),this.elevText.render(t)),a||(e+=40,this.eyeText.text="Eye  "+this.formatAltitude(u.altitude,u.altitude<1e3?"m":"km"),this.eyeText.screenOffset=new o(WorldWind.OFFSET_PIXELS,e,r,n),this.eyeText.attributes.offset=new o(WorldWind.OFFSET_FRACTION,0,WorldWind.OFFSET_FRACTION,i),this.eyeText.render(t)),"touch"===this.eventType&&this.crosshairImage.render(t),this.inCurrentFrame=!0},h.prototype.handleUIEvent=function(t){-1!==t.type.indexOf("pointer")?this.eventType=t.pointerType:-1!==t.type.indexOf("mouse")?this.eventType="mouse":-1!==t.type.indexOf("touch")&&(this.eventType="touch"),-1!==t.type.indexOf("leave")?(this.clientX=null,this.clientY=null):(this.clientX=t.clientX,this.clientY=t.clientY),this.wwd.redraw()},h.prototype.handleRedraw=function(t){var e,n;t===WorldWind.BEFORE_REDRAW&&(("mouse"===this.eventType||"pen"===this.eventType)&&this.clientX&&this.clientY?(e=this.wwd.canvasCoordinates(this.clientX,this.clientY))[0]>=0&&e[0]<this.wwd.canvas.width&&e[1]>=0&&e[1]<this.wwd.canvas.height&&(n=this.wwd.pickTerrain(e).terrainObject()):"touch"===this.eventType&&(e=new c(this.wwd.canvas.width/2,this.wwd.canvas.height/2),n=this.wwd.pickTerrain(e).terrainObject()),this.terrainPosition=n?n.position:null)},h.prototype.formatLatitude=function(t){var e=t<0?"\xb0S":"\xb0N";return Math.abs(t).toFixed(2)+e},h.prototype.formatLongitude=function(t){var e=t<0?"\xb0W":"\xb0E";return Math.abs(t).toFixed(2)+e},h.prototype.formatAltitude=function(t,e){return"km"===e&&(t/=1e3),t.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+e},h})),i("util/Date",[],(function(){"use strict";var t=function(t){this._date=t?new Date(t):new Date};return(t.prototype=Object.create(Date.prototype)).isAfter=function(t){return-1==this.compare(t)},t.prototype.isBefore=function(t){return 1==this.compare(t)},t.prototype.valueOf=function(){return this._date.valueOf()},t.prototype.getTime=function(){return this._date.getTime()},t.prototype.compare=function(t){var e=this._date.valueOf(),n=t.valueOf();return e>n?-1:e<n?1:0},t})),i("layer/DigitalGlobeTiledImageLayer",["../geom/Angle","../error/ArgumentError","../util/Color","../geom/Location","../util/Logger","../geom/Sector","../layer/MercatorTiledImageLayer"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t,n,s){if(!n)throw new e(i.logMessage(i.LEVEL_SEVERE,"DigitalGlobeTiledImageLayer","constructor","The map ID is null or undefined."));if(!s)throw new e(i.logMessage(i.LEVEL_SEVERE,"DigitalGlobeTiledImageLayer","constructor","The access token is null or undefined."));this.imageSize=256,t=t||"Digital Globe",a.call(this,new o(-85.05,85.05,-180,180),new r(85.05,180),19,"image/jpeg",t,this.imageSize,this.imageSize),this.mapId=n,this.accessToken=s,this.displayName=t,this.pickEnabled=!0,this.destCanvas=document.createElement("canvas"),this.destContext=this.destCanvas.getContext("2d"),this.requestMetadata();var u=this;this.urlBuilder={urlForTile:function(t,e){return u.metadataRetrievalInProcess?null:u.urlTemplate.replace("{z}",t.level.levelNumber+1).replace("{x}",t.column).replace("{y}",t.row)}}};return(s.prototype=Object.create(a.prototype)).requestMetadata=function(){if(!this.metadataRetrievalInProcess){this.metadataRetrievalInProcess=!0;var t="https://api.mapbox.com/v4/"+this.mapId+".json?secure&access_token="+this.accessToken,e=new XMLHttpRequest,n=this;e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);n.urlTemplate=t.tiles[0];var r=document.createEvent("Event");r.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),window.dispatchEvent(r),n.metadataRetrievalInProcess=!1}},e.open("GET",t,!0),e.send()}},s.prototype.doRender=function(t){a.prototype.doRender.call(this,t),this.inCurrentFrame&&t.screenCreditController.addCredit("\xa9 Digital Globe",n.DARK_GRAY)},s.prototype.createTopLevelTiles=function(t){this.topLevelTiles=[],this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),0,0)),this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),0,1)),this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),1,0)),this.topLevelTiles.push(this.createTile(null,this.levels.firstLevel(),1,1))},s.prototype.mapSizeForLevel=function(t){return 256<<t+1},s})),i("render/DoubleBufferedFbo",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function(n,r,i,o,a){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"DoubleBufferedFbo","constructor","missing DrawContext"));if(!r||!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"DoubleBufferedFbo","constructor","missing texture"));if(o<0||a<0)throw new t(e.logMessage(e.LEVEL_SEVERE,"DoubleBufferedFbo","constructor","The framebuffer width or height is less than zero."));this.width=o,this.height=a,this.size=o*a*4*2,this.fbo1=n.currentGlContext.createFramebuffer(),this.fbo2=n.currentGlContext.createFramebuffer(),this.texture1=r,this.texture2=i,this.fbo1Complete=!1,this.fbo2Complete=!1,this.primary=1,this.isCleared=!0};return n.prototype.bindFbo=function(t){var e=t.currentGlContext,n=this.getPrimaryFbo();e.bindFramebuffer(e.FRAMEBUFFER,n),this.ensureFboComplete(t)},n.prototype.bind=function(t){var e=t.currentGlContext,n=this.getPrimaryTexture();return e.bindTexture(e.TEXTURE_2D,n),t.frameStatistics.incrementTextureLoadCount(1),!0},n.prototype.dispose=function(t){t.deleteTexture(this.texture1),t.deleteTexture(this.texture2),t.deleteFramebuffer(this.fbo1),t.deleteFramebuffer(this.fbo2),this.texture1=void 0,this.texture2=void 0,this.fbo1=void 0,this.fbo2=void 0},n.prototype.getPrimaryFbo=function(){return 1===this.primary?this.fbo1:this.fbo2},n.prototype.getSecondaryFbo=function(){return 1===this.primary?this.fbo2:this.fbo1},n.prototype.getPrimaryTexture=function(){return 1===this.primary?this.texture1:this.texture2},n.prototype.getSecondaryTexture=function(){return 1===this.primary?this.texture2:this.texture1},n.prototype.clearFbo=function(t){if(!this.isCleared){var e=t.currentGlContext,n=e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT;this.bindFbo(t),e.clear(n),e.viewport(0,0,this.width,this.height),this.swap(),this.bindFbo(t),e.clear(n),this.swap(),this.isCleared=!0}},n.prototype.swap=function(){1===this.primary?this.primary=2:this.primary=1},n.prototype.ensureFboComplete=function(t){var e=t.currentGlContext;1!==this.primary||this.fbo1Complete?2!==this.primary||this.fbo2Complete||(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture2,0),this.fbo2Complete=!0):(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture1,0),this.fbo1Complete=!0)},n})),i("util/FrameStatistics",[],(function(){"use strict";var t=function(){this.frameCount=0,this.frameTimeCumulative=0,this.frameTimeBase=0,this.frameTimeExtremes=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],this.frameTime=0,this.tessellationTime=0,this.layerRenderingTime=0,this.orderedRenderingTime=0,this.terrainTileCount=0,this.imageTileCount=0,this.renderedTileCount=0,this.tileUpdateCount=0,this.textureLoadCount=0,this.vboLoadCount=0,this.frameTimeAverage=0,this.frameRateAverage=0,this.frameTimeMin=0,this.frameTimeMax=0};return t.prototype.beginFrame=function(){this.frameTime=Date.now(),this.tessellationTime=0,this.layerRenderingTime=0,this.orderedRenderingTime=0,this.terrainTileCount=0,this.imageTileCount=0,this.renderedTileCount=0,this.tileUpdateCount=0,this.textureLoadCount=0,this.vboLoadCount=0,++this.frameCount},t.prototype.endFrame=function(){var t=Date.now();this.frameTime=t-this.frameTime,this.frameTimeCumulative+=this.frameTime,this.frameTimeExtremes[0]=Math.min(this.frameTimeExtremes[0],this.frameTime),this.frameTimeExtremes[1]=Math.max(this.frameTimeExtremes[1],this.frameTime),t-this.frameTimeBase>2e3&&(this.frameTimeAverage=this.frameTimeCumulative/this.frameCount,this.frameRateAverage=1e3*this.frameCount/(t-this.frameTimeBase),this.frameTimeMin=this.frameTimeExtremes[0],this.frameTimeMax=this.frameTimeExtremes[1],this.frameCount=0,this.frameTimeCumulative=0,this.frameTimeBase=t,this.frameTimeExtremes=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY])},t.prototype.incrementRenderedTileCount=function(t){this.renderedTileCount+=t},t.prototype.setTerrainTileCount=function(t){this.terrainTileCount=t},t.prototype.incrementImageTileCount=function(t){this.imageTileCount=t},t.prototype.incrementTileUpdateCount=function(t){this.tileUpdateCount+=t},t.prototype.incrementTextureLoadCount=function(t){this.textureLoadCount+=t},t.prototype.incrementVboLoadCount=function(t){this.vboLoadCount+=t},t})),i("render/FramebufferTexture",["../error/ArgumentError","../util/Logger","../util/WWMath"],(function(t,e){"use strict";var n=function(n,r,i,o){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"FramebufferTexture","constructor","missingGlContext"));if(r<0||i<0)throw new t(e.logMessage(e.LEVEL_SEVERE,"FramebufferTexture","constructor","The framebuffer width or height is less than zero."));this.width=r,this.height=i,this.depth=o,this.size=r*i*4+(o?r*i*2:0),this.framebufferId=n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,this.framebufferId),this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r,i,0,n.RGBA,n.UNSIGNED_BYTE,null),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.texture,0),this.depthBuffer=null,o&&(this.depthBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this.depthBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,r,i),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthBuffer));var a=n.checkFramebufferStatus(n.FRAMEBUFFER);a!=n.FRAMEBUFFER_COMPLETE&&(e.logMessage(e.LEVEL_WARNING,"FramebufferTexture","constructor","Error creating framebuffer: "+a),this.framebufferId=null,this.texture=null,this.depthBuffer=null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindRenderbuffer(n.RENDERBUFFER,null),n.bindTexture(n.TEXTURE_2D,null)};return n.prototype.bind=function(t){return this.texture&&t.currentGlContext.bindTexture(gl.TEXTURE_2D,this.texture),!!this.texture},n})),i("render/FramebufferTile",["../error/ArgumentError","../render/FramebufferTexture","../util/Logger","../geom/Matrix","../geom/Rectangle","../render/TextureTile"],(function(t,e,n,r,i,o){"use strict";var a=function(e,i,a,s,u){if(!u||u.length<1)throw new t(n.logMessage(n.LEVEL_SEVERE,"FramebufferTile","constructor","The specified cache name is null, undefined or zero length."));o.call(this,e,i,a,s),this.gpuCacheKey=u,this.textureTransform=r.fromIdentity().setToUnitYFlip(),this.mustClear=!0};return(a.prototype=Object.create(o.prototype)).clearFramebuffer=function(t){this.mustClear=!0},a.prototype.bindFramebuffer=function(t){var e=t.gpuResourceCache.resourceForKey(this.gpuCacheKey);return e||(e=this.createFramebuffer(t)),t.bindFramebuffer(e),this.mustClear&&(this.doClearFramebuffer(t),this.mustClear=!1),!0},a.prototype.createFramebuffer=function(t){var n=new e(t.currentGlContext,this.tileWidth,this.tileHeight,!1);return t.gpuResourceCache.putResource(this.gpuCacheKey,n,n.size),n},a.prototype.doClearFramebuffer=function(t){var e=t.currentGlContext;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.applyInternalTransform=function(t,e){e.multiplyMatrix(this.textureTransform)},a})),i("render/FramebufferTileController",["../error/ArgumentError","../render/FramebufferTile","../util/LevelSet","../geom/Location","../util/Logger","../cache/MemoryCache","../geom/Sector","../util/Tile"],(function(t,e,n,r,i,o,a,s){"use strict";var u=function t(){this.tileWidth=256,this.tileHeight=256,this.detailControl=1.75,this.levels=new n(a.FULL_SPHERE,new r(45,45),16,this.tileWidth,this.tileHeight),this.topLevelTiles=[],this.currentTiles=[],this.currentTimestamp=null,this.currentGlobeStateKey=null,this.tileCache=new o(5e5,4e5),this.key="FramebufferTileController "+ ++t.keyPool};return u.keyPool=0,u.prototype.selectTiles=function(e,n){if(!n)throw new t(i.logMessage(i.LEVEL_SEVERE,"FramebufferTileController","selectTiles","missingSector"));this.assembleTiles(e);for(var r=[],o=0,a=this.currentTiles.length;o<a;o++){var s=this.currentTiles[o];s.sector.overlaps(n)&&(s.selected=!0,r.push(s))}return r},u.prototype.render=function(t){if(0!=this.currentTiles.length){for(var e=[],n=0,r=this.currentTiles.length;n<r;n++){var i=this.currentTiles[n];i.selected&&e.push(i)}t.surfaceTileRenderer.renderTiles(t,e,1);var o=t.currentGlContext,a=t.currentFramebuffer;try{for(o.clearColor(0,0,0,0),n=0,r=e.length;n<r;n++)(i=e[n]).selected=!1,i.bindFramebuffer(t),o.clear(o.COLOR_BUFFER_BIT)}finally{t.bindFramebuffer(a)}}},u.prototype.assembleTiles=function(t){var e=t.timestamp,n=t.globeStateKey;this.currentTimestamp==e&&this.currentGlobeStateKey==n||(this.doAssembleTiles(t),this.currentTimestamp=e,this.currentGlobeStateKey=n)},u.prototype.doAssembleTiles=function(t){if(this.currentTiles=[],t.terrain){0==this.topLevelTiles.length&&this.createTopLevelTiles();for(var e=0,n=this.topLevelTiles.length;e<n;e++){var r=this.topLevelTiles[e];r.update(t),this.isTileVisible(t,r)&&this.addTileOrDescendants(t,r)}}},u.prototype.createTile=function(t,n,r,i){var o=this.key+" "+n.levelNumber+"."+r+"."+i;return new e(t,n,r,i,o)},u.prototype.createTopLevelTiles=function(){s.createTilesForLevel(this.levels.firstLevel(),this,this.topLevelTiles)},u.prototype.addTileOrDescendants=function(t,e){if(this.tileMeetsRenderingCriteria(t,e))this.addTile(e);else for(var n=e.subdivideToCache(e.level.nextLevel(),this,this.tileCache),r=0,i=n.length;r<i;r++){var o=n[r];o.update(t),this.isTileVisible(t,o)&&this.addTileOrDescendants(t,o)}},u.prototype.addTile=function(t){this.currentTiles.push(t)},u.prototype.isTileVisible=function(t,e){return!(t.globe.projectionLimits&&!e.sector.overlaps(t.globe.projectionLimits))&&(t.pickingMode?e.extent.intersectsFrustum(t.pickFrustum):e.extent.intersectsFrustum(t.frustumInModelCoordinates))},u.prototype.tileMeetsRenderingCriteria=function(t,e){var n=this.detailControl;return(e.sector.minLatitude>=75||e.sector.maxLatitude<=-75)&&(n*=1.2),e.level.isLastLevel()||!e.mustSubdivide(t,n)},u})),i("globe/ElevationModel",["../error/ArgumentError","../geom/Angle","../geom/Location","../util/Logger","../util/WWUtil"],(function(t,e,n,r,i){"use strict";var o=function(){this.id=0,this.stateKey="",this.coverages=[],this.scratchLocation=new n(0,0),this.computeStateKey()};return Object.defineProperties(o.prototype,{timestamp:{get:function(){var t,e,n=0;for(t=0,e=this.coverages.length;t<e;t++){var r=this.coverages[t];n<r.timestamp&&(n=r.timestamp)}return n}},minElevation:{get:function(){for(var t=Number.MAX_VALUE,e=0,n=this.coverages.length;e<n;e++){var r=this.coverages[e];r.enabled&&r.minElevation<t&&(t=r.minElevation)}return t!==Number.MAX_VALUE?t:0}},maxElevation:{get:function(){for(var t=-Number.MAX_VALUE,e=0,n=this.coverages.length;e<n;e++){var r=this.coverages[e];r.enabled&&r.maxElevation>t&&(t=r.maxElevation)}return t!==-Number.MAX_VALUE?t:0}}}),o.idPool=0,o.prototype.computeStateKey=function(){this.id=++o.idPool,this.stateKey="elevationModel "+this.id.toString()+" "},o.prototype.coverageComparator=function(t,e){var n=t.resolution,r=e.resolution;return n>r?-1:n===r?0:1},o.prototype.performCoverageListChangedActions=function(){this.coverages.length>1&&this.coverages.sort(this.coverageComparator),this.computeStateKey()},o.prototype.addCoverage=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"ElevationModel","addCoverage","missingCoverage"));return!this.containsCoverage(e)&&(this.coverages.push(e),this.performCoverageListChangedActions(),!0)},o.prototype.removeAllCoverages=function(){this.coverages.length>0&&(this.coverages=[],this.performCoverageListChangedActions())},o.prototype.removeCoverage=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"ElevationModel","removeCoverage","missingCoverage"));var n=this.coverages.indexOf(e);n>=0&&(this.coverages.splice(n,1),this.performCoverageListChangedActions())},o.prototype.containsCoverage=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"ElevationModel","containsCoverage","missingCoverage"));return this.coverages.indexOf(e)>=0},o.prototype.minAndMaxElevationsForSector=function(e){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"ElevationModel","minAndMaxElevationsForSector","missingSector"));for(var n=[Number.MAX_VALUE,-Number.MAX_VALUE],i=this.coverages.length-1;i>=0;i--){var o=this.coverages[i];if(o.enabled&&o.coverageSector.intersects(e)&&o.minAndMaxElevationsForSector(e,n))break}return n[0]!==Number.MAX_VALUE?n:[0,0]},o.prototype.elevationAtLocation=function(t,e){var n;for(n=this.coverages.length-1;n>=0;n--){var r=this.coverages[n];if(r.enabled&&r.coverageSector.containsLocation(t,e)){var i=r.elevationAtLocation(t,e);if(null!==i)return i}}return 0},o.prototype.preferredCoverageIndex=function(t,e,n){var r,i=this.coverages.length,o=Number.MAX_VALUE,a=-1;for(r=0;r<i;r++){var s=this.coverages[r];if(s.enabled&&(null!==t&&s.coverageSector.intersects(t)||null!==e&&s.coverageSector.containsLocation(e.latitude,e.longitude))){var u=Math.abs(s.resolution-n);if(u>o)return a;o=u,a=r}}return a},o.prototype.bestCoverageAtLocation=function(e,n,i){if(!i||i<0)throw new t(r.logMessage(r.LEVEL_SEVERE,"ElevationModel","bestCoverageAtLocation","invalidResolution"));this.scratchLocation.set(e,n);var o=this.preferredCoverageIndex(null,this.scratchLocation,i);return o>=0?this.coverages[o]:null},o.prototype.elevationsForGrid=function(e,n,o,a,s){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"ElevationModel","elevationsForGrid","missingSector"));if(!n||!o||n<1||o<1)throw new t(r.logMessage(r.LEVEL_SEVERE,"ElevationModel","elevationsForGrid","The specified number of latitudinal or longitudinal positions is less than one."));if(!a)throw new t(r.logMessage(r.LEVEL_SEVERE,"ElevationModel","elevationsForGrid","missingTargetResolution"));if(!s)throw new t(r.logMessage(r.LEVEL_SEVERE,"ElevationModel","elevationsForGrid","missingResult"));i.fillArray(s,NaN);var u=Number.MAX_VALUE,l=!1,c=this.preferredCoverageIndex(e,null,a);if(c>=0)for(var h=c;!l&&h>=0;h--){var f=this.coverages[h];f.enabled&&f.coverageSector.intersects(e)&&(l=f.elevationsForGrid(e,n,o,s))&&(u=f.resolution)}if(!l){var p=s.length;for(h=0;h<p;h++)isNaN(s[h])&&(s[h]=0)}return u},o})),i("projections/GeographicProjection",["../error/ArgumentError","../util/Logger","../geom/Sector","../error/UnsupportedOperationError"],(function(t,e,n,r){"use strict";var i=function(t,e,n){this.displayName=t||"Geographic Projection",this.continuous=e,this.projectionLimits=n,this.is2D=!0};return i.prototype.geographicToCartesian=function(t,n,i,o,a,s){throw new r(e.logMessage(e.LEVEL_SEVERE,"GeographicProjection","geographicToCartesian","abstractInvocation"))},i.prototype.geographicToCartesianGrid=function(t,n,i,o,a,s,u,l){throw new r(e.logMessage(e.LEVEL_SEVERE,"GeographicProjection","geographicToCartesianGrid","abstractInvocation"))},i.prototype.cartesianToGeographic=function(t,n,i,o,a,s){throw new r(e.logMessage(e.LEVEL_SEVERE,"GeographicProjection","cartesianToGeographic","abstractInvocation"))},i.prototype.northTangentAtLocation=function(n,r,i,o){if(!o)throw new t(e.logMessage(e.LEVEL_SEVERE,"ProjectionEquirectangular","northTangentAtLocation","missingResult"));return o[0]=0,o[1]=1,o[2]=0,o},i.prototype.northTangentAtPoint=function(n,r,i,o,a,s){if(!s)throw new t(e.logMessage(e.LEVEL_SEVERE,"ProjectionEquirectangular","northTangentAtPoint","missingResult"));return s[0]=0,s[1]=1,s[2]=0,s},i.prototype.surfaceNormalAtLocation=function(n,r,i,o){if(!o)throw new t(e.logMessage(e.LEVEL_SEVERE,"GeographicProjection","surfaceNormalAtLocation","missingResult"));return o[0]=0,o[1]=0,o[2]=1,o},i.prototype.surfaceNormalAtPoint=function(n,r,i,o,a){if(!a)throw new t(e.logMessage(e.LEVEL_SEVERE,"GeographicProjection","surfaceNormalAtPoint","missingResult"));return a[0]=0,a[1]=0,a[2]=1,a},i})),i("projections/ProjectionWgs84",["../geom/Angle","../error/ArgumentError","../projections/GeographicProjection","../util/Logger","../geom/Position","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a){"use strict";var s=function(){n.call(this,"WGS84",!1,null),this.is2D=!1,this.scratchPosition=new i(0,0,0)};return s.prototype=Object.create(n.prototype),Object.defineProperties(s.prototype,{stateKey:{get:function(){return"projection wgs84 "}}}),s.prototype.geographicToCartesian=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionWgs84","geographicToCartesian","missingGlobe"));var l=Math.cos(i*t.DEGREES_TO_RADIANS),c=Math.sin(i*t.DEGREES_TO_RADIANS),h=Math.cos(o*t.DEGREES_TO_RADIANS),f=Math.sin(o*t.DEGREES_TO_RADIANS),p=n.equatorialRadius/Math.sqrt(1-n.eccentricitySquared*c*c);return u[0]=(p+a)*l*f,u[1]=(p*(1-n.eccentricitySquared)+a)*c,u[2]=(p+a)*l*h,u},s.prototype.geographicToCartesianGrid=function(n,i,a,s,u,l,c,h){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionWgs84","geographicToCartesianGrid","missingGlobe"));var f,p,d,g,m,y,v,b,E=i.minLatitude*t.DEGREES_TO_RADIANS,_=i.maxLatitude*t.DEGREES_TO_RADIANS,w=i.minLongitude*t.DEGREES_TO_RADIANS,S=i.maxLongitude*t.DEGREES_TO_RADIANS,x=(_-E)/(a>1?a-1:1),T=(S-w)/(s>1?s-1:1),O=l||new o(0,0,0),C=0,A=0,L=new Float64Array(s),P=new Float64Array(s);for(p=0,g=w;p<s;p++,g+=T)p===s-1&&(g=S),L[p]=Math.cos(g),P[p]=Math.sin(g);for(f=0,d=E;f<a;f++,d+=x)for(f===a-1&&(d=_),v=Math.cos(d),b=Math.sin(d),m=n.equatorialRadius/Math.sqrt(1-n.eccentricitySquared*b*b),p=0;p<s;p++)y=u[C++],h[A++]=(m+y)*v*P[p]-O[0],h[A++]=(m*(1-n.eccentricitySquared)+y)*b-O[1],h[A++]=(m+y)*v*L[p]-O[2];return h},s.prototype.cartesianToGeographic=function(n,i,o,s,u,l){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionWgs84","cartesianToGeographic","missingGlobe"));var c,h,f,p,d,g,m,y,v,b,E,_,w,S,x,T=s,O=i,C=o,A=T*T+O*O,L=Math.sqrt(A),P=n.equatorialRadius,R=1/(P*P),M=n.eccentricitySquared,k=M*M,I=A*R,N=C*C*(1-M)*R,D=(I+N-k)/6,j=8*D*D*D+k*I*N;return j>0||0!=N?(j>0?(p=Math.sqrt(j),d=Math.sqrt(k*I*N),f=j>10*M?D+.5*(g=a.cbrt((p+d)*(p+d)))+2*D*D/g:D+.5*a.cbrt((p+d)*(p+d))+.5*a.cbrt((p-d)*(p-d))):(p=Math.sqrt(-j),d=Math.sqrt(-8*D*D*D),g=Math.sqrt(k*I*N),m=2*Math.atan2(g,p+d)/3,f=-4*D*Math.sin(m)*Math.cos(Math.PI/6+m)),v=M*(f+(y=Math.sqrt(f*f+k*N))-N)/(2*y),E=(b=(f+y)/(Math.sqrt(v*v+f+y)+v))*L/(b+M),c=(b+M-1)*(_=Math.sqrt(E*E+C*C))/b,h=2*Math.atan2(C,_+E)):(c=-P*(p=Math.sqrt(1-M))*(d=Math.sqrt(M-I))/(w=Math.sqrt(M)),h=d/(w*d+p*Math.sqrt(I))),S=((x=Math.sqrt(2))-1)*O<L+T?2*Math.atan2(O,L+T):L+O<(x+1)*T?.5*-Math.PI+2*Math.atan2(T,L-O):.5*Math.PI-2*Math.atan2(T,L+O),l.latitude=t.RADIANS_TO_DEGREES*h,l.longitude=t.RADIANS_TO_DEGREES*S,l.altitude=c,l},s.prototype.northTangentAtLocation=function(e,n,r,i){var o=Math.cos(n*t.DEGREES_TO_RADIANS),a=Math.cos(r*t.DEGREES_TO_RADIANS),s=Math.sin(n*t.DEGREES_TO_RADIANS),u=Math.sin(r*t.DEGREES_TO_RADIANS);return i[0]=-s*u,i[1]=o,i[2]=-s*a,i.normalize()},s.prototype.northTangentAtPoint=function(t,e,n,r,i,a){return this.cartesianToGeographic(t,e,n,r,o.ZERO,this.scratchPosition),this.northTangentAtLocation(t,this.scratchPosition.latitude,this.scratchPosition.longitude,a)},s.prototype.surfaceNormalAtLocation=function(e,n,r,i){var o=Math.cos(n*t.DEGREES_TO_RADIANS),a=Math.cos(r*t.DEGREES_TO_RADIANS),s=Math.sin(n*t.DEGREES_TO_RADIANS),u=Math.sin(r*t.DEGREES_TO_RADIANS);return i[0]=o*u,i[1]=s,i[2]=o*a,i.normalize()},s.prototype.surfaceNormalAtPoint=function(t,n,i,o,a){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionWgs84","surfaceNormalAtPoint","missingGlobe"));var s=t.equatorialRadius*t.equatorialRadius,u=t.polarRadius*t.polarRadius;return a[0]=n/s,a[1]=i/u,a[2]=o/s,a.normalize()},s})),i("globe/Terrain",["../error/ArgumentError","../util/Logger","../geom/Vec3"],(function(t,e,n){"use strict";var r=function(t,e,n,r){this.globe=t,this.verticalExaggeration=r,this.sector=n.sector,this.tessellator=e,this.surfaceGeometry=n.tileArray,this.stateKey=t.stateKey+" ve "+r.toString()};return r.scratchPoint=new n(0,0,0),r.prototype.surfacePoint=function(n,i,o,a){if(!a)throw new t(e.logMessage(e.LEVEL_SEVERE,"Terrain","surfacePoint","missingResult"));for(var s=0,u=this.surfaceGeometry.length;s<u;s++)if(this.surfaceGeometry[s].sector.containsLocation(n,i)){if(this.surfaceGeometry[s].surfacePoint(n,i,a),o){var l=this.globe.surfaceNormalAtPoint(a[0],a[1],a[2],r.scratchPoint);a[0]+=l[0]*o,a[1]+=l[1]*o,a[2]+=l[2]*o}return a}var c=o+this.globe.elevationAtLocation(n,i)*this.verticalExaggeration;return this.globe.computePointFromPosition(n,i,c,a),a},r.prototype.surfacePointForMode=function(n,r,i,o,a){if(!a)throw new t(e.logMessage(e.LEVEL_SEVERE,"Terrain","surfacePointForMode","missingResult"));if(o||(o=WorldWind.ABSOLUTE),o===WorldWind.CLAMP_TO_GROUND)return this.surfacePoint(n,r,0,a);if(o===WorldWind.RELATIVE_TO_GROUND)return this.surfacePoint(n,r,i,a);var s=i*this.verticalExaggeration;return this.globe.computePointFromPosition(n,r,s,a),a},r.prototype.beginRendering=function(t){this.globe&&this.globe.tessellator&&this.globe.tessellator.beginRendering(t)},r.prototype.endRendering=function(t){this.globe&&this.globe.tessellator&&this.globe.tessellator.endRendering(t)},r.prototype.beginRenderingTile=function(n,r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"Terrain","beginRenderingTile","missingTile"));this.globe&&this.globe.tessellator&&this.globe.tessellator.beginRenderingTile(n,r)},r.prototype.endRenderingTile=function(t,e){},r.prototype.renderTile=function(n,r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"Terrain","renderTile","missingTile"));this.globe&&this.globe.tessellator&&this.globe.tessellator.renderTile(n,r)},r.prototype.pick=function(t){this.globe&&this.globe.tessellator&&this.globe.tessellator.pick(t,this.surfaceGeometry,this)},r})),i("globe/TerrainTile",["../error/ArgumentError","../util/Logger","../geom/Matrix","../util/Tile"],(function(t,e,n,r){"use strict";var i=function(t,e,i,o){r.call(this,t,e,i,o),this.transformationMatrix=n.fromIdentity(),this.points=null,this.pointsStateKey=null,this.pointsVboStateKey=null,this.neighborMap={},this.neighborMap[WorldWind.NORTH]=null,this.neighborMap[WorldWind.SOUTH]=null,this.neighborMap[WorldWind.EAST]=null,this.neighborMap[WorldWind.WEST]=null,this._stateKey=null,this._elevationTimestamp=null,this.scratchArray=[]};return i.prototype=Object.create(r.prototype),Object.defineProperties(i.prototype,{stateKey:{get:function(){return this._stateKey||(this._stateKey=this.computeStateKey()),this._stateKey}}}),i.prototype.neighborLevel=function(t){return this.neighborMap[t]},i.prototype.setNeighborLevel=function(t,e){this.neighborMap[t]=e,this._stateKey=null},i.prototype.surfacePoint=function(n,r,i){if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"TerrainTile","surfacePoint","missingResult"));var o,a,s,u,l,c,h,f,p,d,g=this.sector,m=g.minLatitude,y=g.maxLatitude,v=g.minLongitude,b=g.maxLongitude,E=this.tileWidth,_=this.tileHeight;a=(n-m)/(y-m)*_,s=(o=(r-v)/(b-v)*E)<E?Math.floor(o):E-1,u=a<_?Math.floor(a):_-1,l=E+1,c=this.points,h=this.scratchArray,f=3*(s+u*l);for(var w=0;w<6;w++)h[w]=c[f+w];f=3*(s+(u+1)*l);for(var S=6;S<12;S++)h[S]=c[f+(S-6)];return(p=o<E?o-Math.floor(o):1)>(d=a<_?a-Math.floor(a):1)?(i[0]=h[0]+p*(h[3]-h[0])+d*(h[6]-h[0]),i[1]=h[1]+p*(h[4]-h[1])+d*(h[7]-h[1]),i[2]=h[2]+p*(h[5]-h[2])+d*(h[8]-h[2])):(i[0]=h[9]+(1-p)*(h[6]-h[9])+(1-d)*(h[3]-h[9]),i[1]=h[10]+(1-p)*(h[7]-h[10])+(1-d)*(h[4]-h[10]),i[2]=h[11]+(1-p)*(h[8]-h[11])+(1-d)*(h[5]-h[11])),i[0]+=this.referencePoint[0],i[1]+=this.referencePoint[1],i[2]+=this.referencePoint[2],i},i.prototype.update=function(t){r.prototype.update.call(this,t);var e=t.globe.elevationTimestamp();this._elevationTimestamp!=e&&(this._elevationTimestamp=e,this._stateKey=null)},i.prototype.computeStateKey=function(){var t=[];return t.push(this._elevationTimestamp),t.push(this.neighborMap[WorldWind.NORTH]?this.neighborMap[WorldWind.NORTH].compare(this.level):0),t.push(this.neighborMap[WorldWind.SOUTH]?this.neighborMap[WorldWind.SOUTH].compare(this.level):0),t.push(this.neighborMap[WorldWind.EAST]?this.neighborMap[WorldWind.EAST].compare(this.level):0),t.push(this.neighborMap[WorldWind.WEST]?this.neighborMap[WorldWind.WEST].compare(this.level):0),t.join(".")},i})),i("globe/TerrainTileList",["../error/ArgumentError","../util/Logger","../geom/Sector"],(function(t,e,n){"use strict";var r=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"TerrainTileList","TerrainTileList","missingTessellator"));this.tessellator=n,this.sector=null,this.tileArray=[]};return Object.defineProperties(r.prototype,{length:{get:function(){return this.tileArray.length}}}),r.prototype.addTile=function(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"TerrainTileList","addTile","missingTile"));-1==this.tileArray.indexOf(r)&&(this.tileArray.push(r),this.sector?this.sector.union(r.sector):(this.sector=new n(0,0,0,0),this.sector.copy(r.sector)))},r.prototype.removeAllTiles=function(){this.tileArray=[],this.sector=null},r})),i("globe/Tessellator",["../geom/Angle","../error/ArgumentError","../shaders/BasicProgram","../globe/Globe","../shaders/GpuProgram","../util/Level","../util/LevelSet","../geom/Location","../util/Logger","../geom/Matrix","../cache/MemoryCache","../error/NotYetImplementedError","../pick/PickedObject","../geom/Position","../geom/Rectangle","../geom/Sector","../globe/Terrain","../globe/TerrainTile","../globe/TerrainTileList","../util/Tile","../util/WWMath","../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_){"use strict";var w=function(){this.numRowsTilesInTopLevel=4,this.numColumnsTilesInTopLevel=8,this.maximumSubdivisionDepth=15,this.tileWidth=32,this.tileHeight=32,this.detailControl=40,this.levels=new a(g.FULL_SPHERE,new s(180/this.numRowsTilesInTopLevel,360/this.numColumnsTilesInTopLevel),this.maximumSubdivisionDepth,this.tileWidth,this.tileHeight),this.topLevelTiles={},this.currentTiles=new v(this),this.tileCache=new c(5e6,4e6),this.elevationTimestamp=void 0,this.lastModelViewProjection=l.fromIdentity(),this.vertexPointLocation=-1,this.vertexTexCoordLocation=-1,this.texCoords=null,this.texCoordVboCacheKey="global_tex_coords",this.indices=null,this.indicesVboCacheKey="global_indices",this.baseIndices=null,this.baseIndicesOffset=null,this.numBaseIndices=null,this.indicesNorth=null,this.indicesNorthOffset=null,this.numIndicesNorth=null,this.indicesSouth=null,this.indicesSouthOffset=null,this.numIndicesSouth=null,this.indicesWest=null,this.indicesWestOffset=null,this.numIndicesWest=null,this.indicesEast=null,this.indicesEastOffset=null,this.numIndicesEast=null,this.indicesLoresNorth=null,this.indicesLoresNorthOffset=null,this.numIndicesLoresNorth=null,this.indicesLoresSouth=null,this.indicesLoresSouthOffset=null,this.numIndicesLoresSouth=null,this.indicesLoresWest=null,this.indicesLoresWestOffset=null,this.numIndicesLoresWest=null,this.indicesLoresEast=null,this.indicesLoresEastOffset=null,this.numIndicesLoresEast=null,this.outlineIndicesOffset=null,this.numOutlineIndices=null,this.wireframeIndicesOffset=null,this.numWireframeIndices=null,this.scratchMatrix=l.fromIdentity(),this.scratchElevations=null,this.scratchPrevElevations=null,this.corners={},this.tiles=[]};return w.prototype.tessellate=function(t){if(!t)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tessellator","tessellate","missingDC"));var n=t.globe.elevationTimestamp();if(this.lastGlobeStateKey===t.globeStateKey&&this.lastVerticalExaggeration===t.verticalExaggeration&&this.elevationTimestamp===n&&t.modelviewProjection.equals(this.lastModelViewProjection))return this.lastTerrain;this.lastModelViewProjection.copy(t.modelviewProjection),this.lastGlobeStateKey=t.globeStateKey,this.elevationTimestamp=n,this.lastVerticalExaggeration=t.verticalExaggeration,this.currentTiles.removeAllTiles(),this.topLevelTiles[t.globeStateKey]&&0!=this.topLevelTiles[t.globeStateKey].length||this.createTopLevelTiles(t),this.corners={},this.tiles=[];for(var r=0,i=this.topLevelTiles[t.globeStateKey].length;r<i;r+=1){var o=this.topLevelTiles[t.globeStateKey][r];o.update(t),this.isTileVisible(t,o)&&this.addTileOrDescendants(t,o)}return this.refineNeighbors(t),this.finishTessellating(t),this.lastTerrain=0===this.currentTiles.length?null:new m(t.globe,this,this.currentTiles,t.verticalExaggeration),this.lastTerrain},w.prototype.createTile=function(t,n,r,i){if(!t)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tile","constructor","missingSector"));if(!n)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tile","constructor","The specified level is null or undefined."));if(r<0||i<0)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tile","constructor","The specified row or column is less than zero."));return new y(t,n,r,i)},w.prototype.beginRendering=function(t){var e=t.currentProgram;if(e){this.buildSharedGeometry(),this.cacheSharedGeometryVBOs(t);var n=t.currentGlContext,r=t.gpuResourceCache;if(this.vertexPointLocation=e.attributeLocation(n,"vertexPoint"),this.vertexTexCoordLocation=e.attributeLocation(n,"vertexTexCoord"),n.enableVertexAttribArray(this.vertexPointLocation),this.vertexTexCoordLocation>=0){var i=r.resourceForKey(this.texCoordVboCacheKey);n.bindBuffer(n.ARRAY_BUFFER,i),n.vertexAttribPointer(this.vertexTexCoordLocation,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(this.vertexTexCoordLocation)}var o=r.resourceForKey(this.indicesVboCacheKey);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,o)}else u.logMessage(u.LEVEL_INFO,"Tessellator","beginRendering","Current Program is empty")},w.prototype.endRendering=function(t){var e=t.currentGlContext;e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),this.vertexPointLocation>=0&&e.disableVertexAttribArray(this.vertexPointLocation),this.vertexTexCoordLocation>=0&&e.disableVertexAttribArray(this.vertexTexCoordLocation)},w.prototype.beginRenderingTile=function(t,n){if(!n)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tessellator","beginRenderingTile","missingTile"));var r=t.currentGlContext,i=t.gpuResourceCache;this.scratchMatrix.setToMultiply(t.modelviewProjection,n.transformationMatrix),t.currentProgram.loadModelviewProjection(r,this.scratchMatrix);var o=t.globeStateKey+n.tileKey,a=i.resourceForKey(o);a?n.pointsVboStateKey!=n.pointsStateKey?(r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferSubData(r.ARRAY_BUFFER,0,n.points),n.pointsVboStateKey=n.pointsStateKey):t.currentGlContext.bindBuffer(r.ARRAY_BUFFER,a):(a=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,n.points,r.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),i.putResource(o,a,4*n.points.length),n.pointsVboStateKey=n.pointsStateKey),r.vertexAttribPointer(this.vertexPointLocation,3,r.FLOAT,!1,0,0)},w.prototype.endRenderingTile=function(t,e){},w.prototype.renderTile=function(t,n){if(!n)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tessellator","renderTile","missingTile"));var r=t.currentGlContext,i=r.TRIANGLE_STRIP;r.drawElements(i,this.numBaseIndices,r.UNSIGNED_SHORT,2*this.baseIndicesOffset);var o,a=n.level;(o=n.neighborLevel(WorldWind.NORTH))&&o.compare(a)<0?r.drawElements(i,this.numIndicesLoresNorth,r.UNSIGNED_SHORT,2*this.indicesLoresNorthOffset):r.drawElements(i,this.numIndicesNorth,r.UNSIGNED_SHORT,2*this.indicesNorthOffset),(o=n.neighborLevel(WorldWind.SOUTH))&&o.compare(a)<0?r.drawElements(i,this.numIndicesLoresSouth,r.UNSIGNED_SHORT,2*this.indicesLoresSouthOffset):r.drawElements(i,this.numIndicesSouth,r.UNSIGNED_SHORT,2*this.indicesSouthOffset),(o=n.neighborLevel(WorldWind.WEST))&&o.compare(a)<0?r.drawElements(i,this.numIndicesLoresWest,r.UNSIGNED_SHORT,2*this.indicesLoresWestOffset):r.drawElements(i,this.numIndicesWest,r.UNSIGNED_SHORT,2*this.indicesWestOffset),(o=n.neighborLevel(WorldWind.EAST))&&o.compare(a)<0?r.drawElements(i,this.numIndicesLoresEast,r.UNSIGNED_SHORT,2*this.indicesLoresEastOffset):r.drawElements(i,this.numIndicesEast,r.UNSIGNED_SHORT,2*this.indicesEastOffset)},w.prototype.renderWireframeTile=function(t,n){if(!n)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tessellator","renderWireframeTile","missingTile"));var r=t.currentGlContext;this.vertexTexCoordLocation>=0&&r.disableVertexAttribArray(this.vertexTexCoordLocation),r.drawElements(r.LINES,this.numWireframeIndices,r.UNSIGNED_SHORT,2*this.wireframeIndicesOffset)},w.prototype.renderTileOutline=function(t,n){if(!n)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tessellator","renderTileOutline","missingTile"));var r=t.currentGlContext;this.vertexTexCoordLocation>=0&&r.disableVertexAttribArray(this.vertexTexCoordLocation),r.drawElements(r.LINE_LOOP,this.numOutlineIndices,r.UNSIGNED_SHORT,2*this.outlineIndicesOffset)},w.prototype.pick=function(t,n,r){if(!t)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tessellator","pick","missingDc"));if(!n)throw new e(u.logMessage(u.LEVEL_SEVERE,"Tessellator","pick","missingList"));for(var i=null,o=r||this,a=new p(0,0,0),s=[],l=0,c=n.length;l<c;l++){var h=n[l];h.extent.intersectsFrustum(t.pickFrustum)&&s.push(h)}if(t.pickTerrainOnly||(i=t.uniquePickColor(),this.drawPickTiles(t,s,i)),!t.regionPicking){var d=t.pickRay.clone(),g=this.computeNearestIntersection(d,s);g&&(t.globe.computePositionFromPoint(g[0],g[1],g[2],a),a.altitude=t.globe.elevationAtLocation(a.latitude,a.longitude),t.addPickedObject(new f(i,o,a,null,!0)))}},w.prototype.drawPickTiles=function(t,e,r){var i=t.currentGlContext;try{t.findAndBindProgram(n),t.currentProgram.loadColor(i,r),this.beginRendering(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];this.beginRenderingTile(t,s),this.renderTile(t,s),this.endRenderingTile(t,s)}}finally{this.endRendering(t)}},w.prototype.computeNearestIntersection=function(t,e){for(var n=[],r=0,i=e.length;r<i;r++)this.computeIntersections(t,e[r],n);if(0==n.length)return null;var o,a=Number.POSITIVE_INFINITY;for(r=0,i=n.length;r<i;r++){var s=t.origin.distanceToSquared(n[r]);a>s&&(a=s,o=r)}return n[o]},w.prototype.computeIntersections=function(t,e,n){var r,i,o=e.level,a=e.points,s=n.length;t.origin.subtract(e.referencePoint),this.buildSharedGeometry(e),i=this.baseIndices,E.computeTriStripIntersections(t,a,i,n),i=(r=e.neighborLevel(WorldWind.SOUTH))&&r.compare(o)<0?this.indicesLoresSouth:this.indicesSouth,E.computeTriStripIntersections(t,a,i,n),i=(r=e.neighborLevel(WorldWind.WEST))&&r.compare(o)<0?this.indicesLoresWest:this.indicesWest,E.computeTriStripIntersections(t,a,i,n),i=(r=e.neighborLevel(WorldWind.EAST))&&r.compare(o)<0?this.indicesLoresEast:this.indicesEast,E.computeTriStripIntersections(t,a,i,n),i=(r=e.neighborLevel(WorldWind.NORTH))&&r.compare(o)<0?this.indicesLoresNorth:this.indicesNorth,E.computeTriStripIntersections(t,a,i,n),t.origin.add(e.referencePoint);for(var u=s,l=n.length;u<l;u++)n[u].add(e.referencePoint)},w.prototype.createTopLevelTiles=function(t){this.topLevelTiles[t.globeStateKey]=[],b.createTilesForLevel(this.levels.firstLevel(),this,this.topLevelTiles[t.globeStateKey])},w.prototype.addTileOrDescendants=function(t,e){return this.tileMeetsRenderCriteria(t,e)?void this.addTile(t,e):void this.addTileDescendants(t,e)},w.prototype.addTileDescendants=function(t,e){for(var n=e.level.nextLevel(),r=e.subdivideToCache(n,this,this.tileCache),i=0;i<r.length;i+=1){var o=r[i];o.update(t),this.levels.sector.intersects(o.sector)&&this.isTileVisible(t,o)&&this.addTileOrDescendants(t,o)}},w.prototype.addTile=function(t,e){var n=this.tiles.length;this.tiles.push(e);var r,i=e.sector,o=[i.maxLatitude,i.maxLongitude].toString(),a=[i.minLatitude,i.maxLongitude].toString(),s=[i.maxLatitude,i.minLongitude].toString(),u=[i.minLatitude,i.minLongitude].toString();(r=this.corners[u])?r.sw=n:this.corners[u]={sw:n},(r=this.corners[s])?r.nw=n:this.corners[s]={nw:n},(r=this.corners[a])?r.se=n:this.corners[a]={se:n},(r=this.corners[o])?r.ne=n:this.corners[o]={ne:n}},w.prototype.refineNeighbors=function(t){for(var e={},n=0,r=this.tiles.length;n<r;n+=1){var i,o,a=(d=this.tiles[n]).level.levelNumber,s=d.sector,u=[s.maxLatitude,s.maxLongitude].toString(),l=[s.minLatitude,s.maxLongitude].toString(),c=[s.maxLatitude,s.minLongitude].toString(),h=[s.minLatitude,s.minLongitude].toString();(i=this.corners[u]).hasOwnProperty("se")&&(o=i.se,this.tiles[o].level.levelNumber<a-1&&(e[o]||(e[o]=!0))),i.hasOwnProperty("nw")&&(o=i.nw,this.tiles[o].level.levelNumber<a-1&&(e[o]||(e[o]=!0))),(i=this.corners[l]).hasOwnProperty("ne")&&(o=i.ne,this.tiles[o].level.levelNumber<a-1&&(e[o]||(e[o]=!0))),i.hasOwnProperty("sw")&&(o=i.sw,this.tiles[o].level.levelNumber<a-1&&(e[o]||(e[o]=!0))),(i=this.corners[c]).hasOwnProperty("ne")&&(o=i.ne,this.tiles[o].level.levelNumber<a-1&&(e[o]||(e[o]=!0))),i.hasOwnProperty("sw")&&(o=i.sw,this.tiles[o].level.levelNumber<a-1&&(e[o]||(e[o]=!0))),(i=this.corners[h]).hasOwnProperty("se")&&(o=i.se,this.tiles[o].level.levelNumber<a-1&&(e[o]||(e[o]=!0))),i.hasOwnProperty("nw")&&(o=i.nw,this.tiles[o].level.levelNumber<a-1&&(e[o]||(e[o]=!0)))}var f=[],p=[];for(n=0,r=this.tiles.length;n<r;n+=1)d=this.tiles[n],e[n]?f.push(d):p.push(d);if(f.length>0){for(this.tiles=[],this.corners={},n=0,r=p.length;n<r;n+=1)d=p[n],this.addTile(t,d);for(n=0,r=f.length;n<r;n+=1){var d=f[n];this.addTileDescendants(t,d)}this.refineNeighbors(t)}},w.prototype.finishTessellating=function(t){for(var e=0,n=this.tiles.length;e<n;e+=1){var r=this.tiles[e];this.setNeighbors(r),this.regenerateTileGeometryIfNeeded(t,r),this.currentTiles.addTile(r)}},w.prototype.setNeighbors=function(t){var e=t.sector,n=[e.maxLatitude,e.maxLongitude].toString(),r=[e.minLatitude,e.maxLongitude].toString(),i=[e.maxLatitude,e.minLongitude].toString(),o=[e.minLatitude,e.minLongitude].toString(),a=this.corners[n],s=this.corners[r],u=this.corners[i],l=this.corners[o],c=-1,h=-1,f=-1,p=-1;a.hasOwnProperty("se")?c=a.se:u.hasOwnProperty("sw")&&(c=u.sw),s.hasOwnProperty("ne")?h=s.ne:l.hasOwnProperty("nw")&&(h=l.nw),a.hasOwnProperty("nw")?f=a.nw:s.hasOwnProperty("sw")&&(f=s.sw),u.hasOwnProperty("ne")?p=u.ne:l.hasOwnProperty("se")&&(p=l.se),t.setNeighborLevel(WorldWind.NORTH,c>=0?this.tiles[c].level:null),t.setNeighborLevel(WorldWind.SOUTH,h>=0?this.tiles[h].level:null),t.setNeighborLevel(WorldWind.EAST,f>=0?this.tiles[f].level:null),t.setNeighborLevel(WorldWind.WEST,p>=0?this.tiles[p].level:null)},w.prototype.isTileVisible=function(t,e){return!(t.globe.projectionLimits&&!e.sector.overlaps(t.globe.projectionLimits))&&e.extent.intersectsFrustum(t.frustumInModelCoordinates)},w.prototype.tileMeetsRenderCriteria=function(t,e){var n=this.detailControl;return(e.sector.minLatitude>=75||e.sector.maxLatitude<=-75)&&(n*=2),e.level.isLastLevel()||!e.mustSubdivide(t,n)},w.prototype.regenerateTileGeometryIfNeeded=function(t,e){var n=t.globeStateKey+e.stateKey+t.verticalExaggeration;e.points&&e.pointsStateKey==n||(this.regenerateTileGeometry(t,e),e.pointsStateKey=n)},w.prototype.coverageTargetResolution=function(e){return e/8*t.RADIANS_TO_DEGREES},w.prototype.regenerateTileGeometry=function(t,e){var n=e.tileHeight+1,r=e.tileWidth+1,i=e.referencePoint,o=this.scratchElevations;o||(o=new Float64Array(n*r),this.scratchElevations=o),e.points||(e.points=new Float32Array(n*r*3)),_.fillArray(o,0),t.globe.elevationsForGrid(e.sector,n,r,this.coverageTargetResolution(e.texelSize),o),this.mustAlignNeighborElevations(t,e)&&this.alignNeighborElevations(t,e,o),_.multiplyArray(o,t.verticalExaggeration),t.globe.computePointsForGrid(e.sector,n,r,o,i,e.points),e.transformationMatrix.setTranslation(i[0],i[1],i[2])},w.prototype.mustAlignNeighborElevations=function(t,e){var n=e.level,r=e.neighborLevel(WorldWind.NORTH),i=e.neighborLevel(WorldWind.SOUTH),o=e.neighborLevel(WorldWind.EAST),a=e.neighborLevel(WorldWind.WEST);return r&&r.compare(n)<0||i&&i.compare(n)<0||o&&o.compare(n)<0||a&&a.compare(n)<0},w.prototype.alignNeighborElevations=function(t,e,n){var r,i,o,a,s=e.tileHeight+1,u=e.tileWidth+1,l=e.level,c=Math.floor(s/2)+1,h=Math.floor(u/2)+1,f=l.previousLevel(),p=this.scratchPrevElevations;if(p||(p=new Float64Array(c*h),this.scratchPrevElevations=p),_.fillArray(p,0),t.globe.elevationsForGrid(e.sector,c,h,this.coverageTargetResolution(f.texelSize),p),(r=e.neighborLevel(WorldWind.NORTH))&&r.compare(l)<0)for(o=(s-1)*u,a=(c-1)*h,i=0;i<h;i++,o+=2,a+=1)n[o]=p[a],i<h-1&&(n[o+1]=.5*(p[a]+p[a+1]));if((r=e.neighborLevel(WorldWind.SOUTH))&&r.compare(l)<0)for(o=0,a=0,i=0;i<h;i++,o+=2,a+=1)n[o]=p[a],i<h-1&&(n[o+1]=.5*(p[a]+p[a+1]));if((r=e.neighborLevel(WorldWind.EAST))&&r.compare(l)<0)for(o=u-1,a=h-1,i=0;i<c;i++,o+=2*u,a+=h)n[o]=p[a],i<c-1&&(n[o+u]=.5*(p[a]+p[a+h]));if((r=e.neighborLevel(WorldWind.WEST))&&r.compare(l)<0)for(o=0,a=0,i=0;i<c;i++,o+=2*u,a+=h)n[o]=p[a],i<c-1&&(n[o+u]=.5*(p[a]+p[a+h]))},w.prototype.buildSharedGeometry=function(){var t=this.levels.tileWidth,e=this.levels.tileHeight;this.texCoords||this.buildTexCoords(t,e),this.indices||this.buildIndices(t,e)},w.prototype.buildTexCoords=function(t,e){for(var n=t+1,r=e+1,i=1/t,o=1/e,a=new Float32Array(n*r*2),s=0,u=0,l=0;u<r;u++,l+=o){u==r-1&&(l=1);for(var c=0,h=0;c<n;c++,h+=i)c==n-1&&(h=1),a[s++]=h,a[s++]=l}this.texCoords=a},w.prototype.buildIndices=function(t,e){for(var n,r=e+1,i=t+1,o=2*(r-3)*(i-2)+2*(r-3),a=[],s=0,u=1;u<i-2;u+=1){for(var l=1;l<r-1;l+=1)n=u+l*i,a[s++]=n,a[s++]=n+1;a[s++]=n+1,n=u+1+1*i,a[s++]=n}for(this.baseIndicesOffset=a.length-o,this.baseIndices=new Uint16Array(a.slice(this.baseIndicesOffset)),this.numBaseIndices=o,o=2*i-2,n=(u=i-1)+(l=r-1)*i,a[s++]=n,u=i-2;u>0;u-=1)n=u+l*i,a[s++]=n,a[s++]=n-i;for(n=(u=0)+l*i,a[s++]=n,this.indicesNorthOffset=a.length-o,this.indicesNorth=new Uint16Array(a.slice(this.indicesNorthOffset)),this.numIndicesNorth=o,o=2*i-2,n=(u=0)+(l=0)*i,a[s++]=n,u=1;u<i-1;u+=1)n=u+l*i,a[s++]=n,a[s++]=n+i;for(n=(u=i-1)+l*i,a[s++]=n,this.indicesSouthOffset=a.length-o,this.indicesSouth=new Uint16Array(a.slice(this.indicesSouthOffset)),this.numIndicesSouth=o,o=2*r-2,n=(u=0)+(l=r-1)*i,a[s++]=n,l=r-2;l>0;l-=1)n=u+l*i,a[s++]=n,a[s++]=n+1;for(n=u+(l=0)*i,a[s++]=n,this.indicesWestOffset=a.length-o,this.indicesWest=new Uint16Array(a.slice(this.indicesWestOffset)),this.numIndicesWest=o,o=2*r-2,n=(u=i-1)+(l=0)*i,a[s++]=n,l=1;l<r-1;l+=1)n=u+l*i,a[s++]=n,a[s++]=n-1;for(n=u+(l=r-1)*i,a[s++]=n,this.indicesEastOffset=a.length-o,this.indicesEast=new Uint16Array(a.slice(this.indicesEastOffset)),this.numIndicesEast=o,o=2*i-2,n=(u=i-1)+(l=r-1)*i,a[s++]=n,u=i-2;u>0;u-=1)n=(u+1&-2)+l*i,a[s++]=n,n=u+(l-1)*i,a[s++]=n;for(n=(u=0)+l*i,a[s++]=n,this.indicesLoresNorthOffset=a.length-o,this.indicesLoresNorth=new Uint16Array(a.slice(this.indicesLoresNorthOffset)),this.numIndicesLoresNorth=o,o=2*i-2,n=(u=0)+(l=0)*i,a[s++]=n,u=1;u<i-1;u+=1)n=(-2&u)+l*i,a[s++]=n,n=u+(l+1)*i,a[s++]=n;for(n=(u=i-1)+l*i,a[s++]=n,this.indicesLoresSouthOffset=a.length-o,this.indicesLoresSouth=new Uint16Array(a.slice(this.indicesLoresSouthOffset)),this.numIndicesLoresSouth=o,o=2*r-2,n=(u=0)+(l=r-1)*i,a[s++]=n,l=r-2;l>0;l-=1)n=u+(l+1&-2)*i,a[s++]=n,n=u+1+l*i,a[s++]=n;for(n=u+(l=0)*i,a[s++]=n,this.indicesLoresWestOffset=a.length-o,this.indicesLoresWest=new Uint16Array(a.slice(this.indicesLoresWestOffset)),this.numIndicesLoresWest=o,o=2*r-2,n=(u=i-1)+(l=0)*i,a[s++]=n,l=1;l<r-1;l+=1)n=u+(-2&l)*i,a[s++]=n,n=u-1+l*i,a[s++]=n;n=u+(l=r-1)*i,a[s++]=n,this.indicesLoresEastOffset=a.length-o,this.indicesLoresEast=new Uint16Array(a.slice(this.indicesLoresEastOffset)),this.numIndicesLoresEast=o;var c=this.buildWireframeIndices(t,e),h=this.buildOutlineIndices(t,e);a=a.concat(c),this.wireframeIndicesOffset=a.length-this.numWireframeIndices,a=a.concat(h),this.outlineIndicesOffset=a.length-this.numOutlineIndices,this.indices=new Uint16Array(a)},w.prototype.buildWireframeIndices=function(t,e){var n,r,i,o=e+1,a=t+1,s=2*t*o+2*e*a,u=[],l=a,c=0;for(r=0;r<o;r+=1)for(n=0;n<t;n+=1)i=n+r*l,u[c]=i,u[c+1]=i+1,c+=2;for(n=0;n<a;n+=1)for(r=0;r<e;r+=1)i=n+r*l,u[c]=i,u[c+1]=i+l,c+=2;return this.numWireframeIndices=s,u},w.prototype.buildOutlineIndices=function(t,e){var n,r,i,o=e+1,a=t+1,s=2*(o-2)+2*a+1,u=[],l=0;for(r=0,n=0;n<a;n+=1)i=n+r*a,u[l]=i,l+=1;for(n=a-1,r=1;r<o;r+=1)i=n+r*a,u[l]=i,l+=1;for(r=o-1,n=a-1;n>=0;n-=1)i=n+r*a,u[l]=i,l+=1;for(n=0,r=o-1;r>=0;r-=1)i=n+r*a,u[l]=i,l+=1;return this.numOutlineIndices=s,u},w.prototype.cacheSharedGeometryVBOs=function(t){var e=t.currentGlContext,n=t.gpuResourceCache,r=n.resourceForKey(this.texCoordVboCacheKey);r||(r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,this.texCoords,e.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),n.putResource(this.texCoordVboCacheKey,r,4*this.texCoords.length/2));var i=n.resourceForKey(this.indicesVboCacheKey);i||(i=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),n.putResource(this.indicesVboCacheKey,i,2*this.indices.length))},w})),i("globe/Globe",["../geom/Angle","../error/ArgumentError","../geom/BoundingBox","../globe/ElevationModel","../geom/Line","../geom/Location","../util/Logger","../geom/Position","../projections/ProjectionWgs84","../geom/Sector","../globe/Tessellator","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f){"use strict";var p=function t(n,r){if(!n)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","constructor","Elevation model is null or undefined."));this.elevationModel=n,this.equatorialRadius=WorldWind.WGS84_SEMI_MAJOR_AXIS;var i=1/WorldWind.WGS84_INVERSE_FLATTENING;this.polarRadius=this.equatorialRadius*(1-i),this.eccentricitySquared=2*i-i*i,this.tessellator=new c,this._projection=r||new u,this._offset=0,this.offsetVector=new h(0,0,0),this.id=++t.idPool,this._stateKey="globe "+this.id.toString()+" "};return p.idPool=0,Object.defineProperties(p.prototype,{stateKey:{get:function(){return this._stateKey+this.elevationModel.stateKey+"offset "+this.offset.toString()+" "+this.projection.stateKey}},continuous:{get:function(){return this.projection.continuous}},projection:{get:function(){return this._projection},set:function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","projection","missingProjection"));this.projection!=t&&(this.tessellator=new c),this._projection=t}},projectionLimits:{get:function(){return this._projection.projectionLimits}},offset:{get:function(){return this._offset},set:function(t){this._offset=t,this.offsetVector[0]=2*t*Math.PI*this.equatorialRadius}}}),p.prototype.is2D=function(){return this.projection.is2D},p.prototype.computePointFromPosition=function(t,n,r,i){if(!i)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","computePointFromPosition","missingResult"));return this.projection.geographicToCartesian(this,t,n,r,this.offsetVector,i)},p.prototype.computePointFromLocation=function(t,n,r){if(!r)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","computePointFromLocation","missingResult"));return this.computePointFromPosition(t,n,0,r)},p.prototype.computePointsForGrid=function(t,n,r,i,o,s){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","computePointsFromPositions","missingSector"));if(n<1||r<1)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","computePointsFromPositions","Number of latitude or longitude locations is less than one."));var u=n*r;if(!i||i.length<u)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","computePointsFromPositions","Elevations array is null, undefined or insufficient length."));if(!s||s.length<u)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","computePointsFromPositions","Result array is null, undefined or insufficient length."));return this.projection.geographicToCartesianGrid(this,t,n,r,i,o,this.offsetVector,s)},p.prototype.computePositionFromPoint=function(t,n,r,i){if(!i)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","computePositionFromPoint","missingResult"));return this.projection.cartesianToGeographic(this,t,n,r,this.offsetVector,i),this.continuous&&(i.longitude<-180?i.longitude+=360:i.longitude>180&&(i.longitude-=360)),i},p.prototype.radiusAt=function(e,n){var r=Math.sin(e*t.DEGREES_TO_RADIANS);return this.equatorialRadius/Math.sqrt(1-this.eccentricitySquared*r*r)*Math.sqrt(1+(this.eccentricitySquared*this.eccentricitySquared-2*this.eccentricitySquared)*r*r)},p.prototype.surfaceNormalAtLocation=function(n,r,i){if(!i)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","surfaceNormalAtLocation","missingResult"));if(this.projection.surfaceNormalAtLocation)return this.projection.surfaceNormalAtLocation(this,n,r,i);if(this.is2D())return i[0]=0,i[1]=0,i[2]=1,i;var o=Math.cos(n*t.DEGREES_TO_RADIANS),s=Math.cos(r*t.DEGREES_TO_RADIANS),u=Math.sin(n*t.DEGREES_TO_RADIANS),l=Math.sin(r*t.DEGREES_TO_RADIANS);return i[0]=o*l,i[1]=u,i[2]=o*s,i.normalize()},p.prototype.surfaceNormalAtPoint=function(t,n,r,i){if(!i)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","surfaceNormalAtPoint","missingResult"));if(this.projection.surfaceNormalAtPoint)return this.projection.surfaceNormalAtPoint(this,t,n,r,i);if(this.is2D())return i[0]=0,i[1]=0,i[2]=1,i;var o=this.equatorialRadius*this.equatorialRadius,s=this.polarRadius*this.polarRadius;return i[0]=t/o,i[1]=n/s,i[2]=r/o,i.normalize()},p.prototype.northTangentAtLocation=function(t,n,r){if(!r)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","northTangentAtLocation","missingResult"));return this.projection.northTangentAtLocation(this,t,n,r)},p.prototype.northTangentAtPoint=function(t,n,r,i){if(!i)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","northTangentAtPoint","missingResult"));return this.projection.northTangentAtPoint(this,t,n,r,this.offsetVector,i)},p.prototype.intersectsFrustum=function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","intersectsFrustum","missingFrustum"));if(this.is2D()){var r=new n;return r.setToSector(l.FULL_SPHERE,this,this.elevationModel.minElevation,this.elevationModel.maxElevation),r.intersectsFrustum(t)}return!(t.far.distance<=this.equatorialRadius)&&!(t.left.distance<=this.equatorialRadius)&&!(t.right.distance<=this.equatorialRadius)&&!(t.top.distance<=this.equatorialRadius)&&!(t.bottom.distance<=this.equatorialRadius)&&!(t.near.distance<=this.equatorialRadius)},p.prototype.intersectsLine=function(t,n){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","intersectWithRay","missingLine"));if(!n)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","intersectsLine","missingResult"));var r,i=t.direction[0],o=t.direction[1],s=t.direction[2],u=t.origin[0],l=t.origin[1],c=t.origin[2];if(this.is2D())return(0!=s||0==c)&&!((r=-c/s)<0)&&(n[0]=u+i*r,n[1]=l+o*r,n[2]=c+s*r,!0);var h,f,p,d=this.equatorialRadius,g=d*d,m=d/this.polarRadius,y=m*m;return!((p=(f=2*(u*i+y*l*o+c*s))*f-4*(h=i*i+y*o*o+s*s)*(u*u+y*l*l+c*c-g))<0)&&((r=(-f-Math.sqrt(p))/(2*h))>0||(r=(-f+Math.sqrt(p))/(2*h))>0)&&(n[0]=u+i*r,n[1]=l+o*r,n[2]=c+s*r,!0)},p.prototype.elevationTimestamp=function(){return this.elevationModel.timestamp},p.prototype.minElevation=function(){return this.elevationModel.minElevation},p.prototype.maxElevation=function(){return this.elevationModel.maxElevation},p.prototype.minAndMaxElevationsForSector=function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","minAndMaxElevationsForSector","missingSector"));return this.elevationModel.minAndMaxElevationsForSector(t)},p.prototype.elevationAtLocation=function(t,e){return this.elevationModel.elevationAtLocation(t,e)},p.prototype.elevationsForGrid=function(t,n,r,i,o){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","elevationsForSector","missingSector"));if(n<=0||r<=0)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","elevationsForSector","numLat or numLon is less than 1"));if(!o||o.length<n*r)throw new e(a.logMessage(a.LEVEL_SEVERE,"Globe","elevationsForSector","missingArray"));return this.elevationModel.elevationsForGrid(t,n,r,i,o)},p})),i("cache/GpuResourceCache",["../util/AbsentResourceList","../error/ArgumentError","../util/ImageSource","../util/Logger","../cache/MemoryCache","../render/Texture"],(function(t,e,n,r,i,o){"use strict";var a=function(n,o){if(!n||n<1)throw new e(r.logMessage(r.LEVEL_SEVERE,"GpuResourceCache","constructor","Specified cache capacity is undefined, 0 or negative."));if(!o||o<0||o>=n)throw new e(r.logMessage(r.LEVEL_SEVERE,"GpuResourceCache","constructor","Specified cache low-water value is undefined, negative or not less than the capacity."));this.entries=new i(n,o),this.cacheKeyPool=0,this.currentRetrievals={},this.absentResourceList=new t(3,6e4)};return Object.defineProperties(a.prototype,{capacity:{get:function(){return this.entries.capacity}},lowWater:{get:function(){return this.entries.lowWater}},usedCapacity:{get:function(){return this.entries.usedCapacity}},freeCapacity:{get:function(){return this.entries.freeCapacity}}}),a.prototype.generateCacheKey=function(){return"GpuResourceCache "+ ++this.cacheKeyPool},a.prototype.putResource=function(t,i,o){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"GpuResourceCache","putResource","missingKey."));if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"GpuResourceCache","putResource","missingResource."));if(!o||o<1)throw new e(r.logMessage(r.LEVEL_SEVERE,"GpuResourceCache","putResource","The specified resource size is undefined or less than 1."));var a={resource:i};this.entries.putEntry(t instanceof n?t.key:t,a,o)},a.prototype.resourceForKey=function(t){var e=t instanceof n?this.entries.entryForKey(t.key):this.entries.entryForKey(t),r=e?e.resource:null;return null!==r&&"function"==typeof r.clearTexParameters&&r.clearTexParameters(),r},a.prototype.setResourceAgingFactor=function(t,e){this.entries.setEntryAgingFactor(t,e)},a.prototype.containsResource=function(t){return this.entries.containsKey(t instanceof n?t.key:t)},a.prototype.removeResource=function(t){this.entries.removeEntry(t instanceof n?t.key:t)},a.prototype.clear=function(){this.entries.clear(!1)},a.prototype.retrieveTexture=function(t,e,i){if(!e)return null;if(e instanceof n){var a=new o(t,e.image,i);return this.putResource(e.key,a,a.size),a}if(this.currentRetrievals[e]||this.absentResourceList.isResourceAbsent(e))return null;var s=this,u=new Image;return u.onload=function(){r.log(r.LEVEL_INFO,"Image retrieval succeeded: "+e);var n=new o(t,u,i);s.putResource(e,n,n.size),delete s.currentRetrievals[e],s.absentResourceList.unmarkResourceAbsent(e);var a=document.createEvent("Event");a.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),window.dispatchEvent(a)},u.onerror=function(){delete s.currentRetrievals[e],s.absentResourceList.markResourceAbsent(e),r.log(r.LEVEL_WARNING,"Image retrieval failed: "+e)},this.currentRetrievals[e]=e,u.crossOrigin="anonymous",u.src=e,null},a})),i("pick/PickedObjectList",[],(function(){"use strict";var t=function(){this.objects=[]};return t.prototype.hasNonTerrainObjects=function(){return this.objects.length>1||1===this.objects.length&&null==this.terrainObject()},t.prototype.terrainObject=function(){for(var t=0,e=this.objects.length;t<e;t++)if(this.objects[t].isTerrain)return this.objects[t];return null},t.prototype.add=function(t){if(t)if(t.isTerrain){for(var e=this.objects.length,n=0,r=this.objects.length;n<r;n++)if(this.objects[n].isTerrain){e=n;break}this.objects[e]=t}else this.objects.push(t)},t.prototype.clear=function(){this.objects=[]},t.prototype.topPickedObject=function(){var t=this.objects.length;if(t>1)for(var e=0;e<t;e++)if(this.objects[e].isOnTop)return this.objects[e];return t>0?this.objects[0]:null},t})),i("render/ScreenCreditController",["../error/ArgumentError","../util/Color","../util/Font","../layer/Layer","../util/Logger","../util/Offset","../shapes/ScreenText"],(function(t,e,n,r,i,o,a){"use strict";var s=function(){r.call(this,"ScreenCreditController"),this.creditPlacement=new o(WorldWind.OFFSET_PIXELS,11,WorldWind.OFFSET_PIXELS,2),this.creditMargin=11,this.opacity=.5,this.credits=[]};return(s.prototype=Object.create(r.prototype)).clear=function(){this.credits=[]},s.prototype.addCredit=function(e,r,s){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"ScreenCreditController","addCredit","missingText"));if(!r)throw new t(i.logMessage(i.LEVEL_SEVERE,"ScreenCreditController","addCredit","missingColor"));for(var u=0,l=this.credits.length;u<l;u++)if(this.credits[u].text===e)return;var c=new a(new o(WorldWind.OFFSET_PIXELS,0,WorldWind.OFFSET_PIXELS,0),e);c.attributes.font=new n(10),c.attributes.color=r,c.attributes.enableOutline=!1,c.attributes.offset=new o(WorldWind.OFFSET_FRACTION,0,WorldWind.OFFSET_FRACTION,0),s&&(c.userProperties.url=s),this.credits.push(c)},s.prototype.doRender=function(t){for(var e=this.creditPlacement.offsetForSize(t.viewport.width,t.viewport.height),n=0,r=this.credits.length;n<r;n++)this.credits[n].screenOffset.x=e[0],this.credits[n].screenOffset.y=e[1],this.credits[n].render(t),t.textRenderer.typeFace=this.credits[n].attributes.font,t.textRenderer.outlineWidth=this.credits[n].attributes.outlineWidth,t.textRenderer.enableOutline=this.credits[n].attributes.enableOutline,e[0]+=t.textRenderer.textSize(this.credits[n].text)[0],e[0]+=this.creditMargin},s})),i("util/HashMap",[],(function(){"use strict";var t=function(){this._entries=Object.create(null)};return t.prototype.get=function(t){return this._entries[t]},t.prototype.set=function(t,e){this._entries[t]=e},t.prototype.remove=function(t){delete this._entries[t]},t.prototype.contains=function(t){return t in this._entries},t.reIndex=function(e,n,r){var i=new t;for(var o in e._entries){var a=parseInt(o);a>=n&&(a+=r);var s=e.get(o);s.index=a,i.set(a,s)}return i},t})),i("util/PolygonSplitter",["./HashMap","../geom/Location","../geom/Position","./WWMath"],(function(t,e,n,r){"use strict";return{addedIndex:-1,poleIndexOffset:-1,splitContours:function(t,e){for(var n=!1,r=0,i=t.length;r<i;r++){var o=this.splitContour(t[r]);o.polygons.length>1&&(n=!0),e.push(o)}return n},splitContour:function(n){var r=new t,i=[],o=[],a=[],s=[],u=-1,l=this.findIntersectionAndPole(n,i,o,r);return 0===o.length?(a.push(i),s.push(r),this.formatContourOutput(a,l,u,s)):(o.length>2&&o.sort((function(t,e){return e.latitude-t.latitude})),l!==e.poles.NONE&&(i=this.handleOnePole(i,o,r,l),r=this.reindexIntersections(o,r,this.poleIndexOffset)),0===o.length?(a.push(i),s.push(r),u=0,this.formatContourOutput(a,l,u,s)):(this.linkIntersections(o,r),u=this.makePolygons(i,o,r,a,s),this.formatContourOutput(a,l,u,s)))},findIntersectionAndPole:function(t,n,i,o){var a=!1,s=90,u=-90;this.addedIndex=-1;for(var l=0,c=t.length;l<c;l++){var h=t[l],f=t[(l+1)%c];if(s=Math.min(s,h.latitude),u=Math.max(u,h.latitude),e.locationsCrossDateLine([h,f])){a=!a;var p=e.meridianIntersection(h,f,180);null===p&&(p=(h.latitude+f.latitude)/2);var d=180*r.signum(h.longitude)||180,g=this.createPoint(p,d,h.altitude),m=this.createPoint(p,-d,f.altitude);this.safeAdd(n,h,l,c);var y=n.length;o.set(y,this.makeIntersectionEntry(y)),o.set(y+1,this.makeIntersectionEntry(y+1)),i.push({indexEnd:y,indexStart:y+1,latitude:p}),n.push(g),n.push(m),this.safeAdd(n,f,l+1,c)}else this.safeAdd(n,h,l,c),this.safeAdd(n,f,l+1,c)}var v=e.poles.NONE;return a&&(v=this.determinePole(s,u)),v},determinePole:function(t,n){return t>0?e.poles.NORTH:n<0?e.poles.SOUTH:Math.abs(n)>=Math.abs(t)?e.poles.NORTH:e.poles.SOUTH},handleOnePole:function(t,n,r,i){var o;if(i===e.poles.NORTH)var a=n.shift(),s=90;else i===e.poles.SOUTH&&(a=n.pop(),s=-90);var u=r.get(a.indexEnd),l=r.get(a.indexStart);u.forPole=!0,l.forPole=!0,this.poleIndexOffset=a.indexStart,o=t.slice(0,a.indexEnd+1);var c=this.createPoint(s,t[u.index].longitude,t[u.index].altitude),h=this.createPoint(s,t[l.index].longitude,t[l.index].altitude);return o.push(c,h),o.concat(t.slice(this.poleIndexOffset))},linkIntersections:function(t,e){for(var n=0;n<t.length-1;n+=2){var r=t[n],i=t[n+1],o=e.get(r.indexEnd),a=e.get(r.indexStart),s=e.get(i.indexEnd),u=e.get(i.indexStart);o.linkTo=i.indexStart,a.linkTo=i.indexEnd,s.linkTo=r.indexStart,u.linkTo=r.indexEnd}},reindexIntersections:function(e,n,r){n=t.reIndex(n,r,2);for(var i=0,o=e.length;i<o;i++)e[i].indexEnd>=r&&(e[i].indexEnd+=2),e[i].indexStart>=r&&(e[i].indexStart+=2);return n},makePolygons:function(e,n,r,i,o){for(var a=-1,s=0;s<n.length-1;s+=2){var u=n[s],l=n[s+1],c=u.indexStart,h=l.indexEnd,f=[],p=new t,d=this.makePolygon(c,h,e,r,f,p);f.length&&(i.push(f),o.push(p),d&&(a=i.length-1)),c=l.indexStart,h=u.indexEnd,f=[],p=new t,d=this.makePolygon(c,h,e,r,f,p),f.length&&(i.push(f),o.push(p),d&&(a=i.length-1))}return a},makePolygon:function(t,e,n,r,i,o){var a=!1,s=n.length,u=!1;e<t&&(e+=s);for(var l=t;l<=e;l++){var c=l%s,h=n[c],f=r.get(c);if(f){if(f.visited)break;if(i.push(h),o.set(i.length-1,f),f.forPole)u=!0;else{if(a&&1+(l=f.linkTo-1)===t)break;a=!a,f.visited=!0}}else i.push(h)}return u},safeAdd:function(t,e,n,r){this.addedIndex<n&&this.addedIndex<r-1&&(t.push(e),this.addedIndex=n)},createPoint:function(t,r,i){return null==i?new e(t,r):new n(t,r,i)},formatContourOutput:function(t,e,n,r){return{polygons:t,pole:e,poleIndex:n,iMap:r}},makeIntersectionEntry:function(t){return null==t&&(t=-1),{visited:!1,forPole:!1,index:t,linkTo:-1}}}})),i("shapes/ShapeAttributes",["../util/Color","../util/ImageSource"],(function(t,e){"use strict";var n=function(e){this._drawInterior=!e||e._drawInterior,this._drawOutline=!e||e._drawOutline,this._enableLighting=!!e&&e._enableLighting,this._interiorColor=e?e._interiorColor.clone():t.WHITE.clone(),this._outlineColor=e?e._outlineColor.clone():t.RED.clone(),this._outlineWidth=e?e._outlineWidth:1,this._outlineStippleFactor=e?e._outlineStippleFactor:0,this._outlineStipplePattern=e?e._outlineStipplePattern:61680,this._imageSource=e?e._imageSource:null,this._depthTest=!e||e._depthTest,this._drawVerticals=!!e&&e._drawVerticals,this._applyLighting=!!e&&e._applyLighting,this.stateKeyInvalid=!0};return n.prototype.computeStateKey=function(){return"di "+this._drawInterior+" do "+this._drawOutline+" el "+this._enableLighting+" ic "+this._interiorColor.toHexString(!0)+" oc "+this._outlineColor.toHexString(!0)+" ow "+this._outlineWidth+" osf "+this._outlineStippleFactor+" osp "+this._outlineStipplePattern+" is "+(this._imageSource?this.imageSource instanceof e?this.imageSource.key:this.imageSource:"null")+" dt "+this._depthTest+" dv "+this._drawVerticals+" li "+this._applyLighting},Object.defineProperties(n.prototype,{stateKey:{get:function(){return this.stateKeyInvalid&&(this._stateKey=this.computeStateKey(),this.stateKeyInvalid=!1),this._stateKey}},drawInterior:{get:function(){return this._drawInterior},set:function(t){this._drawInterior=t,this.stateKeyInvalid=!0}},drawOutline:{get:function(){return this._drawOutline},set:function(t){this._drawOutline=t,this.stateKeyInvalid=!0}},enableLighting:{get:function(){return this._enableLighting},set:function(t){this._enableLighting=t,this.stateKeyInvalid=!0}},interiorColor:{get:function(){return this._interiorColor},set:function(t){this._interiorColor=t,this.stateKeyInvalid=!0}},outlineColor:{get:function(){return this._outlineColor},set:function(t){this._outlineColor=t,this.stateKeyInvalid=!0}},outlineWidth:{get:function(){return this._outlineWidth},set:function(t){this._outlineWidth=t,this.stateKeyInvalid=!0}},outlineStipplePattern:{get:function(){return this._outlineStipplePattern},set:function(t){this._outlineStipplePattern=t,this.stateKeyInvalid=!0}},outlineStippleFactor:{get:function(){return this._outlineStippleFactor},set:function(t){this._outlineStippleFactor=t,this.stateKeyInvalid=!0}},imageSource:{get:function(){return this._imageSource},set:function(t){this._imageSource=t,this.stateKeyInvalid=!0}},depthTest:{get:function(){return this._depthTest},set:function(t){this._depthTest=t,this.stateKeyInvalid=!0}},drawVerticals:{get:function(){return this._drawVerticals},set:function(t){this._drawVerticals=t,this.stateKeyInvalid=!0}},applyLighting:{get:function(){return this._applyLighting},set:function(t){this._applyLighting=t,this.stateKeyInvalid=!0}}}),n})),i("shapes/SurfaceShape",["../error/AbstractError","../geom/Angle","../error/ArgumentError","../geom/BoundingBox","../util/Color","../geom/Location","../util/Logger","../cache/MemoryCache","../error/NotYetImplementedError","../pick/PickedObject","../util/PolygonSplitter","../render/Renderable","../geom/Sector","../shapes/ShapeAttributes","../error/UnsupportedOperationError","../geom/Vec3"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g){"use strict";var m=function t(e){h.call(this),this._displayName="Surface Shape",this._attributes=e||new p(null),this._highlightAttributes=null,this._highlighted=!1,this._enabled=!0,this._pathType=WorldWind.GREAT_CIRCLE,this._maximumNumEdgeIntervals=t.DEFAULT_NUM_EDGE_INTERVALS,this._polarThrottle=t.DEFAULT_POLAR_THROTTLE,this._boundingSector=null,this.pickDelegate=null,this._boundingSectors=[],this._locations=null,this._boundaries=null,this._interiorGeometry=null,this._outlineGeometry=null,this._isInteriorInhibited=!1,this.stateKeyInvalid=!0,this._attributesStateKey=null,this.boundariesArePrepared=!1,this.layer=null,this.pickColor=null,this.contours=[],this.containsPole=!1,this.crossesAntiMeridian=!1,this.expirationInterval=2e3,this.shapeDataCache=new s(3,2),this.currentData=null};return m.prototype=Object.create(h.prototype),Object.defineProperties(m.prototype,{stateKey:{get:function(){if(this._attributesStateKey){var t=null;this._highlighted?this._highlightAttributes&&(t=this._highlightAttributes.stateKey):this._attributes&&(t=this._attributes.stateKey),t!=this._attributesStateKey&&(this._attributesStateKey=t,this.stateKeyInvalid=!0)}else this._highlighted?this._highlightAttributes&&(this._attributesStateKey=this._highlightAttributes.stateKey):this._attributes&&(this._attributesStateKey=this._attributes.stateKey),this._attributesStateKey&&(this.stateKeyInvalid=!0);return this.stateKeyInvalid&&(this._stateKey=this.computeStateKey()),this._stateKey}},displayName:{get:function(){return this._displayName},set:function(t){this.stateKeyInvalid=!0,this._displayName=t}},attributes:{get:function(){return this._attributes},set:function(t){this.stateKeyInvalid=!0,this._attributes=t,this._attributesStateKey=t.stateKey}},highlightAttributes:{get:function(){return this._highlightAttributes},set:function(t){this.stateKeyInvalid=!0,this._highlightAttributes=t}},highlighted:{get:function(){return this._highlighted},set:function(t){this.stateKeyInvalid=!0,this._highlighted=t}},enabled:{get:function(){return this._enabled},set:function(t){this.stateKeyInvalid=!0,this._enabled=t}},pathType:{get:function(){return this._pathType},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._pathType=t}},maximumNumEdgeIntervals:{get:function(){return this._maximumNumEdgeIntervals},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._maximumNumEdgeIntervals=t}},polarThrottle:{get:function(){return this._polarThrottle},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._polarThrottle=t}},boundingSector:{get:function(){return this._boundingSector}}}),m.staticStateKey=function(t){return t.stateKeyInvalid=!1,t.highlighted&&t._highlightAttributes?t._attributesStateKey=t._highlightAttributes.stateKey:t._attributes?t._attributesStateKey=t._attributes.stateKey:t._attributesStateKey=null,"dn "+t.displayName+" at "+(t._attributesStateKey?t._attributesStateKey:"null")+" hi "+t.highlighted+" en "+t.enabled+" pt "+t.pathType+" ne "+t.maximumNumEdgeIntervals+" po "+t.polarThrottle+" se ["+t.boundingSector.minLatitude+","+t.boundingSector.maxLatitude+","+t.boundingSector.minLongitude+","+t.boundingSector.maxLongitude+"]"},m.prototype.computeStateKey=function(){return m.staticStateKey(this)},m.prototype.area=function(t,e){throw new u(a.logMessage(a.LEVEL_SEVERE,"SurfaceShape","area","notYetImplemented"))},m.prototype.computeBoundaries=function(e){throw new t(a.logMessage(a.LEVEL_SEVERE,"SurfaceShape","computeBoundaries","abstractInvocation"))},m.prototype.intersectsFrustum=function(t){return!this.currentData||!this.currentData.extent||(t.pickingMode?this.currentData.extent.intersectsFrustum(t.pickFrustum):this.currentData.extent.intersectsFrustum(t.frustumInModelCoordinates))},m.prototype.isShapeDataCurrent=function(t,e){return e.verticalExaggeration===t.verticalExaggeration&&e.expiryTime>Date.now()},m.prototype.createShapeDataObject=function(){return{}},m.prototype.resetExpiration=function(t){t.expiryTime=Date.now()+this.expirationInterval+1e3*Math.random()},m.prototype.establishCurrentData=function(t){this.currentData=this.shapeDataCache.entryForKey(t.globeStateKey),this.currentData||(this.currentData=this.createShapeDataObject(),this.resetExpiration(this.currentData),this.shapeDataCache.putEntry(t.globeStateKey,this.currentData,1)),this.currentData.isExpired=!this.isShapeDataCurrent(t,this.currentData)},m.prototype.render=function(t){this.enabled&&(this.layer=t.currentLayer,this.prepareBoundaries(t),this.establishCurrentData(t),!this.currentData.isExpired&&this.currentData.extent||(this.computeExtent(t),this.currentData.verticalExaggeration=t.verticalExaggeration,this.resetExpiration(this.currentData)),this.currentData&&this.currentData.extent&&!this.intersectsFrustum(t)||t.surfaceShapeTileBuilder.insertSurfaceShape(this))},m.prototype.interpolateLocations=function(t){var e,n,r,i=t[0],o=i,a=!0,s=!0,u=0,l=!0;for(this._locations=[i],n=1,r=t.length;n<r;n+=1)e=o,s=a,l=!0,((a=(o=t[n]).latitude==i.latitude&&o.longitude==i.longitude)||s)&&(u+=1)>2&&(l=!1),l&&this.interpolateEdge(e,o,this._locations),this._locations.push(o),e=o;this._isInteriorInhibited||e.latitude==i.latitude&&e.longitude==i.longitude||(this.interpolateEdge(e,i,this._locations),this._locations.push(i))},m.prototype.interpolateEdge=function(t,e,n){var r,i,a=o.greatCircleDistance(t,e),s=Math.round(this._maximumNumEdgeIntervals*a/Math.PI);if(s>0){r=1/s,i=t;for(var u=this.throttledStep(r,i);u<1;u+=this.throttledStep(r,i))i=new o(0,0),o.interpolateAlongPath(this._pathType,u,t,e,i),180===t.longitude&&180===e.longitude?i.longitude=180:-180===t.longitude&&-180===e.longitude&&(i.longitude=-180),n.push(i)}},m.prototype.throttledStep=function(t,n){var r=Math.cos(n.latitude*e.DEGREES_TO_RADIANS);r*=r;var i=this._polarThrottle/(1+this._polarThrottle);return t*(1-i+i*r)},m.prototype.prepareBoundaries=function(t){if(!this.boundariesArePrepared){this.computeBoundaries(t);var e=this.formatBoundaries();this.normalizeAngles(e),e=this.interpolateBoundaries(e);var n=[],r=c.splitContours(e,n);this.contours=n,this.crossesAntiMeridian=r,this.prepareGeometry(t,n),this.prepareSectors(),this.boundariesArePrepared=!0}},m.prototype.formatBoundaries=function(){var t=[];return this._boundaries.length?(null!=this._boundaries[0].latitude?t.push(this._boundaries):t=this._boundaries,t):t},m.prototype.resetBoundaries=function(){this.boundariesArePrepared=!1,this.shapeDataCache.clear(!1)},m.prototype.normalizeAngles=function(t){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],o=0,a=i.length;o<a;o++){var s=i[o];(s.longitude<-180||s.longitude>180)&&(s.longitude=e.normalizedDegreesLongitude(s.longitude)),(s.latitude<-90||s.latitude>90)&&(s.latitude=e.normalizedDegreesLatitude(s.latitude))}},m.prototype.interpolateBoundaries=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.interpolateLocations(i),e.push(this._locations.slice()),this._locations.length=0}return e},m.prototype.computeSectors=function(t){return this._boundingSectors&&this._boundingSectors.length>0||this.prepareBoundaries(t),this._boundingSectors},m.prototype.computeExtent=function(t){if(!this._boundingSectors||0===this._boundingSectors.length)return null;if(!this.currentData)return null;var e;if(this.currentData.extent||(this.currentData.extent=new r),1===this._boundingSectors.length)e=this._boundingSectors[0].computeBoundingPoints(t.globe,t.verticalExaggeration),this.currentData.extent.setToVec3Points(e);else{for(var n=[],i=0;i<this._boundingSectors.length;i++){e=this._boundingSectors[i].computeBoundingPoints(t.globe,t.verticalExaggeration);var o=new r;o.setToVec3Points(e);for(var a=o.getCorners(),s=0;s<a.length;s++)n.push(a[s])}this.currentData.extent.setToVec3Points(n)}return this.currentData.extent},m.prototype.computeShiftedLocations=function(t,e,n,r){var i=[],a=new g(0,0,0),s=new WorldWind.Position(0,0,0),u=t.computePointFromLocation(e.latitude,e.longitude,new g(0,0,0)),l=t.computePointFromLocation(n.latitude,n.longitude,new g(0,0,0));if(t.is2D())for(var c=l.subtract(u),h=0,f=r.length;h<f;h++)t.computePointFromLocation(r[h].latitude,r[h].longitude,a),a.add(c),t.computePositionFromPoint(a[0],a[1],a[2],s),i.push(new o(s.latitude,s.longitude));else{var p=n.latitude-e.latitude,d=n.longitude-e.longitude,m=-90,y=90;for(h=0,f=r.length;h<f;h++){var v=r[h].latitude+p,b=r[h].longitude+d;v>90?(v=180-v,b+=180):v<-90&&(v=-180-v,b+=180),b<-180?b+=360:b>180&&(b-=360),v>m&&(m=v),v<y&&(y=v),i.push(new o(v,b))}if(m>90)for(c=m-90,h=0,f=i.length;h<f;h++)i[h].latitude-=c}return i},m.prototype.prepareSectors=function(){this.determineSectors(),this.crossesAntiMeridian?this.sectorsOverAntiMeridian():this.sectorsNotOverAntiMeridian()},m.prototype.determineSectors=function(){for(var t=0,e=this.contours.length;t<e;t++){var n=this.contours[t],r=n.polygons;n.sectors=[];for(var i=0,a=r.length;i<a;i++){var s=r[i],u=new f(0,0,0,0);if(u.setToBoundingSector(s),this._pathType===WorldWind.GREAT_CIRCLE){var l=o.greatCircleArcExtremeLocations(s),c=Math.min(u.minLatitude,l[0].latitude),h=Math.max(u.maxLatitude,l[1].latitude);u.minLatitude=c,u.maxLatitude=h}n.sectors.push(u)}}},m.prototype.sectorsOverAntiMeridian=function(){for(var t=new f(90,-90,180,-180),e=new f(90,-90,180,-180),n=0,r=this.contours.length;n<r;n++)for(var i=this.contours[n].sectors,o=0,a=i.length;o<a;o++){var s=i[o];s.minLongitude<0&&s.maxLongitude>0?(e.union(s),t.union(s)):s.minLongitude<0?e.union(s):t.union(s)}var u=Math.min(t.minLatitude,e.minLatitude),l=Math.max(t.maxLatitude,t.maxLatitude);this._boundingSector=new f(u,l,-180,180),this._boundingSectors=[t,e]},m.prototype.sectorsNotOverAntiMeridian=function(){this._boundingSector=new f(90,-90,180,-180);for(var t=0,e=this.contours.length;t<e;t++)for(var n=this.contours[t].sectors,r=0,i=n.length;r<i;r++)this._boundingSector.union(n[r]);this._boundingSectors=[this._boundingSector]},m.prototype.prepareGeometry=function(t,e){for(var n=[],r=[],i=0,a=e.length;i<a;i++)for(var s=e[i],u=s.poleIndex,l=0,c=s.polygons.length;l<c;l++){var h=s.polygons[l],f=s.iMap[l];n.push(h),s.pole!==o.poles.NONE&&c>1?l===u?this.outlineForPole(h,f,r):this.outlineForSplit(h,f,r):s.pole!==o.poles.NONE&&1===c?this.outlineForPole(h,f,r):s.pole===o.poles.NONE&&c>1?this.outlineForSplit(h,f,r):s.pole===o.poles.NONE&&1===c&&r.push(h)}this._interiorGeometry=n,this._outlineGeometry=r},m.prototype.outlineForPole=function(t,e,n){this.containsPole=!0;for(var r=[],i=0,o=0,a=t.length;o<a;o++){var s=t[o],u=e.get(o);u&&u.forPole&&++i%2===1&&(r.push(s),n.push(r),r=[]),i%2===0&&r.push(s)}r.length&&n.push(r)},m.prototype.outlineForSplit=function(t,e,n){for(var r=[],i=0,o=0,a=t.length;o<a;o++){var s=t[o],u=e.get(o);u&&!u.forPole&&++i%2===0&&(r.push(s),n.push(r),r=[]),i%2===1&&r.push(s)}},m.prototype.resetPickColor=function(){this.pickColor=null},m.prototype.renderToTexture=function(t,e,n,r,o,a){var s=this._highlighted&&this._highlightAttributes||this._attributes;if(s){var u=!this._isInteriorInhibited&&s.drawInterior,c=s.drawOutline&&s.outlineWidth>0;if(u||c){if(t.pickingMode)this.pickColor||(this.pickColor=t.uniquePickColor()),e.fillStyle=this.pickColor.toCssColorString(),e.strokeStyle=e.fillStyle,e.lineWidth=s.outlineWidth;else{var h=s.interiorColor,f=s.outlineColor;e.fillStyle=new i(h.red,h.green,h.blue,h.alpha*this.layer.opacity).toCssColorString(),e.strokeStyle=new i(f.red,f.green,f.blue,f.alpha*this.layer.opacity).toCssColorString(),e.lineWidth=s.outlineWidth}if(this.crossesAntiMeridian||this.containsPole?(u&&(this.draw(this._interiorGeometry,e,n,r,o,a),e.fill()),c&&(this.draw(this._outlineGeometry,e,n,r,o,a),e.stroke())):(this.draw(this._interiorGeometry,e,n,r,o,a),u&&e.fill(),c&&e.stroke()),t.pickingMode){var p=new l(this.pickColor.clone(),this.pickDelegate?this.pickDelegate:this,null,this.layer,!1);t.resolvePick(p)}}}},m.prototype.draw=function(t,e,n,r,i,o){e.beginPath();for(var a=0,s=t.length;a<s;a++){var u=t[a],l=u[0],c=l.longitude*n+i,h=l.latitude*r+o;e.moveTo(c,h);for(var f=1,p=u.length;f<p;f++)c=(l=u[f]).longitude*n+i,h=l.latitude*r+o,e.lineTo(c,h)}},m.DEFAULT_NUM_EDGE_INTERVALS=128,m.DEFAULT_POLAR_THROTTLE=10,m})),i("shapes/SurfaceShapeTile",["../geom/Angle","../error/ArgumentError","../util/Level","../util/Logger","../geom/Sector","../render/Texture","../render/TextureTile"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t,e,n,r){a.call(this,t,e,n,r),this.surfaceShapes=[],this.surfaceShapeStateKeys=[],this.asRenderedSurfaceShapeStateKeys=[],this.sector=t,this.cacheKey=null,this.pickSequence=0,this.createCtx2D()};return(s.prototype=Object.create(a.prototype)).clearShapes=function(){this.surfaceShapes=[],this.surfaceShapeStateKeys=[]},s.prototype.hasShapes=function(){return this.surfaceShapes.length>0},s.prototype.getShapes=function(){return this.surfaceShapes},s.prototype.setShapes=function(t){this.surfaceShapes=t},s.prototype.getSector=function(){return this.sector},s.prototype.addSurfaceShape=function(t){this.surfaceShapes.push(t),this.surfaceShapeStateKeys.push(t.stateKey+" lo "+t.layer.opacity)},s.prototype.needsUpdate=function(t){var e,n;if(this.surfaceShapes.length!=this.asRenderedSurfaceShapeStateKeys.length)return!0;for(e=0,n=this.surfaceShapes.length;e<n;e+=1)if(this.surfaceShapeStateKeys[e]!==this.asRenderedSurfaceShapeStateKeys[e])return!0;return!this.hasTexture(t)},s.prototype.hasTexture=function(t){return!t.pickingMode&&(this.gpuCacheKey||(this.gpuCacheKey=this.getCacheKey()),t.gpuResourceCache.containsResource(this.gpuCacheKey))},s.prototype.updateTexture=function(t){var e=t.currentGlContext,n=s.canvas,r=s.ctx2D;n.width=this.tileWidth,n.height=this.tileHeight;var i=this.tileWidth/this.sector.deltaLongitude(),a=-this.tileHeight/this.sector.deltaLatitude(),u=-this.sector.minLongitude*i,l=-this.sector.maxLatitude*a;this.asRenderedSurfaceShapeStateKeys=[];for(var c=0,h=this.surfaceShapes.length;c<h;c+=1){var f=this.surfaceShapes[c];this.asRenderedSurfaceShapeStateKeys.push(this.surfaceShapeStateKeys[c]),f.renderToTexture(t,r,i,a,u,l)}this.gpuCacheKey=this.getCacheKey();var p=t.gpuResourceCache,d=new o(e,n);return p.putResource(this.gpuCacheKey,d,d.size),p.setResourceAgingFactor(this.gpuCacheKey,10),d},s.prototype.getCacheKey=function(){return this.cacheKey||(this.cacheKey="SurfaceShapeTile:"+this.tileKey+","+this.pickSequence.toString()),this.cacheKey},s.prototype.createCtx2D=function(){s.ctx2D||(s.canvas=document.createElement("canvas"),s.ctx2D=s.canvas.getContext("2d"))},s.canvas=null,s.ctx2D=null,s})),i("shapes/SurfaceShapeTileBuilder",["../error/ArgumentError","../render/DrawContext","../globe/Globe","../shaders/GpuProgram","../util/Level","../util/LevelSet","../geom/Location","../util/Logger","../geom/Matrix","../cache/MemoryCache","../error/NotYetImplementedError","../pick/PickedObject","../geom/Rectangle","../geom/Sector","../shapes/SurfaceShape","../shapes/SurfaceShapeTile","../globe/Terrain","../globe/TerrainTile","../globe/TerrainTileList","../render/TextureTile","../util/Tile"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E){"use strict";var _=function(){this.numRowsTilesInTopLevel=4,this.numColumnsTilesInTopLevel=8,this.maximumSubdivisionDepth=15,this.tileWidth=256,this.tileHeight=256,this.levels=new o(p.FULL_SPHERE,new a(180/this.numRowsTilesInTopLevel,360/this.numColumnsTilesInTopLevel),this.maximumSubdivisionDepth,this.tileWidth,this.tileHeight),this.surfaceShapes=[],this.surfaceShapeTiles=[],this.topLevelTiles=[],this.sector=new p(-90,90,-180,180),this.detailControl=1.25,this.tileCache=new l(5e5,4e5)};return _.prototype.clear=function(){this.surfaceShapeTiles.splice(0,this.surfaceShapeTiles.length),this.surfaceShapes.splice(0,this.surfaceShapes.length)},_.prototype.insertSurfaceShape=function(t){this.surfaceShapes.push(t)},_.prototype.doRender=function(t){if(t.pickingMode){for(var e=0,n=this.surfaceShapes.length;e<n;e+=1)this.surfaceShapes[e].resetPickColor();_.pickSequence+=1;var r=this.surfaceShapeTiles,i=this.topLevelTiles;this.surfaceShapeTiles=[],this.topLevelTiles=[],this.buildTiles(t),t.deepPicking?this.doDeepPickingRender(t):t.surfaceTileRenderer.renderTiles(t,this.surfaceShapeTiles,1),this.surfaceShapeTiles=r,this.topLevelTiles=i}else this.buildTiles(t),t.surfaceTileRenderer.renderTiles(t,this.surfaceShapeTiles,1)},_.prototype.doDeepPickingRender=function(t){var e,n,r,i,o,a,s,u,l,c=[];for(o=0,a=t.objectsAtPickPoint.objects.length;o<a;o+=1)(s=t.objectsAtPickPoint.objects[o]).userObject instanceof d&&(u=s.userObject,c.indexOf(u)<0&&(c.push(u),t.objectsAtPickPoint.objects.splice(o,1),o-=1,a-=1));if(!(c.length<=0)){var f=[];for(r=0,i=c.length;r<i;r+=1){for(u=c[r],e=0,n=this.surfaceShapeTiles.length;e<n;e+=1)(l=this.surfaceShapeTiles[e]).setShapes([u]),l.updateTexture(t);t.surfaceTileRenderer.renderTiles(t,this.surfaceShapeTiles,1);var p=t.readPickColor(t.pickPoint);p&&u.pickColor.equals(p)&&(s=new h(u.pickColor.clone(),u.pickDelegate?u.pickDelegate:u,null,u.layer,!1),f.push(s))}for(o=0,a=t.objectsAtPickPoint.objects.length;o<a;o+=1)(s=t.objectsAtPickPoint.objects[o]).userObject instanceof d&&(t.objectsAtPickPoint.objects.splice(o,1),o-=1,a-=1);for(o=0,a=f.length;o<a;o+=1)s=f[o],t.objectsAtPickPoint.objects.push(s)}},_.prototype.buildTiles=function(e){if(!e)throw new t(s.logMessage(s.LEVEL_SEVERE,"SurfaceShapeTileBuilder","buildTiles","missingDc"));if(this.surfaceShapes&&!(this.surfaceShapes.length<1)){this.assembleTiles(e),this.surfaceShapes.splice(0,this.surfaceShapes.length);for(var n=0,r=this.surfaceShapeTiles.length;n<r;n+=1)this.surfaceShapeTiles[n].clearShapes()}},_.prototype.assembleTiles=function(t){var e,n,r,i,o,a,s;this.topLevelTiles.length<1&&this.createTopLevelTiles();var u={};for(n=0,r=this.surfaceShapes.length;n<r;n+=1){var l=this.surfaceShapes[n],c=l.computeSectors(t);if(c)for(a=0,s=c.length;a<s;a+=1){var h=c[a];for(i=0,o=this.topLevelTiles.length;i<o;i+=1)(e=this.topLevelTiles[i]).sector.intersects(h)&&(u[e.tileKey]=e,e.addSurfaceShape(l))}}for(var f in u)u.hasOwnProperty(f)&&(e=u[f],this.addTileOrDescendants(t,this.levels,null,e))},_.prototype.addTileOrDescendants=function(t,e,n,r){if(this.intersectsFrustum(t,r)){if(null!=n&&this.addIntersectingShapes(t,n,r),r.hasShapes()){if(this.meetsRenderCriteria(t,e,r))return void this.addTile(t,r);for(var i=e.level(r.level.levelNumber+1),o=t.pickingMode?r.subdivide(i,this):r.subdivideToCache(i,this,this.tileCache),a=0,s=o.length;a<s;a+=1){var u=o[a];this.addTileOrDescendants(t,e,r,u)}r.clearShapes()}}else r.clearShapes()},_.prototype.addIntersectingShapes=function(t,e,n){for(var r=e.getShapes(),i=0,o=r.length;i<o;i+=1){var a=r[i],s=a.computeSectors(t);if(s)for(var u=0,l=s.length;u<l;u+=1){var c=s[u];if(n.getSector().intersects(c)){n.addSurfaceShape(a);break}}}},_.prototype.addTile=function(t,e){t.pickingMode&&(e.pickSequence=_.pickSequence),e.needsUpdate(t)&&e.updateTexture(t),this.surfaceShapeTiles.push(e)},_.prototype.createTile=function(t,e,n,r){return new g(t,e,n,r)},_.prototype.createTopLevelTiles=function(){E.createTilesForLevel(this.levels.firstLevel(),this,this.topLevelTiles)},_.prototype.intersectsFrustum=function(t,e){return!(t.globe.projectionLimits&&!e.sector.overlaps(t.globe.projectionLimits))&&(e.update(t),e.extent.intersectsFrustum(t.pickingMode?t.pickFrustum:t.frustumInModelCoordinates))},_.prototype.meetsRenderCriteria=function(t,e,n){return n.level.levelNumber==e.lastLevel().levelNumber||!n.mustSubdivide(t,this.detailControl)},_.pickSequence=0,_})),i("shaders/SurfaceTileRendererProgram",["../error/ArgumentError","../util/Color","../shaders/GpuProgram","../util/Logger"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,t,"attribute vec4 vertexPoint;\nattribute vec4 vertexTexCoord;\nuniform mat4 mvpMatrix;\nuniform mat4 texSamplerMatrix;\nuniform mat4 texMaskMatrix;\nvarying vec2 texSamplerCoord;\nvarying vec2 texMaskCoord;\nvoid main() {\ngl_Position = mvpMatrix * vertexPoint;\ntexSamplerCoord = (texSamplerMatrix * vertexTexCoord).st;\ntexMaskCoord = (texMaskMatrix * vertexTexCoord).st;\n}","precision mediump float;\nuniform sampler2D texSampler;\nuniform float opacity;\nuniform vec4 color;\nuniform bool modulateColor;\nvarying vec2 texSamplerCoord;\nvarying vec2 texMaskCoord;\nbool isInsideTextureImage(const vec2 coord) {\n    return coord.x >= 0.0 && coord.x <= 1.0 && coord.y >= 0.0 && coord.y <= 1.0;\n}\nvoid main(void) {\nfloat mask = float(isInsideTextureImage(texMaskCoord));if (modulateColor) {\n    gl_FragColor = color * mask * floor(texture2D(texSampler, texSamplerCoord).a + 0.5);\n} else {\n    gl_FragColor = texture2D(texSampler, texSamplerCoord) * mask * opacity;\n}\n}"),this.vertexPointLocation=this.attributeLocation(t,"vertexPoint"),this.vertexTexCoordLocation=this.attributeLocation(t,"vertexTexCoord"),this.mvpMatrixLocation=this.uniformLocation(t,"mvpMatrix"),this.colorLocation=this.uniformLocation(t,"color"),this.modulateColorLocation=this.uniformLocation(t,"modulateColor"),this.texSamplerMatrixLocation=this.uniformLocation(t,"texSamplerMatrix"),this.texMaskMatrixLocation=this.uniformLocation(t,"texMaskMatrix"),this.texSamplerLocation=this.uniformLocation(t,"texSampler"),this.opacityLocation=this.uniformLocation(t,"opacity"),this.vertexPointLocation=-1};return i.key="WorldWindGpuSurfaceTileRenderingProgram",(i.prototype=Object.create(n.prototype)).loadModelviewProjection=function(e,n){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"SurfaceTileRendererProgram","loadModelviewProjection","missingMatrix"));this.loadUniformMatrix(e,n,this.mvpMatrixLocation)},i.prototype.loadTexSamplerMatrix=function(e,n){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"SurfaceTileRendererProgram","loadTexSamplerMatrix","missingMatrix"));this.loadUniformMatrix(e,n,this.texSamplerMatrixLocation)},i.prototype.loadTexMaskMatrix=function(e,n){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"SurfaceTileRendererProgram","loadTexMaskMatrix","missingMatrix"));this.loadUniformMatrix(e,n,this.texMaskMatrixLocation)},i.prototype.loadTexSampler=function(t,e){t.uniform1i(this.texSamplerLocation,e-WebGLRenderingContext.TEXTURE0)},i.prototype.loadOpacity=function(t,e){t.uniform1f(this.opacityLocation,e)},i.prototype.loadColor=function(e,n){if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"SurfaceTileRendererProgram","loadColor","missingColor"));this.loadUniformColor(e,n,this.colorLocation)},i.prototype.loadModulateColor=function(t,e){t.uniform1i(this.modulateColorLocation,e?1:0)},i})),i("render/SurfaceTileRenderer",["../error/ArgumentError","../util/Logger","../geom/Matrix","../shapes/SurfaceShapeTile","../shaders/SurfaceTileRendererProgram"],(function(t,e,n,r,i){"use strict";var o=function(){this.texMaskMatrix=n.fromIdentity(),this.texSamplerMatrix=n.fromIdentity(),this.isSurfaceShapeTileRendering=!1};return o.prototype.renderTiles=function(n,i,o,a){if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"SurfaceTileRenderer","renderTiles","Specified surface tiles array is null or undefined."));if(!(i.length<1)){var s,u,l,c,h=n.terrain,f=n.currentGlContext,p=0,d=1;if(h){this.isSurfaceShapeTileRendering=i[0]instanceof r,o*=n.surfaceOpacity,s=this.beginRendering(n,o),h.beginRendering(n);try{for(var g=0,m=h.surfaceGeometry.length;g<m;g++){l=(u=h.surfaceGeometry[g]).sector,h.beginRenderingTile(n,u);try{for(var y=0,v=i.length;y<v;y++)(c=i[y]).sector.overlaps(l)&&c.bind(n)&&(n.pickingMode?c.pickColor&&s.loadColor(f,c.pickColor):a&&c.opacity!=d&&(s.loadOpacity(f,o*c.opacity),d=c.opacity),this.applyTileState(n,u,c),h.renderTile(n,u),++p)}catch(t){console.log(t)}finally{h.endRenderingTile(n,u)}}}catch(t){console.log(t)}finally{h.endRendering(n),this.endRendering(n),n.frameStatistics.incrementRenderedTileCount(p)}}}},o.prototype.beginRendering=function(t,e){var n=t.currentGlContext,r=t.findAndBindProgram(i);return r.loadTexSampler(n,n.TEXTURE0),t.pickingMode&&!this.isSurfaceShapeTileRendering?r.loadModulateColor(n,!0):(r.loadModulateColor(n,!1),r.loadOpacity(n,e)),r},o.prototype.endRendering=function(t){var e=t.currentGlContext;e.bindTexture(e.TEXTURE_2D,null)},o.prototype.applyTileState=function(t,e,n){var r=t.currentGlContext,i=t.currentProgram,o=e.sector,a=o.deltaLatitude(),s=o.deltaLongitude(),u=n.sector,l=u.deltaLatitude(),c=u.deltaLongitude(),h=l>0?l:1,f=c>0?c:1,p=s/f,d=a/h,g=-(u.minLongitude-o.minLongitude)/f,m=-(u.minLatitude-o.minLatitude)/h;this.texMaskMatrix.set(p,0,0,g,0,d,0,m,0,0,1,0,0,0,0,1),this.texSamplerMatrix.setToUnitYFlip(),n.applyInternalTransform(t,this.texSamplerMatrix),this.texSamplerMatrix.multiplyMatrix(this.texMaskMatrix),i.loadTexSamplerMatrix(r,this.texSamplerMatrix),i.loadTexMaskMatrix(r,this.texMaskMatrix)},o})),i("render/TextRenderer",["../error/ArgumentError","../shaders/BasicTextureProgram","../util/Color","../util/Font","../util/Logger","../geom/Matrix","../render/Texture","../geom/Vec2"],(function(t,e,n,r,i,o,a,s){"use strict";var u=function(e){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"TextRenderer","constructor","missingDc"));this.canvas2D=document.createElement("canvas"),this.ctx2D=this.canvas2D.getContext("2d"),this.dc=e,this.enableOutline=!0,this.lineSpacing=.15,this.outlineColor=new n(0,0,0,.5),this.outlineWidth=4,this.textColor=new n(1,1,1,1),this.typeFace=new r(14)};return u.prototype.textSize=function(t){if(0===t.length)return new s(0,0);this.ctx2D.font=this.typeFace.fontString;for(var e=t.split("\n"),n=e.length*(this.typeFace.size*(1+this.lineSpacing)),r=0,i=0;i<e.length;i++)r=Math.max(r,this.ctx2D.measureText(e[i]).width);return this.enableOutline&&(r+=this.outlineWidth,n+=this.outlineWidth),new s(r,n)},u.prototype.renderText=function(t){if(t&&t.length>0){var e=this.drawText(t);return new a(this.dc.currentGlContext,e)}return null},u.prototype.drawText=function(t){var e=this.ctx2D,n=this.canvas2D,r=this.textSize(t),i=t.split("\n"),o=this.enableOutline?this.outlineWidth/2:0,a=this.dc.pixelScale;n.width=Math.ceil(r[0])*a,n.height=Math.ceil(r[1])*a,e.scale(a,a),e.font=this.typeFace.fontString,e.textBaseline="bottom",e.textAlign=this.typeFace.horizontalAlignment,e.fillStyle=this.textColor.toCssColorString(),e.strokeStyle=this.outlineColor.toCssColorString(),e.lineWidth=this.outlineWidth,e.lineCap="round",e.lineJoin="round","left"===this.typeFace.horizontalAlignment?e.translate(o,0):"right"===this.typeFace.horizontalAlignment?e.translate(r[0]-o,0):e.translate(r[0]/2,0);for(var s=0;s<i.length;s++)e.translate(0,this.typeFace.size*(1+this.lineSpacing)+o),this.enableOutline&&e.strokeText(i[s],0,0),e.fillText(i[s],0,0);return n},u.prototype.getMaxLineHeight=function(){return this.textSize("_\xc9")[1]},u.prototype.wrap=function(e,n,r){if(!e)throw new t(i.logMessage(i.WARNING,"TextRenderer","wrap","missing text"));var o,a=e.split("\n"),s="";for(o=0;o<a.length;o++)a[o]=this.wrapLine(a[o],n);var u=0,l=!1,c=this.getMaxLineHeight();for(o=0;o<a.length&&!l;o++){for(var h=a[o].split("\n"),f=0;f<h.length&&!l;f++)r<=0||u+c<=r?(s+=h[f],u+=c+this.lineSpacing,f<h.length-1&&(s+="\n")):l=!0;o<a.length-1&&!l&&(s+="\n")}return l&&(s.length>0&&(s=s.substring(0,s.length-1)),s+="..."),s},u.prototype.wrapLine=function(t,e){var n="",r=t.trim();if(this.textSize(r)[0]>e){for(var i="",o=0,a=r.indexOf(" ",o+1);o<r.length;){-1===a&&(a=r.length);var s=r.substring(o,a),u=i+s;this.textSize(u)[0]<=e?i+=s:0!==i.length?(n+=i,n+="\n",i="",i+=s.trim()):i+=s.trim(),(o=a)<r.length-1&&(a=r.indexOf(" ",o+1))}n+=i}else n+=r;return n},u})),i("render/DrawContext",["../error/ArgumentError","../util/Color","../util/FrameStatistics","../render/FramebufferTexture","../render/FramebufferTileController","../geom/Frustum","../globe/Globe","../shaders/GpuProgram","../cache/GpuResourceCache","../layer/Layer","../geom/Line","../util/Logger","../geom/Matrix","../pick/PickedObjectList","../geom/Plane","../geom/Position","../geom/Rectangle","../render/ScreenCreditController","../geom/Sector","../shapes/SurfaceShape","../shapes/SurfaceShapeTileBuilder","../render/SurfaceTileRenderer","../render/TextRenderer","../geom/Vec2","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w,S,x,T){"use strict";var O=function(n){if(!n)throw new t(h.logMessage(h.LEVEL_SEVERE,"Texture","constructor","missingGlContext"));this.currentGlContext=n,this.canvas2D=document.createElement("canvas"),this.ctx2D=this.canvas2D.getContext("2d"),this.clearColor=e.TRANSPARENT,this.gpuResourceCache=new u(WorldWind.configuration.gpuCacheSize,.8*WorldWind.configuration.gpuCacheSize),this.surfaceTileRenderer=new _,this.surfaceShapeTileBuilder=new E,this.surfaceShapeTileController=new i,this.screenCreditController=new y,this.textRenderer=new w(this),this.currentFramebuffer=null,this.currentProgram=null,this.surfaceRenderables=[],this.orderedRenderingMode=!1,this.orderedRenderables=[],this.orderedRenderablesCounter=0,this.timestamp=Date.now(),this.previousRedrawTimestamp=this.timestamp,this.redrawRequested=!1,this.globe=null,this.globeStateKey=null,this.layers=null,this.currentLayer=null,this.eyePosition=new g(0,0,0),this.eyePoint=new x(0,0,0),this.screenProjection=f.fromIdentity(),this.terrain=null,this.verticalExaggeration=1,this.fadeTime=500,this.surfaceOpacity=1,this.frameStatistics=null,this.pickingMode=!1,this.pickTerrainOnly=!1,this.deepPicking=!1,this.regionPicking=!1,this.pickPoint=null,this.pickRay=null,this.pickRectangle=null,this.pickFramebuffer=null,this.pickFrustum=null,this.pickColor=new e(0,0,0,1),this.objectsAtPickPoint=new p,this.pixelScale=1,this.navigator=null,this.modelview=f.fromIdentity(),this.projection=f.fromIdentity(),this.modelviewProjection=f.fromIdentity(),this.frustumInModelCoordinates=null,this.modelviewNormalTransform=f.fromIdentity(),this.viewport=new m(0,0,0,0),this.pixelSizeFactor=0,this.pixelSizeOffset=0,this.glExtensionsCache={}};return O.unitCubeKey="DrawContextUnitCubeKey",O.unitCubeElementsKey="DrawContextUnitCubeElementsKey",O.unitQuadKey="DrawContextUnitQuadKey",O.unitQuadKey3="DrawContextUnitQuadKey3",O.prototype.reset=function(){this.screenCreditController.clear(),this.surfaceRenderables=[],this.orderedRenderingMode=!1,this.orderedRenderables=[],this.screenRenderables=[],this.orderedRenderablesCounter=0;var t=this.timestamp;this.timestamp=Date.now(),this.timestamp===t&&++this.timestamp,this.redrawRequested=!1,this.globe=null,this.globeStateKey=null,this.layers=null,this.currentLayer=null,this.terrain=null,this.verticalExaggeration=1,this.frameStatistics=null,this.accumulateOrderedRenderables=!0,this.pickingMode=!1,this.pickTerrainOnly=!1,this.deepPicking=!1,this.regionPicking=!1,this.pickPoint=null,this.pickRay=null,this.pickRectangle=null,this.pickFrustum=null,this.pickColor=new e(0,0,0,1),this.objectsAtPickPoint.clear(),this.eyePoint.set(0,0,0),this.modelview.setToIdentity(),this.projection.setToIdentity(),this.modelviewProjection.setToIdentity(),this.frustumInModelCoordinates=null,this.modelviewNormalTransform.setToIdentity()},O.prototype.update=function(){var t=this.currentGlContext,e=this.eyePoint;this.globeStateKey=this.globe.stateKey,this.globe.computePositionFromPoint(e[0],e[1],e[2],this.eyePosition),this.screenProjection.setToScreenProjection(t.drawingBufferWidth,t.drawingBufferHeight)},O.prototype.contextLost=function(){this.gpuResourceCache.clear(),this.pickFramebuffer=null,this.currentFramebuffer=null,this.currentProgram=null,this.glExtensionsCache={}},O.prototype.contextRestored=function(){this.gpuResourceCache.clear(),this.glExtensionsCache={}},O.prototype.bindFramebuffer=function(t){this.currentFramebuffer!=t&&(this.currentGlContext.bindFramebuffer(this.currentGlContext.FRAMEBUFFER,t?t.framebufferId:null),this.currentFramebuffer=t)},O.prototype.bindProgram=function(t){this.currentProgram!=t&&(this.currentGlContext.useProgram(t?t.programId:null),this.currentProgram=t)},O.prototype.findAndBindProgram=function(e){if(!e)throw new t(h.logMessage(h.LEVEL_SEVERE,"DrawContext","findAndBindProgram","The specified program constructor is null or undefined."));var n=this.gpuResourceCache.resourceForKey(e.key);if(n)this.bindProgram(n);else try{n=new e(this.currentGlContext),this.bindProgram(n),this.gpuResourceCache.putResource(e.key,n,n.size)}catch(t){h.log(h.LEVEL_SEVERE,"Error attempting to create GPU program.")}return n},O.prototype.addSurfaceRenderable=function(t){t&&this.surfaceRenderables.push(t)},O.prototype.peekSurfaceRenderable=function(){return this.surfaceRenderables.length>0?this.surfaceRenderables[this.surfaceRenderables.length-1]:null},O.prototype.popSurfaceRenderable=function(){return this.surfaceRenderables.length>0?this.surfaceRenderables.pop():null},O.prototype.reverseSurfaceRenderables=function(){this.surfaceRenderables.reverse()},O.prototype.addOrderedRenderable=function(t,e){if(t){var n={orderedRenderable:t,insertionOrder:this.orderedRenderablesCounter++,eyeDistance:e||t.eyeDistance,globeStateKey:this.globeStateKey};this.globe.continuous&&(n.globeOffset=this.globe.offset),0===n.eyeDistance?this.screenRenderables.push(n):this.orderedRenderables.push(n)}},O.prototype.addOrderedRenderableToBack=function(t){if(t){var e={orderedRenderable:t,insertionOrder:this.orderedRenderablesCounter++,eyeDistance:Number.MAX_VALUE,globeStateKey:this.globeStateKey};this.globe.continuous&&(e.globeOffset=this.globe.offset),this.orderedRenderables.push(e)}},O.prototype.peekOrderedRenderable=function(){return this.orderedRenderables.length>0?this.orderedRenderables[this.orderedRenderables.length-1].orderedRenderable:null},O.prototype.popOrderedRenderable=function(){if(this.orderedRenderables.length>0){var t=this.orderedRenderables.pop();return this.globeStateKey=t.globeStateKey,this.globe.continuous&&(this.globe.offset=t.globeOffset),t.orderedRenderable}return null},O.prototype.nextScreenRenderable=function(){if(this.screenRenderables.length>0){var t=this.screenRenderables.shift();return this.globeStateKey=t.globeStateKey,this.globe.continuous&&(this.globe.offset=t.globeOffset),t.orderedRenderable}return null},O.prototype.sortOrderedRenderables=function(){this.orderedRenderables.sort((function(t,e){var n=t.eyeDistance,r=e.eyeDistance;if(n<r)return-1;if(n>r)return 1;var i=t.insertionOrder,o=e.insertionOrder;return i>o?-1:i<o?1:0}))},O.prototype.readPickColor=function(t){var n=this.convertPointToViewport(t,new S(0,0)),r=new Uint8Array(4);return this.currentGlContext.readPixels(n[0],n[1],1,1,this.currentGlContext.RGBA,this.currentGlContext.UNSIGNED_BYTE,r),this.clearColor.equalsBytes(r)?null:e.colorFromByteArray(r)},O.prototype.readPickColors=function(t){var n,r=this.currentGlContext,i=new Uint8Array(t.width*t.height*4),o={},a=new e(0,0,0,0),s=r.getParameter(r.PACK_ALIGNMENT);r.pixelStorei(r.PACK_ALIGNMENT,1),this.currentGlContext.readPixels(t.x,t.y,t.width,t.height,r.RGBA,r.UNSIGNED_BYTE,i),r.pixelStorei(r.PACK_ALIGNMENT,s);for(var u=0,l=t.width*t.height;u<l;u++){var c=4*u;(n=e.colorFromBytes(i[c],i[c+1],i[c+2],i[c+3])).equals(this.clearColor)||n.equals(a)||(o[n.toByteString()]=n)}return o},O.prototype.resolvePick=function(t){if(t.userObject instanceof b||!this.deepPicking||this.regionPicking)this.addPickedObject(t);else{var e=this.readPickColor(this.pickPoint);if(!e)return null;t.color.equals(e)&&this.addPickedObject(t)}},O.prototype.addPickedObject=function(t){t&&this.objectsAtPickPoint.add(t)},O.prototype.uniquePickColor=function(){var t=this.pickColor.nextColor().clone();return t.equals(this.clearColor)?t.nextColor():t},O.prototype.makePickFramebuffer=function(){var t=this.currentGlContext,e=t.drawingBufferWidth,n=t.drawingBufferHeight;return this.pickFramebuffer&&this.pickFramebuffer.width==e&&this.pickFramebuffer.height==n||(this.pickFramebuffer=new r(t,e,n,!0)),this.pickFramebuffer},O.prototype.makePickFrustum=function(){if(!this.pickPoint&&!this.pickRectangle)return!1;var t,e,n,r,i,a,s,u,l,c,h,p,g,y,v,b,E,_,w,O,C,A,L=new x(0,0,0),P=new x(0,0,0),R=this.pickRectangle,M=this.viewport;R||(A=this.convertPointToViewport(this.pickPoint,new S(0,0)),R=new m(A[0]-2,A[1]-2,4,4));var k=R.x,I=R.x+R.width,N=R.y,D=R.y+R.height;if(I<0||D<0||k>M.x+M.width||N>M.y+M.height)return!1;R.x=T.clamp(k,M.x,M.x+M.width),R.y=T.clamp(N,M.y,M.y+M.height),R.width=T.clamp(I,M.x,M.x+M.width)-R.x,R.height=T.clamp(D,M.y,M.y+M.height)-R.y,this.pickRectangle=R;var j=f.fromIdentity();return j.invertMatrix(this.modelviewProjection),P[0]=R.x,P[1]=R.y,P[2]=0,j.unProject(P,M,t=new x(0,0,0)),P[0]=R.x,P[1]=R.y,P[2]=1,j.unProject(P,M,e=new x(0,0,0)),P[0]=R.x+R.width,P[1]=R.y,P[2]=0,j.unProject(P,M,n=new x(0,0,0)),P[0]=R.x+R.width,P[1]=R.y,P[2]=1,j.unProject(P,M,r=new x(0,0,0)),P[0]=R.x,P[1]=R.y+R.height,P[2]=0,j.unProject(P,M,i=new x(0,0,0)),P[0]=R.x,P[1]=R.y+R.height,P[2]=1,j.unProject(P,M,a=new x(0,0,0)),P[0]=R.x+R.width,P[1]=R.y+R.height,P[2]=0,j.unProject(P,M,s=new x(0,0,0)),P[0]=R.x+R.width,P[1]=R.y+R.height,P[2]=1,j.unProject(P,M,u=new x(0,0,0)),C=new x(a[0]-t[0],a[1]-t[1],a[2]-t[2]),L.set(i[0]-e[0],i[1]-e[1],i[2]-e[2]),l=C.cross(L),(v=new d(l[0],l[1],l[2],-l.dot(t))).normalize(),C=new x(s[0]-r[0],s[1]-r[1],s[2]-r[2]),L.set(u[0]-n[0],u[1]-n[1],u[2]-n[2]),c=C.cross(L),(b=new d(c[0],c[1],c[2],-c.dot(n))).normalize(),C=new x(a[0]-s[0],a[1]-s[1],a[2]-s[2]),L.set(u[0]-i[0],u[1]-i[1],u[2]-i[2]),h=C.cross(L),(E=new d(h[0],h[1],h[2],-h.dot(i))).normalize(),C=new x(r[0]-t[0],r[1]-t[1],r[2]-t[2]),L.set(e[0]-n[0],e[1]-n[1],e[2]-n[2]),p=C.cross(L),(_=new d(p[0],p[1],p[2],-p.dot(n))).normalize(),C=new x(i[0]-n[0],i[1]-n[1],i[2]-n[2]),L.set(s[0]-t[0],s[1]-t[1],s[2]-t[2]),g=C.cross(L),(w=new d(g[0],g[1],g[2],-g.dot(t))).normalize(),C=new x(u[0]-e[0],u[1]-e[1],u[2]-e[2]),L.set(a[0]-r[0],a[1]-r[1],a[2]-r[2]),y=C.cross(L),(O=new d(y[0],y[1],y[2],-y.dot(e))).normalize(),this.pickFrustum=new o(v,b,_,E,w,O),!0},O.prototype.isSmall=function(t,e){if(!t)return!1;var n=this.eyePoint.distanceTo(t.center),r=this.pixelSizeAtDistance(n);return 2*t.radius<e*r},O.prototype.unitCubeBuffer=function(){var t=this.gpuResourceCache.resourceForKey(O.unitCubeKey);if(!t){var e=this.currentGlContext,n=new Float32Array(24),r=0;n[r++]=0,n[r++]=1,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=1,n[r++]=1,n[r++]=0,n[r++]=1,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=1,n[r++]=1,n[r++]=0,n[r++]=0,n[r++]=1,n[r++]=1,n[r++]=1,n[r++]=1,n[r++]=1,n[r++]=0,n[23]=1,t=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.frameStatistics.incrementVboLoadCount(1),this.gpuResourceCache.putResource(O.unitCubeKey,t,4*n.length)}return t},O.prototype.unitCubeElements=function(){var t=this.gpuResourceCache.resourceForKey(O.unitCubeElementsKey);if(!t){var e=this.currentGlContext,n=new Int16Array(60),r=0;n[r++]=1,n[r++]=0,n[r++]=3,n[r++]=3,n[r++]=0,n[r++]=2,n[r++]=4,n[r++]=5,n[r++]=6,n[r++]=6,n[r++]=5,n[r++]=7,n[r++]=5,n[r++]=1,n[r++]=7,n[r++]=7,n[r++]=1,n[r++]=3,n[r++]=6,n[r++]=2,n[r++]=4,n[r++]=4,n[r++]=2,n[r++]=0,n[r++]=4,n[r++]=0,n[r++]=5,n[r++]=5,n[r++]=0,n[r++]=1,n[r++]=7,n[r++]=3,n[r++]=6,n[r++]=6,n[r++]=3,n[r++]=2,n[r++]=0,n[r++]=1,n[r++]=1,n[r++]=3,n[r++]=3,n[r++]=2,n[r++]=2,n[r++]=0,n[r++]=4,n[r++]=5,n[r++]=5,n[r++]=7,n[r++]=7,n[r++]=6,n[r++]=6,n[r++]=4,n[r++]=0,n[r++]=4,n[r++]=5,n[r++]=1,n[r++]=2,n[r++]=6,n[r++]=7,n[59]=3,t=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),this.frameStatistics.incrementVboLoadCount(1),this.gpuResourceCache.putResource(O.unitCubeElementsKey,t,2*n.length)}return t},O.prototype.unitQuadBuffer=function(){var t=this.gpuResourceCache.resourceForKey(O.unitQuadKey);if(!t){var e=this.currentGlContext,n=new Float32Array(8);n[0]=0,n[1]=1,n[2]=0,n[3]=0,n[4]=1,n[5]=1,n[6]=1,n[7]=0,t=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.frameStatistics.incrementVboLoadCount(1),this.gpuResourceCache.putResource(O.unitQuadKey,t,4*n.length)}return t},O.prototype.unitQuadBuffer3=function(){var t=this.gpuResourceCache.resourceForKey(O.unitQuadKey3);if(!t){var e=this.currentGlContext,n=new Float32Array(12);n[0]=0,n[1]=1,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=1,n[7]=1,n[8]=0,n[9]=1,n[10]=0,n[11]=0,t=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.frameStatistics.incrementVboLoadCount(1),this.gpuResourceCache.putResource(O.unitQuadKey3,t,4*n.length)}return t},O.prototype.surfacePointForMode=function(e,n,r,i,o){if(!o)throw new t(h.logMessage(h.LEVEL_SEVERE,"DrawContext","surfacePointForMode","missingResult"));if(this.terrain)this.terrain.surfacePointForMode(e,n,r,i,o);else{var a=r+this.globe.elevationAtLocation(e,n)*this.verticalExaggeration;this.globe.computePointFromPosition(e,n,a,o)}return o},O.prototype.project=function(e,n){if(!e)throw new t(h.logMessage(h.LEVEL_SEVERE,"DrawContext","project","missingPoint"));if(!n)throw new t(h.logMessage(h.LEVEL_SEVERE,"DrawContext","project","missingResult"));var r=e[0],i=e[1],o=e[2],a=this.modelviewProjection,s=a[0]*r+a[1]*i+a[2]*o+a[3],u=a[4]*r+a[5]*i+a[6]*o+a[7],l=a[8]*r+a[9]*i+a[10]*o+a[11],c=a[12]*r+a[13]*i+a[14]*o+a[15];return 0!==c&&(s/=c,u/=c,!((l/=c)<-1||l>1)&&(u=.5*u+.5,l=.5*l+.5,s=(s=.5*s+.5)*this.viewport.width+this.viewport.x,u=u*this.viewport.height+this.viewport.y,n[0]=s,n[1]=u,n[2]=l,!0))},O.prototype.projectWithDepth=function(e,n,r){if(!e)throw new t(h.logMessage(h.LEVEL_SEVERE,"DrawContext","projectWithDepth","missingPoint"));if(!r)throw new t(h.logMessage(h.LEVEL_SEVERE,"DrawContext","projectWithDepth","missingResult"));var i=e[0],o=e[1],a=e[2],s=this.modelview,u=s[0]*i+s[1]*o+s[2]*a+s[3],l=s[4]*i+s[5]*o+s[6]*a+s[7],c=s[8]*i+s[9]*o+s[10]*a+s[11],f=s[12]*i+s[13]*o+s[14]*a+s[15],p=this.projection,d=p[0]*u+p[1]*l+p[2]*c+p[3]*f,g=p[4]*u+p[5]*l+p[6]*c+p[7]*f,m=p[8]*u+p[9]*l+p[10]*c+p[11]*f,y=p[12]*u+p[13]*l+p[14]*c+p[15]*f;return 0!==y&&(d/=y,g/=y,!((m/=y)<-1||m>1)&&(m=p[8]*u+p[9]*l+p[10]*c*(1+n)+p[11]*f,m/=y,g=.5*g+.5,m=.5*(m=T.clamp(m,-1,1))+.5,d=(d=.5*d+.5)*this.viewport.width+this.viewport.x,g=g*this.viewport.height+this.viewport.y,r[0]=d,r[1]=g,r[2]=m,!0))},O.prototype.convertPointToViewport=function(e,n){if(!e)throw new t(h.logMessage(h.LEVEL_SEVERE,"DrawContext","convertPointToViewport","missingPoint"));if(!n)throw new t(h.logMessage(h.LEVEL_SEVERE,"DrawContext","convertPointToViewport","missingResult"));return n[0]=e[0],n[1]=this.viewport.height-e[1],n},O.prototype.pixelSizeAtDistance=function(t){return this.pixelSizeFactor*t+this.pixelSizeOffset},O.prototype.createTextTexture=function(t,e){if(!t||!e)return null;var n=this.computeTextTextureStateKey(t,e),r=this.gpuResourceCache.resourceForKey(n);return r||(this.textRenderer.textColor=e.color,this.textRenderer.typeFace=e.font,this.textRenderer.enableOutline=e.enableOutline,this.textRenderer.outlineColor=e.outlineColor,this.textRenderer.outlineWidth=e.outlineWidth,r=this.textRenderer.renderText(t),this.gpuResourceCache.putResource(n,r,r.size),this.gpuResourceCache.setResourceAgingFactor(n,100)),r},O.prototype.computeTextTextureStateKey=function(t,e){return t&&e?t+"c "+e.color.toHexString(!0)+" f "+e.font.toString()+" eo "+e.enableOutline+" ow "+e.outlineWidth+" oc "+e.outlineColor.toHexString(!0):null},O.prototype.getExtension=function(e){if(!e)throw new t(h.logMessage(h.LEVEL_SEVERE,"DrawContext","getExtension","missingExtensionName"));return e in this.glExtensionsCache||(this.glExtensionsCache[e]=this.currentGlContext.getExtension(e)||null),this.glExtensionsCache[e]},O})),i("globe/GebcoElevationCoverage",["../geom/Location","../geom/Sector","../globe/TiledElevationCoverage","../util/WmsUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(){n.call(this,{coverageSector:e.FULL_SPHERE,resolution:.008333333333333,retrievalImageFormat:"application/bil16",minElevation:-11e3,maxElevation:8850,urlBuilder:new r("https://worldwind26.arc.nasa.gov/elev","GEBCO","","1.3.0")}),this.displayName="GEBCO Earth Elevation Coverage"};return i.prototype=Object.create(n.prototype),i})),i("globe/UsgsNedElevationCoverage",["../geom/Location","../geom/Sector","../globe/TiledElevationCoverage","../util/WmsUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(){n.call(this,{coverageSector:new e(24.396308,49.384358,-124.848974,-66.885444),resolution:92592592593e-15,retrievalImageFormat:"application/bil16",minElevation:-11e3,maxElevation:8850,urlBuilder:new r("https://worldwind26.arc.nasa.gov/elev","USGS-NED","","1.3.0")}),this.displayName="USGS NED Earth Elevation Coverage"};return i.prototype=Object.create(n.prototype),i})),i("globe/UsgsNedHiElevationCoverage",["../geom/Location","../geom/Sector","../globe/TiledElevationCoverage","../util/WmsUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(){n.call(this,{coverageSector:new e(18.86546,28.517269,-178.443593,-154.755792),resolution:92592592593e-15,retrievalImageFormat:"application/bil16",minElevation:-11e3,maxElevation:8850,urlBuilder:new r("https://worldwind26.arc.nasa.gov/elev","USGS-NED","","1.3.0")}),this.displayName="USGS NED Hawaii Elevation Coverage"};return i.prototype=Object.create(n.prototype),i})),i("globe/EarthElevationModel",["../globe/AsterV2ElevationCoverage","../globe/ElevationModel","../globe/GebcoElevationCoverage","../globe/UsgsNedElevationCoverage","../globe/UsgsNedHiElevationCoverage"],(function(t,e,n,r,i){"use strict";var o=function(){e.call(this),this.addCoverage(new n),this.addCoverage(new t),this.addCoverage(new r),this.addCoverage(new i)};return o.prototype=Object.create(e.prototype),o})),i("globe/EarthRestElevationCoverage",["../util/LevelSet","../geom/Location","../geom/Sector","../util/LevelRowColumnUrlBuilder","../globe/TiledElevationCoverage"],(function(t,e,n,r,i){"use strict";var o=function(o,a,s){i.call(this,{coverageSector:n.FULL_SPHERE,resolution:.00732421875,retrievalImageFormat:"application/bil16",minElevation:-11e3,maxElevation:8850,urlBuilder:new r(o,a)}),this.displayName=s||"Earth Elevations",this.levels=new t(n.FULL_SPHERE,new e(60,60),5,512,512)};return o.prototype=Object.create(i.prototype),o})),i("FirstPersonCamera",["./geom/Angle","./error/ArgumentError","./geom/Line","./util/Logger","./geom/Matrix","./geom/Position","./geom/Vec3","./util/WWMath"],(function(t,e,n,r,i,o,a,s){"use strict";var u=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"FirstPersonCamera","constructor","missing WorldWindow instance."));this.position=new o(30,-110,1e3),this.heading=0,this.tilt=0,this.roll=0,this.wwd=t,this._scratchMatrix=i.fromIdentity(),this._scratchVector=new a(0,0,0),this._ray=new n(new a(0,0,0),new a(0,0,0))};return Object.defineProperties(u.prototype,{range:{get:function(){return this.position.altitude},set:function(t){this.position.altitude=t}}}),u.prototype.createViewMatrix=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"FirstPersonCamera","createViewMatrix","missing matrix"));return this.applyLimits(),t.setToIdentity(),t.multiplyByLookAtModelview(this.position,0,this.heading,this.tilt+90,this.roll,this.wwd.globe),t},u.prototype.clone=function(t){return(t=t||new u(this.wwd)).copy(this),t},u.prototype.copy=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"FirstPersonCamera","copy","missing camera"));return this.position.copy(t.position),this.heading=t.heading,this.tilt=t.tilt,this.roll=t.roll,this},u.prototype.applyLimits=function(){this.position.latitude=s.clamp(this.position.latitude,-90,90),this.position.longitude=t.normalizedDegreesLongitude(this.position.longitude),this.position.altitude=s.clamp(this.position.altitude,0,Number.MAX_VALUE),this.tilt=s.clamp(this.tilt,-90,90),this.heading=t.normalizedDegrees(this.heading),this.roll=t.normalizedDegrees(this.roll)},u.prototype.toArcBall=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"FirstPersonCamera","toArcBall","missing arcBallCamera"));var n=this.createViewMatrix(this._scratchMatrix);n.extractEyePoint(this._ray.origin),n.extractForwardVector(this._ray.direction);var i=this._ray.pointAt(t.range,this._scratchVector),o=n.extractViewingParameters(i,this.roll,this.wwd.globe,{});return t.position.copy(o.origin),t.heading=o.heading,t.tilt=o.tilt,t.roll=o.roll,t.applyLimits(),t},u})),i("layer/FrameStatisticsLayer",["../error/ArgumentError","../util/Color","../util/Font","../layer/Layer","../util/Logger","../util/Offset","../shapes/ScreenText","../shapes/TextAttributes"],(function(t,e,n,r,i,o,a,s){"use strict";var u=function(u){if(!u)throw new t(i.logMessage(i.LEVEL_SEVERE,"FrameStatisticsLayer","constructor","missingWorldWindow"));r.call(this,"Frame Statistics"),this.pickEnabled=!1;var l=new s(null);l.color=e.GREEN,l.font=new n(12),l.offset=new o(WorldWind.OFFSET_FRACTION,0,WorldWind.OFFSET_FRACTION,1),this.frameTime=new a(new o(WorldWind.OFFSET_PIXELS,5,WorldWind.OFFSET_INSET_PIXELS,5)," "),this.frameTime.attributes=l,this.frameRate=new a(new o(WorldWind.OFFSET_PIXELS,5,WorldWind.OFFSET_INSET_PIXELS,25)," "),this.frameRate.attributes=l;var c=this;u.redrawCallbacks.push((function(t,e){c.handleRedraw(t,e)}))};return(u.prototype=Object.create(r.prototype)).doRender=function(t){this.frameRate.render(t),this.frameTime.render(t),this.inCurrentFrame=!0},u.prototype.handleRedraw=function(t,e){if(e===WorldWind.BEFORE_REDRAW){var n=t.frameStatistics;this.frameTime.text="Frame time  "+n.frameTimeAverage.toFixed(0)+" ms  ("+n.frameTimeMin.toFixed(0)+" - "+n.frameTimeMax.toFixed(0)+")",this.frameRate.text="Frame rate  "+n.frameRateAverage.toFixed(0)+" fps"}},u})),i("shapes/AbstractShape",["../error/ArgumentError","../util/Logger","../geom/Matrix","../cache/MemoryCache","../render/Renderable","../shapes/ShapeAttributes","../error/UnsupportedOperationError","../geom/Vec3"],(function(t,e,n,r,i,o,a,s){"use strict";var u=function(t){i.call(this),this._attributes=t||new o(null),this._highlightAttributes=null,this.highlighted=!1,this._altitudeMode=WorldWind.ABSOLUTE,this.referencePosition=null,this.shapeDataCache=new r(3,2),this.currentData=null,this.activeAttributes=null,this.expirationInterval=2e3,this.useSurfaceShapeFor2D=!1,this.scratchMatrix=n.fromIdentity()};return u.prototype=Object.create(i.prototype),Object.defineProperties(u.prototype,{attributes:{get:function(){return this._attributes},set:function(t){this._attributes=t,this.surfaceShape&&(this.surfaceShape.attributes=this._attributes)}},highlightAttributes:{get:function(){return this._highlightAttributes},set:function(t){this._highlightAttributes=t,this.surfaceShape&&(this.surfaceShape.highlightAttributes=this._highlightAttributes)}},altitudeMode:{get:function(){return this._altitudeMode},set:function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"AbstractShape","altitudeMode","missingAltitudeMode"));this._altitudeMode=n,this.reset()}}}),u.prototype.reset=function(){this.shapeDataCache.clear(!1),this.surfaceShape=null},u.prototype.updateSurfaceShape=function(){this.surfaceShape.displayName=this.displayName,this.surfaceShape.highlighted=this.highlighted,this.surfaceShape.enabled=this.enabled,this.surfaceShape.pathType=this.pathType,this.surfaceShape.pickDelegate=this.pickDelegate?this.pickDelegate:this},u.prototype.createSurfaceShape=function(){return null},u.prototype.render=function(t){if(this.enabled&&t.accumulateOrderedRenderables){if(t.globe.is2D()&&this.useSurfaceShapeFor2D&&(this.surfaceShape||(this.surfaceShape=this.createSurfaceShape(),this.surfaceShape&&(this.surfaceShape.attributes=this._attributes,this.surfaceShape.highlightAttributes=this._highlightAttributes)),this.surfaceShape))return this.updateSurfaceShape(),void this.surfaceShape.render(t);if((t.terrain||this.altitudeMode==WorldWind.ABSOLUTE)&&(this.establishCurrentData(t),(!t.globe.projectionLimits||this.isWithinProjectionLimits(t))&&(!this.currentData.extent||this.intersectsFrustum(t))&&(this.determineActiveAttributes(t),this.activeAttributes))){var e=this.makeOrderedRenderable(t);if(e){if(!this.intersectsFrustum(t))return;if(t.isSmall(this.currentData.extent,1))return;e.layer=t.currentLayer,t.addOrderedRenderable(e,this.currentData.eyeDistance)}}}},u.prototype.renderOrdered=function(t){this.currentData=this.shapeDataCache.entryForKey(t.globeStateKey),this.beginDrawing(t);try{this.doRenderOrdered(t)}finally{this.endDrawing(t)}},u.prototype.makeOrderedRenderable=function(t){var e=this.doMakeOrderedRenderable(t);return this.currentData.verticalExaggeration=t.verticalExaggeration,e},u.prototype.doMakeOrderedRenderable=function(t){throw new a(e.logMessage(e.LEVEL_SEVERE,"AbstractShape","makeOrderedRenderable","abstractInvocation"))},u.prototype.doRenderOrdered=function(t){throw new a(e.logMessage(e.LEVEL_SEVERE,"AbstractShape","doRenderOrdered","abstractInvocation"))},u.prototype.beginDrawing=function(t){},u.prototype.endDrawing=function(t){},u.prototype.intersectsFrustum=function(t){return!this.currentData||!this.currentData.extent||(t.pickingMode?this.currentData.extent.intersectsFrustum(t.pickFrustum):this.currentData.extent.intersectsFrustum(t.frustumInModelCoordinates))},u.prototype.establishCurrentData=function(t){this.currentData=this.shapeDataCache.entryForKey(t.globeStateKey),this.currentData||(this.currentData=this.createShapeDataObject(),this.resetExpiration(this.currentData),this.shapeDataCache.putEntry(t.globeStateKey,this.currentData,1)),this.currentData.isExpired=!this.isShapeDataCurrent(t,this.currentData)},u.prototype.createShapeDataObject=function(){return{transformationMatrix:n.fromIdentity(),referencePoint:new s(0,0,0)}},u.prototype.resetExpiration=function(t){t.expiryTime=Date.now()+this.expirationInterval+1e3*Math.random()},u.prototype.isShapeDataCurrent=function(t,e){return e.verticalExaggeration===t.verticalExaggeration&&e.expiryTime>Date.now()},u.prototype.determineActiveAttributes=function(t){this.highlighted&&this._highlightAttributes?this.activeAttributes=this.highlightAttributes:this.activeAttributes=this._attributes},u.prototype.isWithinProjectionLimits=function(t){return!0},u.prototype.applyMvpMatrix=function(t){this.scratchMatrix.copy(t.modelviewProjection),this.scratchMatrix.multiplyMatrix(this.currentData.transformationMatrix),t.currentProgram.loadModelviewProjection(t.currentGlContext,this.scratchMatrix)},u.prototype.applyMvpMatrixForOutline=function(t){this.scratchMatrix.copy(t.projection),this.scratchMatrix.offsetProjectionDepth(-.001),this.scratchMatrix.multiplyMatrix(t.modelview),this.scratchMatrix.multiplyMatrix(this.currentData.transformationMatrix),t.currentProgram.loadModelviewProjection(t.currentGlContext,this.scratchMatrix)},u})),i("shapes/AbstractMesh",["../shapes/AbstractShape","../error/ArgumentError","../shaders/BasicTextureProgram","../geom/BoundingBox","../util/Color","../util/ImageSource","../geom/Line","../geom/Location","../util/Logger","../geom/Matrix","../pick/PickedObject","../geom/Position","../shapes/ShapeAttributes","../geom/Vec2","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g){"use strict";var m=function(e){t.call(this,e),this.pickTransparentImagePixels=!0,this._altitudeScale=1};return m.prototype=Object.create(t.prototype),Object.defineProperties(m.prototype,{altitudeScale:{get:function(){return this._altitudeScale},set:function(t){this._altitudeScale=t,this.reset()}}}),m.prototype.mustGenerateGeometry=function(t){return!this.currentData.meshPoints||this.currentData.drawInterior!==this.activeAttributes.drawInterior||!(!this.activeAttributes.applyLighting||this.currentData.normals)||this.altitudeMode!==WorldWind.ABSOLUTE&&this.currentData.isExpired},m.prototype.doMakeOrderedRenderable=function(t){if(!this.activeAttributes.drawInterior&&!this.activeAttributes.drawOutline)return null;if(!this.mustGenerateGeometry(t))return this;var e=this.currentData,n=e.referencePoint;return t.surfacePointForMode(this.referencePosition.latitude,this.referencePosition.longitude,this.referencePosition.altitude*this._altitudeScale,this._altitudeMode,n),e.transformationMatrix.setToTranslation(n[0],n[1],n[2]),e.meshPoints=this.computeMeshPoints(t,e),e.refreshVertexBuffer=!0,this.activeAttributes.imageSource&&!this.texCoords&&(this.texCoords=this.computeTexCoords(),this.texCoords&&(e.refreshTexCoordBuffer=!0)),this.meshIndices||(this.meshIndices=this.computeMeshIndices(),e.refreshMeshIndices=!0),this.meshOutlineIndices||(this.meshOutlineIndices=this.computeOutlineIndices(),this.meshOutlineIndices&&(e.refreshOutlineIndices=!0)),this.activeAttributes.applyLighting&&this.computeNormals(e),e.drawInterior=this.activeAttributes.drawInterior,this.resetExpiration(e),e.extent||(e.extent=new r),e.extent.setToPoints(e.meshPoints),e.extent.translate(e.referencePoint),this},m.prototype.computeMeshPoints=function(t,e){throw new UnsupportedOperationError(u.logMessage(u.LEVEL_SEVERE,"AbstractMesh","computeMeshPoints","abstractInvocation"))},m.prototype.computeTexCoords=function(){return null},m.prototype.computeMeshIndices=function(t){throw new UnsupportedOperationError(u.logMessage(u.LEVEL_SEVERE,"AbstractMesh","computeMeshIndices","abstractInvocation"))},m.prototype.computeOutlineIndices=function(t){},m.prototype.computeNormals=function(t){for(var e,n=new Float32Array(t.meshPoints.length),r=this.meshIndices,i=t.meshPoints,o=[],a=[new d(0,0,0),new d(0,0,0),new d(0,0,0)],s=0;s<r.length;s+=3){for(var u=0;u<3;u++)e=r[s+u],a[u].set(i[3*e],i[3*e+1],i[3*e+2]);var l=d.computeTriangleNormal(a[0],a[1],a[2]);for(u=0;u<3;u++)o[e=r[s+u]]||(o[e]=[]),o[e].push(l)}for(l=new d(0,0,0),s=0;s<o.length;s++)o[s]?(d.average(o[s],l),l.normalize(),n[3*s]=l[0],n[3*s+1]=l[1],n[3*s+2]=l[2]):(n[3*s]=0,n[3*s+1]=0,n[3*s+2]=0);t.normals=n,t.refreshNormalsBuffer=!0},m.prototype.doRenderOrdered=function(t){var e,n,r,i=t.currentGlContext,o=t.currentProgram,a=this.currentData,s=this.texCoords&&!!this.activeAttributes.imageSource;if(t.pickingMode&&(r=t.uniquePickColor()),a.pointsVboCacheKey||(a.pointsVboCacheKey=t.gpuResourceCache.generateCacheKey()),(e=t.gpuResourceCache.resourceForKey(a.pointsVboCacheKey))||(e=i.createBuffer(),t.gpuResourceCache.putResource(a.pointsVboCacheKey,e,4*a.meshPoints.length),a.refreshVertexBuffer=!0),i.bindBuffer(i.ARRAY_BUFFER,e),a.refreshVertexBuffer&&(i.bufferData(i.ARRAY_BUFFER,a.meshPoints,i.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),a.refreshVertexBuffer=!1),i.vertexAttribPointer(o.vertexPointLocation,3,i.FLOAT,!1,0,0),o.loadTextureEnabled(i,!1),this.activeAttributes.drawInterior){var u=!t.pickingMode&&a.normals&&this.activeAttributes.applyLighting;this.applyMvpMatrix(t),a.meshIndicesVboCacheKey||(a.meshIndicesVboCacheKey=t.gpuResourceCache.generateCacheKey()),(e=t.gpuResourceCache.resourceForKey(a.meshIndicesVboCacheKey))||(e=i.createBuffer(),t.gpuResourceCache.putResource(a.meshIndicesVboCacheKey,e,2*this.meshIndices.length),a.refreshMeshIndices=!0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e),a.refreshMeshIndices&&(i.bufferData(i.ELEMENT_ARRAY_BUFFER,this.meshIndices,i.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),a.refreshMeshIndices=!1),n=this.activeAttributes.interiorColor,i.depthMask(n.alpha*this.layer.opacity>=1||t.pickingMode),o.loadColor(i,t.pickingMode?r:n),o.loadOpacity(i,t.pickingMode?1:this.layer.opacity),!s||t.pickingMode&&this.pickTransparentImagePixels||(this.activeTexture=t.gpuResourceCache.resourceForKey(this.activeAttributes.imageSource),this.activeTexture||(this.activeTexture=t.gpuResourceCache.retrieveTexture(t.currentGlContext,this.activeAttributes.imageSource)),this.activeTexture&&this.activeTexture.bind(t)&&(a.texCoordsVboCacheKey||(a.texCoordsVboCacheKey=t.gpuResourceCache.generateCacheKey()),(e=t.gpuResourceCache.resourceForKey(a.texCoordsVboCacheKey))||(e=i.createBuffer(),t.gpuResourceCache.putResource(a.texCoordsVboCacheKey,e,4*this.texCoords.length),a.refreshTexCoordBuffer=!0),i.bindBuffer(i.ARRAY_BUFFER,e),a.refreshTexCoordBuffer&&(i.bufferData(i.ARRAY_BUFFER,this.texCoords,i.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),a.refreshTexCoordBuffer=!1),i.enableVertexAttribArray(o.vertexTexCoordLocation),i.vertexAttribPointer(o.vertexTexCoordLocation,2,i.FLOAT,!1,0,0),this.scratchMatrix.setToIdentity(),this.scratchMatrix.multiplyByTextureTransform(this.activeTexture),o.loadTextureEnabled(i,!0),o.loadTextureUnit(i,i.TEXTURE0),o.loadTextureMatrix(i,this.scratchMatrix),o.loadModulateColor(i,t.pickingMode))),u&&(o.loadApplyLighting(i,!0),a.normalsVboCacheKey||(a.normalsVboCacheKey=t.gpuResourceCache.generateCacheKey()),(e=t.gpuResourceCache.resourceForKey(a.normalsVboCacheKey))||(e=i.createBuffer(),t.gpuResourceCache.putResource(a.normalsVboCacheKey,e,4*a.normals.length),a.refreshNormalsBuffer=!0),i.bindBuffer(i.ARRAY_BUFFER,e),a.refreshNormalsBuffer&&(i.bufferData(i.ARRAY_BUFFER,a.normals,i.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),a.refreshNormalsBuffer=!1),i.enableVertexAttribArray(o.normalVectorLocation),i.vertexAttribPointer(o.normalVectorLocation,3,i.FLOAT,!1,0,0)),i.drawElements(i.TRIANGLES,this.meshIndices.length,i.UNSIGNED_SHORT,0),s&&i.disableVertexAttribArray(o.vertexTexCoordLocation),u&&(o.loadApplyLighting(i,!1),i.disableVertexAttribArray(o.normalVectorLocation))}if(this.activeAttributes.drawOutline&&this.meshOutlineIndices&&(o.loadTextureEnabled(i,!1),i.disableVertexAttribArray(o.vertexTexCoordLocation),this.applyMvpMatrixForOutline(t),n=this.activeAttributes.outlineColor,i.depthMask(n.alpha*this.layer.opacity>=1||t.pickingMode),o.loadColor(i,t.pickingMode?r:n),o.loadOpacity(i,t.pickingMode?1:this.layer.opacity),i.lineWidth(this.activeAttributes.outlineWidth),a.outlineIndicesVboCacheKey||(a.outlineIndicesVboCacheKey=t.gpuResourceCache.generateCacheKey()),(e=t.gpuResourceCache.resourceForKey(a.outlineIndicesVboCacheKey))||(e=i.createBuffer(),t.gpuResourceCache.putResource(a.outlineIndicesVboCacheKey,e,2*this.meshOutlineIndices.length),a.refreshOutlineIndices=!0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e),a.refreshOutlineIndices&&(i.bufferData(i.ELEMENT_ARRAY_BUFFER,this.meshOutlineIndices,i.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),a.refreshOutlineIndices=!1),i.drawElements(i.LINE_STRIP,this.meshOutlineIndices.length,i.UNSIGNED_SHORT,0)),t.pickingMode){var l=this.computePickPosition(t),h=new c(r,this.pickDelegate?this.pickDelegate:this,l,this.layer,!1);t.resolvePick(h)}},m.prototype.computePickPosition=function(t){if(null===t.pickRay)return null;var e=this.currentData,n=t.pickRay,r=new d(n.origin[0],n.origin[1],n.origin[2]).subtract(e.referencePoint),i=new a(r,n.direction),o=[];if(g.computeIndexedTrianglesIntersection(i,e.meshPoints,this.meshIndices,o)){var s=o[0];if(o.length>1)for(var u=s.distanceToSquared(t.eyePoint),l=1;l<o.length;l++){var c=o[l].distanceToSquared(t.eyePoint);c<u&&(u=c,s=o[l])}var f=new h(0,0,0);return t.globe.computePositionFromPoint(s[0]+e.referencePoint[0],s[1]+e.referencePoint[1],s[2]+e.referencePoint[2],f),f.altitude/=this._altitudeScale,f}return null},m.prototype.beginDrawing=function(t){var e=t.currentGlContext;this.activeAttributes.drawInterior&&(e.disable(e.CULL_FACE),t.findAndBindProgram(n),!t.pickMode&&this.currentData.normals&&this.activeAttributes.applyLighting&&t.currentProgram.loadModelviewInverse(e,t.modelviewNormalTransform)),e.enableVertexAttribArray(t.currentProgram.vertexPointLocation)},m.prototype.endDrawing=function(t){var e=t.currentGlContext;e.disableVertexAttribArray(t.currentProgram.vertexPointLocation),e.depthMask(!0),e.lineWidth(1),e.enable(e.CULL_FACE)},m})),i("shapes/SurfacePolygon",["../error/ArgumentError","../util/Logger","../shapes/ShapeAttributes","../shapes/SurfaceShape"],(function(t,e,n,r){"use strict";var i=function n(i,o){if(!Array.isArray(i))throw new t(e.logMessage(e.LEVEL_SEVERE,"SurfacePolygon","constructor","The specified boundary is not an array."));r.call(this,o),this._boundaries=i,this._stateId=n.stateId++};return i.prototype=Object.create(r.prototype),Object.defineProperties(i.prototype,{boundaries:{get:function(){return this._boundaries},set:function(n){if(!Array.isArray(n))throw new t(e.logMessage(e.LEVEL_SEVERE,"SurfacePolygon","set boundaries","The specified value is not an array."));this.resetBoundaries(),this._boundaries=n,this._stateId=i.stateId++,this.stateKeyInvalid=!0}}}),i.stateId=Number.MIN_SAFE_INTEGER,i.staticStateKey=function(t){return r.staticStateKey(t)+" pg "+t._stateId},i.prototype.computeStateKey=function(){return i.staticStateKey(this)},i.prototype.computeBoundaries=function(t){},i.prototype.getReferencePosition=function(){return this.boundaries.length>0&&this.boundaries[0].length>2?this.boundaries[0][0]:this.boundaries.length>2?this.boundaries[0]:null},i.prototype.moveTo=function(t,e){if(this.boundaries.length>0&&this.boundaries[0].length>2){for(var n=[],r=0,i=this._boundaries.length;r<i;r++){var o=this.computeShiftedLocations(t,this.getReferencePosition(),e,this._boundaries[r]);n.push(o)}this.boundaries=n}else this.boundaries.length>2&&(this.boundaries=this.computeShiftedLocations(t,this.getReferencePosition(),e,this._boundaries))},i})),i("shapes/GeographicMesh",["../shapes/AbstractMesh","../error/ArgumentError","../shaders/BasicTextureProgram","../geom/BoundingBox","../util/Color","../util/ImageSource","../geom/Location","../util/Logger","../geom/Matrix","../pick/PickedObject","../geom/Position","../shapes/ShapeAttributes","../shapes/SurfacePolygon","../geom/Vec2","../geom/Vec3"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d){"use strict";var g=function(n,r){if(!n)throw new e(s.logMessage(s.LEVEL_SEVERE,"GeographicMesh","constructor","missingPositions"));if(n.length<2||n[0].length<2)throw new e(s.logMessage(s.LEVEL_SEVERE,"GeographicMesh","constructor","Number of positions is insufficient."));if(n.length*n[0].length>65536)throw new e(s.logMessage(s.LEVEL_SEVERE,"GeographicMesh","constructor","Too many positions. Must be fewer than 65536. Try using multiple meshes."));for(var i=n[0].length,o=1;o<n.length;o++)if(n[o].length!==i)throw new e(s.logMessage(s.LEVEL_SEVERE,"GeographicMesh","constructor","Array lengths are inconsistent."));var a=n.length,u=n[0].length;t.call(this,r),this.pickTransparentImagePixels=!0,this._positions=n,this._altitudeScale=1,this.numRows=a,this.numColumns=u,this._textureCoordinates=null,this.referencePosition=this.determineReferencePosition(this._positions)};return g.prototype=Object.create(t.prototype),Object.defineProperties(g.prototype,{positions:{get:function(){return this._positions},set:function(t){if(!t)throw new e(s.logMessage(s.LEVEL_SEVERE,"GeographicMesh","positions","missingPositions"));if(t.length<2||t[0].length<2)throw new e(s.logMessage(s.LEVEL_SEVERE,"GeographicMesh","positions","Number of positions is insufficient."));for(var n=t[0].length,r=1;r<t.length;r++)if(t[r].length!==n)throw new e(s.logMessage(s.LEVEL_SEVERE,"GeographicMesh","positions","Array lengths are inconsistent."));this.numRows=t.length,this.numColumns=t[0].length,this._positions=t,this.referencePosition=this.determineReferencePosition(this._positions),this.reset(),this.meshIndices=null,this.meshOutlineIndices=null}},textureCoordinates:{get:function(){return this._textureCoordinates},set:function(t){if(t&&t.length!=this.numRows)throw new e(s.logMessage(s.LEVEL_SEVERE,"GeographicMesh","textureCoordinates","Number of texture coordinate rows is inconsistent with the currently specified positions."));for(var n=0;n<this.numRows;n++)if(t[n].length!==this.numColumns)throw new e(s.logMessage(s.LEVEL_SEVERE,"GeographicMesh","textureCoordinates","Texture coordinate row lengths are inconsistent with the currently specified positions."));this._textureCoordinates=t,this.reset(),this.texCoords=null}}}),g.makeGridIndices=function(t,e){for(var n=[],r=0,i=0;i<t-1;i++)for(var o=0;o<e-1;o++){var a=i*e+o;n[r++]=a,n[r++]=a+1,n[r++]=a+e,n[r++]=a+1,n[r++]=a+1+e,n[r++]=a+e}return n},g.prototype.determineReferencePosition=function(t){return t[0][0]},g.prototype.createSurfaceShape=function(){for(var t=[],e=0;e<this.numColumns;e++)t.push(this._positions[0][e]);for(var n=1;n<this.numRows;n++)t.push(this._positions[n][this.numColumns-1]);for(e=this.numColumns-2;e>=0;e--)t.push(this._positions[this.numRows-1][e]);for(n=this.numRows-2;n>0;n--)t.push(this._positions[n][0]);return new f(t,null)},g.prototype.computeMeshPoints=function(t,e){for(var n,r,i=Number.MAX_VALUE,o=t.eyePoint,a=new Float32Array(this.numRows*this.numColumns*3),s=new d(0,0,0),u=0,l=0;l<this._positions.length;l++)for(var c=0,h=this._positions[l].length;c<h;c++)n=this._positions[l][c],t.surfacePointForMode(n.latitude,n.longitude,n.altitude*this._altitudeScale,this.altitudeMode,s),(r=s.distanceToSquared(o))<i&&(i=r),s.subtract(this.currentData.referencePoint),a[u++]=s[0],a[u++]=s[1],a[u++]=s[2];return e.eyeDistance=Math.sqrt(i),a},g.prototype.computeTexCoords=function(){return this._textureCoordinates?this.computeExplicitTexCoords():this.computeImplicitTexCoords()},g.prototype.computeExplicitTexCoords=function(){for(var t=new Float32Array(2*this.numRows*this.numColumns),e=0,n=0;n<this._textureCoordinates.length;n++)for(var r=0,i=this._textureCoordinates[n].length;r<i;r++){var o=this._textureCoordinates[n][r];t[e++]=o[0],t[e++]=o[1]}return t},g.prototype.computeImplicitTexCoords=function(){for(var t=new Float32Array(2*this.numRows*this.numColumns),e=1/(this.numRows-1),n=1/(this.numColumns-1),r=0,i=0;i<this._positions.length;i++)for(var o=i===this.numRows-1?1:i*e,a=0,s=this._positions[i].length;a<s;a++)t[r++]=a===this.numColumns-1?1:a*n,t[r++]=o;return t},g.prototype.computeMeshIndices=function(){for(var t=new Uint16Array((this.numRows-1)*(this.numColumns-1)*6),e=0,n=0;n<this.numRows-1;n++)for(var r=0;r<this.numColumns-1;r++){var i=n*this.numColumns+r;t[e++]=i,t[e++]=i+1,t[e++]=i+this.numColumns,t[e++]=i+1,t[e++]=i+1+this.numColumns,t[e++]=i+this.numColumns}return t},g.prototype.computeOutlineIndices=function(){for(var t=new Uint16Array(2*this.numRows+2*this.numColumns),e=0,n=0;n<this.numColumns;n++)t[e++]=n;for(var r=1;r<this.numRows;r++)t[e++]=(r+1)*this.numColumns-1;for(n=this.numRows*this.numColumns-2;n>=(this.numRows-1)*this.numColumns;n--)t[e++]=n;for(r=this.numRows-2;r>=0;r--)t[e++]=r*this.numColumns;return t},g})),i("shapes/GeographicText",["../error/ArgumentError","../util/Logger","../shapes/Text","../geom/Vec3"],(function(t,e,n,r){"use strict";var i=function(r,i){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"Text","constructor","missingPosition"));n.call(this,i),this.position=r,this.declutterGroup=1};return i.placePoint=new r(0,0,0),(i.prototype=Object.create(n.prototype)).clone=function(){var t=new i(this.position,this.text);return t.copy(this),t.pickDelegate=this.pickDelegate?this.pickDelegate:this,t},i.prototype.render=function(t){t.globe.projectionLimits&&!t.globe.projectionLimits.containsLocation(this.position.latitude,this.position.longitude)||n.prototype.render.call(this,t)},i.prototype.computeScreenPointAndEyeDistance=function(t){return t.surfacePointForMode(this.position.latitude,this.position.longitude,this.position.altitude,this.altitudeMode,i.placePoint),!!t.frustumInModelCoordinates.containsPoint(i.placePoint)&&(this.eyeDistance=this.alwaysOnTop?0:t.eyePoint.distanceTo(i.placePoint),!!t.projectWithDepth(i.placePoint,this.depthOffset,this.screenPoint))},i})),i("formats/geojson/GeoJSONConstants",[],(function(){"use strict";var t=function(){};return t.FIELD_TYPE="type",t.FIELD_CRS="crs",t.FIELD_NAME="name",t.FIELD_BBOX="bbox",t.FIELD_COORDINATES="coordinates",t.FIELD_GEOMETRIES="geometries",t.FIELD_GEOMETRY="geometry",t.FIELD_PROPERTIES="properties",t.FIELD_FEATURES="features",t.FIELD_ID="id",t.TYPE_POINT="Point",t.TYPE_MULTI_POINT="MultiPoint",t.TYPE_LINE_STRING="LineString",t.TYPE_MULTI_LINE_STRING="MultiLineString",t.TYPE_POLYGON="Polygon",t.TYPE_MULTI_POLYGON="MultiPolygon",t.TYPE_GEOMETRY_COLLECTION="GeometryCollection",t.TYPE_FEATURE="Feature",t.TYPE_FEATURE_COLLECTION="FeatureCollection",t.FIELD_CRS_NAME="name",t.FIELD_CRS_LINK="link",t.WGS84_CRS="urn:ogc:def:crs:OGC:1.3:CRS84",t.EPSG4326_CRS="EPSG:4326",t})),i("formats/geojson/GeoJSONExporter",["../../error/ArgumentError","./GeoJSONConstants","../../util/Logger"],(function(t,e,n){"use strict";return{exportRenderable:function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportRenderable","missingRenderable"));return e instanceof WorldWind.Placemark?this.exportPlacemark(e):e instanceof WorldWind.SurfacePolyline?this.exportSurfacePolyline(e):e instanceof WorldWind.SurfacePolygon?this.exportSurfacePolygon(e):e instanceof WorldWind.SurfaceEllipse?this.exportSurfaceEllipse(e):e instanceof WorldWind.SurfaceCircle?this.exportSurfaceCircle(e):e instanceof WorldWind.SurfaceRectangle?this.exportSurfaceRectangle(e):e instanceof WorldWind.SurfaceSector?this.exportSurfaceSector(e):e instanceof WorldWind.Path?this.exportPath(e):e instanceof WorldWind.Polygon?this.exportPolygon(e):(n.log(n.LEVEL_WARNING,"Export renderable not implemented: "+e),null)},exportRenderables:function(r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportRenderables","missingRenderables"));if(0!=r.length){if(r.length>1){var i="{";i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_GEOMETRY_COLLECTION+'"')+',"'+e.FIELD_GEOMETRIES+'":[';for(var o=0;o<r.length;o++){var a=this.exportRenderable(r[o]);a&&(i+=a,i+=",")}return","===i.slice(-1)&&(i=i.substring(0,i.length-1)),(i+="]")+"}"}return this.exportRenderable(r[0])}},exportLayer:function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportLayer","missingLayer"));return this.exportRenderables(e.renderables)},exportPlacemark:function(r){if(!(r instanceof WorldWind.Placemark))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportPlacemark","invalidTypeOfRenderable"));var i="{";return(i=(i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_POINT+'",')+'"'+e.FIELD_COORDINATES+'":')+"["+r.position.longitude+","+r.position.latitude+"]")+"}"},exportSurfacePolyline:function(r){if(!(r instanceof WorldWind.SurfacePolyline))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportSurfacePolyline","invalidTypeOfRenderable"));var i="{";i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_LINE_STRING+'",')+'"'+e.FIELD_COORDINATES+'":[';for(var o=0;o<r.boundaries.length;o++)i=i+"["+r.boundaries[o].longitude+","+r.boundaries[o].latitude+"]",o!==r.boundaries.length-1&&(i+=",");return(i+="]")+"}"},exportSurfacePolygon:function(r){if(!(r instanceof WorldWind.SurfacePolygon))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportSurfacePolygon","invalidTypeOfRenderable"));var i="{";if(i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_POLYGON+'",')+'"'+e.FIELD_COORDINATES+'":[',r.boundaries.length>0&&r.boundaries[0].length>2)for(var o=0;o<r.boundaries.length;o++){i+="[";for(var a=0;a<r.boundaries[o].length;a++)i=i+"["+r.boundaries[o][a].longitude+","+r.boundaries[o][a].latitude+"]",i+=",",a===r.boundaries[o].length-1&&(i=i+"["+r.boundaries[o][0].longitude+","+r.boundaries[o][0].latitude+"]");i+="]",o!==r.boundaries.length-1&&(i+=",")}else{for(i+="[",o=0;o<r.boundaries.length;o++)i=i+"["+r.boundaries[o].longitude+","+r.boundaries[o].latitude+"]",i+=",",o===r.boundaries.length-1&&(i=i+"["+r.boundaries[0].longitude+","+r.boundaries[0].latitude+"]");i+="]"}return(i+="]")+"}"},exportSurfaceEllipse:function(r){if(!(r instanceof WorldWind.SurfaceEllipse))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportSurfaceEllipse","invalidTypeOfRenderable"));var i="{";i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_POLYGON+'",')+'"'+e.FIELD_COORDINATES+'":[',i+="[";for(var o=0;o<r._boundaries.length;o++)i=i+"["+r._boundaries[o].longitude+","+r._boundaries[o].latitude+"]",i+=",",o===r._boundaries.length-1&&(i=i+"["+r._boundaries[0].longitude+","+r._boundaries[0].latitude+"]");return i+="]",(i+="]")+"}"},exportSurfaceCircle:function(r){if(!(r instanceof WorldWind.SurfaceCircle))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportSurfaceCircle","invalidTypeOfRenderable"));var i="{";i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_POLYGON+'",')+'"'+e.FIELD_COORDINATES+'":[',i+="[";for(var o=r._boundaries.length-1;o>=0;o--)i=i+"["+r._boundaries[o].longitude+","+r._boundaries[o].latitude+"]",i+=",",0===o&&(i=i+"["+r._boundaries[r._boundaries.length-1].longitude+","+r._boundaries[r._boundaries.length-1].latitude+"]");return i+="]",(i+="]")+"}"},exportSurfaceRectangle:function(r){if(!(r instanceof WorldWind.SurfaceRectangle))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportSurfaceRectangle","invalidTypeOfRenderable"));var i="{";i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_POLYGON+'",')+'"'+e.FIELD_COORDINATES+'":[',i+="[";for(var o=0;o<r._boundaries.length;o++)i=i+"["+r._boundaries[o].longitude+","+r._boundaries[o].latitude+"]",i+=",",o===r._boundaries.length-1&&(i=i+"["+r._boundaries[0].longitude+","+r._boundaries[0].latitude+"]");return i+="]",(i+="]")+"}"},exportSurfaceSector:function(r){if(!(r instanceof WorldWind.SurfaceSector))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportSurfaceSector","invalidTypeOfRenderable"));var i="{";i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_POLYGON+'",')+'"'+e.FIELD_COORDINATES+'":[',i+="[",r._boundaries.reverse();for(var o=0;o<r._boundaries.length;o++)i=i+"["+r._boundaries[o].longitude+","+r._boundaries[o].latitude+"]",i+=",",o===r._boundaries.length-1&&(i=i+"["+r._boundaries[0].longitude+","+r._boundaries[0].latitude+"]");return i+="]",(i+="]")+"}"},exportPath:function(r){if(!(r instanceof WorldWind.Path))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportPath","invalidTypeOfRenderable"));var i="{";i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_LINE_STRING+'",')+'"'+e.FIELD_COORDINATES+'":[';for(var o=0;o<r.positions.length;o++)i=i+"["+r.positions[o].longitude+","+r.positions[o].latitude+","+r.positions[o].altitude+"]",o!==r.positions.length-1&&(i+=",");return(i+="]")+"}"},exportPolygon:function(r){if(!(r instanceof WorldWind.Polygon))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONExporter","exportPolygon","invalidTypeOfRenderable"));var i="{";if(i=(i=i+'"'+e.FIELD_TYPE+'":"'+e.TYPE_POLYGON+'",')+'"'+e.FIELD_COORDINATES+'":[',r.boundaries.length>0&&r.boundaries[0].length>2)for(var o=0;o<r.boundaries.length;o++){i+="[";for(var a=0;a<r.boundaries[o].length;a++)i=i+"["+r.boundaries[o][a].longitude+","+r.boundaries[o][a].latitude+","+r.boundaries[o][a].altitude+"]",i+=",",a===r.boundaries[o].length-1&&(i=i+"["+r.boundaries[o][0].longitude+","+r.boundaries[o][0].latitude+","+r.boundaries[o][0].altitude+"]");i+="]",o!==r.boundaries.length-1&&(i+=",")}else{for(i+="[",o=0;o<r.boundaries.length;o++)i=i+"["+r.boundaries[o].longitude+","+r.boundaries[o].latitude+","+r.boundaries[o].altitude+"]",i+=",",o===r.boundaries.length-1&&(i=i+"["+r.boundaries[0].longitude+","+r.boundaries[0].latitude+","+r.boundaries[0].altitude+"]");i+="]"}return(i+="]")+"}"}}})),i("formats/geojson/GeoJSONGeometry",["../../error/ArgumentError","./GeoJSONConstants","../../util/Logger"],(function(t,e,n){"use strict";var r=function(e,r,i){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometry","constructor","missingCoordinates"));if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometry","constructor","missingType"));this._coordinates=e,this._type=r,this._bbox=i||null};return Object.defineProperties(r.prototype,{coordinates:{get:function(){return this._coordinates}},type:{get:function(){return this._type}},bbox:{get:function(){return this._bbox}}}),r.prototype.isPointType=function(){return this.type===e.TYPE_POINT},r.prototype.isMultiPointType=function(){return this.type===e.TYPE_MULTI_POINT},r.prototype.isLineStringType=function(){return this.type===e.TYPE_LINE_STRING},r.prototype.isMultiLineStringType=function(){return this.type===e.TYPE_MULTI_LINE_STRING},r.prototype.isPolygonType=function(){return this.type===e.TYPE_POLYGON},r.prototype.isMultiPolygonType=function(){return this.type===e.TYPE_MULTI_POLYGON},r})),i("formats/geojson/GeoJSONGeometryCollection",["../../error/ArgumentError","./GeoJSONConstants","../../util/Logger"],(function(t,e,n){"use strict";var r=function(e,r){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryCollection","constructor","missingGeometries"));if("[object Array]"!==Object.prototype.toString.call(e))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryCollection","constructor","invalidGeometries"));this._geometries=e,this._bbox=r};return Object.defineProperties(r.prototype,{geometries:{get:function(){return this._geometries}},bbox:{get:function(){return this._bbox}}}),r})),i("formats/geojson/GeoJSONGeometryLineString",["../../error/ArgumentError","./GeoJSONGeometry","../../util/Logger"],(function(t,e,n){"use strict";var r=function(r,i,o){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryLineString","constructor","missingCoordinates"));if(r.length<2||r[0].length<2)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryLineString","constructor","invalidNumberOfCoordinates"));if("[object Array]"!==Object.prototype.toString.call(r[0])||"[object Number]"!==Object.prototype.toString.call(r[0][0]))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryLineString","constructor","invalidCoordinatesType"));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryLineString","constructor","missingType"));e.call(this,r,i,o)};return r.prototype=Object.create(e.prototype),r})),i("formats/geojson/GeoJSONGeometryMultiLineString",["../../error/ArgumentError","./GeoJSONGeometry","../../util/Logger"],(function(t,e,n){"use strict";var r=function(r,i,o){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryMultiLineString","constructor","missingCoordinates"));if(r[0].length<2||r[0][0].length<2)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryMultiLineString","constructor","invalidNumberOfCoordinates"));if("[object Array]"!==Object.prototype.toString.call(r[0])||"[object Array]"!==Object.prototype.toString.call(r[0][0])||"[object Number]"!==Object.prototype.toString.call(r[0][0][0]))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryMultiLineString","constructor","invalidCoordinatesType"));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryLineString","constructor","missingType"));e.call(this,r,i,o)};return r.prototype=Object.create(e.prototype),r})),i("formats/geojson/GeoJSONGeometryMultiPoint",["../../error/ArgumentError","./GeoJSONGeometry","../../util/Logger"],(function(t,e,n){"use strict";var r=function(r,i,o){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryMultiPoint","constructor","missingCoordinates"));if(r[0].length<2)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryMultiPoint","constructor","invalidNumberOfCoordinates"));if("[object Array]"!==Object.prototype.toString.call(r[0])||"[object Number]"!==Object.prototype.toString.call(r[0][0]))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryMultiPoint","constructor","invalidCoordinatesType"));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPoint","constructor","missingType"));e.call(this,r,i,o)};return r.prototype=Object.create(e.prototype),r})),i("formats/geojson/GeoJSONGeometryMultiPolygon",["../../error/ArgumentError","./GeoJSONGeometry","../../util/Logger"],(function(t,e,n){"use strict";var r=function(r,i,o){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryMultiPolygon","constructor","missingCoordinates"));if("[object Array]"!==Object.prototype.toString.call(r[0])||"[object Array]"!==Object.prototype.toString.call(r[0][0])||"[object Array]"!==Object.prototype.toString.call(r[0][0][0])||"[object Number]"!==Object.prototype.toString.call(r[0][0][0][0]))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPolygon","constructor","invalidCoordinatesType"));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPolygon","constructor","missingType"));e.call(this,r,i,o)};return r.prototype=Object.create(e.prototype),r})),i("formats/geojson/GeoJSONGeometryPoint",["../../error/ArgumentError","./GeoJSONGeometry","../../util/Logger"],(function(t,e,n){"use strict";var r=function(r,i,o){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPoint","constructor","missingCoordinates"));if(r.length<2)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPoint","constructor","invalidNumberOfCoordinates"));if("[object Array]"!==Object.prototype.toString.call(r)||"[object Number]"!==Object.prototype.toString.call(r[0]))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPoint","constructor","invalidCoordinatesType"));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPoint","constructor","missingType"));e.call(this,r,i,o)};return r.prototype=Object.create(e.prototype),r})),i("formats/geojson/GeoJSONGeometryPolygon",["../../error/ArgumentError","./GeoJSONGeometry","../../util/Logger"],(function(t,e,n){"use strict";var r=function(r,i,o){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPolygon","constructor","missingCoordinates"));if(r[0].length<2||r[0][0].length<2)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPolygon","constructor","invalidNumberOfCoordinates"));if("[object Array]"!==Object.prototype.toString.call(r[0])||"[object Array]"!==Object.prototype.toString.call(r[0][0])||"[object Number]"!==Object.prototype.toString.call(r[0][0][0]))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPolygon","constructor","invalidCoordinatesType"));for(var a=0;a<r.length;a++)if(r[a][0][0]!==r[a][r[a].length-1][0]||r[a][0][1]!==r[a][r[a].length-1][1])throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPolygon","constructor","invalidLinearRing"));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONGeometryPolygon","constructor","missingType"));e.call(this,r,i,o)};return r.prototype=Object.create(e.prototype),r})),i("formats/geojson/GeoJSONCRS",["../../error/ArgumentError","./GeoJSONConstants","../../util/Logger","../../util/proj4-src"],(function(t,e,n,r){"use strict";var i=function(e,r){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONCRS","constructor","missingType"));if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONCRS","constructor","missingProperties"));this._type=e,this._properties=r,this._projectionString=null};return Object.defineProperties(i.prototype,{type:{get:function(){return this._type}},properties:{get:function(){return this._properties}},projectionString:{get:function(){return this._projectionString}}}),i.prototype.isDefault=function(){return!(!this.isNamed()||this._projectionString!==e.EPSG4326_CRS&&this._projectionString!==e.WGS84_CRS)},i.prototype.isNamed=function(){return this._type===e.FIELD_CRS_NAME},i.prototype.isLinked=function(){return this._type===e.FIELD_CRS_LINK},i.prototype.isCRSSupported=function(){try{r(this._projectionString,e.EPSG4326_CRS)}catch(t){return n.log(n.LEVEL_WARNING,"Unknown GeoJSON coordinate reference system ("+t+"): "+this._properties.name),!1}return!0},i.prototype.getLinkedCRSString=function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="text",r.onreadystatechange=function(){4===r.readyState&&(200===r.status?(this._projectionString=r.response,e()):n.log(n.LEVEL_WARNING,"GeoJSON Linked CRS retrieval failed ("+r.statusText+"): "+t))}.bind(this),r.onerror=function(){n.log(n.LEVEL_WARNING,"GeoJSON Linked CRS retrieval failed: "+t)},r.ontimeout=function(){n.log(n.LEVEL_WARNING,"GeoJSON Linked CRS retrieval timed out: "+t)},r.send(null)},i.prototype.setCRSString=function(t){this.isNamed()?(this._projectionString=this._properties.name,t()):this.isLinked()&&this.getLinkedCRSString(this._properties.href,t)},i})),i("formats/geojson/GeoJSONFeature",["../../error/ArgumentError","./GeoJSONConstants","../../util/Logger"],(function(t,e,n){"use strict";var r=function(r,i,o,a){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONFeature","constructor","missingGeometry"));if(!r[e.FIELD_TYPE])throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONFeature","constructor","missingFeatureGeometryType"));if(!i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONFeature","constructor","missingProperties"));this._geometry=r,this._properties=i,this._id=o,this._bbox=a};return Object.defineProperties(r.prototype,{geometry:{get:function(){return this._geometry}},properties:{get:function(){return this._properties}},id:{get:function(){return this._id}},bbox:{get:function(){return this._bbox}}}),r})),i("formats/geojson/GeoJSONFeatureCollection",["../../error/ArgumentError","./GeoJSONConstants","../../util/Logger"],(function(t,e,n){"use strict";var r=function(e,r,i){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONFeatureCollection","constructor","missingFeatures"));if("[object Array]"!==Object.prototype.toString.call(e))throw new t(n.logMessage(n.LEVEL_SEVERE,"GeoJSONFeatureCollection","constructor","invalidFeatures"));this._properties=r,this._features=e,this._bbox=i};return Object.defineProperties(r.prototype,{features:{get:function(){return this._features}},properties:{get:function(){return this._properties}},bbox:{get:function(){return this._bbox}}}),r})),i("shapes/PlacemarkAttributes",["../util/Color","../util/Font","../util/Offset","../shapes/ShapeAttributes","../shapes/TextAttributes"],(function(t,e,n,r,i){"use strict";var o=function(e){this._imageColor=e?e._imageColor.clone():t.WHITE.clone(),this._imageOffset=e?e._imageOffset:new n(WorldWind.OFFSET_FRACTION,.5,WorldWind.OFFSET_FRACTION,.5),this._imageScale=e?e._imageScale:1,this._imageSource=e?e._imageSource:null,this._depthTest=!e||e._depthTest,this._labelAttributes=e?e._labelAttributes:new i(null),this._drawLeaderLine=!!e&&e._drawLeaderLine,this._leaderLineAttributes=e?e._leaderLineAttributes:new r(null),this.stateKeyInvalid=!0};return o.prototype.computeStateKey=function(){return"ic "+this._imageColor.toHexString(!0)+" io "+this._imageOffset.toString()+" is "+this._imageScale+" ip "+this._imageSource+" dt "+this._depthTest+" la "+this._labelAttributes.stateKey+" dll "+this._drawLeaderLine+" lla "+this._leaderLineAttributes.stateKey},Object.defineProperties(o.prototype,{stateKey:{get:function(){return this.stateKeyInvalid&&(this._stateKey=this.computeStateKey(),this.stateKeyInvalid=!1),this._stateKey}},imageColor:{get:function(){return this._imageColor},set:function(t){this._imageColor=t,this.stateKeyInvalid=!0}},imageOffset:{get:function(){return this._imageOffset},set:function(t){this._imageOffset=t,this.stateKeyInvalid=!0}},imageScale:{get:function(){return this._imageScale},set:function(t){this._imageScale=t,this.stateKeyInvalid=!0}},imageSource:{get:function(){return this._imageSource},set:function(t){this._imageSource=t,this.stateKeyInvalid=!0}},depthTest:{get:function(){return this._depthTest},set:function(t){this._depthTest=t,this.stateKeyInvalid=!0}},labelAttributes:{get:function(){return this._labelAttributes},set:function(t){this._labelAttributes=t,this.stateKeyInvalid=!0}},drawLeaderLine:{get:function(){return this._drawLeaderLine},set:function(t){this._drawLeaderLine=t,this.stateKeyInvalid=!0}},leaderLineAttributes:{get:function(){return this._leaderLineAttributes},set:function(t){this._leaderLineAttributes=t,this.stateKeyInvalid=!0}}}),o})),i("shapes/Placemark",["../error/ArgumentError","../shaders/BasicTextureProgram","../util/Color","../util/Font","../util/Logger","../geom/Matrix","../pick/PickedObject","../shapes/PlacemarkAttributes","../render/Renderable","../geom/Vec2","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a,s,u,l,c,h){"use strict";var f=function(e,n,r){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"Placemark","constructor","missingPosition"));u.call(this),this.attributes=r||new s(null),this.highlightAttributes=null,this.highlighted=!1,this.position=e,this.eyeDistanceScaling=n,this.eyeDistanceScalingThreshold=1e6,this.eyeDistanceScalingLabelThreshold=1.5*this.eyeDistanceScalingThreshold,this.label=null,this.altitudeMode=WorldWind.ABSOLUTE,this.alwaysOnTop=!1,this.enableLeaderLinePicking=!1,this.updateImage=!0,this.declutterGroup=2,this.targetVisibility=1,this.currentVisibility=1,this.imageRotation=0,this.imageTilt=0,this.imageRotationReference=WorldWind.RELATIVE_TO_SCREEN,this.imageTiltReference=WorldWind.RELATIVE_TO_SCREEN,this.activeAttributes=null,this.activeTexture=null,this.labelTexture=null,this.placePoint=new c(0,0,0),this.groundPoint=new c(0,0,0),this.imageTransform=o.fromIdentity(),this.labelTransform=o.fromIdentity(),this.texCoordMatrix=o.fromIdentity(),this.imageBounds=null,this.layer=null,this.depthOffset=-.003};return f.screenPoint=new c(0,0,0),f.matrix=o.fromIdentity(),f.scratchPoint=new c(0,0,0),f.prototype=Object.create(u.prototype),Object.defineProperties(f.prototype,{screenBounds:{get:function(){return this.labelBounds}}}),f.prototype.copy=function(t){return this.position=t.position,this.attributes=t.attributes,this.highlightAttributes=t.highlightAttributes,this.highlighted=t.highlighted,this.enabled=t.enabled,this.label=t.label,this.altitudeMode=t.altitudeMode,this.pickDelegate=t.pickDelegate,this.alwaysOnTop=t.alwaysOnTop,this.depthOffset=t.depthOffset,this.targetVisibility=t.targetVisibility,this.currentVisibility=t.currentVisibility,this.imageRotation=t.imageRotation,this.imageTilt=t.imageTilt,this.imageRotationReference=t.imageRotationReference,this.imageTiltReference=t.imageTiltReference,this},f.prototype.clone=function(){var t=new f(this.position);return t.copy(this),t.pickDelegate=this.pickDelegate?this.pickDelegate:this,t},f.prototype.render=function(t){var e;this.enabled&&t.accumulateOrderedRenderables&&(!t.globe.projectionLimits||t.globe.projectionLimits.containsLocation(this.position.latitude,this.position.longitude))&&((e=this.lastFrameTime!==t.timestamp?this.makeOrderedRenderable(t):this.clone().makeOrderedRenderable(t))&&e.isVisible(t)&&(e.layer=t.currentLayer,this.lastFrameTime=t.timestamp,t.addOrderedRenderable(e)))},f.prototype.renderOrdered=function(t){if(this.drawOrderedPlacemark(t),t.pickingMode){var e=new a(this.pickColor.clone(),this.pickDelegate?this.pickDelegate:this,this.position,this.layer,!1);t.pickPoint&&this.mustDrawLabel()&&this.labelBounds.containsPoint(t.convertPointToViewport(t.pickPoint,f.scratchPoint))&&(e.labelPicked=!0),t.resolvePick(e)}},f.prototype.makeOrderedRenderable=function(t){var e,n,r,i;if(this.determineActiveAttributes(t),!this.activeAttributes)return null;if(t.surfacePointForMode(this.position.latitude,this.position.longitude,this.position.altitude,this.altitudeMode,this.placePoint),this.eyeDistance=this.alwaysOnTop?0:t.eyePoint.distanceTo(this.placePoint),this.mustDrawLeaderLine(t)&&t.surfacePointForMode(this.position.latitude,this.position.longitude,0,this.altitudeMode,this.groundPoint),!t.projectWithDepth(this.placePoint,this.depthOffset,f.screenPoint))return null;var o=this.eyeDistanceScaling?Math.max(0,Math.min(1,this.eyeDistanceScalingThreshold/this.eyeDistance)):1;return this.activeTexture?(e=this.activeTexture.originalImageWidth,n=this.activeTexture.originalImageHeight,r=this.activeAttributes.imageScale*o,i=this.activeAttributes.imageOffset.offsetForSize(e,n),this.imageTransform.setTranslation(f.screenPoint[0]-i[0]*r,f.screenPoint[1]-i[1]*r,f.screenPoint[2]),this.imageTransform.setScale(e*r,n*r,1)):(r=this.activeAttributes.imageScale*o,i=this.activeAttributes.imageOffset.offsetForSize(r,r),this.imageTransform.setTranslation(f.screenPoint[0]-i[0],f.screenPoint[1]-i[1],f.screenPoint[2]),this.imageTransform.setScale(r,r,1)),this.imageBounds=h.boundingRectForUnitQuad(this.imageTransform),this.mustDrawLabel()&&(this.labelTexture=t.createTextTexture(this.label,this.activeAttributes.labelAttributes),e=this.labelTexture.imageWidth,n=this.labelTexture.imageHeight,r=this.activeAttributes.labelAttributes.scale*o,i=this.activeAttributes.labelAttributes.offset.offsetForSize(e,n),this.labelTransform.setTranslation(f.screenPoint[0]-i[0]*r,f.screenPoint[1]-i[1]*r,f.screenPoint[2]),this.labelTransform.setScale(e*r,n*r,1),this.labelBounds=h.boundingRectForUnitQuad(this.labelTransform)),this},f.prototype.determineActiveAttributes=function(t){this.highlighted&&this.highlightAttributes?this.activeAttributes=this.highlightAttributes:this.activeAttributes=this.attributes,this.activeAttributes&&this.activeAttributes.imageSource&&(this.activeTexture=t.gpuResourceCache.resourceForKey(this.activeAttributes.imageSource),this.activeTexture&&!this.updateImage||(this.activeTexture=t.gpuResourceCache.retrieveTexture(t.currentGlContext,this.activeAttributes.imageSource),this.updateImage=!1))},f.prototype.isVisible=function(t){return t.pickingMode?t.pickRectangle&&(this.imageBounds.intersects(t.pickRectangle)||this.mustDrawLabel()&&this.labelBounds.intersects(t.pickRectangle)||this.mustDrawLeaderLine(t)&&t.pickFrustum.intersectsSegment(this.groundPoint,this.placePoint)):this.imageBounds.intersects(t.viewport)||this.mustDrawLabel()&&this.labelBounds.intersects(t.viewport)||this.mustDrawLeaderLine(t)&&t.frustumInModelCoordinates.intersectsSegment(this.groundPoint,this.placePoint)},f.prototype.drawOrderedPlacemark=function(t){this.beginDrawing(t);try{this.doDrawOrderedPlacemark(t),t.pickingMode||this.drawBatchOrderedPlacemarks(t)}finally{this.endDrawing(t)}},f.prototype.drawBatchOrderedPlacemarks=function(t){for(var e;(e=t.peekOrderedRenderable())&&e.doDrawOrderedPlacemark;){t.popOrderedRenderable();try{e.doDrawOrderedPlacemark(t)}catch(t){i.logMessage(i.LEVEL_WARNING,"Placemark","drawBatchOrderedPlacemarks","Error occurred while rendering placemark using batching: "+t.message)}}},f.prototype.beginDrawing=function(t){var n,r=t.currentGlContext;t.findAndBindProgram(e),n=t.currentProgram,r.bindBuffer(r.ARRAY_BUFFER,t.unitQuadBuffer()),r.vertexAttribPointer(n.vertexTexCoordLocation,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.vertexPointLocation),r.enableVertexAttribArray(n.vertexTexCoordLocation),n.loadTextureUnit(r,r.TEXTURE0),n.loadModulateColor(r,t.pickingMode)},f.prototype.endDrawing=function(t){var e=t.currentGlContext,n=t.currentProgram;e.disableVertexAttribArray(n.vertexPointLocation),e.disableVertexAttribArray(n.vertexTexCoordLocation),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTexture(e.TEXTURE_2D,null)},f.prototype.doDrawOrderedPlacemark=function(t){var e,r=t.currentGlContext,i=t.currentProgram,o=!0;if(t.pickingMode&&(this.pickColor=t.uniquePickColor()),this.eyeDistanceScaling&&this.eyeDistance>this.eyeDistanceScalingLabelThreshold&&(this.targetVisibility=0),!t.pickingMode&&this.mustDrawLabel()&&this.currentVisibility!=this.targetVisibility){var a=(t.timestamp-t.previousRedrawTimestamp)/t.fadeTime;this.currentVisibility<this.targetVisibility?this.currentVisibility=Math.min(1,this.currentVisibility+a):this.currentVisibility=Math.max(0,this.currentVisibility-a),t.redrawRequested=!0}if(i.loadOpacity(r,t.pickingMode?1:this.layer.opacity),this.mustDrawLeaderLine(t)){this.leaderLinePoints||(this.leaderLinePoints=new Float32Array(6)),this.leaderLinePoints[0]=this.groundPoint[0],this.leaderLinePoints[1]=this.groundPoint[1],this.leaderLinePoints[2]=this.groundPoint[2],this.leaderLinePoints[3]=this.placePoint[0],this.leaderLinePoints[4]=this.placePoint[1],this.leaderLinePoints[5]=this.placePoint[2],this.leaderLineCacheKey||(this.leaderLineCacheKey=t.gpuResourceCache.generateCacheKey());var s=t.gpuResourceCache.resourceForKey(this.leaderLineCacheKey);s||(s=r.createBuffer(),t.gpuResourceCache.putResource(this.leaderLineCacheKey,s,4*this.leaderLinePoints.length)),i.loadTextureEnabled(r,!1),i.loadColor(r,t.pickingMode?this.pickColor:this.activeAttributes.leaderLineAttributes.outlineColor),f.matrix.copy(t.modelviewProjection),i.loadModelviewProjection(r,f.matrix),this.activeAttributes.leaderLineAttributes.depthTest||r.disable(r.DEPTH_TEST),r.lineWidth(this.activeAttributes.leaderLineAttributes.outlineWidth),r.bindBuffer(r.ARRAY_BUFFER,s),r.bufferData(r.ARRAY_BUFFER,this.leaderLinePoints,r.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1),r.vertexAttribPointer(i.vertexPointLocation,3,r.FLOAT,!1,0,0),r.drawArrays(r.LINES,0,2)}this.activeAttributes.depthTest||(o=!1,r.disable(r.DEPTH_TEST)),r.bindBuffer(r.ARRAY_BUFFER,t.unitQuadBuffer3()),r.vertexAttribPointer(i.vertexPointLocation,3,r.FLOAT,!1,0,0),f.matrix.copy(t.screenProjection),f.matrix.multiplyMatrix(this.imageTransform);var u=this.imageRotationReference===WorldWind.RELATIVE_TO_GLOBE?t.navigator.heading-this.imageRotation:-this.imageRotation;f.matrix.multiplyByTranslation(.5,.5,0),f.matrix.multiplyByRotation(0,0,1,u),f.matrix.multiplyByTranslation(-.5,-.5,0);var l=this.imageTiltReference===WorldWind.RELATIVE_TO_GLOBE?t.navigator.tilt+this.imageTilt:this.imageTilt;f.matrix.multiplyByRotation(-1,0,0,l),i.loadModelviewProjection(r,f.matrix),i.loadTextureEnabled(r,!0),t.pickingMode?i.loadColor(r,this.pickColor):i.loadColor(r,this.activeAttributes.imageColor),this.texCoordMatrix.setToIdentity(),this.activeTexture&&this.texCoordMatrix.multiplyByTextureTransform(this.activeTexture),i.loadTextureMatrix(r,this.texCoordMatrix),this.activeTexture?(e=this.activeTexture.bind(t),i.loadTextureEnabled(r,e)):i.loadTextureEnabled(r,!1),r.drawArrays(r.TRIANGLE_STRIP,0,4),this.mustDrawLabel()&&this.currentVisibility>0&&(i.loadOpacity(r,t.pickingMode?1:this.layer.opacity*this.currentVisibility),f.matrix.copy(t.screenProjection),f.matrix.multiplyMatrix(this.labelTransform),i.loadModelviewProjection(r,f.matrix),!t.pickingMode&&this.labelTexture?(this.texCoordMatrix.setToIdentity(),this.texCoordMatrix.multiplyByTextureTransform(this.labelTexture),i.loadTextureMatrix(r,this.texCoordMatrix),i.loadColor(r,n.WHITE),e=this.labelTexture.bind(t),i.loadTextureEnabled(r,e)):(i.loadTextureEnabled(r,!1),i.loadColor(r,this.pickColor)),this.activeAttributes.labelAttributes.depthTest?o||(o=!0,r.enable(r.DEPTH_TEST)):(o=!1,r.disable(r.DEPTH_TEST)),r.drawArrays(r.TRIANGLE_STRIP,0,4)),o||r.enable(r.DEPTH_TEST)},f.prototype.mustDrawLabel=function(){return this.label&&this.label.length>0&&this.activeAttributes.labelAttributes},f.prototype.mustDrawLeaderLine=function(t){return this.activeAttributes.drawLeaderLine&&this.activeAttributes.leaderLineAttributes&&(!t.pickingMode||this.enableLeaderLinePicking)},f.prototype.getReferencePosition=function(){return this.position},f.prototype.moveTo=function(t,e){this.position=e},f})),i("shapes/Polygon",["../shapes/AbstractShape","../error/ArgumentError","../shaders/BasicTextureProgram","../geom/BoundingBox","../util/Color","../util/ImageSource","../geom/Location","../util/Logger","../geom/Matrix","../pick/PickedObject","../geom/Position","../shapes/ShapeAttributes","../shapes/SurfacePolygon","../geom/Vec2","../geom/Vec3","../util/libtess"],(function(t,e,n,r,i,a,s,u,l,c,h,f,p,d,g,m){"use strict";var y=function(n,r){if(!n)throw new e(u.logMessage(u.LEVEL_SEVERE,"Polygon","constructor","missingBoundaries"));t.call(this,r),n.length>0&&n[0].latitude&&(n=[n],this._boundariesSpecifiedSimply=!0),this._boundaries=n,this._textureCoordinates=null,this.referencePosition=this.determineReferencePosition(this._boundaries),this._extrude=!1,this.scratchPoint=new g(0,0,0)};return y.prototype=Object.create(t.prototype),Object.defineProperties(y.prototype,{boundaries:{get:function(){return this._boundariesSpecifiedSimply?this._boundaries[0]:this._boundaries},set:function(t){if(!t)throw new e(u.logMessage(u.LEVEL_SEVERE,"Polygon","boundaries","missingBoundaries"));t.length>0&&t[0].latitude&&(t=[t],this._boundariesSpecifiedSimply=!0),this._boundaries=t,this.referencePosition=this.determineReferencePosition(this._boundaries),this.reset()}},textureCoordinates:{get:function(){return this._textureCoordinates},set:function(t){this._textureCoordinates=t,this.reset()}},extrude:{get:function(){return this._extrude},set:function(t){this._extrude=t,this.reset()}}}),y.prototype.determineReferencePosition=function(t){return t.length>0&&t[0].length>2?t[0][0]:null},y.prototype.mustGenerateGeometry=function(t){return!this.currentData.boundaryPoints||this.currentData.drawInterior!==this.activeAttributes.drawInterior||this.altitudeMode!==WorldWind.ABSOLUTE&&this.currentData.isExpired},y.prototype.hasCapTexture=function(){return this.textureCoordinates&&this.capImageSource()},y.prototype.capImageSource=function(){return this.activeAttributes.imageSource?"string"==typeof this.activeAttributes.imageSource||this.activeAttributes.imageSource instanceof a?this.activeAttributes.imageSource:Array.isArray(this.activeAttributes.imageSource)&&this.activeAttributes.imageSource[0]&&("string"==typeof this.activeAttributes.imageSource[0]||this.activeAttributes.imageSource instanceof a)?this.activeAttributes.imageSource[0]:null:null},y.prototype.hasSideTextures=function(){return this.activeAttributes.imageSource&&Array.isArray(this.activeAttributes.imageSource)&&this.activeAttributes.imageSource.length>1},y.prototype.sideImageSource=function(t){if(0===t||2===this.activeAttributes.imageSource.length)return this.activeAttributes.imageSource[1];var e=this.activeAttributes.imageSource.length-1;return t=Math.min(t+1,e),this.activeAttributes.imageSource[t]},y.prototype.createSurfaceShape=function(){return new p(this.boundaries,null)},y.prototype.doMakeOrderedRenderable=function(t){if(!this.referencePosition)return null;if(!this.activeAttributes.drawInterior&&!this.activeAttributes.drawOutline)return null;if(!this.mustGenerateGeometry(t))return this;var e=this.currentData,n=e.referencePoint;t.surfacePointForMode(this.referencePosition.latitude,this.referencePosition.longitude,this.referencePosition.altitude,this._altitudeMode,n),e.transformationMatrix.setToTranslation(n[0],n[1],n[2]);for(var i=[],o=0;o<this._boundaries.length;o++)i[o]=this._boundaries[o].slice(0),i[o].push(this._boundaries[o][0]);var a=this.computeBoundaryPoints(t,i);if(this.activeAttributes.drawInterior){var s=this.tessellatePolygon(t,a);if(s){e.capTriangles=new Float32Array(s.length);for(var u=0,l=s.length;u<l;u++)e.capTriangles[u]=s[u]}}if(e.boundaryPoints=a,e.drawInterior=this.activeAttributes.drawInterior,this.resetExpiration(e),e.refreshBuffers=!0,e.extent||(e.extent=new r),1===a.length)e.extent.setToPoints(a[0]);else{var c=[];for(o=0;o<a.length;o++)for(var h=0;h<a[o].length;h++)c.push(a[o][h]);e.extent.setToPoints(c)}return e.extent.translate(e.referencePoint),this},y.prototype.computeBoundaryPoints=function(t,e){for(var n,r,i,o,a=Number.MAX_VALUE,s=t.eyePoint,u=[],l=this._extrude?6:3,c=new g(0,0,0),h=0;h<e.length;h++){n=(this._extrude?2:1)*e[h].length,u[h]=new Float32Array(3*n);for(var f=0,p=e[h].length;f<p;f++)r=e[h][f],t.surfacePointForMode(r.latitude,r.longitude,r.altitude,this.altitudeMode,c),(o=c.distanceToSquared(s))<a&&(a=o),c.subtract(this.currentData.referencePoint),i=l*f,u[h][i]=c[0],u[h][i+1]=c[1],u[h][i+2]=c[2],this._extrude&&(t.surfacePointForMode(r.latitude,r.longitude,0,WorldWind.CLAMP_TO_GROUND,c),(o=c.distanceToSquared(s))<a&&(a=o),c.subtract(this.currentData.referencePoint),u[h][i+3]=c[0],u[h][i+4]=c[1],u[h][i+5]=c[2])}return this.currentData.eyeDistance=0,u},y.prototype.tessellatePolygon=function(t,e){var n,r,i=[],a=0,s=this._extrude?6:3,l=this.hasCapTexture();this.polygonTessellator||(this.polygonTessellator=new o.GluTesselator,this.polygonTessellator.gluTessCallback(o.gluEnum.GLU_TESS_VERTEX_DATA,(function(t,e){e[e.length]=t[0],e[e.length]=t[1],e[e.length]=t[2],l&&(e[e.length]=t[3],e[e.length]=t[4])})),this.polygonTessellator.gluTessCallback(o.gluEnum.GLU_TESS_COMBINE,(function(t,e,n){var r=[t[0],t[1],t[2]];if(l)for(var i=3;i<=4;i++){for(var o=0,a=0;a<4;a++)n[a]>0&&(o+=n[a]*e[a][i]);r[i]=o}return r})),this.polygonTessellator.gluTessCallback(o.gluEnum.GLU_TESS_ERROR,(function(t){a=t,u.logMessage(u.LEVEL_WARNING,"Polygon","tessellatePolygon","Tessellation error "+t+".")}))),(r=g.computeBufferNormal(e[0],s))||(r=new g(0,0,0),t.globe.surfaceNormalAtLocation(this.referencePosition.latitude,this.referencePosition.longitude,r)),this.polygonTessellator.gluTessNormal(r[0],r[1],r[2]),this.currentData.capNormal=r,this.polygonTessellator.gluTessBeginPolygon(i);for(var c=0;c<e.length;c++){var h=0;this.polygonTessellator.gluTessBeginContour();for(var f=e[c],p=0;p<f.length;p+=s)n=[f[p],f[p+1],f[p+2]],l&&(h<this.textureCoordinates[c].length?(n[3]=this.textureCoordinates[c][h][0],n[4]=this.textureCoordinates[c][h][1]):(n[3]=this.textureCoordinates[c][0][0],n[4]=this.textureCoordinates[c][1][1]),++h),this.polygonTessellator.gluTessVertex(n,n);this.polygonTessellator.gluTessEndContour()}return this.polygonTessellator.gluTessEndPolygon(),0===a?i:null},y.prototype.mustDrawVerticals=function(t){return this._extrude&&this.activeAttributes.drawOutline&&this.activeAttributes.drawVerticals&&this.altitudeMode!==WorldWind.CLAMP_TO_GROUND},y.prototype.doRenderOrdered=function(t){var e,n=this.currentData;if(t.pickingMode&&(e=t.uniquePickColor()),this.activeAttributes.drawInterior&&n.capTriangles&&n.capTriangles.length>0&&this.drawCap(t,e),this._extrude&&this.activeAttributes.drawInterior&&this.drawSides(t,e),this.activeAttributes.drawOutline&&this.drawOutline(t,e),n.refreshBuffers=!1,t.pickingMode){var r=new c(e,this.pickDelegate?this.pickDelegate:this,null,this.layer,!1);t.resolvePick(r)}},y.prototype.drawCap=function(t,e){var n,r,i,o,a=t.currentGlContext,s=t.currentProgram,u=this.currentData,l=u.refreshBuffers,c=!!this.hasCapTexture(),h=this.activeAttributes.applyLighting,f=u.capTriangles.length/(c?5:3);s.loadTextureEnabled(a,!1),this.applyMvpMatrix(t),u.capVboCacheKey||(u.capVboCacheKey=t.gpuResourceCache.generateCacheKey()),(n=t.gpuResourceCache.resourceForKey(u.capVboCacheKey))||(n=a.createBuffer(),t.gpuResourceCache.putResource(u.capVboCacheKey,n,4*u.capTriangles.length),l=!0),a.bindBuffer(a.ARRAY_BUFFER,n),l&&(o=h?this.makeCapBufferWithNormals():u.capTriangles,a.bufferData(a.ARRAY_BUFFER,o,a.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1)),r=this.activeAttributes.interiorColor,a.depthMask(r.alpha*this.layer.opacity>=1||t.pickingMode),s.loadColor(a,t.pickingMode?e:r),s.loadOpacity(a,t.pickingMode?1:this.layer.opacity),i=12+(c?8:0)+(h?12:0),c&&!t.pickingMode&&(this.activeTexture=t.gpuResourceCache.resourceForKey(this.capImageSource()),this.activeTexture||(this.activeTexture=t.gpuResourceCache.retrieveTexture(t.currentGlContext,this.capImageSource())),this.activeTexture&&this.activeTexture.bind(t)&&(a.enableVertexAttribArray(s.vertexTexCoordLocation),a.vertexAttribPointer(s.vertexTexCoordLocation,2,a.FLOAT,!1,i,12),this.scratchMatrix.setToIdentity(),this.scratchMatrix.multiplyByTextureTransform(this.activeTexture),s.loadTextureEnabled(a,!0),s.loadTextureUnit(a,a.TEXTURE0),s.loadTextureMatrix(a,this.scratchMatrix),s.loadModulateColor(a,t.pickingMode))),h&&!t.pickingMode&&(s.loadApplyLighting(a,!0),a.enableVertexAttribArray(s.normalVectorLocation),a.vertexAttribPointer(s.normalVectorLocation,3,a.FLOAT,!1,i,i-12)),a.vertexAttribPointer(s.vertexPointLocation,3,a.FLOAT,!1,i,0),a.drawArrays(a.TRIANGLES,0,f)},y.prototype.makeCapBufferWithNormals=function(){for(var t=this.currentData,e=t.capNormal,n=this.hasCapTexture()?5:3,r=n+3,i=t.capTriangles.length/n,o=t.capTriangles,a=new Float32Array(i*r),s=0,u=0;u<i;u++){for(var l=0;l<n;l++)a[s++]=o[u*n+l];a[s++]=e[0],a[s++]=e[1],a[s++]=e[2]}return a},y.prototype.drawSides=function(t,e){var n,r,i,o,a=t.currentGlContext,s=t.currentProgram,u=this.currentData,l=u.refreshBuffers,c=this.hasSideTextures(),h=this.activeAttributes.applyLighting,f=3+(c?2:0)+(h?3:0),p=4*f;o=0;for(var d=0;d<u.boundaryPoints.length;d++)o+=u.boundaryPoints[d].length/6-1;if(u.sidesVboCacheKey||(u.sidesVboCacheKey=t.gpuResourceCache.generateCacheKey()),!(n=t.gpuResourceCache.resourceForKey(u.sidesVboCacheKey))||l?(i=this.makeSidesBuffer(o),u.numSideVertices=i.length/f,n||(n=a.createBuffer()),t.gpuResourceCache.putResource(u.sidesVboCacheKey,n,4*i.length),a.bindBuffer(a.ARRAY_BUFFER,n),a.bufferData(a.ARRAY_BUFFER,i,a.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1)):a.bindBuffer(a.ARRAY_BUFFER,n),r=this.activeAttributes.interiorColor,a.depthMask(r.alpha*this.layer.opacity>=1||t.pickingMode),s.loadColor(a,t.pickingMode?e:r),s.loadOpacity(a,t.pickingMode?1:this.layer.opacity),c&&!t.pickingMode){h?(s.loadApplyLighting(a,!0),a.enableVertexAttribArray(s.normalVectorLocation)):s.loadApplyLighting(a,!1);for(var g=0;g<o;g++){var m=this.sideImageSource(g),y=t.gpuResourceCache.resourceForKey(m),v=6*g*p;m&&!y&&(y=t.gpuResourceCache.retrieveTexture(t.currentGlContext,m)),y&&y.bind(t)?(a.enableVertexAttribArray(s.vertexTexCoordLocation),a.vertexAttribPointer(s.vertexTexCoordLocation,2,a.FLOAT,!1,p,v+12),this.scratchMatrix.setToIdentity(),this.scratchMatrix.multiplyByTextureTransform(y),s.loadTextureEnabled(a,!0),s.loadTextureUnit(a,a.TEXTURE0),s.loadTextureMatrix(a,this.scratchMatrix)):(s.loadTextureEnabled(a,!1),a.disableVertexAttribArray(s.vertexTexCoordLocation)),h&&a.vertexAttribPointer(s.normalVectorLocation,3,a.FLOAT,!1,p,v+20),a.vertexAttribPointer(s.vertexPointLocation,3,a.FLOAT,!1,p,v),a.drawArrays(a.TRIANGLES,0,6)}}else s.loadTextureEnabled(a,!1),h&&!t.pickingMode?(s.loadApplyLighting(a,!0),a.enableVertexAttribArray(s.normalVectorLocation),a.vertexAttribPointer(s.normalVectorLocation,3,a.FLOAT,!1,p,p-12)):s.loadApplyLighting(a,!1),a.vertexAttribPointer(s.vertexPointLocation,3,a.FLOAT,!1,p,0),a.drawArrays(a.TRIANGLES,0,u.numSideVertices)},y.prototype.makeSidesBuffer=function(t){var e,n,r,i,o,a,s,u,l,c,h=this.currentData,f=this.hasSideTextures(),p=this.activeAttributes.applyLighting,m=3+(f?2:0)+(p?3:0);e=new Float32Array(2*t*3*m),n=0,r=new g(0,0,0),i=new g(0,0,0),o=new g(0,0,0),a=new g(0,0,0),f?(s=new d(0,1),u=new d(0,0),l=new d(1,1),c=new d(1,0)):s=u=l=c=null;for(var y=0;y<h.boundaryPoints.length;y++)for(var v,b=h.boundaryPoints[y],E=0;E<b.length-6;E+=6)r[0]=b[E],r[1]=b[E+1],r[2]=b[E+2],i[0]=b[E+3],i[1]=b[E+4],i[2]=b[E+5],o[0]=b[E+6],o[1]=b[E+7],o[2]=b[E+8],a[0]=b[E+9],a[1]=b[E+10],a[2]=b[E+11],v=p?g.computeTriangleNormal(r,i,o):null,this.addVertexToBuffer(r,s,v,e,n),n+=m,this.addVertexToBuffer(i,u,v,e,n),n+=m,this.addVertexToBuffer(o,l,v,e,n),n+=m,this.addVertexToBuffer(i,u,v,e,n),n+=m,this.addVertexToBuffer(a,c,v,e,n),n+=m,this.addVertexToBuffer(o,l,v,e,n),n+=m;return e},y.prototype.addVertexToBuffer=function(t,e,n,r,i){r[i++]=t[0],r[i++]=t[1],r[i++]=t[2],e&&(r[i++]=e[0],r[i++]=e[1]),n&&(r[i++]=n[0],r[i++]=n[1],r[i]=n[2])},y.prototype.drawOutline=function(t,e){var n,r,i,o,a,s=t.currentGlContext,u=t.currentProgram,l=this.currentData,c=l.refreshBuffers;u.loadTextureEnabled(s,!1),u.loadApplyLighting(s,!1),this.hasCapTexture()&&s.disableVertexAttribArray(u.vertexTexCoordLocation),this.activeAttributes.applyLighting&&s.disableVertexAttribArray(u.normalVectorLocation),l.boundaryVboCacheKeys||(this.currentData.boundaryVboCacheKeys=[]),this.applyMvpMatrixForOutline(t),u.loadTextureEnabled(s,!1),s.disableVertexAttribArray(u.vertexTexCoordLocation);for(var h=0;h<l.boundaryPoints.length;h++)n=l.boundaryPoints[h].length/3,l.boundaryVboCacheKeys[h]||(l.boundaryVboCacheKeys[h]=t.gpuResourceCache.generateCacheKey()),(r=t.gpuResourceCache.resourceForKey(l.boundaryVboCacheKeys[h]))||(r=s.createBuffer(),t.gpuResourceCache.putResource(l.boundaryVboCacheKeys[h],r,12*n),c=!0),s.bindBuffer(s.ARRAY_BUFFER,r),c&&(s.bufferData(s.ARRAY_BUFFER,l.boundaryPoints[h],s.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1)),i=this.activeAttributes.outlineColor,s.depthMask(i.alpha*this.layer.opacity>=1||t.pickingMode),u.loadColor(s,t.pickingMode?e:i),u.loadOpacity(s,t.pickingMode?1:this.layer.opacity),s.lineWidth(this.activeAttributes.outlineWidth),this._extrude?(o=24,a=n/2):(o=12,a=n),s.vertexAttribPointer(u.vertexPointLocation,3,s.FLOAT,!1,o,0),s.drawArrays(s.LINE_STRIP,0,a),this.mustDrawVerticals(t)&&(s.vertexAttribPointer(u.vertexPointLocation,3,s.FLOAT,!1,0,0),s.drawArrays(s.LINES,0,n-2))},y.prototype.beginDrawing=function(t){var e=t.currentGlContext;this.activeAttributes.drawInterior&&e.disable(e.CULL_FACE),t.findAndBindProgram(n),e.enableVertexAttribArray(t.currentProgram.vertexPointLocation),!t.pickMode&&this.activeAttributes.applyLighting&&t.currentProgram.loadModelviewInverse(e,t.modelviewNormalTransform)},y.prototype.endDrawing=function(t){var e=t.currentGlContext;e.disableVertexAttribArray(t.currentProgram.vertexPointLocation),e.disableVertexAttribArray(t.currentProgram.normalVectorLocation),e.depthMask(!0),e.lineWidth(1),e.enable(e.CULL_FACE)},y})),i("shapes/SurfacePolyline",["../error/ArgumentError","../util/Logger","../shapes/ShapeAttributes","../shapes/SurfaceShape"],(function(t,e,n,r){"use strict";var i=function n(i,o){if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"SurfacePolyline","constructor","The specified locations array is null or undefined."));r.call(this,o),this._boundaries=i,this._stateId=n.stateId++,this._isInteriorInhibited=!0};return i.prototype=Object.create(r.prototype),Object.defineProperties(i.prototype,{boundaries:{get:function(){return this._boundaries},set:function(n){if(!Array.isArray(n))throw new t(e.logMessage(e.LEVEL_SEVERE,"SurfacePolyline","set boundaries","The specified value is not an array."));this.resetBoundaries(),this._boundaries=n,this._stateId=i.stateId++,this.stateKeyInvalid=!0}}}),i.stateId=Number.MIN_SAFE_INTEGER,i.staticStateKey=function(t){return r.staticStateKey(t)+" pl "+t._stateId},i.prototype.computeStateKey=function(){return i.staticStateKey(this)},i.prototype.computeBoundaries=function(t){},i.prototype.getReferencePosition=function(){return this.boundaries.length>1?this.boundaries[0]:null},i.prototype.moveTo=function(t,e){this.boundaries=this.computeShiftedLocations(t,this.getReferencePosition(),e,this._boundaries)},i})),i("formats/geojson/GeoJSONParser",["../../error/ArgumentError","../../util/Color","./GeoJSONConstants","./GeoJSONCRS","./GeoJSONFeature","./GeoJSONFeatureCollection","./GeoJSONGeometry","./GeoJSONGeometryCollection","./GeoJSONGeometryLineString","./GeoJSONGeometryMultiLineString","./GeoJSONGeometryMultiPoint","./GeoJSONGeometryMultiPolygon","./GeoJSONGeometryPoint","./GeoJSONGeometryPolygon","../../geom/Location","../../util/Logger","../../shapes/Placemark","../../shapes/PlacemarkAttributes","../../shapes/Polygon","../../geom/Position","../../util/proj4-src","../../layer/RenderableLayer","../../shapes/ShapeAttributes","../../shapes/SurfacePolygon","../../shapes/SurfacePolyline"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w,S,x){"use strict";var T=function(e){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","constructor","missingDataSource"));this._dataSource=e,this._geoJSONObject=null,this._geoJSONType=null,this._crs=null,this._layer=null,this._parserCompletionCallback=null,this._shapeConfigurationCallback=this.defaultShapeConfigurationCallback,this.defaultPlacemarkAttributes=new y(null),this.defaultShapeAttributes=new w(null),this.setProj4jsAliases()};return Object.defineProperties(T.prototype,{dataSource:{get:function(){return this._dataSource}},geoJSONObject:{get:function(){return this._geoJSONObject}},geoJSONType:{get:function(){return this._geoJSONType}},crs:{get:function(){return this._crs}},layer:{get:function(){return this._layer}},parserCompletionCallback:{get:function(){return this._parserCompletionCallback}},shapeConfigurationCallback:{get:function(){return this._shapeConfigurationCallback}}}),T.prototype.load=function(t,e,n){t&&(this._parserCompletionCallback=t),e&&(this._shapeConfigurationCallback=e),this._layer=n||new _;var r=typeof this.dataSource;if("string"===r){var i=T.tryParseJSONString(this.dataSource);null!==i?this.handle(i):this.requestUrl(this.dataSource)}else"object"===r?this.handle(this.dataSource):g.logMessage(g.LEVEL_SEVERE,"GeoJSON","load","Unsupported data source type: "+r)},T.prototype.defaultShapeConfigurationCallback=function(t,e){var n={},r=e.name||e.Name||e.NAME;return r&&(n.name=r),t.isPointType()||t.isMultiPointType()?n.attributes=this.defaultPlacemarkAttributes:(t.isLineStringType()||t.isMultiLineStringType()||t.isPolygonType()||t.isMultiPolygonType())&&(n.attributes=this.defaultShapeAttributes),n},T.prototype.requestUrl=function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="text",e.onreadystatechange=function(){4===e.readyState&&(200===e.status?this.handle(T.tryParseJSONString(e.response)):g.log(g.LEVEL_WARNING,"GeoJSON retrieval failed ("+e.statusText+"): "+t))}.bind(this),e.onerror=function(){g.log(g.LEVEL_WARNING,"GeoJSON retrieval failed: "+t)},e.ontimeout=function(){g.log(g.LEVEL_WARNING,"GeoJSON retrieval timed out: "+t)},e.send(null)},T.prototype.handle=function(e){if(e||g.logMessage(g.LEVEL_SEVERE,"GeoJSON","handle","Invalid GeoJSON object"),this._geoJSONObject=e,"[object Array]"===Object.prototype.toString.call(this.geoJSONObject))throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","handle","invalidGeoJSONObjectLength"));if(!this.geoJSONObject.hasOwnProperty(n.FIELD_TYPE))throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","handle","missingGeoJSONType"));this.setGeoJSONType(),this.setGeoJSONCRS(),this._parserCompletionCallback&&"function"==typeof this._parserCompletionCallback&&this._parserCompletionCallback(this.layer)},T.prototype.setGeoJSONCRS=function(){if(this.geoJSONObject[n.FIELD_CRS]){this._crs=new r(this.geoJSONObject[n.FIELD_CRS][n.FIELD_TYPE],this.geoJSONObject[n.FIELD_CRS][n.FIELD_PROPERTIES]);var t=function(){this.addRenderablesForGeoJSON(this.layer)}.bind(this);this.crs.setCRSString(t)}else this.addRenderablesForGeoJSON(this.layer)},T.prototype.addRenderablesForGeoJSON=function(e){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForGeoJSON","missingLayer"));switch(this.geoJSONType){case n.TYPE_FEATURE:var r=new i(this.geoJSONObject[n.FIELD_GEOMETRY],this.geoJSONObject[n.FIELD_PROPERTIES],this.geoJSONObject[n.FIELD_ID],this.geoJSONObject[n.FIELD_BBOX]);this.addRenderablesForFeature(e,r);break;case n.TYPE_FEATURE_COLLECTION:var a=new o(this.geoJSONObject[n.FIELD_FEATURES],this.geoJSONObject[n.FIELD_PROPERTIES],this.geoJSONObject[n.FIELD_BBOX]);this.addRenderablesForFeatureCollection(e,a);break;case n.TYPE_GEOMETRY_COLLECTION:var u=new s(this.geoJSONObject[n.FIELD_GEOMETRIES],this.geoJSONObject[n.FIELD_BBOX]);this.addRenderablesForGeometryCollection(e,u,null);break;default:this.addRenderablesForGeometry(e,this.geoJSONObject,null)}},T.prototype.addRenderablesForGeometry=function(e,r,i){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForGeometry","missingLayer"));if(!r)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForGeometry","missingGeometry"));switch(r[n.FIELD_TYPE]){case n.TYPE_POINT:var o=new f(r[n.FIELD_COORDINATES],r[n.FIELD_TYPE],r[n.FIELD_BBOX]);this.addRenderablesForPoint(e,o,i||null);break;case n.TYPE_MULTI_POINT:var a=new c(r[n.FIELD_COORDINATES],r[n.FIELD_TYPE],r[n.FIELD_BBOX]);this.addRenderablesForMultiPoint(e,a,i||null);break;case n.TYPE_LINE_STRING:var s=new u(r[n.FIELD_COORDINATES],r[n.FIELD_TYPE],r[n.FIELD_BBOX]);this.addRenderablesForLineString(e,s,i||null);break;case n.TYPE_MULTI_LINE_STRING:var d=new l(r[n.FIELD_COORDINATES],r[n.FIELD_TYPE],r[n.FIELD_BBOX]);this.addRenderablesForMultiLineString(e,d,i||null);break;case n.TYPE_POLYGON:var m=new p(r[n.FIELD_COORDINATES],r[n.FIELD_TYPE],r[n.FIELD_BBOX]);this.addRenderablesForPolygon(e,m,i||null);break;case n.TYPE_MULTI_POLYGON:var y=new h(r[n.FIELD_COORDINATES],r[n.FIELD_TYPE],r[n.FIELD_BBOX]);this.addRenderablesForMultiPolygon(e,y,i||null)}},T.prototype.addRenderablesForPoint=function(e,n,r){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForPoint","missingLayer"));if(!n)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForPoint","missingGeometry"));var i=this.shapeConfigurationCallback(n,r);if(!this.crs||this.crs.isCRSSupported()){var o=n.coordinates[0],a=n.coordinates[1],s=n.coordinates[2]?n.coordinates[2]:0,u=this.getReprojectedIfRequired(a,o,this.crs),l=new b(u[1],u[0],s),c=new m(l,!1,i&&i.attributes?i.attributes:null);c.altitudeMode=WorldWind.RELATIVE_TO_GROUND,i&&i.name&&(c.label=i.name),i.highlightAttributes&&(c.highlightAttributes=i.highlightAttributes),i&&i.pickDelegate&&(c.pickDelegate=i.pickDelegate),i&&i.userProperties&&(c.userProperties=i.userProperties),i&&i.timeRange&&(c.timeRange=i.timeRange),e.addRenderable(c)}},T.prototype.addRenderablesForMultiPoint=function(e,n,r){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForMultiPoint","missingLayer"));if(!n)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForMultiPoint","missingGeometry"));var i=this.shapeConfigurationCallback(n,r);if(!this.crs||this.crs.isCRSSupported())for(var o=0,a=n.coordinates.length;o<a;o+=1){var s=n.coordinates[o][0],u=n.coordinates[o][1],l=n.coordinates[o][2]?n.coordinates[o][2]:0,c=this.getReprojectedIfRequired(u,s,this.crs),h=new b(c[1],c[0],l),f=new m(h,!1,i&&i.attributes?i.attributes:null);f.altitudeMode=WorldWind.RELATIVE_TO_GROUND,i&&i.name&&(f.label=i.name),i.highlightAttributes&&(f.highlightAttributes=i.highlightAttributes),i&&i.pickDelegate&&(f.pickDelegate=i.pickDelegate),i&&i.userProperties&&(f.userProperties=i.userProperties),i&&i.timeRange&&(f.timeRange=i.timeRange),e.addRenderable(f)}},T.prototype.addRenderablesForLineString=function(e,n,r){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForLineString","missingLayer"));if(!n)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForLineString","missingGeometry"));var i=this.shapeConfigurationCallback(n,r);if(!this.crs||this.crs.isCRSSupported()){for(var o=[],a=0,s=n.coordinates;a<s.length;a++){var u=s[a][0],l=s[a][1],c=this.getReprojectedIfRequired(l,u,this.crs),h=new d(c[1],c[0]);o.push(h)}var f;f=new x(o,i&&i.attributes?i.attributes:null),i.highlightAttributes&&(f.highlightAttributes=i.highlightAttributes),i&&i.name&&(f.displayName=i.name),i&&i.pickDelegate&&(f.pickDelegate=i.pickDelegate),i&&i.userProperties&&(f.userProperties=i.userProperties),i&&i.timeRange&&(f.timeRange=i.timeRange),e.addRenderable(f)}},T.prototype.addRenderablesForMultiLineString=function(e,n,r){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForMultiLineString","missingLayer"));if(!n)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForMultiLineString","missingGeometry"));var i=this.shapeConfigurationCallback(n,r);if(!this.crs||this.crs.isCRSSupported())for(var o=0,a=n.coordinates;o<a.length;o++){for(var s=[],u=0,l=a[o];u<l.length;u++){var c=l[u][0],h=l[u][1],f=this.getReprojectedIfRequired(h,c,this.crs),p=new d(f[1],f[0]);s.push(p)}var m;m=new x(s,i&&i.attributes?i.attributes:null),i.highlightAttributes&&(m.highlightAttributes=i.highlightAttributes),i&&i.name&&(m.displayName=i.name),i&&i.pickDelegate&&(m.pickDelegate=i.pickDelegate),i&&i.userProperties&&(m.userProperties=i.userProperties),i&&i.timeRange&&(m.timeRange=i.timeRange),e.addRenderable(m)}},T.prototype.addRenderablesForPolygon=function(e,n,r){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForPolygon","missingLayer"));if(!n)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForPolygon","missingGeometry"));var i=this.shapeConfigurationCallback(n,r);if(!this.crs||this.crs.isCRSSupported()){for(var o=[],a=0,s=n.coordinates;a<s.length;a++){for(var u=[],l=0,c=s[a];l<c.length;l++){var h=c[l][0],f=c[l][1],p=this.getReprojectedIfRequired(f,h,this.crs),m=new d(p[1],p[0]);u.push(m)}o.push(u)}var y;y=new S(o,i&&i.attributes?i.attributes:null),i.highlightAttributes&&(y.highlightAttributes=i.highlightAttributes),i&&i.name&&(y.displayName=i.name),i&&i.pickDelegate&&(y.pickDelegate=i.pickDelegate),i&&i.userProperties&&(y.userProperties=i.userProperties),i&&i.timeRange&&(y.timeRange=i.timeRange),e.addRenderable(y)}},T.prototype.addRenderablesForMultiPolygon=function(e,n,r){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForMultiPolygon","missingLayer"));if(!n)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForMultiPolygon","missingGeometry"));var i=this.shapeConfigurationCallback(n,r);if(!this.crs||this.crs.isCRSSupported())for(var o=0,a=n.coordinates;o<a.length;o++){for(var s=[],u=0;u<a[o].length;u++){for(var l=[],c=0,h=a[o][u];c<h.length;c++){var f=h[c][0],p=h[c][1],m=this.getReprojectedIfRequired(p,f,this.crs),y=new d(m[1],m[0]);l.push(y)}s.push(l)}var v;v=new S(s,i&&i.attributes?i.attributes:null),i.highlightAttributes&&(v.highlightAttributes=i.highlightAttributes),i&&i.name&&(v.displayName=i.name),i&&i.pickDelegate&&(v.pickDelegate=i.pickDelegate),i&&i.userProperties&&(v.userProperties=i.userProperties),i&&i.timeRange&&(v.timeRange=i.timeRange),e.addRenderable(v)}},T.prototype.addRenderablesForGeometryCollection=function(e,r,i){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForGeometryCollection","missingLayer"));if(!r)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForGeometryCollection","missingGeometryCollection"));for(var o=0,a=r.geometries;o<a.length;o++)a[o].hasOwnProperty(n.FIELD_TYPE)&&this.addRenderablesForGeometry(e,a[o],i)},T.prototype.addRenderablesForFeature=function(e,r){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForFeature","missingLayer"));if(!r)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForFeature","missingFeature"));if(r.geometry.type===n.TYPE_GEOMETRY_COLLECTION){var i=new s(r.geometry.geometries,r.bbox);this.addRenderablesForGeometryCollection(e,i,r.properties)}else this.addRenderablesForGeometry(e,r.geometry,r.properties)},T.prototype.addRenderablesForFeatureCollection=function(e,r){if(!e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForFeatureCollection","missingLayer"));if(!r)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","addRenderablesForFeatureCollection","missingFeatureCollection"));if(r.features.length>0)for(var o=0;o<r.features.length;o++){var a=new i(r.features[o][n.FIELD_GEOMETRY],r.features[o][n.FIELD_PROPERTIES],r.features[o][n.FIELD_ID],r.features[o][n.FIELD_BBOX]);this.addRenderablesForFeature(e,a)}},T.prototype.setGeoJSONType=function(){switch(this.geoJSONObject[n.FIELD_TYPE]){case n.TYPE_POINT:this._geoJSONType=n.TYPE_POINT;break;case n.TYPE_MULTI_POINT:this._geoJSONType=n.TYPE_MULTI_POINT;break;case n.TYPE_LINE_STRING:this._geoJSONType=n.TYPE_LINE_STRING;break;case n.TYPE_MULTI_LINE_STRING:this._geoJSONType=n.TYPE_MULTI_LINE_STRING;break;case n.TYPE_POLYGON:this._geoJSONType=n.TYPE_POLYGON;break;case n.TYPE_MULTI_POLYGON:this._geoJSONType=n.TYPE_MULTI_POLYGON;break;case n.TYPE_GEOMETRY_COLLECTION:this._geoJSONType=n.TYPE_GEOMETRY_COLLECTION;break;case n.TYPE_FEATURE:this._geoJSONType=n.TYPE_FEATURE;break;case n.TYPE_FEATURE_COLLECTION:this._geoJSONType=n.TYPE_FEATURE_COLLECTION;break;default:throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","setGeoJSONType","invalidGeoJSONType"))}},T.prototype.getReprojectedIfRequired=function(e,r,i){if(!e&&0!==e)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","getReprojectedIfRequired","missingLatitude"));if(!r&&0!==r)throw new t(g.logMessage(g.LEVEL_SEVERE,"GeoJSON","getReprojectedIfRequired","missingLongitude"));return!i||i.isDefault()?[r,e]:E(i.projectionString,n.EPSG4326_CRS,[r,e])},T.prototype.setProj4jsAliases=function(){E.defs([["urn:ogc:def:crs:EPSG::4326",E.defs("EPSG:4326")],["urn:ogc:def:crs:OGC:1.3:CRS84",E.defs("EPSG:4326")],["urn:ogc:def:crs:EPSG::3857",E.defs("EPSG:3857")]])},T.tryParseJSONString=function(t){try{return JSON.parse(t)}catch(t){return null}},T})),i("projections/ProjectionEquirectangular",["../geom/Angle","../error/ArgumentError","../projections/GeographicProjection","../util/Logger","../geom/Vec3"],(function(t,e,n,r,i){"use strict";var o=function(){n.call(this,"Equirectangular",!0,null)};return o.prototype=Object.create(n.prototype),Object.defineProperties(o.prototype,{stateKey:{get:function(){return"projection equirectangular "}}}),o.prototype.geographicToCartesian=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionEquirectangular","geographicToCartesian","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionEquirectangular","geographicToCartesian","missingResult"));return u[0]=n.equatorialRadius*o*t.DEGREES_TO_RADIANS+(s?s[0]:0),u[1]=n.equatorialRadius*i*t.DEGREES_TO_RADIANS,u[2]=a,u},o.prototype.geographicToCartesianGrid=function(n,o,a,s,u,l,c,h){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionEquirectangular","geographicToCartesianGrid","missingGlobe"));if(!o)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionEquirectangular","geographicToCartesianGrid","missingSector"));if(!u||u.length<a*s)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionEquirectangular","geographicToCartesianGrid","The specified elevations array is null, undefined or insufficient length"));if(!h)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionEquirectangular","geographicToCartesianGrid","missingResult"));var f,p,d,g,m,y=n.equatorialRadius,v=o.minLatitude*t.DEGREES_TO_RADIANS,b=o.maxLatitude*t.DEGREES_TO_RADIANS,E=o.minLongitude*t.DEGREES_TO_RADIANS,_=o.maxLongitude*t.DEGREES_TO_RADIANS,w=(b-v)/(a>1?a-1:1),S=(_-E)/(s>1?s-1:1),x=l||new i(0,0,0),T=c?c[0]:0,O=0,C=0;for(f=0,d=v;f<a;f++,d+=w)for(f===a-1&&(d=b),m=y*d-x[1],p=0,g=E;p<s;p++,g+=S)p===s-1&&(g=_),h[C++]=y*g-x[0]+T,h[C++]=m,h[C++]=u[O++]-x[2];return h},o.prototype.cartesianToGeographic=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionEquirectangular","cartesianToGeographic","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionEquirectangular","cartesianToGeographic","missingResult"));return u.latitude=o/n.equatorialRadius*t.RADIANS_TO_DEGREES,u.longitude=(i-(s?s[0]:0))/n.equatorialRadius*t.RADIANS_TO_DEGREES,u.altitude=a,u},o})),i("globe/Globe2D",["../globe/ElevationModel","../globe/Globe","../projections/ProjectionEquirectangular"],(function(t,e,n){"use strict";var r=function(){e.call(this,new t,new n)};return r.prototype=Object.create(e.prototype),r})),i("util/GoToAnimator",["../geom/Location","../util/Logger","../geom/Position","../geom/Vec3"],(function(t,e,n,r){"use strict";var i=function(t){if(!t)throw new ArgumentError(e.logMessage(e.LEVEL_SEVERE,"GoToAnimator","constructor","missingWorldWindow"));this.wwd=t,this.animationFrequency=20,this.travelTime=3e3,this.cancelled=!1};return i.prototype.cancel=function(){this.cancelled=!0},i.prototype.goTo=function(i,o){if(!i)throw new ArgumentError(e.logMessage(e.LEVEL_SEVERE,"GoToAnimator","goTo","missingPosition"));this.completionCallback=o,this.cancelled=!1,this.wwd.navigator.lookAtLocation.altitude=i.altitude||0,this.targetPosition=new n(i.latitude,i.longitude,this.wwd.navigator.range),this.startPosition=new n(this.wwd.navigator.lookAtLocation.latitude,this.wwd.navigator.lookAtLocation.longitude,this.wwd.navigator.range),this.startTime=Date.now();var a,s=this.travelTime,u=t.greatCircleDistance(this.startPosition,this.targetPosition),l=this.wwd.globe.computePointFromLocation(this.startPosition.latitude,this.startPosition.longitude,new r(0,0,0)),c=this.wwd.globe.computePointFromLocation(this.targetPosition.latitude,this.targetPosition.longitude,new r(0,0,0));this.maxAltitude=l.distanceTo(c);var h=this.wwd.pixelSizeAtDistance(this.startPosition.altitude)*this.wwd.canvas.clientWidth/this.wwd.globe.equatorialRadius;u<=2*h&&(this.maxAltitude=this.startPosition.altitude),this.maxAltitudeReachedTime=this.maxAltitude<=this.wwd.navigator.range?Date.now():null,this.maxAltitude>this.startPosition.altitude?(a=Math.max(0,this.maxAltitude-this.startPosition.altitude),a+=Math.abs(this.targetPosition.altitude-this.maxAltitude)):a=Math.abs(this.targetPosition.altitude-this.startPosition.altitude);var f=Math.max(u,a/this.wwd.globe.equatorialRadius);if(0!==f){f<2*h&&(s=Math.min(f/h*this.travelTime,this.travelTime)),s=Math.max(1,s),this.panVelocity=u/s,this.rangeVelocity=a/s;var p=this;setTimeout((function t(){return p.cancelled?void(p.completionCallback&&p.completionCallback(p)):void(p.update()?setTimeout(t,p.animationFrequency):p.completionCallback&&p.completionCallback(p))}),this.animationFrequency)}},i.prototype.update=function(){var t=new n(this.wwd.navigator.lookAtLocation.latitude,this.wwd.navigator.lookAtLocation.longitude,this.wwd.navigator.range),e=this.updateRange(t);return e=this.updateLocation(t)||e,this.wwd.redraw(),e},i.prototype.updateRange=function(t){var e,n,r=!1;return this.maxAltitudeReachedTime?(n=Date.now()-this.maxAltitudeReachedTime,this.maxAltitude>this.targetPosition.altitude?(e=this.maxAltitude-this.rangeVelocity*n,e=Math.max(e,this.targetPosition.altitude)):(e=this.maxAltitude+this.rangeVelocity*n,e=Math.min(e,this.targetPosition.altitude)),this.wwd.navigator.range=e,r=Math.abs(this.wwd.navigator.range-this.targetPosition.altitude)>1):(n=Date.now()-this.startTime,e=Math.min(this.startPosition.altitude+this.rangeVelocity*n,this.maxAltitude),Math.abs(this.wwd.navigator.range-e)<1&&(this.maxAltitudeReachedTime=Date.now()),this.wwd.navigator.range=e,r=!0),r},i.prototype.updateLocation=function(e){var n=Date.now()-this.startTime,r=t.greatCircleDistance(this.startPosition,e),i=t.greatCircleDistance(e,this.targetPosition),o=t.greatCircleAzimuth(e,this.targetPosition),a=this.panVelocity*n,s=Math.min(a-r,i),u=t.greatCircleLocation(e,o,s,new t(0,0)),l=!1;return this.wwd.navigator.lookAtLocation.latitude=u.latitude,this.wwd.navigator.lookAtLocation.longitude=u.longitude,s<1/this.wwd.globe.equatorialRadius&&(l=!0),!l},i})),i("shaders/GridParticleProgram",["../error/ArgumentError","./GpuProgram","../util/Logger"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t,"attribute vec2 vertexPosition;\nuniform mediump int drawMode;\nuniform sampler2D simParticleSampler;\nuniform float simTextureDimension;\nuniform vec4 bbox;\nvarying vec2 texureCoord;\nconst int MODE_TEX_COPY_FADE = 0;\nconst int MODE_DRAW_PARTICLES = 1;\nconst vec2 bitEnc = vec2(1.0, 255.0);\nconst vec2 bitDec = 1.0 / bitEnc;\nvec2 decodePositionFromRGBA(const vec4 color) {\n   vec4 roundedColor = floor(color * 255.0 + 0.5) / 255.0;\n   float x = dot(roundedColor.rg, bitDec);\n   float y = dot(roundedColor.ba, bitDec);\n   return vec2(x, y);\n}\nvoid main() {\n   if (drawMode == MODE_TEX_COPY_FADE) {\n       texureCoord = vertexPosition;\n       gl_Position = vec4(1.0 - 2.0 * vertexPosition, 0, 1);\n   }\n   else {\n       float row = vertexPosition.x / simTextureDimension;\n       vec2 uv = vec2(fract(row), floor(row) / simTextureDimension);\n       vec4 color = texture2D(simParticleSampler, uv);\n       vec2 pos = decodePositionFromRGBA(color);\n       texureCoord = bbox.xy + pos * (bbox.zw - bbox.xy);       gl_Position = vec4((2.0 * pos.x - 1.0), (2.0 * pos.y - 1.0), 0.0, 1.0);\n       gl_PointSize = 1.0;\n   }\n}","precision mediump float;\nuniform sampler2D tileOrColorsSampler;\nuniform mediump int drawMode;\nuniform float fadeOpacity;\nuniform sampler2D gridSampler;\nuniform vec4 gridMinMax;\nvarying vec2 texureCoord;\nconst int MODE_TEX_COPY_FADE = 0;\nconst int MODE_DRAW_PARTICLES = 1;\nvoid main() {\n   if (drawMode == MODE_TEX_COPY_FADE) {\n       vec4 color = texture2D(tileOrColorsSampler, 1.0 - texureCoord);\n       gl_FragColor = vec4(floor(255.0 * color * fadeOpacity) / 255.0);\n   }\n   else {\n       vec2 gridVector = mix(gridMinMax.xy, gridMinMax.zw, texture2D(gridSampler, texureCoord).rg);\n       float normalizedDistance = length(gridVector) / length(gridMinMax.zw);\n       vec2 textCoord = vec2(fract(16.0 * normalizedDistance), floor(16.0 * normalizedDistance) / 16.0);\n       gl_FragColor = texture2D(tileOrColorsSampler, textCoord);\n   }\n}",["vertexPosition"]),this.vertexPositionLocation=this.attributeLocation(t,"vertexPosition"),this.simParticleSamplerLocation=this.uniformLocation(t,"simParticleSampler"),this.simTextureDimensionLocation=this.uniformLocation(t,"simTextureDimension"),this.drawModeLocation=this.uniformLocation(t,"drawMode"),this.tileOrColorsSamplerLocation=this.uniformLocation(t,"tileOrColorsSampler"),this.fadeOpacityLocation=this.uniformLocation(t,"fadeOpacity"),this.gridSamplerLocation=this.uniformLocation(t,"gridSampler"),this.gridMinMaxLocation=this.uniformLocation(t,"gridMinMax"),this.bboxLocation=this.uniformLocation(t,"bbox"),this.MODE_TEX_COPY_FADE=0,this.MODE_DRAW_PARTICLES=1};return r.key="WorldWindGpuGridParticleProgram",(r.prototype=Object.create(e.prototype)).loadSimParticleSamper=function(t,e){t.uniform1i(this.simParticleSamplerLocation,e-t.TEXTURE0)},r.prototype.loadSimTextureDimension=function(e,r){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleProgram","loadSimTextureDimension","missing dimension"));e.uniform1f(this.simTextureDimensionLocation,r)},r.prototype.loadDrawMode=function(t,e){t.uniform1i(this.drawModeLocation,e)},r.prototype.loadTileOrColorsSampler=function(t,e){t.uniform1i(this.tileOrColorsSamplerLocation,e-t.TEXTURE0)},r.prototype.loadFadeOpacity=function(e,r){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleProgram","loadFadeOpacity","missing fadeOpacity"));e.uniform1f(this.fadeOpacityLocation,r)},r.prototype.loadGridSampler=function(t,e){t.uniform1i(this.gridSamplerLocation,e-t.TEXTURE0)},r.prototype.loadGridMinMax=function(e,r,i,o,a){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleProgram","loadGridMinMax","missing uMin"));if(null==i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleProgram","loadGridMinMax","missing vMin"));if(null==o)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleProgram","loadGridMinMax","missing uMax"));if(null==a)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleProgram","loadGridMinMax","missing vMax"));e.uniform4f(this.gridMinMaxLocation,r,i,o,a)},r.prototype.loadBbox=function(e,r){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleProgram","loadBbox","missing bbox"));e.uniform4fv(this.bboxLocation,r)},r})),i("shaders/GridParticleSimProgram",["../error/ArgumentError","./GpuProgram","../util/Logger"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t,"attribute vec2 vertexPosition;\nvarying vec2 texureCoord;\nvoid main() {\n    texureCoord = vertexPosition;\n    gl_Position = vec4(1.0 - 2.0 * vertexPosition, 0, 1);\n}","#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D particleSampler;\nuniform sampler2D gridSampler;\nuniform vec2 gridDimensions;\nuniform vec4 gridMinMax;\nuniform float randSeed;\nuniform float speedFactor;\nuniform float dropRate;\nuniform float dropRateMultiplier;\nuniform vec4 bbox;\nvarying vec2 texureCoord;\nconst vec2 bitEnc = vec2(1.0, 255.0);\nconst vec2 bitDec = 1.0 / bitEnc;\nconst vec3 rand_constants = vec3(12.9898, 78.233, 4375.85453);\nfloat rand(const vec2 co) {\n   float t = dot(rand_constants.xy, co);\n   return fract(sin(t) * (rand_constants.z + t));\n}\nvec2 lookupGridVector(const vec2 uv) {\n   vec2 px = 1.0 / gridDimensions;\n   vec2 vc = (floor(uv * gridDimensions)) * px;\n   vec2 f = fract(uv * gridDimensions);\n   vec2 tl = texture2D(gridSampler, vc).rg;\n   vec2 tr = texture2D(gridSampler, vc + vec2(px.x, 0)).rg;\n   vec2 bl = texture2D(gridSampler, vc + vec2(0, px.y)).rg;\n   vec2 br = texture2D(gridSampler, vc + px).rg;\n   return mix(mix(tl, tr, f.x), mix(bl, br, f.x), f.y);\n}\nvec2 decodePositionFromRGBA(const vec4 color) {\n   vec4 rounded_color = floor(color * 255.0 + 0.5) / 255.0;\n   float x = dot(rounded_color.rg, bitDec);\n   float y = dot(rounded_color.ba, bitDec);\n   return vec2(x, y);\n}\nvec4 encodePositionToRGBA(const vec2 pos) {\n   vec2 rg = bitEnc * pos.x;\n   rg = fract(rg);\n   rg -= rg.yy * vec2(1.0 / 255.0, 0.0);\n   vec2 ba = bitEnc * pos.y;\n   ba = fract(ba);\n   ba -= ba.yy * vec2(1.0 / 255.0, 0.0);\n   return vec4(rg, ba);\n}\nvoid main() {\n   vec4 color = texture2D(particleSampler, texureCoord);\n   vec2 pos = decodePositionFromRGBA(color);\n   vec2 global_pos = bbox.xy + pos * (bbox.zw - bbox.xy);\n   vec2 normalizedGridVector = lookupGridVector(global_pos);\n   vec2 gridVector = mix(gridMinMax.xy, gridMinMax.zw, normalizedGridVector);\n   float normalizedDistance = length(gridVector) / length(gridMinMax.zw);\n   float distortion = max(cos(radians(global_pos.y * 180.0 - 90.0)), 0.00001);\n   float speedReduction = 0.0001;\n   vec2 offset = vec2(gridVector.x / distortion, -gridVector.y) * speedReduction * speedFactor;\n   pos = fract(1.0 + pos + offset);\n   float dropRating = dropRate + normalizedDistance * dropRateMultiplier;\n   vec2 seed = (pos + texureCoord) * randSeed;\n   float retain = step(dropRating, rand(seed));\n   vec2 randomPos = vec2(rand(seed + 1.3), 1.0 - rand(seed + 2.1));\n   pos = mix(pos, randomPos, 1.0 - retain);\n    gl_FragColor = encodePositionToRGBA(pos);\n}",["vertexPosition"]),this.vertexPointLocation=this.attributeLocation(t,"vertexPosition"),this.particleSamplerLocation=this.uniformLocation(t,"particleSampler"),this.gridSamplerLocation=this.uniformLocation(t,"gridSampler"),this.gridDimensionsLocation=this.uniformLocation(t,"gridDimensions"),this.gridMinMaxLocation=this.uniformLocation(t,"gridMinMax"),this.randSeedLocation=this.uniformLocation(t,"randSeed"),this.speedFactorLocation=this.uniformLocation(t,"speedFactor"),this.dropRateLocation=this.uniformLocation(t,"dropRate"),this.dropRateMultiplierLocation=this.uniformLocation(t,"dropRateMultiplier"),this.bboxLocation=this.uniformLocation(t,"bbox")};return r.key="WorldWindGpuGridParticleSimProgram",(r.prototype=Object.create(e.prototype)).loadGridDimensions=function(e,r,i){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadGridDimensions","missing width"));if(null==i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadGridDimensions","missing height"));e.uniform2f(this.gridDimensionsLocation,r,i)},r.prototype.loadGridMinMax=function(e,r,i,o,a){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadGridMinMax","missing uMin"));if(null==i)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadGridMinMax","missing vMin"));if(null==o)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadGridMinMax","missing uMax"));if(null==a)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadGridMinMax","missing vMax"));e.uniform4f(this.gridMinMaxLocation,r,i,o,a)},r.prototype.loadRandSeed=function(e,r){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadRandSeed","missing seed"));e.uniform1f(this.randSeedLocation,r)},r.prototype.loadSpeedFactor=function(e,r){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadSpeedFactor","missing speedFactor"));e.uniform1f(this.speedFactorLocation,r)},r.prototype.loadDropRate=function(e,r){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadDropRate","missing dropRate"));e.uniform1f(this.dropRateLocation,r)},r.prototype.loadDropRateMultiplier=function(e,r){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadDropRateMultiplier","missing dropRateMultiplier"));e.uniform1f(this.dropRateMultiplierLocation,r)},r.prototype.loadBbox=function(e,r){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"GridParticleSimProgram","loadBbox","missing bbox"));e.uniform4fv(this.bboxLocation,r)},r.prototype.loadGridSampler=function(t,e){t.uniform1i(this.gridSamplerLocation,e-t.TEXTURE0)},r.prototype.loadParticleSamper=function(t,e){t.uniform1i(this.particleSamplerLocation,e-t.TEXTURE0)},r})),i("layer/GriddedDataLayer",["../render/DoubleBufferedFbo","../shaders/GridParticleProgram","../shaders/GridParticleSimProgram","../geom/Location","../geom/Sector","./TiledImageLayer","../util/WWMath","../util/WWUtil"],(function(t,e,n,r,i,o,a,s){"use strict";var u=function(t,e){var n="GriddedDataLayer_"+s.guid();o.call(this,new i(-90,90,-180,180),new r(45,45),16,"image/png",n,256,256),this.displayName=t||"GriddedDataLayer",this._numParticles=16384,this._colors={0:"#3288bd",.1:"#66c2a5",.2:"#abdda4",.3:"#e6f598",.4:"#fee08b",.5:"#fdae61",.6:"#f46d43",1:"#d53e4f"},this.fadeOpacity=.996,this.speedFactor=.25,this.dropRate=.003,this.dropRateMultiplier=.01,this.waitTime=334,this.gridData=null,this.eyeAltitudeReduction=.15,this.eyeAltitudeReductionTrehshold=2e7,this.sector=new i(-90,90,-180,180),this._gridDataUrl=e,this._simTextureResolution=128,this._groundTextureResolution=2048,this._loadInProgress=!1,this._bbox=new Float32Array([0,0,1,1]),this._lastGroundFboClear=0,this._requiresFboClear=!1,this._simTextureKey=n+"_simTexture",this._simTextureKey1=n+"_simTexture1",this._simTextureKey2=n+"_simTexture2",this._colorsTextureKey=n+"_colorsTexture",this._gridTextureKey=n+"_gridTexure",this._groundTextureKey=n+"_groundTexure",this._groundTextureKey1=n+"_groundTexure1",this._groundTextureKey2=n+"_groundTexure2",this._particleVboKey=n+"_particleVbo",this._quadVboKey=n+"_quadVbo"};return u.prototype=Object.create(o.prototype),Object.defineProperties(u.prototype,{numParticles:{get:function(){return this._numParticles},set:function(t){this._simTextureResolution=Math.ceil(Math.sqrt(t)),this._numParticles=this._simTextureResolution*this._simTextureResolution;var e="GriddedDataLayer_"+s.guid();this._simTextureKey=e+"_simTexture",this._simTextureKey1=e+"_simTexture1",this._simTextureKey2=e+"_simTexture2",this._particleVboKey=e+"_particleVbo",this._requiresFboClear=!0}},colors:{get:function(){return this._colors},set:function(t){this._colors=t;var e="GriddedDataLayer_"+s.guid();this._colorsTextureKey=e+"_colorsTexture",this._requiresFboClear=!0}}}),u.prototype.doRender=function(t){if(t.redrawRequested=!0,t.terrain){if(!this.gridData)return void this.loadGridData(this._gridDataUrl);var e=!t.modelviewProjection.equals(this.lasTtMVP);if((this.currentTilesInvalid||e||t.globeStateKey!==this.lastGlobeStateKey)&&(this.currentTilesInvalid=!1,this.assembleTiles(t),t.globe.is2D()||(this.currentTiles=this.cullTilesHorizon(t,this.currentTiles)),e&&(this._requiresFboClear=!0)),this.lasTtMVP.copy(t.modelviewProjection),this.lastGlobeStateKey=t.globeStateKey,this.currentTiles.length>0){if(this._requiresFboClear&&this.clearGroundFbo(t),Date.now()-this._lastGroundFboClear<=this.waitTime)return;try{this.renderToTexture(t)}finally{this.restoreGLState(t)}t.surfaceTileRenderer.renderTiles(t,[this],this.opacity,t.surfaceOpacity>=1),t.frameStatistics.incrementImageTileCount(1),this.inCurrentFrame=!0}}},u.prototype.renderToTexture=function(t){var r=t.currentGlContext,i=t.gpuResourceCache,o=r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT|r.STENCIL_BUFFER_BIT,a=this._groundTextureKey,s=this._simTextureKey;1===t.globe.offset?(a=this._groundTextureKey1,s=this._simTextureKey1):-1===t.globe.offset&&(a=this._groundTextureKey2,s=this._simTextureKey2),r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.blendFunc(r.ONE,r.ZERO),r.activeTexture(r.TEXTURE0);var u=i.resourceForKey(this._gridTextureKey);u||(u=this.createGridTexture(t,this._gridTextureKey)),r.bindTexture(r.TEXTURE_2D,u),t.frameStatistics.incrementTextureLoadCount(1),r.activeTexture(r.TEXTURE1);var l=i.resourceForKey(s);l||(l=this.createSimFbo(t,s)),r.bindTexture(r.TEXTURE_2D,l.getSecondaryTexture()),t.frameStatistics.incrementTextureLoadCount(1);var c=i.resourceForKey(this._quadVboKey);c||(c=this.createQuadVbo(t));var h=i.resourceForKey(this._particleVboKey);h||(h=this.createParticleVbo(t));var f=i.resourceForKey(this._colorsTextureKey);f||(f=this.createColorsTexture(t,this._colorsTextureKey));var p=i.resourceForKey(a);p||(p=this.createGroundFbo(t,a));var d=this.getBoundingSector(this.currentTiles,this.sector),g=this.getBoundingBox(d,this._bbox),m=t.findAndBindProgram(e);r.enableVertexAttribArray(0),r.activeTexture(r.TEXTURE2),m.loadGridSampler(r,r.TEXTURE0),m.loadSimParticleSamper(r,r.TEXTURE1),m.loadTileOrColorsSampler(r,r.TEXTURE2),m.loadFadeOpacity(r,this.fadeOpacity),m.loadSimTextureDimension(r,this._simTextureResolution),m.loadGridMinMax(r,this.gridData.uMin,this.gridData.vMin,this.gridData.uMax,this.gridData.vMax),p.bindFbo(t),r.clear(o),r.viewport(0,0,p.width,p.height),m.loadDrawMode(r,m.MODE_TEX_COPY_FADE),r.bindBuffer(r.ARRAY_BUFFER,c),r.vertexAttribPointer(0,2,r.FLOAT,!1,0,0),r.bindTexture(r.TEXTURE_2D,p.getSecondaryTexture()),t.frameStatistics.incrementTextureLoadCount(1),r.drawArrays(r.TRIANGLES,0,6),r.bindBuffer(r.ARRAY_BUFFER,h),r.vertexAttribPointer(0,2,r.FLOAT,!1,0,0),m.loadDrawMode(r,m.MODE_DRAW_PARTICLES),m.loadBbox(r,g),r.bindTexture(r.TEXTURE_2D,f),t.frameStatistics.incrementTextureLoadCount(1),r.drawArrays(r.POINTS,0,this._numParticles),p.swap(),p.isCleared=!1,l.bindFbo(t),r.clear(o),r.viewport(0,0,this._simTextureResolution,this._simTextureResolution),r.disable(r.BLEND),m=t.findAndBindProgram(n),r.bindBuffer(r.ARRAY_BUFFER,c),r.enableVertexAttribArray(0),r.vertexAttribPointer(0,2,r.FLOAT,!1,0,0),m.loadGridDimensions(r,this.gridData.width,this.gridData.height),m.loadGridMinMax(r,this.gridData.uMin,this.gridData.vMin,this.gridData.uMax,this.gridData.vMax),m.loadRandSeed(r,Math.random()),m.loadSpeedFactor(r,this.speedFactor),m.loadDropRate(r,this.dropRate),m.loadDropRateMultiplier(r,this.dropRateMultiplier),m.loadGridSampler(r,r.TEXTURE0),m.loadParticleSamper(r,r.TEXTURE1),m.loadBbox(r,g),r.drawArrays(r.TRIANGLES,0,6),l.swap(),l.isCleared=!1},u.prototype.restoreGLState=function(t){var e=t.currentGlContext;e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,t.viewport.width,t.viewport.height),e.enable(e.DEPTH_TEST),e.enable(e.BLEND),e.activeTexture(e.TEXTURE0),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)},u.prototype.clearGroundFbo=function(t){this._requiresFboClear=!1;var e=this._groundTextureKey;1===t.globe.offset?e=this._groundTextureKey1:-1===t.globe.offset&&(e=this._groundTextureKey2);var n=t.gpuResourceCache.resourceForKey(e);if(n&&!n.isCleared){n.clearFbo(t);var r=t.currentGlContext;r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,t.viewport.width,t.viewport.height),this._lastGroundFboClear=Date.now()}},u.prototype.bind=function(t){var e=this._groundTextureKey;1===t.globe.offset?e=this._groundTextureKey1:-1===t.globe.offset&&(e=this._groundTextureKey2);var n=t.gpuResourceCache.resourceForKey(e);return!!n&&n.bind(t)},u.prototype.applyInternalTransform=function(t,e){},u.prototype.loadGridData=function(t){if(!this._loadInProgress&&t){var e=this,n=new XMLHttpRequest;n.onload=function(){if(e._loadInProgress=!1,!(n.status>=200&&n.status<300||0===n.status))throw new Error(n.statusText);var t=JSON.parse(n.response);e.gridData=e.createGridData(t)},n.onerror=function(){throw e._loadInProgress=!1,new Error("Unable to fetch data: "+t)},n.open("GET",t,!0),n.send(),this._loadInProgress=!0}},u.prototype.createGridData=function(t){for(var e=t[0],n=t[1],r=Math.floor(e.header.nx),i=Math.floor(e.header.ny),o=e.data[0],a=e.data[0],s=n.data[0],u=n.data[0],l=1,c=e.data.length;l<c;l++)o>e.data[l]&&(o=e.data[l]),a<e.data[l]&&(a=e.data[l]),s>n.data[l]&&(s=n.data[l]),u<n.data[l]&&(u=n.data[l]);for(var h=new Uint8Array(r*i*4),f=a-o,p=u-s,d=Math.floor(r/2),g=0;g<i;g++)for(var m=0;m<r;m++){var y=g*r+(m+d)%r;h[0+(l=4*(g*r+m))]=Math.floor(255*(e.data[y]-o)/f),h[l+1]=Math.floor(255*(n.data[y]-s)/p),h[l+2]=0,h[l+3]=255}return{width:r,height:i,uMin:o,uMax:a,vMin:s,vMax:u,data:h}},u.prototype.getBoundingSector=function(t,e){t.length&&e.copy(t[0].sector);for(var n=1,r=t.length;n<r;n++)e.union(t[n].sector);return e},u.prototype.getBoundingBox=function(t,e){return e[0]=(t.minLongitude+180)/360,e[1]=(t.maxLatitude-90)/-180,e[2]=(t.maxLongitude+180)/360,e[3]=(t.minLatitude-90)/-180,e},u.prototype.cullTilesHorizon=function(t,e){var n=[],r=t.eyePosition.altitude,i=1-this.eyeAltitudeReduction;r>this.eyeAltitudeReductionTrehshold&&(i=1);for(var o=a.horizonDistanceForGlobeRadius(t.globe.equatorialRadius,r*i),s=0,u=e.length;s<u;s++){var l=e[s];l.distanceTo(t.eyePoint)<=o&&n.push(l)}return n},u.prototype.retrieveTileImage=function(t,e,n){if(this.currentTilesInvalid=!0,!n){var r=document.createEvent("Event");r.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),window.dispatchEvent(r)}},u.prototype.addTile=function(t,e){e.fallbackTile=null,e.opacity=1,this.currentTiles.push(e)},u.prototype.createSimFbo=function(e,n){this._simTextureResolution=Math.ceil(Math.sqrt(this._numParticles)),this._numParticles=this._simTextureResolution*this._simTextureResolution;for(var r=new Uint8Array(4*this._numParticles),i=0,o=r.length;i<o;i++)r[i]=Math.floor(256*Math.random());var a={width:this._simTextureResolution,height:this._simTextureResolution},s=this.createTexture(e,r,a),u=this.createTexture(e,r,a),l=new t(e,s,u,a.width,a.height);return e.gpuResourceCache.putResource(n,l,l.size),l},u.prototype.createGroundFbo=function(e,n){var r=e.currentGlContext,i={width:this._groundTextureResolution,height:this._groundTextureResolution};i[r.TEXTURE_MIN_FILTER]=r.NEAREST,i[r.TEXTURE_MAG_FILTER]=r.NEAREST;var o=new Uint8Array(i.width*i.height*4),a=this.createTexture(e,o,i),s=this.createTexture(e,o,i),u=new t(e,a,s,i.width,i.height);return e.gpuResourceCache.putResource(n,u,u.size),u},u.prototype.createColorsTexture=function(t,e){var n=t.currentGlContext,r=this.createColorGradient(this._colors),i={width:16,height:16};i[n.TEXTURE_MIN_FILTER]=n.LINEAR,i[n.TEXTURE_MAG_FILTER]=n.LINEAR;var o=this.createTexture(t,r,i),a=i.width*i.height*4;return t.gpuResourceCache.putResource(e,o,a),o},u.prototype.createGridTexture=function(t,e){var n=t.currentGlContext,r=this.gridData.data,i={width:this.gridData.width,height:this.gridData.height};i[n.TEXTURE_MIN_FILTER]=n.LINEAR,i[n.TEXTURE_MAG_FILTER]=n.LINEAR;var o=this.createTexture(t,r,i),a=i.width*i.height*4;return t.gpuResourceCache.putResource(e,o,a),o},u.prototype.createParticleVbo=function(t){for(var e=t.currentGlContext,n=2*this._numParticles,r=new Float32Array(n),i=0,o=0;o<n;o+=2)r[o]=i++;var a=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),t.gpuResourceCache.putResource(this._particleVboKey,a,r.byteLength),a},u.prototype.createQuadVbo=function(t){var e=t.currentGlContext,n=new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),r=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),t.gpuResourceCache.putResource(this._quadVboKey,r,n.byteLength),r},u.prototype.createTexture=function(t,e,n){var r=t.currentGlContext,i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,n[r.TEXTURE_WRAP_S]||r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,n[r.TEXTURE_WRAP_T]||r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n[r.TEXTURE_MIN_FILTER]||r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,n[r.TEXTURE_MAG_FILTER]||r.NEAREST);var o=n.level||0,a=n.format||r.RGBA,s=n.type||r.UNSIGNED_BYTE,u=n.width,l=n.height;return r.texImage2D(r.TEXTURE_2D,o,a,u,l,0,a,s,e),i},u.prototype.createColorGradient=function(t){var e=document.createElement("canvas");e.width=256,e.height=1;for(var n=e.getContext("2d"),r=n.createLinearGradient(0,0,256,0),i=Object.keys(t),o=0,a=i.length;o<a;o++){var s=i[o];r.addColorStop(Number(s),t[s])}return n.fillStyle=r,n.fillRect(0,0,256,1),n.getImageData(0,0,256,1).data},u})),i("layer/heatmap/HeatMapTile",[],(function(){var t=function(t,e){this._data=t,this._sector=e.sector,this._canvas=this.createCanvas(e.width,e.height),this._width=e.width,this._height=e.height,this._intensityGradient=e.intensityGradient,this._radius=e.radius,this._incrementPerIntensity=e.incrementPerIntensity};return t.prototype.url=function(){return this.draw().toDataURL()},t.prototype.canvas=function(){return this.draw()},t.prototype.draw=function(){var t=[];for(var e in this._intensityGradient)this._intensityGradient.hasOwnProperty(e)&&t.push({shape:this.shape(e),min:e});for(var n,r=this._canvas.getContext("2d"),i=null,o=0;o<this._data.length;o++){var a=this._data[o];n=a.measure*this._incrementPerIntensity,r.globalAlpha=n,t.forEach((function(t){n>t.min&&(i=t.shape)})),r.drawImage(i,this.longitudeInSector(a,this._sector,this._width)-i.width/2,this._height-this.latitudeInSector(a,this._sector,this._height)-i.height/2)}return this._canvas},t.prototype.createCanvas=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n},t.prototype.shape=function(t){var e=this.createCanvas(2*this._radius,2*this._radius),n=e.getContext("2d"),r=n.createRadialGradient(this._radius,this._radius,0,this._radius,this._radius,this._radius);return r.addColorStop(0,"rgba(0,0,0,"+t+")"),r.addColorStop(1,"rgba(0,0,0,0)"),n.beginPath(),n.arc(this._radius,this._radius,this._radius,0,2*Math.PI,!0),n.fillStyle=r,n.fill(),n.closePath(),e},t.prototype.latitudeInSector=function(t,e,n){var r=e.maxLatitude-e.minLatitude,i=t.latitude-e.minLatitude;return Math.ceil(i/r*n)},t.prototype.longitudeInSector=function(t,e,n){var r=e.maxLongitude-e.minLongitude,i=t.longitude-e.minLongitude;return Math.ceil(i/r*n)},t})),i("layer/heatmap/HeatMapColoredTile",["./HeatMapTile"],(function(t){var e=function(e,n){t.call(this,e,n),this._extendedWidth=n.extendedWidth,this._extendedHeight=n.extendedHeight,this._gradient=this.gradient(n.intensityGradient)};return(e.prototype=Object.create(t.prototype)).draw=function(){var e=t.prototype.draw.call(this),n=e.getContext("2d"),r=0,i=0,o=this._width,a=this._height;this._extendedHeight&&(r=this._extendedHeight,a=this._height-2*this._extendedHeight),this._extendedWidth&&(i=this._extendedWidth,o=this._width-2*this._extendedWidth);var s=n.getImageData(r,i,o,a);return this.colorize(s.data,this._gradient),n.putImageData(s,r,i),e},e.prototype.gradient=function(t){var e=this.createCanvas(1,256).getContext("2d"),n=e.createLinearGradient(0,0,0,256);for(var r in t)n.addColorStop(+r,t[r]);return e.fillStyle=n,e.fillRect(0,0,1,256),e.getImageData(0,0,1,256).data},e.prototype.colorize=function(t,e){for(var n,r=0,i=t.length;r<i;r+=4)(n=4*t[r+3])&&(t[r]=e[n],t[r+1]=e[n+1],t[r+2]=e[n+2],t[r+3]=255)},e})),i("layer/heatmap/HeatMapIntervalType",[],(function(){"use strict";return{CONTINUOUS:0,QUANTILES:1}})),i("geom/MeasuredLocation",["./Angle","./Location"],(function(t,e){"use strict";var n=function(t,n,r){e.call(this,t,n),this.measure=r};return n.prototype=Object.create(e.prototype),n.fromRadians=function(e,r,i){return new n(e*t.RADIANS_TO_DEGREES,r*t.RADIANS_TO_DEGREES,i)},n.prototype.copy=function(t){return e.prototype.copy.call(this,t),this.measure=t.measure,this},n.prototype.set=function(t,n,r){return e.prototype.set.call(this,t,n),this.measure=r,this},n.prototype.equals=function(t){return e.prototype.equals.call(this,t)&&this.measure===t.measure},n})),i("layer/heatmap/HeatMapLayer",["../../error/ArgumentError","./HeatMapColoredTile","./HeatMapIntervalType","./HeatMapTile","../../util/ImageSource","../../geom/Location","../../util/Logger","../../geom/MeasuredLocation","../TiledImageLayer","../../geom/Sector","../../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c){"use strict";var h=function(t,e,r){this.tileWidth=256,this.tileHeight=256,u.call(this,new l(-90,90,-180,180),new o(45,45),r||18,"image/png","HeatMap"+c.guid(),this.tileWidth,this.tileHeight),this.displayName=t;for(var i={},a=-90;a<=90;a++){i[a]={};for(var s=-180;s<=180;s++)i[a][s]=[]}var h,f,p=Number.MIN_VALUE;e.forEach((function(t){h=Math.floor(t.latitude),f=Math.floor(t.longitude),i[h][f].push(t),t.measure>p&&(p=t.measure)})),this._data=i,this._measuredLocations=e,this._intervalType=n.CONTINUOUS,this._scale=["blue","cyan","lime","yellow","red"],this._radius=12.5,this._incrementPerIntensity=1/p,this.setGradient(e)};return h.prototype=Object.create(u.prototype),Object.defineProperties(h.prototype,{intervalType:{get:function(){return this._intervalType},set:function(t){this._intervalType=t,this.setGradient()}},scale:{get:function(){return this._scale},set:function(t){this._scale=t,this.setGradient()}},gradient:{get:function(){return this._gradient}},radius:{get:function(){return this._radius},set:function(t){this._radius=t}}}),h.prototype.filterGeographically=function(t,e){var n=Math.floor(e.minLatitude),r=Math.floor(e.maxLatitude),i=Math.floor(e.minLongitude),o=Math.floor(e.maxLongitude),a=0,s=0;n<=-90&&(n=-90),r>=90&&(r=90),i<=-180&&(a=Math.abs(i- -180),i=-180),o>=180&&(s=Math.abs(o-180),o=180);var u=[];if(this.gatherGeographical(t,u,e,n,r,i,o),0!==a){var c=new l(n,r,180-a,180);this.gatherGeographical(t,u,c,n,r,180-a,180,-360)}if(0!==s){var h=new l(n,r,-180,-180+s);this.gatherGeographical(t,u,h,n,r,-180,-180+s,360)}return u},h.prototype.gatherGeographical=function(t,e,n,r,i,o,a,u){var l,c;for(l=r;l<=i;l++)for(c=o;c<=a;c++)t[l][c].forEach((function(t){n.containsLocation(t.latitude,t.longitude)&&(u?e.push(new s(t.latitude,u+t.longitude,t.measure)):e.push(t))}))},h.prototype.setGradient=function(){var t=this.intervalType,e=this.scale,r={};if(t===n.CONTINUOUS)e.forEach((function(t,n){r[n/e.length]=t}));else if(t===n.QUANTILES){var i=this._measuredLocations;i.sort((function(t,e){return t.measure<e.measure?-1:t.measure>e.measure?1:0}));var o=i[i.length-1].measure;i.length>=e.length?e.forEach((function(t,n){0===n?r[0]=t:r[i[Math.floor(n/e.length*i.length)].measure/o]=t})):e.forEach((function(t,n){r[n/e.length]=t}))}this._gradient=r},h.prototype.retrieveTileImage=function(t,e,n){if(this.currentRetrievals.indexOf(e.imagePath)<0){if(this.absentResourceList.isResourceAbsent(e.imagePath))return;var r=e.imagePath,i=t.gpuResourceCache,o=this,a=this.radius,s=this.calculateExtendedSector(e.sector,a/this.tileWidth*2,a/this.tileHeight*2),u=Math.ceil(s.extensionFactorWidth*this.tileWidth),l=Math.ceil(s.extensionFactorHeight*this.tileHeight),c=this.filterGeographically(this._data,s.sector),h=this.createHeatMapTile(c,{sector:s.sector,width:this.tileWidth+2*u,height:this.tileHeight+2*l,radius:a,intensityGradient:this.gradient,incrementPerIntensity:this._incrementPerIntensity,extendedWidth:u,extendedHeight:l}).canvas(),f=document.createElement("canvas");f.height=this.tileHeight,f.width=this.tileWidth,f.getContext("2d").putImageData(h.getContext("2d").getImageData(u,l,this.tileWidth,this.tileHeight),0,0);var p=o.createTexture(t,e,f);if(o.removeFromCurrentRetrievals(r),p&&(i.putResource(r,p,p.size),o.currentTilesInvalid=!0,o.absentResourceList.unmarkResourceAbsent(r),!n)){var d=document.createEvent("Event");d.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),window.dispatchEvent(d)}}},h.prototype.calculateExtendedSector=function(t,e,n){var r=(t.maxLatitude-t.minLatitude)*n,i=(t.maxLongitude-t.minLongitude)*e;return{sector:new l(t.minLatitude-r,t.maxLatitude+r,t.minLongitude-i,t.maxLongitude+i),extensionFactorHeight:n,extensionFactorWidth:e}},h.prototype.createHeatMapTile=function(t,n){return new e(t,n)},h})),i("util/HighlightController",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";return function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"HighlightController","constructor","missingWorldWindow"));this.worldWindow=n;var r=[],i=function(t){for(var e=t.clientX,i=t.clientY,o=r.length>0,a=0;a<r.length;a++)r[a].highlighted=!1;r=[];var s=n.pick(n.canvasCoordinates(e,i));if(s.objects.length>0&&(o=!0),s.objects.length>0)for(var u=0;u<s.objects.length;u++)s.objects[u].isTerrain||(s.objects[u].userObject.highlighted=!0,r.push(s.objects[u].userObject));o&&n.redraw()};this.worldWindow.addEventListener("mousemove",i),new WorldWind.TapRecognizer(this.worldWindow,i)}})),i("formats/kml/util/KmlAttribute",[],(function(){"use strict";var t=function(t,e){this.node=t,this.name=e};return t.prototype.value=function(){return this.node.attributes&&this.node.attributes.getNamedItem(this.name)&&this.node.attributes.getNamedItem(this.name).value||null},t.prototype.exists=function(){return null!=this.value()},t.prototype.save=function(t){this.node.setAttribute(this.name,t)},t})),i("formats/kml/KmlElements",[],(function(){"use strict";return{keys:{},addKey:function(t,e){this.keys[t]=e},getKey:function(t){return this.keys[t]}}})),i("formats/kml/util/KmlNodeTransformers",["./KmlAttribute","../KmlElements","../../../geom/Position","../../../util/WWUtil"],(function(t,e,n,r){function i(t){var e;return null!=t&&t.childNodes[0]?e=t.childNodes[0].nodeValue:null!=t&&(e=""),e}var o=function(){};return o.string=function(t){return String(i(t))},o.number=function(t){return Number(i(t))},o.boolean=function(t){return r.transformToBoolean(i(t))},o.date=function(t){return r.date(i(t))},o.kmlObject=function(t,n,r){var i=t.nodeName,o=e.getKey(i);return o?new o({objectNode:t,parent:n,controls:r}):null},o.linearRing=function(t,n,r){var i=e.getKey("LinearRing");if(!i)return null;var o=null;return Array.prototype.forEach.call(t.childNodes,(function(t){t.nodeName.toUpperCase()=="LinearRing".toUpperCase()&&(o=t)})),new i({objectNode:o,parent:n,controls:r})},o.positions=function(t){var e=[];return i(t).trim().replace(/\s+/g," ").split(" ").forEach((function(t){t=t.split(","),e.push(new n(Number(t[1]),Number(t[0]),Number(t[2]||0)))})),e},o.attribute=function(e){return function(n){return new t(n,e).value()}},o})),i("formats/kml/util/KmlElementsFactory",["./KmlNodeTransformers"],(function(t){"use strict";var e=function(t){this.options=t||{},this.options.controls=this.options.controls||[]};e.prototype.specific=function(t,e){var n=t.node,r=null,i=this;return[].forEach.call(n.childNodes,(function(n){n.nodeName==e.name&&(r=e.transformer(n,t,i.options.controls))})),r},e.prototype.any=function(e,n){var r=e.node,i=null,o=this;return[].forEach.call(r.childNodes,(function(r){-1!=n.name.indexOf(r.nodeName)&&(i=t.kmlObject(r,e,o.options.controls))})),i},e.prototype.all=function(e){var n=e.node,r=[],i=this;return[].forEach.call(n.childNodes,(function(n){var o=t.kmlObject(n,e,i.options.controls);o&&r.push(o)})),r};var n=new e;return e.applicationWide=function(){return n},e})),i("formats/kml/util/KmlTreeKeyValueCache",["../../../util/WWUtil"],(function(t){"use strict";var e=function(){this.map={}};e.prototype.add=function(t,e,n){this.map[t]||(this.map[t]={}),this.map[t][e]=n},e.prototype.value=function(e,n){if(!this.map[e])return null;if(-1==n.indexOf("#")){var r=this.level(e);for(var i in r)if(r.hasOwnProperty(i)&&t.startsWith(i,n))return r[i]}return this.map[e][n]||null},e.prototype.level=function(t){return this.map[t]},e.prototype.remove=function(t,e){delete this.map[t][e]};var n=new e;return e.applicationLevelCache=function(){return n},e})),i("formats/kml/util/KmlElementsFactoryCached",["./KmlAttribute","./KmlElementsFactory","./KmlTreeKeyValueCache","../../../util/WWUtil"],(function(t,e,n,r){"use strict";var i=function(t){this.internalFactory=new e(t),this.cache=n.applicationLevelCache()};i.prototype.all=function(t){var e=t.node,n=this.cache.level(this.cacheKey(t.node,"All"));if(n){var r=[];for(var i in n)n.hasOwnProperty(i)&&r.push(n[i]);return r}var o=this.internalFactory.all(t);if(o&&o.length){var a=this;o.forEach((function(t){a.cache.add(a.cacheKey(e,"All"),a.cacheKey(t.node),t)}))}return o},i.prototype.specific=function(t,e){var n=t.node,r=e.name;e.attribute&&(r=e.attribute+r);var i=this.cache.value(this.cacheKey(n),r);if(i)return i;var o=this.internalFactory.specific(t,e);return o&&o.node?this.cache.add(this.cacheKey(n),this.cacheKey(o.node),o):o&&this.cache.add(this.cacheKey(n),r,o),o},i.prototype.any=function(t,e){var n,r=t.node,i=this,o=null;if(e.name.forEach((function(t){(n=i.cache.value(i.cacheKey(r),t))&&(o=n)})),o)return o;var a=this.internalFactory.any(t,e);return a&&this.cache.add(i.cacheKey(r),i.cacheKey(a.node),a),a},i.prototype.cacheKey=function(e,n){var i=new t(e,"id");i.exists()||i.save(r.guid());var o=e.nodeName+"#"+i.value();return n&&(o=n+o),o};var o=new i;return i.applicationWide=function(){return o},i})),function(){"use strict";function o(t){return"function"==typeof t}function a(){return function(){setTimeout(s,1)}}function s(){for(var t=0;t<x;t+=2)(0,R[t])(R[t+1]),R[t]=void 0,R[t+1]=void 0;x=0}function u(){}function l(t,e){if(e.constructor===t.constructor)!function(t,e){e._state===k?f(t,e._result):e._state===I?p(t,e._result):d(e,void 0,(function(e){c(t,e)}),(function(e){p(t,e)}))}(t,e);else{var n=function(t){try{return t.then}catch(t){return N.error=t,N}}(e);n===N?p(t,N.error):void 0===n?f(t,e):o(n)?function(t,e,n){T((function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?c(t,n):f(t,n))}),(function(e){r||(r=!0,p(t,e))}),t._label);!r&&i&&(r=!0,p(t,i))}),t)}(t,e,n):f(t,e)}}function c(t,e){t===e?p(t,new TypeError("You cannot resolve a promise with itself")):function(t){return"function"==typeof t||"object"==typeof t&&null!==t}(e)?l(t,e):f(t,e)}function h(t){t._onerror&&t._onerror(t._result),g(t)}function f(t,e){t._state===M&&(t._result=e,t._state=k,0!==t._subscribers.length&&T(g,t))}function p(t,e){t._state===M&&(t._state=I,t._result=e,T(h,t))}function d(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+k]=n,i[o+I]=r,0===o&&t._state&&T(g,t)}function g(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?y(n,r,i,o):i(o);t._subscribers.length=0}}function m(){this.error=null}function y(t,e,n,r){var i,a,s,u,l=o(n);if(l){if((i=function(t,e){try{return t(e)}catch(t){return D.error=t,D}}(n,r))===D?(u=!0,a=i.error,i=null):s=!0,e===i)return void p(e,new TypeError("A promises callback cannot return that same promise."))}else i=r,s=!0;e._state!==M||(l&&s?c(e,i):u?p(e,a):t===k?f(e,i):t===I&&p(e,i))}function v(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(u),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?f(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&f(n.promise,n._result))):p(n.promise,n._validationError())}function b(t){this._id=G++,this._state=void 0,this._result=void 0,this._subscribers=[],u!==t&&(o(t)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof b||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(t,e){try{e((function(e){c(t,e)}),(function(e){p(t,e)}))}catch(e){p(t,e)}}(this,t))}var E,_,w,S=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},x=0,T=function(t,e){R[x]=t,R[x+1]=e,2===(x+=2)&&(_?_(s):w())},O="undefined"!=typeof window?window:void 0,C=O||{},A=C.MutationObserver||C.WebKitMutationObserver,L="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),P="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,R=new Array(1e3);w=L?function(){e.nextTick(s)}:A?function(){var t=0,e=new A(s),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():P?function(){var t=new MessageChannel;return t.port1.onmessage=s,function(){t.port2.postMessage(0)}}():void 0===O&&"function"==typeof r?function(){try{var t=r("vertx");return E=t.runOnLoop||t.runOnContext,function(){E(s)}}catch(n){return a()}}():a();var M=void 0,k=1,I=2,N=new m,D=new m;v.prototype._validateInput=function(t){return S(t)},v.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},v.prototype._init=function(){this._result=new Array(this.length)};var j=v;v.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,i=0;n._state===M&&i<e;i++)t._eachEntry(r[i],i)},v.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;!function(t){return"object"==typeof t&&null!==t}(t)?(n._remaining--,n._result[e]=t):t.constructor===r&&t._state!==M?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e)},v.prototype._settledAt=function(t,e,n){var r=this,i=r.promise;i._state===M&&(r._remaining--,t===I?p(i,n):r._result[e]=n),0===r._remaining&&f(i,r._result)},v.prototype._willSettleAt=function(t,e){var n=this;d(t,void 0,(function(t){n._settledAt(k,e,t)}),(function(t){n._settledAt(I,e,t)}))};var F=function(t){return new j(this,t).promise},V=function(t){function e(t){c(r,t)}function n(t){p(r,t)}var r=new this(u);if(!S(t))return p(r,new TypeError("You must pass an array to race.")),r;for(var i=t.length,o=0;r._state===M&&o<i;o++)d(this.resolve(t[o]),void 0,e,n);return r},B=function(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(u);return c(e,t),e},U=function(t){var e=new this(u);return p(e,t),e},G=0,W=b;b.all=F,b.race=V,b.resolve=B,b.reject=U,b._setScheduler=function(t){_=t},b._setAsap=function(t){T=t},b._asap=T,b.prototype={constructor:b,then:function(t,e){var n=this,r=n._state;if(r===k&&!t||r===I&&!e)return this;var i=new this.constructor(u),o=n._result;if(r){var a=arguments[r-1];T((function(){y(r,i,a,o)}))}else d(n,i,t,e);return i},catch:function(t){return this.then(null,t)}};var K=function(){var t;if("undefined"!=typeof H)t=H;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=W)},z={Promise:W,polyfill:K};"function"==typeof i&&i.amd?i("util/es6-promise",[],(function(){return z})):t.exports?t.exports=z:"undefined"!=typeof this&&(this.ES6Promise=z);var H={};K()}.call(this),i("util/Promise",["./es6-promise"],(function(t){"use strict";return window.Promise?window.Promise:t.Promise})),i("formats/kml/KmlObject",["../../error/ArgumentError","./util/KmlAttribute","./KmlElements","./util/KmlElementsFactoryCached","../../util/Logger","../../util/Promise","../../render/Renderable"],(function(t,e,n,r,i,o,a){"use strict";var s=function(e){if(a.call(this),!(e=e||{}).objectNode)throw new t(i.logMessage(i.LEVEL_SEVERE,"KmlObject","constructor","Passed node isn't defined."));this._node=e.objectNode,this._cache={},this._controls=e.controls||[],this._factory=new r({controls:this._controls}),this.hook(this._controls,e)};return s.prototype=Object.create(a.prototype),Object.defineProperties(s.prototype,{id:{get:function(){return new e(this.node,"id").value()}},node:{get:function(){return this._node}}}),s.prototype.hook=function(t,e){var n=this;t.forEach((function(t){t.hook(n,e)}))},s.prototype.render=function(t){},s.prototype.getTagNames=function(){return[]},s})),i("formats/kml/KmlTimePrimitive",["./KmlObject"],(function(t){"use strict";var e=function(e){t.call(this,e)};return(e.prototype=Object.create(t.prototype)).kmlTimeRange=function(){var t,e;return this.kmlBegin&&(e=t=this.kmlBegin.valueOf()),this.kmlEnd&&(e=this.kmlEnd.valueOf(),t||(t=e)),this.kmlWhen&&(e=t=this.kmlWhen.valueOf()),{from:t,to:e}},e.prototype.getTagNames=function(){return["TimeSpan","TimeStamp"]},e})),i("formats/kml/KmlAbstractView",["./KmlObject","./KmlElements","./KmlTimePrimitive"],(function(t,e,n){"use strict";var r=function(e){t.call(this,e)};return r.prototype=Object.create(t.prototype),Object.defineProperties(r.prototype,{kmlTimePrimitive:{get:function(){return this._factory.any(this,{name:n.prototype.getTagNames()})}}}),r.prototype.getTagNames=function(){return["Camera","LookAt"]},r})),i("formats/kml/styles/KmlSubStyle",["./../KmlObject"],(function(t){"use strict";var e=function(e){t.call(this,e)};return(e.prototype=Object.create(t.prototype)).getTagNames=function(){return["LineStyle","PolyStyle","IconStyle","LabelStyle","BalloonStyle","ListStyle"]},e})),i("formats/kml/styles/KmlBalloonStyle",["../KmlElements","./KmlSubStyle","../util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlBgColor:{get:function(){return this._factory.specific(this,{name:"bgColor",transformer:n.string})}},kmlTextColor:{get:function(){return this._factory.specific(this,{name:"textColor",transformer:n.string})}},kmlText:{get:function(){return this._factory.specific(this,{name:"text",transformer:n.string})}},kmlDisplayMode:{get:function(){return this._factory.specific(this,{name:"displayMode",transformer:n.string})}}}),r.update=function(){},r.prototype.getTagNames=function(){return["BalloonStyle"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/KmlCamera",["./KmlElements","./KmlAbstractView","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlLongitude:{get:function(){return this._factory.specific(this,{name:"longitude",transformer:n.string})}},kmlLatitude:{get:function(){return this._factory.specific(this,{name:"latitude",transformer:n.string})}},kmlAltitude:{get:function(){return this._factory.specific(this,{name:"altitude",transformer:n.string})}},kmlHeading:{get:function(){return this._factory.specific(this,{name:"heading",transformer:n.string})}},kmlTilt:{get:function(){return this._factory.specific(this,{name:"tilt",transformer:n.string})}},kmlRoll:{get:function(){return this._factory.specific(this,{name:"roll",transformer:n.string})}},kmlAltitudeMode:{get:function(){return this._factory.specific(this,{name:"altitudeMode",transformer:n.string})}}}),r.prototype.getTagNames=function(){return["Camera"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/util/KmlChange",["../KmlElements","../KmlObject"],(function(t,e){var n=function(t){e.call(this,t)};return n.prototype=Object.create(e.prototype),Object.defineProperties(n.prototype,{shapes:{get:function(){return this._factory.all(this)}}}),n.prototype.getTagNames=function(){return["Change"]},t.addKey(n.prototype.getTagNames()[0],n),n})),i("formats/kml/styles/KmlColorStyle",["./KmlSubStyle","../util/KmlNodeTransformers"],(function(t,e){"use strict";var n=function(e){t.call(this,e)};return n.prototype=Object.create(t.prototype),Object.defineProperties(n.prototype,{kmlColor:{get:function(){return this._factory.specific(this,{name:"color",transformer:e.string})}},kmlColorMode:{get:function(){return this._factory.specific(this,{name:"colorMode",transformer:e.string})}}}),n.prototype.getTagNames=function(){return["LineStyle","PolyStyle","IconStyle","LabelStyle"]},n})),i("formats/kml/KmlFileCache",[],(function(){"use strict";var t=function(){this._rootFile=null,this._map={}};return t.prototype.retrieve=function(t){if(0!=t.indexOf("kmz;")&&0!=t.indexOf("href;")&&(0==t.indexOf("#")||null==t||0!=t.indexOf("http")))return this._rootFile;var e=t;return-1!=t.indexOf("#")&&(e=t.substr(0,t.indexOf("#")-1)),this._map[e]?this._map[e]:null},t.prototype.add=function(t,e,n){n?this._rootFile=e:this._map[t]=e},t})),i("formats/kml/styles/KmlStyleSelector",["./../KmlObject"],(function(t){"use strict";var e=function(e){t.call(this,e)};return(e.prototype=Object.create(t.prototype)).getTagNames=function(){return["Style","StyleMap"]},e})),i("formats/kml/styles/KmlPolyStyle",["../../../util/Color","./KmlColorStyle","./../KmlElements","../util/KmlNodeTransformers"],(function(t,e,n,r){"use strict";var i=function(t){e.call(this,t)};return i.prototype=Object.create(e.prototype),Object.defineProperties(i.prototype,{kmlFill:{get:function(){return this._factory.specific(this,{name:"fill",transformer:r.boolean})}},kmlOutline:{get:function(){return this._factory.specific(this,{name:"outline",transformer:r.boolean})}}}),i.update=function(e,n){e=e||{};var r=n||{};return r._drawInterior=e.kmlFill||!0,r._drawOutline=e.kmlOutline||!1,r._outlineColor=n._outlineColor||t.WHITE,r._interiorColor=e.kmlColor&&t.colorFromKmlHex(e.kmlColor)||t.WHITE,r._colorMode=e.kmlColorMode||"normal",r},i.prototype.getTagNames=function(){return["PolyStyle"]},n.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/util/KmlHrefResolver",["../../../util/Promise","../../../util/WWUtil"],(function(t,e){var n=function(t,e){this._url=t,this._fileCache=e};return n.prototype.url=function(){if(e.startsWith(this._url,"http://")||e.startsWith(this._url,"https://"))return this._url;var t=this._fileCache.retrieve("kmz;"+this._url);return t||(t=this._fileCache.retrieve("href;"+this._url))||this._url},n})),i("formats/kml/KmlLink",["./util/KmlHrefResolver","./KmlElements","./KmlObject","./util/KmlNodeTransformers"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,t),this.onChangeListeners=[]};return i.prototype=Object.create(n.prototype),Object.defineProperties(i.prototype,{kmlRefreshMode:{get:function(){return this._factory.specific(this,{name:"refreshMode",transformer:r.string})}},kmlRefreshInterval:{get:function(){return this._factory.specific(this,{name:"refreshInterval",transformer:r.number})}},kmlViewRefreshMode:{get:function(){return this._factory.specific(this,{name:"viewRefreshMode",transformer:r.string})}},kmlViewRefreshTime:{get:function(){return this._factory.specific(this,{name:"viewRefreshTime",transformer:r.number})}},kmlViewBoundScale:{get:function(){return this._factory.specific(this,{name:"viewBoundScale",transformer:r.number})}},kmlViewFormat:{get:function(){return this._factory.specific(this,{name:"viewFormat",transformer:r.string})}},kmlHttpQuery:{get:function(){return this._factory.specific(this,{name:"httpQuery",transformer:r.string})}}}),i.prototype.kmlHref=function(e){return new t(this._factory.specific(this,{name:"href",transformer:r.string}),e).url()},i.prototype.getTagNames=function(){return["Link"]},e.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/KmlIcon",["./KmlLink","./KmlElements","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(e){t.call(this,e)};return r.prototype=Object.create(t.prototype),Object.defineProperties(r.prototype,{kmlX:{get:function(){return this._factory.specific(this,{name:"gx:x",transformer:n.number})}},kmlY:{get:function(){return this._factory.specific(this,{name:"gx:y",transformer:n.number})}},kmlW:{get:function(){return this._factory.specific(this,{name:"gx:w",transformer:n.number})}},kmlH:{get:function(){return this._factory.specific(this,{name:"gx:h",transformer:n.number})}}}),r.prototype.getTagNames=function(){return["Icon"]},e.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/styles/KmlIconStyle",["./KmlColorStyle","./../KmlElements","../KmlIcon","../util/KmlNodeTransformers"],(function(t,e,n,r){"use strict";var i=function(e){t.call(this,e)};return i.prototype=Object.create(t.prototype),Object.defineProperties(i.prototype,{kmlScale:{get:function(){return this._factory.specific(this,{name:"scale",transformer:r.number})}},kmlHeading:{get:function(){return this._factory.specific(this,{name:"heading",transformer:r.number})}},kmlIcon:{get:function(){return this._factory.any(this,{name:n.prototype.getTagNames()})}},kmlHotSpotX:{get:function(){return this._factory.specific(this,{name:"hotSpot",transformer:r.attribute("x")})}},kmlHotSpotY:{get:function(){return this._factory.specific(this,{name:"hotSpot",transformer:r.attribute("y")})}},kmlHotSpotXUnits:{get:function(){return this._factory.specific(this,{name:"hotSpot",transformer:r.attribute("xunits")})}},kmlHotSpotYUnits:{get:function(){return this._factory.specific(this,{name:"hotSpot",transformer:r.attribute("yunits")})}}}),i.update=function(t,e,n){t=t||{};var r=e||{};return r._imageScale=t.kmlScale||1,r._imageSource=t.kmlIcon&&t.kmlIcon.kmlHref(n)||null,r},i.prototype.getTagNames=function(){return["IconStyle"]},e.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/styles/KmlLabelStyle",["./KmlColorStyle","../KmlElements","../util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(e){t.call(this,e)};return r.prototype=Object.create(t.prototype),Object.defineProperties(r.prototype,{kmlScale:{get:function(){return this._factory.specific(this,{name:"scale",transformer:n.number})}}}),r.update=function(){},r.prototype.getTagNames=function(){return["LabelStyle"]},e.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/styles/KmlLineStyle",["../../../util/Color","./KmlColorStyle","./../KmlElements","../util/KmlNodeTransformers"],(function(t,e,n,r){"use strict";var i=function(t){e.call(this,t)};return i.prototype=Object.create(e.prototype),Object.defineProperties(i.prototype,{kmlWidth:{get:function(){return this._factory.specific(this,{name:"width",transformer:r.number})}},kmlOuterColor:{get:function(){return this._factory.specific(this,{name:"gx:outerColor",transformer:r.string})}},kmlOuterWidth:{get:function(){return this._factory.specific(this,{name:"gx:outerWidth",transformer:r.number})}},kmlPhysicalWidth:{get:function(){return this._factory.specific(this,{name:"gx:physicalWidth",transformer:r.number})}},kmlLabelVisibility:{get:function(){return this._factory.specific(this,{name:"gx:labelVisibility",transformer:r.boolean})}}}),i.update=function(e,n){var r=n||{};return e=e||{},r._outlineColor=e.kmlColor&&t.colorFromKmlHex(e.kmlColor)||t.WHITE,r._outlineWidth=e.kmlWidth||10,r},i.prototype.getTagNames=function(){return["LineStyle"]},n.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/util/KmlItemIcon",["./KmlHrefResolver","./../KmlElements","../KmlObject","./KmlNodeTransformers"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,t)};return i.prototype=Object.create(n.prototype),Object.defineProperties(i.prototype,{kmlState:{get:function(){return this._factory.specific(this,{name:"state",transformer:r.string})}}}),i.prototype.kmlHref=function(e){return new t(this._factory.specific(this,{name:"href",transformer:r.string}),e).url()},i.prototype.getTagNames=function(){return["ItemIcon"]},e.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/styles/KmlListStyle",["../util/KmlItemIcon","../KmlElements","./KmlSubStyle","../util/KmlNodeTransformers"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,t)};return i.prototype=Object.create(n.prototype),Object.defineProperties(i.prototype,{kmlBgColor:{get:function(){return this._factory.specific(this,{name:"bgColor",transformer:r.string})}},kmlListItemType:{get:function(){return this._factory.specific(this,{name:"listItemType",transformer:r.string})}},kmlItemIcon:{get:function(){return this._factory.any(this,{name:t.prototype.getTagNames()})}}}),i.update=function(){},i.prototype.getTagNames=function(){return["ListStyle"]},e.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/styles/KmlStyle",["../../../util/Color","../../../util/Font","./KmlStyleSelector","./../KmlElements","./KmlPolyStyle","./KmlIconStyle","./KmlLabelStyle","./KmlLineStyle","./KmlListStyle","./KmlBalloonStyle","../../../util/Offset","../../../util/Promise","../../../shapes/ShapeAttributes","../../../shapes/TextAttributes"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p){"use strict";var d=function(t){n.call(this,t)};return d.prototype=Object.create(n.prototype),Object.defineProperties(d.prototype,{kmlIconStyle:{get:function(){return this._factory.any(this,{name:o.prototype.getTagNames()})}},kmlLabelStyle:{get:function(){return this._factory.any(this,{name:a.prototype.getTagNames()})}},kmlLineStyle:{get:function(){return this._factory.any(this,{name:s.prototype.getTagNames()})}},kmlPolyStyle:{get:function(){return this._factory.any(this,{name:i.prototype.getTagNames()})}},kmlBalloonStyle:{get:function(){return this._factory.any(this,{name:l.prototype.getTagNames()})}},kmlListStyle:{get:function(){return this._factory.any(this,{name:u.prototype.getTagNames()})}}}),d.prototype.generate=function(t,e){t=t||{};var n=this||{};return n.kmlIconStyle&&o.update(n.kmlIconStyle,t,e),n.kmlListStyle&&u.update(n.kmlListStyle,t),n.kmlBalloonStyle&&l.update(n.kmlBalloonStyle,t),n.kmlLabelStyle&&a.update(n.kmlLabelStyle,t),n.kmlPolyStyle&&i.update(n.kmlPolyStyle,t),n.kmlLineStyle&&s.update(n.kmlLineStyle,t),t},d.prototype.getStyle=function(){var t=this;return new h((function(e){window.setTimeout((function(){e(t)}),0)}))},d.prototype.getTagNames=function(){return["Style"]},r.addKey(d.prototype.getTagNames()[0],d),d.placemarkAttributes=function(e){return(e=e||{})._imageColor=e._imageColor||new t(1,1,1,1),e._imageOffset=e._imageOffset||new c(WorldWind.OFFSET_FRACTION,.5,WorldWind.OFFSET_FRACTION,.5),e._imageScale=e._imageScale||1,e._imageSource=e._imageSource||null,e._depthTest=e._depthTest||!0,e._labelAttributes=e._labelAttributes||new p(d.textAttributes()),e._drawLeaderLine=e._drawLeaderLine||!1,e._leaderLineAttributes=e._leaderLineAttributes||new f(d.shapeAttributes()),e},d.textAttributes=function(n){return(n=n||{})._color=n._color||new t(1,1,1,1),n._font=n._font||new e(14),n._offset=n._offset||new c(WorldWind.OFFSET_FRACTION,.5,WorldWind.OFFSET_FRACTION,0),n._scale=n._scale||1,n._depthTest=n._depthTest||!1,n._outlineColor=n._outlineColor||t.RED,n},d.shapeAttributes=function(e){return(e=e||{})._drawInterior=e._drawInterior||!0,e._drawOutline=e._drawOutline||!0,e._enableLighting=e._enableLighting||!1,e._interiorColor=e._interiorColor||t.WHITE,e._outlineColor=e._outlineColor||t.RED,e._outlineWidth=e._outlineWidth||1,e._outlineStippleFactor=e._outlineStippleFactor||0,e._outlineStipplePattern=e._outlineStipplePattern||61680,e._imageSource=e._imageSource||null,e._depthTest=e._depthTest||!0,e._drawVerticals=e._drawVerticals||!1,e._applyLighting=e._applyLighting||!1,e},d.default=function(){return new d({objectNode:document.createElement("Style")})},d})),i("formats/kml/util/KmlPair",["./../KmlElements","../KmlObject","../styles/KmlStyleSelector","./KmlNodeTransformers"],(function(t,e,n,r){"use strict";var i=function(t){e.call(this,t)};return i.prototype=Object.create(e.prototype),Object.defineProperties(i.prototype,{kmlKey:{get:function(){return this._factory.specific(this,{name:"key",transformer:r.string})}},kmlStyleUrl:{get:function(){return this._factory.specific(this,{name:"styleUrl",transformer:r.string})}},kmlStyleSelector:{get:function(){return this._factory.any(this,{name:n.prototype.getTagNames()})}}}),i.prototype.getTagNames=function(){return["Pair"]},i.prototype.getStyle=function(t){return t.handleRemoteStyle(this.kmlStyleUrl,this.kmlStyleSelector)},t.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/styles/KmlStyleMap",["../KmlElements","./KmlSubStyle","../util/KmlPair","../../../util/Promise"],(function(t,e,n,r){"use strict";var i=function(t){e.call(this,t)};return i.prototype=Object.create(e.prototype),Object.defineProperties(i.prototype,{kmlPairs:{get:function(){return this._factory.all(this)}},isMap:{get:function(){return!0}}}),i.prototype.resolve=function(t){var e={},n=this.kmlPairs.map((function(n){var r=n.kmlKey;return n.getStyle(t).then((function(t){e[r]=t.normal}))}));return r.all(n).then((function(){return e.normal||(e.normal=null),e.highlight||(e.highlight=null),e}))},i.prototype.getTagNames=function(){return["StyleMap"]},t.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/KmlTimeSpan",["./KmlElements","./KmlTimePrimitive","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){t.isTimeSpan=!0,e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlBegin:{get:function(){return this._factory.specific(this,{name:"begin",transformer:n.date})}},kmlEnd:{get:function(){return this._factory.specific(this,{name:"end",transformer:n.date})}}}),r.prototype.getTagNames=function(){return["TimeSpan"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/KmlTimeStamp",["./KmlElements","./KmlTimePrimitive","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){t.isTimeStamp=!0,e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlWhen:{get:function(){return this._factory.specific(this,{name:"when",transformer:n.date})}}}),r.prototype.getTagNames=function(){return["TimeStamp"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("util/jszip",[],(function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=104)}([function(t,e,n){"use strict";function r(t){return t}function i(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function o(t){var n=65536,r=e.getTypeOf(t),i=!0;if("uint8array"===r?i=f.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=f.applyCanBeUsed.nodebuffer),i)for(;n>1;)try{return f.stringifyByChunk(t,r,n)}catch(t){n=Math.floor(n/2)}return f.stringifyByChar(t)}function a(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var s=n(3),u=n(44),l=n(12),c=n(88),h=n(8);e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(t,e,n){var r=[],i=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;i<o;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&1===String.fromCharCode.apply(null,l.allocBuffer(1)).length}catch(t){return!1}}()}};e.applyFromCharCode=o;var p={};p.string={string:r,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,l.allocBuffer(t.length))}},p.array={string:o,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(t)}},p.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return l.newBufferFrom(t)}},p.nodebuffer={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:r},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var r=e.getTypeOf(n);return p[r][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&l.isBuffer(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!s[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},e.delay=function(t,e,n){c((function(){t.apply(n||null,e||[])}))},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,r,o,a){return h.Promise.resolve(n).then((function(t){return s.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new h.Promise((function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)})):t})).then((function(n){var l=e.getTypeOf(n);return l?("arraybuffer"===l?n=e.transformTo("uint8array",n):"string"===l&&(a?n=u.decode(n):r&&!0!==o&&(n=function(t){return i(t,s.uint8array?new Uint8Array(t.length):new Array(t.length))}(n))),n):h.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=r},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var r=new ArrayBuffer(0);try{e.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),e.blob=0===i.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!n(50).Readable}catch(t){e.nodestream=!1}}).call(this,n(10).Buffer)},function(t,e,n){"use strict";function r(t){return this instanceof r?(l.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(t)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(t){t.end()}var a=n(14),s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var u=n(9);u.inherits=n(6);var l=n(49),c=n(21);u.inherits(r,l);for(var h=s(c.prototype),f=0;f<h.length;f++){var p=h[f];r.prototype[p]||(r.prototype[p]=c.prototype[p])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),a.nextTick(e,t)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function r(){u.call(this,"utf-8 decode"),this.leftOver=null}function i(){u.call(this,"utf-8 encode")}for(var o=n(0),a=n(3),s=n(12),u=n(1),l=new Array(256),c=0;c<256;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1,e.utf8encode=function(t){return a.nodebuffer?s.newBufferFrom(t,"utf-8"):function(t){var e,n,r,i,o,s=t.length,u=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=a.uint8array?new Uint8Array(u):new Array(u),o=0,i=0;o<u;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e}(t)},e.utf8decode=function(t){return a.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,r,i,a=t.length,s=new Array(2*a);for(n=0,e=0;e<a;)if((r=t[e++])<128)s[n++]=r;else if((i=l[r])>4)s[n++]=65533,e+=i-1;else{for(r&=2===i?31:3===i?15:7;i>1&&e<a;)r=r<<6|63&t[e++],i--;i>1?s[n++]=65533:r<65536?s[n++]=r:(r-=65536,s[n++]=55296|r>>10&1023,s[n++]=56320|1023&r)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),o.applyFromCharCode(s)}(t=o.transformTo(a.uint8array?"uint8array":"array",t))},o.inherits(r,u),r.prototype.processChunk=function(t){var n=o.transformTo(a.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var r=n;(n=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),n.set(r,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var i=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+l[t[n]]>e?n:e}(n),s=n;i!==n.length&&(a.uint8array?(s=n.subarray(0,i),this.leftOver=n.subarray(i,n.length)):(s=n.slice(0,i),this.leftOver=n.slice(i,n.length))),this.push({data:e.utf8decode(s),meta:t.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=r,o.inherits(i,u),i.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=i},function(t,e,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:n(74),t.exports={Promise:r}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(10).Buffer)},function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=o.prototype:(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e).__proto__=o.prototype:t=l(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),a=(t=i(t,r)).write(e,n);return a!==r&&(t=t.slice(0,a)),t}(t,e,n):function(t,e){if(o.isBuffer(e)){var n=0|c(e.length);return 0===(t=i(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?i(t,0):l(t,e);if("Buffer"===e.type&&B(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(s(e),t=i(t,e<0?0:0|c(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|c(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function c(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function h(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(t).length;default:if(r)return N(t).length;e=(""+e).toLowerCase(),r=!0}}function f(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function p(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:d(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):d(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function d(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var a,s=1,u=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,u/=2,l/=2,n/=2}if(i){var c=-1;for(a=n;a<u;a++)if(o(t,a)===o(e,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*s}else-1!==c&&(a-=a-c),c=-1}else for(n+l>u&&(n=u-l),a=n;a>=0;a--){for(var h=!0,f=0;f<l;f++)if(o(t,a+f)!==o(e,f)){h=!1;break}if(h)return a}return-1}function g(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function m(t,e,n,r){return j(N(e,t.length-n),t,n,r)}function y(t,e,n,r){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function v(t,e,n,r){return y(t,e,n,r)}function b(t,e,n,r){return j(D(e),t,n,r)}function E(t,e,n,r){return j(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function _(t,e,n){return 0===e&&n===t.length?F.fromByteArray(t):F.fromByteArray(t.slice(e,n))}function w(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,l=t[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=U)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=U));return n}(r)}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function x(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=I(t[o]);return i}function O(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function R(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,r,i){return i||R(t,0,n,4),V.write(t,e,n,r,23,4),n+4}function k(t,e,n,r,i){return i||R(t,0,n,8),V.write(t,e,n,r,52,8),n+8}function I(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function D(t){return F.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}var F=n(102),V=n(101),B=n(51);e.Buffer=o,e.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return function(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}(null,t,e,n)},o.allocUnsafe=function(t){return u(null,t)},o.allocUnsafeSlow=function(t){return u(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!B(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?w(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return w(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return x(this,e,n);case"base64":return _(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),u=Math.min(a,s),l=this.slice(r,i),c=t.slice(e,n),h=0;h<u;++h)if(l[h]!==c[h]){a=l[h],s=c[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return m(this,t,e,n);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return v(this,t,e,n);case"base64":return b(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;o.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=o.prototype;else{var i=e-t;n=new o(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),V.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),V.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),V.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),V.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||A(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||A(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);A(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);A(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return k(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return k(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:N(new o(t,r).toString()),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var G=/[^+\/0-9A-Za-z-_]/g}).call(this,n(5))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,n){return new e(t,n)},allocBuffer:function(t){return e.alloc?e.alloc(t):new e(t)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(this,n(10).Buffer)},function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return a(t,e,n)}var o=n(10),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,e),e.Buffer=i),r(a,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(15))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(){d&&f&&(d=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!d){var t=i(o);d=!0;for(var e=p.length;e;){for(f=p,p=[];++g<e;)f&&f[g].run();g=-1,e=p.length}f=null,d=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var l,c,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var f,p=[],d=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||d||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";var r=n(0),i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==r.getTypeOf(t)?function(t,e,n,r){var o=i,a=0+n;t^=-1;for(var s=0;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}(0|e,t,t.length):function(t,e,n,r){var o=i,a=0+n;t^=-1;for(var s=0;s<a;s++)t=t>>>8^o[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length):0}},function(t,e,n){"use strict";function r(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}var i=n(8),o=n(37),a=n(36),s=n(35);a=n(36),r.prototype={getContentWorker:function(){var t=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},t.exports=r},function(t,e,n){t.exports=!n(41)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";(function(e,r,i){function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(void 0),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function a(){}function s(t,e){m=m||n(4),t=t||{};var r=e instanceof m;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,a=t.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(g.nextTick(i,r),g.nextTick(d,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),d(t,e))}(t,n,r,e,i);else{var o=f(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||h(t,n),r?y(c,t,n,o,i):c(t,n,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function u(t){return m=m||n(4),b.call(u,this)||this instanceof m?(this._writableState=new s(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),void _.call(this)):new u(t)}function l(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function c(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),d(t,e)}function h(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,l(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,f=n.callback;if(l(t,e,!1,e.objectMode?1:c.length,c,h,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function f(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function p(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),d(t,e)}))}function d(t,e){var n=f(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,g.nextTick(p,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}var g=n(14);t.exports=u;var m,y=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:g.nextTick;u.WritableState=s;var v=n(9);v.inherits=n(6);var b,E={deprecate:n(94)},_=n(48),w=n(13).Buffer,S=i.Uint8Array||function(){},x=n(47);v.inherits(u,_),s.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(s.prototype,"buffer",{get:E.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(t){return!!b.call(this,t)||this===u&&t&&t._writableState instanceof s}})):b=function(t){return t instanceof this},u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},u.prototype.write=function(t,e,n){var r=this._writableState,i=!1,o=!r.objectMode&&function(t){return w.isBuffer(t)||t instanceof S}(t);return o&&!w.isBuffer(t)&&(t=function(t){return w.from(t)}(t)),"function"==typeof e&&(n=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=a),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),g.nextTick(e,n)}(this,n):(o||function(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),g.nextTick(r,o),i=!1),i}(this,r,t,n))&&(r.pendingcb++,i=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=w.from(e,n)),e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else l(t,e,!1,s,r,i,o);return u}(this,r,o,t,e,n)),i},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||h(this,t))},u.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},u.prototype._writev=null,u.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,d(t,e),n&&(e.finished?g.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),u.prototype.destroy=x.destroy,u.prototype._undestroy=x.undestroy,u.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(15),n(96).setImmediate,n(5))},function(t,e,n){(e=t.exports=n(49)).Stream=e,e.Readable=e,e.Writable=n(21),e.Duplex=n(4),e.Transform=n(45),e.PassThrough=n(93)},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";function r(t){i.call(this,t)}var i=n(26);n(0).inherits(r,i),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var i=n(0);r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=r},function(t,e,n){"use strict";function r(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var i=n(25);n(0).inherits(r,i),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(26),a=n(54),s=n(53),u=n(24);t.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new s(t):i.uint8array?new u(r.transformTo("uint8array",t)):new o(r.transformTo("array",t)):new a(t)}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK\x03\x04",e.CENTRAL_FILE_HEADER="PK\x01\x02",e.CENTRAL_DIRECTORY_END="PK\x05\x06",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",e.DATA_DESCRIPTOR="PK\x07\b"},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=n(2),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return r(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,o,a,u=e||t.length,l=new Array(2*u);for(i=0,n=0;n<u;)if((o=t[n++])<128)l[i++]=o;else if((a=s[o])>4)l[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<u;)o=o<<6|63&t[n++],a--;a>1?l[i++]=65533:o<65536?l[i++]=o:(o-=65536,l[i++]=55296|o>>10&1023,l[i++]=56320|1023&o)}return r(l,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,n){"use strict";var r=n(1);e.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},e.DEFLATE=n(68)},function(t,e,n){"use strict";function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var i=n(1),o=n(17);n(0).inherits(r,i),r.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=r},function(t,e,n){"use strict";function r(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var i=n(0),o=n(1);i.inherits(r,o),r.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},t.exports=r},function(t,e,n){"use strict";function r(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}var i=n(0),o=n(1);i.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=r},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";(function(e){function r(t,e,n){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=n,i.checkSupport(r),this._worker=t.pipe(new o(r)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}var i=n(0),o=n(72),a=n(1),s=n(44),u=n(3),l=n(8),c=null;if(u.nodestream)try{c=n(71)}catch(t){}r.prototype={accumulate:function(t){return function(t,n){return new l.Promise((function(r,o){var a=[],u=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",(function(t,e){a.push(t),n&&n(e)})).on("error",(function(t){a=[],o(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return i.transformTo(t,e)}}(l,function(t,n){var r,i=0,o=null,a=0;for(r=0;r<n.length;r++)a+=n[r].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(a),r=0;r<n.length;r++)o.set(n[r],i),i+=n[r].length;return o;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(u,a),c);r(t)}catch(t){o(t)}a=[]})).resume()}))}(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){i.delay(e,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=r}).call(this,n(10).Buffer)},function(t,e,n){var r=n(20),i=n(11).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(85);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var r=n(0),i=n(3),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,n,i,a,s,u,l,c=[],h=0,f=t.length,p=f,d="string"!==r.getTypeOf(t);h<t.length;)p=f-h,d?(e=t[h++],n=h<f?t[h++]:0,i=h<f?t[h++]:0):(e=t.charCodeAt(h++),n=h<f?t.charCodeAt(h++):0,i=h<f?t.charCodeAt(h++):0),a=e>>2,s=(3&e)<<4|n>>4,u=p>1?(15&n)<<2|i>>6:64,l=p>2?63&i:64,c.push(o.charAt(a)+o.charAt(s)+o.charAt(u)+o.charAt(l));return c.join("")},e.decode=function(t){var e,n,r,a,s,u,l=0,c=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=i.uint8array?new Uint8Array(0|f):new Array(0|f);l<t.length;)e=o.indexOf(t.charAt(l++))<<2|(a=o.indexOf(t.charAt(l++)))>>4,n=(15&a)<<4|(s=o.indexOf(t.charAt(l++)))>>2,r=(3&s)<<6|(u=o.indexOf(t.charAt(l++))),h[c++]=e,64!==s&&(h[c++]=n),64!==u&&(h[c++]=r);return h}},function(t,e,n){"use strict";function r(t){return this instanceof r?(a.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),void this.on("prefinish",i)):new r(t)}function i(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){o(t,e,n)})):o(this,null,null)}function o(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=r;var a=n(4),s=n(9);s.inherits=n(6),s.inherits(r,a),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(t,e){var n=this;a.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";function r(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(f.isEncoding===p||!p(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=a,this.end=s,e=4;break;case"utf8":this.fillLast=o,e=4;break;case"base64":this.text=u,this.end=l,e=3;break;default:return this.write=c,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(e)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function o(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function a(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function s(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function c(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}var f=n(13).Buffer,p=f.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},r.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=i(e[r]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--r<n||-2===o?0:(o=i(e[r]))>=0?(o>0&&(t.lastNeed=o-2),o):--r<n||-2===o?0:(o=i(e[r]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},r.prototype.fillLast=function(t){return this.lastNeed<=t.length?(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),void(this.lastNeed-=t.length))}},function(t,e,n){"use strict";function r(t,e){t.emit("error",e)}var i=n(14);t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){t.exports=n(23).EventEmitter},function(t,e,n){"use strict";(function(e,r){function i(t,e){t=t||{};var r=e instanceof(_=_||n(4));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(P||(P=n(46).StringDecoder),this.decoder=new P(t.encoding),this.encoding=t.encoding)}function o(t){return _=_||n(4),this instanceof o?(this._readableState=new i(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),void x.call(this)):new o(t)}function a(t,e,n,r,i){var o,a=t._readableState;return null===e?(a.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,l(t)}}(t,a)):(i||(o=function(t,e){var n;return function(t){return T.isBuffer(t)||t instanceof O}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===T.prototype||(e=function(t){return T.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):s(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?s(t,a,e,!1):h(t,a)):s(t,a,e,!1))):r||(a.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function s(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&l(t)),h(t,e)}function u(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function l(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(L("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?E.nextTick(c,t):c(t))}function c(t){L("emit readable"),t.emit("readable"),g(t)}function h(t,e){e.readingMore||(e.readingMore=!0,E.nextTick(f,t,e))}function f(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(L("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function p(t){L("readable nexttick read 0"),t.read(0)}function d(t,e){e.reading||(L("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),g(t),e.flowing&&!e.reading&&t.read(0)}function g(t){var e=t._readableState;for(L("flow",e.flowing);e.flowing&&null!==t.read(););}function m(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(i+=a===o.length?o:o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=T.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function y(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,E.nextTick(v,e,t))}function v(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function b(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var E=n(14);t.exports=o;var _,w=n(51);o.ReadableState=i,n(23).EventEmitter;var S=function(t,e){return t.listeners(e).length},x=n(48),T=n(13).Buffer,O=e.Uint8Array||function(){},C=n(9);C.inherits=n(6);var A=n(99),L=void 0;L=A&&A.debuglog?A.debuglog("stream"):function(){};var P,R=n(98),M=n(47);C.inherits(o,x);var k=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),o.prototype.destroy=M.destroy,o.prototype._undestroy=M.undestroy,o.prototype._destroy=function(t,e){this.push(null),e(t)},o.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=T.from(t,e),e=""),n=!0),a(this,t,e,!1,n)},o.prototype.unshift=function(t){return a(this,t,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(t){return P||(P=n(46).StringDecoder),this._readableState.decoder=new P(t),this._readableState.encoding=t,this};var I=8388608;o.prototype.read=function(t){L("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return L("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?y(this):l(this),null;if(0===(t=u(t,e))&&e.ended)return 0===e.length&&y(this),null;var r,i=e.needReadable;return L("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&L("length less than watermark",i=!0),e.ended||e.reading?L("reading or ended",i=!1):i&&(L("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=u(n,e))),null===(r=t>0?m(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&y(this)),null!==r&&this.emit("data",r),r},o.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(t,e){function n(){L("onend"),t.end()}function i(e){L("ondata"),d=!1,!1!==t.write(e)||d||((1===c.pipesCount&&c.pipes===t||c.pipesCount>1&&-1!==b(c.pipes,t))&&!p&&(L("false write response, pause",l._readableState.awaitDrain),l._readableState.awaitDrain++,d=!0),l.pause())}function o(e){L("onerror",e),u(),t.removeListener("error",o),0===S(t,"error")&&t.emit("error",e)}function a(){t.removeListener("finish",s),u()}function s(){L("onfinish"),t.removeListener("close",a),u()}function u(){L("unpipe"),l.unpipe(t)}var l=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=t;break;case 1:c.pipes=[c.pipes,t];break;default:c.pipes.push(t)}c.pipesCount+=1,L("pipe count=%d opts=%j",c.pipesCount,e);var h=e&&!1===e.end||t===r.stdout||t===r.stderr?u:n;c.endEmitted?E.nextTick(h):l.once("end",h),t.on("unpipe",(function e(r,h){L("onunpipe"),r===l&&h&&!1===h.hasUnpiped&&(h.hasUnpiped=!0,L("cleanup"),t.removeListener("close",a),t.removeListener("finish",s),t.removeListener("drain",f),t.removeListener("error",o),t.removeListener("unpipe",e),l.removeListener("end",n),l.removeListener("end",u),l.removeListener("data",i),p=!0,!c.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}));var f=function(t){return function(){var e=t._readableState;L("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&S(t,"data")&&(e.flowing=!0,g(t))}}(l);t.on("drain",f);var p=!1,d=!1;return l.on("data",i),function(t,e,n){"function"==typeof t.prependListener?t.prependListener(e,n):t._events&&t._events[e]?w(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",o),t.once("close",a),t.once("finish",s),t.emit("pipe",l),c.flowing||(L("pipe resume"),l.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=b(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},o.prototype.on=function(t,e){var n=x.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&l(this):E.nextTick(p,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var t=this._readableState;return t.flowing||(L("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,E.nextTick(d,t,e))}(this,t)),this},o.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(L("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){L("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<k.length;o++)t.on(k[o],this.emit.bind(this,k[o]));return this._read=function(e){L("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),o._fromList=m}).call(this,n(5),n(15))},function(t,e,n){t.exports=n(100)},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var i=n(27),o=n(0),a=n(18),s=n(17),u=n(7),l=n(34),c=n(3);r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<i;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){var t=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)||s(this.fileName)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)||s(this.fileComment)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null}},t.exports=r},function(t,e,n){"use strict";function r(t){i.call(this,t)}var i=n(24);n(0).inherits(r,i),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){i.call(this,t)}var i=n(25);n(0).inherits(r,i),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){this.files=[],this.loadOptions=t}var i=n(27),o=n(0),a=n(28),s=n(52),u=(n(7),n(3));r.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=u.uint8array?"uint8array":"array",n=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(r>0)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=r},function(t,e,n){"use strict";function r(t){return new o.Promise((function(e,n){var r=t.decompressed.getContentWorker().pipe(new u);r.on("error",(function(t){n(t)})).on("end",(function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}var i=n(0),o=n(8),a=n(7),s=(i=n(0),n(55)),u=n(35),l=n(12);t.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new s(e);return n.load(t),n})).then((function(t){var n=[o.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var a=0;a<i.length;a++)n.push(r(i[a]));return o.Promise.all(n)})).then((function(t){for(var r=t.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},function(t,e,n){"use strict";function r(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var i=n(0),o=n(1);i.inherits(r,o),r.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},r.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var i=n(0),o=n(1),a=n(7),s=n(17),u=n(28),l=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},c=function(t,e,n,r,o,c){var h,f,p=t.file,d=t.compression,g=c!==a.utf8encode,m=i.transformTo("string",c(p.name)),y=i.transformTo("string",a.utf8encode(p.name)),v=p.comment,b=i.transformTo("string",c(v)),E=i.transformTo("string",a.utf8encode(v)),_=y.length!==p.name.length,w=E.length!==v.length,S="",x="",T="",O=p.dir,C=p.date,A={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(A.crc32=t.crc32,A.compressedSize=t.compressedSize,A.uncompressedSize=t.uncompressedSize);var L=0;e&&(L|=8),g||!_&&!w||(L|=2048);var P=0,R=0;O&&(P|=16),"UNIX"===o?(R=798,P|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(p.unixPermissions,O)):(R=20,P|=function(t,e){return 63&(t||0)}(p.dosPermissions)),h=C.getUTCHours(),h<<=6,h|=C.getUTCMinutes(),h<<=5,h|=C.getUTCSeconds()/2,f=C.getUTCFullYear()-1980,f<<=4,f|=C.getUTCMonth()+1,f<<=5,f|=C.getUTCDate(),_&&(x=l(1,1)+l(s(m),4)+y,S+="up"+l(x.length,2)+x),w&&(T=l(1,1)+l(s(b),4)+E,S+="uc"+l(T.length,2)+T);var M="";return M+="\n\0",M+=l(L,2),M+=d.magic,M+=l(h,2),M+=l(f,2),M+=l(A.crc32,4),M+=l(A.compressedSize,4),M+=l(A.uncompressedSize,4),M+=l(m.length,2),M+=l(S.length,2),{fileRecord:u.LOCAL_FILE_HEADER+M+m+S,dirRecord:u.CENTRAL_FILE_HEADER+l(R,2)+M+l(b.length,2)+"\0\0\0\0"+l(P,4)+l(r,4)+m+S+b}};i.inherits(r,o),r.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},r.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=c(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=c(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return u.DATA_DESCRIPTOR+l(t.crc32,4)+l(t.compressedSize,4)+l(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,r=function(t,e,n,r,o){var a=i.transformTo("string",o(r));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(t,2)+l(t,2)+l(e,4)+l(n,4)+l(a.length,2)+a}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},r.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},r.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=r},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";var r=n(2),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,l,c,h,f){var p,d,g,m,y,v,b,E,_,w=f.bits,S=0,x=0,T=0,O=0,C=0,A=0,L=0,P=0,R=0,M=0,k=null,I=0,N=new r.Buf16(16),D=new r.Buf16(16),j=null,F=0;for(S=0;S<=15;S++)N[S]=0;for(x=0;x<u;x++)N[e[n+x]]++;for(C=w,O=15;O>=1&&0===N[O];O--);if(C>O&&(C=O),0===O)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(T=1;T<O&&0===N[T];T++);for(C<T&&(C=T),P=1,S=1;S<=15;S++)if(P<<=1,(P-=N[S])<0)return-1;if(P>0&&(0===t||1!==O))return-1;for(D[1]=0,S=1;S<15;S++)D[S+1]=D[S]+N[S];for(x=0;x<u;x++)0!==e[n+x]&&(h[D[e[n+x]]++]=x);if(0===t?(k=j=h,v=19):1===t?(k=i,I-=257,j=o,F-=257,v=256):(k=a,j=s,v=-1),M=0,x=0,S=T,y=c,A=C,L=0,g=-1,m=(R=1<<C)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){b=S-L,h[x]<v?(E=0,_=h[x]):h[x]>v?(E=j[F+h[x]],_=k[I+h[x]]):(E=96,_=0),p=1<<S-L,T=d=1<<A;do{l[y+(M>>L)+(d-=p)]=b<<24|E<<16|_|0}while(0!==d);for(p=1<<S-1;M&p;)p>>=1;if(0!==p?(M&=p-1,M+=p):M=0,x++,0==--N[S]){if(S===O)break;S=e[n+h[x]]}if(S>C&&(M&m)!==g){for(0===L&&(L=C),y+=T,P=1<<(A=S-L);A+L<O&&!((P-=N[A+L])<=0);)A++,P<<=1;if(R+=1<<A,1===t&&R>852||2===t&&R>592)return 1;l[g=M&m]=C<<24|A<<16|y-c|0}}return 0!==M&&(l[y+M]=S-L<<24|64<<16|0),f.bits=C,0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w,S,x,T,O;n=t.state,r=t.next_in,T=t.input,i=r+(t.avail_in-5),o=t.next_out,O=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,h=n.wnext,f=n.window,p=n.hold,d=n.bits,g=n.lencode,m=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{d<15&&(p+=T[r++]<<d,d+=8,p+=T[r++]<<d,d+=8),b=g[p&y];e:for(;;){if(p>>>=E=b>>>24,d-=E,0===(E=b>>>16&255))O[o++]=65535&b;else{if(!(16&E)){if(0==(64&E)){b=g[(65535&b)+(p&(1<<E)-1)];continue e}if(32&E){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}_=65535&b,(E&=15)&&(d<E&&(p+=T[r++]<<d,d+=8),_+=p&(1<<E)-1,p>>>=E,d-=E),d<15&&(p+=T[r++]<<d,d+=8,p+=T[r++]<<d,d+=8),b=m[p&v];n:for(;;){if(p>>>=E=b>>>24,d-=E,!(16&(E=b>>>16&255))){if(0==(64&E)){b=m[(65535&b)+(p&(1<<E)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&b,d<(E&=15)&&(p+=T[r++]<<d,(d+=8)<E&&(p+=T[r++]<<d,d+=8)),(w+=p&(1<<E)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=E,d-=E,w>(E=o-a)){if((E=w-E)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=0,x=f,0===h){if(S+=l-E,E<_){_-=E;do{O[o++]=f[S++]}while(--E);S=o-w,x=O}}else if(h<E){if(S+=l+h-E,(E-=h)<_){_-=E;do{O[o++]=f[S++]}while(--E);if(S=0,h<_){_-=E=h;do{O[o++]=f[S++]}while(--E);S=o-w,x=O}}}else if(S+=h-E,E<_){_-=E;do{O[o++]=f[S++]}while(--E);S=o-w,x=O}for(;_>2;)O[o++]=x[S++],O[o++]=x[S++],O[o++]=x[S++],_-=3;_&&(O[o++]=x[S++],_>1&&(O[o++]=x[S++]))}else{S=o-w;do{O[o++]=O[S++],O[o++]=O[S++],O[o++]=O[S++],_-=3}while(_>2);_&&(O[o++]=O[S++],_>1&&(O[o++]=O[S++]))}break}}break}}while(r<i&&o<s);r-=_=d>>3,p&=(1<<(d-=_<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=d}},function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=_,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new f.Buf32(S),e.distcode=e.distdyn=new f.Buf32(x),e.sane=1,e.back=-1,b):E}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,i(t)):E}function a(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?E:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,o(t))):E}function s(t,e){var n,r;return t?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=r,r.window=null,(n=a(t,e))!==b&&(t.state=null),n):E}function u(t){if(T){var e;for(c=new f.Buf32(512),h=new f.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(m(y,t.lens,0,288,c,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;m(v,t.lens,0,32,h,0,t.work,{bits:5}),T=!1}t.lencode=c,t.lenbits=9,t.distcode=h,t.distbits=5}function l(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new f.Buf8(o.wsize)),r>=o.wsize?(f.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),f.arraySet(o.window,e,n-r,i,o.wnext),(r-=i)?(f.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}var c,h,f=n(2),p=n(33),d=n(32),g=n(61),m=n(60),y=1,v=2,b=0,E=-2,_=1,w=12,S=852,x=592,T=!0;e.inflateReset=o,e.inflateReset2=a,e.inflateResetKeep=i,e.inflateInit=function(t){return s(t,15)},e.inflateInit2=s,e.inflate=function(t,e){var n,i,o,a,s,c,h,S,x,T,O,C,A,L,P,R,M,k,I,N,D,j,F,V,B=0,U=new f.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return E;(n=t.state).mode===w&&(n.mode=13),s=t.next_out,o=t.output,h=t.avail_out,a=t.next_in,i=t.input,c=t.avail_in,S=n.hold,x=n.bits,T=c,O=h,j=b;t:for(;;)switch(n.mode){case _:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if(2&n.wrap&&35615===S){n.check=0,U[0]=255&S,U[1]=S>>>8&255,n.check=d(n.check,U,2,0),S=0,x=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&S)<<8)+(S>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!==(15&S)){t.msg="unknown compression method",n.mode=30;break}if(x-=4,D=8+(15&(S>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,t.adler=n.check=1,n.mode=512&S?10:w,S=0,x=0;break;case 2:for(;x<16;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if(n.flags=S,8!==(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=S>>8&1),512&n.flags&&(U[0]=255&S,U[1]=S>>>8&255,n.check=d(n.check,U,2,0)),S=0,x=0,n.mode=3;case 3:for(;x<32;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}n.head&&(n.head.time=S),512&n.flags&&(U[0]=255&S,U[1]=S>>>8&255,U[2]=S>>>16&255,U[3]=S>>>24&255,n.check=d(n.check,U,4,0)),S=0,x=0,n.mode=4;case 4:for(;x<16;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}n.head&&(n.head.xflags=255&S,n.head.os=S>>8),512&n.flags&&(U[0]=255&S,U[1]=S>>>8&255,n.check=d(n.check,U,2,0)),S=0,x=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}n.length=S,n.head&&(n.head.extra_len=S),512&n.flags&&(U[0]=255&S,U[1]=S>>>8&255,n.check=d(n.check,U,2,0)),S=0,x=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((C=n.length)>c&&(C=c),C&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),f.arraySet(n.head.extra,i,a,C,D)),512&n.flags&&(n.check=d(n.check,i,C,a)),c-=C,a+=C,n.length-=C),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===c)break t;C=0;do{D=i[a+C++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D))}while(D&&C<c);if(512&n.flags&&(n.check=d(n.check,i,C,a)),c-=C,a+=C,D)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===c)break t;C=0;do{D=i[a+C++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D))}while(D&&C<c);if(512&n.flags&&(n.check=d(n.check,i,C,a)),c-=C,a+=C,D)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if(S!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}S=0,x=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=w;break;case 10:for(;x<32;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}t.adler=n.check=r(S),S=0,x=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=s,t.avail_out=h,t.next_in=a,t.avail_in=c,n.hold=S,n.bits=x,2;t.adler=n.check=1,n.mode=w;case w:if(5===e||6===e)break t;case 13:if(n.last){S>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}switch(n.last=1&S,x-=1,3&(S>>>=1)){case 0:n.mode=14;break;case 1:if(u(n),n.mode=20,6===e){S>>>=2,x-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}S>>>=2,x-=2;break;case 14:for(S>>>=7&x,x-=7&x;x<32;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if((65535&S)!=(S>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&S,S=0,x=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(C=n.length){if(C>c&&(C=c),C>h&&(C=h),0===C)break t;f.arraySet(o,i,a,C,s),c-=C,a+=C,h-=C,s+=C,n.length-=C;break}n.mode=w;break;case 17:for(;x<14;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if(n.nlen=257+(31&S),S>>>=5,x-=5,n.ndist=1+(31&S),S>>>=5,x-=5,n.ncode=4+(15&S),S>>>=4,x-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}n.lens[G[n.have++]]=7&S,S>>>=3,x-=3}for(;n.have<19;)n.lens[G[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},j=m(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,j){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;R=(B=n.lencode[S&(1<<n.lenbits)-1])>>>16&255,M=65535&B,!((P=B>>>24)<=x);){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if(M<16)S>>>=P,x-=P,n.lens[n.have++]=M;else{if(16===M){for(V=P+2;x<V;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if(S>>>=P,x-=P,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],C=3+(3&S),S>>>=2,x-=2}else if(17===M){for(V=P+3;x<V;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}x-=P,D=0,C=3+(7&(S>>>=P)),S>>>=3,x-=3}else{for(V=P+7;x<V;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}x-=P,D=0,C=11+(127&(S>>>=P)),S>>>=7,x-=7}if(n.have+C>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,F={bits:n.lenbits},j=m(y,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,j){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},j=m(v,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,j){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(c>=6&&h>=258){t.next_out=s,t.avail_out=h,t.next_in=a,t.avail_in=c,n.hold=S,n.bits=x,g(t,O),s=t.next_out,o=t.output,h=t.avail_out,a=t.next_in,i=t.input,c=t.avail_in,S=n.hold,x=n.bits,n.mode===w&&(n.back=-1);break}for(n.back=0;R=(B=n.lencode[S&(1<<n.lenbits)-1])>>>16&255,M=65535&B,!((P=B>>>24)<=x);){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if(R&&0==(240&R)){for(k=P,I=R,N=M;R=(B=n.lencode[N+((S&(1<<k+I)-1)>>k)])>>>16&255,M=65535&B,!(k+(P=B>>>24)<=x);){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}S>>>=k,x-=k,n.back+=k}if(S>>>=P,x-=P,n.back+=P,n.length=M,0===R){n.mode=26;break}if(32&R){n.back=-1,n.mode=w;break}if(64&R){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&R,n.mode=22;case 22:if(n.extra){for(V=n.extra;x<V;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}n.length+=S&(1<<n.extra)-1,S>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;R=(B=n.distcode[S&(1<<n.distbits)-1])>>>16&255,M=65535&B,!((P=B>>>24)<=x);){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if(0==(240&R)){for(k=P,I=R,N=M;R=(B=n.distcode[N+((S&(1<<k+I)-1)>>k)])>>>16&255,M=65535&B,!(k+(P=B>>>24)<=x);){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}S>>>=k,x-=k,n.back+=k}if(S>>>=P,x-=P,n.back+=P,64&R){t.msg="invalid distance code",n.mode=30;break}n.offset=M,n.extra=15&R,n.mode=24;case 24:if(n.extra){for(V=n.extra;x<V;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}n.offset+=S&(1<<n.extra)-1,S>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===h)break t;if(C=O-h,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}C>n.wnext?(C-=n.wnext,A=n.wsize-C):A=n.wnext-C,C>n.length&&(C=n.length),L=n.window}else L=o,A=s-n.offset,C=n.length;C>h&&(C=h),h-=C,n.length-=C;do{o[s++]=L[A++]}while(--C);0===n.length&&(n.mode=21);break;case 26:if(0===h)break t;o[s++]=n.length,h--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===c)break t;c--,S|=i[a++]<<x,x+=8}if(O-=h,t.total_out+=O,n.total+=O,O&&(t.adler=n.check=n.flags?d(n.check,o,O,s-O):p(n.check,o,O,s-O)),O=h,(n.flags?S:r(S))!==n.check){t.msg="incorrect data check",n.mode=30;break}S=0,x=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===c)break t;c--,S+=i[a++]<<x,x+=8}if(S!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}S=0,x=0}n.mode=29;case 29:j=1;break t;case 30:j=-3;break t;case 31:return-4;case 32:default:return E}return t.next_out=s,t.avail_out=h,t.next_in=a,t.avail_in=c,n.hold=S,n.bits=x,(n.wsize||O!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&l(t,t.output,t.next_out,O-t.avail_out)?(n.mode=31,-4):(T-=t.avail_in,O-=t.avail_out,t.total_in+=T,t.total_out+=O,n.total+=O,n.wrap&&O&&(t.adler=n.check=n.flags?d(n.check,o,O,t.next_out-O):p(n.check,o,O,t.next_out-O)),t.data_type=n.bits+(n.last?64:0)+(n.mode===w?128:0)+(20===n.mode||15===n.mode?256:0),(0===T&&0===O||4===e)&&j===b&&(j=-5),j)},e.inflateEnd=function(t){if(!t||!t.state)return E;var e=t.state;return e.window&&(e.window=null),t.state=null,b},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?E:(n.head=e,e.done=!1,b):E},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?E:11===n.mode&&p(1,e,r,0)!==n.check?-3:l(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,b):E},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,e.windowBits);if(n!==u.Z_OK)throw new Error(l[n]);this.header=new h,o.inflateGetHeader(this.strm,this.header)}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||l[n.err];return n.result}var o=n(62),a=n(2),s=n(31),u=n(29),l=n(16),c=n(30),h=n(59),f=Object.prototype.toString;r.prototype.push=function(t,e){var n,r,i,l,c,h,p=this.strm,d=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?p.input=s.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new a.Buf8(d),p.next_out=0,p.avail_out=d),(n=o.inflate(p,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&g&&(h="string"==typeof g?s.string2buf(g):"[object ArrayBuffer]"===f.call(g)?new Uint8Array(g):g,n=o.inflateSetDictionary(this.strm,h)),n===u.Z_BUF_ERROR&&!0===m&&(n=u.Z_OK,m=!1),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==u.Z_STREAM_END&&(0!==p.avail_in||r!==u.Z_FINISH&&r!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(i=s.utf8border(p.output,p.next_out),l=p.next_out-i,c=s.buf2string(p.output,i),p.next_out=l,p.avail_out=d-l,l&&a.arraySet(p.output,p.output,i,l,0),this.onData(c)):this.onData(a.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(r=u.Z_FINISH),r===u.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):r!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),p.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=r,e.inflate=i,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},e.ungzip=i},function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?B[t]:B[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>L-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>L-t.bi_valid,t.bi_valid+=n-L):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function l(t,e,n){u(t,n[2*e],n[2*e+1])}function c(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function h(t,e,n){var r,i,o=new Array(A+1),a=0;for(r=1;r<=A;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=c(o[s]++,s))}}function f(t){var e;for(e=0;e<x;e++)t.dyn_ltree[2*e]=0;for(e=0;e<T;e++)t.dyn_dtree[2*e]=0;for(e=0;e<O;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*P]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function p(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function d(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function g(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&d(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!d(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function m(t,e,n){var r,i,o,s,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?l(t,i,e):(l(t,(o=U[i])+S+1,e),0!==(s=I[o])&&u(t,i-=G[o],s),l(t,o=a(--r),n),0!==(s=N[o])&&u(t,r-=H[o],s))}while(c<t.last_lit);l(t,P,e)}function y(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=C,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)g(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,g(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,g=0;for(o=0;o<=A;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<C;n++)(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)>d&&(o=d,g++),u[2*r+1]=o,r>l||(t.bl_count[o]++,a=0,r>=p&&(a=f[r-p]),s=u[2*r],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==g){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,g-=2}while(g>0);for(o=d;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>l||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),h(o,l,t.bl_count)}function v(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*R]++):s<=10?t.bl_tree[2*M]++:t.bl_tree[2*k]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function b(t,e,n){var r,i,o=-1,a=e[1],s=0,c=7,h=4;for(0===a&&(c=138,h=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<c&&i===a)){if(s<h)do{l(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(l(t,i,t.bl_tree),s--),l(t,R,t.bl_tree),u(t,s-3,2)):s<=10?(l(t,M,t.bl_tree),u(t,s-3,3)):(l(t,k,t.bl_tree),u(t,s-11,7));s=0,o=i,0===a?(c=138,h=3):i===a?(c=6,h=3):(c=7,h=4)}}function E(t,e,n,r){u(t,(w<<1)+(r?1:0),3),function(t,e,n,r){p(t),s(t,n),s(t,~n),_.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}var _=n(2),w=0,S=256,x=S+1+29,T=30,O=19,C=2*x+1,A=15,L=16,P=256,R=16,M=17,k=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(x+2));r(F);var V=new Array(2*T);r(V);var B=new Array(512);r(B);var U=new Array(256);r(U);var G=new Array(29);r(G);var W,K,z,H=new Array(T);r(H);var Y=!1;e._tr_init=function(t){Y||(function(){var t,e,n,r,o,a=new Array(A+1);for(n=0,r=0;r<28;r++)for(G[r]=n,t=0;t<1<<I[r];t++)U[n++]=r;for(U[n-1]=r,o=0,r=0;r<16;r++)for(H[r]=o,t=0;t<1<<N[r];t++)B[o++]=r;for(o>>=7;r<T;r++)for(H[r]=o<<7,t=0;t<1<<N[r]-7;t++)B[256+o++]=r;for(e=0;e<=A;e++)a[e]=0;for(t=0;t<=143;)F[2*t+1]=8,t++,a[8]++;for(;t<=255;)F[2*t+1]=9,t++,a[9]++;for(;t<=279;)F[2*t+1]=7,t++,a[7]++;for(;t<=287;)F[2*t+1]=8,t++,a[8]++;for(h(F,x+1,a),t=0;t<T;t++)V[2*t+1]=5,V[2*t]=c(t,5);W=new i(F,I,S+1,x,A),K=new i(V,N,0,T,A),z=new i(new Array(0),D,0,O,7)}(),Y=!0),t.l_desc=new o(t.dyn_ltree,W),t.d_desc=new o(t.dyn_dtree,K),t.bl_desc=new o(t.bl_tree,z),t.bi_buf=0,t.bi_valid=0,f(t)},e._tr_stored_block=E,e._tr_flush_block=function(t,e,n,r){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<S;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),y(t,t.l_desc),y(t,t.d_desc),a=function(t){var e;for(v(t,t.dyn_ltree,t.l_desc.max_code),v(t,t.dyn_dtree,t.d_desc.max_code),y(t,t.bl_desc),e=O-1;e>=3&&0===t.bl_tree[2*j[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?E(t,e,n,r):4===t.strategy||o===i?(u(t,2+(r?1:0),3),m(t,F,V)):(u(t,4+(r?1:0),3),function(t,e,n,r){var i;for(u(t,e-257,5),u(t,n-1,5),u(t,r-4,4),i=0;i<r;i++)u(t,t.bl_tree[2*j[i]+1],3);b(t,t.dyn_ltree,e-1),b(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),m(t,t.dyn_ltree,t.dyn_dtree)),f(t),r&&p(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(U[n]+S+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){u(t,2,3),l(t,P,F),function(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";function r(t,e){return t.msg=x[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(E.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){_._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,E.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=w(t.adler,e,i,n):2===t.state.wrap&&(t.adler=S(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function h(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-G?t.strstart-(t.w_size-G):0,l=t.window,c=t.w_mask,h=t.prev,f=t.strstart+U,p=l[o+a-1],d=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+a]===d&&l[n+a-1]===p&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(r=U-(f-o),o=f-U,r>a){if(t.match_start=e,a=r,r>=s)break;p=l[o+a-1],d=l[o+a]}}}while((e=h[e&c])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function f(t){var e,n,r,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-G)){E.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=a?r-a:0}while(--n);e=n=a;do{r=t.prev[--e],t.prev[e]=r>=a?r-a:0}while(--n);i+=a}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=B)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+B-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<B)););}while(t.lookahead<G&&0!==t.strm.avail_in)}function p(t,e){for(var n,r;;){if(t.lookahead<G){if(f(t),t.lookahead<G&&e===T)return z;if(0===t.lookahead)break}if(n=0,t.lookahead>=B&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-G&&(t.match_length=h(t,n)),t.match_length>=B)if(r=_._tr_tally(t,t.strstart-t.match_start,t.match_length-B),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=B){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return z}return t.insert=t.strstart<B-1?t.strstart:B-1,e===O?(s(t,!0),0===t.strm.avail_out?Y:q):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?z:H}function d(t,e){for(var n,r,i;;){if(t.lookahead<G){if(f(t),t.lookahead<G&&e===T)return z;if(0===t.lookahead)break}if(n=0,t.lookahead>=B&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=B-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-G&&(t.match_length=h(t,n),t.match_length<=5&&(t.strategy===P||t.match_length===B&&t.strstart-t.match_start>4096)&&(t.match_length=B-1)),t.prev_length>=B&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-B,r=_._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-B),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=B-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return z}else if(t.match_available){if((r=_._tr_tally(t,0,t.window[t.strstart-1]))&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return z}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=_._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<B-1?t.strstart:B-1,e===O?(s(t,!0),0===t.strm.avail_out?Y:q):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?z:H}function g(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function m(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=M,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?W:K,t.adler=2===e.wrap?0:1,e.last_flush=T,_._tr_init(e),C):r(t,A)}function y(t){var e=m(t);return e===C&&function(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=b[t.level].max_lazy,t.good_match=b[t.level].good_length,t.nice_match=b[t.level].nice_length,t.max_chain_length=b[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=B-1,t.match_available=0,t.ins_h=0}(t.state),e}function v(t,e,n,i,a,s){if(!t)return A;var u=1;if(e===L&&(e=6),i<0?(u=0,i=-i):i>15&&(u=2,i-=16),a<1||a>I||n!==k||i<8||i>15||e<0||e>9||s<0||s>R)return r(t,A);8===i&&(i=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*F),this.dyn_dtree=new E.Buf16(2*(2*D+1)),this.bl_tree=new E.Buf16(2*(2*j+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(V+1),this.heap=new E.Buf16(2*N+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*N+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=l,l.strm=t,l.wrap=u,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+B-1)/B),l.window=new E.Buf8(2*l.w_size),l.head=new E.Buf16(l.hash_size),l.prev=new E.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new E.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=n,y(t)}var b,E=n(2),_=n(64),w=n(33),S=n(32),x=n(16),T=0,O=4,C=0,A=-2,L=-1,P=1,R=4,M=2,k=8,I=9,N=286,D=30,j=19,F=2*N+1,V=15,B=3,U=258,G=U+B+1,W=42,K=113,z=1,H=2,Y=3,q=4;b=[new g(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===T)return z;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return z;if(t.strstart-t.block_start>=t.w_size-G&&(s(t,!1),0===t.strm.avail_out))return z}return t.insert=0,e===O?(s(t,!0),0===t.strm.avail_out?Y:q):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),z)})),new g(4,4,8,4,p),new g(4,5,16,8,p),new g(4,6,32,32,p),new g(4,4,16,16,d),new g(8,16,32,32,d),new g(8,16,128,128,d),new g(8,32,128,256,d),new g(32,128,258,1024,d),new g(32,258,258,4096,d)],e.deflateInit=function(t,e){return v(t,e,k,15,8,0)},e.deflateInit2=v,e.deflateReset=y,e.deflateResetKeep=m,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?A:(t.state.gzhead=e,C):A},e.deflate=function(t,e){var n,c,h,p;if(!t||!t.state||e>5||e<0)return t?r(t,A):A;if(c=t.state,!t.output||!t.input&&0!==t.avail_in||666===c.status&&e!==O)return r(t,0===t.avail_out?-5:A);if(c.strm=t,n=c.last_flush,c.last_flush=e,c.status===W)if(2===c.wrap)t.adler=0,u(c,31),u(c,139),u(c,8),c.gzhead?(u(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),u(c,255&c.gzhead.time),u(c,c.gzhead.time>>8&255),u(c,c.gzhead.time>>16&255),u(c,c.gzhead.time>>24&255),u(c,9===c.level?2:c.strategy>=2||c.level<2?4:0),u(c,255&c.gzhead.os),c.gzhead.extra&&c.gzhead.extra.length&&(u(c,255&c.gzhead.extra.length),u(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(t.adler=S(t.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69):(u(c,0),u(c,0),u(c,0),u(c,0),u(c,0),u(c,9===c.level?2:c.strategy>=2||c.level<2?4:0),u(c,3),c.status=K);else{var d=k+(c.w_bits-8<<4)<<8;d|=(c.strategy>=2||c.level<2?0:c.level<6?1:6===c.level?2:3)<<6,0!==c.strstart&&(d|=32),d+=31-d%31,c.status=K,l(c,d),0!==c.strstart&&(l(c,t.adler>>>16),l(c,65535&t.adler)),t.adler=1}if(69===c.status)if(c.gzhead.extra){for(h=c.pending;c.gzindex<(65535&c.gzhead.extra.length)&&(c.pending!==c.pending_buf_size||(c.gzhead.hcrc&&c.pending>h&&(t.adler=S(t.adler,c.pending_buf,c.pending-h,h)),a(t),h=c.pending,c.pending!==c.pending_buf_size));)u(c,255&c.gzhead.extra[c.gzindex]),c.gzindex++;c.gzhead.hcrc&&c.pending>h&&(t.adler=S(t.adler,c.pending_buf,c.pending-h,h)),c.gzindex===c.gzhead.extra.length&&(c.gzindex=0,c.status=73)}else c.status=73;if(73===c.status)if(c.gzhead.name){h=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>h&&(t.adler=S(t.adler,c.pending_buf,c.pending-h,h)),a(t),h=c.pending,c.pending===c.pending_buf_size)){p=1;break}p=c.gzindex<c.gzhead.name.length?255&c.gzhead.name.charCodeAt(c.gzindex++):0,u(c,p)}while(0!==p);c.gzhead.hcrc&&c.pending>h&&(t.adler=S(t.adler,c.pending_buf,c.pending-h,h)),0===p&&(c.gzindex=0,c.status=91)}else c.status=91;if(91===c.status)if(c.gzhead.comment){h=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>h&&(t.adler=S(t.adler,c.pending_buf,c.pending-h,h)),a(t),h=c.pending,c.pending===c.pending_buf_size)){p=1;break}p=c.gzindex<c.gzhead.comment.length?255&c.gzhead.comment.charCodeAt(c.gzindex++):0,u(c,p)}while(0!==p);c.gzhead.hcrc&&c.pending>h&&(t.adler=S(t.adler,c.pending_buf,c.pending-h,h)),0===p&&(c.status=103)}else c.status=103;if(103===c.status&&(c.gzhead.hcrc?(c.pending+2>c.pending_buf_size&&a(t),c.pending+2<=c.pending_buf_size&&(u(c,255&t.adler),u(c,t.adler>>8&255),t.adler=0,c.status=K)):c.status=K),0!==c.pending){if(a(t),0===t.avail_out)return c.last_flush=-1,C}else if(0===t.avail_in&&i(e)<=i(n)&&e!==O)return r(t,-5);if(666===c.status&&0!==t.avail_in)return r(t,-5);if(0!==t.avail_in||0!==c.lookahead||e!==T&&666!==c.status){var g=2===c.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===T)return z;break}if(t.match_length=0,n=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return z}return t.insert=0,e===O?(s(t,!0),0===t.strm.avail_out?Y:q):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?z:H}(c,e):3===c.strategy?function(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=U){if(f(t),t.lookahead<=U&&e===T)return z;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=B&&t.strstart>0&&(r=a[i=t.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=t.strstart+U;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=U-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=B?(n=_._tr_tally(t,1,t.match_length-B),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return z}return t.insert=0,e===O?(s(t,!0),0===t.strm.avail_out?Y:q):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?z:H}(c,e):b[c.level].func(c,e);if(g!==Y&&g!==q||(c.status=666),g===z||g===Y)return 0===t.avail_out&&(c.last_flush=-1),C;if(g===H&&(1===e?_._tr_align(c):5!==e&&(_._tr_stored_block(c,0,0,!1),3===e&&(o(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),a(t),0===t.avail_out))return c.last_flush=-1,C}return e!==O?C:c.wrap<=0?1:(2===c.wrap?(u(c,255&t.adler),u(c,t.adler>>8&255),u(c,t.adler>>16&255),u(c,t.adler>>24&255),u(c,255&t.total_in),u(c,t.total_in>>8&255),u(c,t.total_in>>16&255),u(c,t.total_in>>24&255)):(l(c,t.adler>>>16),l(c,65535&t.adler)),a(t),c.wrap>0&&(c.wrap=-c.wrap),0!==c.pending?C:1)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==W&&69!==e&&73!==e&&91!==e&&103!==e&&e!==K&&666!==e?r(t,A):(t.state=null,e===K?r(t,-3):C):A},e.deflateSetDictionary=function(t,e){var n,r,i,a,s,u,l,c,h=e.length;if(!t||!t.state)return A;if(2===(a=(n=t.state).wrap)||1===a&&n.status!==W||n.lookahead)return A;for(1===a&&(t.adler=w(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new E.Buf8(n.w_size),E.arraySet(c,e,h-n.w_size,n.w_size,0),e=c,h=n.w_size),s=t.avail_in,u=t.next_in,l=t.input,t.avail_in=h,t.next_in=0,t.input=e,f(n);n.lookahead>=B;){r=n.strstart,i=n.lookahead-(B-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+B-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=B-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=B-1,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=s,n.wrap=a,C},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=a.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==h)throw new Error(u[n]);if(e.header&&o.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=o.deflateSetDictionary(this.strm,i))!==h)throw new Error(u[n]);this._dict_set=!0}}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||u[n.err];return n.result}var o=n(65),a=n(2),s=n(31),u=n(16),l=n(30),c=Object.prototype.toString,h=0,f=-1,p=0,d=8;r.prototype.push=function(t,e){var n,r,i=this.strm,u=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=s.string2buf(t):"[object ArrayBuffer]"===c.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new a.Buf8(u),i.next_out=0,i.avail_out=u),1!==(n=o.deflate(i,r))&&n!==h)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(s.buf2binstring(a.shrinkBuf(i.output,i.next_out))):this.onData(a.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h):2!==r||(this.onEnd(h),i.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=r,e.deflate=i,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},function(t,e,n){"use strict";var r={};(0,n(2).assign)(r,n(66),n(63),n(29)),t.exports=r},function(t,e,n){"use strict";function r(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=n(67),a=n(0),s=n(1),u=i?"uint8array":"array";e.magic="\b\0",a.inherits(r,s),r.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(u,t.data),!1)},r.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new r("Deflate",t)},e.uncompressWorker=function(){return new r("Inflate",{})}},function(t,e,n){"use strict";var r=n(34),i=n(58);e.generateWorker=function(t,e,n){var o=new i(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var i=function(t,e){var n=t||e,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},u=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:t,dir:u,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(t){o.error(t)}return o}},function(t,e,n){"use strict";var r=n(39),i=n(37),o=n(7),a=n(18),s=n(1),u=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};u.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(e=e.pipe(new o.Utf8EncodeWorker)),!a&&i&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new s("error")).error(t)}return new r(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)u.prototype[l[h]]=c;t.exports=u},function(t,e,n){"use strict";function r(t,e,n){i.call(this,e),this._helper=t;var r=this;t.on("data",(function(t,e){r.push(t)||r._helper.pause(),n&&n(e)})).on("error",(function(t){r.emit("error",t)})).on("end",(function(){r.push(null)}))}var i=n(50).Readable;n(0).inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},function(t,e,n){"use strict";function r(t){i.call(this,"ConvertWorker to "+t),this.destType=t}var i=n(1),o=n(0);o.inherits(r,i),r.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},t.exports=r},function(t,e,n){"use strict";(function(e){function n(){var t,e;i=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}i=!1}var r,i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),u=e.document.createTextNode("");s.observe(u,{characterData:!0}),r=function(){u.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var l=new e.MessageChannel;l.port1.onmessage=n,r=function(){l.port2.postMessage(0)}}var c=[];t.exports=function(t){1!==c.push(t)||i||r()}}).call(this,n(5))},function(t,e,n){"use strict";function r(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,t!==r&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){c((function(){var r;try{r=e(n)}catch(e){return h.reject(t,e)}r===t?h.reject(t,new TypeError("Cannot resolve promise with itself")):h.resolve(t,r)}))}function s(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){i||(i=!0,h.reject(t,e))}function r(e){i||(i=!0,h.resolve(t,e))}var i=!1,o=l((function(){e(r,n)}));"error"===o.status&&n(o.value)}function l(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}var c=n(73),h={},f=["REJECTED"],p=["FULFILLED"],d=["PENDING"];t.exports=i,i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===p||"function"!=typeof e&&this.state===f)return this;var n=new this.constructor(r);return this.state!==d?a(n,this.state===p?t:e,this.outcome):this.queue.push(new o(n,t,e)),n},o.prototype.callFulfilled=function(t){h.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){h.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},h.resolve=function(t,e){var n=l(s,e);if("error"===n.status)return h.reject(t,n.value);var r=n.value;if(r)u(t,r);else{t.state=p,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},h.reject=function(t,e){t.state=f,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},i.resolve=function(t){return t instanceof this?t:h.resolve(new this(r),t)},i.reject=function(t){var e=new this(r);return h.reject(e,t)},i.all=function(t){function e(t,e){n.resolve(t).then((function(t){a[e]=t,++s!==i||o||(o=!0,h.resolve(l,a))}),(function(t){o||(o=!0,h.reject(l,t))}))}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,u=-1,l=new this(r);++u<i;)e(t[u],u);return l},i.race=function(t){function e(t){n.resolve(t).then((function(t){o||(o=!0,h.resolve(s,t))}),(function(t){o||(o=!0,h.reject(s,t))}))}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a=-1,s=new this(r);++a<i;)e(t[a]);return s}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){t.exports=n(11).document&&document.documentElement},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r,i,o,a=n(42),s=n(77),u=n(76),l=n(40),c=n(11),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,g=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},v=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},p=function(t){delete m[t]},"process"==n(75)(h)?r=function(t){h.nextTick(a(y,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=v,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",v,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(20);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=!n(19)&&!n(41)((function(){return 7!=Object.defineProperty(n(40)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(20);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(82),i=n(81),o=n(80),a=Object.defineProperty;e.f=n(19)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(83),i=n(79);t.exports=n(19)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(11),i=n(43),o=n(42),a=n(84),s=function t(e,n,s){var u,l,c,h=e&t.F,f=e&t.G,p=e&t.S,d=e&t.P,g=e&t.B,m=e&t.W,y=f?i:i[n]||(i[n]={}),v=y.prototype,b=f?r:p?r[n]:(r[n]||{}).prototype;for(u in f&&(s=n),s)(l=!h&&b&&void 0!==b[u])&&u in y||(c=l?b[u]:s[u],y[u]=f&&"function"!=typeof b[u]?s[u]:g&&l?o(c,r):m&&b[u]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):d&&"function"==typeof c?o(Function.call,c):c,d&&((y.virtual||(y.virtual={}))[u]=c,e&t.R&&v&&!v[u]&&a(v,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var r=n(86),i=n(78);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){n(87),t.exports=n(43).setImmediate},function(t,e,n){t.exports=n(22).PassThrough},function(t,e,n){t.exports=n(22).Transform},function(t,e,n){t.exports=n(4)},function(t,e,n){t.exports=n(21)},function(t,e,n){"use strict";function r(t){return this instanceof r?void i.call(this,t):new r(t)}t.exports=r;var i=n(45),o=n(9);o.inherits=n(6),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(5))},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){delete s[t]}function i(t){if(u)setTimeout(i,0,t);else{var e=s[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var o,a=1,s={},u=!1,l=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick((function(){i(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&i(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),o=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){i(t.data)},o=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;o=function(e){var n=l.createElement("script");n.onreadystatechange=function(){i(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():o=function(t){setTimeout(i,0,t)},c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return s[a]=r,o(a),a++},c.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(5),n(15))},function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(95),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(t,e){},function(t,e,n){"use strict";function r(t,e,n){t.copy(e,n)}var i=n(13).Buffer,o=n(97);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,o=0;n;)r(n.data,e,o),o+=n.data.length,n=n.next;return e},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(23).EventEmitter;n(6)(r,i),r.Readable=n(22),r.Writable=n(92),r.Duplex=n(91),r.Transform=n(90),r.PassThrough=n(89),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,t.end())}function a(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){l.removeListener("data",n),t.removeListener("drain",r),l.removeListener("end",o),l.removeListener("close",a),l.removeListener("error",s),t.removeListener("error",s),l.removeListener("end",u),l.removeListener("close",u),t.removeListener("close",u)}var l=this;l.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(l.on("end",o),l.on("close",a));var c=!1;return l.on("error",s),t.on("error",s),l.on("end",u),l.on("close",u),t.on("close",u),t.emit("pipe",l),t}},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*g}},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function i(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function o(t,e,n){for(var r,o=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(i(r));return o.join("")}e.byteLength=function(t){var e=r(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=r(t),i=n[0],o=n[1],a=new u(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),l=0,c=o>0?i-4:i,h=0;h<c;h+=4)e=s[t.charCodeAt(h)]<<18|s[t.charCodeAt(h+1)]<<12|s[t.charCodeAt(h+2)]<<6|s[t.charCodeAt(h+3)],a[l++]=e>>16&255,a[l++]=e>>8&255,a[l++]=255&e;return 2===o&&(e=s[t.charCodeAt(h)]<<2|s[t.charCodeAt(h+1)]>>4,a[l++]=255&e),1===o&&(e=s[t.charCodeAt(h)]<<10|s[t.charCodeAt(h+1)]<<4|s[t.charCodeAt(h+2)]>>2,a[l++]=e>>8&255,a[l++]=255&e),a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],s=0,u=n-r;s<u;s+=16383)i.push(o(t,s,s+16383>u?u:s+16383));return 1===r?(e=t[n-1],i.push(a[e>>2]+a[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"=")),i.join("")};for(var a=[],s=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,h=l.length;c<h;++c)a[c]=l[c],s[l.charCodeAt(c)]=c;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,e,n){"use strict";function r(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var i=n(7),o=n(0),a=n(1),s=n(39),u=n(38),l=n(18),c=n(70),h=n(69),f=n(12),p=n(57),d=function(t,e,n){var r,i=o.getTypeOf(e),s=o.extend(n||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=m(t)),s.createFolders&&(r=g(t))&&y.call(this,r,!0);var h="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!h),(e instanceof l&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",i="string");var d=null;d=e instanceof l||e instanceof a?e:f.isNode&&f.isStream(e)?new p(t,e):o.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var v=new c(t,d,s);this.files[t]=v},g=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},y=function(t,e){return e=void 0!==e?e:u.createFolders,t=m(t),this.files[t]||d.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r))},filter:function(t){var e=[];return this.forEach((function(n,r){t(n,r)&&e.push(r)})),e},file:function(t,e,n){if(1===arguments.length){if(r(t)){var i=t;return this.filter((function(t,e){return!e.dir&&i.test(t)}))}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,d.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(r(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=y.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=h.generateWorker(this,n,r)}catch(t){(e=new a("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=v},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}r.prototype=n(103),r.prototype.loadAsync=n(56),r.support=n(3),r.defaults=n(38),r.version="3.1.5",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=n(8),t.exports=r}])})),i("formats/kml/KmzFile",["../../util/jszip","../../util/Promise","../../util/WWUtil"],(function(t,e,n){"use strict";var r=function(t,e){this._binary=t,this._fileCache=e};return r.prototype.load=function(){var n=this,r=null,i=!1;return(new t).loadAsync(this._binary).then((function(t){return e.all(Object.keys(t.files).map((function(e){return t.files[e]})).map((function(t){return n.hasExtension("kml",t.name)&&!i?(i=!0,t.async("text").then((function(t){r=t}))):n.hasExtension("kml",t.name)?t.async("base64").then((function(e){return new WorldWind.KmlFile(e).then((function(e){n._fileCache.add("href;"+t.name,e)}))})):t.async("base64").then((function(e){var r="data:image/jpeg;base64,"+e;n._fileCache.add("href;"+t.name,r)}))})))})).then((function(){return r}))},r.prototype.hasExtension=function(t,e){return n.endsWith(e,"."+t)},r})),i("formats/kml/util/KmlRefreshListener",[],(function(){var t=function(){this.currentActiveEvents=[]};return t.prototype.addEvent=function(t){var e=this;setTimeout((function(){e.currentActiveEvents.push(t)}),t.time)},t.prototype.getActiveEvents=function(){var t=this.currentActiveEvents.slice();return this.currentActiveEvents=[],t},t.Event=function(t,e,n){this.type=t,this.payload=n,this.time=e},t})),i("formats/kml/util/KmlRemoteFile",["../../../error/ArgumentError","../../../util/Logger","../../../util/Promise"],(function(t,e,n){"use strict";var r=function(n){if(!n.ajax&&!n.zip)throw new t(e.logMessage(e.LEVEL_SEVERE,"RemoteDocument","constructor","Invalid option for retrieval specified. Use either ajax or zip option."));this.options=n};return r.prototype.get=function(){var n=this.options;if(n.ajax)return this.ajax(n.url,n);if(n.zip)return n.responseType=n.responseType||"arraybuffer",this.ajax(n.url,n);throw new t(e.logMessage(e.LEVEL_SEVERE,"RemoteDocument","constructor","Invalid option for retrieval specified. Use either ajax or zip option."))},r.prototype.ajax=function(t,r){return new n((function(n,i){var o=new XMLHttpRequest;o.open("GET",t,!0),r.responseType&&(o.responseType=r.responseType),o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var i;i="arraybuffer"==r.responseType?this.response:this.responseText,n({text:i,headers:o.getAllResponseHeaders()})}else e.log(e.LEVEL_WARNING,"KmlFile retrieval failed ("+o.statusText+"): "+t)},o.onerror=function(){e.log(e.LEVEL_WARNING,"Remote file retrieval failed: "+t),i()}.bind(this),o.ontimeout=function(){e.log(e.LEVEL_WARNING,"Remote file retrieval timed out: "+t),i()}.bind(this),o.send(null)}))},r})),i("formats/kml/util/KmlStyleResolver",["../KmlFile","../styles/KmlStyle","../../../util/Logger","../../../util/Promise"],(function(t,e,n,r){"use strict";var i=function(t){this._fileCache=t};return i.prototype.handleRemoteStyle=function(t,i){return t?this.handleStyleUrl(t):i?this.handleStyleSelector(i):(n.logMessage(n.LEVEL_INFO,"KmlStyleResolver","handleRemoteStyle","Style was null."),r.resolve(e.default()))},i.prototype.handleStyleUrl=function(t){var e=this;return this.handlePromiseOfFile(t).then((function(e){return e.resolveStyle(t)})).then((function(t){return t.isMap?t.resolve(e):r.resolve({normal:t,highlight:null})}))},i.prototype.handlePromiseOfFile=function(t){var e=this._fileCache.retrieve(t);return e?r.resolve(e):new WorldWind.KmlFile({url:t}).then(function(e){return this._fileCache.add(t,e),e}.bind(this))},i.prototype.handleStyleSelector=function(t){return t.isMap?t.resolve(this):new r((function(e){window.setTimeout((function(){e({normal:t,highlight:null})}),0)}))},i})),i("util/XmlDocument",["../error/ArgumentError","../util/Logger"],(function(t,e){var n=function(t){this._document=t};return n.prototype.dom=function(){if(DOMParser){var n=(new DOMParser).parseFromString(this._document,"text/xml");if(n.getElementsByTagName("parsererror").length||!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"XmlDocument","dom","Invalid XML document. "+n.getElementsByTagName("parsererror")[0].innerHTML));return n}var r=new ActiveXObject("Microsoft.XMLDOM");return r.async=!1,r.loadXML(text),r},n.isValid=function(t){try{return new n(t).dom(),!0}catch(t){return!1}},n})),i("formats/kml/KmlFile",["../../error/ArgumentError","./KmlElements","./KmlFileCache","./KmlObject","./styles/KmlStyle","./styles/KmlStyleMap","./KmlTimeSpan","./KmlTimeStamp","./KmzFile","../../util/Logger","../../util/Promise","./util/KmlRefreshListener","./util/KmlRemoteFile","./util/KmlStyleResolver","../../util/XmlDocument","../../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g){"use strict";var m=function(e,i){var o=this;if(!e)throw new t(l.logMessage(l.LEVEL_SEVERE,"KmlFile","constructor","invalidDocumentPassed"));return this._controls=i||null,this._fileCache=new n,this._styleResolver=new p(this._fileCache),this._listener=new h,this._headers=null,this.requestRemote(e).then((function(t){var n=t.text;return o._headers=t.headers,o.hasExtension("kmz",e)?new u(n,o._fileCache).load():n})).then((function(t){return o._document=new d(t).dom(),r.call(o,{objectNode:o._document.documentElement,controls:i}),o._fileCache.add(e,o,!0),o}))};return m.prototype=Object.create(r.prototype),Object.defineProperties(m.prototype,{shapes:{get:function(){return this._factory.all(this)}}}),m.prototype.render=function(t,e){var n=this;e=e||{},this.shapes.forEach((function(r){r.render(t,{lastStyle:e.lastStyle||null,lastVisibility:e.lastVisibility||null,timeRange:e.timeRange||null,regionInvisible:e.regionInvisible||null,fileCache:n._fileCache,styleResolver:n._styleResolver,listener:n._listener,activeEvents:n._listener.getActiveEvents()})}))},m.prototype.hasExtension=function(t,e){return g.endsWith(e,"."+t)},m.prototype.requestRemote=function(t){var e={};return e.url=t,this.hasExtension("kmz",t)?e.zip=!0:e.ajax=!0,new f(e).get()},m.prototype.resolveStyle=function(t){var e=this,n=t.substring(t.indexOf("#")+1,t.length);return new c((function(t,r){var a;(a=e._document.querySelector?e._document.querySelector("*[id='"+n+"']"):e._document.getElementById(n))&&null!=a||r(),a.nodeName==i.prototype.getTagNames()[0]?t(new i({objectNode:a},{styleResolver:e._styleResolver})):a.nodeName==o.prototype.getTagNames()[0]?t(new o({objectNode:a},{styleResolver:e._styleResolver})):l.logMessage(l.LEVEL_WARNING,"KmlFile","resolveStyle","Style must contain either Style node or StyleMap node.")}))},m.prototype.getExpired=function(){var t=new Date(this._headers.getRequestHeader("Expires"));return(new Date).getTime-t.getTime()},m})),i("formats/kml/KmlLatLonAltBox",["./KmlElements","./KmlObject","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlNorth:{get:function(){return this._factory.specific(this,{name:"north",transformer:n.number})}},kmlSouth:{get:function(){return this._factory.specific(this,{name:"south",transformer:n.number})}},kmlEast:{get:function(){return this._factory.specific(this,{name:"east",transformer:n.number})}},kmlWest:{get:function(){return this._factory.specific(this,{name:"west",transformer:n.number})}},kmlMinAltitude:{get:function(){return this._factory.specific(this,{name:"minAltitude",transformer:n.number})}},kmlMaxAltitude:{get:function(){return this._factory.specific(this,{name:"maxAltitude",transformer:n.number})}}}),r.prototype.getTagNames=function(){return["LatLonAltBox"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/KmlLod",["./KmlElements","./KmlObject","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlMinLodPixels:{get:function(){return this._factory.specific(this,{name:"minLodPixels",transformer:n.number})}},kmlMaxLodPixels:{get:function(){return this._factory.specific(this,{name:"maxLodPixels",transformer:n.number})}},kmlMinFadeExtent:{get:function(){return this._factory.specific(this,{name:"minFadeExtent",transformer:n.number})}},kmlMaxFadeExtent:{get:function(){return this._factory.specific(this,{name:"maxFadeExtent",transformer:n.number})}}}),r.prototype.getTagNames=function(){return["Lod"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/KmlRegion",["../../geom/BoundingBox","../../util/Color","./KmlElements","./KmlLatLonAltBox","./KmlLod","./KmlObject","./styles/KmlStyle","./util/KmlNodeTransformers","../../geom/Sector"],(function(t,e,n,r,i,o,a,s,u){"use strict";var l=function(t){o.call(this,t)};return l.prototype=Object.create(o.prototype),Object.defineProperties(l.prototype,{kmlLatLonAltBox:{get:function(){return this._factory.specific(this,{name:r.prototype.getTagNames(),transformer:s.kmlObject})}},kmlLod:{get:function(){return this._factory.specific(this,{name:i.prototype.getTagNames(),transformer:s.kmlObject})}}}),l.prototype.intersectsVisible=function(e){var n=this.kmlLatLonAltBox,r=new t;return r.setToSector(new u(n.kmlSouth,n.kmlNorth,n.kmlWest,n.kmlEast),e.globe,n.kmlMinAltitude,n.kmlMaxAltitude),r.intersectsFrustum(e.frustumInModelCoordinates)&&(!n.kmlMinAltitude||e.eyePosition.altitude>n.kmlMinAltitude)&&(!n.kmlMaxAltitude||e.eyePosition.altitude<n.kmlMaxAltitude)},l.prototype.getTagNames=function(){return["Region"]},n.addKey(l.prototype.getTagNames()[0],l),l})),i("formats/kml/features/KmlFeature",["./../KmlObject","../KmlAbstractView","../KmlFile","../styles/KmlStyleMap","../styles/KmlStyleSelector","../KmlRegion","../KmlTimePrimitive","../util/KmlNodeTransformers","../../../util/Promise"],(function(t,e,n,r,i,o,a,s,u){"use strict";var l=function(e){this.isFeature=e.isFeature=!0,t.call(this,e),this._pStyle=null,this.controlledVisibility=null};return l.prototype=Object.create(t.prototype),Object.defineProperties(l.prototype,{style:{get:function(){return this._pStyle}},kmlName:{get:function(){return this._factory.specific(this,{name:"name",transformer:s.string})}},kmlVisibility:{get:function(){return this._factory.specific(this,{name:"visibility",transformer:s.boolean})}},kmlOpen:{get:function(){return this._factory.specific(this,{name:"open",transformer:s.boolean})}},kmlAddress:{get:function(){return this._factory.specific(this,{name:"address",transformer:s.string})}},kmlPhoneNumber:{get:function(){return this._factory.specific(this,{name:"phoneNumber",transformer:s.string})}},kmlDescription:{get:function(){return this._factory.specific(this,{name:"description",transformer:s.string})}},kmlStyleUrl:{get:function(){return this._factory.specific(this,{name:"styleUrl",transformer:s.string})}},kmlSnippet:{get:function(){return this._factory.specific(this,{name:"Snippet",transformer:s.string})}},kmlAbstractView:{get:function(){return this._factory.any(this,{name:e.prototype.getTagNames()})}},kmlTimePrimitive:{get:function(){return this._factory.any(this,{name:a.prototype.getTagNames()})}},kmlStyleSelector:{get:function(){return this._factory.any(this,{name:i.prototype.getTagNames()})}},kmlRegion:{get:function(){return this._factory.any(this,{name:o.prototype.getTagNames()})}}}),l.prototype.render=function(e,n){t.prototype.render.call(this,e,n),this.solveStyle(e,n),this.solveVisibility(e,n)},l.prototype.solveStyle=function(t,e){this.getStyle(t,e),null!=this.style&&(e.lastStyle=this.style)},l.prototype.solveRegion=function(t){return!this.kmlRegion||this.kmlRegion.intersectsVisible(t)},l.prototype.solveVisibility=function(t,e){var n=!1!==e.lastVisibility,r=this.solveTimeVisibility(t),i=this.solveRegion(t),o=!1!==this.kmlVisibility;!0===this.controlledVisibility?this.enabled=!0:!1===this.controlledVisibility?this.enabled=!1:this.enabled=n&&r&&i&&o,e.lastVisibility=this.enabled,this._renderable&&(this._renderable.enabled=this.enabled)},l.prototype.solveTimeVisibility=function(t){var e=this.kmlTimePrimitive&&this.kmlTimePrimitive.kmlTimeRange(),n=t.currentLayer.timeRange;if(e&&n.length>=2){var r=e.from,i=e.to,o=n[0],a=n[1];if(r<o||i>a)return!1}return!0},l.prototype.getStyle=function(t,e){if(!this._pStyle){var n=this;return e.styleResolver.handleRemoteStyle(n.kmlStyleUrl,n.kmlStyleSelector).then((function(e){n._pStyle=e,t.redrawRequested=!0}))}},l.prototype.getTagNames=function(){return["NetworkLink","Placemark","PhotoOverlay","ScreenOverlay","GroundOverlay","Folder","Document"]},l})),i("formats/kml/features/KmlContainer",["./KmlFeature"],(function(t){"use strict";var e=function(e){t.call(this,e)};return e.prototype=Object.create(t.prototype),Object.defineProperties(e.prototype,{kmlShapes:{get:function(){return this._factory.all(this).filter((function(t){return t.isFeature}))}}}),e.prototype.render=function(e,n){t.prototype.render.call(this,e,n);var r=this;this.kmlShapes.forEach((function(t){t.render(e,{lastStyle:n.lastStyle,lastVisibility:r.enabled,timeRange:n.timeRange,regionInvisible:n.regionInvisible,fileCache:n.fileCache,styleResolver:n.styleResolver,listener:n.listener,activeEvents:n.activeEvents})}))},e.prototype.getTagNames=function(){return["Folder","Document"]},e})),i("formats/kml/controls/KmlControls",["../../../util/Logger"],(function(t){"use strict";var e=function(){};return e.prototype.hook=function(){t.logMessage(t.LEVEL_WARNING,"KmlControls","hook","Every KML controls should override hook method.")},e})),i("formats/kml/util/KmlCreate",["../KmlElements","../KmlObject"],(function(t,e){var n=function(t){e.call(this,t)};return n.prototype=Object.create(e.prototype),Object.defineProperties(n.prototype,{shapes:{get:function(){return this._factory.all(this)}}}),n.prototype.getTagNames=function(){return["Create"]},t.addKey(n.prototype.getTagNames()[0],n),n})),i("formats/kml/util/KmlDelete",["../KmlElements","../KmlObject"],(function(t,e){var n=function(t){e.call(this,t)};return n.prototype=Object.create(e.prototype),Object.defineProperties(n.prototype,{shapes:{get:function(){return this._factory.all(this)}}}),n.prototype.getTagNames=function(){return["Delete"]},t.addKey(n.prototype.getTagNames()[0],n),n})),i("formats/kml/util/KmlSchema",["./../KmlElements","../KmlObject"],(function(t,e){"use strict";var n=function(t){e.call(this,t)};return(n.prototype=Object.create(e.prototype)).getTagNames=function(){return["Schema"]},t.addKey(n.prototype.getTagNames()[0],n),n})),i("formats/kml/features/KmlDocument",["./KmlContainer","../KmlElements","./KmlFeature","../util/KmlSchema"],(function(t,e,n,r){"use strict";var i=function(e){t.call(this,e)};return i.prototype=Object.create(t.prototype),Object.defineProperties(i.prototype,{kmlSchemas:{get:function(){return this._factory.all(this).filter((function(t){return t instanceof r}))}}}),i.prototype.getTagNames=function(){return["Document"]},e.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/features/KmlFolder",["./KmlContainer","./../KmlElements"],(function(t,e){"use strict";var n=function(e){t.call(this,e)};return(n.prototype=Object.create(t.prototype)).getTagNames=function(){return["Folder"]},e.addKey(n.prototype.getTagNames()[0],n),n})),i("formats/kml/geom/KmlGeometry",["../KmlObject"],(function(t){"use strict";var e=function(e){t.call(this,e),this._renderable=null};return(e.prototype=Object.create(t.prototype)).render=function(e,n){t.prototype.render.call(this,e,n),this.enabled=n.lastVisibility},e.prototype.getTagNames=e.getTagNames=function(){return["Point","LinearRing","LineString","MultiGeometry","Polygon"]},e})),i("formats/kml/KmlLatLonBox",["./KmlElements","./KmlObject","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlNorth:{get:function(){return this._factory.specific(this,{name:"north",transformer:n.number})}},kmlSouth:{get:function(){return this._factory.specific(this,{name:"south",transformer:n.number})}},kmlEast:{get:function(){return this._factory.specific(this,{name:"east",transformer:n.number})}},kmlWest:{get:function(){return this._factory.specific(this,{name:"west",transformer:n.number})}},kmlRotation:{get:function(){return this._factory.specific(this,{name:"rotation",transformer:n.string})}}}),r.prototype.getTagNames=function(){return["LatLonBox"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/KmlLatLonQuad",["./KmlElements","./KmlObject","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlCoordinates:{get:function(){return this._factory.specific(this,{name:"coordinates",transformer:n.string})}}}),r.prototype.getTagNames=function(){return["gx:LatLonQuad"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/features/KmlOverlay",["./KmlFeature","./../KmlIcon","../util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(e){t.call(this,e)};return r.prototype=Object.create(t.prototype),Object.defineProperties(r.prototype,{kmlColor:{get:function(){return this._factory.specific(this,{name:"color",transformer:n.string})}},kmlDrawOrder:{get:function(){return this._factory.specific(this,{name:"drawOrder",transformer:n.string})}},kmlIcon:{get:function(){return this._factory.any(this,{name:e.prototype.getTagNames()})}}}),r.prototype.getTagNames=function(){return["PhotoOverlay","ScreenOverlay","GroundOverlay"]},r})),i("formats/kml/features/KmlGroundOverlay",["./../KmlElements","./KmlFeature","../KmlLatLonBox","../KmlLatLonQuad","./KmlOverlay","../util/KmlNodeTransformers","../../../geom/Sector","../../../shapes/SurfaceImage"],(function(t,e,n,r,i,o,a,s){"use strict";var u=function(t){this.isGroundOverlay=!0,i.call(this,t)};return u.prototype=Object.create(i.prototype),Object.defineProperties(u.prototype,{kmlAltitude:{get:function(){return this._factory.specific(this,{name:"altitude",transformer:o.string})}},kmlAltitudeMode:{get:function(){return this._factory.specific(this,{name:"altitudeMode",transformer:o.string})}},kmlLatLonBox:{get:function(){return this._factory.any(this,{name:n.prototype.getTagNames()})}},kmlLatLonQuad:{get:function(){return this._factory.any(this,{name:r.prototype.getTagNames()})}}}),u.prototype.render=function(t,n){e.prototype.render.call(this,t,n),!this._renderable&&this.enabled&&this.kmlIcon&&this.kmlLatLonBox&&(this._renderable=new s(new a(this.kmlLatLonBox.kmlSouth,this.kmlLatLonBox.kmlNorth,this.kmlLatLonBox.kmlWest,this.kmlLatLonBox.kmlEast),this.kmlIcon.kmlHref(n.fileCache)),t.redrawRequested=!0),this._renderable&&this._renderable.render(t)},u.prototype.getTagNames=function(){return["GroundOverlay"]},t.addKey(u.prototype.getTagNames()[0],u),u})),i("formats/kml/util/KmlImagePyramid",["../KmlElements","../KmlObject","../util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlTileSize:{get:function(){return this._factory.specific(this,{name:"tileSize",transformer:n.number})}},kmlMaxWidth:{get:function(){return this._factory.specific(this,{name:"maxWidth",transformer:n.number})}},kmlMaxHeight:{get:function(){return this._factory.specific(this,{name:"maxHeight",transformer:n.number})}},kmlGridOrigin:{get:function(){return this._factory.specific(this,{name:"gridOrigin",transformer:n.string})}}}),r.prototype.getTagNames=function(){return["ImagePyramid"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("shapes/Path",["../shapes/AbstractShape","../error/ArgumentError","../shaders/BasicTextureProgram","../geom/BoundingBox","../util/Color","../geom/Location","../util/Logger","../geom/Matrix","../pick/PickedObject","../geom/Position","../shapes/ShapeAttributes","../shapes/SurfacePolyline","../geom/Vec2","../geom/Vec3"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p){"use strict";var d=function(n,r){if(!n)throw new e(a.logMessage(a.LEVEL_SEVERE,"Path","constructor","missingPositions"));t.call(this,r),this._positions=n,this._pathType=WorldWind.GREAT_CIRCLE,this._terrainConformance=10,this._numSubSegments=10,this.referencePosition=this.determineReferencePosition(this._positions),this.scratchPoint=new p(0,0,0)};return d.prototype=Object.create(t.prototype),Object.defineProperties(d.prototype,{positions:{get:function(){return this._positions},set:function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Path","constructor","missingPositions"));this._positions=t,this.referencePosition=this.determineReferencePosition(this._positions),this.reset()}},followTerrain:{get:function(){return this._followTerrain},set:function(t){this._followTerrain=t,this.reset()}},terrainConformance:{get:function(){return this._terrainConformance},set:function(t){this._terrainConformance=t,this.reset()}},numSubSegments:{get:function(){return this._numSubSegments},set:function(t){this._numSubSegments=t>=0?t:0,this.reset()}},pathType:{get:function(){return this._pathType},set:function(t){this._pathType=t,this.reset()}},extrude:{get:function(){return this._extrude},set:function(t){this._extrude=t,this.reset()}}}),d.prototype.determineReferencePosition=function(t){return t.length>0?t[0]:null},d.prototype.mustGenerateGeometry=function(t){return!this.currentData.tessellatedPoints||this.currentData.drawInterior!==this.activeAttributes.drawInterior||this.currentData.drawVerticals!==this.activeAttributes.drawVerticals||!this.followTerrain&&this.currentData.numSubSegments!==this.numSubSegments||!(!this.followTerrain||this.currentData.terrainConformance===this.terrainConformance)||this.altitudeMode!==WorldWind.ABSOLUTE&&this.currentData.isExpired},d.prototype.createSurfaceShape=function(){return new h(this.positions,null)},d.prototype.doMakeOrderedRenderable=function(t){if(!this.referencePosition)return null;if(!this.mustGenerateGeometry(t))return this;var e=this.currentData.referencePoint;t.surfacePointForMode(this.referencePosition.latitude,this.referencePosition.longitude,this.referencePosition.altitude,this._altitudeMode,e),this.currentData.transformationMatrix.setToTranslation(e[0],e[1],e[2]);var n=this.makeTessellatedPositions(t);if(n.length<2)return null;var i=this.computeRenderedPath(t,n);return this.currentData.tessellatedPoints=i,this.currentData.drawInterior=this.activeAttributes.drawInterior,this.currentData.drawVerticals=this.activeAttributes.drawVerticals,this.currentData.numSubSegments=this.numSubSegments,this.currentData.terrainConformance=this.terrainConformance,this.resetExpiration(this.currentData),this.currentData.fillVbo=!0,this.currentData.extent||(this.currentData.extent=new r),this.currentData.extent.setToPoints(i),this.currentData.extent.translate(this.currentData.referencePoint),this},d.prototype.makeTessellatedPositions=function(t){var e,n,r,i=[],o=t.eyePoint,a=this.mustDrawVerticals(t),s=new p(0,0,0),u=new p(0,0,0),l=this._positions[0];a&&(this.currentData.verticalIndices=new Int16Array(2*this.positions.length),this.currentData.verticalIndices[0]=0,this.currentData.verticalIndices[1]=1),i.push(l),t.surfacePointForMode(l.latitude,l.longitude,l.altitude,this._altitudeMode,s);for(var c=1,h=this._positions.length;c<h;c++)if(e=this._positions[c],t.surfacePointForMode(e.latitude,e.longitude,e.altitude,this._altitudeMode,u),n=o.distanceTo(s),r=t.pixelSizeAtDistance(n),s.distanceTo(u)<8*r&&this.altitudeMode!==WorldWind.ABSOLUTE?i.push(e):this.makeSegment(t,l,e,s,u,i),l=e,s.copy(u),a){var f=2*(i.length-1);this.currentData.verticalIndices[2*c]=f,this.currentData.verticalIndices[2*c+1]=f+1}return i},d.prototype.makeSegment=function(t,e,n,r,i,a){var s,u,c,h,f,p,d=t.eyePoint,g=new o(0,0),m=0;if(this._pathType!==WorldWind.LINEAR||this._followTerrain){if(c=this._pathType===WorldWind.LINEAR?o.linearDistance(e,n):this._pathType===WorldWind.RHUMB_LINE?o.rhumbDistance(e,n):o.greatCircleDistance(e,n),this._altitudeMode!==WorldWind.CLAMP_TO_GROUND&&(m=.5*(e.altitude+n.altitude)),!((s=c*(t.globe.equatorialRadius+m*t.verticalExaggeration))<=0)){for(u=this._pathType===WorldWind.LINEAR?o.linearAzimuth(e,n):this._pathType===WorldWind.RHUMB_LINE?o.rhumbAzimuth(e,n):o.greatCircleAzimuth(e,n),this.scratchPoint.copy(r),h=0,f=0;h<1&&!(s<(f+=this._followTerrain?this._terrainConformance*t.pixelSizeAtDistance(this.scratchPoint.distanceTo(d)):s/this._numSubSegments)||s-f<1e-9);)p=(h=f/s)*c,this._pathType===WorldWind.LINEAR?o.linearLocation(e,u,p,g):this._pathType===WorldWind.RHUMB_LINE?o.rhumbLocation(e,u,p,g):o.greatCircleLocation(e,u,p,g),g.altitude=(1-h)*e.altitude+h*n.altitude,a.push(new l(g.latitude,g.longitude,g.altitude)),this._followTerrain&&t.surfacePointForMode(g.latitude,g.longitude,g.altitude,WorldWind.CLAMP_TO_GROUND,this.scratchPoint);a.push(n)}}else r.equals(i)||a.push(n)},d.prototype.computeRenderedPath=function(t,e){var n,r,i,o,a=this.mustDrawInterior(t)||this.mustDrawVerticals(t),s=Number.MAX_VALUE,u=t.eyePoint,l=(a?2:1)*e.length,c=new Float32Array(3*l),h=a?6:3,f=new p(0,0,0);n=this._followTerrain&&this.altitudeMode!==WorldWind.CLAMP_TO_GROUND?WorldWind.RELATIVE_TO_GROUND:this.altitudeMode;for(var d=0,g=e.length;d<g;d++)r=e[d],t.surfacePointForMode(r.latitude,r.longitude,r.altitude,n,f),(o=f.distanceToSquared(u))<s&&(s=o),f.subtract(this.currentData.referencePoint),c[i=h*d]=f[0],c[i+1]=f[1],c[i+2]=f[2],a&&(t.surfacePointForMode(r.latitude,r.longitude,0,WorldWind.CLAMP_TO_GROUND,f),(o=f.distanceToSquared(u))<s&&(s=o),f.subtract(this.currentData.referencePoint),c[i+3]=f[0],c[i+4]=f[1],c[i+5]=f[2]);return this.currentData.pointBufferHasExtrusionPoints=a,this.currentData.eyeDistance=Math.sqrt(s),c},d.prototype.mustDrawInterior=function(t){return this.activeAttributes.drawInterior&&this._extrude&&this._altitudeMode!==WorldWind.CLAMP_TO_GROUND},d.prototype.mustDrawVerticals=function(t){return this.activeAttributes.drawOutline&&this.activeAttributes.drawVerticals&&this.altitudeMode!==WorldWind.CLAMP_TO_GROUND},d.prototype.doRenderOrdered=function(t){var e,n,r,i,o,a=t.currentGlContext,s=t.currentProgram,l=this.currentData,c=l.tessellatedPoints.length/3;if(this.applyMvpMatrix(t),l.vboCacheKey||(l.vboCacheKey=t.gpuResourceCache.generateCacheKey()),(e=t.gpuResourceCache.resourceForKey(l.vboCacheKey))||(e=a.createBuffer(),t.gpuResourceCache.putResource(this.currentData.vboCacheKey,e,4*l.tessellatedPoints.length),l.fillVbo=!0),a.bindBuffer(a.ARRAY_BUFFER,e),l.fillVbo&&(a.bufferData(a.ARRAY_BUFFER,l.tessellatedPoints,a.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1)),s.loadTextureEnabled(a,!1),t.pickingMode&&(r=t.uniquePickColor()),this.mustDrawInterior(t)&&(n=this.activeAttributes.interiorColor,a.depthMask(n.alpha*this.layer.opacity>=1||t.pickingMode),s.loadColor(a,t.pickingMode?r:n),s.loadOpacity(a,t.pickingMode?1:this.layer.opacity),a.vertexAttribPointer(s.vertexPointLocation,3,a.FLOAT,!1,0,0),a.drawArrays(a.TRIANGLE_STRIP,0,c)),this.activeAttributes.drawOutline&&((this.mustDrawVerticals(t)&&this.mustDrawInterior(t)||this.altitudeMode===WorldWind.CLAMP_TO_GROUND)&&this.applyMvpMatrixForOutline(t),n=this.activeAttributes.outlineColor,a.depthMask(n.alpha*this.layer.opacity>=1||t.pickingMode),s.loadColor(a,t.pickingMode?r:n),s.loadOpacity(a,t.pickingMode?1:this.layer.opacity),a.lineWidth(this.activeAttributes.outlineWidth),this.currentData.pointBufferHasExtrusionPoints?(i=24,o=c/2):(i=12,o=c),a.vertexAttribPointer(s.vertexPointLocation,3,a.FLOAT,!1,i,0),a.drawArrays(a.LINE_STRIP,0,o),this.mustDrawVerticals(t)&&(l.verticalIndicesVboCacheKey||(l.verticalIndicesVboCacheKey=t.gpuResourceCache.generateCacheKey()),(e=t.gpuResourceCache.resourceForKey(l.verticalIndicesVboCacheKey))||(e=a.createBuffer(),t.gpuResourceCache.putResource(l.verticalIndicesVboCacheKey,e,4*l.verticalIndices.length),l.fillVbo=!0),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e),l.fillVbo&&(a.bufferData(a.ELEMENT_ARRAY_BUFFER,l.verticalIndices,a.STATIC_DRAW),t.frameStatistics.incrementVboLoadCount(1)),a.vertexAttribPointer(s.vertexPointLocation,3,a.FLOAT,!1,0,0),a.drawElements(a.LINES,l.verticalIndices.length,a.UNSIGNED_SHORT,0))),l.fillVbo=!1,t.pickingMode){var h=new u(r,this.pickDelegate?this.pickDelegate:this,null,this.layer,!1);t.resolvePick(h)}},d.prototype.beginDrawing=function(t){var e=t.currentGlContext;this.mustDrawInterior(t)&&e.disable(e.CULL_FACE),t.findAndBindProgram(n),e.enableVertexAttribArray(t.currentProgram.vertexPointLocation)},d.prototype.endDrawing=function(t){var e=t.currentGlContext;e.disableVertexAttribArray(t.currentProgram.vertexPointLocation),e.depthMask(!0),e.lineWidth(1),e.enable(e.CULL_FACE)},d})),i("formats/kml/geom/KmlLineString",["../../../util/Color","../KmlElements","./KmlGeometry","../styles/KmlStyle","../../../geom/Location","../util/KmlNodeTransformers","../../../shapes/Path","../../../geom/Position","../../../shapes/ShapeAttributes","../../../shapes/SurfacePolyline","../../../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c){"use strict";var h=function(t){n.call(this,t),this._style=null};return h.prototype=Object.create(n.prototype),Object.defineProperties(h.prototype,{kmlExtrude:{get:function(){return this._factory.specific(this,{name:"extrude",transformer:o.boolean})||!1}},kmlTessellate:{get:function(){return this._factory.specific(this,{name:"tessellate",transformer:o.boolean})||!1}},kmlAltitudeMode:{get:function(){return this._factory.specific(this,{name:"altitudeMode",transformer:o.string})||WorldWind.ABSOLUTE}},kmlPositions:{get:function(){return this._factory.specific(this,{name:"coordinates",transformer:o.positions})}},kmlCenter:{get:function(){var t=this.kmlPositions,e=0,n=0,r=0;return t.forEach((function(t){e+=t.latitude,n+=t.longitude,r+=t.altitude})),new s(e/this.kmlPositions.length,n/this.kmlPositions.length,r/this.kmlPositions.length)}}}),h.prototype.createPath=function(t,e){this.kmlAltitudeMode==WorldWind.CLAMP_TO_GROUND?this._renderable=new l(this.prepareLocations(),this.prepareAttributes(t.normal,e)):this._renderable=new a(this.prepareLocations(),this.prepareAttributes(t.normal,e)),t.highlight&&(this._renderable.highlightAttributes=this.prepareAttributes(t.highlight,e)),this.moveValidProperties()},h.prototype.render=function(t,e){n.prototype.render.call(this,t,e),e.lastStyle&&!this._renderable&&(this.createPath(e.lastStyle,e.fileCache),t.redrawRequested=!0),this._renderable&&(this._renderable.enabled=this.enabled,this._renderable.render(t))},h.prototype.prepareAttributes=function(t,e){var n=t&&t.generate(e)||{};return n._applyLighting=!0,n._drawOutline=!0,n._drawInterior=!0,n._drawVerticals=this.kmlExtrude||!1,n._outlineStippleFactor=0,n._outlineStipplePattern=61680,n._enableLighting=!0,new u(r.shapeAttributes(n))},h.prototype.prepareLocations=function(){return this.kmlPositions},h.prototype.moveValidProperties=function(){this._renderable.extrude=this.kmlExtrude||!1,this._renderable.altitudeMode=this.kmlAltitudeMode||WorldWind.ABSOLUTE,this._renderable.tesselate=this.kmlTesselate||!1},h.prototype.equals=function(t){return!!t&&c.arrayEquals(t.kmlPositions,this.kmlPositions)&&t.kmlExtrude==this.kmlExtrude&&t.kmlTessellate==this.kmlTessellate&&t.kmlAltitudeMode==this.kmlAltitudeMode},h.prototype.getTagNames=function(){return["LineString"]},e.addKey(h.prototype.getTagNames()[0],h),h})),i("formats/kml/geom/KmlLinearRing",["./KmlLineString","../KmlElements"],(function(t,e){"use strict";var n=function(e){t.call(this,e)};return(n.prototype=Object.create(t.prototype)).getTagNames=function(){return["LinearRing"]},e.addKey(n.prototype.getTagNames()[0],n),n})),i("formats/kml/KmlLocation",["./KmlElements","./KmlObject","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlLongitude:{get:function(){return this._factory.specific(this,{name:"longitude",transformer:n.string})}},kmlLatitude:{get:function(){return this._factory.specific(this,{name:"latitude",transformer:n.string})}},kmlAltitude:{get:function(){return this._factory.specific(this,{name:"altitude",transformer:n.string})}}}),r.prototype.getTagNames=function(){return["Location"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/KmlLookAt",["./KmlAbstractView","./KmlElements","./util/KmlNodeTransformers","../../geom/Position"],(function(t,e,n,r){"use strict";var i=function(e){t.call(this,e)};return i.prototype=Object.create(t.prototype),Object.defineProperties(i.prototype,{kmlLongitude:{get:function(){return this._factory.specific(this,{name:"longitude",transformer:n.number})}},kmlLatitude:{get:function(){return this._factory.specific(this,{name:"latitude",transformer:n.number})}},kmlAltitude:{get:function(){return this._factory.specific(this,{name:"altitude",transformer:n.number})}},kmlHeading:{get:function(){return this._factory.specific(this,{name:"heading",transformer:n.number})}},kmlTilt:{get:function(){return this._factory.specific(this,{name:"tilt",transformer:n.number})}},kmlRange:{get:function(){return this._factory.specific(this,{name:"range",transformer:n.number})}},kmlAltitudeMode:{get:function(){return this._factory.specific(this,{name:"altitudeMode",transformer:n.string})}}}),i.prototype.update=function(t){if(t.wwd){var e=this.kmlAltitude||4e3;t.wwd.goTo(new r(this.kmlLatitude,this.kmlLongitude,e))}},i.prototype.getTagNames=function(){return["LookAt"]},e.addKey(i.prototype.getTagNames()[0],i),i})),i("formats/kml/geom/KmlMultiGeometry",["./../KmlElements","./KmlGeometry","../../../geom/Position"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t),this._style=t.style};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlShapes:{get:function(){return this._factory.all(this)}},kmlCenter:{get:function(){var t=this.kmlShapes.map((function(t){return t.kmlCenter})),e=0,r=0,i=0;return t.forEach((function(t){e+=t.latitude,r+=t.longitude,i+=t.altitude})),new n(e/t.length,r/t.length,i/t.length)}}}),r.prototype.render=function(t,n){e.prototype.render.call(this,t,n),this.kmlShapes.forEach((function(e){e.render(t,n)}))},r.prototype.getTagNames=function(){return["MultiGeometry"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/geom/KmlMultiTrack",["./../KmlElements","./KmlGeometry"],(function(t,e){"use strict";var n=function(t){e.call(this,t)};return(n.prototype=Object.create(e.prototype)).getTagNames=function(){return["gx:MultiTrack"]},t.addKey(n.prototype.getTagNames()[0],n),n})),i("formats/kml/features/KmlNetworkLink",["./../KmlElements","./KmlFeature","../KmlFile","../KmlLink","../util/KmlNodeTransformers","../util/KmlRefreshListener"],(function(t,e,n,r,i,o){"use strict";var a="refreshNetworkLinkEvent",s=function(t){e.call(this,t),this.isFeature=!0,this.resolvedFile=null,this.displayed=!1,this.isDownloading=!1};return s.prototype=Object.create(e.prototype),Object.defineProperties(s.prototype,{kmlRefreshVisibility:{get:function(){return this._factory.specific(this,{name:"refreshVisibility",transformer:i.boolean})}},kmlFlyToView:{get:function(){return this._factory.specific(this,{name:"flyToView",transformer:i.boolean})}},kmlLink:{get:function(){return this._factory.any(this,{name:r.prototype.getTagNames()})}}}),s.prototype.getTagNames=function(){return["NetworkLink"]},s.prototype.render=function(t,r){if(e.prototype.render.call(this,t,r),r.lastVisibility||this.displayed){if(!this.isDownloading&&!this.resolvedFile){this.isDownloading=!0;var i=this;new n(i.buildUrl(r.fileCache)).then((function(t){i.resolvedFile=t,i.isDownloading=!1,i.fireEvent(r)}))}this.resolvedFile&&!this.displayed&&(this.resolvedFile.render(t,r),this.handleRefresh(r))}},s.prototype.buildUrl=function(t){return this.kmlLink.kmlHref(t)},s.prototype.handleRefresh=function(t){var e=t.activeEvents;if((e=e.filter((function(t){return t.type==a}))).length>0){var r=this;new n(r.buildUrl(t.fileCache)).then((function(e){r.resolvedFile=e,r.fireEvent(t)}))}},s.prototype.fireEvent=function(t){var e=0;if("onInterval"==this.kmlLink.kmlRefreshMode)e=1e3*this.kmlLink.kmlRefreshInterval;else{if("onExpire"!=this.kmlLink.kmlRefreshMode)return;if(!this.resolvedFile)return;e=this.resolvedFile.getExpired()}t.listener.addEvent(new o.Event(a,e,null))},t.addKey(s.prototype.getTagNames()[0],s),s})),i("formats/kml/util/KmlUpdate",["./KmlChange","./KmlCreate","./KmlDelete","../KmlElements","../KmlObject","./KmlNodeTransformers"],(function(t,e,n,r,i,o){var a=function(t){i.call(this,t)};return a.prototype=Object.create(i.prototype),Object.defineProperties(a.prototype,{targetHref:{get:function(){return this._factory.specific(this,{name:"minRefreshPeriod",transformer:o.number})}},Change:{get:function(){return this._factory.any(this,{name:t.prototype.getTagNames()})}},Create:{get:function(){return this._factory.any(this,{name:e.prototype.getTagNames()})}},Delete:{get:function(){return this._factory.any(this,{name:n.prototype.getTagNames()})}}}),a.prototype.getTagNames=function(){return["Update"]},r.addKey(a.prototype.getTagNames()[0],a),a})),i("formats/kml/util/KmlNetworkLinkControl",["../KmlAbstractView","../KmlElements","../KmlObject","./KmlNodeTransformers","./KmlUpdate"],(function(t,e,n,r,i){var o=function(t){n.call(this,t)};return o.prototype=Object.create(n.prototype),Object.defineProperties(o.prototype,{minRefreshPeriod:{get:function(){return this._factory.specific(this,{name:"minRefreshPeriod",transformer:r.number})}},maxSessionLength:{get:function(){return this._factory.specific(this,{name:"maxSessionLength",transformer:r.number})}},cookie:{get:function(){return this._factory.specific(this,{name:"cookie",transformer:r.string})}},message:{get:function(){return this._factory.specific(this,{name:"message",transformer:r.string})}},linkName:{get:function(){return this._factory.specific(this,{name:"linkName",transformer:r.string})}},linkDescription:{get:function(){return this._factory.specific(this,{name:"linkDescription",transformer:r.string})}},linkSnippet:{get:function(){return this._factory.specific(this,{name:"linkSnippet",transformer:r.string})}},expires:{get:function(){return this._factory.specific(this,{name:"expires",transformer:r.date})}},Update:{get:function(){return this._factory.any(this,{name:i.prototype.getTagNames()})}},AbstractView:{get:function(){return this._factory.any(this,{name:t.prototype.getTagNames()})}}}),o.prototype.getTagNames=function(){return["NetworkLinkControl"]},e.addKey(o.prototype.getTagNames()[0],o),o})),i("formats/kml/KmlOrientation",["./KmlElements","./KmlObject","./util/KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlHeading:{get:function(){return this._factory.specific(this,{name:"heading",transformer:n.number})}},kmlTilt:{get:function(){return this._factory.specific(this,{name:"tilt",transformer:n.number})}},kmlRoll:{get:function(){return this._factory.specific(this,{name:"roll",transformer:n.number})}}}),r.prototype.getTagNames=function(){return["Orientation"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/geom/KmlPoint",["../../../util/Color","../KmlElements","./KmlGeometry","../../../geom/Location","../util/KmlNodeTransformers","../../../shapes/Polygon","../../../geom/Position"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t){n.call(this,t),this._shape=null};return s.prototype=Object.create(n.prototype),Object.defineProperties(s.prototype,{kmlPosition:{get:function(){var t=this._factory.specific(this,{name:"coordinates",transformer:i.string}).split(",");return new a(t[1],t[0],t[2]||0)}},kmlExtrude:{get:function(){return this._factory.specific(this,{name:"extrude",transformer:i.boolean})}},kmlAltitudeMode:{get:function(){return this._factory.specific(this,{name:"altitudeMode",transformer:i.string})}},kmlCenter:{get:function(){return this.kmlPosition}}}),s.prototype.getTagNames=function(){return["Point"]},e.addKey(s.prototype.getTagNames()[0],s),s})),i("formats/kml/util/KmlViewVolume",["../KmlElements","../KmlObject","./KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlLeftFov:{get:function(){return this._factory.specific(this,{name:"leftFov",transformer:n.number})}},kmlRightFov:{get:function(){return this._factory.specific(this,{name:"rightFov",transformer:n.number})}},kmlBottomFov:{get:function(){return this._factory.specific(this,{name:"bottomFov",transformer:n.number})}},kmlTopFov:{get:function(){return this._factory.specific(this,{name:"topFov",transformer:n.number})}},kmlNear:{get:function(){return this._factory.specific(this,{name:"near",transformer:n.string})}}}),r.prototype.getTagNames=function(){return["ViewVolume"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/features/KmlPhotoOverlay",["../util/KmlImagePyramid","./../KmlElements","./KmlOverlay","../geom/KmlPoint","../util/KmlNodeTransformers","../util/KmlViewVolume"],(function(t,e,n,r,i,o){"use strict";var a=function(t){n.call(this,t)};return a.prototype=Object.create(n.prototype),Object.defineProperties(a.prototype,{kmlRotation:{get:function(){return this._factory.specific(this,{name:"rotation",transformer:i.string})}},kmlShape:{get:function(){return this._factory.specific(this,{name:"shape",transformer:i.string})}},kmlPoint:{get:function(){return this._factory.any(this,{name:r.prototype.getTagNames()})}},kmlViewVolume:{get:function(){return this._factory.any(this,{name:o.prototype.getTagNames()})}},kmlImagePyramid:{get:function(){return this._factory.any(this,{name:t.prototype.getTagNames()})}}}),a.prototype.getTagNames=function(){return["PhotoOverlay"]},e.addKey(a.prototype.getTagNames[0],a),a})),i("formats/kml/features/KmlPlacemark",["./../KmlElements","./KmlFeature","../geom/KmlGeometry","../styles/KmlStyle","../KmlTimeSpan","../KmlTimeStamp","../../../shapes/PlacemarkAttributes","../../../shapes/Placemark","../../../util/Color","../../../shapes/ShapeAttributes","../../../shapes/TextAttributes","../../../util/Offset","../../../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f){"use strict";var p=function(t){e.call(this,t)};return p.prototype=Object.create(e.prototype),Object.defineProperties(p.prototype,{kmlGeometry:{get:function(){return this._factory.any(this,{name:n.prototype.getTagNames()})}}}),p.prototype.render=function(t,n){e.prototype.render.call(this,t,n),(n=f.clone(n)).lastStyle&&!this._renderable&&this.kmlGeometry&&(this._renderable=new s(this.kmlGeometry.kmlCenter,!1,this.prepareAttributes(n.lastStyle.normal,n.fileCache)),n.lastStyle.highlight&&(this._renderable.highlightAttributes=this.prepareAttributes(n.lastStyle.highlight,n.fileCache)),this.moveValidProperties(),t.redrawRequested=!0),this._renderable&&this.kmlGeometry&&(this.kmlGeometry.render(t,n),this._renderable.render(t))},p.prototype.prepareAttributes=function(t,e){var n=t&&t.generate({},e)||{normal:{},highlight:{}},i=new a(r.placemarkAttributes(n));return i.imageOffset=new h(WorldWind.OFFSET_FRACTION,.3,WorldWind.OFFSET_FRACTION,0),i.imageColor=u.WHITE,i.labelAttributes=new c(r.textAttributes({_offset:new h(WorldWind.OFFSET_FRACTION,.5,WorldWind.OFFSET_FRACTION,1),_color:u.YELLOW})),i.drawLeaderLine=!0,i.leaderLineAttributes=new l(r.shapeAttributes({_outlineColor:u.RED})),i},p.prototype.moveValidProperties=function(){this._renderable.label=this.kmlName||"",this._renderable.altitudeMode=this.kmlAltitudeMode||WorldWind.RELATIVE_TO_GROUND,this._renderable.enableLeaderLinePicking=!0},p.prototype.getTagNames=function(){return["Placemark"]},t.addKey(p.prototype.getTagNames()[0],p),p})),i("formats/kml/geom/KmlPolygon",["../../../util/Color","../KmlElements","./KmlGeometry","./KmlLinearRing","../styles/KmlStyle","../../../geom/Location","../util/KmlNodeTransformers","../../../shapes/Polygon","../../../shapes/ShapeAttributes","../../../shapes/SurfacePolygon"],(function(t,e,n,r,i,o,a,s,u,l){"use strict";var c=function(t){n.call(this,t),this.initialized=!1};return c.prototype=Object.create(n.prototype),Object.defineProperties(c.prototype,{kmlExtrude:{get:function(){return this._factory.specific(this,{name:"extrude",transformer:a.boolean})}},kmlTessellate:{get:function(){return this._factory.specific(this,{name:"tessellate",transformer:a.boolean})}},kmlAltitudeMode:{get:function(){return this._factory.specific(this,{name:"altitudeMode",transformer:a.string})}},kmlOuterBoundary:{get:function(){return this._factory.specific(this,{name:"outerBoundaryIs",transformer:a.linearRing})}},kmlInnerBoundary:{get:function(){return this._factory.specific(this,{name:"innerBoundaryIs",transformer:a.linearRing})}},kmlCenter:{get:function(){return this.kmlOuterBoundary.kmlCenter}}}),c.prototype.createPolygon=function(t,e){this.kmlAltitudeMode===WorldWind.CLAMP_TO_GROUND||this.kmlInnerBoundary&&this.kmlInnerBoundary.kmlAltitudeMode===WorldWind.CLAMP_TO_GROUND||this.kmlOuterBoundary&&this.kmlOuterBoundary.kmlAltitudeMode===WorldWind.CLAMP_TO_GROUND?this._renderable=new l(this.prepareLocations(),this.prepareAttributes(t.normal,e)):this._renderable=new s(this.prepareLocations(),this.prepareAttributes(t.normal,e)),t.highlight&&(this._renderable.highlightAttributes=this.prepareAttributes(t.highlight,e)),this.moveValidProperties()},c.prototype.render=function(t,e){n.prototype.render.call(this,t,e),e.lastStyle&&!this._renderable&&(this.createPolygon(e.lastStyle,e.fileCache),t.redrawRequested=!0),this._renderable&&(this._renderable.enabled=this.enabled,this._renderable.render(t))},c.prototype.moveValidProperties=function(){this._renderable.extrude=this.kmlExtrude||!0,this._renderable.altitudeMode=this.kmlAltitudeMode||WorldWind.CLAMP_TO_GROUND},c.prototype.prepareAttributes=function(t,e){var n=t&&t.generate(e)||{};return n._drawVerticals=this.kmlExtrude||!1,n._applyLighting=!0,n._depthTest=!0,n._outlineStippleFactor=0,n._outlineStipplePattern=61680,n._enableLighting=!0,new u(i.shapeAttributes(n))},c.prototype.prepareLocations=function(){var t=[];return null!=this.kmlInnerBoundary?(t[0]=this.kmlInnerBoundary.kmlPositions,t[1]=this.kmlOuterBoundary.kmlPositions):t=this.kmlOuterBoundary.kmlPositions,t},c.prototype.getStyle=function(){return this._style},c.prototype.getTagNames=function(){return["Polygon"]},e.addKey(c.prototype.getTagNames()[0],c),c})),i("formats/kml/util/KmlScale",["./../KmlElements","../KmlObject","./KmlNodeTransformers"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t)};return r.prototype=Object.create(e.prototype),Object.defineProperties(r.prototype,{kmlX:{get:function(){return this._factory.specific(this,{name:"x",transformer:n.number})}},kmlY:{get:function(){return this._factory.specific(this,{name:"y",transformer:n.number})}},kmlZ:{get:function(){return this._factory.specific(this,{name:"z",transformer:n.number})}}}),r.prototype.getTagNames=function(){return["Scale"]},t.addKey(r.prototype.getTagNames()[0],r),r})),i("formats/kml/features/KmlScreenOverlay",["./../KmlElements","./KmlFeature","./KmlOverlay","../util/KmlNodeTransformers","../../../util/Offset","../../../shapes/ScreenImage"],(function(t,e,n,r,i,o){"use strict";var a=function(t){n.call(this,t)};return a.prototype=Object.create(n.prototype),Object.defineProperties(a.prototype,{kmlRotation:{get:function(){return this._factory.specific(this,{name:"rotation",transformer:r.number})}},kmlOverlayXYx:{get:function(){return this._factory.specific(this,{name:"overlayXY",transformer:r.attribute("x"),attribute:"kmlOverlayXYx"})}},kmlOverlayXYy:{get:function(){return this._factory.specific(this,{name:"overlayXY",transformer:r.attribute("y"),attribute:"kmlOverlayXYy"})}},kmlOverlayXYxunits:{get:function(){return this._factory.specific(this,{name:"overlayXY",transformer:r.attribute("xunits"),attribute:"kmlOverlayXYxunits"})}},kmlOverlayXYyunits:{get:function(){return this._factory.specific(this,{name:"overlayXY",transformer:r.attribute("yunits"),attribute:"kmlOverlayXYyunits"})}},kmlScreenXYx:{get:function(){return this._factory.specific(this,{name:"screenXY",transformer:r.attribute("x"),attribute:"kmlScreenXYx"})}},kmlScreenXYy:{get:function(){return this._factory.specific(this,{name:"screenXY",transformer:r.attribute("y"),attribute:"kmlScreenXYy"})}},kmlScreenXYxunits:{get:function(){return this._factory.specific(this,{name:"screenXY",transformer:r.attribute("xunits"),attribute:"kmlScreenXYxunits"})}},kmlScreenXYyunits:{get:function(){return this._factory.specific(this,{name:"screenXY",transformer:r.attribute("yunits"),attribute:"kmlScreenXYyunits"})}},kmlRotationXYx:{get:function(){return this._factory.specific(this,{name:"rotationXY",transformer:r.attribute("x"),attribute:"kmlRotationXYx"})}},kmlRotationXYy:{get:function(){return this._factory.specific(this,{name:"rotationXY",transformer:r.attribute("y"),attribute:"kmlRotationXYy"})}},kmlRotationXYxunits:{get:function(){return this._factory.specific(this,{name:"rotationXY",transformer:r.attribute("xunits"),attribute:"kmlRotationXYxunits"})}},kmlRotationXYyunits:{get:function(){return this._factory.specific(this,{name:"rotationXY",transformer:r.attribute("yunits"),attribute:"kmlRotationXYyunits"})}},kmlSizex:{get:function(){return this._factory.specific(this,{name:"size",transformer:r.attribute("x"),attribute:"kmlSizex"})}},kmlSizey:{get:function(){return this._factory.specific(this,{name:"size",transformer:r.attribute("y"),attribute:"kmlSizey"})}},kmlSizexunits:{get:function(){return this._factory.specific(this,{name:"size",transformer:r.attribute("xunits"),attribute:"kmlSizexunits"})}},kmlSizeyunits:{get:function(){return this._factory.specific(this,{name:"size",transformer:r.attribute("yunits"),attribute:"kmlSizeyunits"})}}}),a.prototype.render=function(t,n){e.prototype.render.call(this,t,n),this._renderable||this.kmlIcon&&(this._renderable=new o(new i(this.kmlScreenXYxunits,this.kmlScreenXYx,this.kmlScreenXYyunits,this.kmlScreenXYy),this.kmlIcon.kmlHref(n.fileCache)),this._renderable.imageOffset=new i(this.kmlOverlayXYxunits,this.kmlOverlayXYx,this.kmlOverlayXYyunits,this.kmlOverlayXYy),t.redrawRequested=!0),this._renderable&&this._renderable.render(t)},a.prototype.getTagNames=function(){return["ScreenOverlay"]},t.addKey(a.prototype.getTagNames()[0],a),a})),i("formats/kml/features/KmlTour",["./../KmlElements","./KmlFeature"],(function(t,e){"use strict";var n=function(t){e.call(this,t)};return(n.prototype=Object.create(e.prototype)).getTagNames=function(){return["gx:Tour"]},t.addKey(n.prototype.getTagNames()[0],n),n})),i("formats/kml/geom/KmlTrack",["./../KmlElements","./KmlGeometry"],(function(t,e){"use strict";var n=function(t){e.call(this,t)};return(n.prototype=Object.create(e.prototype)).getTagNames=function(){return["gx:Track"]},t.addKey(n.prototype.getTagNames()[0],n),n})),i("formats/kml/controls/KmlTreeVisibility",["../../../util/WWUtil","./KmlControls"],(function(t,e){"use strict";var n=function(t,n){e.apply(this),this._visualElementId=t,this._wwd=n};return(n.prototype=Object.create(e.prototype)).hook=function(t,e){e.isFeature&&this.createControls(t)},n.prototype.createControls=function(e){var n,r=e.kmlName||e.id||t.guid(),i=e.enabled&&!0===e.kmlVisibility,o=document.createElement("div"),a=document.createElement("input");a.setAttribute("type","checkbox"),i&&a.setAttribute("checked","checked"),a.addEventListener("click",(function(){i=!i,s.updateDescendants(e,i)}),!0),o.appendChild(a),(n=e.kmlAbstractView?document.createElement("a"):document.createElement("span")).appendChild(document.createTextNode(r)),n.addEventListener("click",(function(){e.kmlAbstractView&&e.kmlAbstractView.update({wwd:s._wwd})}),!0),o.appendChild(n),document.getElementById(this._visualElementId).appendChild(o);var s=this},n.prototype.updateDescendants=function(t,e){t.controlledVisibility=e,this._wwd.redraw()},n})),i("layer/LandsatRestLayer",["../error/ArgumentError","../geom/Location","../util/Logger","../geom/Sector","../layer/TiledImageLayer","../util/LevelRowColumnUrlBuilder","../util/WWUtil"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t,n,s){var u=a.urlPath(t+"/"+n);i.call(this,r.FULL_SPHERE,new e(36,36),10,"image/png",u,512,512),this.displayName=s,this.pickEnabled=!1,this.urlBuilder=new o(t,n)};return s.prototype=Object.create(i.prototype),s})),i("util/measure/LengthMeasurer",["../../error/ArgumentError","../../geom/Location","../Logger","./MeasurerUtils","../../geom/Position","../../geom/Vec3"],(function(t,e,n,r,i,o){var a=function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"LengthMeasurer","constructor","missingWorldWindow"));this.wwd=e,this.DEFAULT_MIN_SEGMENT_LENGTH=30,this._maxSegmentLength=1e5,this._lengthTerrainSamplingSteps=128,this.subdividedPositions=null};return Object.defineProperties(a.prototype,{maxSegmentLength:{get:function(){return this._maxSegmentLength},set:function(t){this._maxSegmentLength=t}},lengthTerrainSamplingSteps:{get:function(){return this._lengthTerrainSamplingSteps},set:function(t){this._lengthTerrainSamplingSteps=t}}}),a.prototype.getLength=function(t,e,n){return n=n||WorldWind.GREAT_CIRCLE,this.subdividedPositions=null,this.computeLength(t,e,n)},a.prototype.getPathLength=function(t){return this.subdividedPositions=null,this.computeLength(t.positions,t.followTerrain,t.pathType)},a.prototype.getGeographicDistance=function(t,n){if(t instanceof WorldWind.Path)var r=t.positions,i=t.pathType;else Array.isArray(t)&&(r=t,i=n||WorldWind.GREAT_CIRCLE);if(!r||r.length<2)return-1;var o=e.greatCircleDistance;i===WorldWind.RHUMB_LINE?o=e.rhumbDistance:i===WorldWind.LINEAR&&(o=e.linearDistance);for(var a=0,s=0,u=r.length-1;s<u;s++)a+=o(r[s],r[s+1]);return a*this.wwd.globe.equatorialRadius},a.prototype.computeLength=function(t,e,n){if(!t||t.length<2)return-1;var i=this.wwd.globe;if(null==this.subdividedPositions){var a=this._maxSegmentLength;e&&(a=this.computeLength(t,!1,n)/this._lengthTerrainSamplingSteps,a=Math.min(Math.max(a,this.DEFAULT_MIN_SEGMENT_LENGTH),this._maxSegmentLength)),this.subdividedPositions=r.subdividePositions(i,t,e,n,a)}var s=0,u=this.subdividedPositions[0],l=new o(0,0,0),c=new o(0,0,0);l=i.computePointFromPosition(u.latitude,u.longitude,u.altitude,l);for(var h=1,f=this.subdividedPositions.length;h<f;h++){var p=this.subdividedPositions[h];c=i.computePointFromPosition(p.latitude,p.longitude,p.altitude,c),s+=l.distanceTo(c),l.copy(c)}return s},a})),i("navigate/Navigator",["../ArcBallCamera","../error/ArgumentError","../FirstPersonCamera","../util/Logger"],(function(t,e,n,r){"use strict";var i=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"Navigator","constructor","Missing camera."));this._camera=t};return Object.defineProperties(i.prototype,{camera:{get:function(){return this._camera},set:function(t){this._camera=t}},lookAtLocation:{get:function(){return this.camera.position},set:function(t){this.camera.position=t}},range:{get:function(){return this.camera.range},set:function(t){this.camera.range=t}},heading:{get:function(){return this.camera.heading},set:function(t){this.camera.heading=t}},tilt:{get:function(){return this.camera.tilt},set:function(t){this.camera.tilt=t}},roll:{get:function(){return this.camera.roll},set:function(t){this.camera.roll=t}}}),i.prototype.getAsFirstPersonCamera=function(t){return t=t||new n(this.camera.wwd),this.camera instanceof n?t.copy(this.camera):this.camera.toFirstPerson(t),t},i.prototype.getAsArcBallCamera=function(e){return e=e||new t(this.camera.wwd),this.camera instanceof n?this.camera.toArcBall(e):e.copy(this.camera),e},i})),i("navigate/LookAtNavigator",["../navigate/Navigator"],(function(t){"use strict";return t})),i("cache/MemoryCacheListener",["../util/Logger","../error/UnsupportedOperationError"],(function(t,e){"use strict";var n=function(){};return n.prototype.entryRemoved=function(n,r){throw new e(t.logMessage(t.LEVEL_SEVERE,"MemoryCacheListener","entryRemoved","abstractInvocation"))},n.prototype.removalError=function(n,r,i){throw new e(t.logMessage(t.LEVEL_SEVERE,"MemoryCacheListener","removalError","abstractInvocation"))},n})),i("util/NominatimGeocoder",["../util/Logger"],(function(t){"use strict";var e=function(){this.service="https://open.mapquestapi.com/nominatim/v1/search/"};return e.prototype.lookup=function(t,e,n){var r=this.service+t.replace(" ","%20")+"?format=json",i=new XMLHttpRequest,o=this;r+="&key="+(n||"lUvVRchXGGDh5Xwk3oidrXeIDAAevOUS"),i.open("GET",r,!0),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var t=JSON.parse(i.responseText);e(o,t)}},i.send(null)},e})),i("ogc/openSearch/OpenSearchConstants",[],(function(){"use strict";return{COLLECTION:"collection",RESULTS:"results"}})),i("ogc/openSearch/OpenSearchNamespaces",[],(function(){"use strict";return{openSearch:"http://a9.com/-/spec/opensearch/1.1/",geo:"http://a9.com/-/opensearch/extensions/geo/1.0/",time:"http://a9.com/-/opensearch/extensions/time/1.0/",parameters:"http://a9.com/-/spec/opensearch/extensions/parameters/1.0/",eo:"http://a9.com/-/opensearch/extensions/eo/1.0/",gml:"http://www.opengis.net/gml",dc:"http://purl.org/dc/elements/1.1/",georss:"http://www.georss.org/georss"}})),i("ogc/openSearch/OpenSearchUtils",["../../util/Promise"],(function(t){"use strict";return{getChildTextContent:function(t,e,n){var r=this.getXmlElements(t,e,n);return r.length?r[0].textContent.trim():""},getTextContent:function(t){return t.textContent.trim()},getXmlElements:function(t,e,n){var r;return n?r=t.getElementsByTagNameNS(n,e):(r=t.getElementsByTagName(e)).length||(r=t.getElementsByTagNameNS("*",e)),r&&r.length?[].slice.call(r):[]},getNodeAttributes:function(t,e){for(var n=0,r=t.attributes.length;n<r;n++){var i=t.attributes[n];e[i.name]=i.value}return e},arrayFind:function(t,e,n){if(!Array.isArray(t))throw new Error("arrayFind - missing array");if("function"!=typeof e)throw new Error("arrayFind - missing predicate");for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]},parseXml:function(t){return(new DOMParser).parseFromString(t,"text/xml").documentElement},fetch:function(e){return new t((function(t,n){var r=new XMLHttpRequest;r.onload=function(){return this.status>=200&&this.status<300?t(this.response):n(new Error(this.status+" "+this.statusText))},r.onerror=function(){return n(new Error("Unable to fetch data"))},r.ontimeout=function(){return n(new Error("Request timed out"))},r.open(e.method,e.url,!0,e.user,e.password),r.withCredentials=e.withCredentials,r.timeout=e.timeout,r.responseType=e.responseType,Object.keys(e.headers).forEach((function(t){r.setRequestHeader(t,e.headers[t])})),r.send(e.body)}))}}})),i("ogc/openSearch/responseFormats/atomParser/OpenSearchGeoRssParser",["../../OpenSearchNamespaces","../../OpenSearchUtils"],(function(t,e){"use strict";var n={parseSimple:function(t){var e={type:"",coordinates:[]};return"polygon"===t.localName?(e.type="Polygon",e.coordinates.push(n.parseLocations(t))):"point"===t.localName?(e.type="Point",e.coordinates=n.parseLocations(t)):"line"===t.localName&&(e.type="LineString",e.coordinates=n.parseLocations(t)),e},parseGml:function(t){var r={type:"",coordinates:[]},i=t.firstElementChild;switch(i.localName){case"Point":r.type="Point";var o=e.getXmlElements(i,"pos")[0];o&&(r.coordinates=n.parseLocations(o));break;case"LineString":r.type="LineString";var a=e.getXmlElements(i,"posList")[0];a&&(r.coordinates=n.parseLocations(a));break;case"Polygon":r.type="Polygon",r.coordinates=n.parseGmlPolygon(i);break;case"MultiSurface":r.type="MultiPolygon",r.coordinates=[n.parseMultiPolygon(i)]}return r},parseBox:function(t){var e=n.parseLocations(t);return[].concat.apply([],e)},parseLocations:function(t){for(var e=t.textContent.trim().replace(/\s+/g," ").split(" "),n=[],r=0;r<e.length;r+=2){var i=+e[r],o=+e[r+1];n.push([o,i])}return n},parseGmlPolygon:function(t){for(var r=e.getXmlElements(t,"posList")[0],i=e.getXmlElements(t,"interior"),o=n.parseLocations(r),a=[],s=0;s<i.length;s++){var u=e.getXmlElements(i[s],"posList")[0];if(u){var l=n.parseLocations(u);a.push(l)}}return o.concat(a)},parseMultiPolygon:function(t){var r=e.getXmlElements(t,"surfaceMember").map((function(t){return e.getXmlElements(t,"Polygon")})),i=e.getXmlElements(t,"surfaceMembers")[0];return i&&(r=r.concat(e.getXmlElements(i,"Polygon"))),r.map((function(t){return n.parseGmlPolygon(t)}))}};return n})),i("ogc/openSearch/responseFormats/atomParser/OpenSearchAtomParser",["../../OpenSearchConstants","./OpenSearchGeoRssParser"],(function(t,e){"use strict";var n={parse:function(t,e){for(var r=(new DOMParser).parseFromString(t,"text/xml").documentElement,i={id:"",type:"FeatureCollection",features:[],properties:{}},o=i.properties,a=0,s=r.childNodes.length;a<s;a++){var u=r.childNodes[a];if(1===u.nodeType)switch(u.localName){case"id":i.id=u.textContent.trim();break;case"title":case"updated":case"rights":o[u.localName]=u.textContent.trim();break;case"generator":o.creator=u.textContent.trim();break;case"totalResults":case"startIndex":case"itemsPerPage":o[u.localName]=+u.textContent.trim();break;case"Query":o.query=n.parseAttributesAsString(u);break;case"link":n.parseFeedLinks(u,o);break;case"entry":i.features.push(n.parseEntry(u,e))}}return i},parseFeedLinks:function(t,e){e.links||(e.links={});var r=e.links,i=t.getAttribute("rel")||"alternate",o=n.parseLink(t);"first"===i||"next"===i||"last"===i?r[i]=o:("alternate"===i&&(i="alternates"),r[i]||(r[i]=[]),r[i].push(o))},parseLink:function(t){var e={},n=t.getAttribute("href"),r=t.getAttribute("type"),i=t.getAttribute("title"),o=t.getAttribute("hreflang");return e.href=n,r&&(e.type=r),i&&(e.title=i),o&&(e.hreflang=o),e},parseAttributesAsString:function(t){for(var e="",n=0,r=t.attributes.length;n<r;n++){var i=t.attributes[n];e+=i.name+'="'+i.value+'"',n<r-1&&(e+=" ")}return e},parseEntry:function(t,r){for(var i={id:"",type:"Feature",bbox:[],geometry:null,properties:{}},o=i.properties,a=0,s=t.childNodes.length;a<s;a++){var u=t.childNodes[a];if(1===u.nodeType)switch(u.localName){case"id":i.id=u.textContent.trim();break;case"title":case"date":case"identifier":case"updated":case"rights":case"published":o[u.localName]=u.textContent.trim();break;case"category":o.categories||(o.categories=[]),o.categories.push({label:u.getAttribute("label"),term:u.getAttribute("term")});break;case"link":n.parseEntryLinks(u,i,r);break;case"polygon":case"point":case"line":i.geometry=e.parseSimple(u);break;case"where":i.geometry=e.parseGml(u);break;case"box":i.bbox=e.parseBox(u)}}return i},parseEntryLinks:function(e,r,i){if(i===t.COLLECTION){r.links||(r.links={});var o=r.links}else r.properties.links||(r.properties.links={}),o=r.properties.links;var a=e.getAttribute("rel")||"alternate";"alternate"===a&&(a="alternates"),o[a]||(o[a]=[]),o[a].push(n.parseLink(e))}};return n})),i("ogc/openSearch/descriptionDocument/OpenSearchParameter",["../OpenSearchUtils"],(function(t){"use strict";var e=function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g){this._internalType=t,this.name=e,this.value=n,this.required=r,this.replaceable=i,this.ns=o||"",this.minimum=a,this.maximum=s,this.pattern=u,this.title=l,this.minExclusive=c,this.maxExclusive=h,this.minInclusive=f,this.maxInclusive=p,this.step=d,this.options=g||[]};return e.fromQuery=function(t){var n=t.split("="),r=n[0],i=n[1],o=!0;if("{"===i[0])var a=i.slice(1,i.length-1);else a=i,o=!1;var s=!0;"?"===a[a.length-1]&&(s=!1,a=a.slice(0,a.length-1));var u=a.split(":"),l="";return u&&2===u.length&&(l=u[0],a=u[1]),new e(e.types.TEMPLATE,r,a,s,o,l)},e.fromNode=function(n){var r=n.getAttribute("name"),i=n.getAttribute("value")||"",o=!0;if("{"===i[0])var a=i.slice(1,i.length-1);else a=i,o=!1;var s="",u=a.split(":");u&&2===u.length&&(s=u[0],a=u[1]);var l,c=n.getAttribute("minimum");c?l=(c=+c)>0:(c=1,l=!1);var h=n.getAttribute("maximum"),f=1;h&&(f="*"===h?h:+h);var p=n.getAttribute("pattern")||"",d=n.getAttribute("title")||"",g=+n.getAttribute("minExclusive")||"",m=+n.getAttribute("maxExclusive")||"",y=+n.getAttribute("minInclusive")||"",v=+n.getAttribute("maxInclusive")||"",b=+n.getAttribute("step")||"",E=t.getXmlElements(n,"Option"),_=[];if(E.length)for(var w=0,S=E.length;w<S;w++)_.push({label:E[w].getAttribute("label")||"",value:E[w].getAttribute("value")});return new e(e.types.NODE,r,a,l,o,s,c,f,p,d,g,m,y,v,b,_)},e.prototype.merge=function(t){var n=t.name,r=t.value,i=t.required,o=t.replaceable,a=t.ns;if(this._internalType===e.types.TEMPLATE&&(n=this.name,r=this.value,i=this.required,o=this.replaceable,a=this.ns),this.options&&t.options)var s=this.options.concat(t.options);else s=this.options||t.options||[];return new e(e.types.MIX,n,r,i,o,a,this.minimum||t.minimum,this.maximum||t.maximum,this.pattern||t.pattern,this.title||t.title,this.minExclusive||t.minExclusive,this.maxExclusive||t.maxExclusive,this.minInclusive||t.minInclusive,this.maxInclusive||t.maxInclusive,this.step||t.step,s)},e.types={TEMPLATE:"TEMPLATE",NODE:"NODE",MIX:"MIX"},e})),i("ogc/openSearch/descriptionDocument/OpenSearchUrl",["../../../util/Logger","../OpenSearchConstants","../OpenSearchNamespaces","./OpenSearchParameter","../OpenSearchUtils"],(function(t,e,n,r,i){"use strict";var o=function(){this._type="",this._method="",this._encType="",this._template="",this._parameters=[],this._indexOffset=1,this._pageOffset=1,this._relations=[],this._baseUrl="",this._paramsByName=Object.create(null),this._staticParams=[]};return Object.defineProperties(o.prototype,{type:{get:function(){return this._type}},method:{get:function(){return this._method}},encType:{get:function(){return this._encType}},template:{get:function(){return this._template}},parameters:{get:function(){return this._parameters}},indexOffset:{get:function(){return this._indexOffset}},pageOffset:{get:function(){return this._pageOffset}},relations:{get:function(){return this._relations}},paramsByName:{get:function(){return this._paramsByName}},staticParams:{get:function(){return this._staticParams}}}),o.prototype.parse=function(t){this.parseAttributes(t);var e=this.parseTemplate(this._template);if(!e)return this;var n=this.parseNodeParams(t),r=n.filter((function(t){return null==i.arrayFind(e,(function(e){return e.name===t.name}))})),o=e.map((function(t){var e=i.arrayFind(n,(function(e){return e.name===t.name}));return e?t.merge(e):t})).concat(r);return this._parameters=o.filter((function(t){return t.replaceable})),this._staticParams=o.filter((function(t){return!t.replaceable})),this._parameters.forEach((function(t){this._paramsByName[t.name]=t}),this),this},o.prototype.parseAttributes=function(t){this._type=t.getAttribute("type"),this._template=t.getAttribute("template");var r=t.getAttribute("rel");this._relations=r?r.split(" "):[e.RESULTS],this._indexOffset=t.getAttribute("indexOffset"),this._indexOffset?this._indexOffset=+this._indexOffset:this._indexOffset=1,this._pageOffset=t.getAttribute("pageOffset"),this._pageOffset?this._pageOffset=+this._pageOffset:this._pageOffset=1,this._method=t.getAttributeNS(n.parameters,"method")||"GET",this._encType=t.getAttributeNS(n.parameters,"enctype")||"application/x-www-form-urlencoded"},o.prototype.parseTemplate=function(t){if(t){var e=[],n=o.createUrlParser();n.href=t;var i=n.search;if(this._baseUrl=n.protocol+"//"+n.host+n.port+n.pathname,this._baseUrl=n.protocol+"//"+n.hostname,n.port&&(this._baseUrl+=":"+n.port),n.pathname&&("/"===n.pathname[0]?this._baseUrl+=n.pathname:this._baseUrl+="/"+n.pathname),!i)return e;"?"===i[0]&&(i=i.slice(1));for(var a=(i=i.replace(/&(?!amp;)/g,"&amp;")).split("&amp;"),s=0;s<a.length;s++)e.push(r.fromQuery(a[s]));return e}},o.prototype.parseNodeParams=function(t){return i.getXmlElements(t,"Parameter").map((function(t){return r.fromNode(t)}))},o.prototype.isCompatible=function(e){if(!e.every((function(t){return t.name in this._paramsByName}),this))return!1;var n=this._parameters.filter((function(t){return t.required&&!e.some((function(e){return e.name===t.name}))}));return n.length>0&&t.logMessage(t.LEVEL_WARNING,"OpenSearchUrl","isCompatible","Missing required params: ",n.map((function(t){return t.name+": "+t.value})).join(",")),0===n.length},o.prototype.createRequestUrl=function(t){t=t||[];var e=this._baseUrl,n=this._staticParams.map((function(t){return t.name+"="+t.value})).concat(t.map((function(t){return t.name+"="+this.serializeParam(t.value)}),this)).join("&");return n.length&&(e+="?"+n),e},o.prototype.createRequestBody=function(t){var e=new FormData;return this.createQueryParts(t).forEach((function(t){e.append(t.name,t.value)})),e},o.prototype.createQueryParts=function(t){return t=t||[],this._staticParams.map((function(t){return{name:t.name,value:this.serializeParam(t.value)}}),this).concat(t.map((function(t){return{name:t.name,value:this.serializeParam(t.value)}}),this))},o.prototype.serializeParam=function(t){return"string"==typeof t?encodeURIComponent(t):"number"==typeof t?t.toString():t instanceof Date?t.toISOString():t&&"object"==typeof t&&null!=t.minLongitude&&null!=t.minLatitude&&null!=t.maxLongitude&&null!=t.maxLatitude?t.minLongitude+","+t.minLatitude+","+t.maxLongitude+","+t.maxLatitude:encodeURIComponent(String(t))},o.createUrlParser=function(){return o.urlParser||(o.urlParser=document.createElement("a")),o.urlParser},o})),i("ogc/openSearch/descriptionDocument/OpenSearchDescriptionDocument",["../../../error/ArgumentError","../../../util/Logger","../OpenSearchNamespaces","./OpenSearchUrl","../OpenSearchUtils"],(function(t,e,n,r,i){"use strict";var o=function(o){if(!o)throw new t(e.logMessage(e.LEVEL_SEVERE,"OpenSearchDescriptionDocument","constructor","missingDomElement"));var a=n.openSearch;this._namespaces=i.getNodeAttributes(o,{}),this._shortName=i.getChildTextContent(o,"ShortName",a),this._description=i.getChildTextContent(o,"Description",a),this._urls=i.getXmlElements(o,"Url",a).map((function(t){return(new r).parse(t)})),this._contact=i.getChildTextContent(o,"Contact",a),this._tags=i.getChildTextContent(o,"Tags",a),this._longName=i.getChildTextContent(o,"LongName",a),this._images=i.getXmlElements(o,"Image",a).map(this.parseImage),this._queries=i.getXmlElements(o,"Query",a).map(this.parseQuery),this._developer=i.getChildTextContent(o,"Developer",a),this._attribution=i.getChildTextContent(o,"Attribution",a),this._syndicationRight=i.getChildTextContent(o,"SyndicationRight",a),this._adultContent=i.getChildTextContent(o,"AdultContent",a),"false"===this._adultContent?this._adultContent=!1:"true"===this._adultContent&&(this._adultContent=!0),this._languages=i.getXmlElements(o,"Language",a).map(i.getTextContent),this._inputEncodings=i.getXmlElements(o,"InputEncoding",a).map(i.getTextContent),this._outputEncodings=i.getXmlElements(o,"OutputEncoding",a).map(i.getTextContent)};return Object.defineProperties(o.prototype,{shortName:{get:function(){return this._shortName}},description:{get:function(){return this._description}},urls:{get:function(){return this._urls}},contact:{get:function(){return this._contact}},tags:{get:function(){return this._tags}},longName:{get:function(){return this._longName}},images:{get:function(){return this._images}},queries:{get:function(){return this._queries}},developer:{get:function(){return this._developer}},attribution:{get:function(){return this._attribution}},syndicationRight:{get:function(){return this._syndicationRight}},adultContent:{get:function(){return this._adultContent}},languages:{get:function(){return this._languages}},inputEncodings:{get:function(){return this._inputEncodings}},outputEncodings:{get:function(){return this._outputEncodings}}}),o.prototype.parseImage=function(t){var e={};return i.getNodeAttributes(t,e),e.src=t.textContent,e.height&&(e.height=Number(e.height)),e.width&&(e.width=Number(e.width)),e},o.prototype.parseQuery=function(t){var e={};return i.getNodeAttributes(t,e),e},o.prototype.findFirstSearchUrl=function(t){return this.findCompatibleUrls(t.searchParams,t.requestOptions,t.supportedFormats)[0]||null},o.prototype.hasExtension=function(t){var e=this._namespaces,n=!1;return Object.keys(e).forEach((function(r){e[r]===t&&(n=!0)})),n},o.prototype.findCompatibleUrls=function(t,e,n){var r=this.urls.filter((function(t){return-1!==n.indexOf(t.type)}));return r=r.filter((function(t){return-1!==t.relations.indexOf(e.relation)})),e.type&&(r=r.filter((function(t){return t.type===e.type}))),e.method&&(r=r.filter((function(t){return t.method===e.method}))),t&&(r=r.filter((function(e){return e.isCompatible(t)}))),r},o})),i("ogc/openSearch/responseFormats/OpenSearchParserRegistry",["../../../error/ArgumentError","../../../util/Logger","../OpenSearchConstants"],(function(t,e,n){"use strict";var r=function(){this._entries=Object.create(null)};return r.prototype.registerParser=function(n,r,i){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"OpenSearchParserRegistry","registerParser","The specified type is missing."));if("string"!=typeof n)throw new t(e.logMessage(e.LEVEL_SEVERE,"OpenSearchParserRegistry","registerParser","The specified type is not a string."));if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"OpenSearchParserRegistry","registerParser","The specified rel is missing."));if("string"!=typeof r)throw new t(e.logMessage(e.LEVEL_SEVERE,"OpenSearchParserRegistry","registerParser","The specified rel is not a string"));if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"OpenSearchParserRegistry","registerParser","The specified parser is missing."));if("object"!=typeof i)throw new t(e.logMessage(e.LEVEL_SEVERE,"OpenSearchParserRegistry","registerParser","The specified parser is not an object."));if("function"!=typeof i.parse)throw new t(e.logMessage(e.LEVEL_SEVERE,"OpenSearchParserRegistry","registerParser","The specified parser does not have a parse method."));this._entries[n]||(this._entries[n]=Object.create(null)),this._entries[n][r]=i},r.prototype.getParser=function(t,e){if(t&&"string"==typeof t&&"string"==typeof e&&(e=e||n.RESULTS,this._entries[t]))return this._entries[t][e]},r.prototype.getFormats=function(){return Object.keys(this._entries)},r.prototype.removeParser=function(t,e){this._entries[t]&&(e||delete this._entries[t],delete this._entries[t][e])},r})),i("ogc/openSearch/OpenSearchRequest",["./OpenSearchConstants"],(function(t){var e=function t(e){var n=t.defaultOptions;e=e||n,this.url=e.url||n.url,this.method=e.method||n.method,this.encType=e.encType||n.encType,this.type=e.type||n.type,this.relation=e.relation||n.relation,this.withCredentials=e.withCredentials||n.withCredentials,this.timeout=e.timeout||n.timeout,this.headers=e.headers||{},this.body=e.body||n.body,this.responseType=e.responseType||n.responseType,this.user=e.user||n.user,this.password=e.password||n.password};return e.prototype.addHeader=function(t,e){var n=this.getHeader(t);this.headers[t]=n?n+","+e:e},e.prototype.getHeader=function(t){return this.headers[t]},e.defaultOptions={url:"",method:"",encType:"application/x-www-form-urlencoded",type:"",relation:t.RESULTS,withCredentials:!1,timeout:0,headers:null,body:null,responseType:"text",user:null,password:null},e})),i("ogc/openSearch/OpenSearchService",["../../error/ArgumentError","../../util/Logger","./responseFormats/atomParser/OpenSearchAtomParser","./OpenSearchConstants","./descriptionDocument/OpenSearchDescriptionDocument","./responseFormats/OpenSearchParserRegistry","./OpenSearchRequest","./OpenSearchUtils","../../util/Promise"],(function(t,e,n,r,i,o,a,s,u){"use strict";var l=function(){this._url="",this._descriptionDocument=null,this._rawDescriptionDocument=null,this._parserRegistry=new o,this.registerDefaultParsers()};return Object.defineProperties(l.prototype,{url:{get:function(){return this._url}},descriptionDocument:{get:function(){return this._descriptionDocument}},rawDescriptionDocument:{get:function(){return this._rawDescriptionDocument}},parserRegistry:{get:function(){return this._parserRegistry},set:function(t){this._parserRegistry=t}}}),l.create=function(t){var e=new l,n=new a(t);return n.method=n.method||"GET",n.url?(this._url=n.url,s.fetch(n).then((function(t){var n=s.parseXml(t);return e._rawDescriptionDocument=n,e._descriptionDocument=new i(n),e}))):u.reject(new Error("OpenSearchService discover - no url provided"))},l.prototype.search=function(t,e){if(!this._descriptionDocument)return u.reject(new Error("OpenSearchService search - no descriptionDocument, create the service via create first"));var n=this,r=new a(e),i=this.getSupportedFormats(),o=this._descriptionDocument.findFirstSearchUrl({searchParams:t,requestOptions:r,supportedFormats:i});if(!o)return u.reject(new Error("OpenSearchService - no suitable Url found"));if(r.method=o.method,r.encType=o.encType,"GET"===o.method)r.url=o.createRequestUrl(t);else{if("application/x-www-form-urlencoded"!==o.encType&&"multipart/form-data"!==o.encType)return u.reject(new Error("OpenSearchService search - unsupported encoding"));r.url=o._baseUrl,r.body=o.createRequestBody(t),r.addHeader("Content-Type",o.encType)}return s.fetch(r).then((function(t){var e=n.getParser(o.type,r.relation);if(!e)throw new Error("OpenSearchService search - no suitable response parser found");return e.parse(t,r.relation)}))},l.prototype.findUrl=function(t,e){return s.arrayFind(this._descriptionDocument.urls,t,e)},l.prototype.registerParser=function(t,e,n){this.parserRegistry.registerParser(t,e,n)},l.prototype.getSupportedFormats=function(){return this.parserRegistry.getFormats()},l.prototype.getParser=function(t,e){return this.parserRegistry.getParser(t,e)},l.prototype.removeParser=function(t,e){this.parserRegistry.removeParser(t,e)},l.prototype.registerDefaultParsers=function(){this.registerParser("application/atom+xml",r.RESULTS,n),this.registerParser("application/atom+xml",r.COLLECTION,n),this.registerParser("application/vnd.geo+json",r.RESULTS,window.JSON),this.registerParser("application/vnd.geo+json",r.COLLECTION,window.JSON),this.registerParser("application/geo+json",r.RESULTS,window.JSON),this.registerParser("application/geo+json",r.COLLECTION,window.JSON),this.registerParser("application/json",r.RESULTS,window.JSON),this.registerParser("application/json",r.COLLECTION,window.JSON)},l})),i("ogc/ows/OwsLanguageString",["../../error/ArgumentError","../../util/Logger"],(function(t,e){"use strict";return function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"LanguageString","constructor","missingDomElement"));this.value=n.textContent,this.lang;var r=n.getAttribute("lang");r&&(this.lang=r)}})),i("ogc/ows/OwsDescription",["../../error/ArgumentError","../../util/Logger","../../ogc/ows/OwsLanguageString"],(function(t,e,n){"use strict";return function(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsDescription","assembleDescriptions","missingDomElement"));for(var i=r.children||r.childNodes,o=0;o<i.length;o++){var a=i[o];if("Title"===a.localName)this.titles=this.titles||[],this.titles.push(new n(a));else if("Abstract"===a.localName)this.abstracts=this.abstracts||[],this.abstracts.push(new n(a));else if("Keywords"===a.localName){this.keywords=this.keywords||[];for(var s=a.children||a.childNodes,u=0;u<s.length;u++){var l=s[u];"Keyword"===l.localName&&this.keywords.push(new n(l))}}}}})),i("ogc/ows/OwsConstraint",["../../error/ArgumentError","../../util/Logger"],(function(t,e){"use strict";return function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsConstraint","constructor","missingDomElement"));this.name=n.getAttribute("name");for(var r=n.children||n.childNodes,i=0;i<r.length;i++){var o=r[i];if("AllowedValues"===o.localName){this.allowedValues=this.allowedValues||[];for(var a=o.children||o.childNodes,s=0;s<a.length;s++)"Value"===a[s].localName&&this.allowedValues.push(a[s].textContent)}else"AnyValue"===o.localName?this.anyValue=!0:"NoValues"===o.localName&&(this.noValues=!0)}}})),i("ogc/ows/OwsOperationsMetadata",["../../error/ArgumentError","../../util/Logger","../../ogc/ows/OwsConstraint"],(function(t,e,n){"use strict";var r=function n(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsOperationsMetadata","constructor","missingDomElement"));for(var i=r.children||r.childNodes,o=0;o<i.length;o++){var a=i[o];"Operation"===a.localName&&(this.operation=this.operation||[],this.operation.push(n.assembleOperation(a)))}};return r.prototype.getGetCapabilities=function(){return this.getOperationMetadataByName("GetCapabilities")},r.prototype.getGetTile=function(){return this.getOperationMetadataByName("GetTile")},r.prototype.getOperationMetadataByName=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsOperationsMetadata","getOperationsMetadataByName","missingName"));for(var r=0;r<this.operation.length;r++)if(this.operation[r].name===n)return this.operation[r];return null},r.assembleOperation=function(t){var e={};e.name=t.getAttribute("name");for(var n=t.children||t.childNodes,i=0;i<n.length;i++){var o=n[i];"DCP"===o.localName&&(e.dcp=e.dcp||[],e.dcp.push(r.assembleDcp(o)))}return e},r.assembleDcp=function(t){for(var e={},n=t.children||t.childNodes,i=0;i<n.length;i++){var o=n[i];if("HTTP"===o.localName)for(var a=o.children||o.childNodes,s=0;s<a.length;s++){var u=a[s];"Get"===u.localName?(e.getMethods=e.getMethods||[],e.getMethods.push(r.assembleMethod(u))):"Post"===u.localName&&(e.postMethods=e.postMethods||[],e.postMethods.push(r.assembleMethod(u)))}}return e},r.assembleMethod=function(t){var e={};e.url=t.getAttribute("xlink:href");for(var r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"Constraint"===o.localName&&(e.constraint=e.constraint||[],e.constraint.push(new n(o)))}return e},r})),i("ogc/ows/OwsServiceIdentification",["../../error/ArgumentError","../../util/Logger","../../ogc/ows/OwsDescription"],(function(t,e,n){"use strict";var r=function(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsServiceIdentification","constructor","missingDomElement"));n.call(this,r);for(var i=r.children||r.childNodes,o=0;o<i.length;o++){var a=i[o];"ServiceType"===a.localName?this.serviceType=a.textContent:"ServiceTypeVersion"===a.localName?(this.serviceTypeVersions=this.serviceTypeVersions||[],this.serviceTypeVersions.push(a.textContent)):"Profile"===a.localName?(this.profile=this.profile||[],this.profile.push(a.textContent)):"Fees"===a.localName?this.fees=a.textContent:"AccessConstraints"===a.localName&&(this.accessConstraints=this.accessConstraints||[],this.accessConstraints.push(a.textContent))}};return r.prototype=Object.create(n.prototype),r})),i("ogc/ows/OwsServiceProvider",["../../error/ArgumentError","../../util/Logger"],(function(t,e){"use strict";var n=function n(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsServiceProvider","constructor","missingDomElement"));for(var i=r.children||r.childNodes,o=0;o<i.length;o++){var a=i[o];"ProviderName"===a.localName?this.providerName=a.textContent:"ProviderSite"===a.localName?this.providerSiteUrl=a.getAttribute("xlink:href"):"ServiceContact"===a.localName&&(this.serviceContact=n.assembleServiceContact(a))}};return n.assembleServiceContact=function(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsServiceProvider","assembleServiceContact","missingDomElement"));for(var i={},o=r.children||r.childNodes,a=0;a<o.length;a++){var s=o[a];"IndividualName"===s.localName?i.individualName=s.textContent:"PositionName"===s.localName?i.positionName=s.textContent:"ContactInfo"===s.localName&&(i.contactInfo=n.assembleContacts(s))}return i},n.assembleContacts=function(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsServiceProvider","assembleContacts","missingDomElement"));for(var i={},o=r.children||r.childNodes,a=0;a<o.length;a++){var s=o[a];"HoursOfService"===s.localName?i.hoursOfService=s.textContent:"ContactInstructions"===s.localName?i.contactInstructions=s.textContent:"Phone"===s.localName?i.phone=n.assemblePhone(s):"Address"===s.localName&&(i.address=n.assembleAddress(s))}return i},n.assemblePhone=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsServiceProvider","assemblePhone","missingDomElement"));for(var r={},i=n.children||n.childNodes,o=0;o<i.length;o++){var a=i[o];"Voice"===a.localName?r.voice=a.textContent:"Facsimile"===a.localName&&(r.facsimile=a.textContent)}return r},n.assembleAddress=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsServiceProvider","assembleAddress","missingDomElement"));for(var r={},i=n.children||n.childNodes,o=0;o<i.length;o++){var a=i[o];"DeliveryPoint"===a.localName?(r.deliveryPoints=r.deliveryPoints||[],r.deliveryPoints.push(a.textContent)):"City"===a.localName?r.city=a.textContent:"AdministrativeArea"===a.localName?r.administrativeArea=a.textContent:"PostalCode"===a.localName?(r.postalCodes=r.postalCodes||[],r.postalCodes.push(a.textContent)):"Country"===a.localName?(r.countries=r.countries||[],r.countries.push(a.textContent)):"ElectronicMailAddress"===a.localName&&(r.electronicMailAddresses=r.electronicMailAddresses||[],r.electronicMailAddresses.push(a.textContent))}return r},n})),i("ogc/wms/WmsLayerCapabilities",["../../error/ArgumentError","../../util/Logger"],(function(t,e){"use strict";var n=function(n,r){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsLayerCapabilities","constructor","Layer element is null or undefined."));this.parent=r,this.layers,this.name,this.title,this.abstract,this.keywordList,this.identifiers,this.metadataUrls,this.dataUrls,this.featureListUrls,this.assembleLayer(n)};return Object.defineProperties(n.prototype,{capability:{get:function(){for(var t=this;t&&t instanceof n;)t=t.parent;return t}},queryable:{get:function(){return n.replace(this,"_queryable")}},cascaded:{get:function(){return n.replace(this,"_cascaded")}},opaque:{get:function(){return n.replace(this,"_opaque")}},noSubsets:{get:function(){return n.replace(this,"_noSubsets")}},fixedWidth:{get:function(){return n.replace(this,"_fixedWidth")}},fixedHeight:{get:function(){return n.replace(this,"_fixedHeight")}},styles:{get:function(){return n.accumulate(this,"_styles",[])}},crses:{get:function(){return n.accumulate(this,"_crses",[])}},srses:{get:function(){return n.accumulate(this,"_srses",[])}},geographicBoundingBox:{get:function(){return n.replace(this,"_geographicBoundingBox")}},latLonBoundingBox:{get:function(){return n.replace(this,"_latLonBoundingBox")}},boundingBoxes:{get:function(){return n.replace(this,"_boundingBoxes")}},dimensions:{get:function(){for(var t=[],e=this;e&&e instanceof n;)e._dimensions&&e._dimensions.length>0&&e._dimensions.forEach((function(e){var n=e.name,r=!0;t.forEach((function(t){t.name===n&&(r=!1)})),r&&t.push(e)})),e=e.parent;return t.length>0?t:void 0}},extents:{get:function(){for(var t=[],e=this;e&&e instanceof n;)e._extents&&e._extents.length>0&&e._extents.forEach((function(e){var n=e.name,r=!0;t.forEach((function(t){t.name===n&&(r=!1)})),r&&t.push(e)})),e=e.parent;return t.length>0?t:void 0}},attribution:{get:function(){return n.replace(this,"_attribution")}},authorityUrls:{get:function(){return n.accumulate(this,"_authorityUrls",[])}},minScaleDenominator:{get:function(){return n.replace(this,"_minScaleDenominator")}},maxScaleDenominator:{get:function(){return n.replace(this,"_maxScaleDenominator")}},scaleHint:{get:function(){return n.replace(this,"_scaleHint")}}}),n.prototype.style=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsLayerCapabilities","style","Style name is null or undefined."));var r=this.styles;if(!r)return null;for(var i,o=0,a=r.length;o<a;o++)if((i=r[o]).name===n)return i},n.accumulate=function(t,e,r){for(;t&&t instanceof n;){var i=t[e];if(i)for(var o=0;o<i.length;o++)r.push(i[o]);t=t.parent}return r.length>0?r:null},n.replace=function(t,e){for(;t&&t instanceof n;){var r=t[e];if(r)return r;t=t.parent}},n.prototype.assembleLayer=function(t){var e,r;(e=t.getAttribute("queryable"))&&(this._queryable="1"===e||"true"===e),(e=t.getAttribute("opaque"))&&(this._opaque="1"===e||"true"===e),(e=t.getAttribute("noSubsets"))&&(this._noSubsets="1"===e||"true"===e),(e=t.getAttribute("cascaded"))&&(this._cascaded=parseInt("10")),(e=t.getAttribute("fixedWidth"))&&(this._fixedWidth=parseInt("10")),(e=t.getAttribute("fixedHeight"))&&(this._fixedHeight=parseInt("10"));var i=t.children||t.childNodes;for(r=0;r<i.length;r++){var o=i[r];if("Layer"===o.localName)this.layers||(this.layers=[]),this.layers.push(new n(o,this));else if("Name"===o.localName)this.name=o.textContent;else if("Title"===o.localName)this.title=o.textContent;else if("Abstract"===o.localName)this.abstract=o.textContent;else if("KeywordList"===o.localName){this.keywordList=this.keywordList||[];for(var a=o.children||o.childNodes,s=0;s<a.length;s++){var u=a[s];"Keyword"===u.localName&&this.keywordList.push(u.textContent)}}else"Style"===o.localName?(this._styles||(this._styles=[]),this._styles.push(n.assembleStyle(o))):"CRS"===o.localName?(this._crses||(this._crses=[]),this._crses.push(o.textContent)):"SRS"===o.localName?(this._srses||(this._srses=[]),this._srses.push(o.textContent)):"EX_GeographicBoundingBox"===o.localName?this._geographicBoundingBox=n.assembleGeographicBoundingBox(o):"LatLonBoundingBox"===o.localName?this._geographicBoundingBox=n.assembleLatLonBoundingBox(o):"BoundingBox"===o.localName?(this._boundingBoxes||(this._boundingBoxes=[]),this._boundingBoxes.push(n.assembleBoundingBox(o))):"Dimension"===o.localName?(this._dimensions||(this._dimensions=[]),this._dimensions.push(n.assembleDimension(o))):"Extent"===o.localName?(this._extents||(this._extents=[]),this._extents.push(n.assembleDimension(o))):"Attribution"===o.localName?this._attribution=n.assembleAttribution(o):"AuthorityURL"===o.localName?(this._authorityUrls||(this._authorityUrls=[]),this._authorityUrls.push(n.assembleAuthorityUrl(o))):"Identifier"===o.localName?(this.identifiers||(this.identifiers=[]),this.identifiers.push(n.assembleIdentifier(o))):"MetadataURL"===o.localName?(this.metadataUrls||(this.metadataUrls=[]),this.metadataUrls.push(n.assembleMetadataUrl(o))):"DataURL"===o.localName?(this.dataUrls||(this.dataUrls=[]),this.dataUrls.push(n.assembleUrl(o))):"FeatureListURL"===o.localName?(this.featureListUrls||(this.featureListUrls=[]),this.featureListUrls.push(n.assembleUrl(o))):"MinScaleDenominator"===o.localName?this._minScaleDenominator=parseFloat(o.textContent):"MaxScaleDenominator"===o.localName?this._maxScaleDenominator=parseFloat(o.textContent):"ScaleHint"===o.localName&&(this._scaleHint={},this._scaleHint.min=n.getFloatAttribute(o,"min"),this._scaleHint.max=n.getFloatAttribute(o,"max"))}},n.assembleStyle=function(t){for(var e={},r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"Name"===o.localName?e.name=o.textContent:"Title"===o.localName?e.title=o.textContent:"Abstract"===o.localName?e.abstract=o.textContent:"LegendURL"===o.localName?(e.legendUrls||(e.legendUrls=[]),e.legendUrls.push(n.assembleLegendUrl(o))):"StyleSheetURL"===o.localName?e.styleSheetUrl=n.assembleUrl(o):"StyleURL"===o.localName&&(e.styleUrl=n.assembleUrl(o))}return e},n.assembleGeographicBoundingBox=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"westBoundLongitude"===i.localName?e.westBoundLongitude=parseFloat(i.textContent):"eastBoundLongitude"===i.localName?e.eastBoundLongitude=parseFloat(i.textContent):"southBoundLatitude"===i.localName?e.southBoundLatitude=parseFloat(i.textContent):"northBoundLatitude"===i.localName&&(e.northBoundLatitude=parseFloat(i.textContent))}return e},n.assembleLatLonBoundingBox=function(t){var e={};return e.minx=n.getFloatAttribute(t,"minx"),e.miny=n.getFloatAttribute(t,"miny"),e.maxx=n.getFloatAttribute(t,"maxx"),e.maxy=n.getFloatAttribute(t,"maxy"),e},n.assembleBoundingBox=function(t){var e={};return e.crs=t.getAttribute("CRS"),e.minx=n.getFloatAttribute(t,"minx"),e.miny=n.getFloatAttribute(t,"miny"),e.maxx=n.getFloatAttribute(t,"maxx"),e.maxy=n.getFloatAttribute(t,"maxy"),e.resx=n.getFloatAttribute(t,"resx"),e.resy=n.getFloatAttribute(t,"resy"),e},n.assembleDimension=function(t){var e={};return e.name=t.getAttribute("name"),e.units=t.getAttribute("units"),e.unitSymbol=t.getAttribute("unitSymbol"),e.default=t.getAttribute("default"),e.multipleValues=t.getAttribute("multipleValues"),e.multipleValues&&(e.multipleValues="true"===e.multipleValues||"1"===e.multipleValues),e.nearestValue=t.getAttribute("nearestValue"),e.nearestValue&&(e.nearestValue="true"===e.nearestValue||"1"===e.nearestValue),e.current=t.getAttribute("current"),e.current&&(e.current="true"===e.current||"1"===e.current),e.content=t.textContent,e},n.assembleAttribution=function(t){for(var e={},r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"Title"===o.localName?e.title=o.textContent:"OnlineResource"===o.localName?e.url=o.getAttribute("xlink:href"):"LogoUrul"===o.localName&&(e.logoUrl=n.assembleLogoUrl(o))}return e},n.assembleAuthorityUrl=function(t){var e={};e.name=t.getAttribute("name");for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"OnlineResource"===i.localName&&(e.url=i.getAttribute("xlink:href"))}return e},n.assembleIdentifier=function(t){var e={};return e.authority=t.getAttribute("authority"),e.content=t.textContent,e},n.assembleMetadataUrl=function(t){var e={};e.type=t.getAttribute("type");for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Format"===i.localName?e.format=i.textContent:"OnlineResource"===i.localName&&(e.url=i.getAttribute("xlink:href"))}return e},n.assembleLegendUrl=function(t){var e={};e.width=n.getIntegerAttribute(t,"width"),e.height=n.getIntegerAttribute(t,"height");for(var r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"Format"===o.localName?e.format=o.textContent:"OnlineResource"===o.localName&&(e.url=o.getAttribute("xlink:href"))}return e},n.assembleLogoUrl=function(t){var e={};e.width=n.getIntegerAttribute(t,"width"),e.height=n.getIntegerAttribute(t,"height");for(var r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"Format"===o.localName?e.format=o.textContent:"OnlineResource"===o.localName&&(e.url=o.getAttribute("xlink:href"))}return e},n.assembleUrl=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Format"===i.localName?e.format=i.textContent:"OnlineResource"===i.localName&&(e.url=i.getAttribute("xlink:href"))}return e},n.getIntegerAttribute=function(t,e){var n=t.getAttribute(e);return n?parseInt(n):void 0},n.getFloatAttribute=function(t,e){var n=t.getAttribute(e);return n?parseFloat(n):void 0},n})),i("ogc/wms/WmsCapabilities",["../../error/ArgumentError","../../util/Logger","../../ogc/wms/WmsLayerCapabilities"],(function(t,e,n){"use strict";var r=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsCapabilities","constructor","No XML DOM specified."));this.assembleDocument(n)};return r.prototype.getNamedLayers=function(){return this.accumulateNamedLayers(this.capability.layers)},r.prototype.accumulateNamedLayers=function(t,e){var n=e||[];if(!t)return n;for(var r=0,i=t.length;r<i;r++){var o=t[r];o.name&&n.push(o),o.layers&&this.accumulateNamedLayers(o.layers,n)}return n},r.prototype.getNamedLayer=function(n){if(!n||0===n.length)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsCapabilities","getNamedLayer","No WMS layer name provided."));for(var r=this.getNamedLayers(),i=0,o=r.length;i<o;i++)if(n===r[i].name)return r[i];return null},r.prototype.assembleDocument=function(t){var e=t.documentElement;this.version=e.getAttribute("version"),this.updateSequence=e.getAttribute("updateSequence");for(var n=e.children||e.childNodes,r=0;r<n.length;r++){var i=n[r];"Service"===i.localName?this.service=this.assembleService(i):"Capability"===i.localName&&(this.capability=this.assembleCapability(i))}},r.prototype.assembleService=function(t){for(var e={capsDoc:this},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Name"===i.localName?e.name=i.textContent:"Title"===i.localName?e.title=i.textContent:"Abstract"===i.localName?e.abstract=i.textContent:"KeywordList"===i.localName?e.keywordList=this.assembleKeywordList(i):"OnlineResource"===i.localName?e.url=i.getAttribute("xlink:href"):"Fees"===i.localName?e.fees=i.textContent:"AccessConstraints"===i.localName?e.accessConstraints=i.textContent:"LayerLimit"==i.localName?e.layerLimit=parseInt(i.textContent):"MaxWidth"==i.localName?e.maxWidth=parseInt(i.textContent):"MaxHeight"==i.localName?e.maxHeight=parseInt(i.textContent):"ContactInformation"===i.localName&&(e.contactInformation=this.assembleContactInformation(i))}return e},r.prototype.assembleKeywordList=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Keyword"===i.localName&&e.push(i.textContent)}return e},r.prototype.assembleContactInformation=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"ContactPersonPrimary"===i.localName?e.contactPersonPrimary=this.assembleContactPersonPrimary(i):"ContactPosition"===i.localName?e.contactPosition=i.textContent:"ContactVoiceTelephone"===i.localName?e.contactVoiceTelephone=i.textContent:"ContactFacsimileTelephone"===i.localName?e.contactFacsimileTelephone=i.textContent:"ContactElectronicMailAddress"===i.localName?e.contactElectronicMailAddress=i.textContent:"ContactAddress"===i.localName&&(e.contactAddress=this.assembleContactAddress(i))}return e},r.prototype.assembleContactPersonPrimary=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"ContactPerson"===i.localName?e.contactPerson=i.textContent:"ContactOrganization"===i.localName&&(e.contactOrganization=i.textContent)}return e},r.prototype.assembleContactAddress=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"AddressType"===i.localName?e.addressType=i.textContent:"Address"===i.localName?e.address=i.textContent:"City"===i.localName?e.city=i.textContent:"StateOrProvince"===i.localName?e.stateOrProvince=i.textContent:"PostCode"===i.localName?e.postCode=i.textContent:"Country"===i.localName&&(e.country=i.textContent)}return e},r.prototype.assembleCapability=function(t){for(var e={capsDoc:this},r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"Request"===o.localName?e.request=this.assembleRequests(o):"Exception"===o.localName?e.exception=this.assembleException(o):"Layer"===o.localName&&(e.layers=e.layers||[],e.layers.push(new n(o,e)))}return e},r.prototype.assembleRequests=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"GetCapabilities"===i.localName?e.getCapabilities=this.assembleRequest(i):"GetMap"===i.localName?e.getMap=this.assembleRequest(i):"GetFeatureInfo"===i.localName&&(e.getFeatureInfo=this.assembleRequest(i))}return e},r.prototype.assembleRequest=function(t){for(var e={name:t.localName},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];if("Format"===i.localName)e.formats=e.formats||[],e.formats.push(i.textContent);else if("DCPType"===i.localName)for(var o=i.children||i.childNodes,a=0;a<o.length;a++){var s=o[a];if("HTTP"===s.localName)for(var u=s.children||s.childNodes,l=0;l<u.length;l++){var c=u[l];if("Get"===c.localName)for(var h=c.children||c.childNodes,f=0;f<h.length;f++){var p=h[f];"OnlineResource"===p.localName&&(e.getUrl=p.getAttribute("xlink:href"))}}}}return e},r.prototype.assembleException=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Format"===i.localName&&(e.formats=e.formats||[],e.formats.push(i.textContent))}return e},r})),i("ogc/wmts/WmtsLayerCapabilities",["../../error/ArgumentError","../../geom/Sector","../../ogc/ows/OwsDescription","../../util/Logger"],(function(t,e,n,r){"use strict";var i=function(e,i){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"WmtsLayerCapabilities","constructor","missingDomElement"));n.call(this,e),this.capabilities=i,this.identifier,this.title,this.abstract,this.keywords,this.wgs84BoundingBox,this.boundingBox,this.styles,this.formats,this.infoFormat,this.dimension,this.metadata,this.tileMatrixSetLink,this.resourceUrl,this.assembleLayer(e)};return(i.prototype=Object.create(n.prototype)).getLayerSupportedTileMatrixSets=function(){for(var t=[],e=0,n=this.tileMatrixSetLink.length;e<n;e++)for(var r=this.tileMatrixSetLink[e].tileMatrixSet,i=0,o=this.capabilities.contents.tileMatrixSet.length;i<o;i++)this.capabilities.contents.tileMatrixSet[i].identifier===r&&t.push(this.capabilities.contents.tileMatrixSet[i]);return t},i.prototype.assembleLayer=function(t){for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];"Identifier"===r.localName?this.identifier=r.textContent:"WGS84BoundingBox"===r.localName?this.wgs84BoundingBox=i.assembleBoundingBox(r):"BoundingBox"===r.localName?(this.boundingBox=this.boundingBox||[],this.boundingBox.push(i.assembleBoundingBox(r))):"Style"===r.localName?(this.style=this.style||[],this.style.push(i.assembleStyle(r))):"Format"===r.localName?(this.format=this.format||[],this.format.push(r.textContent)):"InfoFormat"===r.localName?(this.infoFormat=this.infoFormat||[],this.infoFormat.push(r.textContent)):"Dimension"===r.localName?(this.dimension=this.dimension||[],this.dimension.push(i.assembleDimension(r))):"Metadata"===r.localName?(this.metadata=this.metadata||[],this.metadata.push(i.assembleMetadata(r))):"ResourceURL"===r.localName?(this.resourceUrl=this.resourceUrl||[],this.resourceUrl.push(i.assembleResourceUrl(r))):"TileMatrixSetLink"===r.localName&&(this.tileMatrixSetLink=this.tileMatrixSetLink||[],this.tileMatrixSetLink.push(i.assembleTileMatrixSetLink(r)))}},i.assembleStyle=function(t){var e=new n(t);e.isDefault=t.getAttribute("isDefault");for(var r=t.children||t.childNodes,o=0;o<r.length;o++){var a=r[o];"Identifier"===a.localName?e.identifier=a.textContent:"LegendURL"===a.localName&&(e.legendUrl=e.legendUrl||[],e.legendUrl.push(i.assembleLegendUrl(a)))}return e},i.assembleBoundingBox=function(t){var n={},r=t.getAttribute("crs");r&&(n.crs=r);for(var i=t.children||t.childNodes,o=0;o<i.length;o++){var a=i[o];if("LowerCorner"===a.localName){var s=a.textContent.split(" ");n.lowerCorner=[parseFloat(s[0]),parseFloat(s[1])]}else if("UpperCorner"===a.localName){var u=a.textContent.split(" ");n.upperCorner=[parseFloat(u[0]),parseFloat(u[1])]}}return"WGS84BoundingBox"===t.localName&&(n.getSector=function(){return new e(n.lowerCorner[1],n.upperCorner[1],n.lowerCorner[0],n.upperCorner[0])}),n},i.assembleDimension=function(t){for(var e=new n(t),r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"Identifier"===o.localName?e.identifier=o.textContent:"UOM"===o.localName?e.uom={name:o.getAttribute("name"),reference:o.getAttribute("reference")}:"UnitSymbol"==o.localName?e.unitSymbol=o.textContent:"Default"===o.localName?e.default=o.textContent:"Current"===o.localName?e.current="true"===o.textContent:"Value"===o.localName&&(e.value=e.value||[],e.value.push(o.textContent))}return e},i.assembleMetadata=function(t){var e={},n=t.getAttribute("xlink:href");n&&(e.url=n);var r=t.getAttribute("about");n&&(e.about=r);var i=t.getAttribute("xlink:type");i&&(e.type=i);var o=t.getAttribute("xlink:role");o&&(e.role=o);var a=t.getAttribute("xlink:title");a&&(e.title=a);for(var s=t.children||t.childNodes,u=0;u<s.length;u++){var l=s[u];"Metadata"===l.localName&&(e.metadata=WmsLayerCapabilities.assembleMetadata(l))}return e},i.assembleResourceUrl=function(t){var e={};return e.format=t.getAttribute("format"),e.resourceType=t.getAttribute("resourceType"),e.template=t.getAttribute("template"),e},i.assembleLegendUrl=function(t){var e={};return e.format=t.getAttribute("format"),e.minScaleDenominator=t.getAttribute("minScaleDenominator"),e.maxScaleDenominator=t.getAttribute("maxScaleDenominator"),e.href=t.getAttribute("xlink:href"),e.width=t.getAttribute("width"),e.height=t.getAttribute("height"),e},i.assembleTileMatrixSetLink=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var o=n[r];"TileMatrixSet"===o.localName?e.tileMatrixSet=o.textContent:"TileMatrixSetLimits"===o.localName&&(e.tileMatrixSetLimits=i.assembleTileMatrixSetLimits(o))}return e},i.assembleTileMatrixSetLimits=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var o=n[r];"TileMatrixLimits"===o.localName&&(e.tileMatrixLimits=e.tileMatrixLimits||[],e.tileMatrixLimits.push(i.assembleTileMatrixLimits(o)))}return e},i.assembleTileMatrixLimits=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"TileMatrix"===i.localName?e.tileMatrix=i.textContent:"MinTileRow"===i.localName?e.minTileRow=parseInt(i.textContent):"MaxTileRow"===i.localName?e.maxTileRow=parseInt(i.textContent):"MinTileCol"===i.localName?e.minTileCol=parseInt(i.textContent):"maxTileCol"===i.localName&&(e.maxTileCol=parseInt(i.textContent))}return e},i})),i("ogc/wmts/WmtsCapabilities",["../../error/ArgumentError","../../util/Logger","../../ogc/ows/OwsDescription","../../ogc/ows/OwsLanguageString","../../ogc/ows/OwsOperationsMetadata","../../ogc/ows/OwsServiceIdentification","../../ogc/ows/OwsServiceProvider","../../ogc/wms/WmsCapabilities","../../ogc/wmts/WmtsLayerCapabilities"],(function(t,e,n,r,i,o,a,s,u){"use strict";var l=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmtsCapabilities","constructor","No XML DOM specified."));this.assembleDocument(n)};return l.prototype.getLayers=function(){return this.contents.layer},l.prototype.getLayer=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmtsCapabilities","getLayer","empty identifier"));for(var r=0,i=this.contents.layer.length;r<i;r++){var o=this.contents.layer[r];if(o.identifier===n)return o}return null},l.prototype.assembleDocument=function(t){var e=t.documentElement;this.version=e.getAttribute("version"),this.updateSequence=e.getAttribute("updateSequence");for(var n=e.children||e.childNodes,r=0;r<n.length;r++){var s=n[r];"ServiceIdentification"===s.localName?this.serviceIdentification=new o(s):"ServiceProvider"===s.localName?this.serviceProvider=new a(s):"OperationsMetadata"===s.localName?this.operationsMetadata=new i(s):"Contents"===s.localName?this.contents=this.assembleContents(s):"Themes"===s.localName?this.themes=l.assembleThemes(s):"ServiceMetadataURL"===s.localName&&(this.serviceMetadataUrls=this.serviceMetadataUrls||[],this.serviceMetadataUrls.push(l.assembleServiceMetadataURL(s)))}},l.prototype.assembleContents=function(t){for(var n={},r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];if("Layer"===o.localName){n.layer=n.layer||[];try{n.layer.push(new u(o,this))}catch(t){e.logMessage(e.LEVEL_SEVERE,"WmtsCapabilities","constructor","Exception reading WMTS layer description: "+t.message)}}else if("TileMatrixSet"===o.localName){n.tileMatrixSet=n.tileMatrixSet||[];try{n.tileMatrixSet.push(l.assembleTileMatrixSet(o))}catch(t){e.logMessage(e.LEVEL_SEVERE,"WmtsCapabilities","constructor","Exception reading WMTS tile matrix set description: "+t.message)}}}return n},l.assembleTileMatrixSet=function(t){for(var e=new n(t),r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"Identifier"===o.localName?e.identifier=o.textContent:"SupportedCRS"===o.localName?e.supportedCRS=o.textContent:"WellKnownScaleSet"===o.localName?e.wellKnownScaleSet=o.textContent:"BoundingBox"===o.localName?e.boundingBox=u.assembleBoundingBox(o):"TileMatrix"===o.localName&&(e.tileMatrix=e.tileMatrix||[],e.tileMatrix.push(l.assembleTileMatrix(o)))}l.sortTileMatrices(e);for(var a=0;a<e.tileMatrix.length;a++)e.tileMatrix[a].levelNumber=a;return e},l.assembleTileMatrix=function(t){for(var e=new n(t),r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];if("Identifier"===o.localName)e.identifier=o.textContent;else if("ScaleDenominator"===o.localName)e.scaleDenominator=parseFloat(o.textContent);else if("TileWidth"===o.localName)e.tileWidth=parseFloat(o.textContent);else if("TileHeight"===o.localName)e.tileHeight=parseFloat(o.textContent);else if("MatrixWidth"===o.localName)e.matrixWidth=parseFloat(o.textContent);else if("MatrixHeight"===o.localName)e.matrixHeight=parseFloat(o.textContent);else if("TopLeftCorner"===o.localName){var a=o.textContent.split(" ");e.topLeftCorner=[parseFloat(a[0]),parseFloat(a[1])]}}return e},l.assembleThemes=function(t){for(var e,n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Theme"===i.localName&&(e=e||[]).push(l.assembleTheme(i))}return e},l.assembleTheme=function(t){for(var e=new n(t),r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"Identifier"===o.localName?e.identifier=o.textContent:"LayerRef"===o.localName?(e.layerRef=e.layerRef||[],e.layerRef.push(o.textContent)):"Theme"===o.localName&&(e.themes=e.themes||[],e.themes.push(l.assembleTheme(o)))}return e},l.assembleServiceMetadataURL=function(t){var e={},n=t.getAttribute("xlink:href");return n&&(e.url=n),e},l.sortTileMatrices=function(t){t.tileMatrix.sort((function(t,e){return e.scaleDenominator-t.scaleDenominator}))},l.prototype.getGetTileKvpAddress=function(){for(var t=0;t<this.operationsMetadata.operation.length;t++){var e=this.operationsMetadata.operation[t];if("GetTile"===e.name)return e.dcp[0].getMethods[0].url}return null},l})),i("layer/WmtsLayerTile",["../geom/Angle","../error/ArgumentError","../geom/BoundingBox","../util/Logger","../geom/Vec3","../util/WWUtil"],(function(t,e,n,r,i,o){"use strict";var a=function(e,n,r,i,o){this.sector=e,this.tileMatrix=n,this.row=r,this.column=i,this.imagePath=o,this.texelSize=e.deltaLatitude()*t.DEGREES_TO_RADIANS/n.tileHeight,this.tileKey=n.levelNumber.toString()+"."+r.toString()+"."+i.toString(),this.gpuCacheKey=o};return a.prototype.isEqual=function(t){return!!t&&!!t.tileKey&&this.tileKey==t.tileKey},a.prototype.distanceTo=function(t){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"Tile","distanceTo","missingVector"));for(var n,i,o,a=t[0],s=t[1],u=t[2],l=this.samplePoints,c=Number.POSITIVE_INFINITY,h=0,f=l.length;h<f;h+=3)n=a-l[h],i=s-l[h+1],o=u-l[h+2],c=Math.min(c,n*n+i*i+o*o);return Math.sqrt(c)},a.prototype.subdivide=function(t,n){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"WmtsLayerTile","subdivide","The specified tile matrix is null or undefined."));if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"WmtsLayerTile","subdivide","The specified tile factory is null or undefined."));for(var i,o,a=[],s=t.matrixHeight/this.tileMatrix.matrixHeight,u=t.matrixWidth/this.tileMatrix.matrixWidth,l=0;l<s;l++)for(var c=0;c<u;c++)i=s*this.row+l,o=u*this.column+c,a.push(n.createTile(t,i,o));return a},a.prototype.subdivideToCache=function(t,n,i){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"Tile","subdivideToCache","The specified tile matrix is null or undefined."));if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"Tile","subdivideToCache","The specified tile factory is null or undefined."));var o=i?i.entryForKey(this.tileKey):null;return o||(o=this.subdivide(t,n))&&i&&i.putEntry(this.tileKey,o,o.length),o},a.prototype.mustSubdivide=function(t,e){var n=t.globe.equatorialRadius*this.texelSize,r=this.distanceTo(t.eyePoint),i=t.pixelSizeAtDistance(r);return n>Math.max(e*i,.5)},a.prototype.update=function(t){var e=t.globe.elevationTimestamp(),n=t.verticalExaggeration,r=t.globeStateKey;this.updateTimestamp==e&&this.updateVerticalExaggeration==n&&this.updateGlobeStateKey==r||(this.doUpdate(t),t.frameStatistics.incrementTileUpdateCount(1),this.updateTimestamp=e,this.updateVerticalExaggeration=n,this.updateGlobeStateKey=r)},a.prototype.doUpdate=function(t){var e=t.globe,r=t.verticalExaggeration,a=e.minAndMaxElevationsForSector(this.sector),s=a[0]*r,u=a[1]*r;s===u&&(s=u+10),this.extent||(this.extent=new n),this.extent.setToSector(this.sector,e,s,u),this.samplePoints||(this.sampleElevations=new Float64Array(9),this.samplePoints=new Float64Array(3*this.sampleElevations.length)),o.fillArray(this.sampleElevations,.5*(s+u)),e.computePointsForGrid(this.sector,3,3,this.sampleElevations,i.ZERO,this.samplePoints),this.referencePoint||(this.referencePoint=new i(0,0,0)),e.computePointFromPosition(this.sector.centroidLatitude(),this.sector.centroidLongitude(),0,this.referencePoint)},a.prototype.bind=function(t){var e=t.gpuResourceCache.resourceForKey(this.gpuCacheKey);return!(!e||!e.bind(t))||!!this.fallbackTile&&this.fallbackTile.bind(t)},a.prototype.applyInternalTransform=function(t,e){},a})),i("layer/WmtsLayer",["../util/AbsentResourceList","../error/ArgumentError","../util/Logger","../geom/Matrix","../geom/Sector","../layer/Layer","../cache/MemoryCache","../render/Texture","../util/WmsUrlBuilder","../layer/WmtsLayerTile","../util/WWMath","../util/WWUtil"],(function(t,e,n,r,i,o,a,s,u,l,c,h){"use strict";var f=function s(u,l){if(!u)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","constructor","No layer configuration specified."));if(o.call(this,"WMTS Layer"),this.layerIdentifier=u.identifier,this.styleIdentifier=u.style,this.timeString=l,this.imageFormat=u.format,this.resourceUrl=u.resourceUrl,this.serviceUrl=u.service,this.tileMatrixSet=u.tileMatrixSet,this.lasTtMVP=r.fromIdentity(),u.wgs84BoundingBox||u.boundingBox){if(u.wgs84BoundingBox)this.sector=u.wgs84BoundingBox.getSector();else if(this.tileMatrixSet.boundingBox&&s.isEpsg4326Crs(this.tileMatrixSet.boundingBox.crs))this.sector=new i(this.tileMatrixSet.boundingBox.lowerCorner[1],this.tileMatrixSet.boundingBox.upperCorner[1],this.tileMatrixSet.boundingBox.lowerCorner[0],this.tileMatrixSet.boundingBox.upperCorner[0]);else if(s.isEpsg4326Crs(this.tileMatrixSet.supportedCRS))throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","constructor","No EPSG:4326 bounding box was specified in the layer or tile matrix set capabilities."))}else{if(!this.tileMatrixSet.boundingBox)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","constructor","No bounding box was specified in the layer or tile matrix set capabilities."));this.sector=new i(u.tileMatrixSet.boundingBox.lowerCorner[1],u.tileMatrixSet.boundingBox.upperCorner[1],u.tileMatrixSet.boundingBox.lowerCorner[0],u.tileMatrixSet.boundingBox.upperCorner[0])}if(!s.isTileSubdivisionCompatible(this.tileMatrixSet))throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","constructor","TileMatrixSet level division not compatible."));var c=this.tileMatrixSet.supportedCRS;if(!(s.isEpsg3857Crs(c)||s.isEpsg4326Crs(c)||s.isOGCCrs84(c)))throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","constructor","Provided CRS is not compatible."));this.cachePath=(this.resourceUrl||this.serviceUrl)+this.layerIdentifier+this.styleIdentifier+this.tileMatrixSet.identifier,l&&(this.cachePath=this.cachePath+l),this.displayName=u.title,this.currentTiles=[],this.currentTilesInvalid=!0,this.tileCache=new a(1e3,850),this.currentRetrievals=[],this.absentResourceList=new t(3,5e4),this.pickEnabled=!1,this.detailControl=1.75,this.retrievalQueueSize=WorldWind.configuration.layerRetrievalQueueSize};return f.isTileSubdivisionCompatible=function(t){if(!t||!t.tileMatrix||t.tileMatrix.length<1)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","isTileSubdivisionCompatible","Empty tile matrix set"));for(var r,i,o,a=t.tileMatrix[0],s=1,u=t.tileMatrix.length;s<u;s++)if(r=(o=t.tileMatrix[s]).matrixHeight/a.matrixHeight,i=o.matrixWidth/a.matrixWidth,a=o,2!==r||2!==i)return!1;return!0},f.createTileMatrixSet=function(t){if(!t.matrixSet)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","createTileMatrixSet","No matrixSet provided."));if(!t.projection)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","createTileMatrixSet","No projection provided."));if(!t.extent||4!=t.extent.length)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","createTileMatrixSet","No extent provided."));var r={lowerCorner:[t.extent[0],t.extent[1]],upperCorner:[t.extent[2],t.extent[3]]};if(!t.resolutions)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","createTileMatrixSet","No resolutions provided."));if(!t.tileSize)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","createTileMatrixSet","No tile size provided."));if(!t.topLeftCorner||2!=t.topLeftCorner.length)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","createTileMatrixSet","No extent provided."));if(void 0===t.prefix)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","createTileMatrixSet","Prefix not provided."));if(!(f.isEpsg4326Crs(t.projection)||f.isOGCCrs84(t.projection)||f.isEpsg3857Crs(t.projection)))throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","createTileMatrixSet","Projection provided not supported."));for(var i,o=[],a=0;a<t.resolutions.length;a++){f.isEpsg4326Crs(t.projection)||f.isOGCCrs84(t.projection)?i=6378137*t.resolutions[a]*2*Math.PI/360/28e-5:f.isEpsg3857Crs(t.projection)&&(i=t.resolutions[a]/28e-5);var s=t.tileSize*t.resolutions[a],u=t.tileSize*t.resolutions[a],l=Math.ceil((t.extent[2]-t.extent[0]-.01*s)/s),c=Math.ceil((t.extent[3]-t.extent[1]-.01*u)/u),h={identifier:t.prefix?t.matrixSet+":"+a:a,levelNumber:a,matrixHeight:c,matrixWidth:l,tileHeight:t.tileSize,tileWidth:t.tileSize,topLeftCorner:t.topLeftCorner,scaleDenominator:i};o.push(h)}return{identifier:t.matrixSet,supportedCRS:t.projection,boundingBox:r,tileMatrix:o}},f.formLayerConfiguration=function(t,r,i,o){var a={};if(a.identifier=t.identifier,o){for(var s=!1,l=0;l<t.format.length;l++)if(t.format[l]===o){s=!0,a.format=t.format[l];break}s||(n.logMessage(n.LEVEL_WARNING,"WmtsLayer","formLayerConfiguration","The specified image format is not available. Another one will be used."),a.format=null)}if(a.format||(t.format.indexOf("image/png")>=0?a.format="image/png":t.format.indexOf("image/jpeg")>=0?a.format="image/jpeg":t.format.indexOf("image/tiff")>=0?a.format="image/tiff":t.format.indexOf("image/gif")>=0?a.format="image/gif":a.format=t.format[0]),!a.format)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","formLayerConfiguration","Layer does not provide a supported image format."));if(t.resourceUrl&&t.resourceUrl.length>=1){for(l=0;l<t.resourceUrl.length;l++)if(a.format===t.resourceUrl[l].format){a.resourceUrl=t.resourceUrl[l].template;break}}else a.service=t.capabilities.getGetTileKvpAddress(),a.service&&(a.service=u.fixGetMapString(a.service));if(!a.resourceUrl&&!a.service)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","formLayerConfiguration","No resource URL or KVP GetTile service URL specified in WMTS capabilities."));if(r){var c=!1;for(l=0;l<t.style.length;l++)if(t.style[l].identifier===r){c=!0,a.style=t.style[l].identifier;break}c||(n.logMessage(n.LEVEL_WARNING,"WmtsLayer","formLayerConfiguration","The specified style identifier is not available. The server's default style will be used."),a.style=null)}if(!a.style)for(l=0;l<t.style.length;l++)if(t.style[l].isDefault){a.style=t.style[l].identifier;break}a.style||n.logMessage(n.LEVEL_WARNING,"WmtsLayer","formLayerConfiguration","No default style available. A style will not be specified in tile requests.");var h=t.getLayerSupportedTileMatrixSets();if(i){l=0;for(var p=h.length;l<p;l++)if(h[l].identifier===i&&f.isTileSubdivisionCompatible(h[l])){a.tileMatrixSet=h[l];break}a.tileMatrixSet||(n.logMessage(n.LEVEL_WARNING,"WmtsLayer","formLayerConfiguration","The specified tileMatrixSet is not available. Another one will be used."),a.tileMatrixSet=null)}if(!a.tileMatrixSet){var d,g=null,m=null,y=null;for(l=0,p=h.length;l<p;l++)d=h[l],f.isTileSubdivisionCompatible(d)&&(f.isEpsg4326Crs(d.supportedCRS)?g=g||d:f.isEpsg3857Crs(d.supportedCRS)?m=m||d:f.isOGCCrs84(d.supportedCRS)&&(y=y||d));a.tileMatrixSet=g||m||y}if(!a.tileMatrixSet)throw new e(n.logMessage(n.LEVEL_SEVERE,"WmtsLayer","formLayerConfiguration","No supported Tile Matrix Set could be found."));return a.boundingBox=t.boundingBox,a.wgs84BoundingBox=t.wgs84BoundingBox,t.titles.length>0?a.title=t.titles[0].value:a.title=t.identifier,a},(f.prototype=Object.create(o.prototype)).doRender=function(t){t.terrain&&(!this.currentTilesInvalid&&t.modelviewProjection.equals(this.lasTtMVP)&&t.globeStateKey===this.lastGlobeStateKey||(this.currentTilesInvalid=!1,this.assembleTiles(t)),this.lasTtMVP.copy(t.modelviewProjection),this.lastGlobeStateKey=t.globeStateKey,this.currentTiles.length>0&&(t.surfaceTileRenderer.renderTiles(t,this.currentTiles,this.opacity),t.frameStatistics.incrementImageTileCount(this.currentTiles.length),this.inCurrentFrame=!0))},f.prototype.isLayerInView=function(t){return t.terrain&&t.terrain.sector&&t.terrain.sector.intersects(this.sector)},f.prototype.isTileVisible=function(t,e){return!(t.globe.projectionLimits&&!e.sector.overlaps(t.globe.projectionLimits))&&e.extent.intersectsFrustum(t.frustumInModelCoordinates)},f.prototype.assembleTiles=function(t){this.currentTiles=[],this.topLevelTiles&&0!==this.topLevelTiles.length||this.createTopLevelTiles(t);for(var e=0,n=this.topLevelTiles.length;e<n;e++){var r=this.topLevelTiles[e];r.update(t),this.currentAncestorTile=null,this.isTileVisible(t,r)&&this.addTileOrDescendants(t,r)}},f.prototype.addTileOrDescendants=function(t,e){if(e.column>=e.tileMatrix.matrixWidth&&(e.column=e.column-e.tileMatrix.matrixWidth),e.column<0&&(e.column=e.column+e.tileMatrix.matrixWidth),this.tileMeetsRenderingCriteria(t,e))this.addTile(t,e);else{var n=null;try{(this.isTileTextureInMemory(t,e)||0===e.tileMatrix.levelNumber)&&(n=this.currentAncestorTile,this.currentAncestorTile=e);for(var r=this.tileMatrixSet.tileMatrix[e.tileMatrix.levelNumber+1],i=e.subdivideToCache(r,this,this.tileCache),o=0,a=i.length;o<a;o++){var s=i[o];s.update(t),this.sector.intersects(s.sector)&&this.isTileVisible(t,s)&&this.addTileOrDescendants(t,s)}}finally{n&&(this.currentAncestorTile=n)}}},f.prototype.addTile=function(t,e){e.fallbackTile=null;var n=t.gpuResourceCache.resourceForKey(e.imagePath);return n?(this.currentTiles.push(e),void(this.expiration&&this.isTextureExpired(n)&&this.retrieveTileImage(t,e))):(this.retrieveTileImage(t,e),void(this.currentAncestorTile&&this.isTileTextureInMemory(t,this.currentAncestorTile)&&this.currentTiles.push(this.currentAncestorTile)))},f.prototype.isTextureExpired=function(t){return this.expiration&&t.creationTime.getTime()<=this.expiration.getTime()},f.prototype.isTileTextureInMemory=function(t,e){return t.gpuResourceCache.containsResource(e.imagePath)},f.prototype.tileMeetsRenderingCriteria=function(t,e){var n=this.detailControl;return(e.sector.minLatitude>=75||e.sector.maxLatitude<=-75)&&(n*=1.2),e.tileMatrix.levelNumber===this.tileMatrixSet.tileMatrix.length-1||!e.mustSubdivide(t,n)},f.prototype.retrieveTileImage=function(t,e){if(this.currentRetrievals.indexOf(e.imagePath)<0){if(this.currentRetrievals.length>this.retrievalQueueSize)return;if(this.absentResourceList.isResourceAbsent(e.imagePath))return;var r=this.resourceUrlForTile(e,this.imageFormat),i=new Image,o=e.imagePath,a=t.gpuResourceCache,s=t.currentGlContext.canvas,u=this;if(!r)return void(this.currentTilesInvalid=!0);i.onload=function(){n.log(n.LEVEL_INFO,"Image retrieval succeeded: "+r);var l=u.createTexture(t,e,i);if(u.removeFromCurrentRetrievals(o),l){a.putResource(o,l,l.size),u.currentTilesInvalid=!0,u.absentResourceList.unmarkResourceAbsent(o);var c=document.createEvent("Event");c.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),s.dispatchEvent(c)}},i.onerror=function(){u.removeFromCurrentRetrievals(o),u.absentResourceList.markResourceAbsent(o),n.log(n.LEVEL_WARNING,"Image retrieval failed: "+r)},this.currentRetrievals.push(o),i.crossOrigin="anonymous",i.src=r}},f.prototype.resourceUrlForTile=function(t,e){var n;return this.resourceUrl?(n=this.resourceUrl.replace("{Style}",this.styleIdentifier).replace("{TileMatrixSet}",this.tileMatrixSet.identifier).replace("{TileMatrix}",t.tileMatrix.identifier).replace("{TileCol}",t.column).replace("{TileRow}",t.row),this.timeString&&(n=n.replace("{Time}",this.timeString))):(n=this.serviceUrl+"service=WMTS&request=GetTile&version=1.0.0",n+="&Layer="+this.layerIdentifier,this.styleIdentifier&&(n+="&Style="+this.styleIdentifier),n+="&Format="+e,this.timeString&&(n+="&Time="+this.timeString),n+="&TileMatrixSet="+this.tileMatrixSet.identifier,n+="&TileMatrix="+t.tileMatrix.identifier,n+="&TileRow="+t.row,n+="&TileCol="+t.column),n},f.prototype.removeFromCurrentRetrievals=function(t){var e=this.currentRetrievals.indexOf(t);e>-1&&this.currentRetrievals.splice(e,1)},f.prototype.createTopLevelTiles=function(t){var e=this.tileMatrixSet.tileMatrix[0];this.topLevelTiles=[];for(var n=0;n<e.matrixHeight;n++)for(var r=0;r<e.matrixWidth;r++)this.topLevelTiles.push(this.createTile(e,n,r))},f.prototype.createTile=function(t,e,n){return f.isEpsg4326Crs(this.tileMatrixSet.supportedCRS)?this.createTile4326(t,e,n):f.isEpsg3857Crs(this.tileMatrixSet.supportedCRS)?this.createTile3857(t,e,n):f.isOGCCrs84(this.tileMatrixSet.supportedCRS)?this.createTileCrs84(t,e,n):void 0},f.prototype.createTileCrs84=function(t,e,n){var r=this.sector.deltaLatitude()/t.matrixHeight,o=this.sector.deltaLongitude()/t.matrixWidth,a=t.topLeftCorner[1]-e*r,s=a-r,u=t.topLeftCorner[0]+o*n,l=new i(s,a,u,u+o);return this.makeTile(l,t,e,n)},f.prototype.createTile4326=function(t,e,n){var r=this.sector.deltaLatitude()/t.matrixHeight,o=this.sector.deltaLongitude()/t.matrixWidth,a=t.topLeftCorner[0]-e*r,s=a-r,u=t.topLeftCorner[1]+o*n,l=new i(s,a,u,u+o);return this.makeTile(l,t,e,n)},f.prototype.createTile3857=function(t,e,n){t.mapWidth||this.computeTileMatrixValues3857(t);var r,o,a,s,u,l,h=c.clamp(n*t.tileWidth-.5,0,t.mapWidth),f=c.clamp(e*t.tileHeight-.5,0,t.mapHeight),p=c.clamp(h+t.tileWidth+.5,0,t.mapWidth),d=c.clamp(f+t.tileHeight+.5,0,t.mapHeight);r=h/t.mapWidth,o=d/t.mapHeight,s=t.topLeftCorner[0]+r*t.tileMatrixDeltaX,a=t.topLeftCorner[1]-o*t.tileMatrixDeltaY;var g=c.epsg3857ToEpsg4326(s,a);r=p/t.mapWidth,o=f/t.mapHeight,l=t.topLeftCorner[0]+r*t.tileMatrixDeltaX,u=t.topLeftCorner[1]-o*t.tileMatrixDeltaY;var m=c.epsg3857ToEpsg4326(l,u),y=new i(g[0],m[0],g[1],m[1]);return this.makeTile(y,t,e,n)},f.prototype.computeTileMatrixValues3857=function(t){var e=28e-5*t.scaleDenominator,n=t.tileWidth*e,r=t.tileHeight*e,i=[t.topLeftCorner[0]+n*t.matrixWidth,t.topLeftCorner[1]-r*t.matrixHeight],o=t.topLeftCorner;t.tileMatrixDeltaX=i[0]-o[0],t.tileMatrixDeltaY=o[1]-i[1],t.mapWidth=t.tileWidth*t.matrixWidth,t.mapHeight=t.tileHeight*t.matrixHeight},f.prototype.makeTile=function(t,e,n,r){var i=this.cachePath+"-layer/"+e.identifier+"/"+n+"/"+r+"."+h.suffixForMimeType(this.imageFormat);return new l(t,e,n,r,i)},f.prototype.createTexture=function(t,e,n){return f.isEpsg4326Crs(this.tileMatrixSet.supportedCRS)?new s(t.currentGlContext,n):f.isEpsg3857Crs(this.tileMatrixSet.supportedCRS)?this.createTexture3857(t,e,n):f.isOGCCrs84(this.tileMatrixSet.supportedCRS)?new s(t.currentGlContext,n):void 0},f.prototype.createTexture3857=function(t,e,n){this.destCanvas||(this.destCanvas=document.createElement("canvas"),this.destContext=this.destCanvas.getContext("2d"));var r,i,o,a,u,l,h=t.canvas2D,f=t.ctx2D,p=this.destCanvas,d=this.destContext,g=d.createImageData(n.width,n.height),m=e.sector,y=c.gudermannianInverse(m.minLatitude),v=c.gudermannianInverse(m.maxLatitude);h.width=n.width,h.height=n.height,p.width=n.width,p.height=n.height,f.drawImage(n,0,0,n.width,n.height),r=f.getImageData(0,0,n.width,n.height);for(var b=0;b<1;b++)for(var E=0;E<n.height;E++){i=(1-E/(n.height-1))*m.deltaLatitude()+m.minLatitude,l=1-(c.gudermannianInverse(i)-y)/(v-y),l=c.clamp(l,0,1),o=Math.floor(l*(n.height-1));for(var _=0;_<n.width;_++)a=4*(_+o*n.width),u=4*(_+E*n.width),g.data[u]=r.data[a],g.data[u+1]=r.data[a+1],g.data[u+2]=r.data[a+2],g.data[u+3]=r.data[a+3]}return d.putImageData(g,0,0),new s(t.currentGlContext,p)},f.isEpsg4326Crs=function(t){return t.indexOf("EPSG")>=0&&t.indexOf("4326")>=0},f.isEpsg3857Crs=function(t){return t.indexOf("EPSG")>=0&&(t.indexOf("3857")>=0||t.indexOf("900913")>=0)},f.isOGCCrs84=function(t){return t.indexOf("OGC")>=0&&t.indexOf("CRS84")>=0},f})),i("layer/OpenStreetMapImageLayer",["../util/Color","../layer/Layer","../util/Logger","../ogc/wmts/WmtsCapabilities","../layer/WmtsLayer"],(function(t,e,n,r,i){"use strict";var o=function(t){e.call(this,this.displayName),this.displayName=t||"Open Street Map",this.layer=null,this.xhr=null,this.pickEnabled=!0};return(o.prototype=Object.create(e.prototype)).doRender=function(e){this.configureLayer(e),this.layer&&(this.layer.opacity=this.opacity,this.layer.doRender(e),this.inCurrentFrame=this.layer.inCurrentFrame,this.inCurrentFrame&&(e.screenCreditController.addCredit("OpenStreetMap \xa9",t.DARK_GRAY),e.screenCreditController.addCredit("EOX.at \xa9",t.DARK_GRAY)))},o.prototype.configureLayer=function(t){if(!this.xhr){var e=this,o=t.currentGlContext.canvas;this.xhr=new XMLHttpRequest,this.xhr.open("GET","https://tiles.maps.eox.at/wmts/1.0.0/WMTSCapabilities.xml",!0),this.xhr.onreadystatechange=function(){if(4===e.xhr.readyState)if(200===e.xhr.status){var t=new r(e.xhr.responseXML).getLayer("osm"),a=i.formLayerConfiguration(t);a.title=e.displayName,e.layer=new i(a);var s=document.createEvent("Event");s.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),o.dispatchEvent(s)}else n.log(n.LEVEL_WARNING,"OSM retrieval failed ("+xhr.statusText+"): "+url)},this.xhr.onerror=function(){n.log(n.LEVEL_WARNING,"OSM retrieval failed: "+url)},this.xhr.ontimeout=function(){n.log(n.LEVEL_WARNING,"OSM retrieval timed out: "+url)},this.xhr.send(null)}},o})),i("projections/ProjectionGnomonic",["../geom/Angle","../error/ArgumentError","../projections/GeographicProjection","../util/Logger","../geom/Sector","../util/WWMath"],(function(t,e,n,r,i,o){"use strict";var a=function(t){this.north=!("South"===t);var e=this.north?new i(30,90,-180,180):new i(-90,-30,-180,180);n.call(this,"Polar Gnomonic",!1,e),this._pole=t,this.displayName=this.north?"North Gnomonic":"South Gnomonic",this._stateKey="projection polar gnomonic "+this._pole+" "};return a.prototype=Object.create(n.prototype),Object.defineProperties(a.prototype,{pole:{get:function(){return this._pole},set:function(t){this._pole=t,this.north=!("South"===this._pole),this.projectionLimits=this.north?new i(30,90,-180,180):new i(-90,-30,-180,180),this._stateKey="projection polar gnomonic "+this._pole+" "}},stateKey:{get:function(){return this._stateKey}}}),a.prototype.geographicToCartesian=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","geographicToCartesian","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","geographicToCartesian","missingResult"));if(this.north&&90===i||!this.north&&-90===i)u[0]=0,u[1]=0,u[2]=a;else{var l=this.north?1:-1,c=n.equatorialRadius/Math.tan(i*t.DEGREES_TO_RADIANS);u[0]=c*Math.sin(o*t.DEGREES_TO_RADIANS)*l,u[1]=c*-Math.cos(o*t.DEGREES_TO_RADIANS),u[2]=a}return u},a.prototype.geographicToCartesianGrid=function(n,i,a,s,u,l,c,h){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","geographicToCartesianGrid","missingGlobe"));if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","geographicToCartesianGrid","missingSector"));if(!u||u.length<a*s)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","geographicToCartesianGrid","The specified elevations array is null, undefined or insufficient length"));if(!h)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","geographicToCartesianGrid","missingResult"));var f,p,d,g,m,y,v=i.minLatitude*t.DEGREES_TO_RADIANS,b=i.maxLatitude*t.DEGREES_TO_RADIANS,E=i.minLongitude*t.DEGREES_TO_RADIANS,_=i.maxLongitude*t.DEGREES_TO_RADIANS,w=(b-v)/(a>1?a-1:1),S=(_-E)/(s>1?s-1:1),x=this.projectionLimits.minLatitude*t.DEGREES_TO_RADIANS,T=this.projectionLimits.maxLatitude*t.DEGREES_TO_RADIANS,O=this.north?1:-1,C=l||new Vec3(0,0,0),A=0,L=0;for(f=0,d=v;f<a;f++,d+=w)for(f===a-1&&(d=b),m=o.clamp(d,x,T),y=n.equatorialRadius/Math.tan(m),(this.north&&m===Math.PI/2||!this.north&&m===-Math.PI/2)&&(y=0),p=0,g=E;p<s;p++,g+=S)p===s-1&&(g=_),h[L++]=y*Math.sin(g)*O-C[0],h[L++]=y*-Math.cos(g)-C[1],h[L++]=u[A++]-C[2];return h},a.prototype.cartesianToGeographic=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","cartesianToGeographic","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","cartesianToGeographic","missingResult"));var l,c=Math.sqrt(i*i+o*o);return c<1e-4?(u.latitude=this.north?90:-90,u.longitude=0,u.altitude=a):((l=Math.atan2(c,n.equatorialRadius))>Math.PI&&(l=Math.PI),u.latitude=Math.asin(Math.cos(l)*(this.north?1:-1))*t.RADIANS_TO_DEGREES,u.longitude=Math.atan2(i,o*(this.north?-1:1))*t.RADIANS_TO_DEGREES,u.altitude=a),u},a.prototype.northTangentAtLocation=function(n,i,o,a){if(!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","northTangentAtLocation","missingResult"));return a[0]=Math.sin(o*t.DEGREES_TO_RADIANS)*(this.north?-1:1),a[1]=Math.cos(o*t.DEGREES_TO_RADIANS),a[2]=0,a},a.prototype.northTangentAtPoint=function(t,n,i,o,a,s){if(!s)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionGnomonic","northTangentAtLocation","missingResult"));var u=Math.sqrt(n*n+i*i);return u<1e-4?(s[0]=0,s[1]=1,s[2]=0):(s[0]=n/u*(this.north?-1:1),s[1]=i/u*(this.north?-1:1),s[2]=0),s},a})),i("projections/ProjectionMercator",["../geom/Angle","../error/ArgumentError","../projections/GeographicProjection","../util/Logger","../geom/Sector","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a){"use strict";var s=function(){n.call(this,"Mercator",!0,new i(-78,78,-180,180))};return(s.prototype=Object.create(n.prototype)).geographicToCartesian=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionMercator","geographicToCartesian","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionMercator","geographicToCartesian","missingResult"));i>this.projectionLimits.maxLatitude&&(i=this.projectionLimits.maxLatitude),i<this.projectionLimits.minLatitude&&(i=this.projectionLimits.minLatitude);var l=Math.sqrt(n.eccentricitySquared),c=Math.sin(i*t.DEGREES_TO_RADIANS),h=(1+c)/(1-c)*Math.pow((1-l*c)/(1+l*c),l);return u[0]=n.equatorialRadius*o*t.DEGREES_TO_RADIANS+(s?s[0]:0),u[1]=.5*n.equatorialRadius*Math.log(h),u[2]=a,u},Object.defineProperties(s.prototype,{stateKey:{get:function(){return"projection mercator "}}}),s.prototype.geographicToCartesianGrid=function(n,i,s,u,l,c,h,f){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionMercator","geographicToCartesianGrid","missingGlobe"));if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionMercator","geographicToCartesianGrid","missingSector"));if(!l||l.length<s*u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionMercator","geographicToCartesianGrid","The specified elevations array is null, undefined or insufficient length"));if(!f)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionMercator","geographicToCartesianGrid","missingResult"));var p,d,g,m,y,v,b,E,_=n.equatorialRadius,w=Math.sqrt(n.eccentricitySquared),S=i.minLatitude*t.DEGREES_TO_RADIANS,x=i.maxLatitude*t.DEGREES_TO_RADIANS,T=i.minLongitude*t.DEGREES_TO_RADIANS,O=i.maxLongitude*t.DEGREES_TO_RADIANS,C=(x-S)/(s>1?s-1:1),A=(O-T)/(u>1?u-1:1),L=this.projectionLimits.minLatitude*t.DEGREES_TO_RADIANS,P=this.projectionLimits.maxLatitude*t.DEGREES_TO_RADIANS,R=c||new o(0,0,0),M=h?h[0]:0,k=0,I=0;for(p=0,g=S;p<s;p++,g+=C)for(p===s-1&&(g=x),y=a.clamp(g,L,P),b=(1+(v=Math.sin(y)))/(1-v)*Math.pow((1-w*v)/(1+w*v),w),E=_*Math.log(b)*.5-R[1],d=0,m=T;d<u;d++,m+=A)d===u-1&&(m=O),f[I++]=_*m-R[0]+M,f[I++]=E,f[I++]=l[k++]-R[2];return f},s.prototype.cartesianToGeographic=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionMercator","cartesianToGeographic","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionMercator","cartesianToGeographic","missingResult"));var l=n.eccentricitySquared,c=l*l,h=c*l,f=h*l,p=Math.pow(Math.E,-o/n.equatorialRadius),d=Math.PI/2-2*Math.atan(p),g=7*c/48+29*h/240+811*f/11520,m=7*h/120+81*f/1120,y=4279*f/161280,v=d-g+y,b=l/2+5*c/24+h/12+13*f/360-3*m,E=2*g-8*y,_=4*m,w=8*y,S=Math.sin(2*d),x=v+S*(b+S*(E+S*(_+w*S)));return u.latitude=x*t.RADIANS_TO_DEGREES,u.longitude=(i-(s?s[0]:0))/n.equatorialRadius*t.RADIANS_TO_DEGREES,u.altitude=a,u},s})),i("projections/ProjectionPolarEquidistant",["../geom/Angle","../error/ArgumentError","../projections/GeographicProjection","../util/Logger"],(function(t,e,n,r){"use strict";var i=function(t){n.call(this,"Polar Equidistant",!1,null),this._pole=t,this.north=!("South"===t),this.displayName=this.north?"North Polar":"South Polar",this._stateKey="projection polar equidistant "+this._pole+" "};return i.prototype=Object.create(n.prototype),Object.defineProperties(i.prototype,{pole:{get:function(){return this._pole},set:function(t){this._pole=t,this.north=!("South"===this._pole),this._stateKey="projection polar equidistant "+this._pole+" "}},stateKey:{get:function(){return this._stateKey}}}),i.prototype.geographicToCartesian=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","geographicToCartesian","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","geographicToCartesian","missingResult"));if(this.north&&90===i||!this.north&&-90===i)u[0]=0,u[1]=0,u[2]=a;else{var l=this.north?-1:1,c=n.equatorialRadius*(Math.PI/2+i*t.DEGREES_TO_RADIANS*l);u[0]=c*Math.sin(o*t.DEGREES_TO_RADIANS),u[1]=c*Math.cos(o*t.DEGREES_TO_RADIANS)*l,u[2]=a}return u},i.prototype.geographicToCartesianGrid=function(n,i,o,a,s,u,l,c){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","geographicToCartesianGrid","missingGlobe"));if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","geographicToCartesianGrid","missingSector"));if(!s||s.length<o*a)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","geographicToCartesianGrid","The specified elevations array is null, undefined or insufficient length"));if(!c)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","geographicToCartesianGrid","missingResult"));var h,f,p,d,g,m=n.equatorialRadius,y=i.minLatitude*t.DEGREES_TO_RADIANS,v=i.maxLatitude*t.DEGREES_TO_RADIANS,b=i.minLongitude*t.DEGREES_TO_RADIANS,E=i.maxLongitude*t.DEGREES_TO_RADIANS,_=(v-y)/(o>1?o-1:1),w=(E-b)/(a>1?a-1:1),S=this.north?-1:1,x=u||new Vec3(0,0,0),T=Math.PI/2,O=0,C=0,A=new Float64Array(a),L=new Float64Array(a);for(f=0,d=b;f<a;f++,d+=w)f===a-1&&(d=E),A[f]=Math.cos(d),L[f]=Math.sin(d);for(h=0,p=y;h<o;h++,p+=_)for(h===o-1&&(p=v),g=m*(T+p*S),(this.north&&p===T||!this.north&&p===-T)&&(g=0),f=0;f<a;f++)c[C++]=g*L[f]-x[0],c[C++]=g*A[f]*S-x[1],c[C++]=s[O++]-x[2];return c},i.prototype.cartesianToGeographic=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","cartesianToGeographic","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","cartesianToGeographic","missingResult"));var l,c=Math.sqrt(i*i+o*o);return c<1e-4?(u.latitude=this.north?90:-90,u.longitude=0,u.altitude=a):((l=c/n.equatorialRadius)>Math.PI&&(l=Math.PI),u.latitude=Math.asin(Math.cos(l)*(this.north?1:-1))*t.RADIANS_TO_DEGREES,u.longitude=Math.atan2(i,o*(this.north?-1:1))*t.RADIANS_TO_DEGREES,u.altitude=a),u},i.prototype.northTangentAtLocation=function(n,i,o,a){if(!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","northTangentAtLocation","missingResult"));return a[0]=Math.sin(o*t.DEGREES_TO_RADIANS)*(this.north?-1:1),a[1]=Math.cos(o*t.DEGREES_TO_RADIANS),a[2]=0,a},i.prototype.northTangentAtPoint=function(t,n,i,o,a,s){if(!s)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","northTangentAtLocation","missingResult"));var u=Math.sqrt(n*n+i*i);return u<1e-4?(s[0]=0,s[1]=1,s[2]=0):(s[0]=n/u*(this.north?-1:1),s[1]=i/u*(this.north?-1:1),s[2]=0),s},i})),i("projections/ProjectionUPS",["../geom/Angle","../error/ArgumentError","../projections/GeographicProjection","../util/Logger","../geom/Sector","../geom/Vec3","../util/WWMath"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t){this.north=!("South"===t);var e=this.north?new i(0,90,-180,180):new i(-90,0,-180,180);n.call(this,"Uniform Polar Stereographic",!1,e),this._pole=t,this.displayName=this.north?"North UPS":"South UPS",this._stateKey="projection ups "+this._pole+" "};return s.prototype=Object.create(n.prototype),Object.defineProperties(s.prototype,{pole:{get:function(){return this._pole},set:function(t){this._pole=t,this.north=!("South"===this._pole),this.projectionLimits=this.north?new i(0,90,-180,180):new i(-90,0,-180,180),this._stateKey="projection ups "+this._pole+" "}},stateKey:{get:function(){return this._stateKey}}}),s.prototype.geographicToCartesian=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionUPS","geographicToCartesian","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionUPS","geographicToCartesian","missingResult"));if(this.north&&90===i||!this.north&&-90===i)u[0]=0,u[1]=0,u[2]=a;else{var l,c,h,f=this.north?1:-1,p=i*t.DEGREES_TO_RADIANS,d=o*t.DEGREES_TO_RADIANS,g=Math.sqrt(n.eccentricitySquared),m=Math.sqrt(Math.pow(1+g,1+g)*Math.pow(1-g,1-g));(this.north&&p<0||!this.north&&p>0)&&(p=0),l=Math.sin(p*f),c=Math.sqrt((1-l)/(1+l)*Math.pow((1+g*l)/(1-g*l),g)),h=2*n.equatorialRadius*.994*c/m,u[0]=h*Math.sin(d),u[1]=-h*Math.cos(d)*f,u[2]=a}return u},s.prototype.geographicToCartesianGrid=function(n,i,s,u,l,c,h,f){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionUPS","geographicToCartesianGrid","missingGlobe"));if(!i)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionUPS","geographicToCartesianGrid","missingSector"));if(!l||l.length<s*u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionUPS","geographicToCartesianGrid","The specified elevations array is null, undefined or insufficient length"));if(!f)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionUPS","geographicToCartesianGrid","missingResult"));var p,d,g,m,y,v,b,E=n.equatorialRadius,_=i.minLatitude*t.DEGREES_TO_RADIANS,w=i.maxLatitude*t.DEGREES_TO_RADIANS,S=i.minLongitude*t.DEGREES_TO_RADIANS,x=i.maxLongitude*t.DEGREES_TO_RADIANS,T=(w-_)/(s>1?s-1:1),O=(x-S)/(u>1?u-1:1),C=this.projectionLimits.minLatitude*t.DEGREES_TO_RADIANS,A=this.projectionLimits.maxLatitude*t.DEGREES_TO_RADIANS,L=Math.sqrt(n.eccentricitySquared),P=Math.sqrt(Math.pow(1+L,1+L)*Math.pow(1-L,1-L)),R=this.north?1:-1,M=c||new o(0,0,0),k=0,I=0;for(p=0,g=_;p<s;p++,g+=T)for(p===s-1&&(g=w),y=a.clamp(g,C,A),v=Math.sin(y*R),b=2*E*.994*Math.sqrt((1-v)/(1+v)*Math.pow((1+L*v)/(1-L*v),L))/P,d=0,m=S;d<u;d++,m+=O)d===u-1&&(m=x),f[I++]=b*Math.sin(m)-M[0],f[I++]=-b*Math.cos(m)*R-M[1],f[I++]=l[k++]-M[2];return f},s.prototype.cartesianToGeographic=function(n,i,o,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionUPS","cartesianToGeographic","missingGlobe"));if(!u)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionUPS","cartesianToGeographic","missingResult"));var l=Math.atan2(i,o*(this.north?-1:1)),c=Math.sqrt(n.eccentricitySquared),h=Math.sqrt(i*i+o*o)*Math.sqrt(Math.pow(1+c,1+c)*Math.pow(1-c,1-c))/(2*n.equatorialRadius*.994),f=n.eccentricitySquared,p=f*f,d=p*f,g=d*f,m=Math.PI/2-2*Math.atan(h),y=7*p/48+29*d/240+811*g/11520,v=7*d/120+81*g/1120,b=4279*g/161280,E=m-y+b,_=f/2+5*p/24+d/12+13*g/360-3*v,w=2*y-8*b,S=4*v,x=8*b,T=Math.sin(2*m),O=E+T*(_+T*(w+T*(S+x*T)));return O*=this.north?1:-1,u.latitude=O*t.RADIANS_TO_DEGREES,u.longitude=l*t.RADIANS_TO_DEGREES,u.altitude=a,u},s.prototype.northTangentAtLocation=function(n,i,o,a){if(!a)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionUPS","northTangentAtLocation","missingResult"));return a[0]=Math.sin(o*t.DEGREES_TO_RADIANS)*(this.north?-1:1),a[1]=Math.cos(o*t.DEGREES_TO_RADIANS),a[2]=0,a},s.prototype.northTangentAtPoint=function(t,n,i,o,a,s){if(!s)throw new e(r.logMessage(r.LEVEL_SEVERE,"ProjectionPolarEquidistant","northTangentAtLocation","missingResult"));var u=Math.sqrt(n*n+i*i);return u<1e-4?(s[0]=0,s[1]=1,s[2]=0):(s[0]=n/u*(this.north?-1:1),s[1]=i/u*(this.north?-1:1),s[2]=0),s},s})),i("layer/WmsLayer",["../error/ArgumentError","../geom/Location","../util/Logger","../util/PeriodicTimeSequence","../geom/Sector","../layer/TiledImageLayer","../util/WmsUrlBuilder"],(function(t,e,n,r,i,o,a){"use strict";var s=function(e,r){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"WmsLayer","constructor","No configuration specified."));var i=e.service+e.layerNames+e.styleNames;r&&(i+=r),o.call(this,e.sector,e.levelZeroDelta,e.numLevels,e.format,i,e.size,e.size),this.displayName=e.title,this.pickEnabled=!1,this.urlBuilder=new a(e.service,e.layerNames,e.styleNames,e.version,r),e.coordinateSystem&&(this.urlBuilder.crs=e.coordinateSystem),this.timeString=r};return s.prototype=Object.create(o.prototype),s.formLayerConfiguration=function(t){var n={title:t.title,version:t.capability.capsDoc.version},r=t.geographicBoundingBox||t.latLonBoundingBox;r&&r.westBoundLongitude?n.sector=new i(r.southBoundLatitude,r.northBoundLatitude,r.westBoundLongitude,r.eastBoundLongitude):r&&r.minx?n.sector=new i(r.miny,r.maxy,r.minx,r.maxx):n.sector=i.FULL_SPHERE,n.levelZeroDelta=new e(36,36),n.numLevels=19,n.size=256,n.layerNames=t.name;var o=t.capability.request.getMap,a=o.formats;a.indexOf("image/png")>=0?n.format="image/png":a.indexOf("image/jpeg")>=0?n.format="image/jpeg":a.indexOf("image/tiff")>=0?n.format="image/tiff":a.indexOf("image/gif")>=0&&(n.format="image/gif"),n.service=o.getUrl;var u=t.crses;u||(u=t.srses),u&&(u.indexOf("EPSG:4326")>=0||u.indexOf("epsg:4326")>=0?n.coordinateSystem="EPSG:4326":(u.indexOf("CRS84")>=0||u.indexOf("CRS:84")>=0)&&(n.coordinateSystem="CRS:84"));var l=s.parseTimeDimensions(t);return l&&l.length>0&&(n.timeSequences=l),n},s.parseTimeDimensions=function(t){var e=t.extents||t.dimensions,n=null;if(e){n=[];for(var i=0;i<e.length;i++){var o=e[i];if("time"===o.name.toLowerCase()&&(!o.units||"iso8601"===o.units.toLowerCase()))for(var a=o.content.split(","),s=0;s<a.length;s++){var u=a[s],l=u.split("/");1===l.length?n.push(new Date(u)):3===l.length&&n.push(new r(u))}}}return n},s})),i("layer/Sentinel2CloudlessLayer",["../geom/Location","../geom/Sector","../layer/WmsLayer","../util/Color"],(function(t,e,n,r){"use strict";var i=function(){n.call(this,{service:"https://tiles.maps.eox.at/wms",layerNames:"s2cloudless-2018",title:"Sentinel-2 Cloudless Layer",sector:e.FULL_SPHERE,levelZeroDelta:new t(45,45),numLevels:7,format:"image/jpeg",opacity:1,size:256,version:"1.3.0"},null)};return(i.prototype=Object.create(n.prototype)).doRender=function(t){n.prototype.doRender.call(this,t),this.inCurrentFrame&&t.screenCreditController.addCredit("Sentinel-2 cloudless - https://s2maps.eu by EOX IT Services GmbH (Contains modified Copernicus Sentinel data 2017 & 2018)",r.DARK_GRAY)},i})),i("util/editor/ShapeEditorConstants",[],(function(){"use strict";return{LOCATION:"location",ROTATION:"rotation",WIDTH:"width",HEIGHT:"height",RADIUS:"radius",DRAG:"drag",MIN_CORNER:"min_corner",MAX_CORNER:"max_corner",SHADOW:"shadow"}})),i("util/editor/BaseSurfaceEditorFragment",["../../geom/Angle","../../geom/Line","../../geom/Location","../Logger","../../shapes/Path","../../shapes/Placemark","../../shapes/PlacemarkAttributes","../../geom/Position","../../shapes/ShapeAttributes","./ShapeEditorConstants","../../error/UnsupportedOperationError","../../geom/Vec3"],(function(t,e,n,r,i,o,a,s,u,l,c,h){"use strict";var f=function(){};return f.prototype.canHandle=function(t){throw new c(r.logMessage(r.LEVEL_SEVERE,"BaseSurfaceEditorFragment","canHandle","abstractInvocation"))},f.prototype.createShadowShape=function(t){throw new c(r.logMessage(r.LEVEL_SEVERE,"BaseSurfaceEditorFragment","createShadowShape","abstractInvocation"))},f.prototype.getShapeCenter=function(t,e){throw new c(r.logMessage(r.LEVEL_SEVERE,"BaseSurfaceEditorFragment","getShapeCenter","abstractInvocation"))},f.prototype.initializeControlElements=function(t,e,n,i,o,a,s,u){throw new c(r.logMessage(r.LEVEL_SEVERE,"BaseSurfaceEditorFragment","initializeControlElements","abstractInvocation"))},f.prototype.updateControlElements=function(t,e,n,i,o){throw new c(r.logMessage(r.LEVEL_SEVERE,"BaseSurfaceEditorFragment","updateControlElements","abstractInvocation"))},f.prototype.reshape=function(t,e,n,i,o,a){throw new c(r.logMessage(r.LEVEL_SEVERE,"BaseSurfaceEditorFragment","reshape","abstractInvocation"))},f.prototype.addNewVertex=function(t,e,n){},f.prototype.createControlPoint=function(t,e,r,i){var s=new o(new n(0,0),!1,e),u=new a(null);switch(u.imageScale=.15,s.altitudeMode=WorldWind.CLAMP_TO_GROUND,s.userProperties.purpose=r,s.userProperties.purpose){case l.ROTATION:u.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFcklEQVR4AeXbS2xVVRvG8c0l4buE7zPqwIsOHGBwIBpN1DBwYAzRBEdG4wyIF0YmiIkTjTHxsnqRtkqFBhVCIQUU0VaEVC4iUCtgqphKGgqlBaS00MNp5ZzSy96P/8HaycpJofee7uXzyxsIdNB37b32WXvtfYLJjqRZ1ELqlVDhB73q/SqrbEOf+joiRSE1eE3XUvzbyYwyP/L/mwY1+JqkBdTMIImRNId6miYrBzTQrTGGgbmWUqqewWFAdEsSGn+IX7aGI9g7wgY1iJGEnwvb1V53SqcWTcfG7+XU3anr5CKOYAc2Yg2KYaxSrEMVqnEQ5xBhqHSp62KnOpdImpHvxu/iNN8UKYrkJEITdqAUZozKUI1GZJEbBqH5rM4+kI/GZ9D4q6HCATnJoA7lMBOsCLvRjZypETEtdlH/m6rm/8Pc/VJO+rAPRTA5pmog0kpfbVHLw5Pd/Lx+9TfLyR9YDTPFirAHA3AuquFpnV42Wc0v5nTLyuYqtsDk2XpcQZwIrWpdO6EXSOb6IiqUTTvKYaaJUpyEmzM6UztRR/4Rjnyfe8oXw0wzBfgBbpgOG8bb/H003yObozDT3D64aVPbm2Nt/m6ab5dNIwpgEqABcUJ0qOOF0TY/k+brnFNJhTAJUYjTiMMqtZ+V5R2jGYDlsunAKpiEKUEn4jAATSNt/k5Om6siIdbDJNQaDCDOeZ1fPuwSl6qWzWGYhKuDMxV6Jd18owF4VjaXUASTcCXIwJnSFdc9+pGiBtlUwXiiFs5Z0Md9xL+HGoBH3ft345FCdCEOq8aSoQZgo2xqYDzzNeJwBqTl3itIupXTv0+kB4UwnilGP5yp8IQ7AG/I5icYTzXBmeZV7gAcls02GE/VwJkGnXHzs6msbEphPFWKEHGYErcHkhbI5jKM51oQh42T1wNJL8rmOIznDsC5Vd4cSKqQzW4Yz30LZ2erPpD0s2w+g/FcFeKwl3gukNQgmzIYz1UgTlbZTCDpqGw+gvFcMdz7gkBSvWxWw/hPWdjnCIOBpEOyKYfxn/6CXQcwANIB2XwC4z8NgIg/BwJJe2WzBv+kawBPt9KBpFrZVMB4rhxxUkq1BJK2y2YHjOc2wdkeYyEkrZDNMRjP7UecC7qwNZB0f+5WmM9OwnlW8HK8Fd7h/e2wlYETtsiJpC2y+QLGU+sRh7VAh7sj9JJs6mE89QucG6Ft7gDc426KFMDHz/9eOC9XLczdFm+RzTcwnqmGc/qnJM3IHYC3ZdMFn7bGC3ARzqddWZAbSXOpTtl8B+OJnXBfuZV0WzBU3EVRN3x4OPoheuCc/hU3ejr8L6pNNt/DJNwhONvgvZJuGu4dgWWyySDJmySVCOHc/b0VDBf7oKRRNhdQDJMwZeiG0/yfkuaM9DWZ+VRaNieQtKv+KRDFGx9c/OaP9k2xp6hQNgeRxBWf3ftbOtZ3BVfKyV6Yae4Y3LD6qxzX9wKoDXLyK6brIuko3PDxVyNp1kR8AeqAnLRiOt02r8IJuEkptWvCvnVmB2GDnKSwESbPPkUX3GSU2TpRzedOhxVUKCe/42Pk40q/G/1w3guOmPPv2OYnJ5IWRYrSctKH/ZiqpfMWdCDnqF9hMB4LpiKS5lHHlZMe1GEtJuOIb0YzcpNWmvmuucFUxn4ldgl1VkOkFTUogRmHz1GPbuSGo97Eaf9kkM/YG6iVTIuUrpMuNGIPKrEapShGAQyKsA7bsR+/4RKcuHd0bSxunnE2NfIfSf+n3qcuaZQZRIRhfqafKbaHI744/40PPzUep0qpVo0jNNufVbZW0nPUf4OkxX50Pkgtpd6lqqgjHO3LVDdHNcWV+zJ1nr830/BOSe9Rz9sbstnBJOdvB05s7/twc1gAAAAASUVORK5CYII=";break;case l.LOCATION:u.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAF9ElEQVR4AeWbS2xUXx3HL48EH0GNuvChCxcYXIhGEzUsXBhDNMGV0bgD4oOVCWDiRh2KQPEhD8UHSqQKyoNClIpoRbQES5H/n6EtLX0Upi19lOm005lpZ+7cxzmf/zRzTnJPGOiDtjNz+STfXRfz/faec37nd3/XWm6ANcBm4FtCUpvzuFxQ1PGJC4koyM/7JLMevTMuN22PM75kN7AJWG1VI8A64It5n9OuIM0iyfvkJ2xash67gXdVg/FP5DwaPIE9T4N4knnhCcRIluaeFFsq0fiHbY+rlEACo1lojsO5x/Dbbjj8APbdhx/cg0hBB1vhF51wqhfq++HGKAxOg6Q0EzZP4zm2AavKbfwDeZ8zQiIJICR0ThUN17bNGl2cDrXBxRi0TkLW4xniOfoGpvlYOYyvcny+7Us8Asx40DQGP23XJpZONVG4MggpBwNfIntSXCvobStl/i15n3oCOAL+MQT7oktvvFQQDSWCmHKY6UvzyeU2v8Hx6SNAexJ+ov/jK6jZsP8+BJ5Ag+0jetPsWC7zW31BDsW0C3/o1T+ofPp1FyTz5v4Ty/CbJd0ghWRLQQLFSFav8wqQOkW6Uhg8ztBoLQXAp3yBE3zkf6iOsEpSpKB/DZtHZ1+aupc1/xFfkEHRHIdIhRk3VdyMg/Rn+N5izX/Ql4yhaJ2sfPP6SbibMI5JxrJ8baHmV/uCZhS9aajRR1wVaG+0+Js1OQ93cJr3LSSAnSie5mC/XvNVpAOtxd+uKQTQPV/z7xeSGX2k/Oph9ZnXmr1zuMIIYeecJS5wBcV/R6vXvFbTGBpsDxt454sC+DKKuF26tK3GpTDjoWEsx4nn/velJIqiTld5IdDfnhgbopNyeHOpAD6NYjQLkZCY1xeohA2arimOlArgjyjq+8NjXutCDDQph5RxVwDeLSUOQNrVZ364NFu+u8LYED8XDOC7KG6Ohc+8VucUBJb52WAA/0Nxui+8AdT3G8tgXJtfC+RQ1LaG07y+NvvS6GS91wI2oUjY4TWv1ZcGTSzDdyzg6yiiE+EP4PqIcVX+kwWcQPHXwfAHcKkfAp2tFgu4g+L4w/AHcKoXNJN5hiwgiuJQW/gDONoBmqxH1gLuovhRyAPQBZHG9nAsoAWF7u+HXfo1m+3jW8AtFLrVHXZlXF0HFANoQvGzB69GAPptkivwLODfKA4/eLX2gGmXlAU0ojjWEf4AZpe5ZiJPzAIuoTj3OPwBnOwBzZgqhHahuB0PfwCNw6AZmuG8BXw0cEcOfQBdKaNN/k3dCo8DSOBgiK/DkXtmhxjdIgfOoTjzKJzm9SyBJuMStzTAN1DcehreAO6MgyaZ50IwgA+hGLchEtLz3/aNt8abrSBADMXFWLj7gRmX5DMjNEAkUCCwNxquzW80a3SEj1kaDbAeGEfxl4HwBHB5wHj0BfAeqwRGUZRywvFydHa2Ie0aj/8J63kAbwIGUVx9Uv0B/GcUNI6PDbzDehHAjuDoazU3SX7XDUIat7/vW3MBrAU6AvVy+cfiFjlonXIM8yPAOms+ABuBVHA2MFJlu35PCjSewCtoo7UQgC8AAsWN0eox3zKOQd5nu7UYgD0EuDYEkQo3fzuOQc7j9Et9FwDUEeC1BNREq8N82qEBWLMUH0A1YQ4iU9tWWYNQ7UkMJvNcW6qvznQIdWD00wrHTPnNH++EhI3BjMv5JTNvLgd2AYIA9yfgx+3lGYdtGDTHXoRE5jxqtPllAdgiJSnMXZZ/Dq/c3lDXa4zB6qJtyhV8xloJgA1AG5ik3eJk5pGO5dnkft8D3SmeYaq43tdbKwmwBtgGPKEEsQxc6n/5HuMvHxa7VLqqw1zr3ULyeauM6AvUHilJQmkSNrROFuuIk93F+0Vta7HEjgSGGX/eCX9+VFxOrycgblOSjMtg3udLuqlREQBvBw4CCRaIL0HO/Tdu2uG6kGwtv/G5l8ZngaPAAItEm856NAJfAd5qVRn66Pw4sB3YD5wF/i8lE0KS9gVJVzBR0LAv6BOSq8AB4KvARmCttcy8ATcx2ly6HrMtAAAAAElFTkSuQmCC";break;case l.SHADOW:u.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACBFBMVEUAAAD////////////////////////+/v7////////////9/f3////////////////////////+/v79/f3////////////////////////+/v7////////////////9/f3////////9/f3////////+/v7+/v7////////+/v7+/v79/f3+/v7////////////+/v7////+/v7////////////+/v7+/v7////+/v7////9/f3////////////9/f3////9/f3////+/v7////+/v7////9/f3////9/f3+/v7////+/v7////////////+/v79/f3////+/v79/f3+/v7////9/f3////////+/v7+/v79/f3+/v7////////9/f3+/v7+/v7+/v7////+/v7////+/v7+/v79/f3+/v79/f3+/v7////+/v7////////+/v7////////+/v7+/v7////////////////+/v7////////////9/f3+/v7+/v7+/v7+/v7////////+/v7////////+/v7+/v7+/v7+/v7+/v7+/v7////+/v7////////+/v7+/v7+/v7+/v7////+/v7+/v7+/v7+/v7+/v7////+/v7+/v7+/v7+/v7+/v7+/v7+/v7////+/v76+vr7+/v8/Pz9/f3+/v7///+XJ/0FAAAApnRSTlMAAQIDBAcICQoLDQ4PEBITFBgZGhscHSElJigoKS0uLzAyMzY3ODo6PkJERkZGSElMTE1TVVZYX19gYGFhY2RlZmdnbXBxcnN2e3x+gIOEhYaOj5CXmJifn6Gio6SmpqeoqKmrrK2xsrS2trm5ubu8wMHDxMXHx8jJys7O0dTY2Nrb3t7g4eHi4+Tl5+jp6erq6+zu7/Dw8fL09fb29/j5+vv8/f3+K7BQkAAAApBJREFUeAGl1/df01AUBfCTlqKi4lYUxb333htw7w3uIYhDVHDgUNxDHFREVCxQSF7e+Sdt36efQkdo8vL9/dzce18zCifB2VsOXmloinaFX9ypLCsJwJPQ4opWpvhXXzYMbk2tamcW0br5cGN8NRVpC8syYyxLCEnl82oDOYyp7GGMLcw0wmZc42T0x9jeqeKWmY3qo+faYDgaeIkxiYs7lmibBgdFjcmrOxIko+uR1dI/JC0zB0uS8qiBTAuipFT5HGyS15FheoS0TVcEyRNIM/GXyruvsAspxn7ykFdTyFXoI1BHStMDSXaMQq9tKu+xwjMkjW5T5+eFRXIrEoyryQV4WkN7IRQs9zqAQvIYFKPB6wCKICMDEDdDqwG1x0OIO6VuQK0WWgwAwyMaDSgk5wLYqY5Ah02eAXBPrVBzhq9A3l/S1ERyJEr0zkCR5A5s1F6BmuE0jpPCR4F6PNDboWKR7/GYNH0U+I1HpKmNjOC+vwJduKu5A0WyC7V+CpCduO2vQAtu+jvGl7hMCh8F6lHq76d8HpN83Ew2uRnGF1+3cyFwjrS0V9AEYJOfR9pFAOPo46E6CzGv9B/rYQMxe/RfLEcQV/CNFFoNREdAKdVqQSZfrsh/Swqd1/tQJGwg6f03wN1AQt5TnU+cjyEkFf8kbY/5zgnoY1E3KTwtgGuRopyk8JKvQCrjJEnbfb4qiDShWpLSbb4mgAyheA/S1ec+LwSQhVHanXsMQbJnbwDZLWxhjMhx+R8z4ajoCWOkbTnHWVOAfgTXvKOqITLStoo/n4cc8svDvX88E1khVJp8s8xAbkMOfGc2HbeWGHAnOOfw6/T0jRWD4IUxZd2+sw+bW8PNHxqr968szoOD/0KVHzHYRB3yAAAAAElFTkSuQmCC";break;case l.WIDTH:case l.HEIGHT:case l.RADIUS:case l.MIN_CORNER:u.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFl0lEQVR4AeWbS2xV1RrHN4+E+wj33tx7B/ehAwcYHIhGEzUMHBhDNMGR0TgD4oORCWLiRGNMfAylUIQqYkN5a4nysLVCsIhQqqGKYmis0FJooA9Lex57n/1Y309OYGd92TmWlvb09Gx+yX9I6P9/9vrWt769tlNugDnAYuAFxLyDeHuuqgMJ+hExiESIP4xxf8HkjyCFrYh5CVgEzHaqEWAe8DjiNyDhKDeL+AXMlTbEKwbyr2owfh/i7UMib5wGgYhxIZEhunyMsHvJTDR+J1I4wB8R9YN/Etz9kNsJ2c0wWntVa64pswGyWyDfCG4zFI5D1AcIJTFXLhMNLQNmVdr4bYi/FREBjUDQBfn9kNlojU5UxX/rNkFwBsQrEexQF+HFeyphfBbiv4iYEI3kodAO2U3WxJRpHXiHwGSSS0MIu5uu6m/TZf4viP8JGgnAO1L8I8c2Uc4gzGiOsOf+cptfgARdaIJOyHxQfuMlg/gKCCFGCoawe0W5zC9FIhf9uOf3VMB4QrntYEZUCAJh78YpLZCIWYIYo6u6XecVld1FwrOgCc+3TI15eACJfPXI2y1sRqkGCkcTIfTUT9b8XUhkq41/cgYaT8g7kgjhwqs3a/52xFwiJjhTTHkmm7fyT0GMGIgGnpmo+dlIdMym2A2ja2e8cau1EHarELyAsO9/EwlgJTHRIGTWV4t5q8x7YAbVUujrHK/5/yMmBwAGctuqzbxVdjMQ6hBW3rjFhb3EFE5Uq3mrQrtulDzgn2MF8CQxZqhUa1udS0Fc1JKuG+OAIx3E5Bur3byVd1gXRB+T+XOpAB5UnV5azNtdwQxDTHD23VIBbCHGbU6LeSv3c2IwmRH0WQH4NyI+AJK1e36qVAsS6oL4iA7gFVv529Nm3kqf5KOBHTqAb2zx+zS9AbjNehkMxObnAi4xmQ3pDaDoDaMnWf91gEU2ld/Sat4q7CGGsPdlB3iWmOB0+gMoHNNH5W0OUEeMdzD9AbhfoPqdNgc4QUy2If0B5BuJwYxccADb/mbq0h9Atl63xXkH+NYG8H5qjVvV6mbId4A2Yux8P90SLw4gcoCjNoBNt0gAubgPKAZAqy2CH94KAdgpkYShAxyyAWy+tWqAyY84QIsNoD79AWQ26XsG5xzAboz5/ekPILdbnwiLjRCriPE70h+A97UK4NIuB7g7OQpLtcJf9Zj8+XgU3p/y47CVnhDHI3Jgp60Dn6V4/W8nBpPt1xOh54jxv0tvAP4P+iC0WwdwB+ihSE1Kh6IF/dZ4saMBzhHjNqV8HpgbBmYlA3idGDOcstF4DUT9ev+vcZIA84EBYtwvU/Trt6Cv3AL/cUqhmyJMJiUvR9eDZHX1rxvr7fCfgPPEeIdTMARt02NwD/iHMxbACn0XsKqHJLldgNGnv9fGNK9elJxW/XIlr8VN7qK1yWjzfcA8ZzwAC4ERdTew+qp+aHd1JAyRaKEzEYDH9PND4XgVdXzfo0H85c7NAKxG47VWgfmOhPlCw+S+C4B6NP6PxSapOsyb7D5gzlR8ANWKJuwtFpmZdREq6Ex+VtM0NV+d2RDqE/9BcZupvPlsg73/Yyv+rikzn1gOqwCDJvi5Qr1CDXiHEtdejCCFN6z5MgAsQWQkUWWLs7bpa53zjRANgsa4V5DwIWc6ABYAp0histc/mvqoPL947mO7v2vMaBMw35lOgDnAMqAXjS6UbvPkZ4y5rcUple7q9FrvRMyjTsWwB6jViAyTRM8XgjPgtRYLZ7FmXA+mVk2f1l3/eHLvteUU/ARmiJKY3HnEf0IPNSoO8HfgbWCQCRMBwphIFGCyBxGztPLGb7w0HgbWAD1MBjEB4rUATwF/daoKu3XeCywH3gR2AO2IDCEyikTDSDCEhBeRqAsxB4C3gKeBhcBcp8z8DjRUCbmVu2RWAAAAAElFTkSuQmCC";break;case l.MAX_CORNER:u.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFl0lEQVR4AeWbS2xV1RrHN4+E+wj33tx7B/ehAwcYHIhGEzUMHBhDNMGR0TgD4oORCWLiRGNMfAylUIQqYkN5a4nysLVCsIhQqqGKYmis0FJooA9Lex57n/1Y309OYGd92TmWlvb09Gx+yX9I6P9/9vrWt769tlNugDnAYuAFxLyDeHuuqgMJ+hExiESIP4xxf8HkjyCFrYh5CVgEzHaqEWAe8DjiNyDhKDeL+AXMlTbEKwbyr2owfh/i7UMib5wGgYhxIZEhunyMsHvJTDR+J1I4wB8R9YN/Etz9kNsJ2c0wWntVa64pswGyWyDfCG4zFI5D1AcIJTFXLhMNLQNmVdr4bYi/FREBjUDQBfn9kNlojU5UxX/rNkFwBsQrEexQF+HFeyphfBbiv4iYEI3kodAO2U3WxJRpHXiHwGSSS0MIu5uu6m/TZf4viP8JGgnAO1L8I8c2Uc4gzGiOsOf+cptfgARdaIJOyHxQfuMlg/gKCCFGCoawe0W5zC9FIhf9uOf3VMB4QrntYEZUCAJh78YpLZCIWYIYo6u6XecVld1FwrOgCc+3TI15eACJfPXI2y1sRqkGCkcTIfTUT9b8XUhkq41/cgYaT8g7kgjhwqs3a/52xFwiJjhTTHkmm7fyT0GMGIgGnpmo+dlIdMym2A2ja2e8cau1EHarELyAsO9/EwlgJTHRIGTWV4t5q8x7YAbVUujrHK/5/yMmBwAGctuqzbxVdjMQ6hBW3rjFhb3EFE5Uq3mrQrtulDzgn2MF8CQxZqhUa1udS0Fc1JKuG+OAIx3E5Bur3byVd1gXRB+T+XOpAB5UnV5azNtdwQxDTHD23VIBbCHGbU6LeSv3c2IwmRH0WQH4NyI+AJK1e36qVAsS6oL4iA7gFVv529Nm3kqf5KOBHTqAb2zx+zS9AbjNehkMxObnAi4xmQ3pDaDoDaMnWf91gEU2ld/Sat4q7CGGsPdlB3iWmOB0+gMoHNNH5W0OUEeMdzD9AbhfoPqdNgc4QUy2If0B5BuJwYxccADb/mbq0h9Atl63xXkH+NYG8H5qjVvV6mbId4A2Yux8P90SLw4gcoCjNoBNt0gAubgPKAZAqy2CH94KAdgpkYShAxyyAWy+tWqAyY84QIsNoD79AWQ26XsG5xzAboz5/ekPILdbnwiLjRCriPE70h+A97UK4NIuB7g7OQpLtcJf9Zj8+XgU3p/y47CVnhDHI3Jgp60Dn6V4/W8nBpPt1xOh54jxv0tvAP4P+iC0WwdwB+ihSE1Kh6IF/dZ4saMBzhHjNqV8HpgbBmYlA3idGDOcstF4DUT9ev+vcZIA84EBYtwvU/Trt6Cv3AL/cUqhmyJMJiUvR9eDZHX1rxvr7fCfgPPEeIdTMARt02NwD/iHMxbACn0XsKqHJLldgNGnv9fGNK9elJxW/XIlr8VN7qK1yWjzfcA8ZzwAC4ERdTew+qp+aHd1JAyRaKEzEYDH9PND4XgVdXzfo0H85c7NAKxG47VWgfmOhPlCw+S+C4B6NP6PxSapOsyb7D5gzlR8ANWKJuwtFpmZdREq6Ex+VtM0NV+d2RDqE/9BcZupvPlsg73/Yyv+rikzn1gOqwCDJvi5Qr1CDXiHEtdejCCFN6z5MgAsQWQkUWWLs7bpa53zjRANgsa4V5DwIWc6ABYAp0histc/mvqoPL947mO7v2vMaBMw35lOgDnAMqAXjS6UbvPkZ4y5rcUple7q9FrvRMyjTsWwB6jViAyTRM8XgjPgtRYLZ7FmXA+mVk2f1l3/eHLvteUU/ARmiJKY3HnEf0IPNSoO8HfgbWCQCRMBwphIFGCyBxGztPLGb7w0HgbWAD1MBjEB4rUATwF/daoKu3XeCywH3gR2AO2IDCEyikTDSDCEhBeRqAsxB4C3gKeBhcBcp8z8DjRUCbmVu2RWAAAAAElFTkSuQmCC"}s.highlightAttributes=u,"undefined"!=typeof i&&(s.userProperties.index=i),t.push(s)},f.prototype.computeControlPointDelta=function(t,e,n){var r=t.computePointFromPosition(e.latitude,e.longitude,0,new h(0,0,0)),i=t.computePointFromPosition(n.latitude,n.longitude,0,new h(0,0,0));return r.subtract(i)},f.prototype.createRotationAccessory=function(t,e){var n=new u(null);n.outlineColor=e.imageColor,n.outlineWidth=2;var r=new i([],n);r.altitudeMode=WorldWind.CLAMP_TO_GROUND,r.followTerrain=!0,t.push(r)},f.prototype.updateRotationAccessory=function(t,e,n){n[0].positions=[t,e]},f.prototype.normalizedHeading=function(e,n){var r=e*t.DEGREES_TO_RADIANS+n*t.DEGREES_TO_RADIANS;return Math.abs(r)>t.TWO_PI&&(r%=t.TWO_PI),t.RADIANS_TO_DEGREES*(r>=0?r:r+t.TWO_PI)},f.prototype.deepCopyLocations=function(t){var e=[];if(t.length>0&&Array.isArray(t[0]))for(var r=0,i=t.length;r<i;r++){for(var o=[],a=0,s=t[r].length;a<s;a++)o.push(new n(t[r][a].latitude,t[r][a].longitude));e.push(o)}else{r=0;for(var u=t.length;r<u;r++)e.push(new n(t[r].latitude,t[r].longitude))}return e},f.prototype.getCenterFromLocations=function(t,e){var n=0,r=new h(0,0,0),i=new h(0,0,0);if(e.length>0&&Array.isArray(e[0]))for(var o=0,a=e.length;o<a;o++)for(var u=0,l=e[o].length;u<l;u++)r.add(t.computePointFromPosition(e[o][u].latitude,e[o][u].longitude,0,i)),n++;else{o=0;for(var c=e.length;o<c;o++)r.add(t.computePointFromPosition(e[o].latitude,e[o].longitude,0,i)),n++}return r.divide(n),t.computePositionFromPoint(r[0],r[1],r[2],new s(0,0,0))},f.prototype.getAverageDistance=function(t,e,n){for(var r=t.computePointFromLocation(e.latitude,e.longitude,new h(0,0,0)),i=n.length,o=0,a=new h(0,0,0),s=0;s<i;s++)o+=t.computePointFromLocation(n[s].latitude,n[s].longitude,a).distanceTo(r)/i;return o/t.equatorialRadius},f.prototype.moveLocation=function(t,e,n,r,i){var o=t.computePointFromPosition(n.latitude,n.longitude,0,new h(0,0,0));return t.computePositionFromPoint(o[0],o[1],o[2],i)},f.prototype.rotateLocations=function(t,e,r,i){var o=this.getCenterFromLocations(t,i),a=n.greatCircleAzimuth(o,r),s=n.greatCircleAzimuth(o,e)-a;if(i.length>0&&Array.isArray(i[0]))for(var u=0,l=i.length;u<l;u++)for(var c=0,h=i[u].length;c<h;c++){var f=n.greatCircleAzimuth(o,i[u][c]),p=n.greatCircleDistance(o,i[u][c]);n.greatCircleLocation(o,f+s,p,i[u][c])}else{u=0;for(var d=i.length;u<d;u++)f=n.greatCircleAzimuth(o,i[u]),p=n.greatCircleDistance(o,i[u]),n.greatCircleLocation(o,f+s,p,i[u])}return s},f.prototype.closestPointOnSegment=function(t,n,r){var i=n.subtract(t),o=new h(0,0,0);o.copy(i);var a=o.normalize(),s=new h(0,0,0);s.copy(r);var u=s.subtract(t).dot(a);return u<0?o.copy(t):u>i.magnitude()?o.copy(n):new e(t,a).pointAt(u,o)},f.prototype.computeShadowPointLocations=function(t,e,r,i){var o=null,a=null;t.pathType===WorldWind.LINEAR?e.position=new n((r.latitude+i.latitude)/2,(r.longitude+i.longitude)/2):t.pathType===WorldWind.RHUMB_LINE?(null==o&&(o=n.rhumbAzimuth(r,i),a=n.rhumbDistance(r,i)),n.rhumbLocation(r,o,.5*a,e.position)):(null==o&&(o=n.greatCircleAzimuth(r,i),a=n.greatCircleDistance(r,i)),n.greatCircleLocation(r,o,.5*a,e.position))},f})),i("util/editor/PlacemarkEditorFragment",["./BaseSurfaceEditorFragment","../../geom/Location","./ShapeEditorConstants","../../shapes/Placemark"],(function(t,e,n,r){"use strict";var i=function(){};return(i.prototype=Object.create(t.prototype)).canHandle=function(t){return t instanceof Function?"Placemark"===t.name:t instanceof r},i.prototype.createShadowShape=function(t){return new r(t.position,null,t.attributes)},i.prototype.getShapeCenter=function(t){return t.position},i.prototype.isRegularShape=function(){return!0},i.prototype.initializeControlElements=function(t,e,r,i,o,a,s){s&&(t.userProperties.purpose=n.DRAG,e.push(t))},i.prototype.updateControlElements=function(t,e,n){n[0].position=t.position},i.prototype.reshape=function(t,e,n,r,i){return!1},i})),i("shapes/SurfaceEllipse",["../geom/Angle","../error/ArgumentError","../geom/Location","../util/Logger","../shapes/ShapeAttributes","../shapes/SurfaceShape","../util/WWMath"],(function(t,e,n,r,i,o,a){"use strict";var s=function t(n,i,a,s,u){if(!n)throw new e(r.logMessage(r.LEVEL_SEVERE,"SurfaceEllipse","constructor","missingLocation"));if(i<0||a<0)throw new e(r.logMessage(r.LEVEL_SEVERE,"SurfaceEllipse","constructor","Radius is negative."));o.call(this,u),this._center=n,this._majorRadius=i,this._minorRadius=a,this._heading=s,this._intervals=t.DEFAULT_NUM_INTERVALS};return s.prototype=Object.create(o.prototype),Object.defineProperties(s.prototype,{center:{get:function(){return this._center},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._center=t}},majorRadius:{get:function(){return this._majorRadius},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._majorRadius=t}},minorRadius:{get:function(){return this._minorRadius},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._minorRadius=t}},heading:{get:function(){return this._heading},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._heading=t}},intervals:{get:function(){return this._intervals},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._intervals=t}}}),s.staticStateKey=function(t){return o.staticStateKey(t)+" ce "+t.center.toString()+" ma "+t.majorRadius.toString()+" mi "+t.minorRadius.toString()+" he "+t.heading.toString()+" in "+t.intervals.toString()},s.prototype.computeStateKey=function(){return s.staticStateKey(this)},s.prototype.computeBoundaries=function(e){if(0==this.majorRadius&&0==this.minorRadius)return null;var r=e.globe,i=1+Math.max(s.MIN_NUM_INTERVALS,this.intervals),o=2*Math.PI/(i-1),u=r.radiusAt(this.center.latitude,this.center.longitude);this._boundaries=new Array(i);for(var l=0;l<i;l++){var c=l!=i-1?l*o:0,h=this.majorRadius*Math.cos(c),f=this.minorRadius*Math.sin(c),p=Math.sqrt(h*h+f*f),d=Math.PI/2-(Math.acos(h/p)*a.signum(f)-this.heading*t.DEGREES_TO_RADIANS);this._boundaries[l]=n.greatCircleLocation(this.center,d*t.RADIANS_TO_DEGREES,p/u,new n(0,0))}},s.prototype.getReferencePosition=function(){return this.center},s.prototype.moveTo=function(t,e){this.center=e},s.MIN_NUM_INTERVALS=8,s.DEFAULT_NUM_INTERVALS=64,s})),i("util/editor/SurfaceEllipseEditorFragment",["./BaseSurfaceEditorFragment","../../geom/Location","./ShapeEditorConstants","../../shapes/SurfaceEllipse"],(function(t,e,n,r){"use strict";var i=function(){};return(i.prototype=Object.create(t.prototype)).canHandle=function(t){return t instanceof Function?"SurfaceEllipse"===t.name:t instanceof r},i.prototype.createShadowShape=function(t){return new r(t.center,t.majorRadius,t.minorRadius,t.heading,t.attributes)},i.prototype.getShapeCenter=function(t){return t.center},i.prototype.isRegularShape=function(){return!0},i.prototype.initializeControlElements=function(t,e,r,i,o,a){o&&(this.createControlPoint(e,o,n.WIDTH),this.createControlPoint(e,o,n.HEIGHT)),a&&(this.createControlPoint(e,a,n.ROTATION),this.createRotationAccessory(i,a))},i.prototype.updateControlElements=function(t,r,i,o,a){var s=i.length;if(s>0)for(var u=0;u<s;u++)i[u].userProperties.purpose===n.WIDTH&&(e.greatCircleLocation(t.center,90+t.heading,t.majorRadius/r.equatorialRadius,i[u].position),i[u].userProperties.size=t.majorRadius),i[u].userProperties.purpose===n.HEIGHT&&(e.greatCircleLocation(t.center,t.heading,t.minorRadius/r.equatorialRadius,i[u].position),i[u].userProperties.size=t.minorRadius),i[u].userProperties.purpose===n.ROTATION&&(e.greatCircleLocation(t.center,t.heading,1.6*t.minorRadius/r.equatorialRadius,i[u].position),i[u].userProperties.rotation=t.heading,this.updateRotationAccessory(t.center,i[u].position,a))},i.prototype.reshape=function(t,r,i,o,a){var s=this.computeControlPointDelta(r,o,a),u=this.computeControlPointDelta(r,i.position,t.center).normalize();if(i.userProperties.purpose===n.WIDTH){var l=t.majorRadius+s.dot(u);l>0&&(t.majorRadius=l)}else if(i.userProperties.purpose===n.HEIGHT){var c=t.minorRadius+s.dot(u);c>0&&(t.minorRadius=c)}else if(i.userProperties.purpose===n.ROTATION){var h=e.greatCircleAzimuth(t.center,a),f=e.greatCircleAzimuth(t.center,o)-h;t.heading=this.normalizedHeading(t.heading,f)}},i})),i("shapes/SurfaceCircle",["../error/ArgumentError","../geom/Location","../util/Logger","../shapes/ShapeAttributes","../shapes/SurfaceShape"],(function(t,e,n,r,i){"use strict";var o=function e(r,o,a){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"SurfaceCircle","constructor","missingLocation"));if(o<0)throw new t(n.logMessage(n.LEVEL_SEVERE,"SurfaceCircle","constructor","Radius is negative"));i.call(this,a),this._center=r,this._radius=o,this._intervals=e.DEFAULT_NUM_INTERVALS};return o.prototype=Object.create(i.prototype),Object.defineProperties(o.prototype,{center:{get:function(){return this._center},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._center=t}},radius:{get:function(){return this._radius},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._radius=t}},intervals:{get:function(){return this._intervals},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._intervals=t}}}),o.staticStateKey=function(t){return i.staticStateKey(t)+" ce "+t.center.toString()+" ra "+t.radius.toString()},o.prototype.computeStateKey=function(){return o.staticStateKey(this)},o.prototype.computeBoundaries=function(t){if(0===this.radius)return null;var n=1+Math.max(o.MIN_NUM_INTERVALS,this.intervals),r=360/(n-1),i=this.radius/t.globe.radiusAt(this.center.latitude,this.center.longitude);this._boundaries=new Array(n);for(var a=0;a<n;a++){var s=a!==n-1?a*r:0;this._boundaries[a]=e.greatCircleLocation(this.center,s,i,new e(0,0))}},o.prototype.getReferencePosition=function(){return this.center},o.prototype.moveTo=function(t,e){this.center=e},o.MIN_NUM_INTERVALS=8,o.DEFAULT_NUM_INTERVALS=64,o})),i("util/editor/SurfaceCircleEditorFragment",["./BaseSurfaceEditorFragment","../../geom/Location","./ShapeEditorConstants","../../shapes/SurfaceCircle"],(function(t,e,n,r){"use strict";var i=function(){};return(i.prototype=Object.create(t.prototype)).canHandle=function(t){return t instanceof Function?"SurfaceCircle"===t.name:t instanceof r},i.prototype.createShadowShape=function(t){return new r(t.center,t.radius,t.attributes)},i.prototype.getShapeCenter=function(t){return t.center},i.prototype.isRegularShape=function(){return!0},i.prototype.initializeControlElements=function(t,e,r,i,o){o&&this.createControlPoint(e,o,n.RADIUS)},i.prototype.updateControlElements=function(t,n,r){r.length>0&&(e.greatCircleLocation(t.center,90,t.radius/n.equatorialRadius,r[0].position),r[0].userProperties.size=t.radius)},i.prototype.reshape=function(t,e,r,i,o){if(r.userProperties.purpose===n.RADIUS){var a=this.computeControlPointDelta(e,i,o),s=this.computeControlPointDelta(e,r.position,t.center).normalize(),u=t.radius+a.dot(s);u>0&&(t.radius=u)}},i})),i("util/editor/SurfacePolygonEditorFragment",["./BaseSurfaceEditorFragment","../../geom/Location","../../geom/Position","./ShapeEditorConstants","../../shapes/SurfacePolygon","../../geom/Vec3"],(function(t,e,n,r,i,o){"use strict";var a=function(){this.currentHeading=0,this.moveControlPointAttributes=null,this.shadowControlPointAttributes=null};return(a.prototype=Object.create(t.prototype)).canHandle=function(t){return t instanceof Function?"SurfacePolygon"===t.name:t instanceof i},a.prototype.createShadowShape=function(t){return new i(this.deepCopyLocations(t.boundaries),t.attributes)},a.prototype.getShapeCenter=function(t,e){return this.getCenterFromLocations(e,t.boundaries)},a.prototype.isRegularShape=function(){return!1},a.prototype.initializeCreationControlElements=function(t,e,n){var i=this.getLocations(t);this.currentHeading=0,this.moveControlPointAttributes=n;for(var o=0,a=i.length;o<a;o++)this.createControlPoint(e,n,r.LOCATION,o)},a.prototype.initializeControlElements=function(t,e,n,i,o,a,s,u){var l=this.getLocations(t);if(this.currentHeading=0,s){this.moveControlPointAttributes=s,this.shadowControlPointAttributes=u;for(var c=0,h=l.length;c<h;c++)this.createControlPoint(e,s,r.LOCATION,c)}if(a&&(this.createControlPoint(e,a,r.ROTATION),this.createRotationAccessory(i,a)),u)for(c=0,h=l.length;c<h;c++)this.createControlPoint(n,u,r.SHADOW,c)},a.prototype.updateCreationControlElements=function(t,e,n){for(var i=this.getLocations(t),o=n.length,a=i.length,s=0;s<a;s++)s>=o&&this.createControlPoint(n,this.moveControlPointAttributes,r.LOCATION,s),n[s].position=i[s];o>a&&n.splice(a,o-a)},a.prototype.updateControlElements=function(t,n,i,o,a){for(var s=this.getLocations(t),u=s.length,l=[],c=null,h=i.length-1;h>-1;h--){if(null!==i[h])if(i[h].userProperties.purpose===r.ROTATION){c=i[h];var f=this.getCenterFromLocations(n,s),p=1.2*this.getAverageDistance(n,f,s);e.greatCircleLocation(f,this.currentHeading,p,c.position),c.userProperties.rotation=this.currentHeading,this.updateRotationAccessory(f,c.position,a)}else l.push(i[h]);i.pop()}l.reverse();var d=l.length;for(h=0;h<u;h++)h>=d&&(this.createControlPoint(l,this.moveControlPointAttributes,r.LOCATION,h),this.createControlPoint(o,this.shadowControlPointAttributes,r.SHADOW,h)),l[h].position=s[h];for(l.length>u&&(l.splice(u,l.length-u),o.splice(u,o.length-u)),h=0;h<l.length;h++)i.push(l[h]);if(t.boundaries.length>0&&Array.isArray(t.boundaries[0]))for(var g=0,m=(h=0,t.boundaries.length);h<m;h++)for(var y=0,v=t.boundaries[h].length-1;y<v;y++)this.computeShadowPointLocations(t,o[g],t.boundaries[h][y],t.boundaries[h][y+1]),y==v-1&&(this.computeShadowPointLocations(t,o[g+1],t.boundaries[h][y+1],t.boundaries[h][0]),g+=1),g+=1;else for(h=0;h<i.length-1;h++)this.computeShadowPointLocations(t,o[h],s[h],s[h+1]),h==i.length-2&&this.computeShadowPointLocations(t,o[h+1],s[h+1],s[0]);null!==c&&i.push(c)},a.prototype.reshape=function(t,e,n,o,a,s){var u=this.getLocations(t);if(n.userProperties.purpose===r.ROTATION){var l=this.rotateLocations(e,o,a,u);this.currentHeading=this.normalizedHeading(this.currentHeading,l),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0}else if(n.userProperties.purpose===r.LOCATION||n.userProperties.purpose===r.SHADOW){var c=n.userProperties.index,h=t.boundaries,f=h.length,p=this.getRingAndLocationIndex(t,c);if(s)if(-1!==p.ringIndex){var d=h[p.ringIndex];d.length>3?d.splice(p.locationIndex,1):f>2&&h.splice(p.ringIndex,1)}else h.length>3&&h.splice(c,1);else n.userProperties.purpose===r.SHADOW?-1!==p.ringIndex?this.moveLocation(e,n,a,o,h[p.ringIndex][p.locationIndex+1]):this.moveLocation(e,n,a,o,u[c+1]):this.moveLocation(e,n,a,o,u[c]);t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0}},a.prototype.getRingAndLocationIndex=function(t,e){var n=t.boundaries,r=n.length,i={locationIndex:-1,ringIndex:-1};if(r>0&&Array.isArray(t.boundaries[0]))for(var o=0,a=0;a<r&&-1==i.ringIndex;a++){var s=n[a].length;o+s>e&&(i.ringIndex=a,i.locationIndex=e-o),o+=s}return i},a.prototype.convertShadowControlPoint=function(t,e,n,r){var o=t.boundaries,a=this.getRingAndLocationIndex(t,n);-1!==a.ringIndex?o[a.ringIndex].splice(a.locationIndex+1,0,r):o.splice(n+1,0,r),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0},a.prototype.addNewVertex=function(t,e,r){var a=new o(0,0,0),s=new o(0,0,0),u=new o(0,0,0),l=t.boundaries,c=e.computePointFromPosition(r.latitude,r.longitude,0,new o(0,0,0)),h=new o(0,0,0),f=-1,p=Number.MAX_VALUE;if(Array.isArray(t.boundaries[0])){for(var d=-1,g=0,m=l.length;g<m;g++)for(var y=1,v=l[g].length;y<=v;y++){var b=l[g][y-1],E=l[g][y==v?0:y];e.computePointFromPosition(b.latitude,b.longitude,0,a),e.computePointFromPosition(E.latitude,E.longitude,0,s),u.copy(c),(S=(u=this.closestPointOnSegment(a,s,c)).distanceTo(c))<p&&(h.copy(u),d=g,f=y,p=S)}var _=e.computePositionFromPoint(h[0],h[1],h[2],new n(0,0,0));f==l[d].length?l[d].push(_):l[d].splice(f,0,_),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0}else{g=1;for(var w=l.length;g<=w;g++){var S;b=l[g-1],E=l[g==w?0:g],e.computePointFromPosition(b.latitude,b.longitude,0,a),e.computePointFromPosition(E.latitude,E.longitude,0,s),u.copy(c),(S=(u=this.closestPointOnSegment(a,s,c)).distanceTo(c))<p&&(h.copy(u),f=g,p=S)}_=e.computePositionFromPoint(h[0],h[1],h[2],new n(0,0,0)),f==l.length?l.push(_):l.splice(f,0,_),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0}},a.prototype.createNewVertex=function(t,n,r){t.boundaries.push(new e(r.latitude,r.longitude)),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0},a.prototype.getLocations=function(t){var e=[];if(t.boundaries.length>0&&Array.isArray(t.boundaries[0]))for(var n=0,r=t.boundaries.length;n<r;n++)for(var i=0,o=t.boundaries[n].length;i<o;i++)e.push(t.boundaries[n][i]);else{n=0;for(var a=t.boundaries.length;n<a;n++)e.push(t.boundaries[n])}return e},a})),i("util/editor/SurfacePolylineEditorFragment",["./BaseSurfaceEditorFragment","../../geom/Location","../../geom/Position","./ShapeEditorConstants","../../shapes/SurfacePolyline","../../geom/Vec3"],(function(t,e,n,r,i,o){"use strict";var a=function(){this.currentHeading=0,this.moveControlPointAttributes=null,this.shadowControlPointAttributes=null};return(a.prototype=Object.create(t.prototype)).canHandle=function(t){return t instanceof Function?"SurfacePolyline"===t.name:t instanceof i},a.prototype.createShadowShape=function(t){return new i(this.deepCopyLocations(t.boundaries),t.attributes)},a.prototype.getShapeCenter=function(t,e){return this.getCenterFromLocations(e,t.boundaries)},a.prototype.isRegularShape=function(){return!1},a.prototype.initializeCreationControlElements=function(t,e,n){this.currentHeading=0,this.moveControlPointAttributes=n;for(var i=0,o=t.boundaries.length;i<o;i++)this.createControlPoint(e,n,r.LOCATION,i)},a.prototype.initializeControlElements=function(t,e,n,i,o,a,s,u){if(this.currentHeading=0,s){this.moveControlPointAttributes=s,this.shadowControlPointAttributes=u;for(var l=t.boundaries,c=0,h=l.length;c<h;c++)this.createControlPoint(e,s,r.LOCATION,c)}if(a&&(this.createControlPoint(e,a,r.ROTATION),this.createRotationAccessory(i,a)),u)for(c=0,h=l.length-1;c<h;c++)this.createControlPoint(n,u,r.SHADOW,c)},a.prototype.updateCreationControlElements=function(t,e,n){for(var i=t.boundaries,o=n.length,a=i.length,s=0;s<a;s++)s>=o&&this.createControlPoint(n,this.moveControlPointAttributes,r.LOCATION,s),n[s].position=i[s];o>a&&n.splice(a,o-a)},a.prototype.updateControlElements=function(t,n,i,o,a){for(var s=t.boundaries,u=s.length,l=[],c=null,h=i.length-1;h>-1;h--){if(null!==i[h])if(i[h].userProperties.purpose===r.ROTATION){c=i[h];var f=this.getCenterFromLocations(n,s),p=1.2*this.getAverageDistance(n,f,s);e.greatCircleLocation(f,this.currentHeading,p,c.position),c.userProperties.rotation=this.currentHeading,this.updateRotationAccessory(f,c.position,a)}else l.push(i[h]);i.pop()}l.reverse();var d=l.length;for(h=0;h<u;h++)h>=d&&(this.createControlPoint(l,this.moveControlPointAttributes,r.LOCATION,h),this.createControlPoint(o,this.shadowControlPointAttributes,r.SHADOW,h-1)),l[h].position=s[h];for(l.length>u&&(l.splice(u,l.length-u),o.splice(u-1,o.length-u-1)),h=0;h<l.length;h++)i.push(l[h]);for(h=0;h<i.length-1;h++)this.computeShadowPointLocations(t,o[h],s[h],s[h+1]);null!==c&&i.push(c)},a.prototype.reshape=function(t,e,n,o,a,s){var u=t.boundaries;if(n.userProperties.purpose===r.ROTATION){var l=this.rotateLocations(e,o,a,u);this.currentHeading=this.normalizedHeading(this.currentHeading,l),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0}else if(n.userProperties.purpose===r.LOCATION||n.userProperties.purpose===r.SHADOW){var c=n.userProperties.index;s?u.length>2&&u.splice(c,1):n.userProperties.purpose===r.SHADOW?this.moveLocation(e,n,a,o,u[c+1]):this.moveLocation(e,n,a,o,u[c]),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0}},a.prototype.convertShadowControlPoint=function(t,e,n,r){t.boundaries.splice(n+1,0,r),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0},a.prototype.addNewVertex=function(t,e,r){for(var a=new o(0,0,0),s=new o(0,0,0),u=new o(0,0,0),l=t.boundaries,c=e.computePointFromPosition(r.latitude,r.longitude,0,new o(0,0,0)),h=new o(0,0,0),f=-1,p=Number.MAX_VALUE,d=1,g=l.length;d<g;d++){var m=l[d-1],y=l[d];e.computePointFromPosition(m.latitude,m.longitude,0,a),e.computePointFromPosition(y.latitude,y.longitude,0,s),u.copy(c);var v=(u=this.closestPointOnSegment(a,s,c)).distanceTo(c);v<p&&(h.copy(u),f=d,p=v)}var b=e.computePositionFromPoint(h[0],h[1],h[2],new n(0,0,0));f==l.length?l.push(b):l.splice(f,0,b),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0},a.prototype.createNewVertex=function(t,n,r){t.boundaries.push(new e(r.latitude,r.longitude)),t.resetBoundaries(),t._stateId=i.stateId++,t.stateKeyInvalid=!0},a})),i("shapes/SurfaceRectangle",["../geom/Angle","../error/ArgumentError","../geom/Location","../util/Logger","../shapes/ShapeAttributes","../shapes/SurfaceShape","../util/WWMath"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t,n,i,a,s){if(!t)throw new e(r.logMessage(r.LEVEL_SEVERE,"SurfaceRectangle","constructor","missingLocation"));if(n<0||i<0)throw new e(r.logMessage(r.LEVEL_SEVERE,"SurfaceRectangle","constructor","Size is negative."));o.call(this,s),this._center=t,this._width=n,this._height=i,this._heading=a};return s.prototype=Object.create(o.prototype),Object.defineProperties(s.prototype,{center:{get:function(){return this._center},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._center=t}},width:{get:function(){return this._width},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._width=t}},height:{get:function(){return this._height},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._height=t}},heading:{get:function(){return this._heading},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._heading=t}}}),s.staticStateKey=function(t){return o.staticStateKey(t)+" ce "+t.center.toString()+" wi "+t.width.toString()+" he "+t.height.toString()+" hd "+t.heading.toString()},s.prototype.computeStateKey=function(){return s.staticStateKey(this)},s.prototype.computeBoundaries=function(t){var e=.5*this.width,n=.5*this.height,r=t.globe.radiusAt(this.center.latitude,this.center.longitude);this._boundaries=new Array(4),this.addLocation(0,-e,-n,r),this.addLocation(1,e,-n,r),this.addLocation(2,e,n,r),this.addLocation(3,-e,n,r)},s.prototype.addLocation=function(e,r,i,o){var s=Math.sqrt(r*r+i*i),u=Math.PI/2-(Math.acos(r/s)*a.signum(i)-this.heading*t.DEGREES_TO_RADIANS);this._boundaries[e]=n.greatCircleLocation(this.center,u*t.RADIANS_TO_DEGREES,s/o,new n(0,0))},s.prototype.getReferencePosition=function(){return this.center},s.prototype.moveTo=function(t,e){this.center=this.computeShiftedLocations(t,this.getReferencePosition(),e,[this.center])[0]},s})),i("util/editor/SurfaceRectangleEditorFragment",["./BaseSurfaceEditorFragment","../../geom/Location","./ShapeEditorConstants","../../shapes/SurfaceRectangle"],(function(t,e,n,r){"use strict";var i=function(){};return(i.prototype=Object.create(t.prototype)).canHandle=function(t){return t instanceof Function?"SurfaceRectangle"===t.name:t instanceof r},i.prototype.createShadowShape=function(t){return new r(t.center,t.width,t.height,t.heading,t.attributes)},i.prototype.getShapeCenter=function(t){return t.center},i.prototype.isRegularShape=function(){return!0},i.prototype.initializeControlElements=function(t,e,r,i,o,a){o&&(this.createControlPoint(e,o,n.WIDTH),this.createControlPoint(e,o,n.HEIGHT)),a&&(this.createControlPoint(e,a,n.ROTATION),this.createRotationAccessory(i,a))},i.prototype.updateControlElements=function(t,r,i,o,a){var s=i.length;if(s>0)for(var u=0;u<s;u++)i[u].userProperties.purpose===n.WIDTH&&(e.greatCircleLocation(t.center,90+t.heading,.5*t.width/r.equatorialRadius,i[u].position),i[u].userProperties.size=t.width),i[u].userProperties.purpose===n.HEIGHT&&(e.greatCircleLocation(t.center,t.heading,.5*t.height/r.equatorialRadius,i[u].position),i[u].userProperties.size=t.height),i[u].userProperties.purpose===n.ROTATION&&(e.greatCircleLocation(t.center,t.heading,.8*t.height/r.equatorialRadius,i[u].position),i[u].userProperties.rotation=t.heading,this.updateRotationAccessory(t.center,i[u].position,a))},i.prototype.reshape=function(t,r,i,o,a){var s=this.computeControlPointDelta(r,o,a),u=this.computeControlPointDelta(r,i.position,t.center).normalize();if(i.userProperties.purpose===n.WIDTH){var l=t.width+2*s.dot(u);l>0&&(t.width=l)}else if(i.userProperties.purpose===n.HEIGHT){var c=t.height+2*s.dot(u);c>0&&(t.height=c)}else if(i.userProperties.purpose===n.ROTATION){var h=e.greatCircleAzimuth(t.center,a),f=e.greatCircleAzimuth(t.center,o)-h;t.heading=this.normalizedHeading(t.heading,f)}},i})),i("shapes/SurfaceSector",["../error/ArgumentError","../geom/Location","../util/Logger","../shapes/ShapeAttributes","../shapes/SurfaceShape"],(function(t,e,n,r,i){"use strict";var o=function(e,r){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"SurfaceSector","constructor","missingSector"));i.call(this,r),this._sector=e,this._pathType=WorldWind.LINEAR};return o.prototype=Object.create(i.prototype),Object.defineProperties(o.prototype,{sector:{get:function(){return this._sector},set:function(t){this.stateKeyInvalid=!0,this.resetBoundaries(),this._sector=t}}}),o.staticStateKey=function(t){return i.staticStateKey(t)},o.prototype.computeStateKey=function(){return o.staticStateKey(this)},o.prototype.computeBoundaries=function(t){var n=this._sector;this._boundaries=new Array(4),this._boundaries[0]=new e(n.minLatitude,n.minLongitude),this._boundaries[1]=new e(n.maxLatitude,n.minLongitude),this._boundaries[2]=new e(n.maxLatitude,n.maxLongitude),this._boundaries[3]=new e(n.minLatitude,n.maxLongitude)},o.prototype.getReferencePosition=function(){return new e(this.sector.centroidLatitude(),this.sector.centroidLongitude())},o.prototype.moveTo=function(t,n){var r=this._sector,i=new Array(3);i[0]=new e(r.minLatitude,r.minLongitude),i[1]=new e(r.maxLatitude,r.minLongitude),i[2]=new e(r.maxLatitude,r.maxLongitude),i=this.computeShiftedLocations(t,this.getReferencePosition(),n,i),this.sector=new WorldWind.Sector(i[0].latitude,i[1].latitude,i[1].longitude,i[2].longitude)},o})),i("util/editor/SurfaceSectorEditorFragment",["./BaseSurfaceEditorFragment","../../geom/Location","../../geom/Position","../../geom/Sector","./ShapeEditorConstants","../../shapes/SurfaceSector"],(function(t,e,n,r,i,o){"use strict";var a=function(){};return(a.prototype=Object.create(t.prototype)).canHandle=function(t){return t instanceof Function?"SurfaceSector"===t.name:t instanceof o},a.prototype.createShadowShape=function(t){return new o(new r(t._boundaries[0].latitude,t._boundaries[1].latitude,t._boundaries[0].longitude,t._boundaries[2].longitude),t.attributes)},a.prototype.getShapeCenter=function(t,e){return this.getCenterFromLocations(e,t._boundaries)},a.prototype.isRegularShape=function(){return!0},a.prototype.initializeControlElements=function(t,e,n,r,o){o&&(this.createControlPoint(e,o,i.MIN_CORNER),this.createControlPoint(e,o,i.MAX_CORNER))},a.prototype.updateControlElements=function(t,n,r){r.length>0&&(r[0].position=new e(t._sector.minLatitude,t._sector.minLongitude),r[1].position=new e(t._sector.maxLatitude,t._sector.maxLongitude))},a.prototype.reshape=function(t,e,n,o,a){n.userProperties.purpose===i.MIN_CORNER?t.sector=new r(o.latitude,t._sector.maxLatitude,o.longitude,t._sector.maxLongitude):n.userProperties.purpose===i.MAX_CORNER&&(t.sector=new r(t._sector.minLatitude,o.latitude,t._sector.minLongitude,o.longitude))},a})),i("util/editor/ShapeEditor",["../../shapes/Annotation","../../shapes/AnnotationAttributes","../../error/ArgumentError","../Color","../Font","../Insets","../../geom/Location","../Logger","../../shapes/Placemark","../../shapes/PlacemarkAttributes","./PlacemarkEditorFragment","../../geom/Position","../../layer/RenderableLayer","../../shapes/ShapeAttributes","./ShapeEditorConstants","./SurfaceEllipseEditorFragment","./SurfaceCircleEditorFragment","../../shapes/SurfacePolygon","../../shapes/SurfacePolyline","./SurfacePolygonEditorFragment","./SurfacePolylineEditorFragment","./SurfaceRectangleEditorFragment","./SurfaceSectorEditorFragment","../../geom/Vec2","../../geom/Vec3"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w,S,x){"use strict";var T=function(t){if(!t)throw new n(s.logMessage(s.LEVEL_SEVERE,"ShapeEditor","constructor","missingWorldWindow"));this._worldWindow=t,this._shape=null,this._allowMove=!0,this._allowReshape=!0,this._allowRotate=!0,this._allowManageControlPoint=!0,this._highlightedItems=[],this._moveControlPointAttributes=new l(null),this._moveControlPointAttributes.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAG1klEQVR42uVbaWxUVRSelsoishPDGpeIKVERNRHEhEQkRCL6QyLBBcpWisi+KhDCLsawiEshRECKFAIYisgmIIRChbAVK0sboAulC22n20w77917juddcjrXcaB7p/P4ki+vue++eT3fu+s55zrqG4jYhNiPON4UsKKgFPbkl8DF0nLIERIkURS7oSCvBJJziuCk0wUxhoDpiNiLGOoIRiBiM+Lg4jLY6vZAEdYQRW4oT8mGBBLHEqRDMBj+an4p7Cs3oaxqBiKWm1gl0G/K87fg9IHLclBjNPx5arr70Q8AEC+mAq46KHHoOoF9Fpn41HQTm48x0DHCwJCRBraNMrDnXBPfWmHixz8KXLhHYHwyoAT0i+QsyE7KgAhEDAm04d2omccICYAahETcfU7iB98KbD/BMrRm7PCZgR+RIDGnJeaV4P/wdwaknLohXw6E4SElZTDZEGCihpwixKV7JXabaloG1CmbjjZw/CaBaXmAOjwmAHWLA8TWDWX84zQ47UINJWWIM34R2Gx0JYbUkRBRJER6PqCO1HtQeviKfK2+je9B01cKath+RmKXKeqLNySV2FNiBJYZWIFCN8hDiXJ0fRk/hJqbm1+WXYg4cKUyPKB8ZYGJN3MAGVICHr8qo+t0gDQFDDIlSH7J+dvg7eeBp5pF4i5I1HE0SR6uqy//On15j97kW4y1Xty4GErT6dydAvX56NAVubm2xvck44v5B1cflDRvWy9stFSDsY4T1+T8mhrf3RCQhfeh5uLQRm48L6yij0lkmALwchoMr67xofTlT/OPHEwEfGyU9YLgYNgoQ/3PDNqAGfE3ZJfqCBDFDyemAz4RGTzGM1uPN/BKuleE08nyelWN72pKKL3ffBB7z1ejfVDyadpzuD1YgTPJMqrSJS4xjh9YslcGrfHMZXESGU6X2qW2f5gAQ7ly0h3ws7QNzq6QW4yoden1D/z6EuAiVxzwlWr6tuDELUIfED20j2jhT4A+qKD27zzf24FqBrt+F5BBq8bV/gT4mSt8Ei2sB23FYd8LZKTnQaHV4nXjO0oADxLuFPCcbyuq5bvLg/qAOEAXYA7fWB6nRn47UnmpGJdSYbsuQDzfGPyNaVcBVNdmkGcpl40PI7r5RrsJ9jSet82GwAqQc6ezJUAvLrh2F6yKtuahK4AMcpzMtAQYywWbTkrbCzBvl9C3ytssAdZzQeRPwvYCjFjvFeDCbUiwBPiLC1780rS7ACr4wiBfYoYlQMXyt+NEw/YCPDfLKwAFaV2WAOe44MnP7S8ALYj0xZDHEiCBCzpPtirZn3klFXEEYQlwigXoygEOmzOzAHgdoAQ4wQJ0n/poCMDRJLcHTEuAoywAuZAeqTEguxAKLQEOc0GP2bYXQHVzBmWf3LIE2M0FFM+3vQBvLvEKcDnt/kJoGhesPWT/pfDsWIGMszflDkuAlzRXmO0F2KsFUeOTZSS7wnM4n6dtlH2NDxmpPMQ62rNPIJZL3l1lz4GQcwkYmU7I0T1C4/jG1/vtOw58d0TqG6GdugDP8I2rmUBRYHvO/04XVsAQ0M/XLX6Lbw7/wXbToco/ZNx1QgG7xXUBFnKFG1mAYTZyjVOLtmY43SO81l9gpBUxlyuN2WifVhCxQeh5hZIunR4UH5zmdRvbIzjacpxhBXv00X/9w6LDzS3bufKkrcHfChb9KnU3eBld2laWIzDam/oa3E6SNxabaArUd38LHJWAAyVJ3vUyBDAtrnaJ1hQG143PpEuzqqbJhBML+eHYBCs9LrhG/d8ve40vM8AsNyC8upli7xC5A1k5/EGz3l93RPqePBlV01zBGahh2jZBL2jUxqstvQ6nC7bW6lwAcTNq2HBcUv5A4zR+jY/xGfmwjy5N6uIA1AnUcOwf0E6CBJ6tIg01ThF0d9eBujp1xiJs9jm3g30XB37r/MIXppb/w9M37Ki98f67wzSiRA1bTknsNKnhDW8SoU6O/CftxZQAzlJY5Gt8XQsxSAIUoobiMsRZsQKbNtDS+e2Vpkrh1ZFbDE6XB/o21LmhHsREou+gow5NPTvTrJe5vf8yE3+7BOiL1Huqv7dyNCD4SGwEMR394PhVwE+jBbappY+x1zzT8lLpqzq9r183BQx0BBC8gZohAQrQP6xBSp03mErriH5LTLW/aDdBeWnY+6S6T/gcE99fI1R32vinVOm6/pDlhDRa3Lzn69QItBBtiMuJ97Ca8JiIEiqrAwYFNf8wBQwJvOGVd43+xDXEVKwFDAEGJTFYobsPiS0dQQaeOnsTRxGXErcTz0qAPCGhiL5qgasc8tweuEN/pwipzh8vIw4jhhPDHPWMfwG/nw93W8wmlQAAAABJRU5ErkJggg==",this._moveControlPointAttributes.imageScale=.15,this._shadowControlPointAttributes=new l(null),this._shadowControlPointAttributes.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACx1BMVEUAAAD////////////////////////6+vr////////////y8vL////////////////////////9/f309PT////////////////////////9/f3////////////////09PT////////y8vL////////9/f3+/v7////////8/Pz+/v7y8vL+/v7////////////+/v7////8/Pz////////////39/f39/f////8/Pz////y8vL////////////09PT////19fX////8/Pz////7+/v+/v7////z8/P////09PT7+/v////8/Pz////////////+/v7x8fH////29vbz8/P39/f6+vr////y8vL////////8/Pz8/Pz09PT29vb////////19fX7+/v5+fn8/Pz////8/Pz////6+vr8/Pz8/Pz+/v7y8vL4+Pj5+fnz8/P7+/v////6+vr////////7+/v////////29vb+/v729vb39/f4+Pj////////////////8/Pz+/v7////////////19fX7+/v7+/v39/f9/f34+Pj////////6+vr////////5+fn9/f37+/v+/v74+Pj6+vr9/f3////5+fn////////9/f3+/v76+vr8/Pz+/v77+/v6+vr7+/v+/v7////9/f3+/v7+/v75+fn+/v77+/v+/v7////8/Pz9/f38/Pz8/Pz+/v78/Pz+/v79/f3+/v78/Pz9/f3+/v78/Pz9/f3+/v7////+/v7T09PU1NTV1dXW1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7///+ggSSQAAAAwHRSTlMAAQIDBAcICQoLDQ4PEBITFBgZGhscHSElJigoKS0uLzAyMzY3ODo6PkJERkZGSElMTE1TVVZYX19gYGFhY2RlZmdnbXBxcXJzdnt8foCDhIWGjo+Ql5iYmJ+foaKjpKamp6ioqausrbGysrS0tra2ubm5u7zAwcPExcXHx8fHyMnKzs7O0dTY2Nrb297e4OHh4uPk5efo6enp6urr7Ozu7u7v8PDw8PHx8vT09fb29/f4+fn6+vv7/Pz8/f39/f6yTS27AAADH0lEQVR4AZ3X93dUVRTF8f0SgoqKXVEUe++99yj2XhTB3nsRe++KvXfF3kUQLBpy3nspMYEkJCEJkBJkhplkvn+EZEgwQzLl3c/vZ6/7w1n7rqNsinc+5uzrnni37M9Pn79nyokTihRJyd6TvybDLw+fsJ4Kte2NMxjUl2LQ3/fvrkJsfhNpsfb6fyp9s7C6rrH1X9LePthTHptMKQdSXfWhZQgbOnoBXthauXjH/wYk2yptBH5TAii/ZW1lteY1QF+Lb2nZIr7bTlmMmwZ0VlgOfnMK/jpcI9r3R0jOszxqlkPqfE/D7VEGyyotr7AbuF3DbD8LOgMrxELgYq1my2+h3QrUApyiDJu+BR1WsMWQOkhDFD0APb4VzO+BXzfS/46DWGARBDF4Vqts/D2pGoukqg+O1QDvemi1iNrg57FaaX+I+xZRkIQLlOY9CXUWWRPMXEP9doCYRefH4Rz1uwQazUEDfO5JWn8WCd8cBH2wq6SToc2cdMFlku6D+eakEd6XRv0EoTkJU7ChJkDcHPXASToSlpijhXCpLoIF5qgRHtSjUGOO6uB1PQWhOaqCH/Q4VJijAGbqEdwDrJffdS9Umqskf2gquAekmKO7ococBfCF7sQ9oBJe1LVQb45q4SGVwiJz1AJXaiuImaMuOFree+6rmISx0hXOhVID70g6CtrNySK4WtJmro0S9MJOWuElaHBsg088rXAaxH2LLgbnqd+YD2CB0wPKNlBaKQ5fS5CAC7XS6Feh2SJqhRnrasARkKywSGpTcKoGjXoGlgUWQZiAN0u0yvivoNMi6IY5W2iIveZCa6Qd5FBlmAg0R5mfrEzeJGCxX/D8DcVaTclUYGloeQWdwK1FGqZkErC81vKojgNXFWkEXulcoCP3wdHUB+WnF2lke36Z++SxeTHgsx2V1binARJtVTaSum6A28Yoh+JDXgNgaWNomWraEwDP7aY8Rk+cTlq8o7m2IgzM/Or5LUviALyyn6f81jnrQ4ZIMWD2Xft4KkzxLue+TKbZdxywlqLwtjnsjMsf+/ib6R+9Me3mMw8cP0pZ/AewF57BEV8rHgAAAABJRU5ErkJggg==",this._shadowControlPointAttributes.imageScale=.15,this._resizeControlPointAttributes=new l(null),this._resizeControlPointAttributes.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAF9klEQVR4AeXbW2xUWx3H8cUlOV5y1KgPXvTBh2PwwaNSDxDUgooVBTVeIPCgQNDigxouxiglhAS8RKNgYkKjJCh3o5hAACWSWIVSAVMkEi60AVpg7jOdmU5nz+y91/raCay99i4t9NJpZzaf5P8GaX7/dl32WnuLagNmAQuBZpTzE2Tu+GB1IotxlJSD5SILGWTfHdz0P5H5gyhnE/AqMFPUI+Al4HPIwgFUKcd4yUIJp7cDmd0EvK0egs9F5k6iyhajoQqgyoyKsiXlG+1YF5pqMfj7kflTDEuBfRP6D0L6+5D8OsQ+D5H58OgjgzUXoo0Q/wqkmiGzFfJ7oXwVkAzL6Ylhd68BZkx38PcgCwdRUhEgwToH6S0QXVwJOr6q/N/Mj6B4GmSWp9jdXZQ6PzQdwWcgB76Lchz8ZBryv4PYUhNisioyD/p2ghslQNkK68KZwXrTVIV/A7LwJ/zUAOR+af6sq1SmEbvAjRHgRApYFxuqHf4VZLELv+JfIdZU/eBDq9Ls7M+Dk6jsl1jt66oVfjnKLqLJFKS+PfXBh1ZiNbgP8SgJpSt7J3WCRLlNgyXR7BtmnNdCRRvBaiOgdOmsmAzAPJRdDvzJRxbUTHhTDZD7NaDwWO37Jxr+Ayg7j9Z/qLJu12B4U5XJOKD0n5bxhn8vyomiFU9XulzL4c3Gyr9IKQfs26vGGn4mym43XWyHyGs1H97UR6HUjkfmbMpX3zWWBmxAs+9A5GP1Et5U5ONgd+Ep//fWaMO/G+UWAMCFxKp6C28qtgxUCU/52obnb3HhBFr+t/Ua3lR+Hx6Zt4C3PqsBX0Vzuofb2tbnUJAZMEO6deTfvlKdaKnmeg9vKvtT/4RYxo29frgGzEezb5r1PgxVWcGce3istl8N14A/oGVawhLeVOYHeNxoNvCsALwdpcoAuHGz5oepIgtAWf4J8VP+Bpj29O8LW3hT1jk89q0j/gZcQEt9J7wNyLT4h0FCh58NFNGii8LbgGgjKAePLL5TAK+iOffCGt5U6SKe0pUtAliPNnAi/A3I/cb/qHxIAK1ofTvD34DMNjzlGx0C+DdafEX4G5BqxuM8eCCATrToJ8PfgPgX8cjsgAAumwZ8OszhzYZIk/myADrQYp8Jc3hTMqvvEVwBnDcN+OyL0QA3ofcBrgDa0MxZf5jL3CapkiOAc6YBy16sOcBNZQVwFi3+pfA3oDLMNaf3rgD+jJbeEv4GJNfhsW93CGAjWuEw4d8K78FTvn5MAB/EHIWFvwHWP/x3Bd/SR+FxAFAQbQxxA+YGT4j1ETlwFC39vfA2ILEaj5uICw34Jlr/78PbgMIxPM7DP/ob8D405665BQ7b+i/zeJSzUPgBd9EyPwzhOcBWPG4y89QrNMB2NOd+5Yo5RA1oAPum/0R4jxgKeBlIoPXtCE8D+rYHX7mFd4hhBDdFbjQkl6MLwY37Z/9WMRLgdUAPWvZnIbgeb8UjixbwFvEswDo0ma7vQ5LkGsD1P/1tE88DzAauo5X/Z16Lq6eKLg6+TuumHwEvidEA5gBZtOLf6uy6vAGs83hU2RmsOWIsgKWARMvvrZ/9fuEoAbKwVowHsBm/7C8qP6DGwx8mQOYPTOy7ANiP38BxiLxWH+Hd+Elg1mR8ANWGX+lyZZKprRehKvOUn9N7Bpg5mV+B7cfP6YHkN2rgpudr5v0fM+Mfm7TwQ4bDRkDiN3ASokumZ6bv2wXKwqNchczvMOGrAGhCqSx+qgC53RCZN0UXnBvAvkOAm+lDWQvEVABeAa4xlBt78tHU8ur8xpPrwfoXT3EiZ4CXxVQCZgFrgF6CzESZaYHoJyZ4jLWyckpldnXBsX4L5SwR08Y8QG1GqQwjce5B8fTjfURy7ePni+iiJ1vsBvM1WPzLkN74eDgN/AWcboblJnuQhS8AM0StAN4M/BhIMlbKBuTz/o2Nm/g7yl1eU8FHGBqNwG7gPhOhHBuZPQusAN4o6opZOj8MrAV2AkeASyiVQskcys6grNRgPUTZXSj3FLALWAnMAWaLKvs/oZa/z/rHkBoAAAAASUVORK5CYII=",this._resizeControlPointAttributes.imageScale=.15,this._rotateControlPointAttributes=new l(null),this._rotateControlPointAttributes.imageColor=WorldWind.Color.GREEN,this._rotateControlPointAttributes.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFp0lEQVR4AeXba2xUaR3H8f9ML926wnbLxiwLG1cjho2Ku5q4Kyab7Lohblx9sRs3664GUKGJ8YIVNVFDiIAJLwSiL8CYiFIDGDERxEIjkhootQYKSKO1EwltuTC1d8q0czn9+X3xnOQJGei9nTl+P/knhPTNcy5nzjmTsblOUgmzmtmYVfbH/er/fZ/6Wkc0kswpFzC5YQ3396q3I6nkXwc0UJdR5luSVjFxK8YkVTCvsLADKaWGNM2GNDSWUKKZjcMG0ZJiWPhH2LvHxjQ2OskFagyTib8Lzut8U73q1xTiwt/PoXtceRpHK36C1/Ec3o2HYIihCk/jRbyFLTiLAPnqUMftNrWtlRRb6IUv5zCv4zwel1cOR/AaqmHTtASfRx16cW9XdCVxRmc+vBALj93Rna9nlMnKK4ltWA6bZeXYiE74pZUe57SoZxbP1+Lfwbn7O3ndQS0qYHOsHDXogt81XRtpUMNH53rxK/j4SsjrIJ6AzbMKfAOjCBvUYHBSJ9fP1eJf5XBLyXUbL8MW2LP4D8ICnNbpvbN6gcwqu4YJ5DqP5bACUYWj8DulUw2ztec/xp5P+4d8JazAxPE9jCOM02H/TBf/NIsflmsXYrACVgu/RjX+YLqLfzKjzC256hCHFbgY9iIsi0u69OZUFx9nzzfJdQJlsCJRihMI4wEsw53lE1PZADVyXcY7YUVmMf6BsCY1tU928cs4bEZEWTwDK1JPIYWwczpXM+EtLnNUrh/Bitx2hPHANiqp+kEb4HW52lABK3KL0QPvlN53370fKGiV6yVYRHwV3gUxzXNEZb4N8JxcrYjBIqIM7QjjrnFXvg3wa7nehkXMGwjjCBiUFPMX/1igIC26jjJYxFTiLrwL4kv+BviuXDtgEXUEYRd18aC/Ac7K9Qosot5GGG+WesLFlzIpuR6FRVQVMgjj5c5Sk7RKrn/BIu4kwnhx8m2T9GW5fgmLuO/De1T+jUnaJ9cGWMR9EWEXdKHZJP1Nrg/CIu5FhPEusdsktcr1GCzi3oewPvXdNUl/l+tdsIirhHczlDZJzXIthUWfeuG+R8iZpDNyLYNFn27A3QfkTFKjXE/Cok+jIKWUypqkU3I9hf+nawDfbg2apAa5VsAibhnCEkpcNUlH5HoNFnGfQBjfFzSbpE1y7YFF3HcQ1qKWwybpQ3K1wiLuDwjjy5IN4avwpGgcVbCIiqEHXtVmJOmQXJ+GRdSzCONeIGlhkr4i105YRP0M3oPQb/0N8B65/ok4ovj5P4CwjDKrzU/SVbnehEXMWwi7qZv9kmLmJ2mLXP9GKSwi4miF90Z4j92bpEVMj1xfgkXEWoSllQ4kPW758m+KOhGFL0cfxnV4V/99dr8kPcR0yvU1WJHbCu81+KikKntQktbLlUQxvyT5OLLwnv5+aBPlvihpk6sFlbAiswRd8BZ/Q1KFTSZJK5lBuQ4hhmK66v8JYaMazY5pbKVNJUmfYgK5tsCKQAw/hd+QhtbZdJJUK69NiKGQF78Hftz9HZjR7wKY/fL6OcpQiIvfDb9udR+TVDIbP4BqlNdfUA0rEItwCH4JJeolxWfzV2D75dWB52EL7ANoh19SycMzX3z+02ETE8jrV3gcNs9KUIO7CMsqO845v9Utfm6StCZQMCivYWxGOWwefBKX4cebngE2xvM2H0lawVzWPXVjG96LufhsfwF/hMv/vVC9pEU2n0kqYdYyXcrTaXwBj8BmYBV2ogsu/1xv57B/2RYy9wBVGyjo131qRx2+idVYikdRiTgM5ViJz2IzfoE25OuWbnVyc/MZSTErlCQ9wuxg/qsplkaACf4mw6Psn9njry78wic+NV5gdjPXNIMyymT61Ncg6XPMw1ZsSYoxzzDrmG3MQaYlUNCbU26IvdrPlbs3pdR1/p3g/45L2s684R7ISm2O+x9CToBE+3EIiAAAAABJRU5ErkJggg==",this._rotateControlPointAttributes.imageScale=.15,this._annotationAttributes=new e(null),this._annotationAttributes.altitudeMode=WorldWind.CLAMP_TO_GROUND,this._annotationAttributes.cornerRadius=5,this._annotationAttributes.backgroundColor=new r(.67,.67,.67,.8),this._annotationAttributes.leaderGapHeight=0,this._annotationAttributes.drawLeader=!1,this._annotationAttributes.scale=1,this._annotationAttributes.textAttributes.color=r.BLACK,this._annotationAttributes.textAttributes.font=new i(10),this._annotationAttributes.insets=new o(5,5,5,5),this.annotation=new WorldWind.Annotation(new WorldWind.Position(0,0,0),this._annotationAttributes),this.editorFragments=[new c,new m,new g,new b,new E,new _,new w],this.controlPointsLayer=new f("Shape Editor Control Points"),this.shadowControlPointsLayer=new f("Shape Editor Shadow Control Points"),this.accessoriesLayer=new f("Shape Editor Accessories"),this.accessoriesLayer.pickEnabled=!1,this.annotationLayer=new f("Shape Editor Annotation"),this.annotationLayer.pickEnabled=!1,this.annotationLayer.enabled=!1,this.annotationLayer.addRenderable(this.annotation),this.shadowShapeLayer=new f("Shape Editor Shadow Shape"),this.shadowShapeLayer.pickEnabled=!1,this.creatorShapeLayer=new f("Shape Creator Initial Shape"),this.creatorShapeLayer.pickEnabled=!1,this.activeEditorFragment=null,this.actionType=null,this.actionControlPoint=null,this.actionControlPosition=null,this.actionSecondaryBehavior=!1,this.actionCurrentX=null,this.actionCurrentY=null,this.originalHighlightAttributes=new p(null),this.originalPlacemarkHighlightAttributes=new l(null),this._clicked0X=null,this._clicked0Y=null,this._clicked1X=null,this._clicked1Y=null,this._click0Time=0,this._click1Time=0,this._dbclickTimeout=0,this._clickDelay=200,this.creatorEnabled=!1,this.creatorShapeProperties=null,this.promisedShape=null,this._worldWindow.worldWindowController.addGestureListener(this)};return Object.defineProperties(T.prototype,{worldWindow:{get:function(){return this._worldWindow}},shape:{get:function(){return this._shape}},moveControlPointAttributes:{get:function(){return this._moveControlPointAttributes},set:function(t){this._moveControlPointAttributes=t}},shadowControlPointAttributes:{get:function(){return this._shadowControlPointAttributes},set:function(t){this._shadowControlPointAttributes=t}},resizeControlPointAttributes:{get:function(){return this._resizeControlPointAttributes},set:function(t){this._resizeControlPointAttributes=t}},rotateControlPointAttributes:{get:function(){return this._rotateControlPointAttributes},set:function(t){this._rotateControlPointAttributes=t}},annotationAttributes:{get:function(){return this._annotationAttributes},set:function(t){this._annotationAttributes=t,this.annotation.attributes=t}}}),T.prototype.create=function(t,e){var n,r;this.stop(),this.setCreatorEnabled(!0);for(var i=0,o=this.editorFragments.length;i<o;i++){var a=this.editorFragments[i];a.canHandle(t)&&(this.activeEditorFragment=a,this.creatorShapeProperties=e)}if(null!=this.activeEditorFragment){var s=new Promise((function(t,e){n=t,r=e}));return s.resolve=n,s.reject=r,this.promisedShape=s,s}return null},T.prototype.isCreatorEnabled=function(){return this.creatorEnabled},T.prototype.setCreatorEnabled=function(t){this.creatorEnabled!=t&&(this.creatorEnabled=t)},T.prototype.edit=function(t,e){this.stop(),this._allowMove=Object.prototype.hasOwnProperty.call(e,"move")?e.move:this._allowMove,this._allowReshape=Object.prototype.hasOwnProperty.call(e,"reshape")?e.reshape:this._allowReshape,this._allowRotate=Object.prototype.hasOwnProperty.call(e,"rotate")?e.rotate:this._allowRotate,this._allowManageControlPoint=Object.prototype.hasOwnProperty.call(e,"manageControlPoint")?e.manageControlPoint:this._allowManageControlPoint,this._allowReshape||(this._allowManageControlPoint=!1);for(var n=0,r=this.editorFragments.length;n<r;n++){var i=this.editorFragments[n];i.canHandle(t)&&(this.activeEditorFragment=i)}return null!=this.activeEditorFragment&&(this._shape=t,this._shape.highlighted=!0,this.initializeControlElements(),!0)},T.prototype.stop=function(){this.removeControlElements(),this.activeEditorFragment=null,this._allowMove=!0,this._allowReshape=!0,this._allowRotate=!0,this._allowManageControlPoint=!0;var t=this._shape;return this._shape=null,null!==t&&(t.highlighted=!1),t},T.prototype.initializeControlElements=function(){var t=this._moveControlPointAttributes,e=this._resizeControlPointAttributes,n=this._rotateControlPointAttributes,r=this._shadowControlPointAttributes;this._allowMove||(t=null),this._allowReshape||(e=null),this._allowRotate||(n=null),this._allowManageControlPoint||(r=null),-1==this._worldWindow.indexOfLayer(this.shadowShapeLayer)&&this._worldWindow.insertLayer(0,this.shadowShapeLayer),-1==this._worldWindow.indexOfLayer(this.creatorShapeLayer)&&this._worldWindow.addLayer(this.creatorShapeLayer),-1==this._worldWindow.indexOfLayer(this.controlPointsLayer)&&this._worldWindow.addLayer(this.controlPointsLayer),-1==this._worldWindow.indexOfLayer(this.shadowControlPointsLayer)&&this._worldWindow.addLayer(this.shadowControlPointsLayer),-1==this._worldWindow.indexOfLayer(this.accessoriesLayer)&&this._worldWindow.addLayer(this.accessoriesLayer),-1==this._worldWindow.indexOfLayer(this.annotationLayer)&&this._worldWindow.addLayer(this.annotationLayer),this.isCreatorEnabled()&&(this.activeEditorFragment instanceof E||this.activeEditorFragment instanceof b)?this.activeEditorFragment.initializeCreationControlElements(this._shape,this.controlPointsLayer.renderables,t):this.activeEditorFragment.initializeControlElements(this._shape,this.controlPointsLayer.renderables,this.shadowControlPointsLayer.renderables,this.accessoriesLayer.renderables,e,n,t,r),this.updateControlElements()},T.prototype.removeControlElements=function(){this._worldWindow.removeLayer(this.controlPointsLayer),this.controlPointsLayer.removeAllRenderables(),this._worldWindow.removeLayer(this.creatorShapeLayer),this.creatorShapeLayer.removeAllRenderables(),this._worldWindow.removeLayer(this.shadowControlPointsLayer),this.shadowControlPointsLayer.removeAllRenderables(),this._worldWindow.removeLayer(this.accessoriesLayer),this.accessoriesLayer.removeAllRenderables(),this._worldWindow.removeLayer(this.shadowShapeLayer),this.shadowShapeLayer.removeAllRenderables(),this._worldWindow.removeLayer(this.annotationLayer)},T.prototype.updateControlElements=function(){this.isCreatorEnabled()&&(this.activeEditorFragment instanceof E||this.activeEditorFragment instanceof b)?this.activeEditorFragment.updateCreationControlElements(this._shape,this._worldWindow.globe,this.controlPointsLayer.renderables):this.activeEditorFragment.updateControlElements(this._shape,this._worldWindow.globe,this.controlPointsLayer.renderables,this.shadowControlPointsLayer.renderables,this.accessoriesLayer.renderables)},T.prototype.onGestureEvent=function(t){(null!==this._shape||this.isCreatorEnabled())&&("pointerup"===t.type||"mouseup"===t.type?this.handleMouseUp(t):"pointerdown"===t.type||"mousedown"===t.type?this.handleMouseDown(t):"pointermove"!==t.type&&"mousemove"!==t.type||this.handleMouseMove(t))},T.prototype.handleMouseDown=function(t){var e=t.clientX,n=t.clientY;this.actionCurrentX=e,this.actionCurrentY=n;var i=this._worldWindow.canvasCoordinates(e,n),o=0;null===this._shape||this.isCreatorEnabled()||(o=this._shape.highlightAttributes.outlineWidth,this._shape.highlightAttributes.outlineWidth=5);var s=this._worldWindow.pick(i);0!==o&&(this._shape.highlightAttributes.outlineWidth=o);var u=s.terrainObject();this._click0Time&&!this._click1Time?(this._clicked1X=e,this._clicked1Y=n,this._click1Time=Date.now()-this._click0Time):(this._clicked0X=e,this._clicked0Y=n,this._click0Time=Date.now(),this._click1Time=0,clearTimeout(this._dbclickTimeout),this._dbclickTimeout=setTimeout((function(){this._click0Time=0}),this._clickDelay));for(var h=0,f=s.objects.length;h<f;h++){var d=s.objects[h];if(d.isTerrain||this.isCreatorEnabled()){if(this.isCreatorEnabled()&&null!==this.activeEditorFragment&&null===this._shape){var g=new p(null);g.outlineColor=r.BLACK,g.interiorColor=new r(.8,.9,.9,1),g.outlineWidth=5;var m=new WorldWind.ShapeAttributes(g);if(m.outlineColor=WorldWind.Color.RED,m.outlineWidth=5,this.activeEditorFragment.isRegularShape())if(this.activeEditorFragment instanceof c?this.creatorShapeProperties.position=u.position:this.creatorShapeProperties.center=u.position,this.creatorShapeProperties.radius=3,this.creatorShapeProperties._boundaries=[{latitude:u.position.latitude-.5,longitude:u.position.longitude-.5},{latitude:u.position.latitude+.5,longitude:u.position.longitude-.5},{latitude:u.position.latitude+.5,longitude:u.position.longitude+.5}],this._shape=this.activeEditorFragment.createShadowShape(this.creatorShapeProperties),this.activeEditorFragment instanceof c){var y=new l(null);y.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAACd1JREFUeNrkm01sXNUVx3/33vfmjT0Zz/gLxw4fk1BSY1XCLNqyqXCkLkrVFmdTRJuEUDYU2hCLFhEhEbJo6aI0FLW7ojibBHUBQQpfVamdqN2UUhwVEjQpMInjOCY4GXvssWfmvXu6eDMmcZw2TsZkXP+lWcz4fdzzP//zcc97ViLCSoaz2BOUUlW5cbqzKwn0AvcCyXl/zgBHgMH1Hx4dWsx1F+tQtegTqkBAurOrG3gFSOl4nMYHtpDcshkdj1903Mzf36GQTmdm3n33wNSbb+29EjIWrWgRWdSnSt4fSHd2SbqzS8b27ZcrweyxYzL+u98PpDu7eqpqzxdNwLZ4ortifLqzS/789oAsBsVTp+T09r6BdGdXqhoE6OuQd3pzQTD35Xz2/KJOdtesoX33b3padzz5Sbqza/u1LuZ6EHD3sXx+7svkK68yOnpm0RdJbtlM2y9/sTvd2bVnuRHQfWRqiooK7jx6lP0v7mHs07OLvlDDxl6af/Lo1nRn18ByIoCCtbw+Pk7RWlblp/nGG6/z6r6XGB8/t+hrNT36CO6aNT3pzq7dy4WAIYBzvs8b589TFCF57hx37d/HwJ69HPswje/7i2tm1nQAbL9cYqw1AvYCGKXIBj5/ymaZCALqJie548U/kNu9m38c/htnxsaw1v7Pi01NTzM7Pl75+ljNE/BCbqIfGBJAK8WMCH/NTXG8UMAXofHwYZp+/jOyv36O4feOMJWfIbgMEZO5HO+/9Efko4/n8suSt8JVwoOByIAVkqpMxEixxGRguSni0pLPYw6+RvHga5xdv576r32V2F1fx8QbAPCDgOl8nok336L54MFLwqvmW+FKQxTReqAhEknGjUPMGGJGU6c1q7SmyRhiWmOu8H65IOBT31/7rY//nan5KlAOhaGitf0TxSL5wMcXIRCwAoFA3lomA8ustYgCKp8Luz6gJMKZks8/8zP993zyUWa5hADb4okUsD0QYbJUwhdBe1FcpfARfAEXwReFFiGiVWi/Cg33rZAPLBNBwIliMTsVBH1fyHa4itgDENGaRCRCwnHI+yVmAp8WN4JyDFoJylpAIwK6rICSFQpWmLQBp4ul7IQfbOg7M5JdNgRsiyd6gR6jFJ7R1BlDwji0eFESWjNpfcZLJUaspcl1SWhDRCmUCiU/bS25wJILgsFc4Pc9MTY6dLVrca6D8Ulgd8X7dcahXhvqtKZeKxpcQ4d2oS48fqRY5MOZWcZKpV3q8ySQQTH45Nho5lrXcz0UsB1Ihd431JWNj2pFVGm8eVm/xXFpcPzMj0aGn1mKxejrkPgeU4CnNVFjqDOGOq2oVxpPK5x5BOStJW9lcKnW9EWXwd1A0iiF51zofU1UKaJGX1TpBJiylhlrDy17ArbFEz1ArwI8Y/D0hd5XeFrjzvO+L8KEHyDwf6GAPQCO1kSMpk4bolrjlePe0woz74SiFabFDj08cjKzrAnYFk88A6SUUkS0xtOGqDFElaJOKzyliehLW96ZJY7/qlWBZ1puSEW07o0b5+6YMUlXqZ7Qo4q8DTLvZLNJAFcpIkYT1YaoDr0eLXt/vvwDIBe2wodqloDHE42pmDE7Gxxna4sbYZXR1KswoTkKHKU4lJ1KUd7xVYyvM6H0o0oTKf8+3/++CBM2gCWM/2si4LF4otfTek+LF002OQ6rjGFV2aMRFSa0T0tFRgoF5ryvw+TnqUrdL8tfLTw2y1sZenjkZLbmCHgi2dQjIq8kIxFixuBphadU6M2yV12jOHw2XLtRCtfosPZrPXe8pxSRcqjM3+VNB8KMtYNLnZ/0VSS0ZCEI9njG4CqNKUvdKDCEmdxoxVixODf5dbX+3Pu6Iv8yYQskv0CEKRtQFDlUcwQAvSiV0krN7c8XGqlUDDNK4eqwznvlltfTnxvvLDDwKIgwGdglj/+rJeDeipd8Gw4xAhEqgyUhfDzV7LrcGPUu8n5Uh+HhVWLf6AUXMGsFraAr6g28ve5LyVojIIkIgVh8sRTFEgj4CAGCvUAR32xqJOaYcu2vGB82Pq5SuAskv6Bc/1cZQ6vrdEeVXlISroaAQ5WJTNFaSlYoSjjB8UWwItjyaCtuDPc2N9PquuUQCKXvoYiYS5NfpfzlAkuD0Tha0RJxuj2lloyEqyGgH8CKzCmgIJaSWErCnAIqn5jR3J2Is86LlFvfivcVC407i1bI2YBGJ2yMtYKWiNtdr/XOmiDghdxEBui3QGCFgrUUrVAQoYhQQi7KCRXc5Ll8OerR6Bpcc2nnV8kfM9bS6l5cnY2CuDHb/7Lutp5a2Qv0CWTCRGgpWkuhHAoFkYtC4aKbqVARdUYTIARcrBiLUG80ayLuJTf0jMIotbMmCHghN5F1lNookLUIJbGhAsoklBBKNiThchAgQPDLqimVCVmoL6hglVE9L6fWpWpiN/jcxPkhDRusSNYXoWTDXFAQYbasAt8K1XwHrd5oTPhiVW1sh3+VPTekldpgRYZ8Cb1fUUEBoSRhPqgWjFI4SiVrhgCAXZ+dHYpovUGQA37Z+FkbqqBghWJQPRWIQMHKHTU3EHlibDT7+JnTG1Fs9EUypXIyLJRJ8G11KChXmyM1OxF6ZGT4gKPUnQGyq2glOytCQSyzQdgyXyvO+z7ZIKjqeGzJng6/nFqXHO+8/b2bT2RS8WIpfPDhaPRVPlzO+5Zjs4XsWb+09qenT2UvHyaLs2fJHoy888NNyVgslrr5Kz9mzVSOiX37mU2n8Uy4hV4MZgPLaMmnINL334yvqaGoUmpnc3MzHbfeyo33fR959lmyt3fd6Vvps3Jl29xAYMq3jJeCwVlkwwPDmf6aHIrOx46nnk5GIpHe9vZ22m5oJbCW06dP99/z6stDhG9xPA9wvKurm/C1lhSQ4IJXXALh0KxvswVrB3s+Pj5U01PhhYYmiUQi2dHRTiLRwJkzY5w9+9ne+QfddvRohZDrhiUJAWPMzra2NlavbsNxHD7JnBjasun+QWoQegnk3xOLxVIdHe00NSaZmJhgdPTMb6lRVJ0ArfUDra2ttLe3U1dXRyZzMlssFg+sCAJ2PPV0yvO8re3tq2ltbaFUKnFy+FT/lk33Z1eKAnobGxvp6OggHotx4sQwk5OTNSv/qhNgjLmlqbmJ1avbUFpxamRkcMum+zMrhgDXdbubGhsREd7/4Fg2l8v1UeOoKgGxWKy7ra2N6ek8/3r/g1293/vO0IohYMdTTyebm5uTzc1NHD167MDmH9z3PMsAuorx3712bYqTw6eyn42PP8gyQdUISCaTPQ0NDaTTxzc+tHVzdsURsH79bbcMD596/qGtmwdZRqgaAYVCMXvvd7/dxzJD1QiYzOV2sQyhVvp/j2tWOP4zALpvVRZ7s65VAAAAAElFTkSuQmCC",y.imageScale=1,y.imageColor=r.WHITE,y.drawLeaderLine=!0,y.leaderLineAttributes.outlineColor=r.RED;var v=new l(null);v.imageSource="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAACd1JREFUeNrkm01sXNUVx3/33vfmjT0Zz/gLxw4fk1BSY1XCLNqyqXCkLkrVFmdTRJuEUDYU2hCLFhEhEbJo6aI0FLW7ojibBHUBQQpfVamdqN2UUhwVEjQpMInjOCY4GXvssWfmvXu6eDMmcZw2TsZkXP+lWcz4fdzzP//zcc97ViLCSoaz2BOUUlW5cbqzKwn0AvcCyXl/zgBHgMH1Hx4dWsx1F+tQtegTqkBAurOrG3gFSOl4nMYHtpDcshkdj1903Mzf36GQTmdm3n33wNSbb+29EjIWrWgRWdSnSt4fSHd2SbqzS8b27ZcrweyxYzL+u98PpDu7eqpqzxdNwLZ4ortifLqzS/789oAsBsVTp+T09r6BdGdXqhoE6OuQd3pzQTD35Xz2/KJOdtesoX33b3padzz5Sbqza/u1LuZ6EHD3sXx+7svkK68yOnpm0RdJbtlM2y9/sTvd2bVnuRHQfWRqiooK7jx6lP0v7mHs07OLvlDDxl6af/Lo1nRn18ByIoCCtbw+Pk7RWlblp/nGG6/z6r6XGB8/t+hrNT36CO6aNT3pzq7dy4WAIYBzvs8b589TFCF57hx37d/HwJ69HPswje/7i2tm1nQAbL9cYqw1AvYCGKXIBj5/ymaZCALqJie548U/kNu9m38c/htnxsaw1v7Pi01NTzM7Pl75+ljNE/BCbqIfGBJAK8WMCH/NTXG8UMAXofHwYZp+/jOyv36O4feOMJWfIbgMEZO5HO+/9Efko4/n8suSt8JVwoOByIAVkqpMxEixxGRguSni0pLPYw6+RvHga5xdv576r32V2F1fx8QbAPCDgOl8nok336L54MFLwqvmW+FKQxTReqAhEknGjUPMGGJGU6c1q7SmyRhiWmOu8H65IOBT31/7rY//nan5KlAOhaGitf0TxSL5wMcXIRCwAoFA3lomA8ustYgCKp8Luz6gJMKZks8/8zP993zyUWa5hADb4okUsD0QYbJUwhdBe1FcpfARfAEXwReFFiGiVWi/Cg33rZAPLBNBwIliMTsVBH1fyHa4itgDENGaRCRCwnHI+yVmAp8WN4JyDFoJylpAIwK6rICSFQpWmLQBp4ul7IQfbOg7M5JdNgRsiyd6gR6jFJ7R1BlDwji0eFESWjNpfcZLJUaspcl1SWhDRCmUCiU/bS25wJILgsFc4Pc9MTY6dLVrca6D8Ulgd8X7dcahXhvqtKZeKxpcQ4d2oS48fqRY5MOZWcZKpV3q8ySQQTH45Nho5lrXcz0UsB1Ihd431JWNj2pFVGm8eVm/xXFpcPzMj0aGn1mKxejrkPgeU4CnNVFjqDOGOq2oVxpPK5x5BOStJW9lcKnW9EWXwd1A0iiF51zofU1UKaJGX1TpBJiylhlrDy17ArbFEz1ArwI8Y/D0hd5XeFrjzvO+L8KEHyDwf6GAPQCO1kSMpk4bolrjlePe0woz74SiFabFDj08cjKzrAnYFk88A6SUUkS0xtOGqDFElaJOKzyliehLW96ZJY7/qlWBZ1puSEW07o0b5+6YMUlXqZ7Qo4q8DTLvZLNJAFcpIkYT1YaoDr0eLXt/vvwDIBe2wodqloDHE42pmDE7Gxxna4sbYZXR1KswoTkKHKU4lJ1KUd7xVYyvM6H0o0oTKf8+3/++CBM2gCWM/2si4LF4otfTek+LF002OQ6rjGFV2aMRFSa0T0tFRgoF5ryvw+TnqUrdL8tfLTw2y1sZenjkZLbmCHgi2dQjIq8kIxFixuBphadU6M2yV12jOHw2XLtRCtfosPZrPXe8pxSRcqjM3+VNB8KMtYNLnZ/0VSS0ZCEI9njG4CqNKUvdKDCEmdxoxVixODf5dbX+3Pu6Iv8yYQskv0CEKRtQFDlUcwQAvSiV0krN7c8XGqlUDDNK4eqwznvlltfTnxvvLDDwKIgwGdglj/+rJeDeipd8Gw4xAhEqgyUhfDzV7LrcGPUu8n5Uh+HhVWLf6AUXMGsFraAr6g28ve5LyVojIIkIgVh8sRTFEgj4CAGCvUAR32xqJOaYcu2vGB82Pq5SuAskv6Bc/1cZQ6vrdEeVXlISroaAQ5WJTNFaSlYoSjjB8UWwItjyaCtuDPc2N9PquuUQCKXvoYiYS5NfpfzlAkuD0Tha0RJxuj2lloyEqyGgH8CKzCmgIJaSWErCnAIqn5jR3J2Is86LlFvfivcVC407i1bI2YBGJ2yMtYKWiNtdr/XOmiDghdxEBui3QGCFgrUUrVAQoYhQQi7KCRXc5Ll8OerR6Bpcc2nnV8kfM9bS6l5cnY2CuDHb/7Lutp5a2Qv0CWTCRGgpWkuhHAoFkYtC4aKbqVARdUYTIARcrBiLUG80ayLuJTf0jMIotbMmCHghN5F1lNookLUIJbGhAsoklBBKNiThchAgQPDLqimVCVmoL6hglVE9L6fWpWpiN/jcxPkhDRusSNYXoWTDXFAQYbasAt8K1XwHrd5oTPhiVW1sh3+VPTekldpgRYZ8Cb1fUUEBoSRhPqgWjFI4SiVrhgCAXZ+dHYpovUGQA37Z+FkbqqBghWJQPRWIQMHKHTU3EHlibDT7+JnTG1Fs9EUypXIyLJRJ8G11KChXmyM1OxF6ZGT4gKPUnQGyq2glOytCQSyzQdgyXyvO+z7ZIKjqeGzJng6/nFqXHO+8/b2bT2RS8WIpfPDhaPRVPlzO+5Zjs4XsWb+09qenT2UvHyaLs2fJHoy888NNyVgslrr5Kz9mzVSOiX37mU2n8Uy4hV4MZgPLaMmnINL334yvqaGoUmpnc3MzHbfeyo33fR959lmyt3fd6Vvps3Jl29xAYMq3jJeCwVlkwwPDmf6aHIrOx46nnk5GIpHe9vZ22m5oJbCW06dP99/z6stDhG9xPA9wvKurm/C1lhSQ4IJXXALh0KxvswVrB3s+Pj5U01PhhYYmiUQi2dHRTiLRwJkzY5w9+9ne+QfddvRohZDrhiUJAWPMzra2NlavbsNxHD7JnBjasun+QWoQegnk3xOLxVIdHe00NSaZmJhgdPTMb6lRVJ0ArfUDra2ttLe3U1dXRyZzMlssFg+sCAJ2PPV0yvO8re3tq2ltbaFUKnFy+FT/lk33Z1eKAnobGxvp6OggHotx4sQwk5OTNSv/qhNgjLmlqbmJ1avbUFpxamRkcMum+zMrhgDXdbubGhsREd7/4Fg2l8v1UeOoKgGxWKy7ra2N6ek8/3r/g1293/vO0IohYMdTTyebm5uTzc1NHD167MDmH9z3PMsAuorx3712bYqTw6eyn42PP8gyQdUISCaTPQ0NDaTTxzc+tHVzdsURsH79bbcMD596/qGtmwdZRqgaAYVCMXvvd7/dxzJD1QiYzOV2sQyhVvp/j2tWOP4zALpvVRZ7s65VAAAAAElFTkSuQmCC",v.imageScale=1,v.imageColor=r.RED,this._shape.attributes=y,this._shape.highlightAttributes=v}else this._shape.attributes=g,this._shape.highlightAttributes=m;else null==this.creatorShapeProperties.boundaries&&(this.creatorShapeProperties.boundaries=[]),this.creatorShapeProperties.boundaries.length<2&&(this.creatorShapeProperties.boundaries.push(new a(u.position.latitude,u.position.longitude)),this.creatorShapeProperties.boundaries.push(new a(u.position.latitude,u.position.longitude)),this._shape=this.editorFragments[4].createShadowShape(this.creatorShapeProperties),this._shape.attributes=g,this._shape.highlightAttributes=m);this._shape.highlighted=!0,this.initializeControlElements(),this.beginAction(u.position,this._allowManageControlPoint,this.controlPointsLayer.renderables[0]),t.preventDefault()}}else{var b=d.userObject;if(b===this._shape){this.beginAction(u.position,this._allowManageControlPoint),t.preventDefault();break}if(-1!==this.controlPointsLayer.renderables.indexOf(b)){this.beginAction(u.position,this._allowManageControlPoint,b),t.preventDefault();break}if(-1!==this.shadowControlPointsLayer.renderables.indexOf(b)){this.beginAction(u.position,this._allowManageControlPoint,b),"shadow"==this.actionType&&this._allowManageControlPoint&&(this.activeEditorFragment.convertShadowControlPoint(this._shape,this._worldWindow.globe,b.userProperties.index,u.position),this.updateControlElements()),t.preventDefault();break}}}},T.prototype.handleMouseMove=function(t){var e=this._highlightedItems.length>0,n=this._worldWindow.canvasCoordinates(t.clientX,t.clientY);this._click0Time&&!this._click1Time&&(this._clicked1X=t.clientX,this._clicked1Y=t.clientY),this._clicked0X===this._clicked1X&&this._clicked0Y===this._clicked1Y||(clearTimeout(this._dbclickTimeout),this._click0Time=0,this._click1Time=0);for(var r=0;r<this._highlightedItems.length;r++)this._highlightedItems[r].highlighted=!1;this._highlightedItems=[];var i=this._worldWindow.pick(this._worldWindow.canvasCoordinates(t.clientX,t.clientY));if(i.objects.length>0&&(e=!0),i.objects.length>0)for(var o=0;o<i.objects.length;o++)!i.objects[o].isTerrain&&i.objects[o].userObject.userProperties.purpose&&(i.objects[o].userObject.highlighted=!0,this._highlightedItems.push(i.objects[o].userObject));if(e&&this._worldWindow.redraw(),this.actionType&&null!==this._shape){var a=this._worldWindow.pickTerrain(n).terrainObject();a&&(this.actionType===d.DRAG?this._allowMove?this.drag(t.clientX,t.clientY):s.logMessage(s.LEVEL_INFO,"ShapeEditor","handleMouseMove","Disabled action for selected shape."):this._allowReshape||this._allowRotate?(this.actionSecondaryBehavior=!1,this.actionControlPoint.highlighted=!0,this.reshape(a.position)):s.logMessage(s.LEVEL_INFO,"ShapeEditor","handleMouseMove","Disabled action for selected shape."),t.preventDefault())}},T.prototype.handleMouseUp=function(t){var e=this._worldWindow.canvasCoordinates(t.clientX,t.clientY),n=this._worldWindow.pickTerrain(e).terrainObject();if(this.isCreatorEnabled()&&null!==this.activeEditorFragment&&null!==this._shape)if(this.activeEditorFragment.isRegularShape())this.setCreatorEnabled(!1),this.promisedShape.resolve(this._shape);else{if(this.activeEditorFragment.createNewVertex(this._shape,this._worldWindow.globe,n.position),this.activeEditorFragment instanceof E){this.updateControlElements();var i=this.controlPointsLayer.renderables.length-1;this.actionControlPoint=this.controlPointsLayer.renderables[i]}if(this.activeEditorFragment instanceof b&&this._shape instanceof v&&3===this._shape.boundaries.length){var o=new p(null);o.outlineColor=r.BLACK,o.interiorColor=new r(.8,.9,.9,1),o.outlineWidth=5;var a=new p(o);a.outlineColor=r.RED,a.outlineWidth=5,this._shape=this.activeEditorFragment.createShadowShape(this._shape),this._shape.attributes=o,this._shape.highlightAttributes=a,this._shape.highlighted=!0,this.initializeControlElements(),this.beginAction(n.position,this._allowManageControlPoint,this.controlPointsLayer.renderables[0])}this.updateControlElements(),this.updateAnnotation(this.actionControlPoint),this._worldWindow.redraw()}if(this.actionType){if(this._click0Time&&this._click1Time){if(this._click1Time<=this._clickDelay&&this.actionControlPoint&&"location"==this.actionType&&n&&this._allowManageControlPoint){if(this.isCreatorEnabled()&&null!==this.activeEditorFragment){this.activeEditorFragment instanceof E?this._shape.boundaries<2?this._shape=null:(this._shape.boundaries.splice(-2,2),this._shape.boundaries.shift(),this.controlPointsLayer.renderables.pop(),this.updateControlElements(),this.updateAnnotation(this.actionControlPoint),this._worldWindow.redraw()):this.activeEditorFragment instanceof b?this._shape.boundaries<3?this._shape=null:(this._shape.boundaries.pop(),this._shape.boundaries.shift(),this.controlPointsLayer.renderables.pop(),this.updateControlElements(),this.updateAnnotation(this.actionControlPoint),this._worldWindow.redraw()):this._shape=null;var s=this;this.promisedShape.resolve(this._shape),this.promisedShape.then((function(t){s.setCreatorEnabled(!1),s.endAction()})).finally((function(){s.stop()}))}this.actionSecondaryBehavior=!0,this.reshape(n.position)}clearTimeout(this._dbclickTimeout),this._click0Time=0,this._click1Time=0}this.isCreatorEnabled()||null===this.activeEditorFragment||this.endAction()}},T.prototype.beginAction=function(t,e,n){this.actionType=n?n.userProperties.purpose:d.DRAG,this.actionControlPoint=n,this.actionControlPosition=t,this.actionSecondaryBehavior=e;var r=null;this.isCreatorEnabled()&&this.creatorShapeLayer.addRenderable(this._shape),this.activeEditorFragment instanceof c?(this.originalHighlightAttributes=null,this.originalPlacemarkHighlightAttributes=this._shape.highlightAttributes,(r=new l(this.originalPlacemarkHighlightAttributes)).imageColor.alpha=.7*r.imageColor.alpha):(this.originalHighlightAttributes=this._shape.highlightAttributes,this.originalPlacemarkHighlightAttributes=null,(r=new p(this.originalHighlightAttributes)).interiorColor.alpha=.7*r.interiorColor.alpha,r.outlineColor.alpha=.7*r.outlineColor.alpha),this._shape.highlightAttributes=r;var i=this.activeEditorFragment.createShadowShape(this._shape);this.activeEditorFragment instanceof c?(i.altitudeMode=WorldWind.CLAMP_TO_GROUND,i.highlightAttributes=new l(this.originalPlacemarkHighlightAttributes)):i.highlightAttributes=new p(this.originalHighlightAttributes),i.highlighted=!0,this.shadowShapeLayer.addRenderable(i),this._worldWindow.redraw()},T.prototype.endAction=function(){this.creatorShapeLayer.removeAllRenderables(),this.shadowShapeLayer.removeAllRenderables(),this.activeEditorFragment instanceof c?this._shape.highlightAttributes=this.originalPlacemarkHighlightAttributes:this._shape.highlightAttributes=this.originalHighlightAttributes,this.hideAnnotation(),this.actionControlPoint&&(this.actionControlPoint.highlighted=!1),this.actionControlPoint=null,this.actionType=null,this.actionControlPosition=null,this._worldWindow.redraw()},T.prototype.reshape=function(t){var e=this.actionControlPoint.userProperties.purpose;(e===d.ROTATION&&this._allowRotate||e!==d.ROTATION&&this._allowReshape||e===d.LOCATION&&this._allowManageControlPoint&&this.actionSecondaryBehavior||e===d.SHADOW&&this._allowManageControlPoint&&this.actionSecondaryBehavior)&&(this.activeEditorFragment.reshape(this._shape,this._worldWindow.globe,this.actionControlPoint,t,this.actionControlPosition,this.actionSecondaryBehavior),this.actionControlPosition=t,this.updateControlElements(),this.updateAnnotation(this.actionControlPoint),this._worldWindow.redraw())},T.prototype.drag=function(t,e){var n=this._shape.getReferencePosition(),r=this._worldWindow.globe.computePointFromPosition(n.latitude,n.longitude,0,new x(0,0,0)),i=new x(0,0,0);this._worldWindow.drawContext.project(r,i);var o=t-this.actionCurrentX,s=e-this.actionCurrentY;this.actionCurrentX=t,this.actionCurrentY=e;var u=i[0]+o,l=this._worldWindow.canvas.height-i[1]+s,c=this._worldWindow.rayThroughScreenPoint(new S(u,l)),f=new x(0,0,0);if(this._worldWindow.globe.intersectsLine(c,f)){var p=new h(0,0,0);this._worldWindow.globe.computePositionFromPoint(f[0],f[1],f[2],p),this._shape.moveTo(this._worldWindow.globe,new a(p.latitude,p.longitude))}this.updateControlElements(),this.updateShapeAnnotation(),this._worldWindow.redraw()},T.prototype.updateAnnotation=function(t){var e;this.annotationLayer.enabled=!0,this.annotation.position=new h(t.position.latitude,t.position.longitude,0),e=void 0!==t.userProperties.size?this.formatLength(t.userProperties.size):void 0!==t.userProperties.rotation?this.formatRotation(t.userProperties.rotation):this.formatLatitude(t.position.latitude)+" "+this.formatLongitude(t.position.longitude),this.annotation.text=e},T.prototype.hideAnnotation=function(t){this.annotationLayer.enabled=!1},T.prototype.updateShapeAnnotation=function(){var t=this.activeEditorFragment.getShapeCenter(this._shape,this._worldWindow.globe),e=new u(new h(t.latitude,t.longitude,0),null);this.updateAnnotation(e)},T.prototype.formatLatitude=function(t){var e=t<0?"\xb0S":"\xb0N";return Math.abs(t).toFixed(4)+e},T.prototype.formatLongitude=function(t){var e=t<0?"\xb0W":"\xb0E";return Math.abs(t).toFixed(4)+e},T.prototype.formatLength=function(t){return Math.abs(t/1e3).toFixed(3)+" km"},T.prototype.formatRotation=function(t){return t.toFixed(4)+"\xb0"},T})),i("util/ByteBuffer",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function n(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"ByteBuffer","constructor","missingArray"));this.array=r,this.data=new DataView(r),this.position=0,this._order=n.LITTLE_ENDIAN};return n.prototype.getByte=function(){var t=this.data.getUint8(this.position);return this.position+=n.BYTE_SIZE,t},n.prototype.getByteArray=function(t){var e=new Uint8Array(this.array,this.position,t);return this.position+=n.BYTE_SIZE*t,e},n.prototype.getInt16=function(){var t=this.data.getInt16(this.position,this._order);return this.position+=n.INT16_SIZE,t},n.prototype.getInt16Array=function(t){var e=new Int16Array(this.array,this.position,t);return this.position+=n.INT16_SIZE*t,e},n.prototype.getInt32=function(){var t=this.data.getInt32(this.position,this._order);return this.position+=n.INT32_SIZE,t},n.prototype.getInt32Array=function(t){var e=new Int32Array(this.array,this.position,t);return this.position+=n.INT32_SIZE*t,e},n.prototype.getFloat=function(){var t=this.data.getFloat32(this.position,this._order);return this.position+=n.FLOAT_SIZE,t},n.prototype.getFloatArray=function(t){var e=new Float32Array(this.array,this.position,t);return this.position+=n.FLOAT_SIZE*t,e},n.prototype.getDouble=function(){var t=this.data.getFloat64(this.position,this._order);return this.position+=n.DOUBLE_SIZE,t},n.prototype.getDoubleArray=function(t){var e;if(this.position%8!=0){var r=this.array.slice(this.position,this.position+t*n.DOUBLE_SIZE);e=new Float64Array(r)}else e=new Float64Array(this.array,this.position,t);return this.position+=n.DOUBLE_SIZE*t,e},n.prototype.skipBytes=function(t){this.position+=t*n.BYTE_SIZE},n.prototype.skipInt16s=function(t){this.position+=t*n.INT16_SIZE},n.prototype.skipInt32s=function(t){this.position+=t*n.INT32_SIZE},n.prototype.skipFloats=function(t){this.position+=t*n.FLOAT_SIZE},n.prototype.skipDoubles=function(t){this.position+=t*n.DOUBLE_SIZE},n.prototype.seek=function(t){this.position=t},n.prototype.order=function(t){this._order=t},n.prototype.limit=function(){return this.data.byteLength},n.prototype.hasRemaining=function(){return this.position<this.data.byteLength},n.BIG_ENDIAN=!1,n.LITTLE_ENDIAN=!0,n.BYTE_SIZE=1,n.INT16_SIZE=2,n.INT32_SIZE=4,n.FLOAT_SIZE=4,n.DOUBLE_SIZE=8,n})),i("formats/shapefile/DBaseField",["../../error/ArgumentError","../../util/ByteBuffer","../../formats/shapefile/DBaseFile","../../util/Logger"],(function(t,e,n,r){"use strict";var i=function(e,n){if(!e)throw new t(r.logMessage(r.LEVEL_SEVERE,"DBaseField","constructor","missingAttributeName"));if(!n)throw new t(r.logMessage(r.LEVEL_SEVERE,"DBaseField","constructor","missingBuffer"));this.name=null,this.type=null,this.typeCode=-1,this.length=-1,this.decimals=-1,this.readFieldDescriptor(e,n)};return i.prototype.getName=function(){return this.name},i.prototype.getType=function(){return this.type},i.prototype.getLength=function(){return this.length},i.prototype.getDecimals=function(){return this.decimals},i.prototype.readFieldDescriptor=function(t,n){n.order(e.LITTLE_ENDIAN);var o=n.position;if(this.name=t.readNullTerminatedString(n,i.FIELD_NAME_LENGTH),n.seek(o+i.FIELD_NAME_LENGTH),this.typeCode=String.fromCharCode(n.getByte()),this.type=i.getFieldType(this.typeCode),null==this.type)throw new Error(r.log(r.LEVEL_SEVERE,"Shapefile dBase encountered unsupported field type: "+this.typeCode));n.skipBytes(4),this.length=n.getByte(),this.decimals=n.getByte(),n.seek(o+i.FIELD_DESCRIPTOR_LENGTH)},i.getFieldType=function(t){switch(t){case"C":return i.TYPE_CHAR;case"D":return i.TYPE_DATE;case"F":return i.TYPE_NUMBER;case"L":return i.TYPE_BOOLEAN;case"N":return i.TYPE_NUMBER;default:return null}},i.prototype.toString=function(){return this.name+"("+this.typeCode+")"},i.TYPE_CHAR="DBase.FieldTypeChar",i.TYPE_NUMBER="DBase.FieldTypeNumber",i.TYPE_DATE="DBase.FieldTypeDate",i.TYPE_BOOLEAN="DBase.FieldTypeBoolean",i.FIELD_NAME_LENGTH=11,i.FIELD_DESCRIPTOR_LENGTH=32,i})),i("formats/shapefile/DBaseRecord",["../../error/ArgumentError","../../util/ByteBuffer","../../formats/shapefile/DBaseField","../../formats/shapefile/DBaseFile","../../util/Logger"],(function(t,e,n,r,i){"use strict";var o=function(e,n,r){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"DBaseRecord","constructor","missingAttributeName"));if(!n)throw new t(i.logMessage(i.LEVEL_SEVERE,"DBaseRecord","constructor","missingBuffer"));this.deleted=!1,this.recordNumber=r,this.values=null,this.readFromBuffer(e,n,r)};return o.prototype.isDeleted=function(){return this.deleted},o.prototype.getRecordNumber=function(){return this.recordNumber},o.prototype.readFromBuffer=function(t,r,o){r.order(e.LITTLE_ENDIAN),this.recordNumber=o;var a=r.getByte();this.deleted=42==a;var s=t.getFields();this.values={};for(var u=0,l=s.length;u<l;u+=1){var c=s[u],h=c.getName(),f=t.readNullTerminatedString(r,c.getLength()).trim();try{if(c.getType()==n.TYPE_BOOLEAN){var p=f.charAt(0);this.values[h]="t"==p||"T"==p||"Y"==p||"y"==p}else c.getType()==n.TYPE_CHAR?this.values[h]=f:c.getType()==n.TYPE_DATE?this.values[h]=new Date(f):c.getType()==n.TYPE_NUMBER&&(this.values[h]=+f)}catch(t){i.log(i.LEVEL_WARNING,"Shapefile attribute parsing error:"+c.toString()+" -> "+f.toString()+" ["+t+"]")}}},o})),i("formats/shapefile/DBaseFile",["../../error/ArgumentError","../../util/ByteBuffer","../../formats/shapefile/DBaseField","../../formats/shapefile/DBaseRecord","../../util/Logger"],(function(t,e,n,r,i){"use strict";var o=function(e){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"DBaseFile","constructor","missingUrl"));this.url=e,this.header=null,this.fields=null,this.buffer=null,this.boolean=!0,this.numRecordsRead=0,this._completionCallback=null};return o.prototype.getLastModificationDate=function(){return this.header.lastModificationDate},o.prototype.getNumberOfRecords=function(){return this.header.numberOfRecords},o.prototype.getHeaderLength=function(){return this.header.headerLength},o.prototype.getRecordLength=function(){return this.header.recordLength},o.prototype.getNumberOfFields=function(){return(this.header.headerLength-1-o.FIXED_HEADER_LENGTH)/o.FIELD_DESCRIPTOR_LENGTH},o.prototype.getFields=function(){return this.fields},o.prototype.hasNext=function(){return this.numRecordsRead<this.header.numberOfRecords},o.prototype.nextRecord=function(){return this.numRecordsRead>=this.getNumberOfRecords()?null:this.readNextRecord(this._buffer,++this.numRecordsRead)},o.prototype.load=function(t){this._completionCallback=t,this.requestUrl(this.url)},o.prototype.requestUrl=function(t){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onreadystatechange=function(){4===n.readyState&&(200===n.status?(this._buffer=new e(n.response),this.parse(),this._completionCallback&&this._completionCallback(this)):(i.log(i.LEVEL_WARNING,"DBaseFile retrieval failed ("+n.statusText+"): "+t),this._completionCallback&&this._completionCallback(this)))}.bind(this),n.onerror=function(){i.log(i.LEVEL_WARNING,"DBaseFile retrieval failed: "+t),this._completionCallback&&this._completionCallback(this)},n.ontimeout=function(){i.log(i.LEVEL_WARNING,"DBaseFile retrieval timed out: "+t),this._completionCallback&&this._completionCallback(this)},n.send(null)},o.prototype.parse=function(){this.header=this.readHeader(this._buffer),this.fields=this.readFieldDescriptors(this._buffer,this.getNumberOfFields())},o.prototype.readHeader=function(t){var n=t.position;t.order(e.LITTLE_ENDIAN);var r=t.getByte();if(r>5)throw new Error("???");var i={fileCode:r,lastModificationDate:{year:1900+t.getByte(),month:t.getByte()-1,day:t.getByte()},numberOfRecords:t.getInt32(),headerLength:t.getInt16(),recordLength:t.getInt16()};return t.seek(n+o.FIXED_HEADER_LENGTH),i},o.prototype.readFieldDescriptors=function(t,e){for(var r=t.position,i=[],a=0;a<e;a+=1)i[a]=new n(this,t);var s=this.header.headerLength-o.FIXED_HEADER_LENGTH;return t.seek(r+s),i},o.prototype.readNextRecord=function(t,e){return new r(this,t,e)},o.prototype.readNullTerminatedString=function(t,e){if(e<=0)return 0;for(var n="",r=0;r<e;r+=1){var i=t.getByte();if(0==i)break;n+=String.fromCharCode(i)}return this.isStringEmpty(n)?"":n},o.prototype.isStringEmpty=function(t){return t.length<=0||o.isStringFilled(t,32)||o.isStringFilled(t,42)},o.isStringFilled=function(t,e){if(t.length<=0)return!1;for(var n=0;n<t.length;n++)if(t.charAt(n)!=e)return!1;return!0},o.FIXED_HEADER_LENGTH=32,o.FIELD_DESCRIPTOR_LENGTH=32,o})),i("formats/shapefile/PrjFile",["../../error/ArgumentError","../../util/Logger","../../error/NotYetImplementedError"],(function(t,e,n){"use strict";var r=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"DBaseFile","constructor","missingUrl"));this._url=n,this._completionCallback=null,this._params=null};return Object.defineProperties(r.prototype,{url:{get:function(){return this._url}},coordinateSystem:{get:function(){return this.params?this.params[r.COORDINATE_SYSTEM]:null}},params:{get:function(){return this._params}}}),r.prototype.load=function(t){this._completionCallback=t,this.requestUrl(this._url)},r.prototype.requestUrl=function(t){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status){var r=String.fromCharCode.apply(null,new Uint8Array(n.response));this._params=this.decodeOGCCoordinateSystem(r)}else e.log(e.LEVEL_WARNING,"PrjFile retrieval failed ("+n.statusText+"): "+t);this._completionCallback&&this._completionCallback(this)}}.bind(this),n.onerror=function(){e.log(e.LEVEL_WARNING,"PrjFile retrieval failed: "+t),this._completionCallback&&this._completionCallback(this)}.bind(this),n.ontimeout=function(){e.log(e.LEVEL_WARNING,"PrjFile retrieval timed out: "+t),this._completionCallback&&this._completionCallback(this)}.bind(this),n.send(null)},r.prototype.decodeOGCCoordinateSystem=function(i){i||new t(e.logMessage(e.LEVEL_SEVERE,"PrjFile","decodeOGCCoordinateSystem","missingText"));var o={};if(i=i.trim().toUpperCase(),r.GEOGCS_WKT_PATTERN.test(i))o[r.COORDINATE_SYSTEM]=r.COORDINATE_SYSTEM_GEOGRAPHIC;else{if(i.match(r.PROJCS_WKT_PATTERN))throw o[PrfFile.COORDINATE_SYSTEM]=r.COORDINATE_SYSTEM_PROJECTED,new n(e.log(e.LEVEL_SEVERE,"PrjFile implementation  for projected coordinate systems in incomplete."));o[r.COORDINATE_SYSTEM]=r.COORDINATE_SYSTEM_UNKNOWN}return o},r.prototype.isUnknownCoordinateSystem=function(){return!this.params||this.params.coordinateSystem===r.COORDINATE_SYSTEM_UNKNOWN},r.prototype.isKnownCoordinateSystem=function(){return!!this.params&&this.params.coordinateSystem!==r.COORDINATE_SYSTEM_UNKNOWN},r.prototype.isGeographicCoordinateSystem=function(){return!!this.params&&this.params.coordinateSystem===r.COORDINATE_SYSTEM_GEOGRAPHIC},r.prototype.isProjectedCoordinateSystem=function(){return!!this.params&&this.params.coordinateSystem===r.COORDINATE_SYSTEM_PROJECTED},r.GEOGCS_WKT_PATTERN=new RegExp("\\{*GEOGCS[\\[\\(](.*)[\\]\\)]\\}*"),r.PROJCS_WKT_PATTERN=new RegExp("\\{*PROJCS[\\[\\(](.*)[\\]\\)]\\}*"),r.UTM_NAME_WKT_PATTERN=new RegExp(".*UTM.*ZONE.*?(\\d+).*?([\\w\\s]+).*?"),r.COORDINATE_SYSTEM="Coordinate_system",r.COORDINATE_SYSTEM_GEOGRAPHIC="Coordinate_system_geographic",r.COORDINATE_SYSTEM_PROJECTED="Coordinate_system_projected",r.COORDINATE_SYSTEM_UNKNOWN="Coordinate_system_unknown",r.PROJECTION_NAME="Projection_name",r.PROJECTION_UTM="Projection_UTM",r.PROJECTION_ZONE="Projection_zone",r.PROJECTION_HEMISPHERE="Projection_hemisphere",r.PROJECTION_HEMISPHERE_NORTH="Projection_hemisphere_north",r.PROJECTION_HEMISPHERE_SOUTH="Projection_hemisphere_south",r})),i("formats/shapefile/ShapefileRecord",["../../geom/Angle","../../error/ArgumentError","../../util/ByteBuffer","../../geom/Location","../../util/Logger","../../formats/shapefile/Shapefile"],(function(t,e,n,r,i,o){"use strict";var a=function(t,n){if(!t)throw new e(i.logMessage(i.LEVEL_SEVERE,"ShapefileRecord","constructor","The specified shapefile is null or undefined"));if(!n)throw new e(i.logMessage(i.LEVEL_SEVERE,"ShapefileRecord","constructor","The specified buffer is null or undefined"));this._shapefile=t,this._recordNumber=-1,this._attributes={},this._numberOfParts=0,this._firstPartNumber=0,this._lastPartNumber=0,this._numberOfPoints=0,this._boundingRectangle=[],this._zRange=null,this._zValues=null,this._mRange=null,this._mValues=null,this._contentLengthInBytes=-1,this._buffer=n,this._isNormalized=!1,this._parts=[],this.readRecord()};return Object.defineProperties(a.prototype,{shapefile:{get:function(){return this._shapefile}},recordNumber:{get:function(){return this._recordNumber}},attributes:{get:function(){return this._attributes}},numberOfParts:{get:function(){return this._numberOfParts}},firstPartNumber:{get:function(){return this._firstPartNumber}},lastPartNumber:{get:function(){return this._lastPartNumber}},numberOfPoints:{get:function(){return this._numberOfPoints}},boundingRectangle:{get:function(){return this._boundingRectangle}},zRange:{get:function(){return this._zRange}},zValues:{get:function(){return this._zValues}},mRange:{get:function(){return this._mRange}},mValues:{get:function(){return this._mValues}}}),a.prototype.pointBuffer=function(t){return t>=0&&t<this._parts.length?this._parts[t]:null},a.prototype.readRecord=function(){this.readHeader(),this._buffer.order(n.LITTLE_ENDIAN);var t=this._buffer.getInt32(),e=this.shapefile.getShapeType(t);this.validateShapeType(e),this.readContents()},a.prototype.readHeader=function(){this._buffer.order(n.BIG_ENDIAN),this._recordNumber=this._buffer.getInt32(),this._contentLengthInBytes=2*this._buffer.getInt32()},a.prototype.validateShapeType=function(t){if(t!==this.shapefile.NULL&&t!==this.shapefile.shapeType)throw new Error(i.log(i.LEVEL_SEVERE,"Shapefile record is not supported."))},a.prototype.readNullContents=function(){this._numberOfParts=0,this._numberOfPoints=0,this._parts=null,this._boundingRectangle=null,this._buffer.seek(this._contentLengthInBytes-n.INT32_SIZE)},a.prototype.readPointContents=function(){this._numberOfParts=1,this._firstPartNumber=0,this._lastPartNumber=this._numberOfParts-1,this._numberOfPoints=1,this._parts=[this._buffer.getDoubleArray(2)];var t=this._parts[0][1],e=this._parts[0][0];this._boundingRectangle=[t,t,e,e],this.isZType()&&this.readZ(!0),this.isMeasureType()&&this.readOptionalMeasures(!0)},a.prototype.readPolylineContents=function(){var t=this.shapefile.readBoundingRectangle(this._buffer);if(this._boundingRectangle=t.coords,this._isNormalized=t.isNormalized,this._numberOfParts=this._buffer.getInt32(),this._firstPartNumber=0,this._lastPartNumber=this._numberOfParts-1,this._numberOfPoints=this._buffer.getInt32(),this._numberOfParts>0&&this._numberOfPoints>0)for(var e=this._buffer.getInt32Array(this.numberOfParts),n=0;n<this.numberOfParts;n+=1){var r=n==this.numberOfParts-1?this._numberOfPoints-e[n]:e[n+1]-e[n];this._parts[n]=this._buffer.getDoubleArray(2*r),a.normalizeLocations(this._parts[n])}this.isZType()&&this.readZ(!1),this.isMeasureType()&&this.readOptionalMeasures(!1)},a.prototype.readMultiPointContents=function(){var t=this.shapefile.readBoundingRectangle(this._buffer);this._boundingRectangle=t.coords,this._isNormalized=t.isNormalized,this._numberOfParts=1,this._numberOfPoints=this._buffer.getInt32(),this._parts=[this._buffer.getDoubleArray(2*this._numberOfPoints)],a.normalizeLocations(this._parts[0]),this.isZType()&&this.readZ(!1),this.isMeasureType()&&this.readOptionalMeasures(!1)},a.prototype.readZ=function(t){if(t){this._zValues=this._buffer.getDoubleArray(1);var e=this._zValues[0];this._zRange=[e,e]}else this._zRange=this._buffer.getDoubleArray(2),this._zValues=this._buffer.getDoubleArray(this.numberOfPoints)},a.prototype.readOptionalMeasures=function(t){if(this._buffer.hasRemaining()&&this._buffer.limit()-this._buffer.position>=8*this.numberOfPoints)if(t){this._mValues=this._buffer.getDoubleArray(1);var e=this._mValues[0];this._mRange=[e,e]}else this._mRange=this._buffer.getDoubleArray(2),this._mValues=this._buffer.getDoubleArray(this.numberOfPoints)},a.normalizeLocations=function(e){for(var n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];e[n]=t.normalizedDegreesLongitude(i),e[n+1]=t.normalizedDegreesLatitude(o)}},a.prototype.isPointType=function(){return this.shapefile.isPointType()},a.prototype.isMultiPointType=function(){return this.shapefile.isMultiPointType()},a.prototype.isPolylineType=function(){return this.shapefile.isPolylineType()},a.prototype.isPolygonType=function(){return this.shapefile.isPolygonType()},a.prototype.isZType=function(){return this.shapefile.isZType()},a.prototype.isMeasureType=function(){return this.shapefile.isMeasureType()},a.prototype.setAttributes=function(t){this._attributes=t},a.RECORD_HEADER_LENGTH=8,a})),i("formats/shapefile/ShapefileRecordMultiPoint",["../../util/ByteBuffer","../../formats/shapefile/Shapefile","../../formats/shapefile/ShapefileRecord"],(function(t,e,n){"use strict";var r=function(t,e){n.call(this,t,e)};return(r.prototype=Object.create(n.prototype)).readContents=function(){this.readMultiPointContents()},r})),i("formats/shapefile/ShapefileRecordNull",["../../formats/shapefile/Shapefile","../../formats/shapefile/ShapefileRecord"],(function(t,e){"use strict";var n=function(t,n){e.call(this,t,n)};return(n.prototype=Object.create(e.prototype)).readContents=function(){this.readNullContents()},n})),i("formats/shapefile/ShapefileRecordPoint",["../../formats/shapefile/Shapefile","../../formats/shapefile/ShapefileRecord"],(function(t,e){"use strict";var n=function(t,n){e.call(this,t,n)};return(n.prototype=Object.create(e.prototype)).readContents=function(){this.readPointContents()},n})),i("formats/shapefile/ShapefileRecordPolygon",["../../formats/shapefile/Shapefile","../../formats/shapefile/ShapefileRecord"],(function(t,e){"use strict";var n=function(t,n){e.call(this,t,n)};return(n.prototype=Object.create(e.prototype)).readContents=function(){this.readPolylineContents()},n})),i("formats/shapefile/ShapefileRecordPolyline",["../../formats/shapefile/Shapefile","../../formats/shapefile/ShapefileRecord"],(function(t,e){"use strict";var n=function(t,n){e.call(this,t,n)};return(n.prototype=Object.create(e.prototype)).readContents=function(){this.readPolylineContents()},n})),i("formats/shapefile/Shapefile",["../../geom/Angle","../../error/ArgumentError","../../util/ByteBuffer","../../util/Color","../../formats/shapefile/DBaseFile","../../geom/Location","../../util/Logger","../../error/NotYetImplementedError","../../shapes/Path","../../shapes/Placemark","../../shapes/PlacemarkAttributes","../../shapes/Polygon","../../geom/Position","../../formats/shapefile/PrjFile","../../layer/RenderableLayer","../../shapes/ShapeAttributes","../../formats/shapefile/ShapefileRecord","../../formats/shapefile/ShapefileRecordMultiPoint","../../formats/shapefile/ShapefileRecordNull","../../formats/shapefile/ShapefileRecordPoint","../../formats/shapefile/ShapefileRecordPolygon","../../formats/shapefile/ShapefileRecordPolyline","../../shapes/SurfacePolygon","../../shapes/SurfacePolyline"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w,S){"use strict";var x=function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Shapefile","constructor","missingUrl"));this._url=t,this._shapeType=null,this._layer=null,this._shapeConfigurationCallback=this.defaultShapeConfigurationCallback,this._parserCompletionCallback=this.defaultParserCompletionCallback,this._buffer=null,this.attributeFile=new i(t.replace(".shp",".dbf")),this.projectionFile=new p(t.replace(".shp",".prj")),this.defaultPlacemarkAttributes=new c(null),this.defaultShapeAttributes=new g(null)};return Object.defineProperties(x.prototype,{url:{get:function(){return this._url}},shapeType:{get:function(){return this._shapeType}},layer:{get:function(){return this._layer}},parserCompletionCallback:{get:function(){return this._parserCompletionCallback}},shapeConfigurationCallback:{get:function(){return this._shapeConfigurationCallback}}}),x.prototype.load=function(t,e,n){t&&(this._parserCompletionCallback=t),e&&(this._shapeConfigurationCallback=e),this._layer=n||new d;var r=function(){var t=function(){this.requestUrl(this.url)}.bind(this);this.attributeFile.load(t)}.bind(this);this.projectionFile.load(r)},x.prototype.defaultParserCompletionCallback=function(t){this.addRenderablesForShapefile(this.layer)},x.prototype.defaultShapeConfigurationCallback=function(t,e){var n={},r=t.values.name||t.values.Name||t.values.NAME;if(r&&(n.name=r),e.isPointType())n.attributes=this.defaultPlacemarkAttributes;else if(e.isMultiPointType())n.attributes=this.defaultPlacemarkAttributes;else if(e.isPolylineType())n.attributes=this.defaultShapeAttributes;else if(e.isPolygonType()){n.attributes=this.defaultShapeAttributes;var i=t.values.height||t.values.Height||t.values.HEIGHT;i&&(n.height=i)}return n},x.prototype.addRenderablesForShapefile=function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Shapefile","addRenderablesForShapefile","missingLayer"));this.isPointType()?this.addRenderablesForPoints(t):this.isMultiPointType()?this.addRenderablesForMultiPoints(t):this.isPolylineType()?this.addRenderablesForPolylines(t):this.isPolygonType()&&this.addRenderablesForPolygons(t)},x.prototype.addRenderablesForPoints=function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Shapefile","addRenderablesForPoints","missingLayer"));for(var n=this.next();n;n=this.next()){var r=this.shapeConfigurationCallback(n.attributes,n),i=r&&r.altitude?r.altitude:0;if(r)for(var o=0,s=n.numberOfParts;o<s;o+=1)for(var u=n.pointBuffer(o),c=0,h=u.length;c<h;c+=2){var p=u[c],d=u[c+1],g=new f(d,p,i),m=new l(g,!1,r.attributes);m.altitudeMode=r.altitudeMode||WorldWind.RELATIVE_TO_GROUND,r.highlightAttributes&&(m.highlightAttributes=r.highlightAttributes),r.name&&(m.label=r.name),r.pickDelegate&&(m.pickDelegate=r.pickDelegate),r.userProperties&&(m.userProperties=r.userProperties),r.timeRange&&(m.timeRange=r.timeRange),t.addRenderable(m)}}},x.prototype.addRenderablesForMultiPoints=function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Shapefile","addRenderablesForMultiPoints","missingLayer"));for(var n=this.next();n;n=this.next()){var r=this.shapeConfigurationCallback(n.attributes,n),i=r&&r.altitude?r.altitude:0;if(r)for(var o=0,s=n.numberOfParts;o<s;o+=1)for(var u=n.pointBuffer(o),c=0,h=u.length;c<h;c+=2){var p=u[c],d=u[c+1],g=new f(d,p,i),m=new l(g,!1,r.attributes);m.altitudeMode=r.altitudeMode||WorldWind.RELATIVE_TO_GROUND,r.highlightAttributes&&(m.highlightAttributes=r.highlightAttributes),r.name&&(m.label=r.name),r.pickDelegate&&(m.pickDelegate=r.pickDelegate),r.userProperties&&(m.userProperties=r.userProperties),r.timeRange&&(m.timeRange=r.timeRange),t.addRenderable(m)}}},x.prototype.addRenderablesForPolylines=function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Shapefile","addRenderablesForPolylines","missingLayer"));for(var n=this.next();n;n=this.next()){var r=this.shapeConfigurationCallback(n.attributes,n),i=r&&r.altitude?r.altitude:0;if(r)for(var s=0,l=n.numberOfParts;s<l;s+=1){for(var c=n.pointBuffer(s),h=[],p=0,d=c.length;p<d;p+=2){var g=c[p],m=c[p+1],y=i?new f(m,g,i):new o(m,g);h.push(y)}var v;i?(v=new u(h,r.attributes)).altitudeMode=r.altitudeMode||WorldWind.RELATIVE_TO_GROUND:v=new S(h,r.attributes),r.highlightAttributes&&(v.highlightAttributes=r.highlightAttributes),r.name&&(v.displayName=r.name),r.pickDelegate&&(v.pickDelegate=r.pickDelegate),r.userProperties&&(v.userProperties=r.userProperties),r.timeRange&&(v.timeRange=r.timeRange),t.addRenderable(v)}}},x.prototype.addRenderablesForPolygons=function(t){if(!t)throw new e(a.logMessage(a.LEVEL_SEVERE,"Shapefile","addRenderablesForPolygons","missingLayer"));for(var n=this.next();n;n=this.next()){for(var r,i=this.shapeConfigurationCallback(n.attributes,n),s=[],u=i.height,l=i.altitude,c=0,p=n.numberOfParts;c<p;c+=1){for(var d=n.pointBuffer(c),g=[],m=0,y=d.length-2;m<y;m+=2){var v=d[m],b=d[m+1];r=u?new f(b,v,u):l?new f(b,v,l):new o(b,v),g.push(r)}s.push(g)}var E;u?((E=new h(s,i.attributes)).extrude=!0,E.altitudeMode=i.altitudeMode||WorldWind.RELATIVE_TO_GROUND):l?(E=new h(s,i.attributes)).altitudeMode=i.altitudeMode||WorldWind.RELATIVE_TO_GROUND:E=new w(s,i.attributes),i.highlightAttributes&&(E.highlightAttributes=i.highlightAttributes),i.name&&(E.displayName=i.name),i.pickDelegate&&(E.pickDelegate=i.pickDelegate),i.userProperties&&(E.userProperties=i.userProperties),i.timeRange&&(E.timeRange=i.timeRange),t.addRenderable(E)}},x.prototype.next=function(){for(;this._buffer.position<this._buffer.limit();){var t=this.readRecord(this._buffer);if(!(t instanceof v))return t}return null},x.prototype.requestUrl=function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onreadystatechange=function(){4===e.readyState&&(200===e.status?(this._buffer=new n(e.response),this.parse()):a.log(a.LEVEL_WARNING,"Shapefile retrieval failed ("+e.statusText+"): "+t),this._parserCompletionCallback&&this._parserCompletionCallback(this))}.bind(this),e.onerror=function(){a.log(a.LEVEL_WARNING,"Shapefile retrieval failed: "+t),this._parserCompletionCallback&&this._parserCompletionCallback(this)},e.ontimeout=function(){a.log(a.LEVEL_WARNING,"Shapefile retrieval timed out: "+t),this._parserCompletionCallback&&this._parserCompletionCallback(this)},e.send(null)},x.prototype.parse=function(){try{var t=this.readHeader(this._buffer);this._shapeType=t.shapeType}catch(t){console.log(t)}},x.prototype.readHeader=function(t){if(t.order(n.BIG_ENDIAN),t.getInt32()!=x.FILE_CODE)throw new Error(a.log(a.LEVEL_SEVERE,"Shapefile header is invalid"));t.skipInt32s(5);var e=t.getInt32();t.order(n.LITTLE_ENDIAN);var r=t.getInt32(),i=t.getInt32(),o=this.readBoundingRectangle(t),s=this.getShapeType(i);if(null==s)throw new Error(a.log(a.LEVEL_SEVERE,"Shapefile type is unsupported: "+i.toString()));var u={fileLength:2*e,version:r,shapeType:s,boundingRectangle:o.coords,normalizePoints:o.isNormalized};return t.skipDoubles(4),u},x.prototype.readBoundingRectangle=function(t){return this.projectionFile?this.projectionFile.isGeographicCoordinateSystem()?this.readGeographicBoundingRectangle(t):this.projectionFile.isProjectedCoordinateSystem()?this.readProjectedBoundingRectangle(t):this.readUnspecifiedBoundingRectangle(t):this.readUnspecifiedBoundingRectangle(t)},x.prototype.readUnspecifiedBoundingRectangle=function(t){return{coords:this.readBoundingRectangleCoordinates(t),isNormalized:!1}},x.prototype.readGeographicBoundingRectangle=function(e){var n=this.readBoundingRectangleCoordinates(e),r=!1,i=0;return n[0]<-90&&(i=t.normalizedDegreesLatitude(n[0]),n[0]=90,r=!0,n[1]<i&&(n[1]=i)),n[1]>90&&(i=t.normalizedDegreesLatitude(n[1]),n[1]=90,r=!0,n[0]>i&&(n[0]=i)),(n[2]<-180||n[3]>180)&&(n[2]=-180,n[3]=180,r=!0),{coords:n,isNormalized:r}},x.prototype.readProjectedBoundingRectangle=function(t){throw new s(a.log(a.LEVEL_SEVERE,"Shapefile.readProjectedBoundingRectangle() not yet implemented"))},x.prototype.readBoundingRectangleCoordinates=function(t){var e=t.getDouble(),n=t.getDouble(),r=t.getDouble();return[n,t.getDouble(),e,r]},x.prototype.readRecord=function(t){var e=this.createRecord(t);if(null!=e&&null!=this.attributeFile&&this.attributeFile.hasNext()){var n=this.attributeFile.nextRecord();e.setAttributes(n)}return e},x.prototype.createRecord=function(t){return this.isNullType()?this.createNull(t):this.isPointType()?this.createPoint(t):this.isMultiPointType()?this.createMultiPoint(t):this.isPolygonType()?this.createPolygon(t):this.isPolylineType()?this.createPolyline(t):null},x.prototype.createNull=function(t){return new v(this,t)},x.prototype.createPoint=function(t){return new b(this,t)},x.prototype.createMultiPoint=function(t){return new y(this,t)},x.prototype.createPolyline=function(t){return new _(this,t)},x.prototype.createPolygon=function(t){return new E(this,t)},x.prototype.getShapeType=function(t){switch(t){case 0:return x.NULL;case 1:return x.POINT;case 3:return x.POLYLINE;case 5:return x.POLYGON;case 8:return x.MULTI_POINT;case 11:return x.POINT_Z;case 13:return x.POLYLINE_Z;case 15:return x.POLYGON_Z;case 18:return x.MULTI_POINT_Z;case 21:return x.POINT_M;case 23:return x.POLYLINE_M;case 25:return x.POLYGON_M;case 28:return x.MULTI_POINT_M;default:return null}},x.prototype.isMeasureType=function(){return x.measureTypes.hasOwnProperty(this._shapeType)},x.prototype.isZType=function(){return x.zTypes.hasOwnProperty(this._shapeType)},x.prototype.isNullType=function(){return this._shapeType===x.NULL},x.prototype.isPointType=function(){return x.pointTypes.hasOwnProperty(this._shapeType)},x.prototype.isMultiPointType=function(){return x.multiPointTypes.hasOwnProperty(this._shapeType)},x.prototype.isPolylineType=function(){return x.polylineTypes.hasOwnProperty(this._shapeType)},x.prototype.isPolygonType=function(){return x.polygonTypes.hasOwnProperty(this._shapeType)},x.NULL="null",x.POINT="point",x.MULTI_POINT="multiPoint",x.POLYLINE="polyline",x.POLYGON="polygon",x.POINT_M=x.POINT+"M",x.MULTI_POINT_M=x.MULTI_POINT+"M",x.POLYLINE_M=x.POLYLINE+"M",x.POLYGON_M=x.POLYGON+"M",x.POINT_Z=x.POINT+"Z",x.MULTI_POINT_Z=x.MULTI_POINT+"Z",x.POLYLINE_Z=x.POLYLINE+"Z",x.POLYGON_Z=x.POLYGON+"Z",x.SHAPE_MULTI_PATCH="multiPatch",x.measureTypes={pointM:x.POINT_M,pointZ:x.POINT_Z,multiPointM:x.MULTI_POINT_M,multiPointZ:x.MULTI_POINT_Z,polylineM:x.POLYLINE_M,polylineZ:x.POLYLINE_Z,polygonM:x.POLYGON_M,polygonZ:x.POLYGON_Z},x.zTypes={pointZ:x.POINT_Z,multiPointZ:x.MULTI_POINT_Z,polylineZ:x.POLYLINE_Z,polygonZ:x.POLYGON_Z},x.pointTypes={point:x.POINT,pointZ:x.POINT_Z,pointM:x.POINT_M},x.multiPointTypes={multiPoint:x.MULTI_POINT,multiPointZ:x.MULTI_POINT_Z,multiPointM:x.MULTI_POINT_M},x.polylineTypes={polyline:x.POLYLINE,polylineZ:x.POLYLINE_Z,polylineM:x.POLYLINE_M},x.polygonTypes={polygon:x.POLYGON,polygonZ:x.POLYGON_Z,polygonM:x.POLYGON_M},x.FILE_CODE=9994,x})),i("layer/ShowTessellationLayer",["../shaders/BasicProgram","../layer/Layer"],(function(t,e){"use strict";var n=function(){e.call(this,"Show Tessellation"),this.enableTerrainGeometry=!0,this.enableTerrainExtent=!1};return(n.prototype=Object.create(e.prototype)).doRender=function(t){try{this.beginRendering(t),this.enableTerrainGeometry&&this.drawTerrainGeometry(t),this.enableTerrainExtent&&this.drawTerrainExtent(t)}finally{this.endRendering(t)}},n.prototype.beginRendering=function(t){t.currentGlContext.depthMask(!1)},n.prototype.endRendering=function(t){t.currentGlContext.depthMask(!0)},n.prototype.drawTerrainGeometry=function(e){if(e.terrain&&e.terrain.tessellator){var n,r,i=e.currentGlContext,o=e.terrain,a=o.tessellator,s=o.surfaceGeometry;try{n=e.findAndBindProgram(t),a.beginRendering(e);for(var u=0,l=s.length;u<l;u++)r=s[u],a.beginRenderingTile(e,r),n.loadColorComponents(i,1,1,1,.3),a.renderWireframeTile(e,r),n.loadColorComponents(i,1,0,0,.6),a.renderTileOutline(e,r),a.endRenderingTile(e,r)}finally{a.endRendering(e)}}},n.prototype.drawTerrainExtent=function(t){for(var e=t.terrain.surfaceGeometry,n=0,r=e.length;n<r;n++)e[n].extent.render(t)},n})),i("shaders/StarFieldProgram",["../error/ArgumentError","../shaders/GpuProgram","../util/Logger"],(function(t,e,n){"use strict";var r=function(t){e.call(this,t,"attribute vec4 vertexPoint;\nuniform mat4 mvpMatrix;\nuniform float numDays;\nuniform vec2 magnitudeRange;\nvarying float magnitudeWeight;\nfloat normalizeAngle(float angle) {\n   float angleDivisions = angle / 360.0;\n   return 360.0 * (angleDivisions - floor(angleDivisions));\n}\nvec3 computePosition(float dec, float ra) {\n   float GMST = normalizeAngle(280.46061837 + 360.98564736629 * numDays);\n   float GHA = normalizeAngle(GMST - ra);\n   float lon = -GHA + 360.0 * step(180.0, GHA);\n   float latRad = radians(dec);\n   float lonRad = radians(lon);\n   float radCosLat = cos(latRad);\n   return vec3(radCosLat * sin(lonRad), sin(latRad), radCosLat * cos(lonRad));\n}\nfloat normalizeScalar(float value, float minValue, float maxValue){\n   return (value - minValue) / (maxValue - minValue);\n}\nvoid main() {\n   vec3 vertexPosition = computePosition(vertexPoint.x, vertexPoint.y);\n   gl_Position = mvpMatrix * vec4(vertexPosition.xyz, 1.0);\n   gl_Position.z = gl_Position.w - 0.00001;\n   gl_PointSize = vertexPoint.z;\n   magnitudeWeight = normalizeScalar(vertexPoint.w, magnitudeRange.x, magnitudeRange.y);\n}","precision mediump float;\nuniform sampler2D textureSampler;\nuniform int textureEnabled;\nvarying float magnitudeWeight;\nconst vec4 white = vec4(1.0, 1.0, 1.0, 1.0);\nconst vec4 grey = vec4(0.5, 0.5, 0.5, 1.0);\nvoid main() {\n   if (textureEnabled == 1) {\n       gl_FragColor = texture2D(textureSampler, gl_PointCoord);\n   }\n   else {\n       gl_FragColor = mix(white, grey, magnitudeWeight);\n   }\n}",["vertexPoint"]),this.vertexPointLocation=this.attributeLocation(t,"vertexPoint"),this.mvpMatrixLocation=this.uniformLocation(t,"mvpMatrix"),this.numDaysLocation=this.uniformLocation(t,"numDays"),this.magnitudeRangeLocation=this.uniformLocation(t,"magnitudeRange"),this.textureUnitLocation=this.uniformLocation(t,"textureSampler"),this.textureEnabledLocation=this.uniformLocation(t,"textureEnabled")};return r.key="WorldWindGpuStarFieldProgram",(r.prototype=Object.create(e.prototype)).loadModelviewProjection=function(e,r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"StarFieldProgram","loadModelviewProjection","missingMatrix"));this.loadUniformMatrix(e,r,this.mvpMatrixLocation)},r.prototype.loadNumDays=function(e,r){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"StarFieldProgram","loadNumDays","missingNumDays"));e.uniform1f(this.numDaysLocation,r)},r.prototype.loadMagnitudeRange=function(e,r,i){if(null==r)throw new t(n.logMessage(n.LEVEL_SEVERE,"StarFieldProgram","loadMagRange","missingMinMag"));if(null==i)throw new t(n.logMessage(n.LEVEL_SEVERE,"StarFieldProgram","loadMagRange","missingMaxMag"));e.uniform2f(this.magnitudeRangeLocation,r,i)},r.prototype.loadTextureUnit=function(t,e){t.uniform1i(this.textureUnitLocation,e-t.TEXTURE0)},r.prototype.loadTextureEnabled=function(t,e){t.uniform1i(this.textureEnabledLocation,e?1:0)},r})),i("layer/StarFieldLayer",["./Layer","../util/Logger","../geom/Matrix","../shaders/StarFieldProgram","../util/SunPosition"],(function(t,e,n,r,i){"use strict";var o=function(e){t.call(this,"StarField"),this.pickEnabled=!1,this.sunSize=128,this.showSun=!0,this._starDataSource=e||WorldWind.configuration.baseUrl+"images/stars.json",this._sunImageSource=WorldWind.configuration.baseUrl+"images/sunTexture.png",this._matrix=n.fromIdentity(),this._starsPositionsVboCacheKey=null,this._numStars=0,this._starData=null,this._minMagnitude=Number.MAX_VALUE,this._maxMagnitude=Number.MIN_VALUE,this._loadStarted=!1,this._scale=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,this._sunPositionsCacheKey="",this._sunBufferView=new Float32Array(4),this._MAX_GL_POINT_SIZE=0};return o.prototype=Object.create(t.prototype),Object.defineProperties(o.prototype,{starDataSource:{get:function(){return this._starDataSource},set:function(t){this._starDataSource=t,this.invalidateStarData()}},sunImageSource:{get:function(){return this._sunImageSource},set:function(t){this._sunImageSource=t}}}),o.prototype.doRender=function(t){if(!t.globe.is2D()){if(!this.haveResources(t))return void this.loadResources(t);this.beginRendering(t);try{this.doDraw(t)}finally{this.endRendering(t)}}},o.prototype.haveResources=function(t){var e=t.gpuResourceCache.resourceForKey(this._sunImageSource);return null!=this._starData&&null!=e},o.prototype.loadResources=function(t){var e=t.currentGlContext,n=t.gpuResourceCache;this._starData||this.fetchStarData(),n.resourceForKey(this._sunImageSource)||n.retrieveTexture(e,this._sunImageSource)},o.prototype.beginRendering=function(t){var e=t.currentGlContext;t.findAndBindProgram(r),e.enableVertexAttribArray(0),e.depthMask(!1)},o.prototype.doDraw=function(t){this.loadCommonUniforms(t),this.renderStars(t),this.showSun&&this.renderSun(t)},o.prototype.loadCommonUniforms=function(t){var e=t.currentGlContext,n=t.currentProgram;this._matrix.copy(t.modelviewProjection),this._matrix.multiplyByScale(this._scale,this._scale,this._scale),n.loadModelviewProjection(e,this._matrix);var r=i.computeJulianDate(this.time||new Date);n.loadNumDays(e,r-2451545)},o.prototype.renderStars=function(t){var e=t.currentGlContext,n=t.gpuResourceCache,r=t.currentProgram;this._starsPositionsVboCacheKey||(this._starsPositionsVboCacheKey=n.generateCacheKey());var i=n.resourceForKey(this._starsPositionsVboCacheKey);if(i)e.bindBuffer(e.ARRAY_BUFFER,i);else{i=e.createBuffer();var o=this.createStarsGeometry();n.putResource(this._starsPositionsVboCacheKey,i,4*o.length),e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW)}t.frameStatistics.incrementVboLoadCount(1),e.vertexAttribPointer(0,4,e.FLOAT,!1,0,0),r.loadMagnitudeRange(e,this._minMagnitude,this._maxMagnitude),r.loadTextureEnabled(e,!1),e.drawArrays(e.POINTS,0,this._numStars)},o.prototype.renderSun=function(t){var n=t.currentGlContext,r=t.currentProgram,o=t.gpuResourceCache;this._MAX_GL_POINT_SIZE||(this._MAX_GL_POINT_SIZE=n.getParameter(n.ALIASED_POINT_SIZE_RANGE)[1]),this.sunSize>this._MAX_GL_POINT_SIZE&&e.log(e.LEVEL_WARNING,"StarFieldLayer - sunSize is to big, max size allowed is: "+this._MAX_GL_POINT_SIZE);var a=i.getAsCelestialLocation(this.time||new Date);this._sunBufferView[0]=a.declination,this._sunBufferView[1]=a.rightAscension,this._sunBufferView[2]=Math.min(this.sunSize,this._MAX_GL_POINT_SIZE),this._sunBufferView[3]=1,this._sunPositionsCacheKey||(this._sunPositionsCacheKey=o.generateCacheKey());var s=o.resourceForKey(this._sunPositionsCacheKey);s?(n.bindBuffer(n.ARRAY_BUFFER,s),n.bufferSubData(n.ARRAY_BUFFER,0,this._sunBufferView)):(s=n.createBuffer(),o.putResource(this._sunPositionsCacheKey,s,4*this._sunBufferView.length),n.bindBuffer(n.ARRAY_BUFFER,s),n.bufferData(n.ARRAY_BUFFER,this._sunBufferView,n.DYNAMIC_DRAW)),t.frameStatistics.incrementVboLoadCount(1),n.vertexAttribPointer(0,4,n.FLOAT,!1,0,0),r.loadTextureEnabled(n,!0),t.gpuResourceCache.resourceForKey(this._sunImageSource).bind(t),n.drawArrays(n.POINTS,0,1)},o.prototype.endRendering=function(t){var e=t.currentGlContext;e.depthMask(!0),e.disableVertexAttribArray(0)},o.prototype.fetchStarData=function(){if(!this._loadStarted){this._loadStarted=!0;var t=this,n=new XMLHttpRequest;n.onload=function(){if(this.status>=200&&this.status<300)try{t._starData=JSON.parse(this.response),t.sendRedrawRequest()}catch(t){e.log(e.LEVEL_SEVERE,"StarFieldLayer unable to parse JSON for star data "+t.toString())}else e.log(e.LEVEL_SEVERE,"StarFieldLayer unable to fetch star data. Status: "+this.status+" "+this.statusText);t._loadStarted=!1},n.onerror=function(){e.log(e.LEVEL_SEVERE,"StarFieldLayer unable to fetch star data"),t._loadStarted=!1},n.ontimeout=function(){e.log(e.LEVEL_SEVERE,"StarFieldLayer fetch star data has timeout"),t._loadStarted=!1},n.open("GET",this._starDataSource,!0),n.send()}},o.prototype.createStarsGeometry=function(){var t=this.parseStarsMetadata(this._starData.metadata);if(-1===t.raIndex)throw new Error(e.logMessage(e.LEVEL_SEVERE,"StarFieldLayer","createStarsGeometry","Missing ra field in star data."));if(-1===t.decIndex)throw new Error(e.logMessage(e.LEVEL_SEVERE,"StarFieldLayer","createStarsGeometry","Missing dec field in star data."));if(-1===t.magIndex)throw new Error(e.logMessage(e.LEVEL_SEVERE,"StarFieldLayer","createStarsGeometry","Missing vmag field in star data."));var n=this._starData.data,r=[];this._minMagnitude=Number.MAX_VALUE,this._maxMagnitude=Number.MIN_VALUE;for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a[t.decIndex],u=a[t.raIndex],l=a[t.magIndex],c=l<2?2:1;r.push(s,u,c,l),this._minMagnitude=Math.min(this._minMagnitude,l),this._maxMagnitude=Math.max(this._maxMagnitude,l)}return this._numStars=Math.floor(r.length/4),r},o.prototype.parseStarsMetadata=function(t){for(var e=-1,n=-1,r=-1,i=0,o=t.length;i<o;i++){var a=t[i];"ra"===a.name&&(e=i),"dec"===a.name&&(n=i),"vmag"===a.name&&(r=i)}return{raIndex:e,decIndex:n,magIndex:r}},o.prototype.invalidateStarData=function(){this._starData=null,this._starsPositionsVboCacheKey=null},o.prototype.sendRedrawRequest=function(){var t=document.createEvent("Event");t.initEvent(WorldWind.REDRAW_EVENT_TYPE,!0,!0),window.dispatchEvent(t)},o})),i("render/SurfaceRenderable",["../util/Logger","../error/UnsupportedOperationError"],(function(t,e){"use strict";var n=function(){throw this.displayName="Renderable",this.enabled=!0,new e(t.logMessage(t.LEVEL_SEVERE,"SurfaceRenderable","constructor","abstractInvocation"))};return n.prototype.renderSurface=function(n){throw new e(t.logMessage(t.LEVEL_SEVERE,"SurfaceRenderable","renderSurface","abstractInvocation"))},n})),i("layer/TectonicPlatesLayer",["../error/ArgumentError","../util/Color","../geom/Location","../util/Logger","../layer/RenderableLayer","../shapes/ShapeAttributes","../shapes/SurfacePolygon"],(function(t,e,n,r,i,o,a){"use strict";var s=function(t){i.call(this,"Tectonic Plates"),t?this._attributes=t:(this._attributes=new o(null),this._attributes.drawInterior=!1,this._attributes.drawOutline=!0,this._attributes.outlineColor=e.RED),this.loadPlateData()};return s.prototype=Object.create(i.prototype),Object.defineProperties(s.prototype,{attributes:{get:function(){return this._attributes},set:function(t){t&&this.renderables.map((function(e,n,r){e.attributes=t}))}}}),s.prototype.loadPlateData=function(){var t=WorldWind.configuration.baseUrl+"images/TectonicPlates.json",e=new XMLHttpRequest;e.open("GET",t,!0),e.onreadystatechange=function(){4===e.readyState&&(200===e.status?this.parse(e.responseText):r.log(r.LEVEL_WARNING,"Tectonic plate data retrieval failed ("+e.statusText+"): "+t))}.bind(this),e.onerror=function(){r.log(r.LEVEL_WARNING,"Tectonic plate data retrieval failed: "+t)},e.ontimeout=function(){r.log(r.LEVEL_WARNING,"Tectonic plate data retrieval timed out: "+t)},e.send(null)},s.prototype.parse=function(t){var e=JSON.parse(t),r=this;e.features.map((function(t,e,i){var o=[];t.geometry.coordinates.map((function(t,e,r){o.push(new n(t[1],t[0]))}));var s=new a(o,r._attributes);r.addRenderable(s)}))},s})),i("util/TileFactory",["../util/Logger","../error/UnsupportedOperationError"],(function(t,e){"use strict";var n=function(){};return n.prototype.createTile=function(n,r,i,o){throw new e(t.logMessage(t.LEVEL_SEVERE,"TileFactory","createTile","abstractInvocation"))},n})),i("shapes/TriangleMesh",["../shapes/AbstractMesh","../error/ArgumentError","../shaders/BasicTextureProgram","../geom/BoundingBox","../util/Color","../util/ImageSource","../geom/Location","../util/Logger","../geom/Matrix","../pick/PickedObject","../geom/Position","../shapes/ShapeAttributes","../shapes/SurfacePolygon","../geom/Vec2","../geom/Vec3"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d){"use strict";var g=function(n,r,i){if(!n)throw new e(s.logMessage(s.LEVEL_SEVERE,"TriangleMesh","constructor","missingPositions"));if(n.length<1)throw new e(s.logMessage(s.LEVEL_SEVERE,"TriangleMesh","constructor","missingPositions"));if(n.length>65536)throw new e(s.logMessage(s.LEVEL_SEVERE,"TriangleMesh","constructor","Too many positions. Must be fewer than 65537. Use TriangleMesh.split to split the shape."));if(!r)throw new e(s.logMessage(s.LEVEL_SEVERE,"TriangleMesh","constructor","Indices array is null or undefined"));if(r.length<3)throw new e(s.logMessage(s.LEVEL_SEVERE,"TriangleMesh","constructor","Too few indices."));t.call(this,i),this._positions=n,this._indices=r,this.referencePosition=this._positions[0]};return g.prototype=Object.create(t.prototype),Object.defineProperties(g.prototype,{positions:{get:function(){return this._positions},set:function(t){if(!t)throw new e(s.logMessage(s.LEVEL_SEVERE,"TriangleMesh","positions","missingPositions"));this._positions=t,this.referencePosition=this._positions[0],this.reset()}},indices:{get:function(){return this._indices},set:function(t){if(!t)throw new e(s.logMessage(s.LEVEL_SEVERE,"TriangleMesh","indices","Indices array is null or undefined"));this._indices=t,this.meshIndices=null,this.reset()}},outlineIndices:{get:function(){return this._outlineIndices},set:function(t){this._outlineIndices=t,this.meshOutlineIndices=null,this.reset()}},textureCoordinates:{get:function(){return this._textureCoordinates},set:function(t){if(t&&t.length!=this._positions.length)throw new e(s.logMessage(s.LEVEL_SEVERE,"TriangleMesh","textureCoordinates","Number of texture coordinates is inconsistent with the currently specified positions."));this._textureCoordinates=t,this.reset(),this.texCoords=null}}}),g.prototype.createSurfaceShape=function(){if(this._outlineIndices){for(var t=[],e=0;e<this._outlineIndices.length;e++)t.push(this._positions[this._outlineIndices[e]]);return new f(t,null)}return null},g.prototype.computeMeshPoints=function(t,e){for(var n,r,i=Number.MAX_VALUE,o=t.eyePoint,a=new Float32Array(3*this._positions.length),s=new d(0,0,0),u=0,l=0;l<this._positions.length;l++)n=this._positions[l],t.surfacePointForMode(n.latitude,n.longitude,n.altitude*this._altitudeScale,this.altitudeMode,s),(r=s.distanceToSquared(o))<i&&(i=r),s.subtract(this.currentData.referencePoint),a[u++]=s[0],a[u++]=s[1],a[u++]=s[2];return e.eyeDistance=Math.sqrt(i),a},g.prototype.computeTexCoords=function(){if(this._textureCoordinates){for(var t=new Float32Array(2*this._textureCoordinates.length),e=0,n=0,r=this._textureCoordinates.length;n<r;n++){var i=this._textureCoordinates[n];t[e++]=i[0],t[e++]=i[1]}return t}return null},g.prototype.computeMeshIndices=function(){for(var t=new Uint16Array(this._indices.length),e=0,n=this._indices.length;e<n;e++)t[e]=this._indices[e];return t},g.prototype.computeOutlineIndices=function(){if(this._outlineIndices){for(var t=new Uint16Array(this._outlineIndices.length),e=0;e<this._outlineIndices.length;e++)t[e]=this._outlineIndices[e];return t}return null},g.split=function(t,e,n,r){for(var i,o,a=[],s=[],u=[],l=[],c=[],h=0;h<=e.length;h++){if(h===e.length||a.length>65533&&u.length%3===0){if(a.length>0){var f={positions:a,indices:u};if(n&&(f.textureCoords=s),r){for(var p=[],d=0;d<r.length;d++)(o=l[i=r[d]])&&p.push(l[r[d]]);f.outlineIndices=p}c.push(f)}if(h===e.length)break;a=[],u=[],l=[]}(o=l[i=e[h]])||(o=a.length,l[i]=o,a.push(t[i]),n&&s.push(n[i])),u.push(o)}return c},g})),i("util/UrlBuilder",["../util/Logger","../error/UnsupportedOperationError"],(function(t,e){"use strict";var n=function(){};return n.prototype.urlForTile=function(n,r){throw new e(t.logMessage(t.LEVEL_SEVERE,"UrlBuilder","urlForTile","abstractInvocation"))},n})),i("layer/ViewControlsLayer",["../geom/Angle","../error/ArgumentError","../layer/Layer","../geom/Location","../util/Logger","../util/Offset","../shapes/ScreenImage","../geom/Vec2"],(function(t,e,n,r,i,o,a,s){"use strict";var u=function(t){if(!t)throw new e(i.logMessage(i.LEVEL_SEVERE,"ViewControlsLayer","constructor","missingWorldWindow"));n.call(this,"View Controls"),this.wwd=t,this.placement=new o(WorldWind.OFFSET_PIXELS,11,WorldWind.OFFSET_PIXELS,11),this.alignment=new o(WorldWind.OFFSET_FRACTION,0,WorldWind.OFFSET_FRACTION,0),this.exaggerationIncrement=.01,this.zoomIncrement=.04,this.headingIncrement=1,this.tiltIncrement=1,this.fieldOfViewIncrement=.1,this.panIncrement=.001,this._inactiveOpacity=.5,this._activeOpacity=1;var r=new o(WorldWind.OFFSET_PIXELS,0,WorldWind.OFFSET_PIXELS,0),u=WorldWind.configuration.baseUrl+"images/view/";this.panControl=new a(r.clone(),u+"view-pan-64x64.png"),this.zoomInControl=new a(r.clone(),u+"view-zoom-in-32x32.png"),this.zoomOutControl=new a(r.clone(),u+"view-zoom-out-32x32.png"),this.headingLeftControl=new a(r.clone(),u+"view-heading-left-32x32.png"),this.headingRightControl=new a(r.clone(),u+"view-heading-right-32x32.png"),this.tiltUpControl=new a(r.clone(),u+"view-pitch-up-32x32.png"),this.tiltDownControl=new a(r.clone(),u+"view-pitch-down-32x32.png"),this.exaggerationUpControl=new a(r.clone(),u+"view-elevation-up-32x32.png"),this.exaggerationDownControl=new a(r.clone(),u+"view-elevation-down-32x32.png"),this.fovNarrowControl=new a(r.clone(),u+"view-fov-narrow-32x32.png"),this.fovWideControl=new a(r.clone(),u+"view-fov-wide-32x32.png"),this.fovNarrowControl.enabled=!1,this.fovWideControl.enabled=!1,this.controls=[this.panControl,this.zoomInControl,this.zoomOutControl,this.headingLeftControl,this.headingRightControl,this.tiltUpControl,this.tiltDownControl,this.exaggerationUpControl,this.exaggerationDownControl,this.fovNarrowControl,this.fovWideControl];for(var l=0;l<this.controls.length;l++)this.controls[l].imageOffset=r.clone(),this.controls[l].opacity=this._inactiveOpacity,this.controls[l]===this.panControl?this.controls[l].size=64:this.controls[l].size=32;this.panControlCenter=new s(0,0),this.pickEnabled=!1,this.wwd.worldWindowController.addGestureListener(this)};return u.prototype=Object.create(n.prototype),Object.defineProperties(u.prototype,{showPanControl:{get:function(){return this.panControl.enabled},set:function(t){this.panControl.enabled=t}},showZoomControl:{get:function(){return this.zoomInControl.enabled},set:function(t){this.zoomInControl.enabled=t,this.zoomOutControl.enabled=t}},showHeadingControl:{get:function(){return this.headingLeftControl.enabled},set:function(t){this.headingLeftControl.enabled=t,this.headingRightControl.enabled=t}},showTiltControl:{get:function(){return this.tiltUpControl.enabled},set:function(t){this.tiltUpControl.enabled=t,this.tiltDownControl.enabled=t}},showExaggerationControl:{get:function(){return this.exaggerationUpControl.enabled},set:function(t){this.exaggerationUpControl.enabled=t,this.exaggerationDownControl.enabled=t}},showFieldOfViewControl:{get:function(){return this.fovNarrowControl.enabled},set:function(t){this.fovNarrowControl.enabled=t,this.fovWideControl.enabled=t}},inactiveOpacity:{get:function(){return this._inactiveOpacity},set:function(t){this._inactiveOpacity=t;for(var e=0;e<this.controls.length;e++)this.controls[e].opacity=t}},activeOpacity:{get:function(){return this._activeOpacity},set:function(t){this._activeOpacity=t;for(var e=0;e<this.controls.length;e++)this.controls[e].opacity=t}}}),u.prototype.doRender=function(t){var e,n,r,i,o=0;this.inCurrentFrame=!1,this.showPanControl&&(o+=this.panControl.size,this.inCurrentFrame=!0),this.showZoomControl&&(o+=this.zoomInControl.size,this.inCurrentFrame=!0),this.showHeadingControl&&(o+=this.headingLeftControl.size,this.inCurrentFrame=!0),this.showTiltControl&&(o+=this.tiltDownControl.size,this.inCurrentFrame=!0),this.showExaggerationControl&&(o+=this.exaggerationDownControl.size,this.inCurrentFrame=!0),this.showFieldOfViewControl&&(o+=this.fovNarrowControl.size,this.inCurrentFrame=!0),n=this.placement.offsetForSize(t.viewport.width,t.viewport.height),e=this.alignment.offsetForSize(o,64),r=n[0]-e[0],i=n[1]-e[1],this.showPanControl&&(this.panControl.screenOffset.x=r,this.panControl.screenOffset.y=i,this.panControl.render(t),this.panControlCenter[0]=r+this.panControl.size/2,this.panControlCenter[1]=i+this.panControl.size/2,r+=this.panControl.size),this.showZoomControl&&(this.zoomOutControl.screenOffset.x=r,this.zoomOutControl.screenOffset.y=i,this.zoomInControl.screenOffset.x=r,this.zoomInControl.screenOffset.y=i+this.zoomOutControl.size,this.zoomOutControl.render(t),this.zoomInControl.render(t),r+=this.zoomOutControl.size),this.showHeadingControl&&(this.headingRightControl.screenOffset.x=r,this.headingRightControl.screenOffset.y=i,this.headingLeftControl.screenOffset.x=r,this.headingLeftControl.screenOffset.y=i+this.headingLeftControl.size,this.headingRightControl.render(t),this.headingLeftControl.render(t),r+=this.headingLeftControl.size),this.showTiltControl&&(this.tiltDownControl.screenOffset.x=r,this.tiltDownControl.screenOffset.y=i,this.tiltUpControl.screenOffset.x=r,this.tiltUpControl.screenOffset.y=i+this.tiltDownControl.size,this.tiltDownControl.render(t),this.tiltUpControl.render(t),r+=this.tiltDownControl.size),this.showExaggerationControl&&(this.exaggerationDownControl.screenOffset.x=r,this.exaggerationDownControl.screenOffset.y=i,this.exaggerationUpControl.screenOffset.x=r,this.exaggerationUpControl.screenOffset.y=i+this.exaggerationDownControl.size,this.exaggerationUpControl.render(t),this.exaggerationDownControl.render(t),r+=this.exaggerationDownControl.size),this.showFieldOfViewControl&&(this.fovNarrowControl.screenOffset.x=r,this.fovNarrowControl.screenOffset.y=i,this.fovWideControl.screenOffset.x=r,this.fovWideControl.screenOffset.y=i+this.fovNarrowControl.size,this.fovNarrowControl.render(t),this.fovWideControl.render(t))},u.prototype.isPointerDown=function(t){return"pointerdown"===t.type||"mousedown"===t.type&&1===t.which},u.prototype.isPointerUp=function(t){return"pointerup"===t.type||"mouseup"===t.type&&1===t.which},u.prototype.isPointerMove=function(t){return"pointermove"===t.type||"mousemove"===t.type},u.prototype.isTouchStart=function(t){return"touchstart"===t.type},u.prototype.isTouchEnd=function(t){return"touchend"===t.type||"touchcancel"===t.type},u.prototype.isTouchMove=function(t){return"touchmove"===t.type},u.prototype.onGestureEvent=function(t){var e,n=!1;if(!this.enabled)return n;this.highlightedControl&&(this.highlight(this.highlightedControl,!1),this.wwd.redraw());var r=!1;if(t.type&&this.activeControl&&(this.isPointerUp(t)||this.isTouchEnd(t)&&this.isCurrentTouch(t)?r=!0:(e=this.pickControl(t),this.activeControl!==e&&(r=!0))),r)this.activeControl=null,this.activeOperation=null,t.preventDefault();else{if(this.activeOperation)n=this.activeOperation.call(this,t,null),t.preventDefault();else if(e=this.pickControl(t)){var i=this.determineOperation(t,e);i&&(n=i.call(this,t,e))}this.handleHighlight(t,e),this.wwd.redraw()}return n},u.prototype.isControl=function(t){for(var e=0;e<this.controls.length;e++)if(this.controls[e]==t)return!0;return!1},u.prototype.pickControl=function(t){var e,n;if(t.changedTouches){var r=t.changedTouches.item(0);e=r.clientX,n=r.clientY}else e=t.clientX,n=t.clientY;for(var i,o=this.wwd.canvasCoordinates(e,n),a=o[0],s=this.wwd.canvas.height-o[1],u=0;u<this.controls.length;u++)if((i=this.controls[u]).enabled&&a>=i.screenOffset.x&&a<=i.screenOffset.x+i.size&&s>=i.screenOffset.y&&s<=i.screenOffset.y+i.size)return i;return null},u.prototype.determineOperation=function(t,e){var n=null;return e&&e instanceof a&&(e===this.panControl?n=this.handlePan:e===this.zoomInControl||e===this.zoomOutControl?n=this.handleZoom:e===this.headingLeftControl||e===this.headingRightControl?n=this.handleHeading:e===this.tiltUpControl||e===this.tiltDownControl?n=this.handleTilt:e===this.exaggerationUpControl||e===this.exaggerationDownControl?n=this.handleExaggeration:e!==this.fovNarrowControl&&e!==this.fovWideControl||(n=this.handleFov)),n},u.prototype.isCurrentTouch=function(t){for(var e=0;e<t.changedTouches.length;e++)if(t.changedTouches.item(e).identifier===this.currentTouchId)return!0;return!1},u.prototype.handlePan=function(e,n){var i=!1;if(this.isPointerDown(e)||this.isPointerMove(e))this.currentEventPoint=this.wwd.canvasCoordinates(e.clientX,e.clientY);else if(this.isTouchStart(e)||this.isTouchMove(e)){var o=e.changedTouches.item(0);this.currentEventPoint=this.wwd.canvasCoordinates(o.clientX,o.clientY)}if(this.isPointerDown(e)||this.isTouchStart(e)){this.activeControl=n,this.activeOperation=this.handlePan,e.preventDefault(),this.isTouchStart(e)&&(this.currentTouchId=e.changedTouches.item(0).identifier);var a=this;setTimeout((function e(){if(a.activeControl){var n=a.panControlCenter[0]-a.currentEventPoint[0],i=a.panControlCenter[1]-(a.wwd.viewport.height-a.currentEventPoint[1]),o=a.wwd.navigator.lookAtLocation.latitude,s=a.wwd.navigator.lookAtLocation.longitude,u=a.panIncrement*(a.wwd.navigator.range/a.wwd.globe.radiusAt(o,s)),l=a.wwd.navigator.heading+Math.atan2(n,i)*t.RADIANS_TO_DEGREES,c=u*Math.sqrt(n*n+i*i);r.greatCircleLocation(a.wwd.navigator.lookAtLocation,l,-c,a.wwd.navigator.lookAtLocation),a.wwd.redraw(),setTimeout(e,50)}}),50),i=!0}return i},u.prototype.handleZoom=function(t,e){var n=!1;if(this.isPointerDown(t)||this.isTouchStart(t)){this.activeControl=e,this.activeOperation=this.handleZoom,t.preventDefault(),this.isTouchStart(t)&&(this.currentTouchId=t.changedTouches.item(0).identifier);var r=this;setTimeout((function t(){r.activeControl&&(r.activeControl===r.zoomInControl?r.wwd.navigator.range*=1-r.zoomIncrement:r.activeControl===r.zoomOutControl&&(r.wwd.navigator.range*=1+r.zoomIncrement),r.wwd.redraw(),setTimeout(t,50))}),50),n=!0}return n},u.prototype.handleHeading=function(t,e){var n=!1;if(this.isPointerDown(t)||this.isTouchStart(t)){this.activeControl=e,this.activeOperation=this.handleHeading,t.preventDefault(),this.isTouchStart(t)&&(this.currentTouchId=t.changedTouches.item(0).identifier);var r=this;setTimeout((function t(){r.activeControl&&(r.activeControl===r.headingLeftControl?r.wwd.navigator.heading+=r.headingIncrement:r.activeControl===r.headingRightControl&&(r.wwd.navigator.heading-=r.headingIncrement),r.wwd.redraw(),setTimeout(t,50))}),50),n=!0}return n},u.prototype.handleTilt=function(t,e){var n=!1;if(this.isPointerDown(t)||this.isTouchStart(t)){this.activeControl=e,this.activeOperation=this.handleTilt,t.preventDefault(),this.isTouchStart(t)&&(this.currentTouchId=t.changedTouches.item(0).identifier);var r=this;setTimeout((function t(){r.activeControl&&(r.activeControl===r.tiltUpControl?r.wwd.navigator.tilt=Math.max(0,r.wwd.navigator.tilt-r.tiltIncrement):r.activeControl===r.tiltDownControl&&(r.wwd.navigator.tilt=Math.min(90,r.wwd.navigator.tilt+r.tiltIncrement)),r.wwd.redraw(),setTimeout(t,50))}),50),n=!0}return n},u.prototype.handleExaggeration=function(t,e){var n=!1;if(this.isPointerDown(t)||this.isTouchStart(t)){this.activeControl=e,this.activeOperation=this.handleExaggeration,t.preventDefault(),this.isTouchStart(t)&&(this.currentTouchId=t.changedTouches.item(0).identifier);var r=this;setTimeout((function t(){r.activeControl&&(r.activeControl===r.exaggerationUpControl?r.wwd.verticalExaggeration+=r.exaggerationIncrement:r.activeControl===r.exaggerationDownControl&&(r.wwd.verticalExaggeration=Math.max(1,r.wwd.verticalExaggeration-r.exaggerationIncrement)),r.wwd.redraw(),setTimeout(t,50))}),50),n=!0}return n},u.prototype.handleFov=function(t,e){var n=!1;if(this.isPointerDown(t)||this.isTouchStart(t)){this.activeControl=e,this.activeOperation=this.handleFov,t.preventDefault(),this.isTouchStart(t)&&(this.currentTouchId=t.changedTouches.item(0).identifier);var r=this;setTimeout((function t(){r.activeControl&&(r.activeControl===r.fovWideControl?r.wwd.navigator.fieldOfView=Math.max(90,r.wwd.navigator.fieldOfView+r.fieldOfViewIncrement):r.activeControl===r.fovNarrowControl&&(r.wwd.navigator.fieldOfView=Math.min(0,r.wwd.navigator.fieldOfView-r.fieldOfViewIncrement)),r.wwd.redraw(),setTimeout(t,50))}),50),n=!0}return n},u.prototype.handleHighlight=function(t,e){this.activeControl?this.highlight(this.activeControl,!0):e&&this.isControl(e)&&this.highlight(e,!0)},u.prototype.highlight=function(t,e){t.opacity=e?this._activeOpacity:this._inactiveOpacity,this.highlightedControl=e?t:null},u})),i("ogc/ows/OwsBoundingBox",["../../error/ArgumentError","../../util/Logger","../../geom/Sector"],(function(t,e,n){"use strict";var r=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsBoundingBox","constructor","missingDomElement"));this.assembleElement(n)};return r.prototype.assembleElement=function(t){this.crs="WGS84BoundingBox"===t.localName?"WGS84":t.getAttribute("crs"),this.dimensions=t.getAttribute("dimensions");for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];"LowerCorner"===r.localName?this.lowerCorner=r.textContent:"UpperCorner"===r.localName&&(this.upperCorner=r.textContent)}},r.prototype.getSector=function(){var t,e,r,i,o;return-1!==this.crs.indexOf("WGS84")||-1!==this.crs.indexOf("EPSG:4326")?(e=(o=this.lowerCorner.split(/\s+/))[0],t=o[1],i=(o=this.upperCorner.split(/\s+/))[0],r=o[1],new n(t,r,e,i)):null},r})),i("ogc/ows/OwsKeywords",["../../error/ArgumentError","../../util/Logger","../../ogc/ows/OwsLanguageString"],(function(t,e,n){"use strict";return function(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsKeywords","constructor","missingDomElement"));for(var i=r.children||r.childNodes,o=0;o<i.length;o++){var a=i[o];"keyword"===a.localName&&(this.keywords=this.keywords||[],this.keywords.push(new n(a)))}}})),i("ogc/ows/OwsDatasetSummary",["../../error/ArgumentError","../../util/Logger","../../ogc/ows/OwsBoundingBox","../../ogc/ows/OwsKeywords","../../ogc/ows/OwsLanguageString"],(function(t,e,n,r,i){"use strict";var o=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"OwsDatasetSummary","constructor","missingDomElement"));this.assembleElement(n)};return o.prototype.assembleElement=function(t){for(var e=t.children||t.childNodes,o=0;o<e.length;o++){var a=e[o];"Title"===a.localName?(this.titles=this.titles||[],this.titles.push(new i(a))):"Abstract"===a.localName?(this.abstracts=this.abtracts||[],this.abstracts.push(new i(a))):"Keywords"===a.localName?(this.keywords=this.keywords||[],this.keywords.push(new r(a))):"Identifier"===a.localName?this.identifier=a.textContent:"WGS84BoundingBox"===a.localName?this.wgs84BoundingBox=new n(a):"BoundingBox"===a.localName?(this.boundingBox=this.boundingBox||[],this.boundingBox.push(new n(a))):"OutputFormat"===a.localName?(this.outputFormat=this.outputFormat||[],this.outputFormat.push(a.textContent)):"AvailableCRS"===a.localName&&(this.availableCrs=this.availableCrs||[],this.availableCRS.push(a.textContent))}},o})),i("ogc/wcs/WcsCapabilities",["../../error/ArgumentError","../../util/Logger","../../ogc/ows/OwsDatasetSummary","../../ogc/ows/OwsKeywords","../../ogc/ows/OwsOperationsMetadata","../../ogc/ows/OwsServiceIdentification","../../ogc/ows/OwsServiceProvider"],(function(t,e,n,r,i,o,a){"use strict";var s=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsCapabilities","constructor","missingDom"));this.xmlDom=n,this.assembleDocument()};return s.prototype.getCoverageBaseUrl=function(){return"1.0.0"===this.version?this.capability.request.getCoverage.get:"2.0.1"===this.version||"2.0.0"===this.version?this.operationsMetadata.getOperationMetadataByName("GetCoverage").dcp[0].getMethods[0].url:null},s.prototype.assembleDocument=function(){var n=this.xmlDom.documentElement;if(this.version=n.getAttribute("version"),this.updateSequence=n.getAttribute("updateSequence"),"1.0.0"===this.version)this.assembleDocument100(n);else{if("2.0.0"!==this.version&&"2.0.1"!==this.version)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsCapabilities","assembleDocument","unsupportedVersion"));this.assembleDocument20x(n)}},s.prototype.assembleDocument100=function(t){for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];"Service"===r.localName?this.service=this.assembleService100(r):"Capability"===r.localName?this.capability=this.assembleCapability100(r):"ContentMetadata"===r.localName&&this.assembleContents100(r)}},s.prototype.assembleDocument20x=function(t){for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];"ServiceIdentification"===r.localName?this.serviceIdentification=new o(r):"ServiceProvider"===r.localName?this.serviceProvider=new a(r):"OperationsMetadata"===r.localName?this.operationsMetadata=new i(r):"ServiceMetadata"===r.localName?this.serviceMetadata=this.assembleServiceMetadata(r):"Contents"===r.localName&&this.assembleContents20x(r)}},s.prototype.assembleContents100=function(t){for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];"CoverageOfferingBrief"===r.localName&&(this.coverages=this.coverages||[],this.coverages.push(this.assembleCoverages100(r)))}},s.prototype.assembleContents20x=function(t){for(var e,r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];"CoverageSummary"===o.localName&&(e=new n(o),this.assembleDatasetAugment20x(o,e),this.coverages=this.coverages||[],this.coverages.push(e))}},s.prototype.assembleDatasetAugment20x=function(t,e){for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"CoverageId"===i.localName?e.coverageId=i.textContent:"CoverageSubtype"===i.localName&&(e.subType=e.subType||[],e.subType.push(i.textContent))}},s.prototype.assembleCoverages100=function(t){for(var e=t.children||t.childNodes,n={},i=0;i<e.length;i++){var o=e[i];"name"===o.localName?n.name=o.textContent:"description"===o.localName?n.description=o.textContent:"label"===o.localName?n.label=o.textContent:"Keywords"===o.localName?(n.keywords=n.keywords||[],n.keywords.push(new r(o))):"lonLatEnvelope"===o.localName&&(n.wgs84BoundingBox=this.assembleLatLonBoundingBox(o))}return n},s.prototype.assembleService100=function(t){for(var e=t.children||t.childNodes,n={},i=0;i<e.length;i++){var o=e[i];"description"===o.localName?n.description=o.textContent:"name"===o.localName?n.name=o.textContent:"label"===o.localName?n.label=o.textContent:"fees"===o.localName?n.fees=o.textContent:"accessConstraints"===o.localName?(n.accessConstraints=n.accessConstraints||[],n.accessConstraints.push(o.textContent)):"Keywords"===o.localName&&(n.keywords=new r(o))}return n},s.prototype.assembleCapability100=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"Request"===i.localName?n.request=this.assembleRequestCapabilities100(i):"Exception"===i.localName&&(i=(i=i.children||i.childNodes)[0],n.exception=n.exception||[],n.exception.push(i.textContent))}return n},s.prototype.assembleRequestCapabilities100=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"GetCapabilities"===i.localName?n.getCapabilities=this.assembleDCPType100(i):"DescribeCoverage"===i.localName?n.describeCoverage=this.assembleDCPType100(i):"GetCoverage"===i.localName&&(n.getCoverage=this.assembleDCPType100(i))}return n},s.prototype.assembleDCPType100=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"DCPType"===i.localName&&this.assembleHttp100(i,n)}return n},s.prototype.assembleHttp100=function(t,e){for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];if("HTTP"===i.localName)return this.assembleMethod100(i,e)}},s.prototype.assembleMethod100=function(t,e){for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Get"===i.localName?e.get=this.assembleOnlineResource100(i):"Post"===i.localName&&(e.post=this.assembleOnlineResource100(i))}},s.prototype.assembleOnlineResource100=function(t){for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];if("OnlineResource"===r.localName)return r.getAttribute("xlink:href")}},s.prototype.assembleLatLonBoundingBox=function(t){for(var e,n,r=t.children||t.childNodes,i={},o=0;o<r.length;o++){var a=r[o];"pos"===a.localName&&(e?n<parseFloat(a.textContent.split(/\s+/)[0])?(i.lowerCorner=e,i.upperCorner=a.textContent):(i.lowerCorner=a.textContent,i.upperCorner=e):(e=a.textContent,n=parseFloat(e.split(/\s+/)[0])))}return i},s.prototype.assembleServiceMetadata=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"formatSupported"===i.localName?(n.formatsSupported=n.formatsSupported||[],n.formatsSupported.push(i.textContent)):"Extension"===i.localName&&(n.extension=this.assembleServiceMetadataExtension(i))}return n},s.prototype.assembleServiceMetadataExtension=function(t){for(var e=t.children||t.childNodes,n=e.length,r={},i=0;i<n;i++){var o=e[i];"crsSupported"===o.localName?(r.crsSupported=r.crsSupported||[],r.crsSupported.push(o.textContent)):"interpolationSupported"===o.localName&&(r.interpolationSupported=r.interpolationSupported||[],r.interpolationSupported.push(o.textContent))}return r},s})),i("ogc/wcs/WcsUrlBuilder",["../../error/ArgumentError","../../util/Logger"],(function(t,e){"use strict";var n=function(n,r){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsUrlBuilder","constructor","missingId"));if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsUrlBuilder","constructor","missingWebCoverageService"));this.coverageId=n,this.service=r};return n.prototype.urlForTile=function(n,r){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsUrlBuilder","urlForTile","missingTile"));if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsUrlBuilder","urlForTile","The specified format is null or undefined."));var i=this.service.capabilities.version,o=this.fixGetCoverageString(this.service.capabilities.getCoverageBaseUrl());return o+="SERVICE=WCS",o+="&REQUEST=GetCoverage","1.0.0"===i?this.buildUrl100(n,r,o):"2.0.1"===i||"2.0.0"===i?this.buildUrl20x(n,r,o):void 0},n.prototype.buildUrl100=function(t,e,n){var r=t.sector;return n+="&VERSION=1.0.0",n+="&COVERAGE="+this.coverageId,n+="&CRS=EPSG:4326",n+="&WIDTH="+t.tileWidth,n+="&HEIGHT="+t.tileHeight,n+="&FORMAT="+e,n+="&BBOX="+r.minLongitude+","+r.minLatitude+","+r.maxLongitude+","+r.maxLatitude,encodeURI(n)},n.prototype.buildUrl20x=function(t,e,n){for(var r,i,o,a,s,u=t.sector,l=0,c=this.service.coverageDescriptions.coverages.length;l<c;l++)if(this.coverageId===this.service.coverageDescriptions.coverages[l].coverageId){o=this.service.coverageDescriptions.coverages[l];break}return a=o.domainSet.rectifiedGrid.axisLabels,(s=o.boundedBy.envelope.axisLabels)[0].toLowerCase().indexOf("lat")>=0?(r=s[0],i=s[1]):(r=s[1],i=s[0]),n+="&VERSION="+this.service.capabilities.version,n+="&COVERAGEID="+this.coverageId,n+="&FORMAT="+e,n+="&SCALESIZE="+a[0]+"("+t.tileWidth+"),",n+=a[1]+"("+t.tileHeight+")",n+="&OVERVIEWPOLICY=NEAREST",n+="&SUBSET="+r+"("+u.minLatitude+","+u.maxLatitude+")",n+="&SUBSET="+i+"("+u.minLongitude+","+u.maxLongitude+")",encodeURI(n)},n.prototype.fixGetCoverageString=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WmsUrlBuilder","fixGetMapString","The specified service address is null or undefined."));var r=n.indexOf("?");return r<0?n+="?":r!==n.length-1&&(r=n.search(/&$/))<0&&(n+="&"),n},n})),i("ogc/wcs/WcsCoverage",["../../error/ArgumentError","../../util/Logger","../../ogc/wcs/WcsUrlBuilder"],(function(t,e,n){"use strict";var r=function(n,r){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsCoverage","constructor","missingId"));if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsCoverage","constructor","missingWebCoverageService"));this.coverageId=n,this.service=r,this.sector=this.service.coverageDescriptions.getSector(this.coverageId),this.resolution=this.service.coverageDescriptions.getResolution(this.coverageId),this.elevationConfig=this.createElevationConfig()};return r.PREFERRED_FORMATS={GeoTIFF:!0,"image/tiff":!0,TIFF:!0},r.DEFAULT_FORMAT="image/tiff",r.prototype.createElevationConfig=function(){return{resolution:this.resolution,coverageSector:this.sector,retrievalImageFormat:this.determineFormatFromService(),urlBuilder:new n(this.coverageId,this.service)}},r.prototype.determineFormatFromService=function(){var t,e,n,i=this.service.capabilities.version;if("1.0.0"===i){for(e=0,n=this.service.coverageDescriptions.coverages.length;e<n;e++)if(this.coverageId===this.service.coverageDescriptions.coverages[e].name){t=this.service.coverageDescriptions.coverages[e].supportedFormats.formats;break}}else"2.0.1"!==i&&"2.0.0"!==i||(t=this.service.capabilities.serviceMetadata.formatsSupported);if(!t)return r.DEFAULT_FORMAT;for(e=0,n=t.length;e<n;e++)if(r.PREFERRED_FORMATS.hasOwnProperty(t[e]))return t[e];return r.DEFAULT_FORMAT},r})),i("ogc/gml/GmlBoundedBy",["../../error/ArgumentError","../../util/Logger"],(function(t,e){"use strict";var n=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"GmlAbstractGeometry","constructor","missingDom"));this.assembleElement(n)};return n.prototype.assembleElement=function(t){var e=t.children||t.childNodes;this.nilReason=t.getAttribute("nilReason");for(var n=0;n<e.length;n++){var r=e[n];"Envelope"===r.localName&&(this.envelope=this.assembleEnvelope(r))}},n.prototype.assembleEnvelope=function(t){var e=t.children||t.childNodes,n={};n.srsName=t.getAttribute("srsName"),n.srsDimension=parseInt(t.getAttribute("srsDimension")),n.axisLabels=t.getAttribute("axisLabels"),n.axisLabels&&(n.axisLabels=n.axisLabels.split(/\s+/)),n.uomLabels=t.getAttribute("uomLabels"),n.uomLabels&&(n.uomLabels=n.uomLabels.split(/\s+/));for(var r=0;r<e.length;r++){var i=e[r];if("lowerCorner"===i.localName){n.lower=i.textContent.split(/\s+/);for(var o=0;o<n.lower.length;o++)n.lower[o]=parseFloat(n.lower[o])}else if("upperCorner"===i.localName)for(n.upper=i.textContent.split(/\s+/),o=0;o<n.upper.length;o++)n.upper[o]=parseFloat(n.upper[o])}return n},n})),i("ogc/gml/GmlRectifiedGrid",["../../error/ArgumentError","../../util/Logger"],(function(t,e){"use strict";var n=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"GmlRectifiedGrid","constructor","missingDom"));this.assembleElement(n)};return n.prototype.assembleElement=function(t){var e=t.children||t.childNodes;this.captureAttributes(t);for(var n=0;n<e.length;n++){var r=e[n];"description"===r.localName?this.description=r.textContent:"descriptionReference"===r.localName?this.descriptionReference=r.getAttribute("xlink:href"):"identifier"===r.localName?this.identifier=r.textContent:"name"===r.localName?(this.names=this.names||[],this.names.push(r.textContent)):"limits"===r.localName?this.limits=this.assembleLimits(r):"axisLabels"===r.localName?this.axisLabels=r.textContent.split(/\s+/):"axisName"===r.localName?(this.axisNames=this.axisNames||[],this.axisNames.push(r.textContent)):"origin"===r.localName?this.origin=this.assembleOrigin(r):"offsetVector"===r.localName&&(this.offsetVector=this.offsetVector||[],this.offsetVector.push(this.assembleOffsetVector(r)))}},n.prototype.captureAttributes=function(t){this.id=t.getAttribute("gml:id"),this.srsName=t.getAttribute("srsName"),this.srsDimension=t.getAttribute("srsDimension"),this.axisLabels=t.getAttribute("axisLabels"),this.axisLabels&&(this.axisLabels=this.axisLabels.split(/\s+/)),this.uomLabels=t.getAttribute("uomLabels"),this.uomLabels&&(this.uomLabels=this.uomLabels.split(/\s+/)),this.dimension=parseInt(t.getAttribute("dimension"))},n.prototype.assembleLimits=function(t){for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];if("GridEnvelope"===r.localName)return this.assembleGridEnvelope(r)}},n.prototype.assembleGridEnvelope=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];n[i.localName]=i.textContent.split(/\s+/)}return n},n.prototype.assembleOrigin=function(t){var e={};e.type=t.getAttribute("xlink:type"),e.href=t.getAttribute("xlink:href"),e.role=t.getAttribute("xlink:role"),e.arcrole=t.getAttribute("xlink:arcrole"),e.title=t.getAttribute("xlink:title"),e.show=t.getAttribute("xlink:show"),e.actuate=t.getAttribute("xlink:actuate"),e.nilReason=t.getAttribute("nilReason"),e.remoteSchema=t.getAttribute("gml:remoteSchema"),e.owns=t.getAttribute("owns");for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Point"===i.localName?e.point=this.assemblePoint(i):"pos"===i.localName&&(e.pos=this.assemblePos(i))}return e},n.prototype.assemblePoint=function(t){var e={};e.id=t.getAttribute("gml:id"),e.srsName=t.getAttribute("srsName"),e.srsDimension=t.getAttribute("srsDimension"),e.axisLabels=t.getAttribute("axisLabels"),e.axisLabels&&(e.axisLabels=e.axisLabels.split(/\s+/)),e.uomLabels=t.getAttribute("uomLabels"),e.uomLabels&&(e.uomLabels=e.uomLabels.split(/\s+/));for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"description"===i.localName?e.description=i.textContent:"descriptionReference"===i.localName?e.descriptionReference=this.assembleOrigin(i):"identifier"===i.localName?e.identifier=i.textContent:"name"===i.localName?e.name=i.textContent:"pos"===i.localName&&(e.pos=this.assemblePos(i))}return e},n.prototype.assemblePos=function(t){var e={};if(e.srsName=t.getAttribute("srsName"),e.srsDimension=parseInt(t.getAttribute("srsDimension")),e.axisLabels=t.getAttribute("axisLabels"),e.axisLabels&&(e.axisLabels=e.axisLabels.split(/\s+/)),e.uomLabels=t.getAttribute("uomLabels"),e.uomLabels&&(e.uomLabels=e.uomLabels.split(/\s+/)),e.pos=t.textContent,e.pos){e.pos=e.pos.split(/\s+/);for(var n=0;n<e.pos.length;n++)e.pos[n]=parseFloat(e.pos[n])}return e},n.prototype.assembleOffsetVector=function(t){var e,n=(t.children||t.childNodes,{});n.srsName=t.getAttribute("srsName"),n.srsDimension=parseInt(t.getAttribute("srsDimension")),n.axisLabels=t.getAttribute("axisLabels"),n.axisLabels&&(n.axisLabels=n.axisLabels.split(/\s+/)),n.uomLabels=t.getAttribute("uomLabels"),n.uomLabels&&(n.uomLabels=n.uomLabels.split(/\s+/)),e=t.textContent.split(/\s+/),n.values=[];for(var r=0;r<e.length;r++)n.values.push(parseFloat(e[r]));return n},n})),i("ogc/gml/GmlDomainSet",["../../error/ArgumentError","../../ogc/gml/GmlRectifiedGrid","../../util/Logger"],(function(t,e,n){"use strict";var r=function(e){if(!e)throw new t(n.logMessage(n.LEVEL_SEVERE,"GmlAbstractGeometry","constructor","missingDom"));this.assembleElement(e)};return r.prototype.assembleElement=function(t){for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"RectifiedGrid"===i.localName&&(this.rectifiedGrid=new e(i))}},r})),i("ogc/wcs/WcsCoverageDescriptions",["../../error/ArgumentError","../../ogc/gml/GmlBoundedBy","../../ogc/gml/GmlDomainSet","../../ogc/gml/GmlRectifiedGrid","../../util/Logger","../../ogc/ows/OwsKeywords","../../geom/Sector"],(function(t,e,n,r,i,o,a){"use strict";var s=function(e){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"WcsCoverageDescriptions","constructor","missingDom"));this.xmlDom=e,this.assembleDocument()};return s.prototype.getSector=function(e){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"WcsCoverageDescriptions","getSector","missingId"));var n,r=this.getCoverage(e);return r?"1.0.0"===this.version?(n=r.lonLatEnvelope.pos,new a(n[0][1],n[1][1],n[0][0],n[1][0])):"2.0.1"===this.version||"2.0.0"===this.version?(n=r.boundedBy.envelope,new a(n.lower[0],n.upper[0],n.lower[1],n.upper[1])):null:null},s.prototype.getResolution=function(e){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"WcsCoverageDescriptions","getResolution","missingId"));var n,r,o,a,s,u,l=this.getCoverage(e),c=this.getSector(e);return l?("1.0.0"===this.version?(n=l.domainSet.spatialDomain.rectifiedGrid.limits.low[0],r=l.domainSet.spatialDomain.rectifiedGrid.limits.low[1],o=l.domainSet.spatialDomain.rectifiedGrid.limits.high[0],a=l.domainSet.spatialDomain.rectifiedGrid.limits.high[1]):"2.0.1"!==this.version&&"2.0.0"!==this.version||(n=l.domainSet.rectifiedGrid.limits.low[0],r=l.domainSet.rectifiedGrid.limits.low[1],o=l.domainSet.rectifiedGrid.limits.high[0],a=l.domainSet.rectifiedGrid.limits.high[1]),s=c.deltaLongitude()/(o-n),u=c.deltaLatitude()/(a-r),Math.max(s,u)):null},s.prototype.getSupportedCrs=function(e){if(!e)throw new t(i.logMessage(i.LEVEL_SEVERE,"WcsCoverageDescriptions","getSupportedCrs","missingId"));var n=this.getCoverage(e),r=[];return n?"1.0.0"===this.version?n.supportedCrs.requests:"2.0.1"===this.version||"2.0.0"===this.version?(r.push(n.boundedBy.envelope.srsName),r):null:null},s.prototype.getCoverage=function(t){for(var e=0,n=this.coverages.length;e<n;e++)if(t===(this.coverages[e].coverageId||this.coverages[e].name))return this.coverages[e];return null},s.prototype.assembleDocument=function(){var e=this.xmlDom.documentElement;if("CoverageDescription"===e.localName)this.assembleDocument100(e),this.version="1.0.0";else{if("CoverageDescriptions"!==e.localName)throw new t(i.logMessage(i.LEVEL_SEVERE,"WcsCapabilities","assembleDocument","unsupportedVersion"));this.assembleDocument20x(e),this.version=e.getAttribute("version")||"2.0.1"}},s.prototype.assembleDocument100=function(t){this.version=t.getAttribute("version");for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];"CoverageOffering"===r.localName&&(this.coverages=this.coverages||[],this.coverages.push(this.assembleCoverages100(r)))}},s.prototype.assembleDocument20x=function(t){for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];"CoverageDescription"===r.localName&&(this.coverages=this.coverages||[],this.coverages.push(this.assembleCoverages20x(r)))}},s.prototype.assembleCoverages100=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"name"===i.localName?n.name=i.textContent:"description"===i.localName?n.description=i.textContent:"label"===i.localName?n.label=i.textContent:"keywords"===i.localName?n.keywords=new o(i).keywords:"lonLatEnvelope"===i.localName?n.lonLatEnvelope=this.assembleLonLatEnvelope100(i):"supportedCRSs"===i.localName?n.supportedCrs=this.assembleSupportedCrs100(i):"supportedFormats"===i.localName?n.supportedFormats=this.assembleSupportedFormats100(i):"supportedInterpolations"===i.localName?n.supportedInterpolations=this.assembleSupportedInterpolations100(i):"domainSet"===i.localName?n.domainSet=this.assembleDomainSet100(i):"rangeSet"===i.localName&&(n.rangeSet=this.assembleRangeSet100(i))}return n},s.prototype.assembleCoverages20x=function(t){for(var r=t.children||t.childNodes,i={},o=0;o<r.length;o++){var a=r[o];"CoverageId"===a.localName?i.coverageId=a.textContent:"domainSet"===a.localName?i.domainSet=new n(a):"boundedBy"===a.localName?i.boundedBy=new e(a):"ServiceParameters"===a.localName?i.serviceParameters=this.assembleServiceParameters20x(a):"rangeType"===a.localName&&(i.rangeType=a)}return i},s.prototype.assembleServiceParameters20x=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"nativeFormat"===i.localName?n.nativeFormat=i.textContent:"CoverageSubtype"===i.localName&&(n.coverageSubtype=i.textContent)}return n},s.prototype.assembleLonLatEnvelope100=function(t){var e=t.children||t.childNodes,n={};n.srsName=t.getAttribute("srsName");for(var r=0;r<e.length;r++){var i=e[r];"pos"===i.localName&&(n.pos=n.pos||[],n.pos.push(s.parseSpacedFloatArray(i.textContent)))}return n},s.prototype.assembleSupportedCrs100=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"requestResponseCRSs"===i.localName?(n.requests=n.requests||[],n.requests.push(i.textContent),n.responses=n.responses||[],n.responses.push(i.textContent)):"requestCRSs"===i.localName?(n.requests=n.requests||[],n.push(i.textContent)):"responseCRSs"===i.localName?(n.responses=n.responses||[],n.push(i.textContent)):"NativeCRSs"===i.localName&&(n.nativeCrs=n.nativeCrs||[],n.push(i.textContent))}return n},s.prototype.assembleSupportedFormats100=function(t){var e=t.children||t.childNodes,n={};n.nativeFormat=t.getAttribute("nativeFormat");for(var r=0;r<e.length;r++){var i=e[r];"formats"===i.localName&&(n.formats=n.formats||[],n.formats.push(i.textContent))}return n},s.prototype.assembleSupportedInterpolations100=function(t){var e=t.children||t.childNodes,n={};n.default=t.getAttribute("default");for(var r=0;r<e.length;r++){var i=e[r];"interpolationMethod"===i.localName&&(n.methods=n.methods||[],n.methods.push(i.textContent))}return n},s.prototype.assembleDomainSet100=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"spatialDomain"===i.localName&&(n.spatialDomain=this.assembleSpatialDomain100(i))}return n},s.prototype.assembleSpatialDomain100=function(t){for(var e=t.children||t.childNodes,n={},i=0;i<e.length;i++){var o=e[i];"Envelope"===o.localName?n.envelope=this.assembleLonLatEnvelope100(o):"RectifiedGrid"===o.localName&&(n.rectifiedGrid=new r(o))}return n},s.prototype.assembleRangeSet100=function(t){for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n];if("RangeSet"===r.localName)return this.assembleRangeSetElement100(r)}},s.prototype.assembleRangeSetElement100=function(t){var e=t.children||t.childNodes,n={};n.semantic=t.getAttribute("semantic"),n.refSys=t.getAttribute("refSys"),n.refSysLable=t.getAttribute("refSysLabel");for(var r=0;r<e.length;r++){var i=e[r];"name"===i.localName?n.name=i.textContent:"label"===i.localName?n.label=i.textContent:"axisDescription"===i.localName&&(n.axisDescriptions=this.assembleRangeSetAxisDescription100(i))}return n},s.prototype.assembleRangeSetAxisDescription100=function(t){for(var e=t.children||t.childNodes,n=[],r=0;r<e.length;r++){var i=e[r];"AxisDescription"===i.localName&&n.push(this.assembleRangeSetAxisDescriptionElement100(i))}return n},s.prototype.assembleRangeSetAxisDescriptionElement100=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"name"===i.localName?n.name=i.textContent:"label"===i.localName?n.label=i.textContent:"values"===i.localName&&(n.values=this.assembleRangeSetValues100(i))}return n},s.prototype.assembleRangeSetValues100=function(t){for(var e=t.children||t.childNodes,n={},r=0;r<e.length;r++){var i=e[r];"singleValue"===i.localName&&(n.singleValue=i.textContent)}return n},s.parseSpacedFloatArray=function(t){for(var e=[],n=t.split(/\s+/),r=0;r<n.length;r++)e.push(parseFloat(n[r]));return e},s})),i("util/WcsTileUrlBuilder",["../error/ArgumentError","../util/Logger"],(function(t,e){"use strict";var n=function(n,r,i){if(!n||0===n.length)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsTileUrlBuilder","constructor","The WCS service address is missing."));if(!r||0===r.length)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsTileUrlBuilder","constructor","The WCS coverage name is missing."));this.serviceAddress=n,this.coverageName=r,this.wcsVersion=i&&i.length>0?i:"1.0.0",this.crs="EPSG:4326"};return n.prototype.urlForTile=function(r,i){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsUrlBuilder","urlForTile","missingTile"));if(!i)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsUrlBuilder","urlForTile","The coverage format is null or undefined."));var o=n.fixGetCoverageString(this.serviceAddress);return o.search(/service=wcs/i)<0&&(o+="SERVICE=WCS"),o+="&REQUEST=GetCoverage",o+="&VERSION="+this.wcsVersion,o+="&FORMAT="+i,"1.0.0"===this.wcsVersion?this.buildUrl100(r,o):"2.0.1"===this.wcsVersion||"2.0.0"===this.wcsVersion?this.buildUrl20x(r,o):void 0},n.prototype.buildUrl100=function(t,e){var n=t.sector;return e+="&COVERAGE="+this.coverageName,e+="&CRS="+this.crs,e+="&WIDTH="+t.tileWidth,e+="&HEIGHT="+t.tileHeight,e+="&BBOX="+n.minLongitude+","+n.minLatitude+","+n.maxLongitude+","+n.maxLatitude,encodeURI(e)},n.prototype.buildUrl20x=function(t,e){var n=t.sector;return e+="&coverageId="+this.coverageName,e+="&outputCRS=http://www.opengis.net/def/crs/EPSG/0/4326",e+="&size=x("+t.tileWidth+")",e+="&size=y("+t.tileHeight+")",e+="&subset=x,http://www.opengis.net/def/crs/EPSG/0/4326("+n.minLongitude+","+n.maxLongitude+")",e+="&subset=y,http://www.opengis.net/def/crs/EPSG/0/4326("+n.minLatitude+","+n.maxLatitude+")",encodeURI(e)},n.fixGetCoverageString=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WcsTileUrlBuilder","fixGetCoverageString","The specified service address is null or undefined."));var r=n.indexOf("?");return r<0?n+="?":r!==n.length-1&&(r=n.search(/&$/))<0&&(n+="&"),n},n})),i("globe/WcsEarthElevationCoverage",["../geom/Location","../geom/Sector","../globe/TiledElevationCoverage","../util/WcsTileUrlBuilder"],(function(t,e,n,r){"use strict";var i=function(){n.call(this,{coverageSector:e.FULL_SPHERE,resolution:.008333333333333,retrievalImageFormat:"image/tiff",minElevation:-11e3,maxElevation:8850,urlBuilder:new r("https://worldwind26.arc.nasa.gov/wms2","NASA_SRTM30_900m_Tiled","1.0.0")}),this.displayName="WCS Earth Elevation Coverage"};return i.prototype=Object.create(n.prototype),i})),i("ogc/wcs/WebCoverageService",["../../error/ArgumentError","../../util/Logger","../../util/Promise","../../ogc/wcs/WcsCapabilities","../../ogc/wcs/WcsCoverage","../../ogc/wcs/WcsCoverageDescriptions"],(function(t,e,n,r,i,o){"use strict";var a=function(){this.serviceAddress=null,this.coverages=[],this.capabilities=null,this.coverageDescriptions=null};return a.WCS_XLMNS="http://www.opengis.net/wcs",a.WCS_2_XLMNS="http://www.opengis.net/wcs/2.0",a.create=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WebCoverageService","constructor","missingUrl"));var r=new a;return r.serviceAddress=n,r.retrieveCapabilities().then((function(t){return r.capabilities=t,r.retrieveCoverageDescriptions(t)})).then((function(t){return r.parseCoverages(t),r}))},a.prototype.getCoverage=function(t){},a.prototype.retrieveCapabilities=function(){var t,e=this;return e.retrieveXml(e.buildCapabilitiesXmlRequest("2.0.1")).then((function(n){return"2.0.1"===(t=n.documentElement.getAttribute("version"))||"2.0.0"===t?n:e.retrieveXml(e.buildCapabilitiesXmlRequest("1.0.0"))})).then((function(t){return new r(t)}))},a.prototype.retrieveCoverageDescriptions=function(){return this.retrieveXml(this.buildDescribeCoverageXmlRequest())},a.prototype.parseCoverages=function(t){this.coverageDescriptions=new o(t);for(var e,n,r=this.coverageDescriptions.coverages.length,a=0;a<r;a++)e=this.coverageDescriptions.coverages[a].coverageId||this.coverageDescriptions.coverages[a].name,n=new i(e,this),this.coverages.push(n)},a.prototype.retrieveXml=function(t){return new n((function(n,r){var i=new XMLHttpRequest;i.open("POST",t.url),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(i.responseXML):r(new Error(e.logMessage(e.LEVEL_WARNING,"XML retrieval failed ("+i.statusText+"): "+t.url))))},i.onerror=function(){r(new Error(e.logMessage(e.LEVEL_WARNING,"XML retrieval failed: "+t.url)))},i.ontimeout=function(){r(new Error(e.logMessage(e.LEVEL_WARNING,"XML retrieval timed out: "+t.url)))},i.send(t.body)}))},a.prototype.buildCapabilitiesXmlRequest=function(t){var e=this.createBaseWcsElement("GetCapabilities",t);return{url:this.serviceAddress,body:(new XMLSerializer).serializeToString(e)}},a.prototype.buildDescribeCoverageXmlRequest=function(){var t,e,n,r=this.capabilities.version,i=this.capabilities.coverages.length;t=this.createBaseWcsElement("DescribeCoverage",r),"1.0.0"===r?n=this.capabilities.capability.request.describeCoverage.get:"2.0.1"!==r&&"2.0.0"!==r||(n=this.capabilities.operationsMetadata.getOperationMetadataByName("DescribeCoverage").dcp[0].getMethods[0].url);for(var o=0;o<i;o++)"1.0.0"===r?(e=document.createElementNS(a.WCS_XLMNS,"Coverage")).appendChild(document.createTextNode(this.capabilities.coverages[o].name)):"2.0.1"!==r&&"2.0.0"!==r||(e=document.createElementNS(a.WCS_2_XLMNS,"CoverageId")).appendChild(document.createTextNode(this.capabilities.coverages[o].coverageId)),t.appendChild(e);return{url:n,body:(new XMLSerializer).serializeToString(t)}},a.prototype.createBaseWcsElement=function(t,e){var n;return"1.0.0"===e?(n=document.createElementNS(a.WCS_XLMNS,t)).setAttribute("version","1.0.0"):"2.0.1"!==e&&"2.0.0"!==e||(n=document.createElementNS(a.WCS_2_XLMNS,t)).setAttribute("version",e),n.setAttribute("service","WCS"),n},a})),i("ogc/WfsCapabilities",["../error/ArgumentError","../util/Logger","../ogc/ows/OwsLanguageString","../ogc/ows/OwsOperationsMetadata","../ogc/ows/OwsServiceIdentification","../ogc/ows/OwsServiceProvider"],(function(t,e,n,r,i,o){"use strict";var a=function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WfsCapabilities","constructor","No XML DOM specified."));this.assembleDocument(n)};return a.prototype.assembleDocument=function(t){var e=t.documentElement;this.version=e.getAttribute("version"),this.updateSequence=e.getAttribute("updateSequence");for(var n=e.children||e.childNodes,a=0;a<n.length;a++){var s=n[a];"ServiceIdentification"===s.localName?this.serviceIdentification=new i(s):"ServiceProvider"===s.localName?this.serviceProvider=new o(s):"OperationsMetadata"===s.localName?this.operationsMetadata=new r(s):"FeatureTypeList"===s.localName?this.featureTypeList=this.assembleFeatureTypeList(s):"Filter_Capabilities"===s.localName&&(this.filterCapabilities=this.assembleFilterCapabilities(s))}},a.prototype.assembleFeatureTypeList=function(t){for(var n={},r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];if("Operations"==o.localName){n.operations=n.operations||[];try{n.operations=a.assembleOperations(o)}catch(t){e.logMessage(e.LEVEL_SEVERE,"WfsCapabilities","constructor","Exception reading WFS operations description: "+t.message)}}else if("FeatureType"==o.localName){n.featureType=n.featureType||[];try{n.featureType.push(a.assembleFeatureType(o))}catch(t){e.logMessage(e.LEVEL_SEVERE,"WfsCapabilities","constructor","Exception reading WFS operations description: "+t.message)}}}return n},a.prototype.assembleFilterCapabilities=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Conformance"===i.localName?e.conformance=a.assembleConformance(i):"Id_Capabilities"===i.localName?e.idCapabilities=a.assembleIdCapabilities(i):"Scalar_Capabilities"===i.localName?e.scalarCapabilities=a.assembleScalarCapabilities(i):"Spatial_Capabilities"===i.localName?e.spatialCapabilities=a.assembleSpatialCapabilities(i):"Functions"===i.localName&&(e.functions=a.assembleFunctions(i))}return e},a.assembleOperations=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Operation"==i.localName&&e.push(i.textContent)}return e},a.assembleFeatureType=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Name"==i.localName?e.name=i.textContent:"Title"==i.localName?e.title=i.textContent:"Abstract"==i.localName?e.abstract=i.textContent:"Keywords"==i.localName?(e.keywords=e.keywords||[],e.keywords=a.assembleKeywords(i)):"DefaultSRS"==i.localName?e.defaultSRS=i.textContent:"OtherSRS"==i.localName?(e.otherSRS=e.otherSRS||[],e.otherSRS.push(i.textContent)):"WGS84BoundingBox"==i.localName?e.wgs84BoundingBox=a.assembleBoundingBox(i):"DefaultCRS"==i.localName?e.defaultCRS=i.textContent:"OtherCRS"==i.localName?(e.otherCRS=e.otherCRS||[],e.otherCRS.push(i.textContent)):"OutputFormats"==i.localName?e.outputFormats=a.assembleOutputFormats(i):"MetadataURL"==i.localName&&(e.metadataUrl=a.assembleMetadataUrl(i))}return e},a.assembleBoundingBox=function(t){var e={},n=t.getAttribute("crs");n&&(e.crs=n);for(var r=t.children||t.childNodes,i=0;i<r.length;i++){var o=r[i];if("LowerCorner"===o.localName){var a=o.textContent.split(" ");e.lowerCorner=[parseFloat(a[0]),parseFloat(a[1])]}else if("UpperCorner"===o.localName){var s=o.textContent.split(" ");e.upperCorner=[parseFloat(s[0]),parseFloat(s[1])]}}return e},a.assembleOutputFormats=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Format"===i.localName&&e.push(i.textContent)}return e},a.assembleMetadataUrl=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"MetadataURL"===i.localName&&(e.format=i.getAttribute("format"),e.type=i.getAttribute("type"))}return outputFormats},a.assembleKeywords=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Keyword"===i.localName&&e.push(i.textContent)}return e},a.assembleConformance=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i,o=n[r];"Constraint"===o.localName&&((i=a.assembleConstraint(o)).name=o.getAttribute("name"),e.push(i))}return e},a.assembleConstraint=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"DefaultValue"===i.localName&&(e.defaultValue=i.textContent)}return e},a.assembleIdCapabilities=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"ResourceIdentifier"===i.localName&&(e.resourceIdentifier=i.getAttribute("name"))}return e},a.assembleScalarCapabilities=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"ComparisonOperators"===i.localName?e.comparisonOperators=a.assembleComparisonOperators(i):"ArithmeticOperators"===i.localName&&(e.arithmeticOperators=a.assembleArithmeticOperators(i))}return e},a.assembleComparisonOperators=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"ComparisonOperator"===i.localName&&e.push(i.textContent)}return e},a.assembleArithmeticOperators=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Functions"===i.localName&&(e.functions=a.assembleArithmeticFunctions(i))}return e},a.assembleArithmeticFunctions=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"FunctionNames"===i.localName&&(e=a.assembleFunctionNames(i))}return e},a.assembleFunctionNames=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];if("FunctionName"===i.localName){var o={name:i.textContent,nArgs:i.getAttribute("nArgs")};e.push(o)}}return e},a.assembleSpatialCapabilities=function(t){for(var e={},n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"GeometryOperands"===i.localName?e.geometryOperands=a.assembleGeometryOperands(i):"SpatialOperators"===i.localName&&(e.spatialOperators=a.assembleSpatialOperators(i))}return e},a.assembleGeometryOperands=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"GeometryOperand"===i.localName&&e.push(i.getAttribute("name"))}return e},a.assembleSpatialOperators=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"SpatialOperator"===i.localName&&e.push(i.getAttribute("name"))}return e},a.assembleFunctions=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Function"===i.localName&&e.push(a.assembleFunction(i))}return e},a.assembleFunction=function(t){var e={};e.name=t.getAttribute("name");for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Returns"===i.localName?e.returns=i.textContent:"Arguments"===i.localName&&(e.arguments=a.assembleArguments(i))}return e},a.assembleArguments=function(t){for(var e=[],n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Argument"===i.localName&&e.push(a.assembleArgument(i))}return e},a.assembleArgument=function(t){var e={};e.name=t.getAttribute("name");for(var n=t.children||t.childNodes,r=0;r<n.length;r++){var i=n[r];"Type"===i.localName&&(e.type=i.textContent)}return e},a})),i("formats/wkt/WktElements",[],(function(){return{}})),i("formats/wkt/WktType",[],(function(){var t=function(){};return t.SupportedGeometries={LINE_STRING:"LINESTRING",MULTI_LINE_STRING:"MULTILINESTRING",POLYGON:"POLYGON",MULTI_POLYGON:"MULTIPOLYGON",POINT:"POINT",MULTI_POINT:"MULTIPOINT",TRIANGLE:"TRIANGLE",GEOMETRY_COLLECTION:"GEOMETRYCOLLECTION"},t.TokenType={LEFT_PARENTHESIS:0,COMMA:1,RIGHT_PARENTHESIS:2,NUMBER:3,TEXT:4},t})),i("formats/wkt/geom/WktObject",["../../../geom/Location","../../../geom/Position","../WktElements","../WktType"],(function(t,e,n,r){var i=function(t){this.type=t,this._is3d=!1,this._isLrs=!1,this.coordinates=[],this.options={coordinates:[],leftParenthesis:0,rightParenthesis:0,tokens:[]}};return i.prototype.set3d=function(){this._is3d=!0},i.prototype.setLrs=function(){this._isLrs=!0},i.prototype.addCoordinates=function(n){this._is3d?this.coordinates.push(new e(n[1],n[0],n[2]||0)):this.coordinates.push(new t(n[1],n[0]))},i.prototype.shapes=function(){return[]},i.prototype.handleToken=function(t){var e=t.value,n=this.options;t.type===r.TokenType.TEXT?this.text(n,e):t.type===r.TokenType.LEFT_PARENTHESIS?this.leftParenthesis(n):t.type===r.TokenType.RIGHT_PARENTHESIS?this.rightParenthesis(n):t.type===r.TokenType.NUMBER?this.number(n,e):t.type===r.TokenType.COMMA&&this.comma(n),n.tokens.push(t)},i.prototype.text=function(t,e){if((e=e.toUpperCase()).length<=2)this.setOptions(e,this);else if(0===e.indexOf("EMPTY"))t.leftParenthesis=1,t.rightParenthesis=1;else{var r=e.match("[M]?[Z]?$");r&&r.length>0&&""!=r[0]&&this.setOptions(r,null);var o=n[e]&&new n[e];o||(o=new i),r&&r.length>0&&""!=r[0]&&o.setOptions(r[0],o),this.add(o)}},i.prototype.rightParenthesis=function(t){t.rightParenthesis++,t.coordinates&&(this.addCoordinates(t.coordinates),t.coordinates=null)},i.prototype.leftParenthesis=function(t){t.leftParenthesis++},i.prototype.comma=function(t){t.coordinates?(this.addCoordinates(t.coordinates),t.coordinates=null):this.commaWithoutCoordinates(t)},i.prototype.commaWithoutCoordinates=function(t){},i.prototype.number=function(t,e){t.coordinates=t.coordinates||[],t.coordinates.push(e)},i.prototype.setOptions=function(t,e){"Z"==t?e.set3d():"M"==t?e.setLrs():"MZ"==t&&(e.set3d(),e.setLrs())},i.prototype.isFinished=function(){return this.options.leftParenthesis===this.options.rightParenthesis&&this.options.leftParenthesis>0},i})),i("formats/wkt/WktTokens",["./WktElements","./geom/WktObject","./WktType"],(function(t,e,n){var r=function(t){this.sourceText=t};return r.prototype.objects=function(){var n,r=[];return this.tokenize(this.sourceText).forEach((function(i){if(n&&n.isFinished()||!n){var o=i.value,a=o.match("[M]?[Z]?$");a&&a.length>0&&""!=a[0]&&(o=o.substring(0,o.length-a.length)),(n=t[o]&&new t[o])||(n=new e),a&&a.length>0&&""!=a[0]&&n.setOptions(a[0],n),r.push(n)}else n.handleToken(i)})),r},r.prototype.tokenize=function(t){this.currentPosition=0;for(var e=[];this.currentPosition<t.length;this.currentPosition++){var r=t.charAt(this.currentPosition);if("("==r)e.push({type:n.TokenType.LEFT_PARENTHESIS});else if(","==r)e.push({type:n.TokenType.COMMA});else if(")"==r)e.push({type:n.TokenType.RIGHT_PARENTHESIS});else if(this.isAlpha(r)){var i=this.readText(t);e.push({type:n.TokenType.TEXT,value:i})}else{if(!this.isNumeric(r)){if(this.isWhiteSpace(r))continue;throw new Error("Invalid character: {{",r,"}}")}var o=this.readNumeric(t);e.push({type:n.TokenType.NUMBER,value:o})}}return e},r.prototype.isAlpha=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},r.prototype.isNumeric=function(t){return t>="0"&&t<="9"||"."==t||"-"==t},r.prototype.isWhiteSpace=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},r.prototype.readText=function(t){for(var e="";this.isAlpha(t.charAt(this.currentPosition));)e+=t.charAt(this.currentPosition),this.currentPosition++;return this.currentPosition--,e},r.prototype.readNumeric=function(t){for(var e="";this.isNumeric(t.charAt(this.currentPosition));)e+=t.charAt(this.currentPosition),this.currentPosition++;return this.currentPosition--,Number(e)},r})),i("formats/wkt/Wkt",["../../error/ArgumentError","../../util/Logger","./WktTokens"],(function(t,e,n){var r=function(t){this.textRepresentation=t,this._parserCompletionCallback=this.defaultParserCompletionCallback,this._shapeConfigurationCallback=this.defaultShapeConfigurationCallback,this._layer=null};return Object.defineProperties(r.prototype,{parserCompletionCallback:{get:function(){return this._parserCompletionCallback}},shapeConfigurationCallback:{get:function(){return this._shapeConfigurationCallback}},layer:{get:function(){return this._layer}}}),r.prototype.load=function(t,e,r){r&&(this._layer=r),t&&(this._parserCompletionCallback=t),e&&(this._shapeConfigurationCallback=e),this.parserCompletionCallback(this,new n(this.textRepresentation).objects())},r.prototype.defaultShapeConfigurationCallback=function(t){},r.prototype.defaultParserCompletionCallback=function(t,e){var n=t.shapeConfigurationCallback,r=[];e.forEach((function(t){t.shapes().forEach((function(e){var i=n(t);i&&i.name&&(e.displayName=i.name),i&&i.attributes&&(e.attributes=i.attributes),i&&i.highlightAttributes&&(e.highlightAttributes=i.highlightAttributes),i&&i.pickDelegate&&(e.pickDelegate=i.pickDelegate),i&&i.userProperties&&(e.userProperties=i.userProperties),i&&i.timeRange&&(e.timeRange=i.timeRange),r.push(e)}))})),t.layer&&t.layer.addRenderables(r)},r})),i("formats/wkt/WktExporter",["../../error/ArgumentError","../../util/Logger","./WktType"],(function(t,e,n){"use strict";return{exportRenderable:function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportRenderable","missingRenderable"));return n instanceof WorldWind.Placemark?this.exportPlacemark(n):n instanceof WorldWind.Path?this.exportPath(n):n instanceof WorldWind.Polygon?this.exportPolygon(n):n instanceof WorldWind.SurfacePolyline?this.exportSurfacePolyline(n):n instanceof WorldWind.SurfacePolygon?this.exportSurfacePolygon(n):n instanceof WorldWind.SurfaceEllipse?this.exportSurfaceEllipse(n):n instanceof WorldWind.SurfaceCircle?this.exportSurfaceCircle(n):n instanceof WorldWind.SurfaceRectangle?this.exportSurfaceRectangle(n):n instanceof WorldWind.SurfaceSector?this.exportSurfaceSector(n):(e.log(e.LEVEL_WARNING,"Export renderable not implemented: "+n),null)},exportRenderables:function(r){if(!r)throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportRenderables","missingRenderables"));if(0!=r.length){if(r.length>1){for(var i=n.SupportedGeometries.GEOMETRY_COLLECTION+"(",o=0;o<r.length;o++){var a=this.exportRenderable(r[o]);a&&(i+=a,i+=",")}return(i=i.substring(0,i.length-1))+")"}return this.exportRenderable(r[0])}},exportLayer:function(n){if(!n)throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportLayer","missingLayer"));return this.exportRenderables(n.renderables)},exportPlacemark:function(r){if(!(r instanceof WorldWind.Placemark))throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportPlacemark","invalidTypeOfRenderable"));var i=n.SupportedGeometries.POINT+"(";return(i=i+r.position.longitude+" "+r.position.latitude)+")"},exportPath:function(r){if(!(r instanceof WorldWind.Path))throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportPath","invalidTypeOfRenderable"));for(var i=n.SupportedGeometries.LINE_STRING+"(",o=0;o<r.positions.length;o++)i=i+r.positions[o].longitude+" "+r.positions[o].latitude;return(i=i.substring(0,i.length-2))+")"},exportPolygon:function(r){if(!(r instanceof WorldWind.Polygon))throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportPolygon","invalidTypeOfRenderable"));var i=n.SupportedGeometries.POLYGON+"(";if(r.boundaries.length>0&&r.boundaries[0].length>2){for(var o=0;o<r.boundaries.length;o++){i+="(";for(var a=0;a<r.boundaries[o].length;a++)i=i+r.boundaries[o][a].longitude+" "+r.boundaries[o][a].latitude,i+=", ";i=i.substring(0,i.length-2),i+=")",i+=", "}i=i.substring(0,i.length-2)}else{for(i+="(",o=0;o<r.boundaries.length;o++)i=i+r.boundaries[o].longitude+" "+r.boundaries[o].latitude,i+=", ";i=i.substring(0,i.length-2),i+=")"}return i+")"},exportSurfacePolyline:function(r){if(!(r instanceof WorldWind.SurfacePolyline))throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportSurfacePolyline","invalidTypeOfRenderable"));for(var i=n.SupportedGeometries.LINE_STRING+"(",o=0;o<r.boundaries.length;o++)i=i+r.boundaries[o].longitude+" "+r.boundaries[o].latitude,i+=", ";return(i=i.substring(0,i.length-2))+")"},exportSurfacePolygon:function(r){if(!(r instanceof WorldWind.SurfacePolygon))throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportSurfacePolygon","invalidTypeOfRenderable"));var i=n.SupportedGeometries.POLYGON+"(";if(r.boundaries.length>0&&r.boundaries[0].length>2){for(var o=0;o<r.boundaries.length;o++){i+="(";for(var a=0;a<r.boundaries[o].length;a++)i=i+r.boundaries[o][a].longitude+" "+r.boundaries[o][a].latitude,i+=", ";i=i.substring(0,i.length-2),i+=")",i+=", "}i=i.substring(0,i.length-2)}else{for(i+="(",o=0;o<r.boundaries.length;o++)i=i+r.boundaries[o].longitude+" "+r.boundaries[o].latitude,i+=", ";i=i.substring(0,i.length-2),i+=")"}return i+")"},exportSurfaceEllipse:function(r){if(!(r instanceof WorldWind.SurfaceEllipse))throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportSurfaceEllipse","invalidTypeOfRenderable"));var i=n.SupportedGeometries.POLYGON+"(";i+="(";for(var o=0;o<r._boundaries.length;o++)i=i+r._boundaries[o].longitude+" "+r._boundaries[o].latitude,i+=", ";return i=i.substring(0,i.length-2),(i+=")")+")"},exportSurfaceCircle:function(r){if(!(r instanceof WorldWind.SurfaceCircle))throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportSurfaceCircle","invalidTypeOfRenderable"));var i=n.SupportedGeometries.POLYGON+"(";i+="(";for(var o=0;o<r._boundaries.length;o++)i=i+r._boundaries[o].longitude+" "+r._boundaries[o].latitude,i+=", ";return i=i.substring(0,i.length-2),(i+=")")+")"},exportSurfaceRectangle:function(r){if(!(r instanceof WorldWind.SurfaceRectangle))throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportSurfaceRectangle","invalidTypeOfRenderable"));var i=n.SupportedGeometries.POLYGON+"(";i+="(";for(var o=0;o<r._boundaries.length;o++)i=i+r._boundaries[o].longitude+" "+r._boundaries[o].latitude,i+=", ";return i=i.substring(0,i.length-2),(i+=")")+")"},exportSurfaceSector:function(r){if(!(r instanceof WorldWind.SurfaceSector))throw new t(e.logMessage(e.LEVEL_SEVERE,"WktExporter","exportSurfaceSector","invalidTypeOfRenderable"));var i=n.SupportedGeometries.POLYGON+"(";i+="(";for(var o=0;o<r._boundaries.length;o++)i=i+r._boundaries[o].longitude+" "+r._boundaries[o].latitude,i+=", ";return i=i.substring(0,i.length-2),(i+=")")+")"}}})),i("formats/wkt/geom/WktGeometryCollection",["../../../geom/Location","../../../geom/Position","../WktElements","./WktObject","../WktType"],(function(t,e,n,r,i){var o=function(){r.call(this,i.SupportedGeometries.GEOMETRY_COLLECTION),this.objects=[]};return(o.prototype=Object.create(r.prototype)).add=function(t){this.objects.push(t)},o.prototype.addCoordinates=function(n){var r=this.objects[this.objects.length-1];this._is3d?r.coordinates.push(new e(n[0],n[1],n[2]||0)):r.coordinates.push(new t(n[0],n[1]))},o.prototype.shapes=function(){var t=[];return this.objects.forEach((function(e){e.shapes().forEach((function(e){t.push(e)}))})),t},n.GEOMETRYCOLLECTION=o,o})),i("formats/wkt/geom/WktLineString",["../../../shapes/Path","../../../shapes/ShapeAttributes","../../../shapes/SurfacePolyline","../WktElements","./WktObject","../WktType"],(function(t,e,n,r,i,o){var a=function(){i.call(this,o.SupportedGeometries.LINE_STRING)};return(a.prototype=Object.create(i.prototype)).shapes=function(){return this._is3d?[new t(this.coordinates,new e(null))]:[new n(this.coordinates,new e(null))]},r.LINESTRING=a,a})),i("formats/wkt/geom/WktMultiLineString",["../../../shapes/Path","../../../shapes/ShapeAttributes","../../../shapes/SurfacePolyline","../WktElements","./WktObject","../WktType"],(function(t,e,n,r,i,o){var a=function(){i.call(this,o.SupportedGeometries.MULTI_LINE_STRING),this.objectBoundaries=[]};return(a.prototype=Object.create(i.prototype)).commaWithoutCoordinates=function(){this.objectBoundaries.push(this.coordinates.slice()),this.coordinates=[]},a.prototype.shapes=function(){return this.commaWithoutCoordinates(),this._is3d?this.objectBoundaries.map(function(n){return new t(n,new e(null))}.bind(this)):this.objectBoundaries.map(function(t){return new n(t,new e(null))}.bind(this))},r.MULTILINESTRING=a,a})),i("formats/wkt/geom/WktPoint",["../../../shapes/Placemark","../../../shapes/PlacemarkAttributes","../WktElements","./WktObject","../WktType"],(function(t,e,n,r,i){var o=function(){r.call(this,i.SupportedGeometries.POINT)};return(o.prototype=Object.create(r.prototype)).shapes=function(){return[o.placemark(this.coordinates[0])]},o.placemark=function(n){var r=new e(null);r.imageScale=1,r.imageOffset=new WorldWind.Offset(WorldWind.OFFSET_FRACTION,.3,WorldWind.OFFSET_FRACTION,0),r.imageColor=WorldWind.Color.WHITE,r.labelAttributes.offset=new WorldWind.Offset(WorldWind.OFFSET_FRACTION,.5,WorldWind.OFFSET_FRACTION,1),r.labelAttributes.color=WorldWind.Color.YELLOW,r.drawLeaderLine=!0,r.leaderLineAttributes.outlineColor=WorldWind.Color.RED,r.imageSource=WorldWind.configuration.baseUrl+"images/pushpins/castshadow-purple.png";var i=new t(n,!0,r);return i.altitudeMode=WorldWind.RELATIVE_TO_GROUND,i},n.POINT=o,o})),i("formats/wkt/geom/WktMultiPoint",["../../../shapes/Placemark","../../../shapes/PlacemarkAttributes","../WktElements","./WktObject","./WktPoint","../WktType"],(function(t,e,n,r,i,o){var a=function(){r.call(this,o.SupportedGeometries.MULTI_POINT)};return(a.prototype=Object.create(r.prototype)).commaWithoutCoordinates=function(){},a.prototype.shapes=function(){return this.coordinates.map(function(t){return i.placemark(t)}.bind(this))},n.MULTIPOINT=a,a})),i("formats/wkt/geom/WktMultiPolygon",["../../../shapes/Polygon","../../../shapes/ShapeAttributes","../../../shapes/SurfacePolygon","../WktElements","./WktObject","../WktType"],(function(t,e,n,r,i,o){var a=function(){i.call(this,o.SupportedGeometries.MULTI_POLYGON),this.objectBoundaries=[],this.currentIndex=0};return(a.prototype=Object.create(i.prototype)).rightParenthesis=function(t){i.prototype.rightParenthesis.call(this,t),t.tokens[t.tokens.length-1].type!=o.TokenType.RIGHT_PARENTHESIS?this.addBoundaries():t.tokens[t.tokens.length-1].type==o.TokenType.RIGHT_PARENTHESIS&&t.tokens[t.tokens.length-2].type!=o.TokenType.RIGHT_PARENTHESIS&&this.addObject()},a.prototype.addBoundaries=function(){this.objectBoundaries[this.currentIndex]||(this.objectBoundaries[this.currentIndex]=[]),this.objectBoundaries[this.currentIndex].push(this.coordinates.slice()),this.coordinates=[]},a.prototype.addObject=function(){this.currentIndex++},a.prototype.shapes=function(){return this._is3d?this.objectBoundaries.map(function(n){return new t(n,new e(null))}.bind(this)):this.objectBoundaries.map(function(t){return new n(t,new e(null))}.bind(this))},r.MULTIPOLYGON=a,a})),i("formats/wkt/geom/WktPolygon",["../../../shapes/Polygon","../../../shapes/ShapeAttributes","../../../shapes/SurfacePolygon","../WktElements","./WktObject","../WktType"],(function(t,e,n,r,i,o){var a=function(){i.call(this,o.SupportedGeometries.POLYGON),this._renderable=null};return(a.prototype=Object.create(i.prototype)).commaWithoutCoordinates=function(){this.outerBoundaries=this.coordinates.slice(),this.coordinates=[]},a.prototype.shapes=function(){return this._is3d?this.outerBoundaries?[new t([this.outerBoundaries,this.coordinates],new e(null))]:[new t(this.coordinates,new e(null))]:this.outerBoundaries?[new n([this.outerBoundaries,this.coordinates],new e(null))]:[new n(this.coordinates,new e(null))]},r.POLYGON=a,a})),i("formats/wkt/geom/WktTriangle",["../../../shapes/Polygon","../../../shapes/ShapeAttributes","../../../shapes/SurfacePolygon","../WktElements","./WktObject","../WktType"],(function(t,e,n,r,i,o){var a=function(){i.call(this,o.SupportedGeometries.TRIANGLE),this._renderable=null};return(a.prototype=Object.create(i.prototype)).shapes=function(){return this._is3d?[new t(this.coordinates,new e(null))]:[new n(this.coordinates,new e(null))]},r.TRIANGLE=a,a})),i("layer/WmsTimeDimensionedLayer",["../error/ArgumentError","../layer/Layer","../util/Logger","../layer/WmsLayer"],(function(t,e,n,r){"use strict";var i=function(r){if(!r)throw new t(n.logMessage(n.LEVEL_SEVERE,"WmsTimeDimensionedLayer","constructor","No configuration specified."));e.call(this,"WMS Time Dimensioned Layer"),this.config=r,this.displayName=r.title,this.pickEnabled=!1,this.layers={}};return(i.prototype=Object.create(e.prototype)).doRender=function(t){if(this.time){var e=this.time.toISOString(),n=this.layers[e];n||(n=new r(this.config,e),this.layers[e]=n),n.opacity=this.opacity,n.doRender(t),this.inCurrentFrame=n.inCurrentFrame}},i})),i("WorldWindow",["./ArcBallCamera","./error/ArgumentError","./BasicWorldWindowController","./render/DrawContext","./globe/EarthElevationModel","./util/FrameStatistics","./geom/Frustum","./globe/Globe","./globe/Globe2D","./util/GoToAnimator","./cache/GpuResourceCache","./geom/Line","./util/Logger","./navigate/LookAtNavigator","./geom/Matrix","./navigate/Navigator","./pick/PickedObjectList","./geom/Position","./geom/Rectangle","./geom/Sector","./shapes/SurfaceShape","./shapes/SurfaceShapeTileBuilder","./globe/Terrain","./geom/Vec2","./geom/Vec3","./util/WWMath"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w,S,x,T){"use strict";var O=function(a,u){function c(t){t.preventDefault()}function h(t){b.onGestureEvent(t)}function p(t){b.handleRedrawEvent(t)}if(!window.WebGLRenderingContext)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","constructor","webglNotSupported"));var m;if(a instanceof HTMLCanvasElement)m=a;else if(!(m=document.getElementById(a)))throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","constructor","The specified canvas ID is not in the document."));var y=this.createContext(m);if(!y)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","constructor","webglNotSupported"));this.drawContext=new r(y),this.eventListeners={},this.redrawRequested=!0,this.redrawRequestId=null,this.scratchModelview=d.fromIdentity(),this.scratchProjection=d.fromIdentity(),this.hasStencilBuffer=y.getContextAttributes().stencil,this.canvas=m,this.depthBits=y.getParameter(y.DEPTH_BITS),this.viewport=new v(0,0,y.drawingBufferWidth,y.drawingBufferHeight),this.globe=new s(u||new i),this.layers=[],this.navigator=new g(new t(this)),this.worldWindowController=new n(this),this.verticalExaggeration=1,this.deepPicking=!1,this.subsurfaceMode=!1,this.surfaceOpacity=1,this.frameStatistics=new o,this.goToAnimator=new l(this),this._redrawCallbacks=[],this._orderedRenderingFilters=[function(t){b.declutter(t,1)},function(t){b.declutter(t,2)}],this.pixelScale=1,this.addEventListener("mousedown",c),this.addEventListener("touchstart",c),this.addEventListener("contextmenu",c),this.addEventListener("wheel",c);var b=this;window.PointerEvent?(this.canvas.style.setProperty("touch-action","none"),this.addEventListener("pointerdown",h,!1),window.addEventListener("pointermove",h,!1),window.addEventListener("pointercancel",h,!1),window.addEventListener("pointerup",h,!1)):(this.addEventListener("mousedown",h,!1),window.addEventListener("mousemove",h,!1),window.addEventListener("mouseup",h,!1),this.addEventListener("touchstart",h,!1),this.addEventListener("touchmove",h,!1),this.addEventListener("touchend",h,!1),this.addEventListener("touchcancel",h,!1)),this.addEventListener("wheel",(function(t){h(t)})),this.canvas.addEventListener("webglcontextlost",(function(t){b.handleContextLost(t)}),!1),this.canvas.addEventListener("webglcontextrestored",(function(t){b.handleContextRestored(t)}),!1),this.canvas.addEventListener(WorldWind.REDRAW_EVENT_TYPE,p,!1),window.addEventListener(WorldWind.REDRAW_EVENT_TYPE,p,!1),this.animationFrameLoop()};return Object.defineProperties(O.prototype,{orderedRenderingFilters:{get:function(){return this._orderedRenderingFilters}},redrawCallbacks:{get:function(){return this._redrawCallbacks}}}),O.prototype.canvasCoordinates=function(t,e){var n=this.canvas.getBoundingClientRect(),r=t-(n.left+this.canvas.clientLeft),i=e-(n.top+this.canvas.clientTop);return new S(r,i)},O.prototype.onGestureEvent=function(t){this.worldWindowController.onGestureEvent(t)},O.prototype.addEventListener=function(t,n){if(!t)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","addEventListener","missingType"));if(!n)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","addEventListener","missingListener"));var r=this,i=this.eventListeners[t];i||(i={listeners:[],callback:function(t){t.worldWindow=r;for(var e=0,n=i.listeners.length;e<n;e++)i.listeners[e](t)}},this.eventListeners[t]=i),-1==i.listeners.indexOf(n)&&(i.listeners.splice(0,0,n),1==i.listeners.length&&this.canvas.addEventListener(t,i.callback,!1))},O.prototype.removeEventListener=function(t,n){if(!t)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","removeEventListener","missingType"));if(!n)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","removeEventListener","missingListener"));var r=this.eventListeners[t];if(r){var i=r.listeners.indexOf(n);-1!=i&&(r.listeners.splice(i,1),0==r.listeners.length&&this.canvas.removeEventListener(t,r.callback,!1))}},O.prototype.redraw=function(){this.redrawRequested=!0},O.prototype.pick=function(t){if(!t)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","pick","missingPoint"));return this.drawContext.currentGlContext.isContextLost()?new m:(this.resize(),this.resetDrawContext(),this.drawContext.pickingMode=!0,this.drawContext.pickPoint=t,this.drawContext.pickRay=this.rayThroughScreenPoint(t),this.drawFrame(),this.drawContext.objectsAtPickPoint)},O.prototype.pickTerrain=function(t){if(!t)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","pickTerrain","missingPoint"));return this.drawContext.currentGlContext.isContextLost()?new m:(this.resize(),this.resetDrawContext(),this.drawContext.pickingMode=!0,this.drawContext.pickTerrainOnly=!0,this.drawContext.pickPoint=t,this.drawContext.pickRay=this.rayThroughScreenPoint(t),this.drawFrame(),this.drawContext.objectsAtPickPoint)},O.prototype.pickShapesInRegion=function(t){if(!t)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","pickShapesInRegion","missingRectangle"));return this.drawContext.currentGlContext.isContextLost()?new m:(this.resize(),this.resetDrawContext(),this.drawContext.pickingMode=!0,this.drawContext.regionPicking=!0,this.drawContext.pickRectangle=new v(t.x,this.canvas.height-t.y,t.width,t.height),this.drawFrame(),this.drawContext.objectsAtPickPoint)},O.prototype.createContext=function(t){var e={antialias:!1,stencil:!0},n=t.getContext("webgl",e);return n||(n=t.getContext("experimental-webgl",e)),n},O.prototype.handleContextLost=function(t){f.log(f.LEVEL_INFO,"WebGL context event: "+t.statusMessage),t.preventDefault(),this.drawContext.contextLost(),window.cancelAnimationFrame(this.redrawRequestId)},O.prototype.handleContextRestored=function(t){f.log(f.LEVEL_INFO,"WebGL context event: "+t.statusMessage),this.drawContext.contextRestored(),this.redraw(),this.animationFrameLoop()},O.prototype.handleRedrawEvent=function(t){this.redraw()},O.prototype.animationFrameLoop=function(){this.redrawIfNeeded();var t=this;this.redrawRequestId=window.requestAnimationFrame((function(){t.animationFrameLoop()}))},O.prototype.redrawIfNeeded=function(){if(this.resize(),this.redrawRequested)try{this.redrawRequested=!1,this.drawContext.previousRedrawTimestamp=this.drawContext.timestamp,this.callRedrawCallbacks(WorldWind.BEFORE_REDRAW),this.resetDrawContext(),this.drawFrame()}catch(t){f.logMessage(f.LEVEL_SEVERE,"WorldWindow","redrawIfNeeded","Exception occurred during redrawing.\n"+t.toString())}finally{this.callRedrawCallbacks(WorldWind.AFTER_REDRAW),this.drawContext.redrawRequested&&(this.redrawRequested=!0)}},O.prototype.resize=function(){var t=this.drawContext.currentGlContext,e=t.canvas.clientWidth*this.pixelScale,n=t.canvas.clientHeight*this.pixelScale;t.canvas.width==e&&t.canvas.height==n||(t.canvas.width=e,t.canvas.height=n,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),this.viewport=new v(0,0,t.drawingBufferWidth,t.drawingBufferHeight),this.redrawRequested=!0)},O.prototype.computeViewingTransform=function(t,n){if(!n)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","computeViewingTransform","missingModelview"));var r=this.globe;if(this.navigator.camera.createViewMatrix(n),t){t.setToIdentity();var i=T.max(r.equatorialRadius,r.polarRadius),o=n.extractEyePoint(new x(0,0,0)),a=r.computePositionFromPoint(o[0],o[1],o[2],new y(0,0,0)),s=T.horizonDistanceForGlobeRadius(i,a.altitude),u=T.horizonDistanceForGlobeRadius(i,16e4),l=this.viewport,c=s+u;c<1e3&&(c=1e3);var h=T.perspectiveNearDistanceForFarDistance(c,10,this.depthBits),p=a.altitude-r.elevationAtLocation(a.latitude,a.longitude);if(p>0){var d=T.perspectiveNearDistance(l.width,l.height,p);h>d&&(h=d)}h<1&&(h=1),t.setToPerspectiveProjection(l.width,l.height,h,c)}},O.prototype.computePixelMetrics=function(t){var e=d.fromIdentity();e.invertMatrix(t);var n=new x(-1,-1,-1),r=new x(1,1,-1),i=new x(-1,-1,1),o=new x(1,1,1);n.multiplyByMatrix(e),r.multiplyByMatrix(e),i.multiplyByMatrix(e),o.multiplyByMatrix(e);var a=T.fabs(r[0]-n[0]),s=T.fabs(o[0]-i[0]),u=-n[2],l=(s-a)/(-i[2]-u),c=a-l*u;return{pixelSizeFactor:l/this.viewport.width,pixelSizeOffset:c/this.viewport.height}},O.prototype.pixelSizeAtDistance=function(t){this.computeViewingTransform(this.scratchProjection,this.scratchModelview);var e=this.computePixelMetrics(this.scratchProjection);return e.pixelSizeFactor*t+e.pixelSizeOffset},O.prototype.computeDrawContext=function(){var t=this.drawContext;this.computeViewingTransform(t.projection,t.modelview),t.viewport=this.viewport,t.eyePoint=t.modelview.extractEyePoint(new x(0,0,0)),t.modelviewProjection.setToIdentity(),t.modelviewProjection.setToMultiply(t.projection,t.modelview);var e=this.computePixelMetrics(t.projection);t.pixelSizeFactor=e.pixelSizeFactor,t.pixelSizeOffset=e.pixelSizeOffset;var n=d.fromIdentity();n.invertOrthonormalMatrix(t.modelview),t.modelviewNormalTransform=d.fromIdentity().setToTransposeOfMatrix(n.upper3By3());var r=d.fromIdentity();r.setToTransposeOfMatrix(t.modelview),t.frustumInModelCoordinates=a.fromProjectionMatrix(t.projection),t.frustumInModelCoordinates.transformByMatrix(r),t.frustumInModelCoordinates.normalize()},O.prototype.resetDrawContext=function(){this.globe.offset=0;var t=this.drawContext;t.reset(),t.globe=this.globe,t.navigator=this.navigator,t.layers=this.layers.slice(),t.layers.push(t.screenCreditController),this.computeDrawContext(),t.verticalExaggeration=this.verticalExaggeration,t.surfaceOpacity=this.surfaceOpacity,t.deepPicking=this.deepPicking,t.frameStatistics=this.frameStatistics,t.pixelScale=this.pixelScale,t.update()},O.prototype.drawFrame=function(){try{this.drawContext.frameStatistics.beginFrame(),this.beginFrame(),this.drawContext.globe.is2D()&&this.drawContext.globe.continuous?this.do2DContiguousRepaint():this.doNormalRepaint()}finally{this.endFrame(),this.drawContext.frameStatistics.endFrame()}},O.prototype.doNormalRepaint=function(){this.createTerrain(),this.clearFrame(),this.deferOrderedRendering=!1,this.drawContext.pickingMode?this.drawContext.makePickFrustum()&&(this.doPick(),this.resolvePick()):(this.doDraw(),this.subsurfaceMode&&this.hasStencilBuffer&&(this.redrawSurface(),this.drawScreenRenderables()))},O.prototype.do2DContiguousRepaint=function(){this.createTerrain2DContiguous(),this.clearFrame(),this.drawContext.pickingMode?this.drawContext.makePickFrustum()&&(this.pick2DContiguous(),this.resolvePick()):this.draw2DContiguous()},O.prototype.resolvePick=function(){this.drawContext.pickTerrainOnly?this.resolveTerrainPick():this.drawContext.regionPicking?this.resolveRegionPick():this.resolveTopPick()},O.prototype.beginFrame=function(){var t=this.drawContext.currentGlContext;t.enable(t.BLEND),t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.depthFunc(t.LEQUAL),this.drawContext.pickingMode&&(this.drawContext.makePickFramebuffer(),this.drawContext.bindFramebuffer(this.drawContext.pickFramebuffer))},O.prototype.endFrame=function(){var t=this.drawContext.currentGlContext;t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.blendFunc(t.ONE,t.ZERO),t.depthFunc(t.LESS),t.clearColor(0,0,0,1),this.drawContext.bindFramebuffer(null),this.drawContext.bindProgram(null)},O.prototype.clearFrame=function(){var t=this.drawContext,e=t.currentGlContext;e.clearColor(t.clearColor.red,t.clearColor.green,t.clearColor.blue,t.clearColor.alpha),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)},O.prototype.doDraw=function(){this.drawContext.renderShapes=!0,this.subsurfaceMode&&this.hasStencilBuffer?(this.drawContext.currentGlContext.disable(this.drawContext.currentGlContext.STENCIL_TEST),this.drawContext.surfaceShapeTileBuilder.clear(),this.drawLayers(!0),this.drawSurfaceRenderables(),this.drawContext.surfaceShapeTileBuilder.doRender(this.drawContext),this.deferOrderedRendering||(this.drawContext.currentGlContext.clear(this.drawContext.currentGlContext.DEPTH_BUFFER_BIT|this.drawContext.currentGlContext.STENCIL_BUFFER_BIT),this.drawContext.currentGlContext.enable(this.drawContext.currentGlContext.STENCIL_TEST),this.drawContext.currentGlContext.stencilFunc(this.drawContext.currentGlContext.ALWAYS,1,1),this.drawContext.currentGlContext.stencilOp(this.drawContext.currentGlContext.REPLACE,this.drawContext.currentGlContext.REPLACE,this.drawContext.currentGlContext.REPLACE),this.drawOrderedRenderables())):(this.drawContext.surfaceShapeTileBuilder.clear(),this.drawLayers(!0),this.drawSurfaceRenderables(),this.drawContext.surfaceShapeTileBuilder.doRender(this.drawContext),this.deferOrderedRendering||(this.drawOrderedRenderables(),this.drawScreenRenderables()))},O.prototype.redrawSurface=function(){this.drawContext.currentGlContext.enable(this.drawContext.currentGlContext.STENCIL_TEST),this.drawContext.currentGlContext.stencilFunc(this.drawContext.currentGlContext.EQUAL,1,1),this.drawContext.currentGlContext.stencilOp(this.drawContext.currentGlContext.KEEP,this.drawContext.currentGlContext.KEEP,this.drawContext.currentGlContext.KEEP),this.drawContext.surfaceShapeTileBuilder.clear(),this.drawLayers(!1),this.drawSurfaceRenderables(),this.drawContext.surfaceShapeTileBuilder.doRender(this.drawContext),this.drawContext.currentGlContext.disable(this.drawContext.currentGlContext.STENCIL_TEST)},O.prototype.doPick=function(){this.drawContext.terrain&&this.drawContext.terrain.pick(this.drawContext),this.drawContext.pickTerrainOnly||(this.subsurfaceMode&&this.hasStencilBuffer?(this.drawContext.currentGlContext.disable(this.drawContext.currentGlContext.STENCIL_TEST),this.drawContext.surfaceShapeTileBuilder.clear(),this.drawLayers(!0),this.drawSurfaceRenderables(),this.drawContext.surfaceShapeTileBuilder.doRender(this.drawContext),this.deferOrderedRendering||(this.drawContext.currentGlContext.clear(this.drawContext.currentGlContext.DEPTH_BUFFER_BIT|this.drawContext.currentGlContext.STENCIL_BUFFER_BIT),this.drawContext.currentGlContext.enable(this.drawContext.currentGlContext.STENCIL_TEST),this.drawContext.currentGlContext.stencilFunc(this.drawContext.currentGlContext.ALWAYS,1,1),this.drawContext.currentGlContext.stencilOp(this.drawContext.currentGlContext.REPLACE,this.drawContext.currentGlContext.REPLACE,this.drawContext.currentGlContext.REPLACE),this.drawOrderedRenderables(),this.drawContext.terrain.pick(this.drawContext),this.drawScreenRenderables())):(this.drawContext.surfaceShapeTileBuilder.clear(),this.drawLayers(!0),this.drawSurfaceRenderables(),this.drawContext.surfaceShapeTileBuilder.doRender(this.drawContext),this.deferOrderedRendering||(this.drawOrderedRenderables(),this.drawScreenRenderables())))},O.prototype.createTerrain=function(){var t=this.drawContext;t.terrain=this.globe.tessellator.tessellate(t),t.frameStatistics.setTerrainTileCount(t.terrain?t.terrain.surfaceGeometry.length:0)},O.prototype.makeCurrent=function(t){var e=this.drawContext;switch(e.globe.offset=t,e.globeStateKey=e.globe.stateKey,t){case-1:e.terrain=this.terrainLeft;break;case 0:e.terrain=this.terrainCenter;break;case 1:e.terrain=this.terrainRight}},O.prototype.createTerrain2DContiguous=function(){var t=this.drawContext;this.terrainCenter=null,t.globe.offset=0,t.globeStateKey=t.globe.stateKey,t.globe.intersectsFrustum(t.frustumInModelCoordinates)&&(this.terrainCenter=t.globe.tessellator.tessellate(t)),this.terrainRight=null,t.globe.offset=1,t.globeStateKey=t.globe.stateKey,t.globe.intersectsFrustum(t.frustumInModelCoordinates)&&(this.terrainRight=t.globe.tessellator.tessellate(t)),this.terrainLeft=null,t.globe.offset=-1,t.globeStateKey=t.globe.stateKey,t.globe.intersectsFrustum(t.frustumInModelCoordinates)&&(this.terrainLeft=t.globe.tessellator.tessellate(t))},O.prototype.draw2DContiguous=function(){this.terrainCenter&&(this.makeCurrent(0),this.deferOrderedRendering=this.terrainLeft||this.terrainRight,this.doDraw()),this.terrainRight&&(this.makeCurrent(1),this.deferOrderedRendering=this.terrainLeft||this.terrainLeft,this.doDraw()),this.deferOrderedRendering=!1,this.terrainLeft&&(this.makeCurrent(-1),this.doDraw()),this.subsurfaceMode&&this.hasStencilBuffer&&(this.deferOrderedRendering=!0,this.terrainCenter&&(this.makeCurrent(0),this.redrawSurface()),this.terrainRight&&(this.makeCurrent(1),this.redrawSurface()),this.terrainLeft&&(this.makeCurrent(-1),this.redrawSurface())),this.drawScreenRenderables()},O.prototype.pick2DContiguous=function(){this.terrainCenter&&(this.makeCurrent(0),this.deferOrderedRendering=this.terrainLeft||this.terrainRight,this.doPick()),this.terrainRight&&(this.makeCurrent(1),this.deferOrderedRendering=this.terrainLeft||this.terrainLeft,this.doPick()),this.deferOrderedRendering=!1,this.terrainLeft&&(this.makeCurrent(-1),this.doPick())},O.prototype.drawLayers=function(t){var e,n=Date.now(),r=this.drawContext,i=r.layers;r.accumulateOrderedRenderables=t;for(var o=0,a=i.length;o<a;o++)if(e=i[o]){r.currentLayer=e;try{e.render(r)}catch(t){f.log(f.LEVEL_SEVERE,"Error while rendering layer "+e.displayName+".\n"+t.toString())}}r.currentLayer=null;var s=Date.now();r.frameStatistics.layerRenderingTime=s-n},O.prototype.addLayer=function(t){t&&this.layers.push(t)},O.prototype.removeLayer=function(t){var e=this.indexOfLayer(t);e>=0&&this.layers.splice(e,1)},O.prototype.insertLayer=function(t,e){e&&this.layers.splice(t,0,e)},O.prototype.indexOfLayer=function(t){return this.layers.indexOf(t)},O.prototype.drawSurfaceRenderables=function(){var t,e=this.drawContext;for(e.reverseSurfaceRenderables();t=e.popSurfaceRenderable();)try{t.renderSurface(e)}catch(t){f.logMessage(f.LEVEL_WARNING,"WorldWindow","drawSurfaceRenderables","Error while rendering a surface renderable.\n"+t.message)}},O.prototype.drawOrderedRenderables=function(){var t,e=Date.now(),n=this.drawContext;if(n.sortOrderedRenderables(),this._orderedRenderingFilters)for(var r=0;r<this._orderedRenderingFilters.length;r++)this._orderedRenderingFilters[r](this.drawContext);for(n.orderedRenderingMode=!0;t=n.popOrderedRenderable();)try{t.renderOrdered(n)}catch(t){f.logMessage(f.LEVEL_WARNING,"WorldWindow","drawOrderedRenderables","Error while rendering an ordered renderable.\n"+t.message)}n.orderedRenderingMode=!1,n.frameStatistics.orderedRenderingTime=Date.now()-e},O.prototype.drawScreenRenderables=function(){for(var t,e=this.drawContext;t=e.nextScreenRenderable();)try{t.renderOrdered(e)}catch(t){f.logMessage(f.LEVEL_WARNING,"WorldWindow","drawOrderedRenderables","Error while rendering a screen renderable.\n"+t.message)}},O.prototype.resolveTopPick=function(){if(0!=this.drawContext.objectsAtPickPoint.objects.length){var t=this.drawContext.objectsAtPickPoint,e=this.drawContext.readPickColor(this.drawContext.pickPoint),n=null,r=null;if(e){for(var i=0,o=t.objects.length;i<o;i++){var a=t.objects[i];if(a.isTerrain&&(r=a),a.color.equals(e)&&(a.isOnTop=!0,n=a,r))break}this.drawContext.deepPicking||(t.clear(),n&&t.add(n),r&&r!=n&&t.add(r))}else t.clear()}},O.prototype.resolveTerrainPick=function(){for(var t,e=this.drawContext.objectsAtPickPoint,n=0,r=e.objects.length;n<r;n++)if((t=e.objects[n]).isTerrain){t.isOnTop=!0;break}},O.prototype.resolveRegionPick=function(){if(0!=this.drawContext.objectsAtPickPoint.objects.length)for(var t,e=this.drawContext.objectsAtPickPoint,n=this.drawContext.readPickColors(this.drawContext.pickRectangle),r=0,i=e.objects.length;r<i;r++)(t=e.objects[r])&&(n[t.color.toByteString()]?t.isOnTop=!0:t.userObject instanceof E&&(e.objects.splice(r,1),r-=1))},O.prototype.callRedrawCallbacks=function(t){for(var e=0,n=this._redrawCallbacks.length;e<n;e++)try{this._redrawCallbacks[e](this,t)}catch(t){f.log(f.LEVEL_SEVERE,"Exception calling redraw callback.\n"+t.toString())}},O.prototype.goTo=function(t,e){this.goToAnimator.goTo(t,e)},O.prototype.declutter=function(t,n){if(!n)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","declutter","Group ID is null, undefined or 0."));for(var r=[],i=0;i<t.orderedRenderables.length;i++){var o=t.orderedRenderables[i].orderedRenderable;o.declutterGroup===n&&r.push(o)}for(var a=[],s=0;s<r.length;s++){var u=r[s],l=u.screenBounds;l&&l.intersectsRectangles(a)?u.targetVisibility=0:(u.targetVisibility=1,l&&a.push(l))}},O.prototype.rayThroughScreenPoint=function(t){if(!t)throw new e(f.logMessage(f.LEVEL_SEVERE,"WorldWindow","rayThroughScreenPoint","missingPoint"));var n=new x(t[0],this.viewport.height-t[1],0),r=new x(0,0,0),i=new x(0,0,0);this.computeViewingTransform(this.scratchProjection,this.scratchModelview);var o=d.fromIdentity();o.setToMultiply(this.scratchProjection,this.scratchModelview);var a=d.fromIdentity();if(a.invertMatrix(o),!a.unProject(n,this.viewport,r))return null;if(n[2]=1,!a.unProject(n,this.viewport,i))return null;var s=this.scratchModelview.extractEyePoint(new x(0,0,0)),u=new x(s[0],s[1],s[2]),l=new x(i[0],i[1],i[2]);return l.subtract(r),l.normalize(),new h(u,l)},O})),i("util/WWMessage",[],(function(){"use strict";return function(t,e){this.type=t,this.source=e}})),i("WorldWind",["./formats/aaigrid/AAIGridConstants","./formats/aaigrid/AAIGridMetadata","./formats/aaigrid/AAIGridReader","./error/AbstractError","./geom/Angle","./shapes/Annotation","./shapes/AnnotationAttributes","./ArcBallCamera","./util/measure/AreaMeasurer","./error/ArgumentError","./globe/AsterV2ElevationCoverage","./layer/AtmosphereLayer","./shaders/AtmosphereProgram","./shaders/BasicProgram","./shaders/BasicTextureProgram","./util/BasicTimeSequence","./BasicWorldWindowController","./layer/BingAerialLayer","./layer/BingAerialWithLabelsLayer","./layer/BingRoadsLayer","./layer/BingWMSLayer","./layer/BMNGLandsatLayer","./layer/BMNGLayer","./layer/BMNGOneImageLayer","./layer/BMNGRestLayer","./geom/BoundingBox","./gesture/ClickRecognizer","./formats/collada/ColladaLoader","./formats/collada/ColladaScene","./util/Color","./shapes/Compass","./layer/CompassLayer","./layer/CoordinatesDisplayLayer","./util/Date","./layer/DigitalGlobeTiledImageLayer","./render/DoubleBufferedFbo","./gesture/DragRecognizer","./render/DrawContext","./globe/EarthElevationModel","./globe/EarthRestElevationCoverage","./globe/ElevationCoverage","./globe/ElevationModel","./FirstPersonCamera","./gesture/FlingRecognizer","./util/Font","./util/FrameStatistics","./layer/FrameStatisticsLayer","./render/FramebufferTexture","./render/FramebufferTile","./render/FramebufferTileController","./geom/Frustum","./globe/GebcoElevationCoverage","./shapes/GeographicMesh","./projections/GeographicProjection","./shapes/GeographicText","./formats/geojson/GeoJSONExporter","./formats/geojson/GeoJSONGeometry","./formats/geojson/GeoJSONGeometryCollection","./formats/geojson/GeoJSONGeometryLineString","./formats/geojson/GeoJSONGeometryMultiLineString","./formats/geojson/GeoJSONGeometryMultiPoint","./formats/geojson/GeoJSONGeometryMultiPolygon","./formats/geojson/GeoJSONGeometryPoint","./formats/geojson/GeoJSONGeometryPolygon","./formats/geojson/GeoJSONParser","./formats/geotiff/GeoTiffReader","./gesture/GestureRecognizer","./globe/Globe","./globe/Globe2D","./util/GoToAnimator","./shaders/GpuProgram","./cache/GpuResourceCache","./shaders/GpuShader","./layer/GriddedDataLayer","./shaders/GridParticleProgram","./shaders/GridParticleSimProgram","./shaders/GroundProgram","./util/HashMap","./layer/heatmap/HeatMapColoredTile","./layer/heatmap/HeatMapIntervalType","./layer/heatmap/HeatMapLayer","./layer/heatmap/HeatMapTile","./util/HighlightController","./util/ImageSource","./render/ImageTile","./util/Insets","./formats/kml/KmlAbstractView","./formats/kml/util/KmlAttribute","./formats/kml/styles/KmlBalloonStyle","./formats/kml/KmlCamera","./formats/kml/util/KmlChange","./formats/kml/styles/KmlColorStyle","./formats/kml/features/KmlContainer","./formats/kml/controls/KmlControls","./formats/kml/util/KmlCreate","./formats/kml/util/KmlDelete","./formats/kml/features/KmlDocument","./formats/kml/KmlElements","./formats/kml/util/KmlElementsFactory","./formats/kml/util/KmlElementsFactoryCached","./formats/kml/features/KmlFeature","./formats/kml/KmlFile","./formats/kml/KmlFileCache","./formats/kml/features/KmlFolder","./formats/kml/geom/KmlGeometry","./formats/kml/features/KmlGroundOverlay","./formats/kml/util/KmlHrefResolver","./formats/kml/KmlIcon","./formats/kml/styles/KmlIconStyle","./formats/kml/util/KmlImagePyramid","./formats/kml/util/KmlItemIcon","./formats/kml/styles/KmlLabelStyle","./formats/kml/KmlLatLonAltBox","./formats/kml/KmlLatLonBox","./formats/kml/KmlLatLonQuad","./formats/kml/geom/KmlLinearRing","./formats/kml/geom/KmlLineString","./formats/kml/styles/KmlLineStyle","./formats/kml/KmlLink","./formats/kml/styles/KmlListStyle","./formats/kml/KmlLocation","./formats/kml/KmlLod","./formats/kml/KmlLookAt","./formats/kml/geom/KmlMultiGeometry","./formats/kml/geom/KmlMultiTrack","./formats/kml/features/KmlNetworkLink","./formats/kml/util/KmlNetworkLinkControl","./formats/kml/util/KmlNodeTransformers","./formats/kml/KmlObject","./formats/kml/KmlOrientation","./formats/kml/features/KmlOverlay","./formats/kml/util/KmlPair","./formats/kml/features/KmlPhotoOverlay","./formats/kml/features/KmlPlacemark","./formats/kml/geom/KmlPoint","./formats/kml/geom/KmlPolygon","./formats/kml/styles/KmlPolyStyle","./formats/kml/util/KmlRefreshListener","./formats/kml/KmlRegion","./formats/kml/util/KmlRemoteFile","./formats/kml/util/KmlScale","./formats/kml/util/KmlSchema","./formats/kml/features/KmlScreenOverlay","./formats/kml/styles/KmlStyle","./formats/kml/styles/KmlStyleMap","./formats/kml/util/KmlStyleResolver","./formats/kml/styles/KmlStyleSelector","./formats/kml/styles/KmlSubStyle","./formats/kml/KmlTimePrimitive","./formats/kml/KmlTimeSpan","./formats/kml/KmlTimeStamp","./formats/kml/features/KmlTour","./formats/kml/geom/KmlTrack","./formats/kml/util/KmlTreeKeyValueCache","./formats/kml/controls/KmlTreeVisibility","./formats/kml/util/KmlUpdate","./formats/kml/util/KmlViewVolume","./formats/kml/KmzFile","./layer/LandsatRestLayer","./layer/Layer","./util/measure/LengthMeasurer","./util/Level","./util/LevelRowColumnUrlBuilder","./util/LevelSet","./geom/Line","./geom/Location","./util/Logger","./navigate/LookAtNavigator","./geom/Matrix","./geom/MeasuredLocation","./util/measure/MeasurerUtils","./cache/MemoryCache","./cache/MemoryCacheListener","./layer/MercatorTiledImageLayer","./navigate/Navigator","./util/NominatimGeocoder","./error/NotYetImplementedError","./util/Offset","./ogc/openSearch/responseFormats/atomParser/OpenSearchAtomParser","./ogc/openSearch/OpenSearchConstants","./ogc/openSearch/descriptionDocument/OpenSearchDescriptionDocument","./ogc/openSearch/responseFormats/atomParser/OpenSearchGeoRssParser","./ogc/openSearch/OpenSearchNamespaces","./ogc/openSearch/descriptionDocument/OpenSearchParameter","./ogc/openSearch/responseFormats/OpenSearchParserRegistry","./ogc/openSearch/OpenSearchRequest","./ogc/openSearch/OpenSearchService","./ogc/openSearch/descriptionDocument/OpenSearchUrl","./ogc/openSearch/OpenSearchUtils","./layer/OpenStreetMapImageLayer","./gesture/PanRecognizer","./shapes/Path","./util/PeriodicTimeSequence","./pick/PickedObject","./pick/PickedObjectList","./gesture/PinchRecognizer","./shapes/Placemark","./shapes/PlacemarkAttributes","./geom/Plane","./shapes/Polygon","./util/PolygonSplitter","./geom/Position","./projections/ProjectionEquirectangular","./projections/ProjectionGnomonic","./projections/ProjectionMercator","./projections/ProjectionPolarEquidistant","./projections/ProjectionUPS","./projections/ProjectionWgs84","./geom/Rectangle","./render/Renderable","./layer/RenderableLayer","./layer/RestTiledImageLayer","./gesture/RotationRecognizer","./shapes/ScreenImage","./shapes/ScreenText","./geom/Sector","./layer/Sentinel2CloudlessLayer","./shapes/ShapeAttributes","./util/editor/ShapeEditor","./formats/shapefile/Shapefile","./layer/ShowTessellationLayer","./shaders/SkyProgram","./layer/StarFieldLayer","./shaders/StarFieldProgram","./util/SunPosition","./shapes/SurfaceImage","./shapes/SurfaceCircle","./shapes/SurfaceEllipse","./shapes/SurfacePolygon","./shapes/SurfacePolyline","./shapes/SurfaceRectangle","./render/SurfaceRenderable","./shapes/SurfaceSector","./shapes/SurfaceShape","./shapes/SurfaceShapeTile","./shapes/SurfaceShapeTileBuilder","./render/SurfaceTile","./render/SurfaceTileRenderer","./shaders/SurfaceTileRendererProgram","./gesture/TapRecognizer","./layer/TectonicPlatesLayer","./globe/Terrain","./globe/TerrainTile","./globe/TerrainTileList","./globe/Tessellator","./shapes/Text","./shapes/TextAttributes","./render/TextRenderer","./render/Texture","./render/TextureTile","./util/Tile","./globe/TiledElevationCoverage","./layer/TiledImageLayer","./util/TileFactory","./gesture/TiltRecognizer","./gesture/Touch","./shapes/TriangleMesh","./error/UnsupportedOperationError","./globe/UsgsNedElevationCoverage","./globe/UsgsNedHiElevationCoverage","./util/UrlBuilder","./geom/Vec2","./geom/Vec3","./layer/ViewControlsLayer","./ogc/wcs/WcsCapabilities","./ogc/wcs/WcsCoverage","./ogc/wcs/WcsCoverageDescriptions","./globe/WcsEarthElevationCoverage","./util/WcsTileUrlBuilder","./ogc/wcs/WebCoverageService","./ogc/WfsCapabilities","./formats/wkt/Wkt","./formats/wkt/WktElements","./formats/wkt/WktExporter","./formats/wkt/geom/WktGeometryCollection","./formats/wkt/geom/WktLineString","./formats/wkt/geom/WktMultiLineString","./formats/wkt/geom/WktMultiPoint","./formats/wkt/geom/WktMultiPolygon","./formats/wkt/geom/WktObject","./formats/wkt/geom/WktPoint","./formats/wkt/geom/WktPolygon","./formats/wkt/WktTokens","./formats/wkt/geom/WktTriangle","./formats/wkt/WktType","./ogc/wms/WmsCapabilities","./layer/WmsLayer","./ogc/wms/WmsLayerCapabilities","./layer/WmsTimeDimensionedLayer","./util/WmsUrlBuilder","./ogc/wmts/WmtsCapabilities","./layer/WmtsLayer","./ogc/wmts/WmtsLayerCapabilities","./WorldWindow","./WorldWindowController","./util/WWMath","./util/WWMessage","./util/WWUtil","./util/XmlDocument"],(function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,m,y,v,b,E,_,w,S,x,T,O,C,A,L,P,R,M,k,I,N,D,j,F,V,B,U,G,W,K,z,H,Y,q,X,Z,J,Q,$,tt,et,nt,rt,it,ot,at,st,ut,lt,ct,ht,ft,pt,dt,gt,mt,yt,vt,bt,Et,_t,wt,St,xt,Tt,Ot,Ct,At,Lt,Pt,Rt,Mt,kt,It,Nt,Dt,jt,Ft,Vt,Bt,Ut,Gt,Wt,Kt,zt,Ht,Yt,qt,Xt,Zt,Jt,Qt,$t,te,ee,ne,re,ie,oe,ae,se,ue,le,ce,he,fe,pe,de,ge,me,ye,ve,be,Ee,_e,we,Se,xe,Te,Oe,Ce,Ae,Le,Pe,Re,Me,ke,Ie,Ne,De,je,Fe,Ve,Be,Ue,Ge,We,Ke,ze,He,Ye,qe,Xe,Ze,Je,Qe,$e,tn,en,nn,rn,on,an,sn,un,ln,cn,hn,fn,pn,dn,gn,mn,yn,vn,bn,En,_n,wn,Sn,xn,Tn,On,Cn,An,Ln,Pn,Rn,Mn,kn,In,Nn,Dn,jn,Fn,Vn,Bn,Un,Gn,Wn,Kn,zn,Hn,Yn,qn,Xn,Zn,Jn,Qn,$n,tr,er,nr,rr,ir,or,ar,sr,ur,lr,cr,hr,fr,pr,dr,gr,mr,yr,vr,br,Er,_r,wr,Sr,xr,Tr,Or,Cr,Ar,Lr,Pr,Rr,Mr,kr,Ir,Nr,Dr,jr,Fr,Vr,Br,Ur,Gr,Wr,Kr,zr,Hr,Yr,qr,Xr,Zr,Jr,Qr,$r,ti,ei,ni,ri,ii,oi,ai,si,ui,li,ci,hi,fi,pi,di,gi,mi,yi,vi,bi,Ei,_i,wi,Si,xi,Ti,Oi,Ci,Ai,Li,Pi){"use strict";var Ri={VERSION:"0.9.0",ABSOLUTE:"absolute",AFTER_REDRAW:"afterRedraw",BEFORE_REDRAW:"beforeRedraw",BEGAN:"began",CANCELLED:"cancelled",CHANGED:"changed",CLAMP_TO_GROUND:"clampToGround",EARTH_RADIUS:6371e3,EAST:"east",ENDED:"ended",FAILED:"failed",FILTER_LINEAR:"filter_linear",FILTER_NEAREST:"filter_nearest",GREAT_CIRCLE:"greatCircle",LINEAR:"linear",MULTI_POINT:"multiPoint",NORTH:"north",NULL:"null",OFFSET_FRACTION:"fraction",OFFSET_INSET_PIXELS:"insetPixels",OFFSET_PIXELS:"pixels",POINT:"point",POLYLINE:"polyline",POLYGON:"polygon",POSSIBLE:"possible",RECOGNIZED:"recognized",REDRAW_EVENT_TYPE:"WorldWindRedraw",RELATIVE_TO_GLOBE:"relativeToGlobe",RELATIVE_TO_GROUND:"relativeToGround",RELATIVE_TO_SCREEN:"relativeToScreen",RHUMB_LINE:"rhumbLine",SOUTH:"south",WEST:"west",WGS84_SEMI_MAJOR_AXIS:6378137,WGS84_INVERSE_FLATTENING:298.257223563};return Ri.AAIGridConstants=t,Ri.AAIGridMetadata=e,Ri.AAIGridReader=n,Ri.AbstractError=r,Ri.Angle=i,Ri.Annotation=o,Ri.AnnotationAttributes=a,Ri.ArcBallCamera=s,Ri.AreaMeasurer=u,Ri.ArgumentError=l,Ri.AsterV2ElevationCoverage=c,Ri.AtmosphereLayer=h,Ri.AtmosphereProgram=f,Ri.BasicProgram=p,Ri.BasicTextureProgram=d,Ri.BasicTimeSequence=g,Ri.BasicWorldWindowController=m,Ri.BingAerialLayer=y,Ri.BingAerialWithLabelsLayer=v,Ri.BingRoadsLayer=b,Ri.BingWMSLayer=E,Ri.BMNGLandsatLayer=_,Ri.BMNGLayer=w,Ri.BMNGOneImageLayer=S,Ri.BMNGRestLayer=x,Ri.BoundingBox=T,Ri.ClickRecognizer=O,Ri.ColladaLoader=C,Ri.ColladaScene=A,Ri.Color=L,Ri.Compass=P,Ri.CompassLayer=R,Ri.CoordinatesDisplayLayer=M,Ri.DateWW=k,Ri.DigitalGlobeTiledImageLayer=I,Ri.DoubleBufferedFbo=N,Ri.DragRecognizer=D,Ri.DrawContext=j,Ri.EarthElevationModel=F,Ri.EarthRestElevationCoverage=V,Ri.ElevationCoverage=B,Ri.ElevationModel=U,Ri.FirstPersonCamera=G,Ri.FlingRecognizer=W,Ri.Font=K,Ri.FrameStatistics=z,Ri.FrameStatisticsLayer=H,Ri.FramebufferTexture=Y,Ri.FramebufferTile=q,Ri.FramebufferTileController=X,Ri.Frustum=Z,Ri.GebcoElevationCoverage=J,Ri.GeographicMesh=Q,Ri.GeographicProjection=$,Ri.GeographicText=tt,Ri.GeoJSONExporter=et,Ri.GeoJSONGeometry=nt,Ri.GeoJSONGeometryCollection=rt,Ri.GeoJSONGeometryLineString=it,Ri.GeoJSONGeometryMultiLineString=ot,Ri.GeoJSONGeometryMultiPoint=at,Ri.GeoJSONGeometryMultiPolygon=st,Ri.GeoJSONGeometryPoint=ut,Ri.GeoJSONGeometryPolygon=lt,Ri.GeoJSONParser=ct,Ri.GeoTiffReader=ht,Ri.GestureRecognizer=ft,Ri.Globe=pt,Ri.Globe2D=dt,Ri.GoToAnimator=gt,Ri.GpuProgram=mt,Ri.GpuResourceCache=yt,Ri.GpuShader=vt,Ri.GriddedDataLayer=bt,Ri.GridParticleProgram=Et,Ri.GridParticleSimProgram=_t,Ri.GroundProgram=wt,Ri.HashMap=St,Ri.HeatMapColoredTile=xt,Ri.HeatMapIntervalType=Tt,Ri.HeatMapLayer=Ot,Ri.HeatMapTile=Ct,Ri.HighlightController=At,Ri.ImageSource=Lt,Ri.ImageTile=Pt,Ri.Insets=Rt,Ri.KmlAbstractView=Mt,Ri.KmlAttribute=kt,Ri.KmlBalloonStyle=It,Ri.KmlCamera=Nt,Ri.KmlChange=Dt,Ri.KmlColorStyle=jt,Ri.KmlContainer=Ft,Ri.KmlControls=Vt,Ri.KmlCreate=Bt,Ri.KmlDelete=Ut,Ri.KmlDocument=Gt,Ri.KmlElements=Wt,Ri.KmlElementsFactory=Kt,Ri.KmlElementsFactoryCached=zt,Ri.KmlFeature=Ht,Ri.KmlFile=Yt,Ri.KmlFileCache=qt,Ri.KmlFolder=Xt,Ri.KmlGeometry=Zt,Ri.KmlGroundOverlay=Jt,Ri.KmlHrefResolver=Qt,Ri.KmlIcon=$t,Ri.KmlIconStyle=te,Ri.KmlImagePyramid=ee,Ri.KmlItemIcon=ne,Ri.KmlLabelStyle=re,Ri.KmlLatLonAltBox=ie,Ri.KmlLatLonBox=oe,Ri.KmlLatLonQuad=ae,Ri.KmlLinearRing=se,Ri.KmlLineString=ue,Ri.KmlLineStyle=le,Ri.KmlListStyle=he,Ri.KmlLink=ce,Ri.KmlLocation=fe,Ri.KmlLod=pe,Ri.KmlLookAt=de,Ri.KmlMultiGeometry=ge,Ri.KmlMultiTrack=me,Ri.KmlNetworkLink=ye,Ri.KmlNetworkLinkControl=ve,Ri.KmlNodeTransformers=be,Ri.KmlObject=Ee,Ri.KmlOrientation=_e,Ri.KmlOverlay=we,Ri.KmlPair=Se,Ri.KmlPhotoOverlay=xe,Ri.KmlPlacemark=Te,Ri.KmlPoint=Oe,Ri.KmlPolygon=Ce,Ri.KmlPolyStyle=Ae,Ri.KmlRefreshListener=Le,Ri.KmlRegion=Pe,Ri.KmlRemoteFile=Re,Ri.KmlScale=Me,Ri.KmlSchema=ke,Ri.KmlScreenOverlay=Ie,Ri.KmlStyle=Ne,Ri.KmlStyleMap=De,Ri.KmlStyleResolver=je,Ri.KmlStyleSelector=Fe,Ri.KmlSubStyle=Ve,Ri.KmlTimePrimitive=Be,Ri.KmlTimeSpan=Ue,Ri.KmlTimeStamp=Ge,Ri.KmlTour=We,Ri.KmlTrack=Ke,Ri.KmlTreeKeyValueCache=ze,Ri.KmlTreeVisibility=He,Ri.KmlUpdate=Ye,Ri.KmlViewVolume=qe,Ri.KmzFile=Xe,Ri.LandsatRestLayer=Ze,Ri.Layer=Je,Ri.LengthMeasurer=Qe,Ri.Level=$e,Ri.LevelRowColumnUrlBuilder=tn,Ri.LevelSet=en,Ri.Line=nn,Ri.Location=rn,Ri.Logger=on,Ri.LookAtNavigator=an,Ri.Matrix=sn,Ri.MeasuredLocation=un,Ri.MeasurerUtils=ln,Ri.MemoryCache=cn,Ri.MemoryCacheListener=hn,Ri.MercatorTiledImageLayer=fn,Ri.Navigator=pn,Ri.NominatimGeocoder=dn,Ri.NotYetImplementedError=gn,Ri.Offset=mn,Ri.OpenSearchAtomParser=yn,Ri.OpenSearchConstants=vn,Ri.OpenSearchDescriptionDocument=bn,Ri.OpenSearchGeoRssParser=En,Ri.OpenSearchNamespaces=_n,Ri.OpenSearchParameter=wn,Ri.OpenSearchParserRegistry=Sn,Ri.OpenSearchRequest=xn,Ri.OpenSearchService=Tn,Ri.OpenSearchUrl=On,Ri.OpenSearchUtils=Cn,Ri.OpenStreetMapImageLayer=An,Ri.PanRecognizer=Ln,Ri.Path=Pn,Ri.PeriodicTimeSequence=Rn,Ri.PickedObject=Mn,Ri.PickedObjectList=kn,Ri.PinchRecognizer=In,Ri.Placemark=Nn,Ri.PlacemarkAttributes=Dn,Ri.Plane=jn,Ri.Polygon=Fn,Ri.PolygonSplitter=Vn,Ri.Position=Bn,Ri.ProjectionEquirectangular=Un,Ri.ProjectionGnomonic=Gn,Ri.ProjectionMercator=Wn,Ri.ProjectionPolarEquidistant=Kn,Ri.ProjectionUPS=zn,Ri.ProjectionWgs84=Hn,Ri.Rectangle=Yn,Ri.Renderable=qn,Ri.RenderableLayer=Xn,Ri.RestTiledImageLayer=Zn,Ri.RotationRecognizer=Jn,Ri.ScreenText=$n,Ri.ScreenImage=Qn,Ri.Sector=tr,Ri.Sentinel2CloudlessLayer=er,Ri.ShapeAttributes=nr,Ri.ShapeEditor=rr,Ri.Shapefile=ir,Ri.ShowTessellationLayer=or,Ri.SkyProgram=ar,Ri.StarFieldLayer=sr,Ri.StarFieldProgram=ur,Ri.SunPosition=lr,Ri.SurfaceImage=cr,Ri.SurfaceCircle=hr,Ri.SurfaceEllipse=fr,Ri.SurfacePolygon=pr,Ri.SurfacePolyline=dr,Ri.SurfaceRectangle=gr,Ri.SurfaceRenderable=mr,Ri.SurfaceSector=yr,Ri.SurfaceShape=vr,Ri.SurfaceShapeTile=br,Ri.SurfaceShapeTileBuilder=Er,Ri.SurfaceTile=_r,Ri.SurfaceTileRenderer=wr,Ri.SurfaceTileRendererProgram=Sr,Ri.TapRecognizer=xr,Ri.TectonicPlatesLayer=Tr,Ri.Terrain=Or,Ri.TerrainTile=Cr,Ri.TerrainTileList=Ar,Ri.Tessellator=Lr,Ri.Text=Pr,Ri.TextAttributes=Rr,Ri.TextRenderer=Mr,Ri.Texture=kr,Ri.TextureTile=Ir,Ri.Tile=Nr,Ri.TiledElevationCoverage=Dr,Ri.TiledImageLayer=jr,Ri.TileFactory=Fr,Ri.TiltRecognizer=Vr,Ri.Touch=Br,Ri.TriangleMesh=Ur,Ri.UsgsNedElevationCoverage=Gr,Ri.UsgsNedHiElevationCoverage=Wr,Ri.UnsupportedOperationError=Kr,Ri.UrlBuilder=zr,Ri.Vec2=Hr,Ri.Vec3=Yr,Ri.ViewControlsLayer=qr,Ri.WcsCapabilities=Xr,Ri.WcsCoverage=Zr,Ri.WcsCoverageDescriptions=Jr,Ri.WcsEarthElevationCoverage=Qr,Ri.WcsTileUrlBuilder=$r,Ri.WebCoverageService=ti,Ri.WfsCapabilities=ei,Ri.Wkt=ni,Ri.WktElements=ri,Ri.WktExporter=ii,Ri.WktGeometryCollection=oi,Ri.WktLineString=ai,Ri.WktMultiLineString=si,Ri.WktMultiPoint=ui,Ri.WktMultiPolygon=li,Ri.WktObject=ci,Ri.WktPoint=hi,Ri.WktPolygon=fi,Ri.WktTokens=pi,Ri.WktTriangle=di,Ri.WktType=gi,Ri.WmsCapabilities=mi,Ri.WmsLayer=yi,Ri.WmsLayerCapabilities=vi,Ri.WmsTimeDimensionedLayer=bi,Ri.WmsUrlBuilder=Ei,Ri.WmtsCapabilities=_i,Ri.WmtsLayer=wi,Ri.WmtsLayerCapabilities=Si,Ri.WWMath=Oi,Ri.WWMessage=Ci,Ri.WWUtil=Ai,Ri.WorldWindow=xi,Ri.WorldWindowController=Ti,Ri.configuration={gpuCacheSize:25e7,baseUrl:Ai.worldwindlibLocation()||Ai.currentUrlSansFilePart()+"/../",layerRetrievalQueueSize:16,coverageRetrievalQueueSize:16,bingLogoPlacement:new mn(Ri.OFFSET_INSET_PIXELS,7,Ri.OFFSET_PIXELS,7),bingLogoAlignment:new mn(Ri.OFFSET_FRACTION,1,Ri.OFFSET_FRACTION,0)},Ri.BingMapsKey=null,window.WorldWind=Ri,Ri})),r("WorldWind")}()}).call(this,n(78))},function(t,e,n){var r,i,o=n(115),a=n(308),s=n(309),u=n(310);void 0===(i="function"===typeof(r={Box:o,Circle:a,Point:s,QuadTree:u})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){var r=n(52),i=n(82),o=function(){"use strict";function t(e,n,i,o){r(this,t),this.x=e,this.y=n,this.r=i,this.rPow2=this.r*this.r,o&&(this.data=o)}return i(t,[{key:"_euclideanDistancePow2",value:function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}},{key:"contains",value:function(t){return this._euclideanDistancePow2(t,this)<=this.rPow2}},{key:"intersects",value:function(t){var e=function(t,e){return t>=e?t:e},n=function(t,e){return t<=e?t:e},r=this.x-e(t.x,n(this.x,t.x+t.w)),i=this.y-e(t.y,n(this.y,t.y+t.h));return r*r+i*i<=this.rPow2}}]),t}();t.exports=o},function(t,e,n){var r=n(52);t.exports=function t(e,n,i){"use strict";r(this,t),this.x=e,this.y=n,i&&(this.data=i)}},function(t,e,n){var r=n(52),i=n(82),o=n(115),a=function(){"use strict";function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];r(this,t),this._container=e,this._config=this._parseConfig(n),this._isDivided=!1,this._points=[];var o=!0,a=!1,s=void 0;try{for(var u,l=i[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;this._insert(c)}}catch(h){a=!0,s=h}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}}return i(t,[{key:"_parseConfig",value:function(t){return Object.assign({},{capacity:4,removeEmptyNodes:!1},t)}},{key:"getTree",value:function(){return this._isDivided?{ne:this._ne.getTree(),nw:this._nw.getTree(),se:this._se.getTree(),sw:this._sw.getTree()}:this._getNodePointAmount()}},{key:"getAllPoints",value:function(){var t=[];return this._getAllPoints(t),t}},{key:"_getAllPoints",value:function(t){this._isDivided?(this._ne._getAllPoints(t),this._nw._getAllPoints(t),this._se._getAllPoints(t),this._sw._getAllPoints(t)):Array.prototype.push.apply(t,this._points.slice())}},{key:"_getNodePointAmount",value:function(){return this._points.length}},{key:"_divide",value:function(){this._isDivided=!0;var e=this._container.x,n=this._container.y,r=this._container.w/2,i=this._container.h/2;this._ne=new t(new o(e+r,n,r,i),this._config,this._points.slice()),this._nw=new t(new o(e,n,r,i),this._config,this._points.slice()),this._se=new t(new o(e+r,n+i,r,i),this._config,this._points.slice()),this._sw=new t(new o(e,n+i,r,i),this._config,this._points.slice()),this._points.length=0,this._points=[]}},{key:"remove",value:function(t){if(t.constructor===Array){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this._remove(a)}}catch(s){n=!0,r=s}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}else this._remove(t)}},{key:"_remove",value:function(t){if(this._container.contains(t))if(this._isDivided)this._ne._remove(t),this._nw._remove(t),this._se._remove(t),this._sw._remove(t),this._config.removeEmptyNodes&&(0!==this._ne._getNodePointAmount()||this._ne._isDivided||0!==this._nw._getNodePointAmount()||this._nw._isDivided||0!==this._se._getNodePointAmount()||this._se._isDivided||0!==this._sw._getNodePointAmount()||this._sw._isDivided||(this._isDivided=!1,delete this._ne,delete this._nw,delete this._se,delete this._sw));else for(var e=this._points.length-1;e>=0;e--)t.x===this._points[e].x&&t.y===this._points[e].y&&this._points.splice(e,1)}},{key:"insert",value:function(t){if(t.constructor===Array){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this._insert(a)}}catch(s){n=!0,r=s}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}else this._insert(t)}},{key:"_insert",value:function(t){if(!this._container.contains(t))return!1;if(!this._isDivided){if(this._getNodePointAmount()<this._config.capacity)return this._points.push(t),!0;this._divide()}return!!this._ne._insert(t)||(!!this._nw._insert(t)||(!!this._se._insert(t)||this._sw._insert(t)))}},{key:"query",value:function(t){var e=[];return this._query(t,e),e}},{key:"_query",value:function(t,e){if(!t.intersects(this._container))return e;if(this._isDivided)this._ne._query(t,e),this._nw._query(t,e),this._se._query(t,e),this._sw._query(t,e);else{var n=this._points.filter((function(e){return t.contains(e)}));Array.prototype.push.apply(e,n)}return e}},{key:"clear",value:function(){this._points=[],this._isDivided=!1,delete this._ne,delete this._nw,delete this._se,delete this._sw}}]),t}();t.exports=a},function(t,e,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){var t={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},e={"*":!0};function n(t){return encodeURI(t).replace(/%25[0-9][0-9]/g,(function(t){return"%"+t.substring(3)}))}function r(t){return t=t.replace(/%../g,""),encodeURIComponent(t)===t}function i(i){var o="";t[i.charAt(0)]&&(o=i.charAt(0),i=i.substring(1));var a="",s="",u=!0,l=!1,c=!1;"+"==o?u=!1:"."==o?(s=".",a="."):"/"==o?(s="/",a="/"):"#"==o?(s="#",u=!1):";"==o?(s=";",a=";",l=!0,c=!0):"?"==o?(s="?",a="&",l=!0):"&"==o&&(s="&",a="&",l=!0);for(var h=[],f=i.split(","),p=[],d={},g=0;g<f.length;g++){var m=f[g],y=null;if(-1!=m.indexOf(":")){var v=m.split(":");m=v[0],y=parseInt(v[1])}for(var b={};e[m.charAt(m.length-1)];)b[m.charAt(m.length-1)]=!0,m=m.substring(0,m.length-1);var E={truncate:y,name:m,suffices:b};p.push(E),d[m]=E,h.push(m)}return{varNames:h,prefix:s,substitution:function(t){for(var e="",r=0,i=0;i<p.length;i++){var o=p[i],h=t(o.name);if(null==h||Array.isArray(h)&&0==h.length||"object"==typeof h&&0==Object.keys(h).length)r++;else if(e+=i==r?s:a||",",Array.isArray(h)){l&&(e+=o.name+"=");for(var f=0;f<h.length;f++)f>0&&(e+=o.suffices["*"]&&a||",",o.suffices["*"]&&l&&(e+=o.name+"=")),e+=u?encodeURIComponent(h[f]).replace(/!/g,"%21"):n(h[f])}else if("object"==typeof h){l&&!o.suffices["*"]&&(e+=o.name+"=");var d=!0;for(var g in h)d||(e+=o.suffices["*"]&&a||","),d=!1,e+=u?encodeURIComponent(g).replace(/!/g,"%21"):n(g),e+=o.suffices["*"]?"=":",",e+=u?encodeURIComponent(h[g]).replace(/!/g,"%21"):n(h[g])}else l&&(e+=o.name,c&&""==h||(e+="=")),null!=o.truncate&&(h=h.substring(0,o.truncate)),e+=u?encodeURIComponent(h).replace(/!/g,"%21"):n(h)}return e},unSubstitution:function(t,e,n){if(s&&(t=t.substring(s.length)),1==p.length&&p[0].suffices["*"]){for(var i=(S=p[0]).name,o=S.suffices["*"]?t.split(a||","):[t],c=u&&-1!=t.indexOf("="),h=1;h<o.length;h++)t=o[h],c&&-1==t.indexOf("=")&&(o[h-1]+=(a||",")+t,o.splice(h,1),h--);for(h=0;h<o.length;h++)t=o[h],u&&-1!=t.indexOf("=")&&(c=!0),1==(v=t.split(",")).length?o[h]=v[0]:o[h]=v;if(l||c){for(var f=e[i]||{},g=0;g<o.length;g++){var m=t;if(!l||m){if("string"==typeof o[g]){var y=(t=o[g]).split("=",1)[0];if(t=t.substring(y.length+1),u){if(n&&!r(t))return;t=decodeURIComponent(t)}m=t}else{if(y=(t=o[g][0]).split("=",1)[0],t=t.substring(y.length+1),u){if(n&&!r(t))return;t=decodeURIComponent(t)}o[g][0]=t,m=o[g]}if(u){if(n&&!r(y))return;y=decodeURIComponent(y)}void 0!==f[y]?Array.isArray(f[y])?f[y].push(m):f[y]=[f[y],m]:f[y]=m}}1==Object.keys(f).length&&void 0!==f[i]?e[i]=f[i]:e[i]=f}else{if(u)for(g=0;g<o.length;g++){var v=o[g];if(Array.isArray(v))for(var b=0;b<v.length;b++){if(n&&!r(v[b]))return;v[b]=decodeURIComponent(v[b])}else{if(n&&!r(v))return;o[g]=decodeURIComponent(v)}}void 0!==e[i]?Array.isArray(e[i])?e[i]=e[i].concat(o):e[i]=[e[i]].concat(o):1!=o.length||S.suffices["*"]?e[i]=o:e[i]=o[0]}}else{o=1==p.length?[t]:t.split(a||",");var E={};for(h=0;h<o.length;h++){for(var _=0;_<p.length-1&&_<h&&!p[_].suffices["*"];_++);if(_!=h){for(var w=p.length-1;w>0&&p.length-w<o.length-h&&!p[w].suffices["*"];w--);p.length-w!=o.length-h?E[h]=_:E[h]=w}else E[h]=h}for(h=0;h<o.length;h++)if((t=o[h])||!l){if(v=t.split(","),c=!1,l){i=(t=v[0]).split("=",1)[0],t=t.substring(i.length+1),v[0]=t;var S=d[i]||p[0]}else i=(S=p[E[h]]).name;for(g=0;g<v.length;g++)if(u){if(n&&!r(v[g]))return;v[g]=decodeURIComponent(v[g])}(l||S.suffices["*"])&&void 0!==e[i]?Array.isArray(e[i])?e[i]=e[i].concat(v):e[i]=[e[i]].concat(v):1!=v.length||S.suffices["*"]?e[i]=v:e[i]=v[0]}}return 1}}}function o(t){if(!(this instanceof o))return new o(t);for(var e=t.split("{"),n=[e.shift()],r=[],a=[],s=[],u=[];e.length>0;){var l=e.shift(),c=l.split("}")[0],h=l.substring(c.length+1),f=i(c);a.push(f.substitution),s.push(f.unSubstitution),r.push(f.prefix),n.push(h),u=u.concat(f.varNames)}this.fill=function(t){if(t&&"function"!==typeof t){var e=t;t=function(t){return e[t]}}for(var r=n[0],i=0;i<a.length;i++)r+=(0,a[i])(t),r+=n[i+1];return r},this.fromUri=function(t,e){e=e||{};for(var i={},o=0;o<n.length;o++){var a=n[o];if(t.substring(0,a.length)!==a)return;if(t=t.substring(a.length),o>=n.length-1){if(""==t)break;return}var u=r[o];if(!u||t.substring(0,u.length)===u){for(var l=n[o+1],c=o;;){if(c==n.length-2){var h=t.substring(t.length-l.length);if(h!==l)return;var f=t.substring(0,t.length-l.length);t=h}else if(l){var p=t.indexOf(l);f=t.substring(0,p),t=t.substring(p)}else if(r[c+1])-1===(p=t.indexOf(r[c+1]))&&(p=t.length),f=t.substring(0,p),t=t.substring(p);else{if(n.length>c+2){c++,l=n[c+1];continue}f=t,t=""}break}if(!s[o](f,i,e.strict))return}}return i},this.varNames=u,this.template=t}return o.prototype={toString:function(){return this.template},fillFromObject:function(t){return this.fill(t)},test:function(t,e){return!!this.fromUri(t,e)}},o})?r.apply(e,i):r)||(t.exports=o)},,function(t,e,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function v(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw t.framesToPop=1,t}}function b(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);v(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function w(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||E}function S(){}function x(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||E}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&b("85"),this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},S.prototype=w.prototype;var T=x.prototype=new S;T.constructor=x,r(T,w.prototype),T.isPureReactComponent=!0;var O={current:null,currentDispatcher:null},C=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function L(t,e,n){var r=void 0,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)C.call(e,r)&&!A.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:O.current}}function P(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var R=/\/+/g,M=[];function k(t,e,n,r){if(M.length){var i=M.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function I(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function N(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+D(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+D(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=y&&e[y]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+D(s,l++),r,i);else"object"===s&&b("31","[object Object]"===(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return u}(t,"",e,n)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function j(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?V(t,r,n,(function(t){return t})):null!=t&&(P(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(R,"$&/")+"/")+n)),r.push(t))}function V(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(R,"$&/")+"/"),N(t,F,e=k(e,o,r,i)),I(e)}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return V(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;N(t,j,e=k(null,null,e,n)),I(e)},count:function(t){return N(t,(function(){return null}),null)},toArray:function(t){var e=[];return V(t,e,null,(function(t){return t})),e},only:function(t){return P(t)||b("143"),t}},createRef:function(){return{current:null}},Component:w,PureComponent:x,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:p,render:t}},lazy:function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:g,type:t,compare:void 0===e?null:e}},Fragment:s,StrictMode:u,Suspense:d,createElement:L,cloneElement:function(t,e,n){(null===t||void 0===t)&&b("267",t);var i=void 0,a=r({},t.props),s=t.key,u=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,l=O.current),void 0!==e.key&&(s=""+e.key);var c=void 0;for(i in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)C.call(e,i)&&!A.hasOwnProperty(i)&&(a[i]=void 0===e[i]&&void 0!==c?c[i]:e[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var h=0;h<i;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:o,type:t.type,key:s,ref:u,props:a,_owner:l}},createFactory:function(t){var e=L.bind(null,t);return e.type=t,e},isValidElement:P,version:"16.7.0",unstable_ConcurrentMode:f,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:O,assign:r}},U={default:B},G=U&&B||U;t.exports=G.default||G},function(t,e,n){var r,i;window,t.exports=(r=n(315),i=n(5),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=32)}([function(t,e){t.exports=r},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n(13);var r=n(8),i=n.n(r);function o(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&(e[0]="react-i18next:: ".concat(e[0])),console.warn.apply(null,e)}}var a={};function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&a[e[0]]||("string"==typeof e[0]&&(a[e[0]]=new Date),o.apply(void 0,e))}function u(){t&&t.env}var l=!1,c=!1;function h(t,e){!c&&t.initialI18nStore&&(t.i18n.services.resourceStore.data=t.initialI18nStore,e&&(t.i18n.options.isInitialSSR=!0),t.i18nOptions&&(t.i18nOptions.wait=!1),c=!0),!l&&t.initialLanguage&&(t.i18n.changeLanguage(t.initialLanguage),l=!0)}Object.entries;var f=Object.prototype.hasOwnProperty;function p(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function d(t,e){if(p(t,e))return!0;if("object"!==i()(t)||null===t||"object"!==i()(e)||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!f.call(e,n[o])||!p(t[n[o]],e[n[o]]))return!1;return!0}}).call(this,n(19))},function(t,e,n){var r=n(8),i=n(9);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(24);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(25);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(23);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e,n){"use strict";var r=n(26),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={};a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var s=Object.defineProperty,u=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(f){var p=h(n);p&&p!==f&&t(e,p,r)}var d=u(n);l&&(d=d.concat(l(n)));for(var g=a[e.$$typeof]||i,m=a[n.$$typeof]||i,y=0;y<d.length;++y){var v=d[y];if(!(o[v]||r&&r[v]||m&&m[v]||g&&g[v])){var b=c(n,v);try{s(e,v,b)}catch(t){}}}return e}return e}},function(t,e){t.exports=i},function(t,e,n){var r=n(20),i=n(21),o=n(22);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e,n){t.exports={parse:n(28),stringify:n(31)}},function(t){t.exports=JSON.parse('{"days":{"monday":"Pond\u011bl\xed","wednesday":"St\u0159eda"},"cancelCapitalized":"Zru\u0161it","createCapitalized":"Vytvo\u0159it","deleteCapitalized":"Smazat","months":{"january":"Leden","february":"\xdanor","march":"B\u0159ezen"},"nameCapitalized":"N\xe1zev","saveCapitalized":"Ulo\u017eit","user":{"login":"P\u0159ihl\xe1sit","logout":"Odhl\xe1sit","passphrase":"Heslo"},"layers":{"backgroundLayer":"Podkladov\xe1 vrstva","backgroundLayer_plural":"Podkladov\xe9 vrstvy","layers":"Vrstvy","layer":"Vrstva"}}')},function(t){t.exports=JSON.parse('{"days":{"monday":"Monday","tuesday":"Tuesday","wednesday":"Wednesday"},"cancelCapitalized":"Cancel","createCapitalized":"Create","deleteCapitalized":"Delete","months":{"january":"January","february":"February","march":"March"},"nameCapitalized":"Name","saveCapitalized":"Save","user":{"login":"Log in","logout":"Log out","passphrase":"Passphrase"},"layers":{"backgroundLayer":"Background layer","backgroundLayer_plural":"Background layers","layers":"Layers","layer":"Layer"}}')},function(t){t.exports=JSON.parse('{"formLabels":{"allApps":"V\u0161echny aplikace","application":"Aplikace","boundingBox":"Bounding box","color":"Barva","configuration":"Konfigurace","description":"Popis","geometry":"Geometrie","name":"N\xe1zev","nameInternal":"Intern\xed n\xe1zev","period":"Perioda","state":"Stav","type":"Typ","unit":"Jednotka","valueType":"Typ hodnoty"},"metadata":{"names":{"attribute":"Atribut","attribute_plural":"Atributy","case":"P\u0159\xedpad","case_plural":"P\u0159\xedpady","esponFuoreIndicator":"Indik\xe1tor","esponFuoreIndicator_plural":"Indik\xe1tory","layerTemplate":"\u0160ablona vrstvy","layerTemplate_plural":"\u0160ablony vrstev","period":"Perioda","period_plural":"Periody","place":"M\xedsto","place_plural":"M\xedsta","tag":"Tag","tag_plural":"Tagy","view":"Pohled","view_plural":"Pohledy"}},"apps":{"names":{"scope":"R\xe1mec","scope_plural":"R\xe1mce","configuration":"Konfigurace","configuration_plural":"Konfigurace","layerTrees":"Stromy vrstev"}}}')},function(t){t.exports=JSON.parse('{"formLabels":{"allApps":"All applications","application":"Application","boundingBox":"Bounding box","color":"Color","configuration":"Configuration","description":"Description","geometry":"Geometry","name":"Name","nameInternal":"Internal name","period":"Period","state":"State","type":"Type","unit":"Unit","valueType":"Value type"},"metadata":{"names":{"attribute":"Attribute","attribute_plural":"Attributes","case":"Case","case_plural":"Cases","esponFuoreIndicator":"Indicator","esponFuoreIndicator_plural":"Indicators","layerTemplate":"Layer template","layerTemplate_plural":"Layer templates","period":"Period","period_plural":"Periods","place":"Place","place_plural":"Places","tag":"Tag","tag_plural":"Tags","view":"View","view_plural":"Views"}},"apps":{"names":{"scope":"Scope","scope_plural":"Scopes","configuration":"Configuration","configuration_plural":"Configurations","layerTrees":"Layer trees"}}}')},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){"use strict";t.exports=n(27)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function _(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case p:case y:case m:case l:return t;default:return e}}case o:return e}}}function w(t){return _(t)===f}e.typeOf=_,e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=y,e.Memo=m,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===f||t===u||t===s||t===d||t===g||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===l||t.$$typeof===c||t.$$typeof===p||t.$$typeof===v||t.$$typeof===b||t.$$typeof===E)},e.isAsyncMode=function(t){return w(t)||_(t)===h},e.isConcurrentMode=w,e.isContextConsumer=function(t){return _(t)===c},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return _(t)===p},e.isFragment=function(t){return _(t)===a},e.isLazy=function(t){return _(t)===y},e.isMemo=function(t){return _(t)===m},e.isPortal=function(t){return _(t)===o},e.isProfiler=function(t){return _(t)===u},e.isStrictMode=function(t){return _(t)===s},e.isSuspense=function(t){return _(t)===d}},function(t,e,n){var r=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,i=n(29),o=Object.create?Object.create(null):{};function a(t,e,n,r,i){var o=e.indexOf("<",r),a=e.slice(r,-1===o?void 0:o);/^\s*$/.test(a)&&(a=" "),(!i&&o>-1&&n+t.length>=0||" "!==a)&&t.push({type:"text",content:a})}t.exports=function(t,e){e||(e={}),e.components||(e.components=o);var n,s=[],u=-1,l=[],c={},h=!1;return t.replace(r,(function(r,o){if(h){if(r!=="</"+n.name+">")return;h=!1}var f,p="/"!==r.charAt(1),d=0===r.indexOf("\x3c!--"),g=o+r.length,m=t.charAt(g);p&&!d&&(u++,"tag"===(n=i(r)).type&&e.components[n.name]&&(n.type="component",h=!0),n.voidElement||h||!m||"<"===m||a(n.children,t,u,g,e.ignoreWhitespace),c[n.tagName]=n,0===u&&s.push(n),(f=l[u-1])&&f.children.push(n),l[u]=n),(d||!p||n.voidElement)&&(d||u--,!h&&"<"!==m&&m&&a(f=-1===u?s:l[u].children,t,u,g,e.ignoreWhitespace))})),!s.length&&t.length&&a(s,t,0,0,e.ignoreWhitespace),s}},function(t,e,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,i=n(30);t.exports=function(t){var e,n=0,o=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return t.replace(r,(function(r){if("="===r)return o=!0,void n++;o?0===n?((i[r]||"/"===t.charAt(t.length-2))&&(a.voidElement=!0),a.name=r):(a.attrs[e]=r.replace(/^['"]|['"]$/g,""),e=void 0):(e&&(a.attrs[e]=e),e=r),n++,o=!1})),a}},function(t,e){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(t,e){function n(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(t){var e=[];for(var n in t)e.push(n+'="'+t[n]+'"');return e.length?" "+e.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(n,"")+"</"+e.name+">"}}t.exports=function(t){return t.reduce((function(t,e){return t+n("",e)}),"")}},function(t,e,n){"use strict";n.r(e);var r=n(12);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(e))}},y=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),this.init(e,n)}return l(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||m,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,a({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}()),v=function(){function t(){s(this,t),this.observers={}}return l(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.observers[t]){var i=[].concat(this.observers[t]);i.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function b(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function E(t){return null==t?"":""+t}function _(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function w(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!t[a]&&n&&(t[a]=new n),t=t[a]}return i()?{}:{obj:t,k:r(o.shift())}}function S(t,e,n){var r=w(t,e,Object);r.obj[r.k]=n}function x(t,e){var n=w(t,e),r=n.obj,i=n.k;if(r)return r[i]}function T(t,e,n){var r=x(t,n);return void 0!==r?r:x(e,n)}function O(t,e,n){for(var r in e)r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):O(t[r],e[r],n):t[r]=e[r];return t}function C(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function L(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return A[t]})):t}var P=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return s(this,e),n=h(this,f(e).call(this)),v.call(c(n)),n.data=t||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return d(e,t),l(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=t.split(".")),x(this.data,o)}},{key:"addResource",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),S(this.data,a,r),i.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(t,e,i,n[i],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var u=x(this.data,s)||{};r?O(u,n,i):u=a({},u,n),S(this.data,s,u),o.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?a({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(v),R={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach((function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))})),e}},M={},k=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,e),n=h(this,f(e).call(this)),v.call(c(n)),_(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,c(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=y.create("translator"),n}return d(e,t),l(e,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var o=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),t=o.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}}},{key:"translate",value:function(t,e){var n=this;if("object"!==i(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,o=this.extractFromKey(t[t.length-1],e),s=o.key,u=o.namespaces,l=u[u.length-1],c=e.lng||this.language,h=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(h){var f=e.nsSeparator||this.options.nsSeparator;return l+f+s}return s}var p=this.resolve(t,e),d=p&&p.res,g=p&&p.usedKey||s,m=p&&p.exactUsedKey||s,y=Object.prototype.toString.apply(d),v=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,_="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(E&&d&&_&&v.indexOf(y)<0&&("string"!=typeof b||"[object Array]"!==y)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,d,e):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(r){var w="[object Array]"===y,S=w?[]:{},x=w?m:g;for(var T in d)if(Object.prototype.hasOwnProperty.call(d,T)){var O="".concat(x).concat(r).concat(T);S[T]=this.translate(O,a({},e,{joinArrays:!1,ns:u})),S[T]===O&&(S[T]=d[T])}d=S}}else if(E&&"string"==typeof b&&"[object Array]"===y)(d=d.join(b))&&(d=this.extendTranslation(d,t,e));else{var C=!1,A=!1;if(!this.isValidLookup(d)&&void 0!==e.defaultValue){if(C=!0,void 0!==e.count){var L=this.pluralResolver.getSuffix(c,e.count);d=e["defaultValue".concat(L)]}d||(d=e.defaultValue)}this.isValidLookup(d)||(A=!0,d=s);var P=e.defaultValue&&e.defaultValue!==d&&this.options.updateMissing;if(A||C||P){this.logger.log(P?"updateKey":"missingKey",c,l,s,P?e.defaultValue:d);var R=[],M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&M&&M[0])for(var k=0;k<M.length;k++)R.push(M[k]);else"all"===this.options.saveMissingTo?R=this.languageUtils.toResolveHierarchy(e.lng||this.language):R.push(e.lng||this.language);var I=function(t,r){n.options.missingKeyHandler?n.options.missingKeyHandler(t,l,r,P?e.defaultValue:d,P,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,l,r,P?e.defaultValue:d,P,e),n.emit("missingKey",t,l,r,d)};if(this.options.saveMissing){var N=void 0!==e.count&&"string"!=typeof e.count;this.options.saveMissingPlurals&&N?R.forEach((function(t){n.pluralResolver.getPluralFormsOfKey(t,s).forEach((function(e){return I([t],e)}))})):I(R,s)}}d=this.extendTranslation(d,t,e,p),A&&d===s&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(s)),A&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d}},{key:"extendTranslation",value:function(t,e,n,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(a({},n,{interpolation:a({},this.options.interpolation,n.interpolation)}));var o=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(o=a({},this.options.interpolation.defaultVariables,o)),t=this.interpolator.interpolate(t,o,n.lng||this.language,n),!1!==n.nest&&(t=this.interpolator.nest(t,(function(){return i.translate.apply(i,arguments)}),n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,u="string"==typeof s?[s]:s;return null!=t&&u&&u.length&&!1!==n.applyPostProcessor&&(t=R.handle(u,t,e,this.options&&this.options.postProcessPassResolved?a({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var u=a.extractFromKey(t,s),l=u.key;n=l;var c=u.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var h=void 0!==s.count&&"string"!=typeof s.count,f=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(t){a.isValidLookup(e)||(o=t,!M["".concat(p[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(M["".concat(p[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(n,'" for namespace "').concat(o,'" for languages "').concat(p.join(", "),"\" won't get resolved as namespace was not yet loaded"),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(e)){i=n;var o,u,c=l,p=[c];for(a.i18nFormat&&a.i18nFormat.addLookupKeys?a.i18nFormat.addLookupKeys(p,l,n,t,s):(h&&(o=a.pluralResolver.getSuffix(n,s.count)),h&&f&&p.push(c+o),f&&p.push(c+="".concat(a.options.contextSeparator).concat(s.context)),h&&p.push(c+=o));u=p.pop();)a.isValidLookup(e)||(r=u,e=a.getResource(n,t,u,s))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}]),e}(v);function I(t){return t.charAt(0).toUpperCase()+t.slice(1)}var N=function(){function t(e){s(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=y.create("languageUtils")}return l(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=I(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=I(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=I(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){t&&(n.isWhitelisted(t)?i.push(t):n.logger.warn("rejecting non-whitelisted language code: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach((function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))})),i}}]),t}(),D=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],j={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||t>10)&&t%10==0?2:3)}};function F(){var t={};return D.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:j[e.fc]}}))})),t}var V=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),this.languageUtils=e,this.options=n,this.logger=y.create("pluralResolver"),this.rules=F()}return l(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=this,r=[],i=this.getRule(t);return i?(i.numbers.forEach((function(i){var o=n.getSuffix(t,i);r.push("".concat(e).concat(o))})),r):r}},{key:"getSuffix",value:function(t,e){var n=this,r=this.getRule(t);if(r){var i=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),B=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.logger=y.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return l(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:L,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?C(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?C(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?C(e.nestingPrefix):e.nestingPrefixEscaped||C("$t("),this.nestingSuffix=e.nestingSuffix?C(e.nestingSuffix):e.nestingSuffixEscaped||C(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var i,o,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(s.formatSeparator)<0){var i=T(e,u,t);return s.alwaysFormat?s.format(i,void 0,n):i}var o=t.split(s.formatSeparator),a=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(T(e,u,a),l,n,r)};this.resetRegExp();var h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler;for(a=0;i=this.regexpUnescape.exec(t);){if(void 0===(o=c(i[1].trim())))if("function"==typeof h){var f=h(t,i,r);o="string"==typeof f?f:""}else this.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(t)),o="";else"string"==typeof o||this.useRawValueToEscape||(o=E(o));if(t=t.replace(i[0],l(o)),this.regexpUnescape.lastIndex=0,++a>=this.maxReplaces)break}for(a=0;i=this.regexp.exec(t);){if(void 0===(o=c(i[1].trim())))if("function"==typeof h){var p=h(t,i,r);o="string"==typeof p?p:""}else this.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(t)),o="";else"string"==typeof o||this.useRawValueToEscape||(o=E(o));if(o=this.escapeValue?l(this.escape(o)):l(o),t=t.replace(i[0],o),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a({},i);function s(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);t=r[0],i=(i=this.interpolate(i,o)).replace(/'/g,'"');try{o=JSON.parse(i),e&&(o=a({},e,o))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(i)}return delete o.defaultValue,t}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(t);){if((r=e(s.call(this,n[1].trim(),o),o))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=E(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}(),U=function(t){function e(t,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,e),i=h(this,f(e).call(this)),v.call(c(i)),i.backend=t,i.store=n,i.services=r,i.languageUtils=r.languageUtils,i.options=o,i.logger=y.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,o.backend,o),i}return d(e,t),l(e,[{key:"queueLoad",value:function(t,e,n,r){var i=this,o=[],a=[],s=[],u=[];return t.forEach((function(t){var r=!0;e.forEach((function(e){var s="".concat(t,"|").concat(e);!n.reload&&i.store.hasResourceBundle(t,e)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),u.indexOf(e)<0&&u.push(e)))})),r||s.push(t)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(t,e,n){var r=g(t.split("|"),2),i=r[0],o=r[1];e&&this.emit("failedLoading",i,o,e),n&&this.store.addResourceBundle(i,o,n),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(n){var r,s,u,l,c;r=n.loaded,s=o,(l=(u=w(r,[i],Object)).obj)[c=u.k]=l[c]||[],l[c].push(s),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){a[t]||(a[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){a[t].indexOf(e)<0&&a[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(s,u){s&&u&&i<5?setTimeout((function(){r.read.call(r,t,e,n,i+1,2*o,a)}),o):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),i=g(r,2),o=i[0],a=i[1];this.read(o,a,"read",void 0,void 0,(function(r,i){r&&e.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(o," failed"),r),!r&&i&&e.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(o),i),e.loaded(t,r,i)}))}},{key:"saveMissing",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" for namespace "').concat(e,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,a({},o,{isUpdate:i})),t&&t[0]&&this.store.addResource(t[0],e,n,r))}}]),e}(v);function G(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===i(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===i(t[2])||"object"===i(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3}}}function W(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}function K(){}var z,H=new(function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(s(this,e),t=h(this,f(e).call(this)),v.call(c(t)),t.options=W(n),t.services={},t.logger=y,t.modules={external:[]},r&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,r),h(t,c(t));setTimeout((function(){t.init(n,r)}),0)}return t}return d(e,t),l(e,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),this.options=a({},G(),this.options,W(e)),this.format=this.options.interpolation.format,n||(n=K),!this.options.isClone){this.modules.logger?y.init(r(this.modules.logger),this.options):y.init(null,this.options);var i=new N(this.options);this.store=new P(this.options.resources,this.options);var o=this.services;o.logger=y,o.resourceStore=this.store,o.languageUtils=i,o.pluralResolver=new V(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new B(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new U(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new k(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var s=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var u=b(),l=function(){t.changeLanguage(t.options.lng,(function(e,r){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),u.resolve(r),n(e,r)}))};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,r=n,i="string"==typeof t?t:this.language;if("function"==typeof t&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){o.indexOf(t)<0&&o.push(t)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(t){return a(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return a(t)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(t,e,n){var r=b();return t||(t=this.languages),e||(e=this.options.ns),n||(n=K),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&R.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=b();this.emit("languageChanging",t);var i=function(t){t&&(n.language||(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t)),n.translator.language||n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(t,(function(i){!function(t,i){i?(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(i,t)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e){var n=this,r=function t(e,r){var o;if("object"!==i(r)){for(var s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];o=n.options.overloadTranslationOptionHandler([e,r].concat(u))}else o=a({},r);return o.lng=o.lng||t.lng,o.lngs=o.lngs||t.lngs,o.ns=o.ns||t.ns,n.t(e,o)};return"string"==typeof t?r.lng=t:r.lngs=t,r.ns=e,r}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var o=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};return!!this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||!(!o(n,t)||r&&!o(i,t))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=b();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=b();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],i=t.filter((function(t){return r.indexOf(t)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new e(t,n)}},{key:"cloneInstance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,i=a({},this.options,n,{isClone:!0}),o=new e(i),s=["store","services","language"];return s.forEach((function(e){o[e]=t[e]})),o.translator=new k(o.services,o.options),o.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t].concat(n))})),o.init(i,r),o.translator.options=o.options,o}}]),e}(v)),Y=n(1),q=n(10),X=n.n(q),Z=n(3),J=n.n(Z),Q=n(4),$=n.n(Q),tt=n(5),et=n.n(tt),nt=n(2),rt=n.n(nt),it=n(6),ot=n.n(it),at=n(7),st=n.n(at),ut=n(0),lt=n.n(ut),ct=n(11),ht=n.n(ct),ft={wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",translateFuncName:"t",nsMode:"default",usePureComponent:!1,omitBoundRerender:!0,transEmptyNodeValue:""};function pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ft=J()({},ft,t)}function dt(t){z=t}var gt={type:"3rdParty",init:function(t){pt(t.options.react),dt(t)}},mt=lt.a.createContext();function yt(){return function(t){var e,n=function(t){return function(e){function n(){return $()(this,n),rt()(this,ot()(n).apply(this,arguments))}return st()(n,e),et()(n,[{key:"render",value:function(){var e=this.props,n=e.innerRef,r=X()(e,["innerRef"]);return n&&(r.ref=n),lt.a.createElement(mt.Consumer,null,(function(e){return lt.a.createElement(t,J()({},e,r))}))}}]),n}(ut.Component)}(function(e){function n(){return $()(this,n),rt()(this,ot()(n).apply(this,arguments))}return st()(n,e),et()(n,[{key:"render",value:function(){var e=this,n=this.props,r=n.innerRef,i=X()(n,["innerRef"]);r&&(i.ref=r);var o={},a=this.props.i18nOptions||this.i18nOptions,s=this.props.i18n||z;if(!a){var u=Object.keys(ft).reduce((function(t,n){return e.props[n]&&(t[n]=e.props[n]),t}),{});a=J()({},ft,s&&s.options&&s.options.react,u),this.i18nOptions=a}return s&&(o.i18n=s,o.t=s.t.bind(s),o.lng=s.language,o.i18nOptions=a),lt.a.createElement(t,J()({},o,i))}}]),n}(ut.Component));return n.WrappedComponent=t,n.displayName="WithMergedOptions(".concat((e=t).displayName||e.name||"Component",")"),ht()(n,t)}}var vt=n(9),bt=n.n(vt),Et=!1,_t=function(t){function e(t){var n;if($()(this,e),n=rt()(this,ot()(e).call(this,t)),!t.i18n)return n.state={i18nLoadedAt:null,ready:!1},rt()(n,Object(Y.e)("You will need pass in an i18next instance either by props, using I18nextProvider or by using i18nextReactModule. Learn more https://react.i18next.com/components/overview#getting-the-i-18-n-function-into-the-flow"));if("function"==typeof t.i18n.then)return n.state={i18nLoadedAt:null,ready:!1},rt()(n,Object(Y.e)("Detected a promise instead of an i18next instance. Probably you passed the return value of the i18next.init() function, this is not possible anymore with v13 of i18next. Just pass in the i18next instance directly."));Object(Y.b)(t),t.i18n.options&&t.i18n.options.isInitialSSR&&(t.i18nOptions.wait=!1);var r=n.getNamespaces();t.reportNS&&r.forEach(t.reportNS);var i=t.i18n.languages&&t.i18n.languages[0],o=!!i&&r.every((function(e){return t.i18n.hasResourceBundle(i,e)}));return n.state={i18nLoadedAt:null,ready:o},n.t=n.getI18nTranslate(),n.onI18nChanged=n.onI18nChanged.bind(bt()(bt()(n))),n.getI18nTranslate=n.getI18nTranslate.bind(bt()(bt()(n))),n.namespaces=n.getNamespaces.bind(bt()(bt()(n))),n}return st()(e,t),et()(e,[{key:"componentDidMount",value:function(){this.loadNamespaces()}},{key:"componentDidUpdate",value:function(t){this.props.ns&&t.ns!==this.props.ns&&this.loadNamespaces()}},{key:"componentWillUnmount",value:function(){var t=this,e=this.props,n=e.i18n,r=e.i18nOptions;this.mounted=!1,this.onI18nChanged&&(r.bindI18n&&r.bindI18n.split(" ").forEach((function(e){return n.off(e,t.onI18nChanged)})),r.bindStore&&r.bindStore.split(" ").forEach((function(e){return n.store&&n.store.off(e,t.onI18nChanged)})))}},{key:"onI18nChanged",value:function(){var t=this.props.i18nOptions,e=this.state.ready;this.mounted&&(!e&&t.omitBoundRerender||(this.t=this.getI18nTranslate(),this.setState({i18nLoadedAt:new Date})))}},{key:"getI18nTranslate",value:function(){var t=this.props,e=t.i18n,n=t.i18nOptions,r=this.getNamespaces();return e.getFixedT(null,"fallback"===n.nsMode?r:r&&r.length?r[0]:"translation")}},{key:"getNamespaces",value:function(){var t=this.props,e=t.i18n,n=t.ns,r=t.defaultNS,i="function"==typeof n?n(this.props):n||r||e.options&&e.options.defaultNS;return"string"==typeof i?[i]:i||[]}},{key:"loadNamespaces",value:function(){var t=this,e=this.props,n=e.i18n,r=e.i18nOptions,i=this.state.ready,o=function(){r.bindI18n&&n&&n.on(r.bindI18n,t.onI18nChanged),r.bindStore&&n.store&&n.store.on(r.bindStore,t.onI18nChanged)};this.mounted=!0,n.loadNamespaces(this.getNamespaces(),(function(){var e=function(){t.mounted&&!i&&t.setState({ready:!0},(function(){r.wait||t.onI18nChanged()})),r.wait&&t.mounted&&o()};n.isInitialized?e():n.on("initialized",(function t(){setTimeout((function(){n.off("initialized",t)}),1e3),e()}))})),r.wait||o()}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.i18n,r=t.defaultNS,i=t.reportNS,o=t.i18nOptions,a=(this.state||{ready:!1}).ready,s=this.t;return!a&&o.wait?null:(n.options&&n.options.isInitialSSR&&!Et&&(Et=!0,setTimeout((function(){delete n.options.isInitialSSR}),100)),lt.a.createElement(mt.Provider,{value:{i18n:n,t:s,defaultNS:r,reportNS:i,lng:n&&n.language}},e(this.t,{i18n:n,t:s,lng:n.language,ready:a})))}}]),e}(ut.Component),wt=yt()(_t);function St(t){return t.displayName||t.name||"Component"}function xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=function(r){function i(){return $()(this,i),rt()(this,ot()(i).apply(this,arguments))}return st()(i,r),et()(i,[{key:"shouldComponentUpdate",value:function(t){return!this.props.i18nOptions.usePureComponent&&!e.usePureComponent||!Object(Y.c)(this.props,t)}},{key:"render",value:function(){var r=this,i=this.props,o=i.namespaces,a=i.i18nOptions,s=J()({},a,e),u={};return s.innerRef&&(u.ref=s.innerRef),lt.a.createElement(wt,J()({ns:o||t},this.props,{i18nOptions:Object.keys(s).length>0?s:null}),(function(t,e){var i=e.ready,o=X()(e,["ready"]);return lt.a.createElement(n,J()({tReady:i},r.props,u,o))}))}}]),i}(ut.Component),i=yt()(r);return i.WrappedComponent=n,i.displayName="LoadNamespace(".concat(St(n),")"),i.namespaces=t,ht()(i,n)}}xt.setDefaults=pt,xt.setI18n=dt;var Tt=n(8),Ot=n.n(Tt),Ct=n(14),At=n.n(Ct);function Lt(t){return t&&(t.children||t.props&&t.props.children)}function Pt(t){return t&&t.children?t.children:t.props&&t.props.children}function Rt(t,e,n){if(""===e)return[];if(!t)return[e];var r={};!function t(e){"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e.forEach((function(e){"string"!=typeof e&&(Lt(e)?t(Pt(e)):"object"!==Ot()(e)||lt.a.isValidElement(e)||Object.assign(r,e))}))}(t),e=n.services.interpolator.interpolate(e,r,n.language);var i=function t(e,n){return"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),n.reduce((function(n,r,i){if("tag"===r.type){var o=e[parseInt(r.name,10)]||{},a=lt.a.isValidElement(o);if("string"==typeof o)n.push(o);else if(Lt(o)){var s=t(Pt(o),r.children);o.dummy&&(o.children=s),n.push(lt.a.cloneElement(o,J()({},o.props,{key:i}),s))}else if("object"!==Ot()(o)||a)n.push(o);else{var u=r.children[0]?r.children[0].content:null;u&&n.push(u)}}else"text"===r.type&&n.push(r.content);return n}),[])}([{dummy:!0,children:t}],At.a.parse("<0>".concat(e,"</0>")));return Pt(i[0])}var Mt=function(t){function e(){return $()(this,e),rt()(this,ot()(e).apply(this,arguments))}return st()(e,t),et()(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.count,r=t.parent,i=t.i18nKey,o=t.tOptions,a=t.values,s=t.defaults,u=t.components,l=t.ns,c=t.i18n,h=t.t,f=(t.defaultNS,t.reportNS,t.lng,t.i18nOptions,X()(t,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t","defaultNS","reportNS","lng","i18nOptions"])),p=h||c.t.bind(c),d=c.options&&c.options.react||{},g=void 0!==r?r:d.defaultTransParent,m=s||function t(e,n,r){return n?("[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),n.forEach((function(n,r){var i="".concat(r);if("string"==typeof n)e="".concat(e).concat(n);else if(Lt(n))e="".concat(e,"<").concat(i,">").concat(t("",Pt(n)),"</").concat(i,">");else if(lt.a.isValidElement(n))e="".concat(e,"<").concat(i,"></").concat(i,">");else if("object"===Ot()(n)){var o=J()({},n),a=o.format;delete o.format;var s=Object.keys(o);a&&1===s.length?e="".concat(e,"{{").concat(s[0],", ").concat(a,"}}"):1===s.length?e="".concat(e,"{{").concat(s[0],"}}"):Object(Y.d)("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",n)}else Object(Y.d)("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",n)})),e):""}("",e)||d.transEmptyNodeValue,y=d.hashTransKey,v=i||(y?y(m):m),b=a?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},E=v?p(v,J()({},o,a,b,{defaultValue:m,count:n,ns:l})):m;if(d.exposeNamespace){var _="string"==typeof p.ns?p.ns:p.ns[0];i&&c.options&&c.options.nsSeparator&&i.indexOf(c.options.nsSeparator)>-1&&(_=i.split(c.options.nsSeparator)[0]),p.ns&&(f["data-i18next-options"]=JSON.stringify({ns:_}))}return g?lt.a.createElement(g,f,Rt(u||e,E,c)):Rt(u||e,E,c)}}]),e}(lt.a.Component),kt=(yt()(Mt),ut.Component,function(t){function e(t){var n;return $()(this,e),n=rt()(this,ot()(e).call(this,t)),Object(Y.a)('Interpolate is deprecated and will be removed in the next major version (v9.0.0). Usage can be replaced by the "Trans" component'),n}return st()(e,t),et()(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.i18n,r=e.t,i=e.i18nKey,o=e.options,a=e.className,s=e.style,u=this.props.parent||"span",l=this.props.regexp||n.services.interpolator.regexp,c=this.props.useDangerouslySetInnerHTML||!1,h=this.props.dangerouslySetInnerHTMLPartElement||"span",f=r(i,J()({},{},o,{interpolation:{prefix:"#$?",suffix:"?$#"}}));if(!f||"string"!=typeof f)return lt.a.createElement("noscript",null);var p=[];f.split(l).reduce((function(e,r,i){var o;if(i%2==0){if(0===r.length)return e;o=c?lt.a.createElement(h,{dangerouslySetInnerHTML:{__html:r}}):r}else o=function(t,e){if(t.indexOf(n.options.interpolation.formatSeparator)<0)return void 0===e[t]&&n.services.logger.warn("interpolator: missed to pass in variable ".concat(t," for interpolating ").concat(f)),e[t];var r=t.split(n.options.interpolation.formatSeparator),i=r.shift().trim(),o=r.join(n.options.interpolation.formatSeparator).trim();return void 0===e[i]&&n.services.logger.warn("interpolator: missed to pass in variable ".concat(i," for interpolating ").concat(f)),n.options.interpolation.format(e[i],o,n.language)}(r,t.props);return e.push(o),e}),p);var d={};if(n.options.react&&n.options.react.exposeNamespace){var g="string"==typeof r.ns?r.ns:r.ns[0];i&&n.options.nsSeparator&&i.indexOf(n.options.nsSeparator)>-1&&(g=i.split(n.options.nsSeparator)[0]),r.ns&&(d["data-i18next-options"]=JSON.stringify({ns:g}))}return a&&(d.className=a),s&&(d.style=s),lt.a.createElement.apply(this,[u,d].concat(p))}}]),e}(ut.Component)),It=(yt()(kt),n(15)),Nt=n(16),Dt={cz:{backOffice:n(17),common:It},en:{backOffice:n(18),common:Nt}};H.use(gt).init({resources:Dt,lng:"en",fallbackLng:"en",keySeparator:".",interpolation:{escapeValue:!1},defaultNS:"common",fallbackNS:"common"});var jt=H,Ft={addI18nResources:function(t,e){Object(r.forIn)(e,(function(e,n){jt.addResourceBundle(n,t,e,!0,!0)}))}};n.d(e,"i18n",(function(){return jt})),n.d(e,"localesUtils",(function(){return Ft})),n.d(e,"withNamespaces",(function(){return xt})),e.default={i18n:jt,localesUtils:Ft,withNamespaces:xt}}]))},function(t,e,n){"use strict";t.exports=n(316)},function(t,e,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var m="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}function _(){}function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||v}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=E.prototype;var S=w.prototype=new _;S.constructor=w,r(S,E.prototype),S.isPureReactComponent=!0;var x={current:null},T={current:null},O=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)O.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:T.current}}function L(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,R=[];function M(t,e,n,r){if(R.length){var i=R.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function k(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>R.length&&R.push(t)}function I(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+N(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+N(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+N(s,l++),r,i);else if("object"===s)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function D(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(L(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),I(t,j,e=M(e,o,r,i)),k(e)}function V(){var t=x.current;if(null===t)throw Error(y(321));return t}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;I(t,D,e=M(null,null,e,n)),k(e)},count:function(t){return I(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!L(t))throw Error(y(143));return t}},createRef:function(){return{current:null}},Component:E,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:f,render:t}},lazy:function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return V().useCallback(t,e)},useContext:function(t,e){return V().useContext(t,e)},useEffect:function(t,e){return V().useEffect(t,e)},useImperativeHandle:function(t,e,n){return V().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return V().useLayoutEffect(t,e)},useMemo:function(t,e){return V().useMemo(t,e)},useReducer:function(t,e,n){return V().useReducer(t,e,n)},useRef:function(t){return V().useRef(t)},useState:function(t){return V().useState(t)},Fragment:s,Profiler:l,StrictMode:u,Suspense:p,createElement:A,cloneElement:function(t,e,n){if(null===t||void 0===t)throw Error(y(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=T.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)O.call(e,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(t){var e=A.bind(null,t);return e.type=t,e},isValidElement:L,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r}},U={default:B},G=U&&B||U;t.exports=G.default||G},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(318)},function(t,e,n){"use strict";var r=n(116),i=n(23),o=n(319);function a(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw t.framesToPop=1,t}}function s(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);a(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function u(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}r||s("227");var l=!1,c=null,h=!1,f=null,p={onError:function(t){l=!0,c=t}};function d(t,e,n,r,i,o,a,s,h){l=!1,c=null,u.apply(p,arguments)}var g=null,m={};function y(){if(g)for(var t in m){var e=m[t],n=g.indexOf(t);if(-1<n||s("96",t),!b[n])for(var r in e.extractEvents||s("97",t),b[n]=e,n=e.eventTypes){var i=void 0,o=n[r],a=e,u=r;E.hasOwnProperty(u)&&s("99",u),E[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&v(l[i],a,u);i=!0}else o.registrationName?(v(o.registrationName,a,u),i=!0):i=!1;i||s("98",r,t)}}}function v(t,e,n){_[t]&&s("100",t),_[t]=e,w[t]=e.eventTypes[n].dependencies}var b=[],E={},_={},w={},S=null,x=null,T=null;function O(t,e,n){var r=t.type||"unknown-event";t.currentTarget=T(n),function(t,e,n,r,i,o,a,u,p){if(d.apply(this,arguments),l){if(l){var g=c;l=!1,c=null}else s("198"),g=void 0;h||(h=!0,f=g)}}(r,e,void 0,t),t.currentTarget=null}function C(t,e){return null==e&&s("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function A(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var L=null;function P(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)O(t,e[r],n[r]);else e&&O(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}var R={injectEventPluginOrder:function(t){g&&s("101"),g=Array.prototype.slice.call(t),y()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];m.hasOwnProperty(e)&&m[e]===r||(m[e]&&s("102",e),m[e]=r,n=!0)}n&&y()}};function M(t,e){var n=t.stateNode;if(!n)return null;var r=S(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&s("231",e,typeof n),n)}function k(t){if(null!==t&&(L=C(L,t)),t=L,L=null,t&&(A(t,P),L&&s("95"),h))throw t=f,h=!1,f=null,t}var I=Math.random().toString(36).slice(2),N="__reactInternalInstance$"+I,D="__reactEventHandlers$"+I;function j(t){if(t[N])return t[N];for(;!t[N];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[N]).tag||6===t.tag?t:null}function F(t){return!(t=t[N])||5!==t.tag&&6!==t.tag?null:t}function V(t){if(5===t.tag||6===t.tag)return t.stateNode;s("33")}function B(t){return t[D]||null}function U(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function G(t,e,n){(e=M(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=C(n._dispatchListeners,e),n._dispatchInstances=C(n._dispatchInstances,t))}function W(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=U(e);for(e=n.length;0<e--;)G(n[e],"captured",t);for(e=0;e<n.length;e++)G(n[e],"bubbled",t)}}function K(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=M(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,e),n._dispatchInstances=C(n._dispatchInstances,t))}function z(t){t&&t.dispatchConfig.registrationName&&K(t._targetInst,null,t)}function H(t){A(t,W)}var Y=!("undefined"===typeof window||!window.document||!window.document.createElement);function q(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var X={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionend:q("Transition","TransitionEnd")},Z={},J={};function Q(t){if(Z[t])return Z[t];if(!X[t])return t;var e,n=X[t];for(e in n)if(n.hasOwnProperty(e)&&e in J)return Z[t]=n[e];return t}Y&&(J=document.createElement("div").style,"AnimationEvent"in window||(delete X.animationend.animation,delete X.animationiteration.animation,delete X.animationstart.animation),"TransitionEvent"in window||delete X.transitionend.transition);var $=Q("animationend"),tt=Q("animationiteration"),et=Q("animationstart"),nt=Q("transitionend"),rt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),it=null,ot=null,at=null;function st(){if(at)return at;var t,e,n=ot,r=n.length,i="value"in it?it.value:it.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return at=i.slice(t,1<e?1-e:void 0)}function ut(){return!0}function lt(){return!1}function ct(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ut:lt,this.isPropagationStopped=lt,this}function ht(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function ft(t){t instanceof this||s("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function pt(t){t.eventPool=[],t.getPooled=ht,t.release=ft}i(ct.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ut)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ut)},persist:function(){this.isPersistent=ut},isPersistent:lt,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=lt,this._dispatchInstances=this._dispatchListeners=null}}),ct.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ct.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,pt(n),n},pt(ct);var dt=ct.extend({data:null}),gt=ct.extend({data:null}),mt=[9,13,27,32],yt=Y&&"CompositionEvent"in window,vt=null;Y&&"documentMode"in document&&(vt=document.documentMode);var bt=Y&&"TextEvent"in window&&!vt,Et=Y&&(!yt||vt&&8<vt&&11>=vt),_t=String.fromCharCode(32),wt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},St=!1;function xt(t,e){switch(t){case"keyup":return-1!==mt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Tt(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Ot=!1;var Ct={eventTypes:wt,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(yt)t:{switch(t){case"compositionstart":i=wt.compositionStart;break t;case"compositionend":i=wt.compositionEnd;break t;case"compositionupdate":i=wt.compositionUpdate;break t}i=void 0}else Ot?xt(t,n)&&(i=wt.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=wt.compositionStart);return i?(Et&&"ko"!==n.locale&&(Ot||i!==wt.compositionStart?i===wt.compositionEnd&&Ot&&(o=st()):(ot="value"in(it=r)?it.value:it.textContent,Ot=!0)),i=dt.getPooled(i,e,n,r),o?i.data=o:null!==(o=Tt(n))&&(i.data=o),H(i),o=i):o=null,(t=bt?function(t,e){switch(t){case"compositionend":return Tt(e);case"keypress":return 32!==e.which?null:(St=!0,_t);case"textInput":return(t=e.data)===_t&&St?null:t;default:return null}}(t,n):function(t,e){if(Ot)return"compositionend"===t||!yt&&xt(t,e)?(t=st(),at=ot=it=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Et&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=gt.getPooled(wt.beforeInput,e,n,r)).data=t,H(e)):e=null,null===o?e:null===e?o:[o,e]}},At=null,Lt=null,Pt=null;function Rt(t){if(t=x(t)){"function"!==typeof At&&s("280");var e=S(t.stateNode);At(t.stateNode,t.type,e)}}function Mt(t){Lt?Pt?Pt.push(t):Pt=[t]:Lt=t}function kt(){if(Lt){var t=Lt,e=Pt;if(Pt=Lt=null,Rt(t),e)for(t=0;t<e.length;t++)Rt(e[t])}}function It(t,e){return t(e)}function Nt(t,e,n){return t(e,n)}function Dt(){}var jt=!1;function Ft(t,e){if(jt)return t(e);jt=!0;try{return It(t,e)}finally{jt=!1,(null!==Lt||null!==Pt)&&(Dt(),kt())}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vt[t.type]:"textarea"===e}function Ut(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Gt(t){if(!Y)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function Wt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Kt(t){t._valueTracker||(t._valueTracker=function(t){var e=Wt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function zt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Wt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var Ht=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yt=/^(.*)[\\\/]/,qt="function"===typeof Symbol&&Symbol.for,Xt=qt?Symbol.for("react.element"):60103,Zt=qt?Symbol.for("react.portal"):60106,Jt=qt?Symbol.for("react.fragment"):60107,Qt=qt?Symbol.for("react.strict_mode"):60108,$t=qt?Symbol.for("react.profiler"):60114,te=qt?Symbol.for("react.provider"):60109,ee=qt?Symbol.for("react.context"):60110,ne=qt?Symbol.for("react.concurrent_mode"):60111,re=qt?Symbol.for("react.forward_ref"):60112,ie=qt?Symbol.for("react.suspense"):60113,oe=qt?Symbol.for("react.memo"):60115,ae=qt?Symbol.for("react.lazy"):60116,se="function"===typeof Symbol&&Symbol.iterator;function ue(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=se&&t[se]||t["@@iterator"])?t:null}function le(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case ne:return"ConcurrentMode";case Jt:return"Fragment";case Zt:return"Portal";case $t:return"Profiler";case Qt:return"StrictMode";case ie:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case ee:return"Context.Consumer";case te:return"Context.Provider";case re:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case oe:return le(t.type);case ae:if(t=1===t._status?t._result:null)return le(t)}return null}function ce(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=le(t.type);n=null,r&&(n=le(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Yt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var he=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe=Object.prototype.hasOwnProperty,pe={},de={};function ge(t,e,n,r,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){me[t]=new ge(t,0,!1,t,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];me[e]=new ge(e,1,!1,t[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){me[t]=new ge(t,2,!1,t.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){me[t]=new ge(t,2,!1,t,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){me[t]=new ge(t,3,!1,t.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(t){me[t]=new ge(t,3,!0,t,null)})),["capture","download"].forEach((function(t){me[t]=new ge(t,4,!1,t,null)})),["cols","rows","size","span"].forEach((function(t){me[t]=new ge(t,6,!1,t,null)})),["rowSpan","start"].forEach((function(t){me[t]=new ge(t,5,!1,t.toLowerCase(),null)}));var ye=/[\-:]([a-z])/g;function ve(t){return t[1].toUpperCase()}function be(t,e,n,r){var i=me.hasOwnProperty(e)?me[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!fe.call(de,t)||!fe.call(pe,t)&&(he.test(t)?de[t]=!0:(pe[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function Ee(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _e(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function we(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Ee(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Se(t,e){null!=(e=e.checked)&&be(t,"checked",e,!1)}function xe(t,e){Se(t,e);var n=Ee(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Oe(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oe(t,e.type,Ee(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Te(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Oe(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(ye,ve);me[e]=new ge(e,1,!1,t,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(ye,ve);me[e]=new ge(e,1,!1,t,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(ye,ve);me[e]=new ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")})),me.tabIndex=new ge("tabIndex",1,!1,"tabindex",null);var Ce={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ae(t,e,n){return(t=ct.getPooled(Ce.change,t,e,n)).type="change",Mt(n),H(t),t}var Le=null,Pe=null;function Re(t){k(t)}function Me(t){if(zt(V(t)))return t}function ke(t,e){if("change"===t)return e}var Ie=!1;function Ne(){Le&&(Le.detachEvent("onpropertychange",De),Pe=Le=null)}function De(t){"value"===t.propertyName&&Me(Pe)&&Ft(Re,t=Ae(Pe,t,Ut(t)))}function je(t,e,n){"focus"===t?(Ne(),Pe=n,(Le=e).attachEvent("onpropertychange",De)):"blur"===t&&Ne()}function Fe(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Me(Pe)}function Ve(t,e){if("click"===t)return Me(e)}function Be(t,e){if("input"===t||"change"===t)return Me(e)}Y&&(Ie=Gt("input")&&(!document.documentMode||9<document.documentMode));var Ue={eventTypes:Ce,_isInputEventSupported:Ie,extractEvents:function(t,e,n,r){var i=e?V(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=ke:Bt(i)?Ie?o=Be:(o=Fe,a=je):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ve),o&&(o=o(t,e)))return Ae(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},Ge=ct.extend({view:null,detail:null}),We={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ke(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=We[t])&&!!e[t]}function ze(){return Ke}var He=0,Ye=0,qe=!1,Xe=!1,Ze=Ge.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ze,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=He;return He=t.screenX,qe?"mousemove"===t.type?t.screenX-e:0:(qe=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ye;return Ye=t.screenY,Xe?"mousemove"===t.type?t.screenY-e:0:(Xe=!0,0)}}),Je=Ze.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Qe={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$e={eventTypes:Qe,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?j(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===t||"mouseover"===t?(a=Ze,s=Qe.mouseLeave,u=Qe.mouseEnter,l="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=Je,s=Qe.pointerLeave,u=Qe.pointerEnter,l="pointer");var c=null==o?i:V(o);if(i=null==e?i:V(e),(t=a.getPooled(s,o,n,r)).type=l+"leave",t.target=c,t.relatedTarget=i,(n=a.getPooled(u,e,n,r)).type=l+"enter",n.target=i,n.relatedTarget=c,r=e,o&&r)t:{for(i=r,l=0,a=e=o;a;a=U(a))l++;for(a=0,u=i;u;u=U(u))a++;for(;0<l-a;)e=U(e),l--;for(;0<a-l;)i=U(i),a--;for(;l--;){if(e===i||e===i.alternate)break t;e=U(e),i=U(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(l=o.alternate)||l!==i);)e.push(o),o=U(o);for(o=[];r&&r!==i&&(null===(l=r.alternate)||l!==i);)o.push(r),r=U(r);for(r=0;r<e.length;r++)K(e[r],"bubbled",t);for(r=o.length;0<r--;)K(o[r],"captured",n);return[t,n]}},tn=Object.prototype.hasOwnProperty;function en(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function nn(t,e){if(en(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(e,n[r])||!en(t[n[r]],e[n[r]]))return!1;return!0}function rn(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function on(t){2!==rn(t)&&s("188")}function an(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=rn(t))&&s("188"),1===e?null:t;for(var n=t,r=e;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return on(i),t;if(a===r)return on(i),e;a=a.sibling}s("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}a||s("189")}}n.alternate!==r&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var sn=ct.extend({animationName:null,elapsedTime:null,pseudoElement:null}),un=ct.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ln=Ge.extend({relatedTarget:null});function cn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn=Ge.extend({key:function(t){if(t.key){var e=hn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=cn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?fn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ze,charCode:function(t){return"keypress"===t.type?cn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?cn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),dn=Ze.extend({dataTransfer:null}),gn=Ge.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ze}),mn=ct.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=Ze.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[$,"animationEnd"],[tt,"animationIteration"],[et,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[nt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},En={};function _n(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},bn[t]=e,En[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(t){_n(t,!0)})),vn.forEach((function(t){_n(t,!1)}));var wn={eventTypes:bn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=En[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var i=En[t];if(!i)return null;switch(t){case"keypress":if(0===cn(n))return null;case"keydown":case"keyup":t=pn;break;case"blur":case"focus":t=ln;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ze;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=gn;break;case $:case tt:case et:t=sn;break;case nt:t=mn;break;case"scroll":t=Ge;break;case"wheel":t=yn;break;case"copy":case"cut":case"paste":t=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Je;break;default:t=ct}return H(e=t.getPooled(i,e,n,r)),e}},Sn=wn.isInteractiveTopLevelEventType,xn=[];function Tn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=j(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Ut(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<b.length;s++){var u=b[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=C(a,u))}k(a)}}var On=!0;function Cn(t,e){if(!e)return null;var n=(Sn(t)?Ln:Pn).bind(null,t);e.addEventListener(t,n,!1)}function An(t,e){if(!e)return null;var n=(Sn(t)?Ln:Pn).bind(null,t);e.addEventListener(t,n,!0)}function Ln(t,e){Nt(Pn,t,e)}function Pn(t,e){if(On){var n=Ut(e);if(null===(n=j(n))||"number"!==typeof n.tag||2===rn(n)||(n=null),xn.length){var r=xn.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Ft(Tn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>xn.length&&xn.push(t)}}}var Rn={},Mn=0,kn="_reactListenersID"+(""+Math.random()).slice(2);function In(t){return Object.prototype.hasOwnProperty.call(t,kn)||(t[kn]=Mn++,Rn[t[kn]]={}),Rn[t[kn]]}function Nn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Dn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jn(t,e){var n,r=Dn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Dn(r)}}function Fn(){for(var t=window,e=Nn();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(n){break}e=Nn(t.document)}return e}function Vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Bn=Y&&"documentMode"in document&&11>=document.documentMode,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gn=null,Wn=null,Kn=null,zn=!1;function Hn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return zn||null==Gn||Gn!==Nn(n)?null:("selectionStart"in(n=Gn)&&Vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kn&&nn(Kn,n)?null:(Kn=n,(t=ct.getPooled(Un.select,Wn,t,e)).type="select",t.target=Gn,H(t),t))}var Yn={eventTypes:Un,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=In(o),i=w.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?V(e):window,t){case"focus":(Bt(o)||"true"===o.contentEditable)&&(Gn=o,Wn=e,Kn=null);break;case"blur":Kn=Wn=Gn=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return zn=!1,Hn(n,r);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return Hn(n,r)}return null}};function qn(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Xn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ee(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Zn(t,e){return null!=e.dangerouslySetInnerHTML&&s("91"),i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jn(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&s("92"),Array.isArray(e)&&(1>=e.length||s("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:Ee(n)}}function Qn(t,e){var n=Ee(e.value),r=Ee(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function $n(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}R.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S=B,x=F,T=V,R.injectEventPluginsByName({SimpleEventPlugin:wn,EnterLeaveEventPlugin:$e,ChangeEventPlugin:Ue,SelectEventPlugin:Yn,BeforeInputEventPlugin:Ct});var tr="http://www.w3.org/1999/xhtml",er="http://www.w3.org/2000/svg";function nr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?nr(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ir=void 0,or=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==er||"innerHTML"in t)t.innerHTML=e;else{for((ir=ir||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=ir.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function ar(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var sr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];function lr(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||sr.hasOwnProperty(t)&&sr[t]?(""+e).trim():e+"px"}function cr(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=lr(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(sr).forEach((function(t){ur.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sr[e]=sr[t]}))}));var hr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fr(t,e){e&&(hr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&s("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&s("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||s("61")),null!=e.style&&"object"!==typeof e.style&&s("62",""))}function pr(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dr(t,e){var n=In(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=w[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":An("scroll",t);break;case"focus":case"blur":An("focus",t),An("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Gt(i)&&An(i,t);break;case"invalid":case"submit":case"reset":break;default:-1===rt.indexOf(i)&&Cn(i,t)}n[i]=!0}}}function gr(){}var mr=null,yr=null;function vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function br(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Er="function"===typeof setTimeout?setTimeout:void 0,_r="function"===typeof clearTimeout?clearTimeout:void 0;function wr(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function Sr(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var xr=[],Tr=-1;function Or(t){0>Tr||(t.current=xr[Tr],xr[Tr]=null,Tr--)}function Cr(t,e){Tr++,xr[Tr]=t.current,t.current=e}var Ar={},Lr={current:Ar},Pr={current:!1},Rr=Ar;function Mr(t,e){var n=t.type.contextTypes;if(!n)return Ar;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function kr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ir(t){Or(Pr),Or(Lr)}function Nr(t){Or(Pr),Or(Lr)}function Dr(t,e,n){Lr.current!==Ar&&s("168"),Cr(Lr,e),Cr(Pr,n)}function jr(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in t||s("108",le(e)||"Unknown",o);return i({},n,r)}function Fr(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Ar,Rr=Lr.current,Cr(Lr,e),Cr(Pr,Pr.current),!0}function Vr(t,e,n){var r=t.stateNode;r||s("169"),n?(e=jr(t,e,Rr),r.__reactInternalMemoizedMergedChildContext=e,Or(Pr),Or(Lr),Cr(Lr,e)):Or(Pr),Cr(Pr,n)}var Br=null,Ur=null;function Gr(t){return function(e){try{return t(e)}catch(n){}}}function Wr(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Kr(t,e,n,r){return new Wr(t,e,n,r)}function zr(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Hr(t,e){var n=t.alternate;return null===n?((n=Kr(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.firstContextDependency=t.firstContextDependency,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yr(t,e,n,r,i,o){var a=2;if(r=t,"function"===typeof t)zr(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case Jt:return qr(n.children,i,o,e);case ne:return Xr(n,3|i,o,e);case Qt:return Xr(n,2|i,o,e);case $t:return(t=Kr(12,n,e,4|i)).elementType=$t,t.type=$t,t.expirationTime=o,t;case ie:return(t=Kr(13,n,e,i)).elementType=ie,t.type=ie,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case te:a=10;break t;case ee:a=9;break t;case re:a=11;break t;case oe:a=14;break t;case ae:a=16,r=null;break t}s("130",null==t?t:typeof t,"")}return(e=Kr(a,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function qr(t,e,n,r){return(t=Kr(7,t,r,e)).expirationTime=n,t}function Xr(t,e,n,r){return t=Kr(8,t,r,e),e=0===(1&e)?Qt:ne,t.elementType=e,t.type=e,t.expirationTime=n,t}function Zr(t,e,n){return(t=Kr(6,t,null,e)).expirationTime=n,t}function Jr(t,e,n){return(e=Kr(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qr(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n<e?t.earliestPendingTime=e:t.latestPendingTime>e&&(t.latestPendingTime=e),ei(e,t)}function $r(t,e){t.didError=!1,t.latestPingedTime>=e&&(t.latestPingedTime=0);var n=t.earliestPendingTime,r=t.latestPendingTime;n===e?t.earliestPendingTime=r===e?t.latestPendingTime=0:r:r===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n<e?t.earliestSuspendedTime=e:r>e&&(t.latestSuspendedTime=e),ei(e,t)}function ti(t,e){var n=t.earliestPendingTime;return n>e&&(e=n),(t=t.earliestSuspendedTime)>e&&(e=t),e}function ei(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,i=e.earliestPendingTime,o=e.latestPingedTime;0===(i=0!==i?i:o)&&(0===t||r<t)&&(i=r),0!==(t=i)&&n>t&&(t=n),e.nextExpirationTimeToWorkOn=i,e.expirationTime=t}var ni=!1;function ri(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ii(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function oi(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ai(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function si(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=ri(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=ri(t.memoizedState),i=n.updateQueue=ri(n.memoizedState)):r=t.updateQueue=ii(i):null===i&&(i=n.updateQueue=ii(r));null===i||r===i?ai(r,e):null===r.lastUpdate||null===i.lastUpdate?(ai(r,e),ai(i,e)):(ai(r,e),i.lastUpdate=e)}function ui(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=ri(t.memoizedState):li(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function li(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=ii(e)),e}function ci(t,e,n,r,o,a){switch(n.tag){case 1:return"function"===typeof(t=n.payload)?t.call(a,r,o):t;case 3:t.effectTag=-2049&t.effectTag|64;case 0:if(null===(o="function"===typeof(t=n.payload)?t.call(a,r,o):t)||void 0===o)break;return i({},r,o);case 2:ni=!0}return r}function hi(t,e,n,r,i){ni=!1;for(var o=(e=li(t,e)).baseState,a=null,s=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c<i?(null===a&&(a=u,o=l),s<c&&(s=c)):(l=ci(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h<i?(null===c&&(c=u,null===a&&(o=l)),s<h&&(s=h)):(l=ci(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=l),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,t.expirationTime=s,t.memoizedState=l}function fi(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),pi(e.firstEffect,n),e.firstEffect=e.lastEffect=null,pi(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function pi(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!==typeof n&&s("191",n),n.call(r)}t=t.nextEffect}}function di(t,e){return{value:t,source:e,stack:ce(e)}}var gi={current:null},mi=null,yi=null,vi=null;function bi(t,e){var n=t.type._context;Cr(gi,n._currentValue),n._currentValue=e}function Ei(t){var e=gi.current;Or(gi),t.type._context._currentValue=e}function _i(t){mi=t,vi=yi=null,t.firstContextDependency=null}function wi(t,e){return vi!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(vi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===yi?(null===mi&&s("293"),mi.firstContextDependency=yi=e):yi=yi.next=e),t._currentValue}var Si={},xi={current:Si},Ti={current:Si},Oi={current:Si};function Ci(t){return t===Si&&s("174"),t}function Ai(t,e){Cr(Oi,e),Cr(Ti,t),Cr(xi,Si);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rr(null,"");break;default:e=rr(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}Or(xi),Cr(xi,e)}function Li(t){Or(xi),Or(Ti),Or(Oi)}function Pi(t){Ci(Oi.current);var e=Ci(xi.current),n=rr(e,t.type);e!==n&&(Cr(Ti,t),Cr(xi,n))}function Ri(t){Ti.current===t&&(Or(xi),Or(Ti))}function Mi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var ki=Ht.ReactCurrentOwner,Ii=(new r.Component).refs;function Ni(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var Di={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===rn(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Ca(),i=oi(r=Jo(r,t));i.payload=e,void 0!==n&&null!==n&&(i.callback=n),Ho(),si(t,i),ea(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Ca(),i=oi(r=Jo(r,t));i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),Ho(),si(t,i),ea(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Ca(),r=oi(n=Jo(n,t));r.tag=2,void 0!==e&&null!==e&&(r.callback=e),Ho(),si(t,r),ea(t,n)}};function ji(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function Fi(t,e,n){var r=!1,i=Ar,o=e.contextType;return"object"===typeof o&&null!==o?o=ki.currentDispatcher.readContext(o):(i=kr(e)?Rr:Lr.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Mr(t,i):Ar),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Di,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Vi(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Di.enqueueReplaceState(e,e.state,null)}function Bi(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ii;var o=e.contextType;"object"===typeof o&&null!==o?i.context=ki.currentDispatcher.readContext(o):(o=kr(e)?Rr:Lr.current,i.context=Mr(t,o)),null!==(o=t.updateQueue)&&(hi(t,o,n,i,r),i.state=t.memoizedState),"function"===typeof(o=e.getDerivedStateFromProps)&&(Ni(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Di.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(hi(t,o,n,i,r),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var Ui=Array.isArray;function Gi(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&s("289"),r=n.stateNode),r||s("147",t);var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===Ii&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}"string"!==typeof t&&s("284"),n._owner||s("290",t)}return t}function Wi(t,e){"textarea"!==t.type&&s("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Ki(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Hr(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Zr(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Gi(t,e,n),r.return=t,r):((r=Yr(n.type,n.key,n.props,null,t.mode,r)).ref=Gi(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Jr(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=qr(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Zr(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Xt:return(n=Yr(e.type,e.key,e.props,null,t.mode,n)).ref=Gi(t,null,e),n.return=t,n;case Zt:return(e=Jr(e,t.mode,n)).return=t,e}if(Ui(e)||ue(e))return(e=qr(e,t.mode,n,null)).return=t,e;Wi(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Xt:return n.key===i?n.type===Jt?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case Zt:return n.key===i?c(t,e,n,r):null}if(Ui(n)||ue(n))return null!==i?null:h(t,e,n,r,null);Wi(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Xt:return t=t.get(null===r.key?n:r.key)||null,r.type===Jt?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case Zt:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Ui(r)||ue(r))return h(e,t=t.get(n)||null,r,i,null);Wi(e,r)}return null}function g(i,a,s,u){for(var l=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=p(i,h,s[g],u);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(i,h),a=o(y,a,g),null===c?l=y:c.sibling=y,c=y,h=m}if(g===s.length)return n(i,h),l;if(null===h){for(;g<s.length;g++)(h=f(i,s[g],u))&&(a=o(h,a,g),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);g<s.length;g++)(m=d(h,i,g,s[g],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(i,t)})),l}function m(i,a,u,l){var c=ue(u);"function"!==typeof c&&s("150"),null==(u=c.call(u))&&s("151");for(var h=c=null,g=a,m=a=0,y=null,v=u.next();null!==g&&!v.done;m++,v=u.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=p(i,g,v.value,l);if(null===b){g||(g=y);break}t&&g&&null===b.alternate&&e(i,g),a=o(b,a,m),null===h?c=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),c;if(null===g){for(;!v.done;m++,v=u.next())null!==(v=f(i,v.value,l))&&(a=o(v,a,m),null===h?c=v:h.sibling=v,h=v);return c}for(g=r(i,g);!v.done;m++,v=u.next())null!==(v=d(g,i,m,v.value,l))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===h?c=v:h.sibling=v,h=v);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===Jt&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case Xt:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?o.type===Jt:l.elementType===o.type){n(t,l.sibling),(r=i(l,o.type===Jt?o.props.children:o.props)).ref=Gi(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===Jt?((r=qr(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Yr(o.type,o.key,o.props,null,t.mode,u)).ref=Gi(t,r,o),u.return=t,t=u)}return a(t);case Zt:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Jr(o,t.mode,u)).return=t,t=r}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Zr(o,t.mode,u)).return=t,t=r),a(t);if(Ui(o))return g(t,r,o,u);if(ue(o))return m(t,r,o,u);if(c&&Wi(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:s("152",(u=t.type).displayName||u.name||"Component")}return n(t,r)}}var zi=Ki(!0),Hi=Ki(!1),Yi=null,qi=null,Xi=!1;function Zi(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ji(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Qi(t){if(Xi){var e=qi;if(e){var n=e;if(!Ji(t,e)){if(!(e=wr(n))||!Ji(t,e))return t.effectTag|=2,Xi=!1,void(Yi=t);Zi(Yi,n)}Yi=t,qi=Sr(e)}else t.effectTag|=2,Xi=!1,Yi=t}}function $i(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;Yi=t}function to(t){if(t!==Yi)return!1;if(!Xi)return $i(t),Xi=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!br(e,t.memoizedProps))for(e=qi;e;)Zi(t,e),e=wr(e);return $i(t),qi=Yi?wr(t.stateNode):null,!0}function eo(){qi=Yi=null,Xi=!1}var no=Ht.ReactCurrentOwner;function ro(t,e,n,r){e.child=null===t?Hi(e,null,n,r):zi(e,t.child,n,r)}function io(t,e,n,r,i){n=n.render;var o=e.ref;return _i(e),r=n(r,o),e.effectTag|=1,ro(t,e,r,i),e.child}function oo(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||zr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Yr(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,ao(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&t.ref===e.ref)?po(t,e,o):(e.effectTag|=1,(t=Hr(a,r)).ref=e.ref,t.return=e,e.child=t)}function ao(t,e,n,r,i,o){return null!==t&&i<o&&nn(t.memoizedProps,r)&&t.ref===e.ref?po(t,e,o):uo(t,e,n,r,o)}function so(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function uo(t,e,n,r,i){var o=kr(n)?Rr:Lr.current;return o=Mr(e,o),_i(e),n=n(r,o),e.effectTag|=1,ro(t,e,n,i),e.child}function lo(t,e,n,r,i){if(kr(n)){var o=!0;Fr(e)}else o=!1;if(_i(e),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Fi(e,n,r),Bi(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ki.currentDispatcher.readContext(l):l=Mr(e,l=kr(n)?Rr:Lr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Vi(e,a,r,l),ni=!1;var f=e.memoizedState;u=a.state=f;var p=e.updateQueue;null!==p&&(hi(e,p,r,a,i),u=e.memoizedState),s!==r||f!==u||Pr.current||ni?("function"===typeof c&&(Ni(e,n,c,r),u=e.memoizedState),(s=ni||ji(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:Mi(e.type,s),u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ki.currentDispatcher.readContext(l):l=Mr(e,l=kr(n)?Rr:Lr.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Vi(e,a,r,l),ni=!1,u=e.memoizedState,f=a.state=u,null!==(p=e.updateQueue)&&(hi(e,p,r,a,i),f=e.memoizedState),s!==r||u!==f||Pr.current||ni?("function"===typeof c&&(Ni(e,n,c,r),f=e.memoizedState),(c=ni||ji(e,n,s,r,u,f,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return co(t,e,n,r,o,i)}function co(t,e,n,r,i,o){so(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Vr(e,n,!1),po(t,e,o);r=e.stateNode,no.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=zi(e,t.child,null,o),e.child=zi(e,null,s,o)):ro(t,e,s,o),e.memoizedState=r.state,i&&Vr(e,n,!0),e.child}function ho(t){var e=t.stateNode;e.pendingContext?Dr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Dr(0,e.context,!1),Ai(t,e.containerInfo)}function fo(t,e,n){var r=e.mode,i=e.pendingProps,o=e.memoizedState;if(0===(64&e.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,e.effectTag&=-65;if(null===t)if(a){var s=i.fallback;t=qr(null,r,0,null),0===(1&e.mode)&&(t.child=null!==e.memoizedState?e.child.child:e.child),r=qr(s,r,n,null),t.sibling=r,(n=t).return=r.return=e}else n=r=Hi(e,null,i.children,n);else null!==t.memoizedState?(s=(r=t.child).sibling,a?(n=i.fallback,i=Hr(r,r.pendingProps),0===(1&e.mode)&&((a=null!==e.memoizedState?e.child.child:e.child)!==r.child&&(i.child=a)),r=i.sibling=Hr(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=e):n=r=zi(e,r.child,i.children,n)):(s=t.child,a?(a=i.fallback,(i=qr(null,r,0,null)).child=s,0===(1&e.mode)&&(i.child=null!==e.memoizedState?e.child.child:e.child),(r=i.sibling=qr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=e):r=n=zi(e,s,i.children,n)),e.stateNode=t.stateNode;return e.memoizedState=o,e.child=n,r}function po(t,e,n){if(null!==t&&(e.firstContextDependency=t.firstContextDependency),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child&&s("153"),null!==e.child){for(n=Hr(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Hr(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function go(t,e,n){var r=e.expirationTime;if(null!==t&&t.memoizedProps===e.pendingProps&&!Pr.current&&r<n){switch(e.tag){case 3:ho(e),eo();break;case 5:Pi(e);break;case 1:kr(e.type)&&Fr(e);break;case 4:Ai(e,e.stateNode.containerInfo);break;case 10:bi(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?fo(t,e,n):null!==(e=po(t,e,n))?e.sibling:null}return po(t,e,n)}switch(e.expirationTime=0,e.tag){case 2:r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var i=Mr(e,Lr.current);if(_i(e),i=r(t,i),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,kr(r)){var o=!0;Fr(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=r.getDerivedStateFromProps;"function"===typeof a&&Ni(e,r,a,t),i.updater=Di,e.stateNode=i,i._reactInternalFiber=e,Bi(e,r,t,n),e=co(null,e,r,!0,o,n)}else e.tag=0,ro(null,e,i,n),e=e.child;return e;case 16:switch(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),o=e.pendingProps,t=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:throw t._status=0,(e=(e=t._ctor)()).then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)})),t._result=e,e}}(i),e.type=t,i=e.tag=function(t){if("function"===typeof t)return zr(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===re)return 11;if(t===oe)return 14}return 2}(t),o=Mi(t,o),a=void 0,i){case 0:a=uo(null,e,t,o,n);break;case 1:a=lo(null,e,t,o,n);break;case 11:a=io(null,e,t,o,n);break;case 14:a=oo(null,e,t,Mi(t.type,o),r,n);break;default:s("306",t,"")}return a;case 0:return r=e.type,i=e.pendingProps,uo(t,e,r,i=e.elementType===r?i:Mi(r,i),n);case 1:return r=e.type,i=e.pendingProps,lo(t,e,r,i=e.elementType===r?i:Mi(r,i),n);case 3:return ho(e),null===(r=e.updateQueue)&&s("282"),i=null!==(i=e.memoizedState)?i.element:null,hi(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i?(eo(),e=po(t,e,n)):(i=e.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(qi=Sr(e.stateNode.containerInfo),Yi=e,i=Xi=!0),i?(e.effectTag|=2,e.child=Hi(e,null,r,n)):(ro(t,e,r,n),eo()),e=e.child),e;case 5:return Pi(e),null===t&&Qi(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,br(r,i)?a=null:null!==o&&br(r,o)&&(e.effectTag|=16),so(t,e),1!==n&&1&e.mode&&i.hidden?(e.expirationTime=1,e=null):(ro(t,e,a,n),e=e.child),e;case 6:return null===t&&Qi(e),null;case 13:return fo(t,e,n);case 4:return Ai(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=zi(e,null,r,n):ro(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,io(t,e,r,i=e.elementType===r?i:Mi(r,i),n);case 7:return ro(t,e,e.pendingProps,n),e.child;case 8:case 12:return ro(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,bi(e,o=i.value),null!==a){var u=a.value;if(0===(o=u===o&&(0!==u||1/u===1/o)||u!==u&&o!==o?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!Pr.current){e=po(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){if(null!==(u=a.firstContextDependency))do{if(u.context===r&&0!==(u.observedBits&o)){if(1===a.tag){var l=oi(n);l.tag=2,si(a,l)}a.expirationTime<n&&(a.expirationTime=n),null!==(l=a.alternate)&&l.expirationTime<n&&(l.expirationTime=n);for(var c=a.return;null!==c;){if(l=c.alternate,c.childExpirationTime<n)c.childExpirationTime=n,null!==l&&l.childExpirationTime<n&&(l.childExpirationTime=n);else{if(!(null!==l&&l.childExpirationTime<n))break;l.childExpirationTime=n}c=c.return}}l=a.child,u=u.next}while(null!==u);else l=10===a.tag&&a.type===e.type?null:a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}ro(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,_i(e),r=r(i=wi(i,o.unstable_observedBits)),e.effectTag|=1,ro(t,e,r,n),e.child;case 14:return o=Mi(i=e.type,e.pendingProps),oo(t,e,i,o=Mi(i.type,o),r,n);case 15:return ao(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,kr(r)?(t=!0,Fr(e)):t=!1,_i(e),Fi(e,r,i),Bi(e,r,i,n),co(null,e,r,!0,t,n);default:s("156")}}function mo(t){t.effectTag|=4}var yo,vo,bo;yo=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},vo=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s=e.stateNode;switch(Ci(xi.current),t=null,n){case"input":a=_e(s,a),r=_e(s,r),t=[];break;case"option":a=qn(s,a),r=qn(s,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Zn(s,a),r=Zn(s,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=gr)}fr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var l=a[n];for(s in l)l.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(_.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var c=r[n];if(l=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(u||(u={}),u[s]=c[s])}else u||(t||(t=[]),t.push(n,u)),u=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(n,""+c)):"children"===n?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(_.hasOwnProperty(n)?(null!=c&&dr(o,n),t||l===c||(t=[])):(t=t||[]).push(n,c))}u&&(t=t||[]).push("style",u),o=t,(e.updateQueue=o)&&mo(e)}},bo=function(t,e,n,r){n!==r&&mo(e)};var Eo="function"===typeof WeakSet?WeakSet:Set;function _o(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=ce(n)),null!==n&&le(n.type),e=e.value,null!==t&&1===t.tag&&le(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function wo(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Zo(t,n)}else e.current=null}function So(t){switch("function"===typeof Ur&&Ur(t),t.tag){case 0:case 11:case 14:case 15:var e=t.updateQueue;if(null!==e&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n.destroy;if(null!==r){var i=t;try{r()}catch(o){Zo(i,o)}}n=n.next}while(n!==e)}break;case 1:if(wo(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Zo(t,o)}break;case 5:wo(t);break;case 4:Oo(t)}}function xo(t){return 5===t.tag||3===t.tag||4===t.tag}function To(t){t:{for(var e=t.return;null!==e;){if(xo(e)){var n=e;break t}e=e.return}s("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:s("161")}16&n.effectTag&&(ar(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||xo(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=e,a=i.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(a,u):o.insertBefore(a,u)}else e.insertBefore(i.stateNode,n);else r?(a=e,u=i.stateNode,8===a.nodeType?(o=a.parentNode).insertBefore(u,a):(o=a).appendChild(u),null!==(a=a._reactRootContainer)&&void 0!==a||null!==o.onclick||(o.onclick=gr)):e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Oo(t){for(var e=t,n=!1,r=void 0,i=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&s("160"),n.tag){case 5:r=n.stateNode,i=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var o=e,a=o;;)if(So(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(o=r,a=e.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):r.removeChild(e.stateNode)}else if(4===e.tag?(r=e.stateNode.containerInfo,i=!0):So(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function Co(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&function(t,e,n,r,i){t[D]=i,"input"===n&&"radio"===i.type&&null!=i.name&&Se(t,i),pr(n,r),r=pr(n,i);for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];"style"===a?cr(t,s):"dangerouslySetInnerHTML"===a?or(t,s):"children"===a?ar(t,s):be(t,a,s,r)}switch(n){case"input":xe(t,i);break;case"textarea":Qn(t,i);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Xn(t,!!i.multiple,n,!1):e!==!!i.multiple&&(null!=i.defaultValue?Xn(t,!!i.multiple,i.defaultValue,!0):Xn(t,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,t,r)}break;case 6:null===e.stateNode&&s("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(n=e.memoizedState,r=void 0,t=e,null===n?r=!1:(r=!0,t=e.child,0===n.timedOutAt&&(n.timedOutAt=Ca())),null!==t&&function(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=lr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(t,r),null!==(n=e.updateQueue)){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new Eo),n.forEach((function(t){var n=$o.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))}))}break;case 17:break;default:s("163")}}var Ao="function"===typeof WeakMap?WeakMap:Map;function Lo(t,e,n){(n=oi(n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ja(r),_o(t,e)},n}function Po(t,e,n){(n=oi(n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ko?Ko=new Set([this]):Ko.add(this));var n=e.value,i=e.stack;_o(t,e),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Ro(t){switch(t.tag){case 1:kr(t.type)&&Ir();var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:return Li(),Nr(),0!==(64&(e=t.effectTag))&&s("285"),t.effectTag=-2049&e|64,t;case 5:return Ri(t),null;case 13:return 2048&(e=t.effectTag)?(t.effectTag=-2049&e|64,t):null;case 4:return Li(),null;case 10:return Ei(t),null;default:return null}}var Mo={readContext:wi},ko=Ht.ReactCurrentOwner,Io=1073741822,No=0,Do=!1,jo=null,Fo=null,Vo=0,Bo=-1,Uo=!1,Go=null,Wo=!1,Ko=null;function zo(){if(null!==jo)for(var t=jo.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&Ir();break;case 3:Li(),Nr();break;case 5:Ri(e);break;case 4:Li();break;case 10:Ei(e)}t=t.return}Fo=null,Vo=0,Bo=-1,Uo=!1,jo=null}function Ho(){}function Yo(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0===(1024&t.effectTag)){jo=t;t:{var o=e,a=Vo,u=(e=t).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:kr(e.type)&&Ir();break;case 3:Li(),Nr(),(u=e.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==o&&null!==o.child||(to(e),e.effectTag&=-3);break;case 5:Ri(e);var l=Ci(Oi.current);if(a=e.type,null!==o&&null!=e.stateNode)vo(o,e,a,u,l),o.ref!==e.ref&&(e.effectTag|=128);else if(u){var c=Ci(xi.current);if(to(e)){o=(u=e).stateNode;var h=u.type,f=u.memoizedProps,p=l;switch(o[N]=u,o[D]=f,a=void 0,l=h){case"iframe":case"object":Cn("load",o);break;case"video":case"audio":for(h=0;h<rt.length;h++)Cn(rt[h],o);break;case"source":Cn("error",o);break;case"img":case"image":case"link":Cn("error",o),Cn("load",o);break;case"form":Cn("reset",o),Cn("submit",o);break;case"details":Cn("toggle",o);break;case"input":we(o,f),Cn("invalid",o),dr(p,"onChange");break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Cn("invalid",o),dr(p,"onChange");break;case"textarea":Jn(o,f),Cn("invalid",o),dr(p,"onChange")}for(a in fr(l,f),h=null,f)f.hasOwnProperty(a)&&(c=f[a],"children"===a?"string"===typeof c?o.textContent!==c&&(h=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(h=["children",""+c]):_.hasOwnProperty(a)&&null!=c&&dr(p,a));switch(l){case"input":Kt(o),Te(o,f,!0);break;case"textarea":Kt(o),$n(o);break;case"select":case"option":break;default:"function"===typeof f.onClick&&(o.onclick=gr)}a=h,u.updateQueue=a,(u=null!==a)&&mo(e)}else{f=e,o=a,p=u,h=9===l.nodeType?l:l.ownerDocument,c===tr&&(c=nr(o)),c===tr?"script"===o?((o=h.createElement("div")).innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"===typeof p.is?h=h.createElement(o,{is:p.is}):(h=h.createElement(o),"select"===o&&p.multiple&&(h.multiple=!0)):h=h.createElementNS(c,o),(o=h)[N]=f,o[D]=u,yo(o,e),p=o;var d=l,g=pr(h=a,f=u);switch(h){case"iframe":case"object":Cn("load",p),l=f;break;case"video":case"audio":for(l=0;l<rt.length;l++)Cn(rt[l],p);l=f;break;case"source":Cn("error",p),l=f;break;case"img":case"image":case"link":Cn("error",p),Cn("load",p),l=f;break;case"form":Cn("reset",p),Cn("submit",p),l=f;break;case"details":Cn("toggle",p),l=f;break;case"input":we(p,f),l=_e(p,f),Cn("invalid",p),dr(d,"onChange");break;case"option":l=qn(p,f);break;case"select":p._wrapperState={wasMultiple:!!f.multiple},l=i({},f,{value:void 0}),Cn("invalid",p),dr(d,"onChange");break;case"textarea":Jn(p,f),l=Zn(p,f),Cn("invalid",p),dr(d,"onChange");break;default:l=f}fr(h,l),c=void 0;var m=h,y=p,v=l;for(c in v)if(v.hasOwnProperty(c)){var b=v[c];"style"===c?cr(y,b):"dangerouslySetInnerHTML"===c?null!=(b=b?b.__html:void 0)&&or(y,b):"children"===c?"string"===typeof b?("textarea"!==m||""!==b)&&ar(y,b):"number"===typeof b&&ar(y,""+b):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(_.hasOwnProperty(c)?null!=b&&dr(d,c):null!=b&&be(y,c,b,g))}switch(h){case"input":Kt(p),Te(p,f,!1);break;case"textarea":Kt(p),$n(p);break;case"option":null!=f.value&&p.setAttribute("value",""+Ee(f.value));break;case"select":(l=p).multiple=!!f.multiple,null!=(p=f.value)?Xn(l,!!f.multiple,p,!1):null!=f.defaultValue&&Xn(l,!!f.multiple,f.defaultValue,!0);break;default:"function"===typeof l.onClick&&(p.onclick=gr)}(u=vr(a,u))&&mo(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&s("166");break;case 6:o&&null!=e.stateNode?bo(0,e,o.memoizedProps,u):("string"!==typeof u&&(null===e.stateNode&&s("166")),o=Ci(Oi.current),Ci(xi.current),to(e)?(a=(u=e).stateNode,o=u.memoizedProps,a[N]=u,(u=a.nodeValue!==o)&&mo(e)):(a=e,(u=(9===o.nodeType?o:o.ownerDocument).createTextNode(u))[N]=e,a.stateNode=u));break;case 11:break;case 13:if(u=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=a,jo=e;break t}u=null!==u,a=null!==o&&null!==o.memoizedState,null!==o&&!u&&a&&(null!==(o=o.child.sibling)&&(null!==(l=e.firstEffect)?(e.firstEffect=o,o.nextEffect=l):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(u!==a||0===(1&e.effectTag)&&u)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Li();break;case 10:Ei(e);break;case 9:case 14:break;case 17:kr(e.type)&&Ir();break;default:s("156")}jo=null}if(e=t,1===Vo||1!==e.childExpirationTime){for(u=0,a=e.child;null!==a;)(o=a.expirationTime)>u&&(u=o),(l=a.childExpirationTime)>u&&(u=l),a=a.sibling;e.childExpirationTime=u}if(null!==jo)return jo;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=Ro(t)))return t.effectTag&=1023,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;t=n}return null}function qo(t){var e=go(t.alternate,t,Vo);return t.memoizedProps=t.pendingProps,null===e&&(e=Yo(t)),ko.current=null,e}function Xo(t,e){Do&&s("243"),Do=!0,ko.currentDispatcher=Mo;var n=t.nextExpirationTimeToWorkOn;n===Vo&&t===Fo&&null!==jo||(zo(),Vo=n,jo=Hr((Fo=t).current,null),t.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(e)for(;null!==jo&&!Ra();)jo=qo(jo);else for(;null!==jo;)jo=qo(jo)}catch(g){if(vi=yi=mi=null,null===jo)r=!0,ja(g);else{null===jo&&s("271");var i=jo,o=i.return;if(null!==o){t:{var a=t,u=o,l=i,c=g;if(o=Vo,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var h=c;c=u;var f=-1,p=-1;do{if(13===c.tag){var d=c.alternate;if(null!==d&&null!==(d=d.memoizedState)){p=10*(1073741822-d.timedOutAt);break}"number"===typeof(d=c.pendingProps.maxDuration)&&(0>=d?f=0:(-1===f||d<f)&&(f=d))}c=c.return}while(null!==c);c=u;do{if((d=13===c.tag)&&(d=void 0!==c.memoizedProps.fallback&&null===c.memoizedState),d){if(null===(u=c.updateQueue)?c.updateQueue=new Set([h]):u.add(h),0===(1&c.mode)){c.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((o=oi(1073741823)).tag=2,si(l,o))),l.expirationTime=1073741823;break t}null===(l=a.pingCache)?(l=a.pingCache=new Ao,u=new Set,l.set(h,u)):void 0===(u=l.get(h))&&(u=new Set,l.set(h,u)),u.has(o)||(u.add(o),l=Qo.bind(null,a,h,o),h.then(l,l)),-1===f?a=1073741823:(-1===p&&(p=10*(1073741822-ti(a,o))-5e3),a=p+f),0<=a&&Bo<a&&(Bo=a),c.effectTag|=2048,c.expirationTime=o;break t}c=c.return}while(null!==c);c=Error((le(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ce(l))}Uo=!0,c=di(c,l),a=u;do{switch(a.tag){case 3:a.effectTag|=2048,a.expirationTime=o,ui(a,o=Lo(a,c,o));break t;case 1:if(h=c,f=a.type,p=a.stateNode,0===(64&a.effectTag)&&("function"===typeof f.getDerivedStateFromError||null!==p&&"function"===typeof p.componentDidCatch&&(null===Ko||!Ko.has(p)))){a.effectTag|=2048,a.expirationTime=o,ui(a,o=Po(a,h,o));break t}}a=a.return}while(null!==a)}jo=Yo(i);continue}r=!0,ja(g)}}break}if(Do=!1,vi=yi=mi=ko.currentDispatcher=null,r)Fo=null,t.finishedWork=null;else if(null!==jo)t.finishedWork=null;else{if(null===(r=t.current.alternate)&&s("281"),Fo=null,Uo){if(i=t.latestPendingTime,o=t.latestSuspendedTime,a=t.latestPingedTime,0!==i&&i<n||0!==o&&o<n||0!==a&&a<n)return $r(t,n),void Ta(t,r,n,t.expirationTime,-1);if(!t.didError&&e)return t.didError=!0,n=t.nextExpirationTimeToWorkOn=n,e=t.expirationTime=1073741823,void Ta(t,r,n,e,-1)}e&&-1!==Bo?($r(t,n),(e=10*(1073741822-ti(t,n)))<Bo&&(Bo=e),e=10*(1073741822-Ca()),e=Bo-e,Ta(t,r,n,t.expirationTime,0>e?0:e)):(t.pendingCommitExpirationTime=n,t.finishedWork=r)}}function Zo(t,e){for(var n=t.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ko||!Ko.has(r)))return si(n,t=Po(n,t=di(e,t),1073741823)),void ea(n,1073741823);break;case 3:return si(n,t=Lo(n,t=di(e,t),1073741823)),void ea(n,1073741823)}n=n.return}3===t.tag&&(si(t,n=Lo(t,n=di(e,t),1073741823)),ea(t,1073741823))}function Jo(t,e){return 0!==No?t=No:Do?t=Wo?1073741823:Vo:1&e.mode?(t=ga?1073741822-10*(1+((1073741822-t+15)/10|0)):1073741822-25*(1+((1073741822-t+500)/25|0)),null!==Fo&&t===Vo&&--t):t=1073741823,ga&&(0===ca||t<ca)&&(ca=t),t}function Qo(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),null!==Fo&&Vo===n?Fo=null:(e=t.earliestSuspendedTime,r=t.latestSuspendedTime,0!==e&&n<=e&&n>=r&&(t.didError=!1,(0===(e=t.latestPingedTime)||e>n)&&(t.latestPingedTime=n),ei(n,t),0!==(n=t.expirationTime)&&Aa(t,n)))}function $o(t,e){var n=t.stateNode;null!==n&&n.delete(e),null!==(t=ta(t,e=Jo(e=Ca(),t)))&&(Qr(t,e),0!==(e=t.expirationTime)&&Aa(t,e))}function ta(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function ea(t,e){null!==(t=ta(t,e))&&(!Do&&0!==Vo&&e>Vo&&zo(),Qr(t,e),Do&&!Wo&&Fo===t||Aa(t,t.expirationTime),_a>Ea&&(_a=0,s("185")))}function na(t,e,n,r,i){var o=No;No=1073741823;try{return t(e,n,r,i)}finally{No=o}}var ra=null,ia=null,oa=0,aa=void 0,sa=!1,ua=null,la=0,ca=0,ha=!1,fa=null,pa=!1,da=!1,ga=!1,ma=null,ya=o.unstable_now(),va=1073741822-(ya/10|0),ba=va,Ea=50,_a=0,wa=null;function Sa(){va=1073741822-((o.unstable_now()-ya)/10|0)}function xa(t,e){if(0!==oa){if(e<oa)return;null!==aa&&o.unstable_cancelCallback(aa)}oa=e,t=o.unstable_now()-ya,aa=o.unstable_scheduleCallback(Ma,{timeout:10*(1073741822-e)-t})}function Ta(t,e,n,r,i){t.expirationTime=r,0!==i||Ra()?0<i&&(t.timeoutHandle=Er(Oa.bind(null,t,e,n),i)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function Oa(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,Sa(),ba=va,Ia(t,n)}function Ca(){return sa||(La(),0!==la&&1!==la||(Sa(),ba=va)),ba}function Aa(t,e){null===t.nextScheduledRoot?(t.expirationTime=e,null===ia?(ra=ia=t,t.nextScheduledRoot=t):(ia=ia.nextScheduledRoot=t).nextScheduledRoot=ra):e>t.expirationTime&&(t.expirationTime=e),sa||(pa?da&&(ua=t,la=1073741823,Na(t,1073741823,!1)):1073741823===e?ka(1073741823,!1):xa(t,e))}function La(){var t=0,e=null;if(null!==ia)for(var n=ia,r=ra;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===ia)&&s("244"),r===r.nextScheduledRoot){ra=ia=r.nextScheduledRoot=null;break}if(r===ra)ra=i=r.nextScheduledRoot,ia.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===ia){(ia=n).nextScheduledRoot=ra,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>t&&(t=i,e=r),r===ia)break;if(1073741823===t)break;n=r,r=r.nextScheduledRoot}}ua=e,la=t}var Pa=!1;function Ra(){return!!Pa||!!o.unstable_shouldYield()&&(Pa=!0)}function Ma(){try{if(!Ra()&&null!==ra){Sa();var t=ra;do{var e=t.expirationTime;0!==e&&va<=e&&(t.nextExpirationTimeToWorkOn=va),t=t.nextScheduledRoot}while(t!==ra)}ka(0,!0)}finally{Pa=!1}}function ka(t,e){if(La(),e)for(Sa(),ba=va;null!==ua&&0!==la&&t<=la&&!(Pa&&va>la);)Na(ua,la,va>la),La(),Sa(),ba=va;else for(;null!==ua&&0!==la&&t<=la;)Na(ua,la,!1),La();if(e&&(oa=0,aa=null),0!==la&&xa(ua,la),_a=0,wa=null,null!==ma)for(t=ma,ma=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(r){ha||(ha=!0,fa=r)}}if(ha)throw t=fa,fa=null,ha=!1,t}function Ia(t,e){sa&&s("253"),ua=t,la=e,Na(t,e,!1),ka(1073741823,!1)}function Na(t,e,n){if(sa&&s("245"),sa=!0,n){var r=t.finishedWork;null!==r?Da(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,_r(r)),Xo(t,n),null!==(r=t.finishedWork)&&(Ra()?t.finishedWork=r:Da(t,r,e)))}else null!==(r=t.finishedWork)?Da(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,_r(r)),Xo(t,n),null!==(r=t.finishedWork)&&Da(t,r,e));sa=!1}function Da(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ma?ma=[r]:ma.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===wa?_a++:(wa=t,_a=0),Wo=Do=!0,t.current===e&&s("177"),0===(n=t.pendingCommitExpirationTime)&&s("261"),t.pendingCommitExpirationTime=0,r=e.expirationTime;var i=e.childExpirationTime;if(r=i>r?i:r,t.didError=!1,0===r?(t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0):(r<t.latestPingedTime&&(t.latestPingedTime=0),0!==(i=t.latestPendingTime)&&(i>r?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime>r&&(t.earliestPendingTime=t.latestPendingTime)),0===(i=t.earliestSuspendedTime)?Qr(t,r):r<t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,Qr(t,r)):r>i&&Qr(t,r)),ei(0,t),ko.current=null,1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,r=e.firstEffect):r=e:r=e.firstEffect,mr=On,Vn(i=Fn())){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{var a=(o=(o=i.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(a&&0!==a.rangeCount){o=a.anchorNode;var u=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{o.nodeType,l.nodeType}catch(j){o=null;break t}var c=0,h=-1,f=-1,p=0,d=0,g=i,m=null;e:for(;;){for(var y;g!==o||0!==u&&3!==g.nodeType||(h=c+u),g!==l||0!==a&&3!==g.nodeType||(f=c+a),3===g.nodeType&&(c+=g.nodeValue.length),null!==(y=g.firstChild);)m=g,g=y;for(;;){if(g===i)break e;if(m===o&&++p===u&&(h=c),m===l&&++d===a&&(f=c),null!==(y=g.nextSibling))break;m=(g=m).parentNode}g=y}o=-1===h||-1===f?null:{start:h,end:f}}else o=null}o=o||{start:0,end:0}}else o=null;for(yr={focusedElem:i,selectionRange:o},On=!1,Go=r;null!==Go;){i=!1,o=void 0;try{for(;null!==Go;){if(256&Go.effectTag)t:{var v=Go.alternate;switch((u=Go).tag){case 0:case 11:case 15:break t;case 1:if(256&u.effectTag&&null!==v){var b=v.memoizedProps,E=v.memoizedState,_=u.stateNode,w=_.getSnapshotBeforeUpdate(u.elementType===u.type?b:Mi(u.type,b),E);_.__reactInternalSnapshotBeforeUpdate=w}break t;case 3:case 5:case 6:case 4:case 17:break t;default:s("163")}}Go=Go.nextEffect}}catch(j){i=!0,o=j}i&&(null===Go&&s("178"),Zo(Go,o),null!==Go&&(Go=Go.nextEffect))}for(Go=r;null!==Go;){v=!1,b=void 0;try{for(;null!==Go;){var S=Go.effectTag;if(16&S&&ar(Go.stateNode,""),128&S){var x=Go.alternate;if(null!==x){var T=x.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(14&S){case 2:To(Go),Go.effectTag&=-3;break;case 6:To(Go),Go.effectTag&=-3,Co(Go.alternate,Go);break;case 4:Co(Go.alternate,Go);break;case 8:Oo(E=Go),E.return=null,E.child=null,E.memoizedState=null,E.updateQueue=null;var O=E.alternate;null!==O&&(O.return=null,O.child=null,O.memoizedState=null,O.updateQueue=null)}Go=Go.nextEffect}}catch(j){v=!0,b=j}v&&(null===Go&&s("178"),Zo(Go,b),null!==Go&&(Go=Go.nextEffect))}if(T=yr,x=Fn(),S=T.focusedElem,v=T.selectionRange,x!==S&&S&&S.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(S.ownerDocument.documentElement,S)){null!==v&&Vn(S)&&(x=v.start,void 0===(T=v.end)&&(T=x),"selectionStart"in S?(S.selectionStart=x,S.selectionEnd=Math.min(T,S.value.length)):(T=(x=S.ownerDocument||document)&&x.defaultView||window).getSelection&&(T=T.getSelection(),b=S.textContent.length,O=Math.min(v.start,b),v=void 0===v.end?O:Math.min(v.end,b),!T.extend&&O>v&&(b=v,v=O,O=b),b=jn(S,O),E=jn(S,v),b&&E&&(1!==T.rangeCount||T.anchorNode!==b.node||T.anchorOffset!==b.offset||T.focusNode!==E.node||T.focusOffset!==E.offset)&&((x=x.createRange()).setStart(b.node,b.offset),T.removeAllRanges(),O>v?(T.addRange(x),T.extend(E.node,E.offset)):(x.setEnd(E.node,E.offset),T.addRange(x))))),x=[];for(T=S;T=T.parentNode;)1===T.nodeType&&x.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof S.focus&&S.focus(),S=0;S<x.length;S++)(T=x[S]).element.scrollLeft=T.left,T.element.scrollTop=T.top}for(yr=null,On=!!mr,mr=null,t.current=e,Go=r;null!==Go;){r=!1,S=void 0;try{for(x=n;null!==Go;){var C=Go.effectTag;if(36&C){var A=Go.alternate;switch(O=x,(T=Go).tag){case 0:case 11:case 15:break;case 1:var L=T.stateNode;if(4&T.effectTag)if(null===A)L.componentDidMount();else{var P=T.elementType===T.type?A.memoizedProps:Mi(T.type,A.memoizedProps);L.componentDidUpdate(P,A.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var R=T.updateQueue;null!==R&&fi(0,R,L);break;case 3:var M=T.updateQueue;if(null!==M){if(v=null,null!==T.child)switch(T.child.tag){case 5:v=T.child.stateNode;break;case 1:v=T.child.stateNode}fi(0,M,v)}break;case 5:var k=T.stateNode;null===A&&4&T.effectTag&&vr(T.type,T.memoizedProps)&&k.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}if(128&C){var I=Go.ref;if(null!==I){var N=Go.stateNode;switch(Go.tag){case 5:var D=N;break;default:D=N}"function"===typeof I?I(D):I.current=D}}Go=Go.nextEffect}}catch(j){r=!0,S=j}r&&(null===Go&&s("178"),Zo(Go,S),null!==Go&&(Go=Go.nextEffect))}Do=Wo=!1,"function"===typeof Br&&Br(e.stateNode),C=e.expirationTime,0===(e=(e=e.childExpirationTime)>C?e:C)&&(Ko=null),t.expirationTime=e,t.finishedWork=null}function ja(t){null===ua&&s("246"),ua.expirationTime=0,ha||(ha=!0,fa=t)}function Fa(t,e){var n=pa;pa=!0;try{return t(e)}finally{(pa=n)||sa||ka(1073741823,!1)}}function Va(t,e){if(pa&&!da){da=!0;try{return t(e)}finally{da=!1}}return t(e)}function Ba(t,e,n){if(ga)return t(e,n);pa||sa||0===ca||(ka(ca,!1),ca=0);var r=ga,i=pa;pa=ga=!0;try{return t(e,n)}finally{ga=r,(pa=i)||sa||ka(1073741823,!1)}}function Ua(t,e,n,r,i){var o=e.current;t:if(n){e:{2===rn(n=n._reactInternalFiber)&&1===n.tag||s("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(kr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(null!==a);s("171"),a=void 0}if(1===n.tag){var u=n.type;if(kr(u)){n=jr(n,u,a);break t}}n=a}else n=Ar;return null===e.context?e.context=n:e.pendingContext=n,e=i,(i=oi(r)).payload={element:t},null!==(e=void 0===e?null:e)&&(i.callback=e),si(o,i),ea(o,r),r}function Ga(t,e,n,r){var i=e.current;return Ua(t,e,n,i=Jo(Ca(),i),r)}function Wa(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ka(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Zt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function za(t){var e=1073741822-25*(1+((1073741822-Ca()+500)/25|0));e>=Io&&(e=Io-1),this._expirationTime=Io=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ha(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ya(t,e,n){t={current:e=Kr(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function qa(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Xa(t,e,n,r,i){qa(n)||s("200");var o=n._reactRootContainer;if(o){if("function"===typeof i){var a=i;i=function(){var t=Wa(o._internalRoot);a.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Ya(t,!1,e)}(n,r),"function"===typeof i){var u=i;i=function(){var t=Wa(o._internalRoot);u.call(t)}}Va((function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)}))}return Wa(o._internalRoot)}function Za(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return qa(e)||s("200"),Ka(t,e,null,n)}At=function(t,e,n){switch(e){case"input":if(xe(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=B(r);i||s("90"),zt(r),xe(r,i)}}}break;case"textarea":Qn(t,n);break;case"select":null!=(e=n.value)&&Xn(t,!!n.multiple,e,!1)}},za.prototype.render=function(t){this._defer||s("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new Ha;return Ua(t,e,null,n,r._onCommit),r},za.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},za.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||s("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,i=e;i!==this;)r=i,i=i._next;null===r&&s("251"),r._next=i._next,this._next=e,t.firstBatch=this}this._defer=!1,Ia(t,n),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},za.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Ha.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Ha.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&s("191",n),n()}}},Ya.prototype.render=function(t,e){var n=this._internalRoot,r=new Ha;return null!==(e=void 0===e?null:e)&&r.then(e),Ga(t,n,null,r._onCommit),r},Ya.prototype.unmount=function(t){var e=this._internalRoot,n=new Ha;return null!==(t=void 0===t?null:t)&&n.then(t),Ga(null,e,null,n._onCommit),n},Ya.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,i=new Ha;return null!==(n=void 0===n?null:n)&&i.then(n),Ga(e,r,t,i._onCommit),i},Ya.prototype.createBatch=function(){var t=new za(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime>=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},It=Fa,Nt=Ba,Dt=function(){sa||0===ca||(ka(ca,!1),ca=0)};var Ja={createPortal:Za,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?s("188"):s("268",Object.keys(t))),t=null===(t=an(e))?null:t.stateNode},hydrate:function(t,e,n){return Xa(null,t,e,!0,n)},render:function(t,e,n){return Xa(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&s("38"),Xa(t,e,n,!1,r)},unmountComponentAtNode:function(t){return qa(t)||s("40"),!!t._reactRootContainer&&(Va((function(){Xa(null,null,t,!1,(function(){t._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return Za.apply(void 0,arguments)},unstable_batchedUpdates:Fa,unstable_interactiveUpdates:Ba,flushSync:function(t,e){sa&&s("187");var n=pa;pa=!0;try{return na(t,e)}finally{pa=n,ka(1073741823,!1)}},unstable_createRoot:function(t,e){return qa(t)||s("299","unstable_createRoot"),new Ya(t,!0,null!=e&&!0===e.hydrate)},unstable_flushControlled:function(t){var e=pa;pa=!0;try{na(t)}finally{(pa=e)||sa||ka(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[F,V,B,R.injectEventPluginsByName,E,H,function(t){A(t,z)},Mt,kt,Pn,k]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Br=Gr((function(t){return e.onCommitFiberRoot(n,t)})),Ur=Gr((function(t){return e.onCommitFiberUnmount(n,t)}))}catch(r){}})(i({},t,{overrideProps:null,findHostInstanceByFiber:function(t){return null===(t=an(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:j,bundleType:0,version:"16.7.0",rendererPackageName:"react-dom"});var Qa={default:Ja},$a=Qa&&Ja||Qa;t.exports=$a.default||$a},function(t,e,n){"use strict";t.exports=n(320)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,a=-1,s=!1,u=!1;function l(){if(!s){var t=n.expirationTime;u?S():u=!0,w(f,t)}}function c(){var t=n,e=n.next;if(n===e)n=null;else{var r=n.previous;n=r.next=e,e.previous=r}t.next=t.previous=null,r=t.callback,e=t.expirationTime,t=t.priorityLevel;var o=i,s=a;i=t,a=e;try{var u=r()}finally{i=o,a=s}if("function"===typeof u)if(u={callback:u,priorityLevel:t,expirationTime:e,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,t=n;do{if(t.expirationTime>=e){r=t;break}t=t.next}while(t!==n);null===r?r=n:r===n&&(n=u,l()),(e=r.previous).next=r.previous=u,u.next=r,u.previous=e}}function h(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?l():u=!1}}}function f(t){s=!0;var i=r;r=t;try{if(t)for(;null!==n;){var o=e.unstable_now();if(!(n.expirationTime<=o))break;do{c()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{c()}while(null!==n&&!x())}finally{s=!1,r=i,null!==n?l():u=!1,h()}}var p,d,g=Date,m="function"===typeof setTimeout?setTimeout:void 0,y="function"===typeof clearTimeout?clearTimeout:void 0,v="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function E(t){p=v((function(e){y(d),t(e)})),d=m((function(){b(p),t(e.unstable_now())}),100)}if("object"===typeof performance&&"function"===typeof performance.now){var _=performance;e.unstable_now=function(){return _.now()}}else e.unstable_now=function(){return g.now()};var w,S,x,T=null;if("undefined"!==typeof window?T=window:"undefined"!==typeof t&&(T=t),T&&T._schedMock){var O=T._schedMock;w=O[0],S=O[1],x=O[2],e.unstable_now=O[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var C=null,A=function(t){if(null!==C)try{C(t)}finally{C=null}};w=function(t){null!==C?setTimeout(w,0,t):(C=t,setTimeout(A,0,!1))},S=function(){C=null},x=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var L=null,P=!1,R=-1,M=!1,k=!1,I=0,N=33,D=33;x=function(){return I<=e.unstable_now()};var j=new MessageChannel,F=j.port2;j.port1.onmessage=function(){P=!1;var t=L,n=R;L=null,R=-1;var r=e.unstable_now(),i=!1;if(0>=I-r){if(!(-1!==n&&n<=r))return M||(M=!0,E(V)),L=t,void(R=n);i=!0}if(null!==t){k=!0;try{t(i)}finally{k=!1}}};var V=function t(e){if(null!==L){E(t);var n=e-I+D;n<D&&N<D?(8>n&&(n=8),D=n<N?N:n):N=n,I=e+D,P||(P=!0,F.postMessage(void 0))}else M=!1};w=function(t,e){L=t,R=e,k||0>e?F.postMessage(void 0):M||(M=!0,E(V))},S=function(){L=null,P=!1,R=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=i,a=o;i=t,o=e.unstable_now();try{return n()}finally{i=r,o=a,h()}},e.unstable_scheduleCallback=function(t,r){var a=-1!==o?o:e.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(t={callback:t,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=t.next=t.previous=t,l();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=t,l()),(r=a.previous).next=a.previous=t,t.next=a,t.previous=r}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)n=null;else{t===n&&(n=e);var r=t.previous;r.next=e,e.previous=r}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=i;return function(){var r=i,a=o;i=n,o=e.unstable_now();try{return t.apply(this,arguments)}finally{i=r,o=a,h()}}},e.unstable_getCurrentPriorityLevel=function(){return i},e.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||x())},e.unstable_continueExecution=function(){null!==n&&l()},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(27))},function(t,e,n){"use strict";n.r(e);var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,s=o.left,u=a,l=function(t,e){null==e&&(e=c);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o};function c(t,e){return[t,e]}var h=function(t,e,n){var r,i,o,a,s=t.length,u=e.length,l=new Array(s*u);for(null==n&&(n=c),r=o=0;r<s;++r)for(a=t[r],i=0;i<u;++i,++o)l[o]=n(a,e[i]);return l},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},d=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=p(t[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=p(e(t[a],a,t)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return u/(o-1)},g=function(t,e){var n=d(t,e);return n?Math.sqrt(n):n},m=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},y=Array.prototype,v=y.slice,b=y.map,E=function(t){return function(){return t}},_=function(t){return t},w=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},S=Math.sqrt(50),x=Math.sqrt(10),T=Math.sqrt(2),O=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=C(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function C(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S?10:o>=x?5:o>=T?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S?10:o>=x?5:o>=T?2:1)}function A(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=x?i*=5:o>=T&&(i*=2),e<t?-i:i}var L=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},P=function(){var t=_,e=m,n=L;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var l=e(s),c=l[0],h=l[1],f=n(s,c,h);Array.isArray(f)||(f=A(c,h,f),f=w(Math.ceil(c/f)*f,h,f));for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var d,g=new Array(p+1);for(i=0;i<=p;++i)(d=g[i]=[]).x0=i>0?f[i-1]:c,d.x1=i<p?f[i]:h;for(i=0;i<a;++i)c<=(o=s[i])&&o<=h&&g[u(f,o,0,p)].push(r[i]);return g}return r.value=function(e){return arguments.length?(t="function"===typeof e?e:E(e),r):t},r.domain=function(t){return arguments.length?(e="function"===typeof t?t:E([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?E(v.call(t)):E(t),r):n},r},R=function(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},M=function(t,e,n){return t=b.call(t,p).sort(r),Math.ceil((n-e)/(2*(R(t,.75)-R(t,.25))*Math.pow(t.length,-1/3)))},k=function(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(t.length,-1/3)))},I=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},N=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=p(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},D=function(t,e){var n,i=t.length,o=-1,a=[];if(null==e)for(;++o<i;)isNaN(n=p(t[o]))||a.push(n);else for(;++o<i;)isNaN(n=p(e(t[o],o,t)))||a.push(n);return R(a.sort(r),.5)},j=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},F=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},V=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},B=function(t,e){if(n=t.length){var n,i,o=0,a=0,s=t[a];for(null==e&&(e=r);++o<n;)(e(i=t[o],s)<0||0!==e(s,s))&&(s=i,a=o);return 0===e(s,s)?a:void 0}},U=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},G=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},W=function(t){if(!(i=t.length))return[];for(var e=-1,n=F(t,K),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function K(t){return t.length}var z=function(){return W(arguments)},H=Array.prototype.slice,Y=function(t){return t};function q(t){return"translate("+(t+.5)+",0)"}function X(t){return"translate(0,"+(t+.5)+")"}function Z(t){return function(e){return+t(e)}}function J(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function Q(){return!this.__axis}function $(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",c=1===t||3===t?q:X;function h(h){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):Y:i,d=Math.max(o,0)+s,g=e.range(),m=+g[0]+.5,y=+g[g.length-1]+.5,v=(e.bandwidth?J:Z)(e.copy()),b=h.selection?h.selection():h,E=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(f,e).order(),w=_.exit(),S=_.enter().append("g").attr("class","tick"),x=_.select("line"),T=_.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(S),x=x.merge(S.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),T=T.merge(S.append("text").attr("fill","currentColor").attr(l,u*d).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==b&&(E=E.transition(h),_=_.transition(h),x=x.transition(h),T=T.transition(h),w=w.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=v(t))?c(t):this.getAttribute("transform")})),S.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:v(t))}))),w.remove(),E.attr("d",4===t||2==t?a?"M"+u*a+","+m+"H0.5V"+y+"H"+u*a:"M0.5,"+m+"V"+y:a?"M"+m+","+u*a+"V0.5H"+y+"V"+u*a:"M"+m+",0.5H"+y),_.attr("opacity",1).attr("transform",(function(t){return c(v(t))})),x.attr(l+"2",u*o),T.attr(l,u*d).text(p),b.filter(Q).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=v}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=H.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:H.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:H.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function tt(t){return $(1,t)}function et(t){return $(2,t)}function nt(t){return $(3,t)}function rt(t){return $(4,t)}var it={value:function(){}};function ot(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new at(r)}function at(t){this._=t}function st(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ut(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function lt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=it,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}at.prototype=ot.prototype={constructor:at,on:function(t,e){var n,r=this._,i=st(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=lt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=lt(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=ut(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new at(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var ct=ot;function ht(){}var ft=function(t){return null==t?ht:function(){return this.querySelector(t)}};function pt(){return[]}var dt=function(t){return null==t?pt:function(){return this.querySelectorAll(t)}},gt=function(t){return function(){return this.matches(t)}},mt=function(t){return new Array(t.length)};function yt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}yt.prototype={constructor:yt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function vt(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new yt(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function bt(t,e,n,r,i,o,a){var s,u,l,c={},h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=l="$"+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l="$"+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new yt(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[p[s]]===u&&(i[s]=u)}function Et(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var _t="http://www.w3.org/1999/xhtml",wt={svg:"http://www.w3.org/2000/svg",xhtml:_t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},St=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),wt.hasOwnProperty(e)?{space:wt[e],local:t}:t};function xt(t){return function(){this.removeAttribute(t)}}function Tt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ot(t,e){return function(){this.setAttribute(t,e)}}function Ct(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function At(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Lt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Pt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Rt(t){return function(){this.style.removeProperty(t)}}function Mt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function kt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function It(t,e){return t.style.getPropertyValue(e)||Pt(t).getComputedStyle(t,null).getPropertyValue(e)}function Nt(t){return function(){delete this[t]}}function Dt(t,e){return function(){this[t]=e}}function jt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ft(t){return t.trim().split(/^|\s+/)}function Vt(t){return t.classList||new Bt(t)}function Bt(t){this._node=t,this._names=Ft(t.getAttribute("class")||"")}function Ut(t,e){for(var n=Vt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Gt(t,e){for(var n=Vt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Wt(t){return function(){Ut(this,t)}}function Kt(t){return function(){Gt(this,t)}}function zt(t,e){return function(){(e.apply(this,arguments)?Ut:Gt)(this,t)}}Bt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ht(){this.textContent=""}function Yt(t){return function(){this.textContent=t}}function qt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Xt(){this.innerHTML=""}function Zt(t){return function(){this.innerHTML=t}}function Jt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Qt(){this.nextSibling&&this.parentNode.appendChild(this)}function $t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function te(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_t&&e.documentElement.namespaceURI===_t?e.createElement(t):e.createElementNS(n,t)}}function ee(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ne=function(t){var e=St(t);return(e.local?ee:te)(e)};function re(){return null}function ie(){var t=this.parentNode;t&&t.removeChild(this)}function oe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ae(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var se={},ue=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(se={mouseenter:"mouseover",mouseleave:"mouseout"}));function le(t,e,n){return t=ce(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ce(t,e,n){return function(r){var i=ue;ue=r;try{t.call(this,this.__data__,e,n)}finally{ue=i}}}function he(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function fe(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function pe(t,e,n){var r=se.hasOwnProperty(t.type)?le:ce;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function de(t,e,n,r){var i=ue;t.sourceEvent=ue,ue=t;try{return e.apply(n,r)}finally{ue=i}}function ge(t,e,n){var r=Pt(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function me(t,e){return function(){return ge(this,t,e)}}function ye(t,e){return function(){return ge(this,t,e.apply(this,arguments))}}var ve=[null];function be(t,e){this._groups=t,this._parents=e}function Ee(){return new be([[document.documentElement]],ve)}be.prototype=Ee.prototype={constructor:be,select:function(t){"function"!==typeof t&&(t=ft(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new be(r,this._parents)},selectAll:function(t){"function"!==typeof t&&(t=dt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new be(r,i)},filter:function(t){"function"!==typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new be(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n,r=e?bt:vt,i=this._parents,o=this._groups;"function"!==typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],f=o[c],p=f.length,d=t.call(h,h&&h.__data__,c,i),g=d.length,m=u[c]=new Array(g),y=s[c]=new Array(g);r(h,f,m,y,l[c]=new Array(p),d,e);for(var v,b,E=0,_=0;E<g;++E)if(v=m[E]){for(E>=_&&(_=E+1);!(b=y[_])&&++_<g;);v._next=b||null}}return(s=new be(s,i))._enter=u,s._exit=l,s},enter:function(){return new be(this._enter||this._groups.map(mt),this._parents)},exit:function(){return new be(this._exit||this._groups.map(mt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new be(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Et);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new be(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=St(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Tt:xt:"function"===typeof e?n.local?Lt:At:n.local?Ct:Ot)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Rt:"function"===typeof e?kt:Mt)(t,e,null==n?"":n)):It(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Nt:"function"===typeof e?jt:Dt)(t,e)):this.node()[t]},classed:function(t,e){var n=Ft(t+"");if(arguments.length<2){for(var r=Vt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?zt:e?Wt:Kt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Ht:("function"===typeof t?qt:Yt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Xt:("function"===typeof t?Jt:Zt)(t)):this.node().innerHTML},raise:function(){return this.each(Qt)},lower:function(){return this.each($t)},append:function(t){var e="function"===typeof t?t:ne(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:ne(t),r=null==e?re:"function"===typeof e?e:ft(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ie)},clone:function(t){return this.select(t?ae:oe)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=he(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?pe:fe,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?ye:me)(t,e))}};var _e=Ee,we=function(t){return"string"===typeof t?new be([[document.querySelector(t)]],[document.documentElement]):new be([[t]],ve)};function Se(){ue.stopImmediatePropagation()}var xe=function(){ue.preventDefault(),ue.stopImmediatePropagation()},Te=function(t){var e=t.document.documentElement,n=we(t).on("dragstart.drag",xe,!0);"onselectstart"in e?n.on("selectstart.drag",xe,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Oe(t,e){var n=t.document.documentElement,r=we(t).on("dragstart.drag",null);e&&(r.on("click.drag",xe,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ce=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ae(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Le(){}var Pe="\\s*([+-]?\\d+)\\s*",Re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Me="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ke=/^#([0-9a-f]{3,8})$/,Ie=new RegExp("^rgb\\("+[Pe,Pe,Pe]+"\\)$"),Ne=new RegExp("^rgb\\("+[Me,Me,Me]+"\\)$"),De=new RegExp("^rgba\\("+[Pe,Pe,Pe,Re]+"\\)$"),je=new RegExp("^rgba\\("+[Me,Me,Me,Re]+"\\)$"),Fe=new RegExp("^hsl\\("+[Re,Me,Me]+"\\)$"),Ve=new RegExp("^hsla\\("+[Re,Me,Me,Re]+"\\)$"),Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ue(){return this.rgb().formatHex()}function Ge(){return this.rgb().formatRgb()}function We(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ke.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ke(e):3===n?new qe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new qe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new qe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ie.exec(t))?new qe(e[1],e[2],e[3],1):(e=Ne.exec(t))?new qe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=De.exec(t))?ze(e[1],e[2],e[3],e[4]):(e=je.exec(t))?ze(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Fe.exec(t))?Qe(e[1],e[2]/100,e[3]/100,1):(e=Ve.exec(t))?Qe(e[1],e[2]/100,e[3]/100,e[4]):Be.hasOwnProperty(t)?Ke(Be[t]):"transparent"===t?new qe(NaN,NaN,NaN,0):null}function Ke(t){return new qe(t>>16&255,t>>8&255,255&t,1)}function ze(t,e,n,r){return r<=0&&(t=e=n=NaN),new qe(t,e,n,r)}function He(t){return t instanceof Le||(t=We(t)),t?new qe((t=t.rgb()).r,t.g,t.b,t.opacity):new qe}function Ye(t,e,n,r){return 1===arguments.length?He(t):new qe(t,e,n,null==r?1:r)}function qe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Xe(){return"#"+Je(this.r)+Je(this.g)+Je(this.b)}function Ze(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Je(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Qe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new en(t,e,n,r)}function $e(t){if(t instanceof en)return new en(t.h,t.s,t.l,t.opacity);if(t instanceof Le||(t=We(t)),!t)return new en;if(t instanceof en)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new en(a,s,u,t.opacity)}function tn(t,e,n,r){return 1===arguments.length?$e(t):new en(t,e,n,null==r?1:r)}function en(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function nn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function rn(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Ce(Le,We,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ue,formatHex:Ue,formatHsl:function(){return $e(this).formatHsl()},formatRgb:Ge,toString:Ge}),Ce(qe,Ye,Ae(Le,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xe,formatHex:Xe,formatRgb:Ze,toString:Ze})),Ce(en,tn,Ae(Le,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new en(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new en(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qe(nn(t>=240?t-240:t+120,i,r),nn(t,i,r),nn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var on=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return rn((n-r/e)*e,a,i,o,s)}},an=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return rn((n-r/e)*e,i,o,a,s)}},sn=function(t){return function(){return t}};function un(t,e){return function(n){return t+n*e}}function ln(t,e){var n=e-t;return n?un(t,n>180||n<-180?n-360*Math.round(n/360):n):sn(isNaN(t)?e:t)}function cn(t){return 1===(t=+t)?hn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):sn(isNaN(e)?n:e)}}function hn(t,e){var n=e-t;return n?un(t,n):sn(isNaN(t)?e:t)}var fn=function t(e){var n=cn(e);function r(t,e){var r=n((t=Ye(t)).r,(e=Ye(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=hn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function pn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ye(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var dn=pn(on),gn=pn(an),mn=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function yn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var vn=function(t,e){return(yn(e)?mn:bn)(t,e)};function bn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=An(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var En=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},_n=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},wn=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=An(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Sn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xn=new RegExp(Sn.source,"g");var Tn,On,Cn=function(t,e){var n,r,i,o=Sn.lastIndex=xn.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Sn.exec(t))&&(r=xn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:_n(n,r)})),o=xn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},An=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?sn(e):("number"===r?_n:"string"===r?(n=We(e))?(e=n,fn):Cn:e instanceof We?fn:e instanceof Date?En:yn(e)?mn:Array.isArray(e)?bn:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?wn:_n)(t,e)},Ln=function(){for(var t,e=ue;t=e.sourceEvent;)e=t;return e},Pn=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Rn=function(t,e,n){arguments.length<3&&(n=e,e=Ln().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Pn(t,r);return null},Mn=function(t){var e=Ln();return e.changedTouches&&(e=e.changedTouches[0]),Pn(t,e)},kn=0,In=0,Nn=0,Dn=0,jn=0,Fn=0,Vn="object"===typeof performance&&performance.now?performance:Date,Bn="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Un(){return jn||(Bn(Gn),jn=Vn.now()+Fn)}function Gn(){jn=0}function Wn(){this._call=this._time=this._next=null}function Kn(t,e,n){var r=new Wn;return r.restart(t,e,n),r}function zn(){Un(),++kn;for(var t,e=Tn;e;)(t=jn-e._time)>=0&&e._call.call(null,t),e=e._next;--kn}function Hn(){jn=(Dn=Vn.now())+Fn,kn=In=0;try{zn()}finally{kn=0,function(){var t,e,n=Tn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Tn=e);On=t,qn(r)}(),jn=0}}function Yn(){var t=Vn.now(),e=t-Dn;e>1e3&&(Fn-=e,Dn=t)}function qn(t){kn||(In&&(In=clearTimeout(In)),t-jn>24?(t<1/0&&(In=setTimeout(Hn,t-Vn.now()-Fn)),Nn&&(Nn=clearInterval(Nn))):(Nn||(Dn=Vn.now(),Nn=setInterval(Yn,1e3)),kn=1,Bn(Hn)))}Wn.prototype=Kn.prototype={constructor:Wn,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Un():+n)+(null==e?0:+e),this._next||On===this||(On?On._next=this:Tn=this,On=this),this._call=t,this._time=n,qn()},stop:function(){this._call&&(this._call=null,this._time=1/0,qn())}};var Xn=function(t,e,n){var r=new Wn;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},Zn=ct("start","end","cancel","interrupt"),Jn=[],Qn=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,c,h,f;if(1!==n.state)return s();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return Xn(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Xn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Kn((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Zn,tween:Jn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function $n(t,e){var n=er(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function tr(t,e){var n=er(t,e);if(n.state>3)throw new Error("too late; already running");return n}function er(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var nr,rr,ir,or,ar=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},sr=180/Math.PI,ur={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},lr=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*sr,skewX:Math.atan(u)*sr,scaleX:a,scaleY:s}};function cr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:_n(t,i)},{i:u-2,x:_n(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:_n(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:_n(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:_n(t,n)},{i:s-2,x:_n(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var hr=cr((function(t){return"none"===t?ur:(nr||(nr=document.createElement("DIV"),rr=document.documentElement,ir=document.defaultView),nr.style.transform=t,t=ir.getComputedStyle(rr.appendChild(nr),null).getPropertyValue("transform"),rr.removeChild(nr),t=t.slice(7,-1).split(","),lr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),fr=cr((function(t){return null==t?ur:(or||(or=document.createElementNS("http://www.w3.org/2000/svg","g")),or.setAttribute("transform",t),(t=or.transform.baseVal.consolidate())?(t=t.matrix,lr(t.a,t.b,t.c,t.d,t.e,t.f)):ur)}),", ",")",")");function pr(t,e){var n,r;return function(){var i=tr(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function dr(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=tr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function gr(t,e,n){var r=t._id;return t.each((function(){var t=tr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return er(t,r).value[e]}}var mr=function(t,e){var n;return("number"===typeof e?_n:e instanceof We?fn:(n=We(e))?(e=n,fn):Cn)(t,e)};function yr(t){return function(){this.removeAttribute(t)}}function vr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function br(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Er(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function _r(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function wr(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Sr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function xr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Tr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&xr(t,i)),n}return i._value=e,i}function Or(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Sr(t,i)),n}return i._value=e,i}function Cr(t,e){return function(){$n(this,t).delay=+e.apply(this,arguments)}}function Ar(t,e){return e=+e,function(){$n(this,t).delay=e}}function Lr(t,e){return function(){tr(this,t).duration=+e.apply(this,arguments)}}function Pr(t,e){return e=+e,function(){tr(this,t).duration=e}}function Rr(t,e){if("function"!==typeof e)throw new Error;return function(){tr(this,t).ease=e}}function Mr(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?$n:tr;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var kr=_e.prototype.constructor;function Ir(t){return function(){this.style.removeProperty(t)}}function Nr(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Dr(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Nr(t,o,n)),r}return o._value=e,o}function jr(t){return function(e){this.textContent=t.call(this,e)}}function Fr(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&jr(r)),e}return r._value=t,r}var Vr=0;function Br(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ur(t){return _e().transition(t)}function Gr(){return++Vr}var Wr=_e.prototype;function Kr(t){return t*t*t}function zr(t){return--t*t*t+1}function Hr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Br.prototype=Ur.prototype={constructor:Br,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=ft(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Qn(h[f],e,n,f,h,er(s,n)));return new Br(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=dt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=er(u,n),g=0,m=p.length;g<m;++g)(f=p[g])&&Qn(f,e,n,g,p,d);o.push(p),a.push(u)}return new Br(o,a,e,n)},filter:function(t){"function"!==typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Br(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new Br(a,this._parents,this._name,this._id)},selection:function(){return new kr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Gr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=er(a,e);Qn(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Br(r,this._parents,t,n)},call:Wr.call,nodes:Wr.nodes,node:Wr.node,size:Wr.size,empty:Wr.empty,each:Wr.each,on:function(t,e){var n=this._id;return arguments.length<2?er(this.node(),n).on.on(t):this.each(Mr(n,t,e))},attr:function(t,e){var n=St(t),r="transform"===n?fr:mr;return this.attrTween(t,"function"===typeof e?(n.local?wr:_r)(n,r,gr(this,"attr."+t,e)):null==e?(n.local?vr:yr)(n):(n.local?Er:br)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=St(t);return this.tween(n,(r.local?Tr:Or)(r,e))},style:function(t,e,n){var r="transform"===(t+="")?hr:mr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=It(this,t),a=(this.style.removeProperty(t),It(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Ir(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=It(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=It(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,gr(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=tr(this,t),l=u.on,c=null==u.value[a]?o||(o=Ir(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=It(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,Dr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(gr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Fr(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=er(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?pr:dr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Cr:Ar)(e,t)):er(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Lr:Pr)(e,t)):er(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Rr(e,t)):er(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=tr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))}};var Yr={time:null,delay:0,duration:250,ease:Hr};function qr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Yr.time=Un(),Yr;return n}_e.prototype.interrupt=function(t){return this.each((function(){ar(this,t)}))},_e.prototype.transition=function(t){var e,n;t instanceof Br?(e=t._id,t=t._name):(e=Gr(),(n=Yr).time=Un(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Qn(a,t,e,l,s,n||qr(a,e));return new Br(r,this._parents,t,e)};var Xr=[null],Zr=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new Br([[t]],Xr,e,+r);return null},Jr=function(t){return function(){return t}},Qr=function(t,e,n){this.target=t,this.type=e,this.selection=n};function $r(){ue.stopImmediatePropagation()}var ti=function(){ue.preventDefault(),ue.stopImmediatePropagation()},ei={name:"drag"},ni={name:"space"},ri={name:"handle"},ii={name:"center"};function oi(t){return[+t[0],+t[1]]}function ai(t){return[oi(t[0]),oi(t[1])]}function si(t){return function(e){return Rn(e,ue.touches,t)}}var ui={name:"x",handles:["w","e"].map(mi),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},li={name:"y",handles:["n","s"].map(mi),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ci={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(mi),input:function(t){return null==t?null:ai(t)},output:function(t){return t}},hi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},fi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},pi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},di={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},gi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function mi(t){return{type:t}}function yi(){return!ue.ctrlKey&&!ue.button}function vi(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function bi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ei(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function _i(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function wi(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Si(){return Oi(ui)}function xi(){return Oi(li)}var Ti=function(){return Oi(ci)};function Oi(t){var e,n=vi,r=yi,i=bi,o=!0,a=ct("start","brush","end"),s=6;function u(e){var n=e.property("__brush",g).selectAll(".overlay").data([mi("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",hi.overlay).merge(n).each((function(){var t=Ei(this).extent;we(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([mi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",hi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return hi[t.type]})),e.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t=we(this),e=Ei(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e,n){return!n&&t.__brush.emitter||new h(t,e)}function h(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function f(){if((!e||ue.touches)&&r.apply(this,arguments)){var n,i,a,s,u,h,f,p,d,g,m,y=this,v=ue.target.__data__.type,b="selection"===(o&&ue.metaKey?v="overlay":v)?ei:o&&ue.altKey?ii:ri,E=t===li?null:di[v],_=t===ui?null:gi[v],w=Ei(y),S=w.extent,x=w.selection,T=S[0][0],O=S[0][1],C=S[1][0],A=S[1][1],L=0,P=0,R=E&&_&&o&&ue.shiftKey,M=ue.touches?si(ue.changedTouches[0].identifier):Mn,k=M(y),I=k,N=c(y,arguments,!0).beforestart();"overlay"===v?(x&&(d=!0),w.selection=x=[[n=t===li?T:k[0],a=t===ui?O:k[1]],[u=t===li?C:n,f=t===ui?A:a]]):(n=x[0][0],a=x[0][1],u=x[1][0],f=x[1][1]),i=n,s=a,h=u,p=f;var D=we(y).attr("pointer-events","none"),j=D.selectAll(".overlay").attr("cursor",hi[v]);if(ue.touches)N.moved=V,N.ended=U;else{var F=we(ue.view).on("mousemove.brush",V,!0).on("mouseup.brush",U,!0);o&&F.on("keydown.brush",G,!0).on("keyup.brush",W,!0),Te(ue.view)}$r(),ar(y),l.call(y),N.start()}function V(){var t=M(y);!R||g||m||(Math.abs(t[0]-I[0])>Math.abs(t[1]-I[1])?m=!0:g=!0),I=t,d=!0,ti(),B()}function B(){var t;switch(L=I[0]-k[0],P=I[1]-k[1],b){case ni:case ei:E&&(L=Math.max(T-n,Math.min(C-u,L)),i=n+L,h=u+L),_&&(P=Math.max(O-a,Math.min(A-f,P)),s=a+P,p=f+P);break;case ri:E<0?(L=Math.max(T-n,Math.min(C-n,L)),i=n+L,h=u):E>0&&(L=Math.max(T-u,Math.min(C-u,L)),i=n,h=u+L),_<0?(P=Math.max(O-a,Math.min(A-a,P)),s=a+P,p=f):_>0&&(P=Math.max(O-f,Math.min(A-f,P)),s=a,p=f+P);break;case ii:E&&(i=Math.max(T,Math.min(C,n-L*E)),h=Math.max(T,Math.min(C,u+L*E))),_&&(s=Math.max(O,Math.min(A,a-P*_)),p=Math.max(O,Math.min(A,f+P*_)))}h<i&&(E*=-1,t=n,n=u,u=t,t=i,i=h,h=t,v in fi&&j.attr("cursor",hi[v=fi[v]])),p<s&&(_*=-1,t=a,a=f,f=t,t=s,s=p,p=t,v in pi&&j.attr("cursor",hi[v=pi[v]])),w.selection&&(x=w.selection),g&&(i=x[0][0],h=x[1][0]),m&&(s=x[0][1],p=x[1][1]),x[0][0]===i&&x[0][1]===s&&x[1][0]===h&&x[1][1]===p||(w.selection=[[i,s],[h,p]],l.call(y),N.brush())}function U(){if($r(),ue.touches){if(ue.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Oe(ue.view,d),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),j.attr("cursor",hi.overlay),w.selection&&(x=w.selection),_i(x)&&(w.selection=null,l.call(y)),N.end()}function G(){switch(ue.keyCode){case 16:R=E&&_;break;case 18:b===ri&&(E&&(u=h-L*E,n=i+L*E),_&&(f=p-P*_,a=s+P*_),b=ii,B());break;case 32:b!==ri&&b!==ii||(E<0?u=h-L:E>0&&(n=i-L),_<0?f=p-P:_>0&&(a=s-P),b=ni,j.attr("cursor",hi.selection),B());break;default:return}ti()}function W(){switch(ue.keyCode){case 16:R&&(g=m=R=!1,B());break;case 18:b===ii&&(E<0?u=h:E>0&&(n=i),_<0?f=p:_>0&&(a=s),b=ri,B());break;case 32:b===ni&&(ue.altKey?(E&&(u=h-L*E,n=i+L*E),_&&(f=p-P*_,a=s+P*_),b=ii):(E<0?u=h:E>0&&(n=i),_<0?f=p:_>0&&(a=s),b=ri),j.attr("cursor",hi[v]),B());break;default:return}ti()}}function p(){c(this,arguments).moved()}function d(){c(this,arguments).ended()}function g(){var e=this.__brush||{selection:null};return e.extent=ai(n.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n){e.selection?e.on("start.brush",(function(){c(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){c(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=c(e,arguments),o=r.selection,a=t.input("function"===typeof n?n.apply(this,arguments):n,r.extent),s=An(o,a);function u(t){r.selection=1===t&&null===a?null:s(t),l.call(e),i.brush()}return null!==o&&null!==a?u:u(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"===typeof n?n.apply(e,r):n,i.extent),a=c(e,r).beforestart();ar(e),i.selection=null===o?null:o,l.call(e),a.start().brush().end()}))},u.clear=function(t){u.move(t,null)},h.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){de(new Qr(u,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},u.extent=function(t){return arguments.length?(n="function"===typeof t?t:Jr(ai(t)),u):n},u.filter=function(t){return arguments.length?(r="function"===typeof t?t:Jr(!!t),u):r},u.touchable=function(t){return arguments.length?(i="function"===typeof t?t:Jr(!!t),u):i},u.handleSize=function(t){return arguments.length?(s=+t,u):s},u.keyModifiers=function(t){return arguments.length?(o=!!t,u):o},u.on=function(){var t=a.on.apply(a,arguments);return t===a?u:t},u}var Ci=Math.cos,Ai=Math.sin,Li=Math.PI,Pi=Li/2,Ri=2*Li,Mi=Math.max;function ki(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var Ii=function(){var t=0,e=null,n=null,r=null;function i(i){var o,a,s,u,l,c,h=i.length,f=[],p=w(h),d=[],g=[],m=g.groups=new Array(h),y=new Array(h*h);for(o=0,l=-1;++l<h;){for(a=0,c=-1;++c<h;)a+=i[l][c];f.push(a),d.push(w(h)),o+=a}for(e&&p.sort((function(t,n){return e(f[t],f[n])})),n&&d.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))})),u=(o=Mi(0,Ri-t*h)/o)?t:Ri/h,a=0,l=-1;++l<h;){for(s=a,c=-1;++c<h;){var v=p[l],b=d[v][c],E=i[v][b],_=a,S=a+=E*o;y[b*h+v]={index:v,subindex:b,startAngle:_,endAngle:S,value:E}}m[v]={index:v,startAngle:s,endAngle:a,value:f[v]},a+=u}for(l=-1;++l<h;)for(c=l-1;++c<h;){var x=y[c*h+l],T=y[l*h+c];(x.value||T.value)&&g.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}return r?g.sort(r):g}return i.padAngle=function(e){return arguments.length?(t=Mi(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=ki(t))._=t,i):r&&r._},i},Ni=Array.prototype.slice,Di=function(t){return function(){return t}},ji=Math.PI,Fi=2*ji,Vi=Fi-1e-6;function Bi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ui(){return new Bi}Bi.prototype=Ui.prototype={constructor:Bi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var f=n-o,p=r-a,d=s*s+u*u,g=f*f+p*p,m=Math.sqrt(d),y=Math.sqrt(h),v=i*Math.tan((ji-Math.acos((d+h-g)/(2*m*y)))/2),b=v/y,E=v/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(e+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*p)+","+(this._x1=t+E*s)+","+(this._y1=e+E*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%Fi+Fi),h>Vi?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=ji)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Gi=Ui;function Wi(t){return t.source}function Ki(t){return t.target}function zi(t){return t.radius}function Hi(t){return t.startAngle}function Yi(t){return t.endAngle}var qi=function(){var t=Wi,e=Ki,n=zi,r=Hi,i=Yi,o=null;function a(){var a,s=Ni.call(arguments),u=t.apply(this,s),l=e.apply(this,s),c=+n.apply(this,(s[0]=u,s)),h=r.apply(this,s)-Pi,f=i.apply(this,s)-Pi,p=c*Ci(h),d=c*Ai(h),g=+n.apply(this,(s[0]=l,s)),m=r.apply(this,s)-Pi,y=i.apply(this,s)-Pi;if(o||(o=a=Gi()),o.moveTo(p,d),o.arc(0,0,c,h,f),h===m&&f===y||(o.quadraticCurveTo(0,0,g*Ci(m),g*Ai(m)),o.arc(0,0,g,m,y)),o.quadraticCurveTo(0,0,p,d),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"===typeof t?t:Di(+t),a):n},a.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:Di(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:Di(+t),a):i},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a};function Xi(){}function Zi(t,e){var n=new Xi;if(t instanceof Xi)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Xi.prototype=Zi.prototype={constructor:Xi,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Ji=Zi,Qi=function(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,l,c,h=-1,f=n.length,p=r[i++],d=Ji(),g=a();++h<f;)(c=d.get(u=p(l=n[h])+""))?c.push(l):d.set(u,[l]);return d.each((function(t,e){s(g,e,o(t,i,a,s))})),g}return n={object:function(t){return o(t,0,$i,to)},map:function(t){return o(t,0,eo,no)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each((function(e,n){a.push({key:n,values:t(e,o)})}))),null!=s?a.sort((function(t,e){return s(t.key,e.key)})):a}(o(t,0,eo,no),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function $i(){return{}}function to(t,e,n){t[e]=n}function eo(){return Ji()}function no(t,e,n){t.set(e,n)}function ro(){}var io=Ji.prototype;function oo(t,e){var n=new ro;if(t instanceof ro)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}ro.prototype=oo.prototype={constructor:ro,has:io.has,add:function(t){return this["$"+(t+="")]=t,this},remove:io.remove,clear:io.clear,values:io.keys,size:io.size,empty:io.empty,each:io.each};var ao=oo,so=function(t){var e=[];for(var n in t)e.push(n);return e},uo=function(t){var e=[];for(var n in t)e.push(t[n]);return e},lo=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},co=Math.PI/180,ho=180/Math.PI;function fo(t){if(t instanceof mo)return new mo(t.l,t.a,t.b,t.opacity);if(t instanceof xo)return To(t);t instanceof qe||(t=He(t));var e,n,r=Eo(t.r),i=Eo(t.g),o=Eo(t.b),a=yo((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=yo((.4360747*r+.3850649*i+.1430804*o)/.96422),n=yo((.0139322*r+.0971045*i+.7141733*o)/.82521)),new mo(116*a-16,500*(e-a),200*(a-n),t.opacity)}function po(t,e){return new mo(t,0,0,null==e?1:e)}function go(t,e,n,r){return 1===arguments.length?fo(t):new mo(t,e,n,null==r?1:r)}function mo(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function yo(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function vo(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function bo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Eo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _o(t){if(t instanceof xo)return new xo(t.h,t.c,t.l,t.opacity);if(t instanceof mo||(t=fo(t)),0===t.a&&0===t.b)return new xo(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ho;return new xo(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function wo(t,e,n,r){return 1===arguments.length?_o(t):new xo(n,e,t,null==r?1:r)}function So(t,e,n,r){return 1===arguments.length?_o(t):new xo(t,e,n,null==r?1:r)}function xo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function To(t){if(isNaN(t.h))return new mo(t.l,0,0,t.opacity);var e=t.h*co;return new mo(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ce(mo,go,Ae(Le,{brighter:function(t){return new mo(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new mo(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new qe(bo(3.1338561*(e=.96422*vo(e))-1.6168667*(t=1*vo(t))-.4906146*(n=.82521*vo(n))),bo(-.9787684*e+1.9161415*t+.033454*n),bo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ce(xo,So,Ae(Le,{brighter:function(t){return new xo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new xo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return To(this).rgb()}}));var Oo=-.29227,Co=-1.7884503806,Ao=3.5172982438,Lo=-.6557636667999999;function Po(t){if(t instanceof Mo)return new Mo(t.h,t.s,t.l,t.opacity);t instanceof qe||(t=He(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Lo*r+Co*e-Ao*n)/(Lo+Co-Ao),o=r-i,a=(1.97294*(n-i)-Oo*o)/-.90649,s=Math.sqrt(a*a+o*o)/(1.97294*i*(1-i)),u=s?Math.atan2(a,o)*ho-120:NaN;return new Mo(u<0?u+360:u,s,i,t.opacity)}function Ro(t,e,n,r){return 1===arguments.length?Po(t):new Mo(t,e,n,null==r?1:r)}function Mo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ce(Mo,Ro,Ae(Le,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Mo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Mo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*co,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new qe(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(Oo*r+-.90649*i)),255*(e+n*(1.97294*r)),this.opacity)}}));var ko=Array.prototype.slice,Io=function(t,e){return t-e},No=function(t){return function(){return t}},Do=function(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=jo(t,e[r]))return n;return 0};function jo(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],l=u[0],c=u[1],h=t[s],f=h[0],p=h[1];if(Fo(u,h,e))return 0;c>r!==p>r&&n<(f-l)*(r-c)/(p-c)+l&&(i=-i)}return i}function Fo(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}var Vo=function(){},Bo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Uo=function(){var t=1,e=1,n=L,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Io);else{var r=m(t),i=r[0],a=r[1];e=A(i,a,e),e=w(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return o(t,e)}))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,u,l,c,h,f=new Array,p=new Array;o=s=-1,l=n[0]>=r,Bo[l<<1].forEach(d);for(;++o<t-1;)u=l,l=n[o+1]>=r,Bo[u|l<<1].forEach(d);Bo[l<<0].forEach(d);for(;++s<e-1;){for(o=-1,l=n[s*t+t]>=r,c=n[s*t]>=r,Bo[l<<1|c<<2].forEach(d);++o<t-1;)u=l,l=n[s*t+t+o+1]>=r,h=c,c=n[s*t+o+1]>=r,Bo[u|l<<1|c<<2|h<<3].forEach(d);Bo[l|c<<3].forEach(d)}o=-1,c=n[s*t]>=r,Bo[c<<2].forEach(d);for(;++o<t-1;)h=c,c=n[s*t+o+1]>=r,Bo[c<<2|h<<3].forEach(d);function d(t){var e,n,r=[t[0][0]+o,t[0][1]+s],u=[t[1][0]+o,t[1][1]+s],l=a(r),c=a(u);(e=p[l])?(n=f[c])?(delete p[e.end],delete f[n.start],e===n?(e.ring.push(u),i(e.ring)):f[e.start]=p[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete p[e.end],e.ring.push(u),p[e.end=c]=e):(e=f[c])?(n=p[l])?(delete f[e.start],delete p[n.end],e===n?(e.ring.push(u),i(e.ring)):f[n.start]=p[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete f[e.start],e.ring.unshift(r),f[e.start=l]=e):f[l]=p[c]={start:l,end:c,ring:[r,u]}}Bo[c<<3].forEach(d)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==Do((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],u=0|a,l=0|s,c=r[l*t+u];a>0&&a<t&&u===a&&(o=r[l*t+u-1],n[0]=a+(i-o)/(c-o)-.5),s>0&&s<e&&l===s&&(o=r[(l-1)*t+u],n[1]=s+(i-o)/(c-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0)||!(o>0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?No(ko.call(t)):No(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:Vo,i):r===s},i};function Go(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[s+a*r]),s>=n&&(s>=o&&(u-=t.data[s-o+a*r]),e.data[s-n+a*r]=u/Math.min(s+1,r-1+o-s,o))}function Wo(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[a+s*r]),s>=n&&(s>=o&&(u-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=u/Math.min(s+1,i-1+o-s,o))}function Ko(t){return t[0]}function zo(t){return t[1]}function Ho(){return 1}var Yo=function(){var t=Ko,e=zo,n=Ho,r=960,i=500,o=20,a=2,s=3*o,u=r+2*s>>a,l=i+2*s>>a,c=No(20);function h(r){var i=new Float32Array(u*l),h=new Float32Array(u*l);r.forEach((function(r,o,c){var h=+t(r,o,c)+s>>a,f=+e(r,o,c)+s>>a,p=+n(r,o,c);h>=0&&h<u&&f>=0&&f<l&&(i[h+f*u]+=p)})),Go({width:u,height:l,data:i},{width:u,height:l,data:h},o>>a),Wo({width:u,height:l,data:h},{width:u,height:l,data:i},o>>a),Go({width:u,height:l,data:i},{width:u,height:l,data:h},o>>a),Wo({width:u,height:l,data:h},{width:u,height:l,data:i},o>>a),Go({width:u,height:l,data:i},{width:u,height:l,data:h},o>>a),Wo({width:u,height:l,data:h},{width:u,height:l,data:i},o>>a);var p=c(i);if(!Array.isArray(p)){var d=I(i);p=A(0,d,p),(p=w(0,Math.floor(d/p)*p,p)).shift()}return Uo().thresholds(p).size([u,l])(i).map(f)}function f(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(p),t}function p(t){t.forEach(d)}function d(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function m(){return u=r+2*(s=3*o)>>a,l=i+2*s>>a,h}return h.x=function(e){return arguments.length?(t="function"===typeof e?e:No(+e),h):t},h.y=function(t){return arguments.length?(e="function"===typeof t?t:No(+t),h):e},h.weight=function(t){return arguments.length?(n="function"===typeof t?t:No(+t),h):n},h.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0)&&!(e>=0))throw new Error("invalid size");return r=e,i=n,m()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),m()},h.thresholds=function(t){return arguments.length?(c="function"===typeof t?t:Array.isArray(t)?No(ko.call(t)):No(t),h):c},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},h},qo=function(t){return function(){return t}};function Xo(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function Zo(){return!ue.ctrlKey&&!ue.button}function Jo(){return this.parentNode}function Qo(t){return null==t?{x:ue.x,y:ue.y}:t}function $o(){return navigator.maxTouchPoints||"ontouchstart"in this}Xo.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ta=function(){var t,e,n,r,i=Zo,o=Jo,a=Qo,s=$o,u={},l=ct("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",p).filter(s).on("touchstart.drag",m).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&i.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),Mn,this,arguments);a&&(we(ue.view).on("mousemove.drag",d,!0).on("mouseup.drag",g,!0),Te(ue.view),Se(),n=!1,t=ue.clientX,e=ue.clientY,a("start"))}}function d(){if(xe(),!n){var r=ue.clientX-t,i=ue.clientY-e;n=r*r+i*i>h}u.mouse("drag")}function g(){we(ue.view).on("mousemove.drag mouseup.drag",null),Oe(ue.view,n),xe(),u.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=ue.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=b(n[t].identifier,r,Rn,this,arguments))&&(Se(),e("start"))}}function y(){var t,e,n=ue.changedTouches,r=n.length;for(t=0;t<r;++t)(e=u[n[t].identifier])&&(xe(),e("drag"))}function v(){var t,e,n=ue.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=u[n[t].identifier])&&(Se(),e("end"))}function b(t,e,n,r,i){var o,s,h,p=n(e,t),d=l.copy();if(de(new Xo(f,"beforestart",o,t,c,p[0],p[1],0,0,d),(function(){return null!=(ue.subject=o=a.apply(r,i))&&(s=o.x-p[0]||0,h=o.y-p[1]||0,!0)})))return function a(l){var g,m=p;switch(l){case"start":u[t]=a,g=c++;break;case"end":delete u[t],--c;case"drag":p=n(e,t),g=c}de(new Xo(f,l,o,t,g,p[0]+s,p[1]+h,p[0]-m[0],p[1]-m[1],d),d.apply,d,[l,r,i])}}return f.filter=function(t){return arguments.length?(i="function"===typeof t?t:qo(!!t),f):i},f.container=function(t){return arguments.length?(o="function"===typeof t?t:qo(t),f):o},f.subject=function(t){return arguments.length?(a="function"===typeof t?t:qo(t),f):a},f.touchable=function(t){return arguments.length?(s="function"===typeof t?t:qo(!!t),f):s},f.on=function(){var t=l.on.apply(l,arguments);return t===l?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f},ea={},na={};function ra(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function ia(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function oa(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function aa(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+oa(-e,6):e>9999?"+"+oa(e,6):oa(e,4))+"-"+oa(t.getUTCMonth()+1,2)+"-"+oa(t.getUTCDate(),2)+(o?"T"+oa(n,2)+":"+oa(r,2)+":"+oa(i,2)+"."+oa(o,3)+"Z":i?"T"+oa(n,2)+":"+oa(r,2)+":"+oa(i,2)+"Z":r||n?"T"+oa(n,2)+":"+oa(r,2)+"Z":"")}var sa=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return na;if(l)return l=!1,ea;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?u=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==na;){for(var h=[];r!==ea&&r!==na;)h.push(r),r=c();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?aa(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ra(t);return function(r,i){return e(n(r),i,t)}}(t,e):ra(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=ia(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ia(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},ua=sa(","),la=ua.parse,ca=ua.parseRows,ha=ua.format,fa=ua.formatBody,pa=ua.formatRows,da=ua.formatRow,ga=ua.formatValue,ma=sa("\t"),ya=ma.parse,va=ma.parseRows,ba=ma.format,Ea=ma.formatBody,_a=ma.formatRows,wa=ma.formatRow,Sa=ma.formatValue;function xa(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ta&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}var Ta=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Oa(t){return+t}function Ca(t){return t*t}function Aa(t){return t*(2-t)}function La(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Pa=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ra=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Ma=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),ka=Math.PI,Ia=ka/2;function Na(t){return 1-Math.cos(t*Ia)}function Da(t){return Math.sin(t*Ia)}function ja(t){return(1-Math.cos(ka*t))/2}function Fa(t){return Math.pow(2,10*t-10)}function Va(t){return 1-Math.pow(2,-10*t)}function Ba(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ua(t){return 1-Math.sqrt(1-t*t)}function Ga(t){return Math.sqrt(1- --t*t)}function Wa(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Ka(t){return 1-za(1-t)}function za(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+.75:t<10/11?7.5625*(t-=9/11)*t+.9375:7.5625*(t-=21/22)*t+63/64}function Ha(t){return((t*=2)<=1?1-za(1-t):za(t-1)+1)/2}var Ya=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),qa=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Xa=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Za=2*Math.PI,Ja=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Za);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Za)},i.period=function(n){return t(e,n)},i}(1,.3),Qa=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Za);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Za)},i.period=function(n){return t(e,n)},i}(1,.3),$a=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Za);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Za)},i.period=function(n){return t(e,n)},i}(1,.3);function ts(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var es=function(t,e){return fetch(t,e).then(ts)};function ns(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var rs=function(t,e){return fetch(t,e).then(ns)};function is(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var os=function(t,e){return fetch(t,e).then(is)};function as(t){return function(e,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=void 0),os(e,n).then((function(e){return t(e,r)}))}}function ss(t,e,n,r){3===arguments.length&&"function"===typeof n&&(r=n,n=void 0);var i=sa(t);return os(e,n).then((function(t){return i.parse(t,r)}))}var us=as(la),ls=as(ya),cs=function(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))};function hs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var fs=function(t,e){return fetch(t,e).then(hs)};function ps(t){return function(e,n){return os(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}var ds=ps("application/xml"),gs=ps("text/html"),ms=ps("image/svg+xml"),ys=function(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r},vs=function(t){return function(){return t}},bs=function(){return 1e-6*(Math.random()-.5)};function Es(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,h,f,p=t._root,d={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a,i=p,!(p=p[h=c<<1|l]))return i[h]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a}while((h=c<<1|l)===(f=(u>=a)<<1|s>=o));return i[f]=p,i[h]=d,t}var _s=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function ws(t){return t[0]}function Ss(t){return t[1]}function xs(t,e,n){var r=new Ts(null==e?ws:e,null==n?Ss:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ts(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Os(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Cs=xs.prototype=Ts.prototype;function As(t){return t.x+t.vx}function Ls(t){return t.y+t.vy}Cs.copy=function(){var t,e,n=new Ts(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Os(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Os(e));return n},Cs.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Es(this.cover(e,n),e,n,t)},Cs.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<o;++n)Es(this,a[n],s[n],t[n]);return this},Cs.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Cs.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Cs.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Cs.find=function(t,e,n){var r,i,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new _s(g,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(g=u.node)||(i=u.x0)>f||(o=u.y0)>p||(a=u.x1)<c||(s=u.y1)<h))if(g.length){var m=(i+a)/2,y=(o+s)/2;d.push(new _s(g[3],m,y,a,s),new _s(g[2],i,y,m,s),new _s(g[1],m,o,a,y),new _s(g[0],i,o,m,y)),(l=(e>=y)<<1|t>=m)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var v=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),E=v*v+b*b;if(E<n){var _=Math.sqrt(n=E);c=t-_,h=e-_,f=t+_,p=e+_,r=g.data}}return r},Cs.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,h,f,p=this._root,d=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(s=(d+m)/2))?d=s:m=s,(c=a>=(u=(g+y)/2))?g=u:y=u,e=p,!(p=p[h=c<<1|l]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},Cs.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Cs.root=function(){return this._root},Cs.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Cs.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new _s(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new _s(n,l,c,o,a)),(n=u[2])&&s.push(new _s(n,r,c,l,a)),(n=u[1])&&s.push(new _s(n,l,i,o,c)),(n=u[0])&&s.push(new _s(n,r,i,l,c))}return this},Cs.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new _s(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=i[0])&&n.push(new _s(o,a,s,c,h)),(o=i[1])&&n.push(new _s(o,c,s,u,h)),(o=i[2])&&n.push(new _s(o,a,h,c,l)),(o=i[3])&&n.push(new _s(o,c,h,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Cs.x=function(t){return arguments.length?(this._x=t,this):this._x},Cs.y=function(t){return arguments.length?(this._y=t,this):this._y};var Ps=function(t){var e,n,r=1,i=1;function o(){for(var t,o,s,u,l,c,h,f=e.length,p=0;p<i;++p)for(o=xs(e,As,Ls).visitAfter(a),t=0;t<f;++t)s=e[t],c=n[s.index],h=c*c,u=s.x+s.vx,l=s.y+s.vy,o.visit(d);function d(t,e,n,i,o){var a=t.data,f=t.r,p=c+f;if(!a)return e>u+p||i<u-p||n>l+p||o<l-p;if(a.index>s.index){var d=u-a.x-a.vx,g=l-a.y-a.vy,m=d*d+g*g;m<p*p&&(0===d&&(m+=(d=bs())*d),0===g&&(m+=(g=bs())*g),m=(p-(m=Math.sqrt(m)))/m*r,s.vx+=(d*=m)*(p=(f*=f)/(h+f)),s.vy+=(g*=m)*p,a.vx-=d*(p=1-p),a.vy-=g*p)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=vs(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"===typeof e?e:vs(+e),s(),o):t},o};function Rs(t){return t.index}function Ms(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var ks=function(t){var e,n,r,i,o,a=Rs,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=vs(30),l=1;function c(r){for(var i=0,a=t.length;i<l;++i)for(var s,u,c,h,f,p,d,g=0;g<a;++g)u=(s=t[g]).source,h=(c=s.target).x+c.vx-u.x-u.vx||bs(),f=c.y+c.vy-u.y-u.vy||bs(),h*=p=((p=Math.sqrt(h*h+f*f))-n[g])/p*r*e[g],f*=p,c.vx-=h*(d=o[g]),c.vy-=f*d,u.vx+=h*(d=1-d),u.vy+=f*d}function h(){if(r){var s,u,l=r.length,c=t.length,h=Ji(r,a);for(s=0,i=new Array(l);s<c;++s)(u=t[s]).index=s,"object"!==typeof u.source&&(u.source=Ms(h,u.source)),"object"!==typeof u.target&&(u.target=Ms(h,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,o=new Array(c);s<c;++s)u=t[s],o[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(c),f(),n=new Array(c),p()}}function f(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t){r=t,h()},c.links=function(e){return arguments.length?(t=e,h(),c):t},c.id=function(t){return arguments.length?(a=t,c):a},c.iterations=function(t){return arguments.length?(l=+t,c):l},c.strength=function(t){return arguments.length?(s="function"===typeof t?t:vs(+t),f(),c):s},c.distance=function(t){return arguments.length?(u="function"===typeof t?t:vs(+t),p(),c):u},c};function Is(t){return t.x}function Ns(t){return t.y}var Ds=Math.PI*(3-Math.sqrt(5)),js=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=Ji(),u=Kn(c),l=ct("tick","end");function c(){h(),l.call("tick",e),n<r&&(u.stop(),l.call("end",e))}function h(r){var u,l,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.each((function(t){t(n)})),u=0;u<c;++u)null==(l=t[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(n),o=n*Ds;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return u.restart(c),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.each(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}},Fs=function(){var t,e,n,r,i=vs(-30),o=1,a=1/0,s=.81;function u(r){var i,o=t.length,a=xs(t,Is,Ns).visitAfter(c);for(n=r,i=0;i<o;++i)e=t[i],a.visit(h)}function l(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function c(t){var e,n,i,o,a,s=0,u=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,i+=n*e.x,o+=n*e.y);t.x=i/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function h(t,i,u,l){if(!t.value)return!0;var c=t.x-e.x,h=t.y-e.y,f=l-i,p=c*c+h*h;if(f*f/s<p)return p<a&&(0===c&&(p+=(c=bs())*c),0===h&&(p+=(h=bs())*h),p<o&&(p=Math.sqrt(o*p)),e.vx+=c*t.value*n/p,e.vy+=h*t.value*n/p),!0;if(!(t.length||p>=a)){(t.data!==e||t.next)&&(0===c&&(p+=(c=bs())*c),0===h&&(p+=(h=bs())*h),p<o&&(p=Math.sqrt(o*p)));do{t.data!==e&&(f=r[t.data.index]*n/p,e.vx+=c*f,e.vy+=h*f)}while(t=t.next)}}return u.initialize=function(e){t=e,l()},u.strength=function(t){return arguments.length?(i="function"===typeof t?t:vs(+t),l(),u):i},u.distanceMin=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.distanceMax=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u},Vs=function(t,e,n){var r,i,o,a=vs(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var u=r[a],l=u.x-e||1e-6,c=u.y-n||1e-6,h=Math.sqrt(l*l+c*c),f=(o[a]-h)*i[a]*t/h;u.vx+=l*f,u.vy+=c*f}}function u(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!==typeof t&&(t=vs(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,u()},s.strength=function(t){return arguments.length?(a="function"===typeof t?t:vs(+t),u(),s):a},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:vs(+e),u(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},Bs=function(t){var e,n,r,i=vs(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=vs(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:vs(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"===typeof e?e:vs(+e),a(),o):t},o},Us=function(t){var e,n,r,i=vs(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=vs(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:vs(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"===typeof e?e:vs(+e),a(),o):t},o},Gs=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Ws=function(t){return(t=Gs(Math.abs(t)))?t[1]:NaN},Ks=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zs(t){if(!(e=Ks.exec(t)))throw new Error("invalid format: "+t);var e;return new Hs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Hs(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}zs.prototype=Hs.prototype,Hs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ys,qs,Xs,Zs,Js=function(t,e){var n=Gs(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Qs={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Js(100*t,e)},r:Js,s:function(t,e){var n=Gs(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ys=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Gs(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},$s=function(t){return t},tu=Array.prototype.map,eu=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],nu=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?$s:(e=tu.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?$s:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(tu.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=zs(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Qs[v]||(void 0===m&&(m=12),y=!0,v="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",E="$"===f?o:/[%p]/.test(v)?u:"",_=Qs[v],w=/[defgprs%]/.test(v);function S(t){var i,o,u,f=b,S=E;if("c"===v)S=_(t)+S,t="";else{var x=(t=+t)<0;if(t=isNaN(t)?c:_(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),x&&0===+t&&(x=!1),f=(x?"("===h?h:l:"-"===h||"("===h?"":h)+f,S=("s"===v?eu[8+Ys/3]:"")+S+(x&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){S=(46===u?a+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var T=f.length+t.length+S.length,O=T<d?new Array(d-T+1).join(e):"";switch(g&&p&&(t=r(O+t,O.length?d-S.length:1/0),O=""),n){case"<":t=f+t+S+O;break;case"=":t=f+O+t+S;break;case"^":t=O.slice(0,T=O.length>>1)+f+t+S+O.slice(T);break;default:t=O+f+t+S}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return t+""},S}return{format:h,formatPrefix:function(t,e){var n=h(((t=zs(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ws(e)/3))),i=Math.pow(10,-r),o=eu[8+r/3];return function(t){return n(i*t)+o}}}};function ru(t){return qs=nu(t),Xs=qs.format,Zs=qs.formatPrefix,qs}ru({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var iu=function(t){return Math.max(0,-Ws(Math.abs(t)))},ou=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ws(e)/3)))-Ws(Math.abs(t)))},au=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ws(e)-Ws(t))+1},su=function(){return new uu};function uu(){this.reset()}uu.prototype={constructor:uu,reset:function(){this.s=this.t=0},add:function(t){cu(lu,t,this.t),cu(this,lu.s,this.s),this.s?this.t+=lu.t:this.s=lu.t},valueOf:function(){return this.s}};var lu=new uu;function cu(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var hu=Math.PI,fu=hu/2,pu=hu/4,du=2*hu,gu=180/hu,mu=hu/180,yu=Math.abs,vu=Math.atan,bu=Math.atan2,Eu=Math.cos,_u=Math.ceil,wu=Math.exp,Su=(Math.floor,Math.log),xu=Math.pow,Tu=Math.sin,Ou=Math.sign||function(t){return t>0?1:t<0?-1:0},Cu=Math.sqrt,Au=Math.tan;function Lu(t){return t>1?0:t<-1?hu:Math.acos(t)}function Pu(t){return t>1?fu:t<-1?-fu:Math.asin(t)}function Ru(t){return(t=Tu(t/2))*t}function Mu(){}function ku(t,e){t&&Nu.hasOwnProperty(t.type)&&Nu[t.type](t,e)}var Iu={Feature:function(t,e){ku(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ku(n[r].geometry,e)}},Nu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Du(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Du(n[r],e,0)},Polygon:function(t,e){ju(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ju(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ku(n[r],e)}};function Du(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function ju(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Du(t[n],e,1);e.polygonEnd()}var Fu,Vu,Bu,Uu,Gu,Wu=function(t,e){t&&Iu.hasOwnProperty(t.type)?Iu[t.type](t,e):ku(t,e)},Ku=su(),zu=su(),Hu={point:Mu,lineStart:Mu,lineEnd:Mu,polygonStart:function(){Ku.reset(),Hu.lineStart=Yu,Hu.lineEnd=qu},polygonEnd:function(){var t=+Ku;zu.add(t<0?du+t:t),this.lineStart=this.lineEnd=this.point=Mu},sphere:function(){zu.add(du)}};function Yu(){Hu.point=Xu}function qu(){Zu(Fu,Vu)}function Xu(t,e){Hu.point=Zu,Fu=t,Vu=e,Bu=t*=mu,Uu=Eu(e=(e*=mu)/2+pu),Gu=Tu(e)}function Zu(t,e){var n=(t*=mu)-Bu,r=n>=0?1:-1,i=r*n,o=Eu(e=(e*=mu)/2+pu),a=Tu(e),s=Gu*a,u=Uu*o+s*Eu(i),l=s*r*Tu(i);Ku.add(bu(l,u)),Bu=t,Uu=o,Gu=a}var Ju=function(t){return zu.reset(),Wu(t,Hu),2*zu};function Qu(t){return[bu(t[1],t[0]),Pu(t[2])]}function $u(t){var e=t[0],n=t[1],r=Eu(n);return[r*Eu(e),r*Tu(e),Tu(n)]}function tl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function el(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function nl(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function rl(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function il(t){var e=Cu(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ol,al,sl,ul,ll,cl,hl,fl,pl,dl,gl=su(),ml={point:yl,lineStart:bl,lineEnd:El,polygonStart:function(){ml.point=_l,ml.lineStart=wl,ml.lineEnd=Sl,gl.reset(),Hu.polygonStart()},polygonEnd:function(){Hu.polygonEnd(),ml.point=yl,ml.lineStart=bl,ml.lineEnd=El,Ku<0?(ol=-(sl=180),al=-(ul=90)):gl>1e-6?ul=90:gl<-1e-6&&(al=-90),dl[0]=ol,dl[1]=sl}};function yl(t,e){pl.push(dl=[ol=t,sl=t]),e<al&&(al=e),e>ul&&(ul=e)}function vl(t,e){var n=$u([t*mu,e*mu]);if(fl){var r=el(fl,n),i=el([r[1],-r[0],0],r);il(i),i=Qu(i);var o,a=t-ll,s=a>0?1:-1,u=i[0]*gu*s,l=yu(a)>180;l^(s*ll<u&&u<s*t)?(o=i[1]*gu)>ul&&(ul=o):l^(s*ll<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*gu)<al&&(al=o):(e<al&&(al=e),e>ul&&(ul=e)),l?t<ll?xl(ol,t)>xl(ol,sl)&&(sl=t):xl(t,sl)>xl(ol,sl)&&(ol=t):sl>=ol?(t<ol&&(ol=t),t>sl&&(sl=t)):t>ll?xl(ol,t)>xl(ol,sl)&&(sl=t):xl(t,sl)>xl(ol,sl)&&(ol=t)}else pl.push(dl=[ol=t,sl=t]);e<al&&(al=e),e>ul&&(ul=e),fl=n,ll=t}function bl(){ml.point=vl}function El(){dl[0]=ol,dl[1]=sl,ml.point=yl,fl=null}function _l(t,e){if(fl){var n=t-ll;gl.add(yu(n)>180?n+(n>0?360:-360):n)}else cl=t,hl=e;Hu.point(t,e),vl(t,e)}function wl(){Hu.lineStart()}function Sl(){_l(cl,hl),Hu.lineEnd(),yu(gl)>1e-6&&(ol=-(sl=180)),dl[0]=ol,dl[1]=sl,fl=null}function xl(t,e){return(e-=t)<0?e+360:e}function Tl(t,e){return t[0]-e[0]}function Ol(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Cl,Al,Ll,Pl,Rl,Ml,kl,Il,Nl,Dl,jl,Fl,Vl,Bl,Ul,Gl,Wl=function(t){var e,n,r,i,o,a,s;if(ul=sl=-(ol=al=1/0),pl=[],Wu(t,ml),n=pl.length){for(pl.sort(Tl),e=1,o=[r=pl[0]];e<n;++e)Ol(r,(i=pl[e])[0])||Ol(r,i[1])?(xl(r[0],i[1])>xl(r[0],r[1])&&(r[1]=i[1]),xl(i[0],r[1])>xl(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=xl(r[1],i[0]))>a&&(a=s,ol=i[0],sl=r[1])}return pl=dl=null,ol===1/0||al===1/0?[[NaN,NaN],[NaN,NaN]]:[[ol,al],[sl,ul]]},Kl={sphere:Mu,point:zl,lineStart:Yl,lineEnd:Zl,polygonStart:function(){Kl.lineStart=Jl,Kl.lineEnd=Ql},polygonEnd:function(){Kl.lineStart=Yl,Kl.lineEnd=Zl}};function zl(t,e){t*=mu;var n=Eu(e*=mu);Hl(n*Eu(t),n*Tu(t),Tu(e))}function Hl(t,e,n){++Cl,Ll+=(t-Ll)/Cl,Pl+=(e-Pl)/Cl,Rl+=(n-Rl)/Cl}function Yl(){Kl.point=ql}function ql(t,e){t*=mu;var n=Eu(e*=mu);Bl=n*Eu(t),Ul=n*Tu(t),Gl=Tu(e),Kl.point=Xl,Hl(Bl,Ul,Gl)}function Xl(t,e){t*=mu;var n=Eu(e*=mu),r=n*Eu(t),i=n*Tu(t),o=Tu(e),a=bu(Cu((a=Ul*o-Gl*i)*a+(a=Gl*r-Bl*o)*a+(a=Bl*i-Ul*r)*a),Bl*r+Ul*i+Gl*o);Al+=a,Ml+=a*(Bl+(Bl=r)),kl+=a*(Ul+(Ul=i)),Il+=a*(Gl+(Gl=o)),Hl(Bl,Ul,Gl)}function Zl(){Kl.point=zl}function Jl(){Kl.point=$l}function Ql(){tc(Fl,Vl),Kl.point=zl}function $l(t,e){Fl=t,Vl=e,t*=mu,e*=mu,Kl.point=tc;var n=Eu(e);Bl=n*Eu(t),Ul=n*Tu(t),Gl=Tu(e),Hl(Bl,Ul,Gl)}function tc(t,e){t*=mu;var n=Eu(e*=mu),r=n*Eu(t),i=n*Tu(t),o=Tu(e),a=Ul*o-Gl*i,s=Gl*r-Bl*o,u=Bl*i-Ul*r,l=Cu(a*a+s*s+u*u),c=Pu(l),h=l&&-c/l;Nl+=h*a,Dl+=h*s,jl+=h*u,Al+=c,Ml+=c*(Bl+(Bl=r)),kl+=c*(Ul+(Ul=i)),Il+=c*(Gl+(Gl=o)),Hl(Bl,Ul,Gl)}var ec=function(t){Cl=Al=Ll=Pl=Rl=Ml=kl=Il=Nl=Dl=jl=0,Wu(t,Kl);var e=Nl,n=Dl,r=jl,i=e*e+n*n+r*r;return i<1e-12&&(e=Ml,n=kl,r=Il,Al<1e-6&&(e=Ll,n=Pl,r=Rl),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[bu(n,e)*gu,Pu(r/Cu(i))*gu]},nc=function(t){return function(){return t}},rc=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function ic(t,e){return[t>hu?t-du:t<-hu?t+du:t,e]}function oc(t,e,n){return(t%=du)?e||n?rc(sc(t),uc(e,n)):sc(t):e||n?uc(e,n):ic}function ac(t){return function(e,n){return[(e+=t)>hu?e-du:e<-hu?e+du:e,n]}}function sc(t){var e=ac(t);return e.invert=ac(-t),e}function uc(t,e){var n=Eu(t),r=Tu(t),i=Eu(e),o=Tu(e);function a(t,e){var a=Eu(e),s=Eu(t)*a,u=Tu(t)*a,l=Tu(e),c=l*n+s*r;return[bu(u*i-c*o,s*n-l*r),Pu(c*i+u*o)]}return a.invert=function(t,e){var a=Eu(e),s=Eu(t)*a,u=Tu(t)*a,l=Tu(e),c=l*i-u*o;return[bu(u*i+l*o,s*n+c*r),Pu(c*n-s*r)]},a}ic.invert=ic;var lc=function(t){function e(e){return(e=t(e[0]*mu,e[1]*mu))[0]*=gu,e[1]*=gu,e}return t=oc(t[0]*mu,t[1]*mu,t.length>2?t[2]*mu:0),e.invert=function(e){return(e=t.invert(e[0]*mu,e[1]*mu))[0]*=gu,e[1]*=gu,e},e};function cc(t,e,n,r,i,o){if(n){var a=Eu(e),s=Tu(e),u=r*n;null==i?(i=e+r*du,o=e-u/2):(i=hc(a,i),o=hc(a,o),(r>0?i<o:i>o)&&(i+=r*du));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Qu([a,-s*Eu(c),-s*Tu(c)]),t.point(l[0],l[1])}}function hc(t,e){(e=$u(e))[0]-=t,il(e);var n=Lu(-e[1]);return((-e[2]<0?-n:n)+du-1e-6)%du}var fc=function(){var t,e,n=nc([0,0]),r=nc(90),i=nc(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=gu,n[1]*=gu}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*mu,u=i.apply(this,arguments)*mu;return t=[],e=oc(-a[0]*mu,-a[1]*mu,0).invert,cc(o,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"===typeof t?t:nc([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"===typeof t?t:nc(+t),a):r},a.precision=function(t){return arguments.length?(i="function"===typeof t?t:nc(+t),a):i},a},pc=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Mu,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},dc=function(t,e){return yu(t[0]-e[0])<1e-6&&yu(t[1]-e[1])<1e-6};function gc(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var mc=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(dc(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new gc(r,t,null,!0)),u.push(n.o=new gc(r,null,n,!1)),s.push(n=new gc(a,t,null,!1)),u.push(n.o=new gc(a,null,n,!0))}})),s.length){for(u.sort(e),yc(s),yc(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}};function yc(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function vc(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var c=0,h=0;if(null==i||(c=a(i,s))!==(h=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return yu(r[0]-t)<1e-6?i>0?0:3:yu(r[0]-n)<1e-6?i>0?2:1:yu(r[1]-e)<1e-6?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var u,l,c,h,f,p,d,g,m,y,v,b=a,E=pc(),_={point:w,lineStart:function(){_.point=S,l&&l.push(c=[]);y=!0,m=!1,d=g=NaN},lineEnd:function(){u&&(S(h,f),p&&m&&E.rejoin(),u.push(E.result()));_.point=w,m&&b.lineEnd()},polygonStart:function(){b=E,u=[],l=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],u=1,c=s.length,h=s[0],f=h[0],p=h[1];u<c;++u)o=f,a=p,h=s[u],f=h[0],p=h[1],a<=r?p>r&&(f-o)*(r-a)>(p-a)*(t-o)&&++e:p<=r&&(f-o)*(r-a)<(p-a)*(t-o)&&--e;return e}(),n=v&&e,i=(u=j(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&mc(u,s,e,o,a),a.polygonEnd());b=a,u=l=c=null}};function w(t,e){i(t,e)&&b.point(t,e)}function S(o,a){var s=i(o,a);if(l&&c.push([o,a]),y)h=o,f=a,p=s,y=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var u=[d=Math.max(-1e9,Math.min(1e9,d)),g=Math.max(-1e9,Math.min(1e9,g))],E=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*h,t[1]=u+l*f),c<1&&(e[0]=s+c*h,e[1]=u+c*f),!0}}}}}(u,E,t,e,n,r)?s&&(b.lineStart(),b.point(o,a),v=!1):(m||(b.lineStart(),b.point(u[0],u[1])),b.point(E[0],E[1]),s||b.lineEnd(),v=!1)}d=o,g=a,m=s}return _}}var bc,Ec,_c,wc=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=vc(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},Sc=su(),xc=function(t,e){var n=e[0],r=e[1],i=[Tu(n),-Eu(n),0],o=0,a=0;Sc.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],f=h[0],p=h[1]/2+pu,d=Tu(p),g=Eu(p),m=0;m<c;++m,f=v,d=E,g=_,h=y){var y=l[m],v=y[0],b=y[1]/2+pu,E=Tu(b),_=Eu(b),w=v-f,S=w>=0?1:-1,x=S*w,T=x>hu,O=d*E;if(Sc.add(bu(O*S*Tu(x),g*_+O*Eu(x))),o+=T?w+S*du:w,T^f>=n^v>=n){var C=el($u(h),$u(y));il(C);var A=el(i,C);il(A);var L=(T^w>=0?-1:1)*Pu(A[2]);(r>L||r===L&&(C[0]||C[1]))&&(a+=T^w>=0?1:-1)}}return(o<-1e-6||o<1e-6&&Sc<-1e-6)^1&a},Tc=su(),Oc={sphere:Mu,point:Mu,lineStart:function(){Oc.point=Ac,Oc.lineEnd=Cc},lineEnd:Mu,polygonStart:Mu,polygonEnd:Mu};function Cc(){Oc.point=Oc.lineEnd=Mu}function Ac(t,e){bc=t*=mu,Ec=Tu(e*=mu),_c=Eu(e),Oc.point=Lc}function Lc(t,e){t*=mu;var n=Tu(e*=mu),r=Eu(e),i=yu(t-bc),o=Eu(i),a=r*Tu(i),s=_c*n-Ec*r*o,u=Ec*n+_c*r*o;Tc.add(bu(Cu(a*a+s*s),u)),bc=t,Ec=n,_c=r}var Pc=function(t){return Tc.reset(),Wu(t,Oc),+Tc},Rc=[null,null],Mc={type:"LineString",coordinates:Rc},kc=function(t,e){return Rc[0]=t,Rc[1]=e,Pc(Mc)},Ic={Feature:function(t,e){return Dc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Dc(n[r].geometry,e))return!0;return!1}},Nc={Sphere:function(){return!0},Point:function(t,e){return jc(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(jc(n[r],e))return!0;return!1},LineString:function(t,e){return Fc(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Fc(n[r],e))return!0;return!1},Polygon:function(t,e){return Vc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Vc(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Dc(n[r],e))return!0;return!1}};function Dc(t,e){return!(!t||!Nc.hasOwnProperty(t.type))&&Nc[t.type](t,e)}function jc(t,e){return 0===kc(t,e)}function Fc(t,e){var n=kc(t[0],t[1]);return kc(t[0],e)+kc(e,t[1])<=n+1e-6}function Vc(t,e){return!!xc(t.map(Bc),Uc(e))}function Bc(t){return(t=t.map(Uc)).pop(),t}function Uc(t){return[t[0]*mu,t[1]*mu]}var Gc=function(t,e){return(t&&Ic.hasOwnProperty(t.type)?Ic[t.type]:Dc)(t,e)};function Wc(t,e,n){var r=w(t,e-1e-6,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Kc(t,e,n){var r=w(t,e-1e-6,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function zc(){var t,e,n,r,i,o,a,s,u,l,c,h,f=10,p=f,d=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return w(_u(r/d)*d,n,d).map(c).concat(w(_u(s/g)*g,a,g).map(h)).concat(w(_u(e/f)*f,t,f).filter((function(t){return yu(t%d)>1e-6})).map(u)).concat(w(_u(o/p)*p,i,p).filter((function(t){return yu(t%g)>1e-6})).map(l))}return y.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(h(a).slice(1),c(n).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),y.precision(m)):[[r,s],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(m)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(d=+t[0],g=+t[1],y):[d,g]},y.stepMinor=function(t){return arguments.length?(f=+t[0],p=+t[1],y):[f,p]},y.precision=function(f){return arguments.length?(m=+f,u=Wc(o,i,90),l=Kc(e,t,m),c=Wc(s,a,90),h=Kc(r,n,m),y):m},y.extentMajor([[-180,1e-6-90],[180,90-1e-6]]).extentMinor([[-180,-80-1e-6],[180,80+1e-6]])}function Hc(){return zc()()}var Yc,qc,Xc,Zc,Jc=function(t,e){var n=t[0]*mu,r=t[1]*mu,i=e[0]*mu,o=e[1]*mu,a=Eu(r),s=Tu(r),u=Eu(o),l=Tu(o),c=a*Eu(n),h=a*Tu(n),f=u*Eu(i),p=u*Tu(i),d=2*Pu(Cu(Ru(o-r)+a*u*Ru(i-n))),g=Tu(d),m=d?function(t){var e=Tu(t*=d)/g,n=Tu(d-t)/g,r=n*c+e*f,i=n*h+e*p,o=n*s+e*l;return[bu(i,r)*gu,bu(o,Cu(r*r+i*i))*gu]}:function(){return[n*gu,r*gu]};return m.distance=d,m},Qc=function(t){return t},$c=su(),th=su(),eh={point:Mu,lineStart:Mu,lineEnd:Mu,polygonStart:function(){eh.lineStart=nh,eh.lineEnd=oh},polygonEnd:function(){eh.lineStart=eh.lineEnd=eh.point=Mu,$c.add(yu(th)),th.reset()},result:function(){var t=$c/2;return $c.reset(),t}};function nh(){eh.point=rh}function rh(t,e){eh.point=ih,Yc=Xc=t,qc=Zc=e}function ih(t,e){th.add(Zc*t-Xc*e),Xc=t,Zc=e}function oh(){ih(Yc,qc)}var ah=eh,sh=1/0,uh=sh,lh=-sh,ch=lh;var hh,fh,ph,dh,gh={point:function(t,e){t<sh&&(sh=t);t>lh&&(lh=t);e<uh&&(uh=e);e>ch&&(ch=e)},lineStart:Mu,lineEnd:Mu,polygonStart:Mu,polygonEnd:Mu,result:function(){var t=[[sh,uh],[lh,ch]];return lh=ch=-(uh=sh=1/0),t}},mh=0,yh=0,vh=0,bh=0,Eh=0,_h=0,wh=0,Sh=0,xh=0,Th={point:Oh,lineStart:Ch,lineEnd:Ph,polygonStart:function(){Th.lineStart=Rh,Th.lineEnd=Mh},polygonEnd:function(){Th.point=Oh,Th.lineStart=Ch,Th.lineEnd=Ph},result:function(){var t=xh?[wh/xh,Sh/xh]:_h?[bh/_h,Eh/_h]:vh?[mh/vh,yh/vh]:[NaN,NaN];return mh=yh=vh=bh=Eh=_h=wh=Sh=xh=0,t}};function Oh(t,e){mh+=t,yh+=e,++vh}function Ch(){Th.point=Ah}function Ah(t,e){Th.point=Lh,Oh(ph=t,dh=e)}function Lh(t,e){var n=t-ph,r=e-dh,i=Cu(n*n+r*r);bh+=i*(ph+t)/2,Eh+=i*(dh+e)/2,_h+=i,Oh(ph=t,dh=e)}function Ph(){Th.point=Oh}function Rh(){Th.point=kh}function Mh(){Ih(hh,fh)}function kh(t,e){Th.point=Ih,Oh(hh=ph=t,fh=dh=e)}function Ih(t,e){var n=t-ph,r=e-dh,i=Cu(n*n+r*r);bh+=i*(ph+t)/2,Eh+=i*(dh+e)/2,_h+=i,wh+=(i=dh*t-ph*e)*(ph+t),Sh+=i*(dh+e),xh+=3*i,Oh(ph=t,dh=e)}var Nh=Th;function Dh(t){this._context=t}Dh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,du)}},result:Mu};var jh,Fh,Vh,Bh,Uh,Gh=su(),Wh={point:Mu,lineStart:function(){Wh.point=Kh},lineEnd:function(){jh&&zh(Fh,Vh),Wh.point=Mu},polygonStart:function(){jh=!0},polygonEnd:function(){jh=null},result:function(){var t=+Gh;return Gh.reset(),t}};function Kh(t,e){Wh.point=zh,Fh=Bh=t,Vh=Uh=e}function zh(t,e){Bh-=t,Uh-=e,Gh.add(Cu(Bh*Bh+Uh*Uh)),Bh=t,Uh=e}var Hh=Wh;function Yh(){this._string=[]}function qh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Yh.prototype={_radius:4.5,_circle:qh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=qh(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Xh=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Wu(t,n(r))),r.result()}return o.area=function(t){return Wu(t,n(ah)),ah.result()},o.measure=function(t){return Wu(t,n(Hh)),Hh.result()},o.bounds=function(t){return Wu(t,n(gh)),gh.result()},o.centroid=function(t){return Wu(t,n(Nh)),Nh.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Qc):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new Yh):new Dh(e=t),"function"!==typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)},Zh=function(t,e,n,r){return function(i,o){var a,s,u,l=e(o),c=i.invert(r[0],r[1]),h=pc(),f=e(h),p=!1,d={point:g,lineStart:y,lineEnd:v,polygonStart:function(){d.point=b,d.lineStart=E,d.lineEnd=_,s=[],a=[]},polygonEnd:function(){d.point=g,d.lineStart=y,d.lineEnd=v,s=j(s);var t=xc(a,c);s.length?(p||(o.polygonStart(),p=!0),mc(s,Qh,t,n,o)):t&&(p||(o.polygonStart(),p=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),s=a=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function m(t,e){var n=i(t,e);l.point(n[0],n[1])}function y(){d.point=m,l.lineStart()}function v(){d.point=g,l.lineEnd()}function b(t,e){u.push([t,e]);var n=i(t,e);f.point(n[0],n[1])}function E(){f.lineStart(),u=[]}function _(){b(u[0][0],u[0][1]),f.lineEnd();var t,e,n,r,i=f.clean(),l=h.result(),c=l.length;if(u.pop(),a.push(u),u=null,c)if(1&i){if((e=(n=l[0]).length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else c>1&&2&i&&l.push(l.pop().concat(l.shift())),s.push(l.filter(Jh))}return d}};function Jh(t){return t.length>1}function Qh(t,e){return((t=t.x)[0]<0?t[1]-fu-1e-6:fu-t[1])-((e=e.x)[0]<0?e[1]-fu-1e-6:fu-e[1])}var $h=Zh((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?hu:-hu,u=yu(o-n);yu(u-hu)<1e-6?(t.point(n,r=(r+a)/2>0?fu:-fu),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=hu&&(yu(n-i)<1e-6&&(n-=1e-6*i),yu(o-s)<1e-6&&(o-=1e-6*s),r=function(t,e,n,r){var i,o,a=Tu(t-n);return yu(a)>1e-6?vu((Tu(e)*(o=Eu(r))*Tu(n)-Tu(r)*(i=Eu(e))*Tu(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*fu,r.point(-hu,i),r.point(0,i),r.point(hu,i),r.point(hu,0),r.point(hu,-i),r.point(0,-i),r.point(-hu,-i),r.point(-hu,0),r.point(-hu,i);else if(yu(t[0]-e[0])>1e-6){var o=t[0]<e[0]?hu:-hu;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-hu,-fu]);var tf=function(t,e){var n=Eu(t),r=n>0,i=yu(n)>1e-6;function o(t,e){return Eu(t)*Eu(e)>n}function a(t,e,r){var i=[1,0,0],o=el($u(t),$u(e)),a=tl(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var l=n*a/u,c=-n*s/u,h=el(i,o),f=rl(i,l);nl(f,rl(o,c));var p=h,d=tl(f,p),g=tl(p,p),m=d*d-g*(tl(f,f)-1);if(!(m<0)){var y=Cu(m),v=rl(p,(-d-y)/g);if(nl(v,f),v=Qu(v),!r)return v;var b,E=t[0],_=e[0],w=t[1],S=e[1];_<E&&(b=E,E=_,_=b);var x=_-E,T=yu(x-hu)<1e-6;if(!T&&S<w&&(b=w,w=S,S=b),T||x<1e-6?T?w+S>0^v[1]<(yu(v[0]-E)<1e-6?w:S):w<=v[1]&&v[1]<=S:x>hu^(E<=v[0]&&v[0]<=_)){var O=rl(p,(-d+y)/g);return nl(O,f),[v,Qu(O)]}}}function s(e,n){var i=r?t:hu-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Zh(o,(function(t){var e,n,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var p,d=[h,f],g=o(h,f),m=r?g?0:s(h,f):g?s(h+(h<0?hu:-hu),f):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(!(p=a(e,d))||dc(e,p)||dc(d,p))&&(d[0]+=1e-6,d[1]+=1e-6,g=o(d[0],d[1])),g!==u)c=0,g?(t.lineStart(),p=a(d,e),t.point(p[0],p[1])):(p=a(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(i&&e&&r^g){var y;m&n||!(y=a(d,e,!0))||(c=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||e&&dc(e,d)||t.point(d[0],d[1]),e=d,u=g,n=m},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}}),(function(n,r,i,o){cc(o,t,e,i,n,r)}),r?[0,-t]:[-hu,t-hu])},ef=function(t){return{stream:nf(t)}};function nf(t){return function(e){var n=new rf;for(var r in t)n[r]=t[r];return n.stream=e,n}}function rf(){}function of(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Wu(n,t.stream(gh));var a=gh.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function af(t,e,n){return of(t,[[0,0],e],n)}rf.prototype={constructor:rf,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var sf=Eu(30*mu),uf=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,l,c,h,f,p,d,g,m){var y=l-r,v=c-i,b=y*y+v*v;if(b>4*e&&g--){var E=a+f,_=s+p,w=u+d,S=Cu(E*E+_*_+w*w),x=Pu(w/=S),T=yu(yu(w)-1)<1e-6||yu(o-h)<1e-6?(o+h)/2:bu(_,E),O=t(T,x),C=O[0],A=O[1],L=C-r,P=A-i,R=v*L-y*P;(R*R/b>e||yu((y*L+v*P)/b-.5)>.3||a*f+s*p+u*d<sf)&&(n(r,i,o,a,s,u,C,A,T,E/=S,_/=S,w,g,m),m.point(C,A),n(C,A,T,E,_,w,l,c,h,f,p,d,g,m))}}return function(e){var r,i,o,a,s,u,l,c,h,f,p,d,g={point:m,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=E},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){c=NaN,g.point=v,e.lineStart()}function v(r,i){var o=$u([r,i]),a=t(r,i);n(c,h,l,f,p,d,c=a[0],h=a[1],l=r,f=o[0],p=o[1],d=o[2],16,e),e.point(c,h)}function b(){g.point=m,e.lineEnd()}function E(){y(),g.point=_,g.lineEnd=w}function _(t,e){v(r=t,e),i=c,o=h,a=f,s=p,u=d,g.point=v}function w(){n(c,h,l,f,p,d,i,o,r,a,s,u,16,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return nf({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var lf=nf({point:function(t,e){this.stream.point(t*mu,e*mu)}});function cf(t){return hf((function(){return t}))()}function hf(t){var e,n,r,i,o,a,s,u,l,c,h=150,f=480,p=250,d=0,g=0,m=0,y=0,v=0,b=null,E=$h,_=null,w=Qc,S=.5,x=uf(C,S);function T(t){return[(t=o(t[0]*mu,t[1]*mu))[0]*h+n,r-t[1]*h]}function O(t){return(t=o.invert((t[0]-n)/h,(r-t[1])/h))&&[t[0]*gu,t[1]*gu]}function C(t,i){return[(t=e(t,i))[0]*h+n,r-t[1]*h]}function A(){o=rc(i=oc(m,y,v),e);var t=e(d,g);return n=f-t[0]*h,r=p+t[1]*h,L()}function L(){return l=c=null,T}return T.stream=function(t){return l&&c===t?l:l=lf(E(i,x(w(c=t))))},T.clipAngle=function(t){return arguments.length?(E=+t?tf(b=t*mu,6*mu):(b=null,$h),L()):b*gu},T.clipExtent=function(t){return arguments.length?(w=null==t?(_=a=s=u=null,Qc):vc(_=+t[0][0],a=+t[0][1],s=+t[1][0],u=+t[1][1]),L()):null==_?null:[[_,a],[s,u]]},T.scale=function(t){return arguments.length?(h=+t,A()):h},T.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],A()):[f,p]},T.center=function(t){return arguments.length?(d=t[0]%360*mu,g=t[1]%360*mu,A()):[d*gu,g*gu]},T.rotate=function(t){return arguments.length?(m=t[0]%360*mu,y=t[1]%360*mu,v=t.length>2?t[2]%360*mu:0,A()):[m*gu,y*gu,v*gu]},T.precision=function(t){return arguments.length?(x=uf(C,S=t*t),L()):Cu(S)},T.fitExtent=function(t,e){return of(T,t,e)},T.fitSize=function(t,e){return af(T,t,e)},function(){return e=t.apply(this,arguments),T.invert=e.invert&&O,A()}}function ff(t){var e=0,n=hu/3,r=hf(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*mu,n=t[1]*mu):[e*gu,n*gu]},i}function pf(t,e){var n=Tu(t),r=(n+Tu(e))/2;if(yu(r)<1e-6)return function(t){var e=Eu(t);function n(t,n){return[t*e,Tu(n)/e]}return n.invert=function(t,n){return[t/e,Pu(n*e)]},n}(t);var i=1+n*(2*r-n),o=Cu(i)/r;function a(t,e){var n=Cu(i-2*r*Tu(e))/r;return[n*Tu(t*=r),o-n*Eu(t)]}return a.invert=function(t,e){var n=o-e;return[bu(t,yu(n))/r*Ou(n),Pu((i-(t*t+n*n)*r*r)/(2*r))]},a}var df=function(){return ff(pf).scale(155.424).center([0,33.6442])},gf=function(){return df().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var mf=function(){var t,e,n,r,i,o,a=gf(),s=df().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=df().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function c(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,c}return c.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},c.stream=function(n){return t&&e===n?t:t=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([a.stream(e=n),s.stream(n),u.stream(n)])},c.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),h()):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],c=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,c-.238*e],[o+.455*e,c+.238*e]]).stream(l),r=s.translate([o-.307*e,c+.201*e]).clipExtent([[o-.425*e+1e-6,c+.12*e+1e-6],[o-.214*e-1e-6,c+.234*e-1e-6]]).stream(l),i=u.translate([o-.205*e,c+.212*e]).clipExtent([[o-.214*e+1e-6,c+.166*e+1e-6],[o-.115*e-1e-6,c+.234*e-1e-6]]).stream(l),h()},c.fitExtent=function(t,e){return of(c,t,e)},c.fitSize=function(t,e){return af(c,t,e)},c.scale(1070)};function yf(t){return function(e,n){var r=Eu(e),i=Eu(n),o=t(r*i);return[o*i*Tu(e),o*Tu(n)]}}function vf(t){return function(e,n){var r=Cu(e*e+n*n),i=t(r),o=Tu(i),a=Eu(i);return[bu(e*o,r*a),Pu(r&&n*o/r)]}}var bf=yf((function(t){return Cu(2/(1+t))}));bf.invert=vf((function(t){return 2*Pu(t/2)}));var Ef=function(){return cf(bf).scale(124.75).clipAngle(179.999)},_f=yf((function(t){return(t=Lu(t))&&t/Tu(t)}));_f.invert=vf((function(t){return t}));var wf=function(){return cf(_f).scale(79.4188).clipAngle(179.999)};function Sf(t,e){return[t,Su(Au((fu+e)/2))]}Sf.invert=function(t,e){return[t,2*vu(wu(e))-fu]};var xf=function(){return Tf(Sf).scale(961/du)};function Tf(t){var e,n,r,i=cf(t),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,l=null;function c(){var o=hu*a(),s=i(lc(i.rotate()).invert([0,0]));return u(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Sf?[[Math.max(s[0]-o,l),e],[Math.min(s[0]+o,n),r]]:[[l,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),c()):a()},i.translate=function(t){return arguments.length?(s(t),c()):s()},i.center=function(t){return arguments.length?(o(t),c()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==l?null:[[l,e],[n,r]]},c()}function Of(t){return Au((fu+t)/2)}function Cf(t,e){var n=Eu(t),r=t===e?Tu(t):Su(n/Eu(e))/Su(Of(e)/Of(t)),i=n*xu(Of(t),r)/r;if(!r)return Sf;function o(t,e){i>0?e<1e-6-fu&&(e=1e-6-fu):e>fu-1e-6&&(e=fu-1e-6);var n=i/xu(Of(e),r);return[n*Tu(r*t),i-n*Eu(r*t)]}return o.invert=function(t,e){var n=i-e,o=Ou(r)*Cu(t*t+n*n);return[bu(t,yu(n))/r*Ou(n),2*vu(xu(i/o,1/r))-fu]},o}var Af=function(){return ff(Cf).scale(109.5).parallels([30,30])};function Lf(t,e){return[t,e]}Lf.invert=Lf;var Pf=function(){return cf(Lf).scale(152.63)};function Rf(t,e){var n=Eu(t),r=t===e?Tu(t):(n-Eu(e))/(e-t),i=n/r+t;if(yu(r)<1e-6)return Lf;function o(t,e){var n=i-e,o=r*t;return[n*Tu(o),i-n*Eu(o)]}return o.invert=function(t,e){var n=i-e;return[bu(t,yu(n))/r*Ou(n),i-Ou(r)*Cu(t*t+n*n)]},o}var Mf=function(){return ff(Rf).scale(131.154).center([0,13.9389])};function kf(t,e){var n=Eu(e),r=Eu(t)*n;return[n*Tu(t)/r,Tu(e)/r]}kf.invert=vf(vu);var If=function(){return cf(kf).scale(144.049).clipAngle(60)};function Nf(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Qc:nf({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}var Df=function(){var t,e,n,r,i,o,a=1,s=0,u=0,l=1,c=1,h=Qc,f=null,p=Qc;function d(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=h(p(i=t))},clipExtent:function(r){return arguments.length?(p=null==r?(f=t=e=n=null,Qc):vc(f=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),d()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(h=Nf((a=+t)*l,a*c,s,u),d()):a},translate:function(t){return arguments.length?(h=Nf(a*l,a*c,s=+t[0],u=+t[1]),d()):[s,u]},reflectX:function(t){return arguments.length?(h=Nf(a*(l=t?-1:1),a*c,s,u),d()):l<0},reflectY:function(t){return arguments.length?(h=Nf(a*l,a*(c=t?-1:1),s,u),d()):c<0},fitExtent:function(t,e){return of(o,t,e)},fitSize:function(t,e){return af(o,t,e)}}};function jf(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}jf.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(yu(n)>1e-6&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Ff=function(){return cf(jf).scale(175.295)};function Vf(t,e){return[Eu(e)*Tu(t),Tu(e)]}Vf.invert=vf(Pu);var Bf=function(){return cf(Vf).scale(249.5).clipAngle(90+1e-6)};function Uf(t,e){var n=Eu(e),r=1+Eu(t)*n;return[n*Tu(t)/r,Tu(e)/r]}Uf.invert=vf((function(t){return 2*vu(t)}));var Gf=function(){return cf(Uf).scale(250).clipAngle(142)};function Wf(t,e){return[Su(Au((fu+e)/2)),-t]}Wf.invert=function(t,e){return[-e,2*vu(wu(t))-fu]};var Kf=function(){var t=Tf(Wf),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function zf(t,e){return t.parent===e.parent?1:2}function Hf(t,e){return t+e.x}function Yf(t,e){return Math.max(t,e.y)}var qf=function(){var t=zf,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Hf,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Yf,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),l=s.x-t(s,u)/2,c=u.x+t(u,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-l)/(c-l)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i};function Xf(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Zf(t,e){var n,r,i,o,a,s=new tp(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Jf);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new tp(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore($f)}function Jf(t){return t.children}function Qf(t){t.data=t.data.data}function $f(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function tp(t){this.data=t,this.depth=this.height=0,this.parent=null}tp.prototype=Zf.prototype={constructor:tp,count:function(){return this.eachAfter(Xf)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Zf(this).eachBefore(Qf)}};var ep=Array.prototype.slice;var np=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(ep.call(t))).length,o=[];r<i;)e=t[r],n&&op(n,e)?++r:(n=sp(o=rp(o,e)),r=0);return n};function rp(t,e){var n,r;if(ap(e,t))return[e];for(n=0;n<t.length;++n)if(ip(e,t[n])&&ap(up(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(ip(up(t[n],t[r]),e)&&ip(up(t[n],e),t[r])&&ip(up(t[r],e),t[n])&&ap(lp(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function ip(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function op(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function ap(t,e){for(var n=0;n<e.length;++n)if(!op(t,e[n]))return!1;return!0}function sp(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return up(t[0],t[1]);case 3:return lp(t[0],t[1],t[2])}var e}function up(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,h=Math.sqrt(u*u+l*l);return{x:(n+o+u/h*c)/2,y:(r+a+l/h*c)/2,r:(h+i+s)/2}}function lp(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=r-a,p=r-l,d=i-s,g=i-c,m=u-o,y=h-o,v=r*r+i*i-o*o,b=v-a*a-s*s+u*u,E=v-l*l-c*c+h*h,_=p*d-f*g,w=(d*E-g*b)/(2*_)-r,S=(g*m-d*y)/_,x=(p*b-f*E)/(2*_)-i,T=(f*y-p*m)/_,O=S*S+T*T-1,C=2*(o+w*S+x*T),A=w*w+x*x-o*o,L=-(O?(C+Math.sqrt(C*C-4*O*A))/(2*O):A/C);return{x:r+w+S*L,y:i+x+T*L,r:L}}function cp(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,l=s*s+u*u;l?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function hp(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function fp(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function pp(t){this._=t,this.next=null,this.previous=null}function dp(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,u,l,c,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;cp(n,e,r=t[2]),e=new pp(e),n=new pp(n),r=new pp(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){cp(e._,n._,r=t[s]),r=new pp(r),u=n.next,l=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(hp(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(hp(l._,r._)){(e=l).next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=fp(e);(r=r.next)!==n;)(a=fp(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=np(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}var gp=function(t){return dp(t),t};function mp(t){return null==t?null:yp(t)}function yp(t){if("function"!==typeof t)throw new Error;return t}function vp(){return 0}var bp=function(t){return function(){return t}};function Ep(t){return Math.sqrt(t.value)}var _p=function(){var t=null,e=1,n=1,r=vp;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(wp(t)).eachAfter(Sp(r,.5)).eachBefore(xp(1)):i.eachBefore(wp(Ep)).eachAfter(Sp(vp,1)).eachAfter(Sp(r,i.r/Math.min(e,n))).eachBefore(xp(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=mp(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:bp(+t),i):r},i};function wp(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Sp(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=dp(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function xp(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var Tp=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Op=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l},Cp=function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&Op(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(Tp),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},Ap={depth:-1},Lp={};function Pp(t){return t.id}function Rp(t){return t.parentId}var Mp=function(){var t=Pp,e=Rp;function n(n){var r,i,o,a,s,u,l,c=n.length,h=new Array(c),f={};for(i=0;i<c;++i)r=n[i],s=h[i]=new tp(r),null!=(u=t(r,i,n))&&(u+="")&&(f[l="$"+(s.id=u)]=l in f?Lp:s);for(i=0;i<c;++i)if(s=h[i],null!=(u=e(n[i],i,n))&&(u+="")){if(!(a=f["$"+u]))throw new Error("missing: "+u);if(a===Lp)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Ap,o.eachBefore((function(t){t.depth=t.parent.depth+1,--c})).eachBefore($f),o.parent=null,c>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=yp(e),n):t},n.parentId=function(t){return arguments.length?(e=yp(t),n):e},n};function kp(t,e){return t.parent===e.parent?1:2}function Ip(t){var e=t.children;return e?e[0]:t.t}function Np(t){var e=t.children;return e?e[e.length-1]:t.t}function Dp(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function jp(t,e,n){return t.a.parent===e.parent?t.a:n}function Fp(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Fp.prototype=Object.create(tp.prototype);var Vp=function(){var t=kp,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,o,a=new Fp(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new Fp(r[i],i)),n.parent=e;return(a.parent=new Fp(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var l=i,c=i,h=i;i.eachBefore((function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)}));var f=l===c?1:t(l,c)/2,p=f-l.x,d=e/(c.x+f+p),g=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,u=o.parent.children[0],l=o.m,c=a.m,h=s.m,f=u.m;s=Np(s),o=Ip(o),s&&o;)u=Ip(u),(a=Np(a)).a=e,(i=s.z+h-o.z-l+t(s._,o._))>0&&(Dp(jp(s,e,r),e,i),l+=i,c+=i),h+=s.m,l+=o.m,f+=u.m,c+=a.m;s&&!Np(a)&&(a.t=s,a.m+=h-c),o&&!Ip(u)&&(u.t=o,u.m+=l-f,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},Bp=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},Up=(1+Math.sqrt(5))/2;function Gp(t,e,n,r,i,o){for(var a,s,u,l,c,h,f,p,d,g,m,y=[],v=e.children,b=0,E=0,_=v.length,w=e.value;b<_;){u=i-n,l=o-r;do{c=v[E++].value}while(!c&&E<_);for(h=f=c,m=c*c*(g=Math.max(l/u,u/l)/(w*t)),d=Math.max(f/m,m/h);E<_;++E){if(c+=s=v[E].value,s<h&&(h=s),s>f&&(f=s),m=c*c*g,(p=Math.max(f/m,m/h))>d){c-=s;break}d=p}y.push(a={value:c,dice:u<l,children:v.slice(b,E)}),a.dice?Op(a,n,r,i,w?r+=l*c/w:o):Bp(a,n,r,w?n+=u*c/w:i,o),w-=c,b=E}return y}var Wp=function t(e){function n(t,n,r,i,o){Gp(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Up),Kp=function(){var t=Wp,e=!1,n=1,r=1,i=[0],o=vp,a=vp,s=vp,u=vp,l=vp;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(Tp),t}function h(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<c&&(c=f=(c+f)/2),e.x0=r,e.y0=c,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=l(e)-n,c+=a(e)-n,(h-=s(e)-n)<r&&(r=h=(r+h)/2),(f-=u(e)-n)<c&&(c=f=(c+f)/2),t(e,r,c,h,f))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=yp(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:bp(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:bp(+t),c):a},c.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:bp(+t),c):s},c.paddingBottom=function(t){return arguments.length?(u="function"===typeof t?t:bp(+t),c):u},c.paddingLeft=function(t){return arguments.length?(l="function"===typeof t?t:bp(+t),c):l},c},zp=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,l=new Array(u+1);for(l[0]=a=o=0;o<u;++o)l[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var c=s[e];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=u)}var h=l[e],f=r/2+h,p=e+1,d=n-1;for(;p<d;){var g=p+d>>>1;l[g]<f?p=g+1:d=g}f-l[p-1]<l[p]-f&&e+1<p&&--p;var m=l[p]-h,y=r-m;if(a-i>u-o){var v=(i*y+a*m)/r;t(e,p,m,i,o,v,u),t(p,n,y,v,o,a,u)}else{var b=(o*y+u*m)/r;t(e,p,m,i,o,a,b),t(p,n,y,i,b,a,u)}}(0,u,t.value,e,n,r,i)},Hp=function(t,e,n,r,i){(1&t.depth?Bp:Op)(t,e,n,r,i)},Yp=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,l,c,h=-1,f=a.length,p=t.value;++h<f;){for(u=(s=a[h]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?Op(s,n,r,i,r+=(o-r)*s.value/p):Bp(s,n,r,n+=(i-n)*s.value/p,o),p-=s.value}else t._squarify=a=Gp(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Up),qp=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},Xp=function(t,e){var n=ln(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},Zp=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},Jp=Math.SQRT2;function Qp(t){return((t=Math.exp(t))+1/t)/2}var $p=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-i,h=u-o,f=c*c+h*h;if(f<1e-12)r=Math.log(l/a)/Jp,n=function(t){return[i+t*c,o+t*h,a*Math.exp(Jp*t*r)]};else{var p=Math.sqrt(f),d=(l*l-a*a+4*f)/(2*a*2*p),g=(l*l-a*a-4*f)/(2*l*2*p),m=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-m)/Jp,n=function(t){var e,n=t*r,s=Qp(m),u=a/(2*p)*(s*(e=Jp*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+u*c,o+u*h,a*s/Qp(Jp*n+m)]}}return n.duration=1e3*r,n};function td(t){return function(e,n){var r=t((e=tn(e)).h,(n=tn(n)).h),i=hn(e.s,n.s),o=hn(e.l,n.l),a=hn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var ed=td(ln),nd=td(hn);function rd(t,e){var n=hn((t=go(t)).l,(e=go(e)).l),r=hn(t.a,e.a),i=hn(t.b,e.b),o=hn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function id(t){return function(e,n){var r=t((e=So(e)).h,(n=So(n)).h),i=hn(e.c,n.c),o=hn(e.l,n.l),a=hn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var od=id(ln),ad=id(hn);function sd(t){return function e(n){function r(e,r){var i=t((e=Ro(e)).h,(r=Ro(r)).h),o=hn(e.s,r.s),a=hn(e.l,r.l),s=hn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}var ud=sd(ln),ld=sd(hn);function cd(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var hd=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},fd=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},pd=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]};function dd(t,e){return t[0]-e[0]||t[1]-e[1]}function gd(t){for(var e,n,r,i=t.length,o=[0,1],a=2,s=2;s<i;++s){for(;a>1&&(e=t[o[a-2]],n=t[o[a-1]],r=t[s],(n[0]-e[0])*(r[1]-e[1])-(n[1]-e[1])*(r[0]-e[0])<=0);)--a;o[a++]=s}return o.slice(0,a)}var md=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(dd),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=gd(r),a=gd(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;e>=0;--e)l.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)l.push(t[r[a[e]][2]]);return l},yd=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!==l>s&&a<(u-n)*(s-r)/(l-r)+n&&(c=!c),u=n,l=r;return c},vd=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},bd=function(){return Math.random()},Ed=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(bd),_d=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(bd),wd=function t(e){function n(){var t=_d.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(bd),Sd=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(bd),xd=function t(e){function n(t){var n=Sd.source(e)(t);return function(){return n()/t}}return n.source=t,n}(bd),Td=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(bd);function Od(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Cd(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Ad=Array.prototype,Ld=Ad.map,Pd=Ad.slice,Rd={name:"implicit"};function Md(){var t=Ji(),e=[],n=[],r=Rd;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Rd)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=Ji();for(var r,o,a=-1,s=n.length;++a<s;)t.has(o=(r=n[a])+"")||t.set(o,e.push(r));return i},i.range=function(t){return arguments.length?(n=Pd.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Md(e,n).unknown(r)},Od.apply(i,arguments),i}function kd(){var t,e,n=Md().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,u=0,l=.5;function c(){var n=r().length,c=o[1]<o[0],h=o[c-0],f=o[1-c];t=(f-h)/Math.max(1,n-s+2*u),a&&(t=Math.floor(t)),h+=(f-h-t*(n-s))*l,e=t*(1-s),a&&(h=Math.round(h),e=Math.round(e));var p=w(n).map((function(e){return h+t*e}));return i(c?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),c()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],c()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,c()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),c()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),c()):s},n.paddingOuter=function(t){return arguments.length?(u=+t,c()):u},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},n.copy=function(){return kd(r(),o).round(a).paddingInner(s).paddingOuter(u).align(l)},Od.apply(c(),arguments)}function Id(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Id(e())},t}function Nd(){return Id(kd.apply(null,arguments).paddingInner(1))}var Dd=function(t){return+t},jd=[0,1];function Fd(t){return t}function Vd(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Bd(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Ud(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Vd(i,r),o=n(a,o)):(r=Vd(r,i),o=n(o,a)),function(t){return o(r(t))}}function Gd(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Vd(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=u(t,e,1,r)-1;return o[n](i[n](e))}}function Wd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kd(){var t,e,n,r,i,o,a=jd,s=jd,u=An,l=Fd;function c(){return r=Math.min(a.length,s.length)>2?Gd:Ud,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),_n)))(n)))},h.domain=function(t){return arguments.length?(a=Ld.call(t,Dd),l===Fd||(l=Bd(a)),c()):a.slice()},h.range=function(t){return arguments.length?(s=Pd.call(t),c()):s.slice()},h.rangeRound=function(t){return s=Pd.call(t),u=Zp,c()},h.clamp=function(t){return arguments.length?(l=t?Bd(a):Fd,h):l!==Fd},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function zd(t,e){return Kd()(t,e)}var Hd=function(t,e,n,r){var i,o=A(t,e,n);switch((r=zs(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=ou(o,a))||(r.precision=i),Zs(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=au(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=iu(o))||(r.precision=i-2*("%"===r.type))}return Xs(r)};function Yd(t){var e=t.domain;return t.ticks=function(t){var n=e();return O(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Hd(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=C(s,u,n))>0?r=C(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=C(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function qd(){var t=zd(Fd,Fd);return t.copy=function(){return Wd(t,qd())},Od.apply(t,arguments),Yd(t)}function Xd(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Ld.call(e,Dd),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Xd(t).unknown(e)},t=arguments.length?Ld.call(t,Dd):[0,1],Yd(n)}var Zd=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function Jd(t){return Math.log(t)}function Qd(t){return Math.exp(t)}function $d(t){return-Math.log(-t)}function tg(t){return-Math.exp(-t)}function eg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ng(t){return function(e){return-t(-e)}}function rg(t){var e,n,r=t(Jd,Qd),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?eg:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=ng(e),n=ng(n),t($d,tg)):t(Jd,Qd),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(f=s,s=u,u=f);var l,c,h,f=e(s),p=e(u),d=null==t?10:+t,g=[];if(!(o%1)&&p-f<d){if(f=Math.round(f)-1,p=Math.round(p)+1,s>0){for(;f<p;++f)for(c=1,l=n(f);c<o;++c)if(!((h=l*c)<s)){if(h>u)break;g.push(h)}}else for(;f<p;++f)for(c=o-1,l=n(f);c>=1;--c)if(!((h=l*c)<s)){if(h>u)break;g.push(h)}}else g=O(f,p,Math.min(p-f,d)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=Xs(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Zd(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function ig(){var t=rg(Kd()).domain([1,10]);return t.copy=function(){return Wd(t,ig()).base(t.base())},Od.apply(t,arguments),t}function og(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ag(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sg(t){var e=1,n=t(og(e),ag(e));return n.constant=function(n){return arguments.length?t(og(e=+n),ag(e)):e},Yd(n)}function ug(){var t=sg(Kd());return t.copy=function(){return Wd(t,ug()).constant(t.constant())},Od.apply(t,arguments)}function lg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hg(t){return t<0?-t*t:t*t}function fg(t){var e=t(Fd,Fd),n=1;function r(){return 1===n?t(Fd,Fd):.5===n?t(cg,hg):t(lg(n),lg(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Yd(e)}function pg(){var t=fg(Kd());return t.copy=function(){return Wd(t,pg()).exponent(t.exponent())},Od.apply(t,arguments),t}function dg(){return pg.apply(null,arguments).exponent(.5)}function gg(){var t,e=[],n=[],i=[];function o(){var t=0,r=Math.max(1,n.length);for(i=new Array(r-1);++t<r;)i[t-1]=R(e,t/r);return a}function a(e){return isNaN(e=+e)?t:n[u(i,e)]}return a.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:e[0],r<i.length?i[r]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,a=t.length;i<a;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(r),o()},a.range=function(t){return arguments.length?(n=Pd.call(t),o()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return gg().domain(e).range(n).unknown(t)},Od.apply(a,arguments)}function mg(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[u(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Pd.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return mg().domain([e,n]).range(o).unknown(t)},Od.apply(Yd(a),arguments)}function yg(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[u(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Pd.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Pd.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return yg().domain(e).range(n).unknown(t)},Od.apply(i,arguments)}var vg=new Date,bg=new Date;function Eg(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Eg((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return vg.setTime(+e),bg.setTime(+r),t(vg),t(bg),Math.floor(n(vg,bg))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var _g=Eg((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));_g.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Eg((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var wg=_g,Sg=_g.range,xg=Eg((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Tg=xg,Og=xg.range;function Cg(t){return Eg((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Ag=Cg(0),Lg=Cg(1),Pg=Cg(2),Rg=Cg(3),Mg=Cg(4),kg=Cg(5),Ig=Cg(6),Ng=Ag.range,Dg=Lg.range,jg=Pg.range,Fg=Rg.range,Vg=Mg.range,Bg=kg.range,Ug=Ig.range,Gg=Eg((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),Wg=Gg,Kg=Gg.range,zg=Eg((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),Hg=zg,Yg=zg.range,qg=Eg((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),Xg=qg,Zg=qg.range,Jg=Eg((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Qg=Jg,$g=Jg.range,tm=Eg((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));tm.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Eg((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):tm:null};var em=tm,nm=tm.range;function rm(t){return Eg((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var im=rm(0),om=rm(1),am=rm(2),sm=rm(3),um=rm(4),lm=rm(5),cm=rm(6),hm=im.range,fm=om.range,pm=am.range,dm=sm.range,gm=um.range,mm=lm.range,ym=cm.range,vm=Eg((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),bm=vm,Em=vm.range,_m=Eg((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));_m.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Eg((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var wm=_m,Sm=_m.range;function xm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Tm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Om(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Cm(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=Vm(i),c=Bm(i),h=Vm(o),f=Bm(o),p=Vm(a),d=Bm(a),g=Vm(s),m=Bm(s),y=Vm(u),v=Bm(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:sy,e:sy,f:fy,H:uy,I:ly,j:cy,L:hy,m:py,M:dy,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Gy,s:Wy,S:gy,u:my,U:yy,V:vy,w:by,W:Ey,x:null,X:null,y:_y,Y:wy,Z:Sy,"%":Uy},E={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:xy,e:xy,f:Ly,H:Ty,I:Oy,j:Cy,L:Ay,m:Py,M:Ry,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Gy,s:Wy,S:My,u:ky,U:Iy,V:Ny,w:Dy,W:jy,x:null,X:null,y:Fy,Y:Vy,Z:By,"%":Uy},_={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return x(t,e,n,r)},d:Jm,e:Jm,f:ry,H:$m,I:$m,j:Qm,L:ny,m:Zm,M:ty,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:Xm,Q:oy,s:ay,S:ey,u:Gm,U:Wm,V:Km,w:Um,W:zm,x:function(t,e,r){return x(t,n,e,r)},X:function(t,e,n){return x(t,r,e,n)},y:Ym,Y:Hm,Z:qm,"%":iy};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=km[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=Om(1900,void 0,1);if(x(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!e||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Tm(Om(o.y,0,1))).getUTCDay(),r=i>4||0===i?om.ceil(r):om(r),r=bm.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=xm(Om(o.y,0,1))).getDay(),r=i>4||0===i?Lg.ceil(r):Lg(r),r=Wg.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Tm(Om(o.y,0,1)).getUTCDay():xm(Om(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Tm(o)):xm(o)}}function x(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=_[i in km?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return(b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),E.x=w(n,E),E.X=w(r,E),E.c=w(e,E),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",E);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}})}var Am,Lm,Pm,Rm,Mm,km={"-":"",_:" ",0:"0"},Im=/^\s*\d+/,Nm=/^%/,Dm=/[\\^$*+?|[\]().{}]/g;function jm(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Fm(t){return t.replace(Dm,"\\$&")}function Vm(t){return new RegExp("^(?:"+t.map(Fm).join("|")+")","i")}function Bm(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Um(t,e,n){var r=Im.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gm(t,e,n){var r=Im.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Wm(t,e,n){var r=Im.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Km(t,e,n){var r=Im.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zm(t,e,n){var r=Im.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Hm(t,e,n){var r=Im.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ym(t,e,n){var r=Im.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qm(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xm(t,e,n){var r=Im.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Zm(t,e,n){var r=Im.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Jm(t,e,n){var r=Im.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Qm(t,e,n){var r=Im.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $m(t,e,n){var r=Im.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ty(t,e,n){var r=Im.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ey(t,e,n){var r=Im.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ny(t,e,n){var r=Im.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ry(t,e,n){var r=Im.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iy(t,e,n){var r=Nm.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function oy(t,e,n){var r=Im.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ay(t,e,n){var r=Im.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function sy(t,e){return jm(t.getDate(),e,2)}function uy(t,e){return jm(t.getHours(),e,2)}function ly(t,e){return jm(t.getHours()%12||12,e,2)}function cy(t,e){return jm(1+Wg.count(wg(t),t),e,3)}function hy(t,e){return jm(t.getMilliseconds(),e,3)}function fy(t,e){return hy(t,e)+"000"}function py(t,e){return jm(t.getMonth()+1,e,2)}function dy(t,e){return jm(t.getMinutes(),e,2)}function gy(t,e){return jm(t.getSeconds(),e,2)}function my(t){var e=t.getDay();return 0===e?7:e}function yy(t,e){return jm(Ag.count(wg(t)-1,t),e,2)}function vy(t,e){var n=t.getDay();return t=n>=4||0===n?Mg(t):Mg.ceil(t),jm(Mg.count(wg(t),t)+(4===wg(t).getDay()),e,2)}function by(t){return t.getDay()}function Ey(t,e){return jm(Lg.count(wg(t)-1,t),e,2)}function _y(t,e){return jm(t.getFullYear()%100,e,2)}function wy(t,e){return jm(t.getFullYear()%1e4,e,4)}function Sy(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jm(e/60|0,"0",2)+jm(e%60,"0",2)}function xy(t,e){return jm(t.getUTCDate(),e,2)}function Ty(t,e){return jm(t.getUTCHours(),e,2)}function Oy(t,e){return jm(t.getUTCHours()%12||12,e,2)}function Cy(t,e){return jm(1+bm.count(wm(t),t),e,3)}function Ay(t,e){return jm(t.getUTCMilliseconds(),e,3)}function Ly(t,e){return Ay(t,e)+"000"}function Py(t,e){return jm(t.getUTCMonth()+1,e,2)}function Ry(t,e){return jm(t.getUTCMinutes(),e,2)}function My(t,e){return jm(t.getUTCSeconds(),e,2)}function ky(t){var e=t.getUTCDay();return 0===e?7:e}function Iy(t,e){return jm(im.count(wm(t)-1,t),e,2)}function Ny(t,e){var n=t.getUTCDay();return t=n>=4||0===n?um(t):um.ceil(t),jm(um.count(wm(t),t)+(4===wm(t).getUTCDay()),e,2)}function Dy(t){return t.getUTCDay()}function jy(t,e){return jm(om.count(wm(t)-1,t),e,2)}function Fy(t,e){return jm(t.getUTCFullYear()%100,e,2)}function Vy(t,e){return jm(t.getUTCFullYear()%1e4,e,4)}function By(){return"+0000"}function Uy(){return"%"}function Gy(t){return+t}function Wy(t){return Math.floor(+t/1e3)}function Ky(t){return Am=Cm(t),Lm=Am.format,Pm=Am.parse,Rm=Am.utcFormat,Mm=Am.utcParse,Am}Ky({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zy(t){return new Date(t)}function Hy(t){return t instanceof Date?+t:+new Date(+t)}function Yy(t,e,n,r,o,a,s,u,l){var c=zd(Fd,Fd),h=c.invert,f=c.domain,p=l(".%L"),d=l(":%S"),g=l("%I:%M"),m=l("%I %p"),y=l("%a %d"),v=l("%b %d"),b=l("%B"),E=l("%Y"),_=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function w(i){return(s(i)<i?p:a(i)<i?d:o(i)<i?g:r(i)<i?m:e(i)<i?n(i)<i?y:v:t(i)<i?b:E)(i)}function S(e,n,r,o){if(null==e&&(e=10),"number"===typeof e){var a=Math.abs(r-n)/e,s=i((function(t){return t[2]})).right(_,a);s===_.length?(o=A(n/31536e6,r/31536e6,e),e=t):s?(o=(s=_[a/_[s-1][2]<_[s][2]/a?s-1:s])[1],e=s[0]):(o=Math.max(A(n,r,e),1),e=u)}return null==o?e:e.every(o)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Ld.call(t,Hy)):f().map(zy)},c.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=S(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?w:l(e)},c.nice=function(t,e){var n=f();return(t=S(t,n[0],n[n.length-1],e))?f(Zd(n,t)):c},c.copy=function(){return Wd(c,Yy(t,e,n,r,o,a,s,u,l))},c}var qy=function(){return Od.apply(Yy(wg,Tg,Ag,Wg,Hg,Xg,Qg,em,Lm).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},Xy=Eg((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Zy=Xy,Jy=Xy.range,Qy=Eg((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),$y=Qy,tv=Qy.range,ev=Eg((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),nv=ev,rv=ev.range,iv=function(){return Od.apply(Yy(wm,Zy,im,bm,$y,nv,Qg,em,Rm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function ov(){var t,e,n,r,i,o=0,a=1,s=Fd,u=!1;function l(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}return l.domain=function(i){return arguments.length?(t=r(o=+i[0]),e=r(a=+i[1]),n=t===e?0:1/(e-t),l):[o,a]},l.clamp=function(t){return arguments.length?(u=!!t,l):u},l.interpolator=function(t){return arguments.length?(s=t,l):s},l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),l}}function av(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sv(){var t=Yd(ov()(Fd));return t.copy=function(){return av(t,sv())},Cd.apply(t,arguments)}function uv(){var t=rg(ov()).domain([1,10]);return t.copy=function(){return av(t,uv()).base(t.base())},Cd.apply(t,arguments)}function lv(){var t=sg(ov());return t.copy=function(){return av(t,lv()).constant(t.constant())},Cd.apply(t,arguments)}function cv(){var t=fg(ov());return t.copy=function(){return av(t,cv()).exponent(t.exponent())},Cd.apply(t,arguments)}function hv(){return cv.apply(null,arguments).exponent(.5)}function fv(){var t=[],e=Fd;function n(n){if(!isNaN(n=+n))return e((u(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var i,o=0,a=e.length;o<a;++o)null==(i=e[o])||isNaN(i=+i)||t.push(i);return t.sort(r),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return fv(e).domain(t)},Cd.apply(n,arguments)}function pv(){var t,e,n,r,i,o,a,s=0,u=.5,l=1,c=Fd,h=!1;function f(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?r:i),c(h?Math.max(0,Math.min(1,t)):t))}return f.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(u=+a[1]),n=o(l=+a[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f):[s,u,l]},f.clamp=function(t){return arguments.length?(h=!!t,f):h},f.interpolator=function(t){return arguments.length?(c=t,f):c},f.unknown=function(t){return arguments.length?(a=t,f):a},function(a){return o=a,t=a(s),e=a(u),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f}}function dv(){var t=Yd(pv()(Fd));return t.copy=function(){return av(t,dv())},Cd.apply(t,arguments)}function gv(){var t=rg(pv()).domain([.1,1,10]);return t.copy=function(){return av(t,gv()).base(t.base())},Cd.apply(t,arguments)}function mv(){var t=sg(pv());return t.copy=function(){return av(t,mv()).constant(t.constant())},Cd.apply(t,arguments)}function yv(){var t=fg(pv());return t.copy=function(){return av(t,yv()).exponent(t.exponent())},Cd.apply(t,arguments)}function vv(){return yv.apply(null,arguments).exponent(.5)}var bv=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n},Ev=bv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),_v=bv("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),wv=bv("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Sv=bv("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),xv=bv("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Tv=bv("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ov=bv("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Cv=bv("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Av=bv("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Lv=bv("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Pv=function(t){return dn(t[t.length-1])},Rv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(bv),Mv=Pv(Rv),kv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(bv),Iv=Pv(kv),Nv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(bv),Dv=Pv(Nv),jv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(bv),Fv=Pv(jv),Vv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(bv),Bv=Pv(Vv),Uv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(bv),Gv=Pv(Uv),Wv=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(bv),Kv=Pv(Wv),zv=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(bv),Hv=Pv(zv),Yv=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(bv),qv=Pv(Yv),Xv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(bv),Zv=Pv(Xv),Jv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(bv),Qv=Pv(Jv),$v=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(bv),tb=Pv($v),eb=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(bv),nb=Pv(eb),rb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(bv),ib=Pv(rb),ob=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(bv),ab=Pv(ob),sb=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(bv),ub=Pv(sb),lb=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(bv),cb=Pv(lb),hb=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(bv),fb=Pv(hb),pb=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(bv),db=Pv(pb),gb=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(bv),mb=Pv(gb),yb=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(bv),vb=Pv(yb),bb=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(bv),Eb=Pv(bb),_b=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(bv),wb=Pv(_b),Sb=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(bv),xb=Pv(Sb),Tb=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(bv),Ob=Pv(Tb),Cb=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(bv),Ab=Pv(Cb),Lb=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(bv),Pb=Pv(Lb),Rb=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},Mb=ld(Ro(300,.5,0),Ro(-240,.5,1)),kb=ld(Ro(-100,.75,.35),Ro(80,1.5,.8)),Ib=ld(Ro(260,.75,.35),Ro(80,1.5,.8)),Nb=Ro(),Db=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Nb.h=360*t-100,Nb.s=1.5-1.5*e,Nb.l=.8-.9*e,Nb+""},jb=Ye(),Fb=Math.PI/3,Vb=2*Math.PI/3,Bb=function(t){var e;return t=(.5-t)*Math.PI,jb.r=255*(e=Math.sin(t))*e,jb.g=255*(e=Math.sin(t+Fb))*e,jb.b=255*(e=Math.sin(t+Vb))*e,jb+""},Ub=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function Gb(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Wb=Gb(bv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Kb=Gb(bv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),zb=Gb(bv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Hb=Gb(bv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Yb=function(t){return we(ne(t).call(document.documentElement))},qb=0;function Xb(){return new Zb}function Zb(){this._="@"+(++qb).toString(36)}Zb.prototype=Xb.prototype={constructor:Zb,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Jb=function(t){return"string"===typeof t?new be([document.querySelectorAll(t)],[document.documentElement]):new be([null==t?[]:t],ve)},Qb=function(t,e){null==e&&(e=Ln().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Pn(t,e[n]);return i},$b=function(t){return function(){return t}},tE=Math.abs,eE=Math.atan2,nE=Math.cos,rE=Math.max,iE=Math.min,oE=Math.sin,aE=Math.sqrt,sE=Math.PI,uE=sE/2,lE=2*sE;function cE(t){return t>1?0:t<-1?sE:Math.acos(t)}function hE(t){return t>=1?uE:t<=-1?-uE:Math.asin(t)}function fE(t){return t.innerRadius}function pE(t){return t.outerRadius}function dE(t){return t.startAngle}function gE(t){return t.endAngle}function mE(t){return t&&t.padAngle}function yE(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,h=s-o,f=h*u-c*l;if(!(f*f<1e-12))return[t+(f=(c*(e-o)-h*(t-i))/f)*u,e+f*l]}function vE(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/aE(s*s+u*u),c=l*u,h=-l*s,f=t+c,p=e+h,d=n+c,g=r+h,m=(f+d)/2,y=(p+g)/2,v=d-f,b=g-p,E=v*v+b*b,_=i-o,w=f*g-d*p,S=(b<0?-1:1)*aE(rE(0,_*_*E-w*w)),x=(w*b-v*S)/E,T=(-w*v-b*S)/E,O=(w*b+v*S)/E,C=(-w*v+b*S)/E,A=x-m,L=T-y,P=O-m,R=C-y;return A*A+L*L>P*P+R*R&&(x=O,T=C),{cx:x,cy:T,x01:-c,y01:-h,x11:x*(i/_-1),y11:T*(i/_-1)}}var bE=function(){var t=fE,e=pE,n=$b(0),r=null,i=dE,o=gE,a=mE,s=null;function u(){var u,l,c=+t.apply(this,arguments),h=+e.apply(this,arguments),f=i.apply(this,arguments)-uE,p=o.apply(this,arguments)-uE,d=tE(p-f),g=p>f;if(s||(s=u=Gi()),h<c&&(l=h,h=c,c=l),h>1e-12)if(d>lE-1e-12)s.moveTo(h*nE(f),h*oE(f)),s.arc(0,0,h,f,p,!g),c>1e-12&&(s.moveTo(c*nE(p),c*oE(p)),s.arc(0,0,c,p,f,g));else{var m,y,v=f,b=p,E=f,_=p,w=d,S=d,x=a.apply(this,arguments)/2,T=x>1e-12&&(r?+r.apply(this,arguments):aE(c*c+h*h)),O=iE(tE(h-c)/2,+n.apply(this,arguments)),C=O,A=O;if(T>1e-12){var L=hE(T/c*oE(x)),P=hE(T/h*oE(x));(w-=2*L)>1e-12?(E+=L*=g?1:-1,_-=L):(w=0,E=_=(f+p)/2),(S-=2*P)>1e-12?(v+=P*=g?1:-1,b-=P):(S=0,v=b=(f+p)/2)}var R=h*nE(v),M=h*oE(v),k=c*nE(_),I=c*oE(_);if(O>1e-12){var N,D=h*nE(b),j=h*oE(b),F=c*nE(E),V=c*oE(E);if(d<sE&&(N=yE(R,M,F,V,D,j,k,I))){var B=R-N[0],U=M-N[1],G=D-N[0],W=j-N[1],K=1/oE(cE((B*G+U*W)/(aE(B*B+U*U)*aE(G*G+W*W)))/2),z=aE(N[0]*N[0]+N[1]*N[1]);C=iE(O,(c-z)/(K-1)),A=iE(O,(h-z)/(K+1))}}S>1e-12?A>1e-12?(m=vE(F,V,R,M,h,A,g),y=vE(D,j,k,I,h,A,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),A<O?s.arc(m.cx,m.cy,A,eE(m.y01,m.x01),eE(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,A,eE(m.y01,m.x01),eE(m.y11,m.x11),!g),s.arc(0,0,h,eE(m.cy+m.y11,m.cx+m.x11),eE(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,A,eE(y.y11,y.x11),eE(y.y01,y.x01),!g))):(s.moveTo(R,M),s.arc(0,0,h,v,b,!g)):s.moveTo(R,M),c>1e-12&&w>1e-12?C>1e-12?(m=vE(k,I,D,j,c,-C,g),y=vE(R,M,F,V,c,-C,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),C<O?s.arc(m.cx,m.cy,C,eE(m.y01,m.x01),eE(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,C,eE(m.y01,m.x01),eE(m.y11,m.x11),!g),s.arc(0,0,c,eE(m.cy+m.y11,m.cx+m.x11),eE(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,C,eE(y.y11,y.x11),eE(y.y01,y.x01),!g))):s.arc(0,0,c,_,E,g):s.lineTo(k,I)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-sE/2;return[nE(r)*n,oE(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:$b(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:$b(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:$b(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:$b(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:$b(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:$b(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:$b(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u};function EE(t){this._context=t}EE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var _E=function(t){return new EE(t)};function wE(t){return t[0]}function SE(t){return t[1]}var xE=function(){var t=wE,e=SE,n=$b(!0),r=null,i=_E,o=null;function a(a){var s,u,l,c=a.length,h=!1;for(null==r&&(o=i(l=Gi())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,s,a),+e(u,s,a));if(l)return o=null,l+""||null}return a.x=function(e){return arguments.length?(t="function"===typeof e?e:$b(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:$b(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:$b(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},TE=function(){var t=wE,e=null,n=$b(0),r=SE,i=$b(!0),o=null,a=_E,s=null;function u(u){var l,c,h,f,p,d=u.length,g=!1,m=new Array(d),y=new Array(d);for(null==o&&(s=a(p=Gi())),l=0;l<=d;++l){if(!(l<d&&i(f=u[l],l,u))===g)if(g=!g)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=c;--h)s.point(m[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(m[l]=+t(f,l,u),y[l]=+n(f,l,u),s.point(e?+e(f,l,u):m[l],r?+r(f,l,u):y[l]))}if(p)return s=null,p+""||null}function l(){return xE().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(t="function"===typeof n?n:$b(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"===typeof e?e:$b(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"===typeof t?t:$b(+t),u):e},u.y=function(t){return arguments.length?(n="function"===typeof t?t:$b(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"===typeof t?t:$b(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:$b(+t),u):r},u.lineX0=u.lineY0=function(){return l().x(t).y(n)},u.lineY1=function(){return l().x(t).y(r)},u.lineX1=function(){return l().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"===typeof t?t:$b(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u},OE=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},CE=function(t){return t},AE=function(){var t=CE,e=OE,n=null,r=$b(0),i=$b(lE),o=$b(0);function a(a){var s,u,l,c,h,f=a.length,p=0,d=new Array(f),g=new Array(f),m=+r.apply(this,arguments),y=Math.min(lE,Math.max(-lE,i.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/f,o.apply(this,arguments)),b=v*(y<0?-1:1);for(s=0;s<f;++s)(h=g[d[s]=s]=+t(a[s],s,a))>0&&(p+=h);for(null!=e?d.sort((function(t,n){return e(g[t],g[n])})):null!=n&&d.sort((function(t,e){return n(a[t],a[e])})),s=0,l=p?(y-f*b)/p:0;s<f;++s,m=c)u=d[s],c=m+((h=g[u])>0?h*l:0)+b,g[u]={data:a[u],index:s,value:h,startAngle:m,endAngle:c,padAngle:v};return g}return a.value=function(e){return arguments.length?(t="function"===typeof e?e:$b(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:$b(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:$b(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:$b(+t),a):o},a},LE=RE(_E);function PE(t){this._curve=t}function RE(t){function e(e){return new PE(t(e))}return e._curve=t,e}function ME(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(RE(t)):e()._curve},t}PE.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var kE=function(){return ME(xE().curve(LE))},IE=function(){var t=TE().curve(LE),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ME(n())},delete t.lineX0,t.lineEndAngle=function(){return ME(r())},delete t.lineX1,t.lineInnerRadius=function(){return ME(i())},delete t.lineY0,t.lineOuterRadius=function(){return ME(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(RE(t)):e()._curve},t},NE=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},DE=Array.prototype.slice;function jE(t){return t.source}function FE(t){return t.target}function VE(t){var e=jE,n=FE,r=wE,i=SE,o=null;function a(){var a,s=DE.call(arguments),u=e.apply(this,s),l=n.apply(this,s);if(o||(o=a=Gi()),t(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"===typeof t?t:$b(+t),a):r},a.y=function(t){return arguments.length?(i="function"===typeof t?t:$b(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function BE(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function UE(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function GE(t,e,n,r,i){var o=NE(e,n),a=NE(e,n=(n+i)/2),s=NE(r,n),u=NE(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function WE(){return VE(BE)}function KE(){return VE(UE)}function zE(){var t=VE(GE);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var HE={draw:function(t,e){var n=Math.sqrt(e/sE);t.moveTo(n,0),t.arc(0,0,n,0,lE)}},YE={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},qE=Math.sqrt(1/3),XE=2*qE,ZE={draw:function(t,e){var n=Math.sqrt(e/XE),r=n*qE;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},JE=Math.sin(sE/10)/Math.sin(7*sE/10),QE=Math.sin(lE/10)*JE,$E=-Math.cos(lE/10)*JE,t_={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=QE*n,i=$E*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=lE*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},e_={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},n_=Math.sqrt(3),r_={draw:function(t,e){var n=-Math.sqrt(e/(3*n_));t.moveTo(0,2*n),t.lineTo(-n_*n,-n),t.lineTo(n_*n,-n),t.closePath()}},i_=Math.sqrt(3)/2,o_=1/Math.sqrt(12),a_=3*(o_/2+1),s_={draw:function(t,e){var n=Math.sqrt(e/a_),r=n/2,i=n*o_,o=r,a=n*o_+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(-.5*r-i_*i,i_*r+-.5*i),t.lineTo(-.5*o-i_*a,i_*o+-.5*a),t.lineTo(-.5*s-i_*u,i_*s+-.5*u),t.lineTo(-.5*r+i_*i,-.5*i-i_*r),t.lineTo(-.5*o+i_*a,-.5*a-i_*o),t.lineTo(-.5*s+i_*u,-.5*u-i_*s),t.closePath()}},u_=[HE,YE,ZE,e_,t_,r_,s_],l_=function(){var t=$b(HE),e=$b(64),n=null;function r(){var r;if(n||(n=r=Gi()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"===typeof e?e:$b(e),r):t},r.size=function(t){return arguments.length?(e="function"===typeof t?t:$b(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},c_=function(){};function h_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function f_(t){this._context=t}f_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:h_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:h_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var p_=function(t){return new f_(t)};function d_(t){this._context=t}d_.prototype={areaStart:c_,areaEnd:c_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:h_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var g_=function(t){return new d_(t)};function m_(t){this._context=t}m_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:h_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var y_=function(t){return new m_(t)};function v_(t,e){this._basis=new f_(t),this._beta=e}v_.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var b_=function t(e){function n(t){return 1===e?new f_(t):new v_(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function E_(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function __(t,e){this._context=t,this._k=(1-e)/6}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:E_(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:E_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var w_=function t(e){function n(t){return new __(t,e)}return n.tension=function(e){return t(+e)},n}(0);function S_(t,e){this._context=t,this._k=(1-e)/6}S_.prototype={areaStart:c_,areaEnd:c_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:E_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var x_=function t(e){function n(t){return new S_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function T_(t,e){this._context=t,this._k=(1-e)/6}T_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:E_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var O_=function t(e){function n(t){return new T_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function C_(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>1e-12){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function A_(t,e){this._context=t,this._alpha=e}A_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:C_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var L_=function t(e){function n(t){return e?new A_(t,e):new __(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function P_(t,e){this._context=t,this._alpha=e}P_.prototype={areaStart:c_,areaEnd:c_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:C_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var R_=function t(e){function n(t){return e?new P_(t,e):new S_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function M_(t,e){this._context=t,this._alpha=e}M_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:C_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var k_=function t(e){function n(t){return e?new M_(t,e):new T_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function I_(t){this._context=t}I_.prototype={areaStart:c_,areaEnd:c_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var N_=function(t){return new I_(t)};function D_(t){return t<0?-1:1}function j_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(D_(o)+D_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function F_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function V_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function B_(t){this._context=t}function U_(t){this._context=new G_(t)}function G_(t){this._context=t}function W_(t){return new B_(t)}function K_(t){return new U_(t)}function z_(t){this._context=t}function H_(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}B_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V_(this,this._t0,F_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,V_(this,F_(this,n=j_(this,t,e)),n);break;default:V_(this,this._t0,n=j_(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(U_.prototype=Object.create(B_.prototype)).point=function(t,e){B_.prototype.point.call(this,e,t)},G_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=H_(t),i=H_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Y_=function(t){return new z_(t)};function q_(t,e){this._context=t,this._t=e}q_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var X_=function(t){return new q_(t,.5)};function Z_(t){return new q_(t,0)}function J_(t){return new q_(t,1)}var Q_=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},$_=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function tw(t,e){return t[e]}var ew=function(){var t=$b([]),e=$_,n=Q_,r=tw;function i(i){var o,a,s=t.apply(this,arguments),u=i.length,l=s.length,c=new Array(l);for(o=0;o<l;++o){for(var h,f=s[o],p=c[o]=new Array(u),d=0;d<u;++d)p[d]=h=[0,+r(i[d],f,d,i)],h.data=i[d];p.key=f}for(o=0,a=e(c);o<l;++o)c[a[o]].index=o;return n(c,a),c}return i.keys=function(e){return arguments.length?(t="function"===typeof e?e:$b(DE.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:$b(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?$_:"function"===typeof t?t:$b(DE.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?Q_:t,i):n},i},nw=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Q_(t,e)}},rw=function(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,u=0,l=t[e[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},iw=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Q_(t,e)}},ow=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<i;++s){for(var c=t[e[s]],h=c[a][1]||0,f=(h-(c[a-1][1]||0))/2,p=0;p<s;++p){var d=t[e[p]];f+=(d[a][1]||0)-(d[a-1][1]||0)}u+=h,l+=f*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,Q_(t,e)}},aw=function(t){var e=t.map(sw);return $_(t).sort((function(t,n){return e[t]-e[n]}))};function sw(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}var uw=function(t){var e=t.map(lw);return $_(t).sort((function(t,n){return e[t]-e[n]}))};function lw(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var cw=function(t){return uw(t).reverse()},hw=function(t){var e,n,r=t.length,i=t.map(lw),o=aw(t),a=0,s=0,u=[],l=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},fw=function(t){return $_(t).reverse()};var pw=Date.prototype.toISOString?function(t){return t.toISOString()}:Rm("%Y-%m-%dT%H:%M:%S.%LZ");var dw=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Mm("%Y-%m-%dT%H:%M:%S.%LZ"),gw=function(t,e,n){var r=new Wn,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Un():+n,r.restart((function o(a){a+=i,r.restart(o,i+=e,n),t(a)}),e,n),r)},mw=function(t){return function(){return t}};function yw(t){return t[0]}function vw(t){return t[1]}function bw(){this._=null}function Ew(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function _w(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ww(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Sw(t){for(;t.L;)t=t.L;return t}bw.prototype={constructor:bw,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Sw(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(_w(this,n),n=(t=n).U),n.C=!1,r.C=!0,ww(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ww(this,n),n=(t=n).U),n.C=!1,r.C=!0,_w(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Sw(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,_w(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ww(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,_w(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ww(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,_w(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ww(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var xw=bw;function Tw(t,e,n,r){var i=[null,null],o=Xw.push(i)-1;return i.left=t,i.right=e,n&&Cw(i,t,e,n),r&&Cw(i,e,t,r),Yw[t.index].halfedges.push(o),Yw[e.index].halfedges.push(o),i}function Ow(t,e,n){var r=[e,n];return r.left=t,r}function Cw(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Aw(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,p=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function Lw(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],g=(h+p)/2,m=(f+d)/2;if(d===f){if(g<e||g>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(s=m-(a=(h-p)/(d-f))*g,a<-1||a>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Pw(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Rw(t,e){return e[+(e.left!==t.site)]}function Mw(t,e){return e[+(e.left===t.site)]}var kw,Iw=[];function Nw(){Ew(this),this.x=this.y=this.arc=this.site=this.cy=null}function Dw(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-Jw)){var p=u*u+l*l,d=c*c+h*h,g=(h*p-l*d)/f,m=(u*d-c*p)/f,y=Iw.pop()||new Nw;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=y;for(var v=null,b=qw._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}qw.insert(v,y),v||(kw=y)}}}}function jw(t){var e=t.circle;e&&(e.P||(kw=e.N),qw.remove(e),Iw.push(e),Ew(e),t.circle=null)}var Fw=[];function Vw(){Ew(this),this.edge=this.site=this.circle=null}function Bw(t){var e=Fw.pop()||new Vw;return e.site=t,e}function Uw(t){jw(t),Hw.remove(t),Fw.push(t),Ew(t)}function Gw(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Uw(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Zw&&Math.abs(r-u.circle.cy)<Zw;)o=u.P,s.unshift(u),Uw(u),u=o;s.unshift(u),jw(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Zw&&Math.abs(r-l.circle.cy)<Zw;)a=l.N,s.push(l),Uw(l),l=a;s.push(l),jw(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],Cw(l.edge,u.site,l.site,i);u=s[0],(l=s[h-1]).edge=Tw(u.site,l.site,null,i),Dw(u),Dw(l)}function Ww(t){for(var e,n,r,i,o=t[0],a=t[1],s=Hw._;s;)if((r=Kw(s,a)-o)>Zw)s=s.L;else{if(!((i=o-zw(s,a))>Zw)){r>-Zw?(e=s.P,n=s):i>-Zw?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Yw[t.index]={site:t,halfedges:[]}}(t);var u=Bw(t);if(Hw.insert(e,u),e||n){if(e===n)return jw(e),n=Bw(e.site),Hw.insert(u,n),u.edge=n.edge=Tw(e.site,u.site),Dw(e),void Dw(n);if(n){jw(e),jw(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=n.site,g=d[0]-c,m=d[1]-h,y=2*(f*m-p*g),v=f*f+p*p,b=g*g+m*m,E=[(m*v-p*b)/y+c,(f*b-g*v)/y+h];Cw(n.edge,l,d,E),u.edge=Tw(l,t,null,E),n.edge=Tw(t,d,null,E),Dw(e),Dw(n)}else u.edge=Tw(e.site,u.site)}}function Kw(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function zw(t,e){var n=t.N;if(n)return Kw(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Hw,Yw,qw,Xw,Zw=1e-6,Jw=1e-12;function Qw(t,e){return e[1]-t[1]||e[0]-t[0]}function $w(t,e){var n,r,i,o=t.sort(Qw).pop();for(Xw=[],Yw=new Array(t.length),Hw=new xw,qw=new xw;;)if(i=kw,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Ww(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Gw(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Yw.length;i<o;++i)if((t=Yw[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Pw(t,Xw[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Xw.length;o--;)Lw(i=Xw[o],t,e,n,r)&&Aw(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Zw||Math.abs(i[0][1]-i[1][1])>Zw)||delete Xw[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,c,h,f,p,d,g,m=Yw.length,y=!0;for(i=0;i<m;++i)if(o=Yw[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Xw[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)d=(p=Mw(o,Xw[u[s]]))[0],g=p[1],h=(c=Rw(o,Xw[u[++s%l]]))[0],f=c[1],(Math.abs(d-h)>Zw||Math.abs(g-f)>Zw)&&(u.splice(s,0,Xw.push(Ow(a,p,Math.abs(d-t)<Zw&&r-g>Zw?[t,Math.abs(h-t)<Zw?f:r]:Math.abs(g-r)<Zw&&n-d>Zw?[Math.abs(f-r)<Zw?h:n,r]:Math.abs(d-n)<Zw&&g-e>Zw?[n,Math.abs(h-n)<Zw?f:e]:Math.abs(g-e)<Zw&&d-t>Zw?[Math.abs(f-e)<Zw?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var v,b,E,_=1/0;for(i=0,y=null;i<m;++i)(o=Yw[i])&&(E=(v=(a=o.site)[0]-t)*v+(b=a[1]-e)*b)<_&&(_=E,y=o);if(y){var w=[t,e],S=[t,r],x=[n,r],T=[n,e];y.halfedges.push(Xw.push(Ow(a=y.site,w,S))-1,Xw.push(Ow(a,S,x))-1,Xw.push(Ow(a,x,T))-1,Xw.push(Ow(a,T,w))-1)}}for(i=0;i<m;++i)(o=Yw[i])&&(o.halfedges.length||delete Yw[i])}(a,s,u,l)}this.edges=Xw,this.cells=Yw,Hw=qw=Xw=Yw=null}$w.prototype={constructor:$w,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Rw(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,c=n.site,h=-1,f=e[i[o-1]],p=f.left===c?f.right:f.left;++h<o;)a=p,p=(f=e[i[h]]).left===c?f.right:f.left,a&&p&&r<a.index&&r<p.index&&(u=a,l=p,((s=c)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&t.push([c.data,a.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};var tS=function(){var t=yw,e=vw,n=null;function r(r){return new $w(r.map((function(n,i){var o=[Math.round(t(n,i,r)/Zw)*Zw,Math.round(e(n,i,r)/Zw)*Zw];return o.index=i,o.data=n,o})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"===typeof e?e:mw(+e),r):t},r.y=function(t){return arguments.length?(e="function"===typeof t?t:mw(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},eS=function(t){return function(){return t}};function nS(t,e,n){this.target=t,this.type=e,this.transform=n}function rS(t,e,n){this.k=t,this.x=e,this.y=n}rS.prototype={constructor:rS,scale:function(t){return 1===t?this:new rS(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new rS(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var iS=new rS(1,0,0);function oS(t){for(;!t.__zoom;)if(!(t=t.parentNode))return iS;return t.__zoom}function aS(){ue.stopImmediatePropagation()}oS.prototype=rS.prototype;var sS=function(){ue.preventDefault(),ue.stopImmediatePropagation()};function uS(){return!ue.ctrlKey&&!ue.button}function lS(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function cS(){return this.__zoom||iS}function hS(){return-ue.deltaY*(1===ue.deltaMode?.05:ue.deltaMode?1:.002)}function fS(){return navigator.maxTouchPoints||"ontouchstart"in this}function pS(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var dS=function(){var t,e,n=uS,r=lS,i=pS,o=hS,a=fS,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],l=250,c=$p,h=ct("start","zoom","end"),f=0;function p(t){t.property("__zoom",cS).on("wheel.zoom",E).on("mousedown.zoom",_).on("dblclick.zoom",w).filter(a).on("touchstart.zoom",S).on("touchmove.zoom",x).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new rS(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new rS(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,e,n){t.on("start.zoom",(function(){v(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){v(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=v(t,i),a=r.apply(t,i),s=null==n?m(a):"function"===typeof n?n.apply(t,i):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,h="function"===typeof e?e.apply(t,i):e,f=c(l.invert(s).concat(u/l.k),h.invert(s).concat(u/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=u/e[2];t=new rS(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function v(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function E(){if(n.apply(this,arguments)){var t=v(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=Mn(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],ar(this),t.start()}sS(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(g(d(e,r),t.mouse[0],t.mouse[1]),t.extent,u))}function l(){t.wheel=null,t.end()}}function _(){if(!e&&n.apply(this,arguments)){var t=v(this,arguments,!0),r=we(ue.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",c,!0),o=Mn(this),a=ue.clientX,s=ue.clientY;Te(ue.view),aS(),t.mouse=[o,this.__zoom.invert(o)],ar(this),t.start()}function l(){if(sS(),!t.moved){var e=ue.clientX-a,n=ue.clientY-s;t.moved=e*e+n*n>f}t.zoom("mouse",i(g(t.that.__zoom,t.mouse[0]=Mn(t.that),t.mouse[1]),t.extent,u))}function c(){r.on("mousemove.zoom mouseup.zoom",null),Oe(ue.view,t.moved),sS(),t.end()}}function w(){if(n.apply(this,arguments)){var t=this.__zoom,e=Mn(this),o=t.invert(e),a=t.k*(ue.shiftKey?.5:2),s=i(g(d(t,a),e,o),r.apply(this,arguments),u);sS(),l>0?we(this).transition().duration(l).call(y,s,e):we(this).call(p.transform,s)}}function S(){if(n.apply(this,arguments)){var e,r,i,o,a=ue.touches,s=a.length,u=v(this,arguments,ue.changedTouches.length===s);for(aS(),r=0;r<s;++r)i=a[r],o=[o=Rn(this,a,i.identifier),this.__zoom.invert(o),i.identifier],u.touch0?u.touch1||u.touch0[2]===o[2]||(u.touch1=o,u.taps=0):(u.touch0=o,e=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(u.taps<2&&(t=setTimeout((function(){t=null}),500)),ar(this),u.start())}}function x(){if(this.__zooming){var e,n,r,o,a=v(this,arguments),s=ue.changedTouches,l=s.length;for(sS(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<l;++e)n=s[e],r=Rn(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],h=a.touch0[1],f=a.touch1[0],p=a.touch1[1],m=(m=f[0]-c[0])*m+(m=f[1]-c[1])*m,y=(y=p[0]-h[0])*y+(y=p[1]-h[1])*y;n=d(n,Math.sqrt(m/y)),r=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(g(n,r,o),a.extent,u))}}function T(){if(this.__zooming){var t,n,r=v(this,arguments),i=ue.changedTouches,o=i.length;for(aS(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=we(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",cS),t!==r?y(t,e,n):r.interrupt().each((function(){v(this,arguments).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()}))},p.scaleBy=function(t,e,n){p.scaleTo(t,(function(){var t=this.__zoom.k,n="function"===typeof e?e.apply(this,arguments):e;return t*n}),n)},p.scaleTo=function(t,e,n){p.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?m(t):"function"===typeof n?n.apply(this,arguments):n,s=o.invert(a),l="function"===typeof e?e.apply(this,arguments):e;return i(g(d(o,l),a,s),t,u)}),n)},p.translateBy=function(t,e,n){p.transform(t,(function(){return i(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)}))},p.translateTo=function(t,e,n,o){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==o?m(t):"function"===typeof o?o.apply(this,arguments):o;return i(iS.translate(s[0],s[1]).scale(a.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof n?-n.apply(this,arguments):-n),t,u)}),o)},b.prototype={start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){de(new nS(p,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"===typeof t?t:eS(+t),p):o},p.filter=function(t){return arguments.length?(n="function"===typeof t?t:eS(!!t),p):n},p.touchable=function(t){return arguments.length?(a="function"===typeof t?t:eS(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"===typeof t?t:eS([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],p):[s[0],s[1]]},p.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],p):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},p.constrain=function(t){return arguments.length?(i=t,p):i},p.duration=function(t){return arguments.length?(l=+t,p):l},p.interpolate=function(t){return arguments.length?(c=t,p):c},p.on=function(){var t=h.on.apply(h,arguments);return t===h?p:t},p.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,p):Math.sqrt(f)},p};n.d(e,"version",(function(){return"5.15.0"})),n.d(e,"bisect",(function(){return u})),n.d(e,"bisectRight",(function(){return a})),n.d(e,"bisectLeft",(function(){return s})),n.d(e,"ascending",(function(){return r})),n.d(e,"bisector",(function(){return i})),n.d(e,"cross",(function(){return h})),n.d(e,"descending",(function(){return f})),n.d(e,"deviation",(function(){return g})),n.d(e,"extent",(function(){return m})),n.d(e,"histogram",(function(){return P})),n.d(e,"thresholdFreedmanDiaconis",(function(){return M})),n.d(e,"thresholdScott",(function(){return k})),n.d(e,"thresholdSturges",(function(){return L})),n.d(e,"max",(function(){return I})),n.d(e,"mean",(function(){return N})),n.d(e,"median",(function(){return D})),n.d(e,"merge",(function(){return j})),n.d(e,"min",(function(){return F})),n.d(e,"pairs",(function(){return l})),n.d(e,"permute",(function(){return V})),n.d(e,"quantile",(function(){return R})),n.d(e,"range",(function(){return w})),n.d(e,"scan",(function(){return B})),n.d(e,"shuffle",(function(){return U})),n.d(e,"sum",(function(){return G})),n.d(e,"ticks",(function(){return O})),n.d(e,"tickIncrement",(function(){return C})),n.d(e,"tickStep",(function(){return A})),n.d(e,"transpose",(function(){return W})),n.d(e,"variance",(function(){return d})),n.d(e,"zip",(function(){return z})),n.d(e,"axisTop",(function(){return tt})),n.d(e,"axisRight",(function(){return et})),n.d(e,"axisBottom",(function(){return nt})),n.d(e,"axisLeft",(function(){return rt})),n.d(e,"brush",(function(){return Ti})),n.d(e,"brushX",(function(){return Si})),n.d(e,"brushY",(function(){return xi})),n.d(e,"brushSelection",(function(){return wi})),n.d(e,"chord",(function(){return Ii})),n.d(e,"ribbon",(function(){return qi})),n.d(e,"nest",(function(){return Qi})),n.d(e,"set",(function(){return ao})),n.d(e,"map",(function(){return Ji})),n.d(e,"keys",(function(){return so})),n.d(e,"values",(function(){return uo})),n.d(e,"entries",(function(){return lo})),n.d(e,"color",(function(){return We})),n.d(e,"rgb",(function(){return Ye})),n.d(e,"hsl",(function(){return tn})),n.d(e,"lab",(function(){return go})),n.d(e,"hcl",(function(){return So})),n.d(e,"lch",(function(){return wo})),n.d(e,"gray",(function(){return po})),n.d(e,"cubehelix",(function(){return Ro})),n.d(e,"contours",(function(){return Uo})),n.d(e,"contourDensity",(function(){return Yo})),n.d(e,"dispatch",(function(){return ct})),n.d(e,"drag",(function(){return ta})),n.d(e,"dragDisable",(function(){return Te})),n.d(e,"dragEnable",(function(){return Oe})),n.d(e,"dsvFormat",(function(){return sa})),n.d(e,"csvParse",(function(){return la})),n.d(e,"csvParseRows",(function(){return ca})),n.d(e,"csvFormat",(function(){return ha})),n.d(e,"csvFormatBody",(function(){return fa})),n.d(e,"csvFormatRows",(function(){return pa})),n.d(e,"csvFormatRow",(function(){return da})),n.d(e,"csvFormatValue",(function(){return ga})),n.d(e,"tsvParse",(function(){return ya})),n.d(e,"tsvParseRows",(function(){return va})),n.d(e,"tsvFormat",(function(){return ba})),n.d(e,"tsvFormatBody",(function(){return Ea})),n.d(e,"tsvFormatRows",(function(){return _a})),n.d(e,"tsvFormatRow",(function(){return wa})),n.d(e,"tsvFormatValue",(function(){return Sa})),n.d(e,"autoType",(function(){return xa})),n.d(e,"easeLinear",(function(){return Oa})),n.d(e,"easeQuad",(function(){return La})),n.d(e,"easeQuadIn",(function(){return Ca})),n.d(e,"easeQuadOut",(function(){return Aa})),n.d(e,"easeQuadInOut",(function(){return La})),n.d(e,"easeCubic",(function(){return Hr})),n.d(e,"easeCubicIn",(function(){return Kr})),n.d(e,"easeCubicOut",(function(){return zr})),n.d(e,"easeCubicInOut",(function(){return Hr})),n.d(e,"easePoly",(function(){return Ma})),n.d(e,"easePolyIn",(function(){return Pa})),n.d(e,"easePolyOut",(function(){return Ra})),n.d(e,"easePolyInOut",(function(){return Ma})),n.d(e,"easeSin",(function(){return ja})),n.d(e,"easeSinIn",(function(){return Na})),n.d(e,"easeSinOut",(function(){return Da})),n.d(e,"easeSinInOut",(function(){return ja})),n.d(e,"easeExp",(function(){return Ba})),n.d(e,"easeExpIn",(function(){return Fa})),n.d(e,"easeExpOut",(function(){return Va})),n.d(e,"easeExpInOut",(function(){return Ba})),n.d(e,"easeCircle",(function(){return Wa})),n.d(e,"easeCircleIn",(function(){return Ua})),n.d(e,"easeCircleOut",(function(){return Ga})),n.d(e,"easeCircleInOut",(function(){return Wa})),n.d(e,"easeBounce",(function(){return za})),n.d(e,"easeBounceIn",(function(){return Ka})),n.d(e,"easeBounceOut",(function(){return za})),n.d(e,"easeBounceInOut",(function(){return Ha})),n.d(e,"easeBack",(function(){return Xa})),n.d(e,"easeBackIn",(function(){return Ya})),n.d(e,"easeBackOut",(function(){return qa})),n.d(e,"easeBackInOut",(function(){return Xa})),n.d(e,"easeElastic",(function(){return Qa})),n.d(e,"easeElasticIn",(function(){return Ja})),n.d(e,"easeElasticOut",(function(){return Qa})),n.d(e,"easeElasticInOut",(function(){return $a})),n.d(e,"blob",(function(){return es})),n.d(e,"buffer",(function(){return rs})),n.d(e,"dsv",(function(){return ss})),n.d(e,"csv",(function(){return us})),n.d(e,"tsv",(function(){return ls})),n.d(e,"image",(function(){return cs})),n.d(e,"json",(function(){return fs})),n.d(e,"text",(function(){return os})),n.d(e,"xml",(function(){return ds})),n.d(e,"html",(function(){return gs})),n.d(e,"svg",(function(){return ms})),n.d(e,"forceCenter",(function(){return ys})),n.d(e,"forceCollide",(function(){return Ps})),n.d(e,"forceLink",(function(){return ks})),n.d(e,"forceManyBody",(function(){return Fs})),n.d(e,"forceRadial",(function(){return Vs})),n.d(e,"forceSimulation",(function(){return js})),n.d(e,"forceX",(function(){return Bs})),n.d(e,"forceY",(function(){return Us})),n.d(e,"formatDefaultLocale",(function(){return ru})),n.d(e,"format",(function(){return Xs})),n.d(e,"formatPrefix",(function(){return Zs})),n.d(e,"formatLocale",(function(){return nu})),n.d(e,"formatSpecifier",(function(){return zs})),n.d(e,"FormatSpecifier",(function(){return Hs})),n.d(e,"precisionFixed",(function(){return iu})),n.d(e,"precisionPrefix",(function(){return ou})),n.d(e,"precisionRound",(function(){return au})),n.d(e,"geoArea",(function(){return Ju})),n.d(e,"geoBounds",(function(){return Wl})),n.d(e,"geoCentroid",(function(){return ec})),n.d(e,"geoCircle",(function(){return fc})),n.d(e,"geoClipExtent",(function(){return wc})),n.d(e,"geoContains",(function(){return Gc})),n.d(e,"geoDistance",(function(){return kc})),n.d(e,"geoGraticule",(function(){return zc})),n.d(e,"geoGraticule10",(function(){return Hc})),n.d(e,"geoInterpolate",(function(){return Jc})),n.d(e,"geoLength",(function(){return Pc})),n.d(e,"geoPath",(function(){return Xh})),n.d(e,"geoAlbers",(function(){return gf})),n.d(e,"geoAlbersUsa",(function(){return mf})),n.d(e,"geoAzimuthalEqualArea",(function(){return Ef})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return bf})),n.d(e,"geoAzimuthalEquidistant",(function(){return wf})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return _f})),n.d(e,"geoConicConformal",(function(){return Af})),n.d(e,"geoConicConformalRaw",(function(){return Cf})),n.d(e,"geoConicEqualArea",(function(){return df})),n.d(e,"geoConicEqualAreaRaw",(function(){return pf})),n.d(e,"geoConicEquidistant",(function(){return Mf})),n.d(e,"geoConicEquidistantRaw",(function(){return Rf})),n.d(e,"geoEquirectangular",(function(){return Pf})),n.d(e,"geoEquirectangularRaw",(function(){return Lf})),n.d(e,"geoGnomonic",(function(){return If})),n.d(e,"geoGnomonicRaw",(function(){return kf})),n.d(e,"geoIdentity",(function(){return Df})),n.d(e,"geoProjection",(function(){return cf})),n.d(e,"geoProjectionMutator",(function(){return hf})),n.d(e,"geoMercator",(function(){return xf})),n.d(e,"geoMercatorRaw",(function(){return Sf})),n.d(e,"geoNaturalEarth1",(function(){return Ff})),n.d(e,"geoNaturalEarth1Raw",(function(){return jf})),n.d(e,"geoOrthographic",(function(){return Bf})),n.d(e,"geoOrthographicRaw",(function(){return Vf})),n.d(e,"geoStereographic",(function(){return Gf})),n.d(e,"geoStereographicRaw",(function(){return Uf})),n.d(e,"geoTransverseMercator",(function(){return Kf})),n.d(e,"geoTransverseMercatorRaw",(function(){return Wf})),n.d(e,"geoRotation",(function(){return lc})),n.d(e,"geoStream",(function(){return Wu})),n.d(e,"geoTransform",(function(){return ef})),n.d(e,"cluster",(function(){return qf})),n.d(e,"hierarchy",(function(){return Zf})),n.d(e,"pack",(function(){return _p})),n.d(e,"packSiblings",(function(){return gp})),n.d(e,"packEnclose",(function(){return np})),n.d(e,"partition",(function(){return Cp})),n.d(e,"stratify",(function(){return Mp})),n.d(e,"tree",(function(){return Vp})),n.d(e,"treemap",(function(){return Kp})),n.d(e,"treemapBinary",(function(){return zp})),n.d(e,"treemapDice",(function(){return Op})),n.d(e,"treemapSlice",(function(){return Bp})),n.d(e,"treemapSliceDice",(function(){return Hp})),n.d(e,"treemapSquarify",(function(){return Wp})),n.d(e,"treemapResquarify",(function(){return Yp})),n.d(e,"interpolate",(function(){return An})),n.d(e,"interpolateArray",(function(){return vn})),n.d(e,"interpolateBasis",(function(){return on})),n.d(e,"interpolateBasisClosed",(function(){return an})),n.d(e,"interpolateDate",(function(){return En})),n.d(e,"interpolateDiscrete",(function(){return qp})),n.d(e,"interpolateHue",(function(){return Xp})),n.d(e,"interpolateNumber",(function(){return _n})),n.d(e,"interpolateNumberArray",(function(){return mn})),n.d(e,"interpolateObject",(function(){return wn})),n.d(e,"interpolateRound",(function(){return Zp})),n.d(e,"interpolateString",(function(){return Cn})),n.d(e,"interpolateTransformCss",(function(){return hr})),n.d(e,"interpolateTransformSvg",(function(){return fr})),n.d(e,"interpolateZoom",(function(){return $p})),n.d(e,"interpolateRgb",(function(){return fn})),n.d(e,"interpolateRgbBasis",(function(){return dn})),n.d(e,"interpolateRgbBasisClosed",(function(){return gn})),n.d(e,"interpolateHsl",(function(){return ed})),n.d(e,"interpolateHslLong",(function(){return nd})),n.d(e,"interpolateLab",(function(){return rd})),n.d(e,"interpolateHcl",(function(){return od})),n.d(e,"interpolateHclLong",(function(){return ad})),n.d(e,"interpolateCubehelix",(function(){return ud})),n.d(e,"interpolateCubehelixLong",(function(){return ld})),n.d(e,"piecewise",(function(){return cd})),n.d(e,"quantize",(function(){return hd})),n.d(e,"path",(function(){return Gi})),n.d(e,"polygonArea",(function(){return fd})),n.d(e,"polygonCentroid",(function(){return pd})),n.d(e,"polygonHull",(function(){return md})),n.d(e,"polygonContains",(function(){return yd})),n.d(e,"polygonLength",(function(){return vd})),n.d(e,"quadtree",(function(){return xs})),n.d(e,"randomUniform",(function(){return Ed})),n.d(e,"randomNormal",(function(){return _d})),n.d(e,"randomLogNormal",(function(){return wd})),n.d(e,"randomBates",(function(){return xd})),n.d(e,"randomIrwinHall",(function(){return Sd})),n.d(e,"randomExponential",(function(){return Td})),n.d(e,"scaleBand",(function(){return kd})),n.d(e,"scalePoint",(function(){return Nd})),n.d(e,"scaleIdentity",(function(){return Xd})),n.d(e,"scaleLinear",(function(){return qd})),n.d(e,"scaleLog",(function(){return ig})),n.d(e,"scaleSymlog",(function(){return ug})),n.d(e,"scaleOrdinal",(function(){return Md})),n.d(e,"scaleImplicit",(function(){return Rd})),n.d(e,"scalePow",(function(){return pg})),n.d(e,"scaleSqrt",(function(){return dg})),n.d(e,"scaleQuantile",(function(){return gg})),n.d(e,"scaleQuantize",(function(){return mg})),n.d(e,"scaleThreshold",(function(){return yg})),n.d(e,"scaleTime",(function(){return qy})),n.d(e,"scaleUtc",(function(){return iv})),n.d(e,"scaleSequential",(function(){return sv})),n.d(e,"scaleSequentialLog",(function(){return uv})),n.d(e,"scaleSequentialPow",(function(){return cv})),n.d(e,"scaleSequentialSqrt",(function(){return hv})),n.d(e,"scaleSequentialSymlog",(function(){return lv})),n.d(e,"scaleSequentialQuantile",(function(){return fv})),n.d(e,"scaleDiverging",(function(){return dv})),n.d(e,"scaleDivergingLog",(function(){return gv})),n.d(e,"scaleDivergingPow",(function(){return yv})),n.d(e,"scaleDivergingSqrt",(function(){return vv})),n.d(e,"scaleDivergingSymlog",(function(){return mv})),n.d(e,"tickFormat",(function(){return Hd})),n.d(e,"schemeCategory10",(function(){return Ev})),n.d(e,"schemeAccent",(function(){return _v})),n.d(e,"schemeDark2",(function(){return wv})),n.d(e,"schemePaired",(function(){return Sv})),n.d(e,"schemePastel1",(function(){return xv})),n.d(e,"schemePastel2",(function(){return Tv})),n.d(e,"schemeSet1",(function(){return Ov})),n.d(e,"schemeSet2",(function(){return Cv})),n.d(e,"schemeSet3",(function(){return Av})),n.d(e,"schemeTableau10",(function(){return Lv})),n.d(e,"interpolateBrBG",(function(){return Mv})),n.d(e,"schemeBrBG",(function(){return Rv})),n.d(e,"interpolatePRGn",(function(){return Iv})),n.d(e,"schemePRGn",(function(){return kv})),n.d(e,"interpolatePiYG",(function(){return Dv})),n.d(e,"schemePiYG",(function(){return Nv})),n.d(e,"interpolatePuOr",(function(){return Fv})),n.d(e,"schemePuOr",(function(){return jv})),n.d(e,"interpolateRdBu",(function(){return Bv})),n.d(e,"schemeRdBu",(function(){return Vv})),n.d(e,"interpolateRdGy",(function(){return Gv})),n.d(e,"schemeRdGy",(function(){return Uv})),n.d(e,"interpolateRdYlBu",(function(){return Kv})),n.d(e,"schemeRdYlBu",(function(){return Wv})),n.d(e,"interpolateRdYlGn",(function(){return Hv})),n.d(e,"schemeRdYlGn",(function(){return zv})),n.d(e,"interpolateSpectral",(function(){return qv})),n.d(e,"schemeSpectral",(function(){return Yv})),n.d(e,"interpolateBuGn",(function(){return Zv})),n.d(e,"schemeBuGn",(function(){return Xv})),n.d(e,"interpolateBuPu",(function(){return Qv})),n.d(e,"schemeBuPu",(function(){return Jv})),n.d(e,"interpolateGnBu",(function(){return tb})),n.d(e,"schemeGnBu",(function(){return $v})),n.d(e,"interpolateOrRd",(function(){return nb})),n.d(e,"schemeOrRd",(function(){return eb})),n.d(e,"interpolatePuBuGn",(function(){return ib})),n.d(e,"schemePuBuGn",(function(){return rb})),n.d(e,"interpolatePuBu",(function(){return ab})),n.d(e,"schemePuBu",(function(){return ob})),n.d(e,"interpolatePuRd",(function(){return ub})),n.d(e,"schemePuRd",(function(){return sb})),n.d(e,"interpolateRdPu",(function(){return cb})),n.d(e,"schemeRdPu",(function(){return lb})),n.d(e,"interpolateYlGnBu",(function(){return fb})),n.d(e,"schemeYlGnBu",(function(){return hb})),n.d(e,"interpolateYlGn",(function(){return db})),n.d(e,"schemeYlGn",(function(){return pb})),n.d(e,"interpolateYlOrBr",(function(){return mb})),n.d(e,"schemeYlOrBr",(function(){return gb})),n.d(e,"interpolateYlOrRd",(function(){return vb})),n.d(e,"schemeYlOrRd",(function(){return yb})),n.d(e,"interpolateBlues",(function(){return Eb})),n.d(e,"schemeBlues",(function(){return bb})),n.d(e,"interpolateGreens",(function(){return wb})),n.d(e,"schemeGreens",(function(){return _b})),n.d(e,"interpolateGreys",(function(){return xb})),n.d(e,"schemeGreys",(function(){return Sb})),n.d(e,"interpolatePurples",(function(){return Ob})),n.d(e,"schemePurples",(function(){return Tb})),n.d(e,"interpolateReds",(function(){return Ab})),n.d(e,"schemeReds",(function(){return Cb})),n.d(e,"interpolateOranges",(function(){return Pb})),n.d(e,"schemeOranges",(function(){return Lb})),n.d(e,"interpolateCividis",(function(){return Rb})),n.d(e,"interpolateCubehelixDefault",(function(){return Mb})),n.d(e,"interpolateRainbow",(function(){return Db})),n.d(e,"interpolateWarm",(function(){return kb})),n.d(e,"interpolateCool",(function(){return Ib})),n.d(e,"interpolateSinebow",(function(){return Bb})),n.d(e,"interpolateTurbo",(function(){return Ub})),n.d(e,"interpolateViridis",(function(){return Wb})),n.d(e,"interpolateMagma",(function(){return Kb})),n.d(e,"interpolateInferno",(function(){return zb})),n.d(e,"interpolatePlasma",(function(){return Hb})),n.d(e,"create",(function(){return Yb})),n.d(e,"creator",(function(){return ne})),n.d(e,"local",(function(){return Xb})),n.d(e,"matcher",(function(){return gt})),n.d(e,"mouse",(function(){return Mn})),n.d(e,"namespace",(function(){return St})),n.d(e,"namespaces",(function(){return wt})),n.d(e,"clientPoint",(function(){return Pn})),n.d(e,"select",(function(){return we})),n.d(e,"selectAll",(function(){return Jb})),n.d(e,"selection",(function(){return _e})),n.d(e,"selector",(function(){return ft})),n.d(e,"selectorAll",(function(){return dt})),n.d(e,"style",(function(){return It})),n.d(e,"touch",(function(){return Rn})),n.d(e,"touches",(function(){return Qb})),n.d(e,"window",(function(){return Pt})),n.d(e,"event",(function(){return ue})),n.d(e,"customEvent",(function(){return de})),n.d(e,"arc",(function(){return bE})),n.d(e,"area",(function(){return TE})),n.d(e,"line",(function(){return xE})),n.d(e,"pie",(function(){return AE})),n.d(e,"areaRadial",(function(){return IE})),n.d(e,"radialArea",(function(){return IE})),n.d(e,"lineRadial",(function(){return kE})),n.d(e,"radialLine",(function(){return kE})),n.d(e,"pointRadial",(function(){return NE})),n.d(e,"linkHorizontal",(function(){return WE})),n.d(e,"linkVertical",(function(){return KE})),n.d(e,"linkRadial",(function(){return zE})),n.d(e,"symbol",(function(){return l_})),n.d(e,"symbols",(function(){return u_})),n.d(e,"symbolCircle",(function(){return HE})),n.d(e,"symbolCross",(function(){return YE})),n.d(e,"symbolDiamond",(function(){return ZE})),n.d(e,"symbolSquare",(function(){return e_})),n.d(e,"symbolStar",(function(){return t_})),n.d(e,"symbolTriangle",(function(){return r_})),n.d(e,"symbolWye",(function(){return s_})),n.d(e,"curveBasisClosed",(function(){return g_})),n.d(e,"curveBasisOpen",(function(){return y_})),n.d(e,"curveBasis",(function(){return p_})),n.d(e,"curveBundle",(function(){return b_})),n.d(e,"curveCardinalClosed",(function(){return x_})),n.d(e,"curveCardinalOpen",(function(){return O_})),n.d(e,"curveCardinal",(function(){return w_})),n.d(e,"curveCatmullRomClosed",(function(){return R_})),n.d(e,"curveCatmullRomOpen",(function(){return k_})),n.d(e,"curveCatmullRom",(function(){return L_})),n.d(e,"curveLinearClosed",(function(){return N_})),n.d(e,"curveLinear",(function(){return _E})),n.d(e,"curveMonotoneX",(function(){return W_})),n.d(e,"curveMonotoneY",(function(){return K_})),n.d(e,"curveNatural",(function(){return Y_})),n.d(e,"curveStep",(function(){return X_})),n.d(e,"curveStepAfter",(function(){return J_})),n.d(e,"curveStepBefore",(function(){return Z_})),n.d(e,"stack",(function(){return ew})),n.d(e,"stackOffsetExpand",(function(){return nw})),n.d(e,"stackOffsetDiverging",(function(){return rw})),n.d(e,"stackOffsetNone",(function(){return Q_})),n.d(e,"stackOffsetSilhouette",(function(){return iw})),n.d(e,"stackOffsetWiggle",(function(){return ow})),n.d(e,"stackOrderAppearance",(function(){return aw})),n.d(e,"stackOrderAscending",(function(){return uw})),n.d(e,"stackOrderDescending",(function(){return cw})),n.d(e,"stackOrderInsideOut",(function(){return hw})),n.d(e,"stackOrderNone",(function(){return $_})),n.d(e,"stackOrderReverse",(function(){return fw})),n.d(e,"timeInterval",(function(){return Eg})),n.d(e,"timeMillisecond",(function(){return em})),n.d(e,"timeMilliseconds",(function(){return nm})),n.d(e,"utcMillisecond",(function(){return em})),n.d(e,"utcMilliseconds",(function(){return nm})),n.d(e,"timeSecond",(function(){return Qg})),n.d(e,"timeSeconds",(function(){return $g})),n.d(e,"utcSecond",(function(){return Qg})),n.d(e,"utcSeconds",(function(){return $g})),n.d(e,"timeMinute",(function(){return Xg})),n.d(e,"timeMinutes",(function(){return Zg})),n.d(e,"timeHour",(function(){return Hg})),n.d(e,"timeHours",(function(){return Yg})),n.d(e,"timeDay",(function(){return Wg})),n.d(e,"timeDays",(function(){return Kg})),n.d(e,"timeWeek",(function(){return Ag})),n.d(e,"timeWeeks",(function(){return Ng})),n.d(e,"timeSunday",(function(){return Ag})),n.d(e,"timeSundays",(function(){return Ng})),n.d(e,"timeMonday",(function(){return Lg})),n.d(e,"timeMondays",(function(){return Dg})),n.d(e,"timeTuesday",(function(){return Pg})),n.d(e,"timeTuesdays",(function(){return jg})),n.d(e,"timeWednesday",(function(){return Rg})),n.d(e,"timeWednesdays",(function(){return Fg})),n.d(e,"timeThursday",(function(){return Mg})),n.d(e,"timeThursdays",(function(){return Vg})),n.d(e,"timeFriday",(function(){return kg})),n.d(e,"timeFridays",(function(){return Bg})),n.d(e,"timeSaturday",(function(){return Ig})),n.d(e,"timeSaturdays",(function(){return Ug})),n.d(e,"timeMonth",(function(){return Tg})),n.d(e,"timeMonths",(function(){return Og})),n.d(e,"timeYear",(function(){return wg})),n.d(e,"timeYears",(function(){return Sg})),n.d(e,"utcMinute",(function(){return nv})),n.d(e,"utcMinutes",(function(){return rv})),n.d(e,"utcHour",(function(){return $y})),n.d(e,"utcHours",(function(){return tv})),n.d(e,"utcDay",(function(){return bm})),n.d(e,"utcDays",(function(){return Em})),n.d(e,"utcWeek",(function(){return im})),n.d(e,"utcWeeks",(function(){return hm})),n.d(e,"utcSunday",(function(){return im})),n.d(e,"utcSundays",(function(){return hm})),n.d(e,"utcMonday",(function(){return om})),n.d(e,"utcMondays",(function(){return fm})),n.d(e,"utcTuesday",(function(){return am})),n.d(e,"utcTuesdays",(function(){return pm})),n.d(e,"utcWednesday",(function(){return sm})),n.d(e,"utcWednesdays",(function(){return dm})),n.d(e,"utcThursday",(function(){return um})),n.d(e,"utcThursdays",(function(){return gm})),n.d(e,"utcFriday",(function(){return lm})),n.d(e,"utcFridays",(function(){return mm})),n.d(e,"utcSaturday",(function(){return cm})),n.d(e,"utcSaturdays",(function(){return ym})),n.d(e,"utcMonth",(function(){return Zy})),n.d(e,"utcMonths",(function(){return Jy})),n.d(e,"utcYear",(function(){return wm})),n.d(e,"utcYears",(function(){return Sm})),n.d(e,"timeFormatDefaultLocale",(function(){return Ky})),n.d(e,"timeFormat",(function(){return Lm})),n.d(e,"timeParse",(function(){return Pm})),n.d(e,"utcFormat",(function(){return Rm})),n.d(e,"utcParse",(function(){return Mm})),n.d(e,"timeFormatLocale",(function(){return Cm})),n.d(e,"isoFormat",(function(){return pw})),n.d(e,"isoParse",(function(){return dw})),n.d(e,"now",(function(){return Un})),n.d(e,"timer",(function(){return Kn})),n.d(e,"timerFlush",(function(){return zn})),n.d(e,"timeout",(function(){return Xn})),n.d(e,"interval",(function(){return gw})),n.d(e,"transition",(function(){return Ur})),n.d(e,"active",(function(){return Zr})),n.d(e,"interrupt",(function(){return ar})),n.d(e,"voronoi",(function(){return tS})),n.d(e,"zoom",(function(){return dS})),n.d(e,"zoomTransform",(function(){return oS})),n.d(e,"zoomIdentity",(function(){return iS}))},function(t,e,n){"use strict";n.r(e);var r=n(8),i=n(130),o=n.n(i),a=n(0),s=n.n(a),u=Object(a.createContext)({}),l=function(){return Object(a.useContext)(u)},c=u.Consumer,h=u.Provider,f=function(t){var e=function(e,n){return s.a.createElement(c,null,(function(i){return s.a.createElement(t,Object(r.a)({},e,{leaflet:i,ref:n}))}))},n=t.displayName||t.name||"Component";e.displayName="Leaflet("+n+")";var i=Object(a.forwardRef)(e);return o()(i,t),i},p=n(4),d=n(6),g=n(3),m=n(7),y=function(t){function e(e){var n;return n=t.call(this,e)||this,Object(m.a)(Object(g.a)(n),"leafletElement",void 0),n.leafletElement=n.createLeafletElement(n.props),n}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setPosition(e.position)},n.componentDidMount=function(){this.leafletElement.addTo(this.props.leaflet.map)},n.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},n.componentWillUnmount=function(){this.leafletElement.remove()},n.render=function(){return null},e}(a.Component),v=f(function(t){function e(){return t.apply(this,arguments)||this}return Object(p.a)(e,t),e.prototype.createLeafletElement=function(t){return new d.Control.Attribution(t)},e}(y)),b=n(14),E=n(63),_=n.n(E),w=n(12),S=/^on(.+)$/i,x=function(t){function e(e){var n;return n=t.call(this,e)||this,Object(m.a)(Object(g.a)(n),"_leafletEvents",void 0),Object(m.a)(Object(g.a)(n),"leafletElement",void 0),n._leafletEvents=n.extractLeafletEvents(e),n}Object(p.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},n.componentDidUpdate=function(t){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)},n.componentWillUnmount=function(){var t=this,e=this.leafletElement;e&&Object.keys(this._leafletEvents).forEach((function(n){e.off(n,t._leafletEvents[n])}))},n.extractLeafletEvents=function(t){return Object.keys(t).reduce((function(e,n){S.test(n)&&(null!=t[n]&&(e[n.replace(S,(function(t,e){return e.toLowerCase()}))]=t[n]));return e}),{})},n.bindLeafletEvents=function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n=this.leafletElement;if(null==n||null==n.on)return{};var i=Object(r.a)({},e);return Object.keys(e).forEach((function(r){null!=t[r]&&e[r]===t[r]||(delete i[r],n.off(r,e[r]))})),Object.keys(t).forEach((function(r){null!=e[r]&&t[r]===e[r]||(i[r]=t[r],n.on(r,t[r]))})),i},n.fireLeafletEvent=function(t,e){var n=this.leafletElement;n&&n.fire(t,e)},e}(a.Component),T=function(t){function e(){return t.apply(this,arguments)||this}return Object(p.a)(e,t),e.prototype.getOptions=function(t){return null!=t.pane?t:null!=t.leaflet&&null!=t.leaflet.pane?Object(r.a)({},t,{pane:t.leaflet.pane}):t},e}(x),O=function(t){function e(e){var n;return n=t.call(this,e)||this,Object(m.a)(Object(g.a)(n),"contextValue",void 0),Object(m.a)(Object(g.a)(n),"leafletElement",void 0),n.leafletElement=n.createLeafletElement(e),n}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(t,e){},n.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},n.componentDidUpdate=function(e){if(t.prototype.componentDidUpdate.call(this,e),this.props.attribution!==e.attribution){var n=this.props.leaflet.map;null!=n&&null!=n.attributionControl&&(n.attributionControl.removeAttribution(e.attribution),n.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(e,this.props)},n.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},n.render=function(){var t=this.props.children;return null==t?null:null==this.contextValue?s.a.createElement(a.Fragment,null,t):s.a.createElement(h,{value:this.contextValue},t)},Object(w.a)(e,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),e}(T);var C=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],A=function(t){function e(e){var n;return null==(n=t.call(this,e)||this).contextValue&&(n.contextValue=Object(r.a)({},e.leaflet,{popupContainer:n.leafletElement})),n}Object(p.a)(e,t);var n=e.prototype;return n.componentDidUpdate=function(e){t.prototype.componentDidUpdate.call(this,e),this.setStyleIfChanged(e,this.props)},n.getPathOptions=function(t){return e=t,C.reduce((function(t,n){return"undefined"!==typeof e[n]&&(t[n]=e[n]),t}),{});var e},n.setStyle=function(t){void 0===t&&(t={}),this.leafletElement.setStyle(t)},n.setStyleIfChanged=function(t,e){var n=this.getPathOptions(e);_()(n,this.getPathOptions(t))||this.setStyle(n)},e}(O),L=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=t.center,n=t.radius,r=Object(b.a)(t,["center","radius"]);return new d.Circle(e,n,this.getOptions(r))},n.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},e}(A)),P=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=new d.CircleMarker(t.center,this.getOptions(t));return this.contextValue=Object(r.a)({},t.leaflet,{popupContainer:e}),e},n.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},e}(A)),R=n(22),M=function(t){return void 0===t&&(t=""),t.split(" ").filter(Boolean)},k=function(t,e){M(e).forEach((function(e){d.DomUtil.addClass(t,e)}))},I=function(t,e){M(e).forEach((function(e){d.DomUtil.removeClass(t,e)}))},N=function(t,e,n){null!=t&&n!==e&&(null!=e&&e.length>0&&I(t,e),null!=n&&n.length>0&&k(t,n))},D=function(t){function e(e){var n;return n=t.call(this,e)||this,Object(m.a)(Object(g.a)(n),"onClose",(function(){n.props.onClose&&n.props.onClose()})),Object(m.a)(Object(g.a)(n),"onOpen",(function(){n.forceUpdate(),n.props.onOpen&&n.props.onOpen()})),n.leafletElement=n.createLeafletElement(e),n}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(t,e){},n.componentDidUpdate=function(t){N(this.leafletElement._container,t.className,this.props.className),this.updateLeafletElement(t,this.props),this.leafletElement.isOpen()&&(this.leafletElement.update(),this.onRender())},n.onRender=function(){},n.render=function(){return this.leafletElement._contentNode?Object(R.createPortal)(this.props.children,this.leafletElement._contentNode):null},e}(T),j=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=new d.FeatureGroup(this.getOptions(t));return this.contextValue=Object(r.a)({},t.leaflet,{layerContainer:e,popupContainer:e}),e},n.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.setStyle(this.props)},e}(A)),F=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new d.GeoJSON(t.data,this.getOptions(t))},n.updateLeafletElement=function(t,e){"function"===typeof e.style?this.leafletElement.setStyle(e.style):this.setStyleIfChanged(t,e)},e}(A)),V=function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new d.GridLayer(this.getOptions(t))},n.updateLeafletElement=function(t,e){var n=e.opacity,r=e.zIndex;n!==t.opacity&&this.leafletElement.setOpacity(n),r!==t.zIndex&&this.leafletElement.setZIndex(r)},n.getOptions=function(e){var n=t.prototype.getOptions.call(this,e);return null==e.leaflet.map?n:Object(r.a)({maxZoom:e.leaflet.map.options.maxZoom,minZoom:e.leaflet.map.options.minZoom},n)},n.render=function(){return null},e}(O),B=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=new d.ImageOverlay(t.url,t.bounds,this.getOptions(t));return this.contextValue=Object(r.a)({},t.leaflet,{popupContainer:e}),e},n.updateLeafletElement=function(t,e){e.url!==t.url&&this.leafletElement.setUrl(e.url),e.bounds!==t.bounds&&this.leafletElement.setBounds(Object(d.latLngBounds)(e.bounds)),e.opacity!==t.opacity&&this.leafletElement.setOpacity(e.opacity),e.zIndex!==t.zIndex&&this.leafletElement.setZIndex(e.zIndex)},e}(O)),U=f(function(t){function e(){return t.apply(this,arguments)||this}return Object(p.a)(e,t),e.prototype.createLeafletElement=function(t){var e=new d.LayerGroup([],this.getOptions(t));return this.contextValue=Object(r.a)({},t.leaflet,{layerContainer:e}),e},e}(O)),G=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,Object(m.a)(Object(g.a)(e),"contextValue",void 0),Object(m.a)(Object(g.a)(e),"layer",void 0),e}Object(p.a)(e,t);var n=e.prototype;return n.componentDidUpdate=function(t){var e=t.checked;null!=this.props.leaflet.map&&(!0!==this.props.checked||null!=e&&!1!==e?!0!==e||null!=this.props.checked&&!1!==this.props.checked||this.props.leaflet.map.removeLayer(this.layer):this.props.leaflet.map.addLayer(this.layer))},n.componentWillUnmount=function(){this.props.removeLayerControl(this.layer)},n.addLayer=function(){throw new Error("Must be implemented in extending class")},n.removeLayer=function(t){this.props.removeLayer(t)},n.render=function(){var t=this.props.children;return t?s.a.createElement(h,{value:this.contextValue},t):null},e}(a.Component),W=function(t){function e(e){var n;return n=t.call(this,e)||this,Object(m.a)(Object(g.a)(n),"addLayer",(function(t){n.layer=t;var e=n.props,r=e.addBaseLayer,i=e.checked;r(t,e.name,i)})),n.contextValue=Object(r.a)({},e.leaflet,{layerContainer:{addLayer:n.addLayer.bind(Object(g.a)(n)),removeLayer:n.removeLayer.bind(Object(g.a)(n))}}),n}return Object(p.a)(e,t),e}(G),K=function(t){function e(e){var n;return n=t.call(this,e)||this,Object(m.a)(Object(g.a)(n),"addLayer",(function(t){n.layer=t;var e=n.props,r=e.addOverlay,i=e.checked;r(t,e.name,i)})),n.contextValue=Object(r.a)({},e.leaflet,{layerContainer:{addLayer:n.addLayer.bind(Object(g.a)(n)),removeLayer:n.removeLayer.bind(Object(g.a)(n))}}),n}return Object(p.a)(e,t),e}(G),z=f(function(t){function e(e){var n;return n=t.call(this,e)||this,Object(m.a)(Object(g.a)(n),"controlProps",void 0),n.controlProps={addBaseLayer:n.addBaseLayer.bind(Object(g.a)(n)),addOverlay:n.addOverlay.bind(Object(g.a)(n)),leaflet:e.leaflet,removeLayer:n.removeLayer.bind(Object(g.a)(n)),removeLayerControl:n.removeLayerControl.bind(Object(g.a)(n))},n}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){t.children;var e=Object(b.a)(t,["children"]);return new d.Control.Layers(void 0,void 0,e)},n.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n),n.collapsed!==e.collapsed&&(!0===n.collapsed?this.leafletElement.collapse():this.leafletElement.expand())},n.componentWillUnmount=function(){var e=this;setTimeout((function(){t.prototype.componentWillUnmount.call(e)}),0)},n.addBaseLayer=function(t,e,n){void 0===n&&(n=!1),n&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(t),this.leafletElement.addBaseLayer(t,e)},n.addOverlay=function(t,e,n){void 0===n&&(n=!1),n&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(t),this.leafletElement.addOverlay(t,e)},n.removeLayer=function(t){null!=this.props.leaflet.map&&this.props.leaflet.map.removeLayer(t)},n.removeLayerControl=function(t){this.leafletElement.removeLayer(t)},n.render=function(){var t=this,e=a.Children.map(this.props.children,(function(e){return e?Object(a.cloneElement)(e,t.controlProps):null}));return s.a.createElement(a.Fragment,null,e)},e}(y));z.BaseLayer=W,z.Overlay=K;var H=z;function Y(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.keys(t).reduce((function(e,r){return-1===n.indexOf(r)&&(e[r]=t[r]),e}),{})}var q=["children","className","id","style","useFlyTo","whenReady"],X=function(t){return Array.isArray(t)?[t[0],t[1]]:[t.lat,t.lon?t.lon:t.lng]},Z=function(t){function e(e){var n;return n=t.call(this,e)||this,Object(m.a)(Object(g.a)(n),"className",void 0),Object(m.a)(Object(g.a)(n),"contextValue",void 0),Object(m.a)(Object(g.a)(n),"container",void 0),Object(m.a)(Object(g.a)(n),"viewport",{center:void 0,zoom:void 0}),Object(m.a)(Object(g.a)(n),"_ready",!1),Object(m.a)(Object(g.a)(n),"_updating",!1),Object(m.a)(Object(g.a)(n),"onViewportChange",(function(){var t=n.leafletElement.getCenter();n.viewport={center:t?[t.lat,t.lng]:void 0,zoom:n.leafletElement.getZoom()},n.props.onViewportChange&&!n._updating&&n.props.onViewportChange(n.viewport)})),Object(m.a)(Object(g.a)(n),"onViewportChanged",(function(){n.props.onViewportChanged&&!n._updating&&n.props.onViewportChanged(n.viewport)})),Object(m.a)(Object(g.a)(n),"bindContainer",(function(t){n.container=t})),n.className=e.className,n}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=t.viewport,n=Object(b.a)(t,["viewport"]);return e&&(e.center&&(n.center=e.center),"number"===typeof e.zoom&&(n.zoom=e.zoom)),new d.Map(this.container,n)},n.updateLeafletElement=function(t,e){this._updating=!0;var n=e.bounds,r=e.boundsOptions,i=e.boxZoom,o=e.center,a=e.className,s=e.doubleClickZoom,u=e.dragging,l=e.keyboard,c=e.maxBounds,h=e.scrollWheelZoom,f=e.tap,p=e.touchZoom,d=e.useFlyTo,g=e.viewport,m=e.zoom;if(N(this.container,t.className,a),g&&g!==t.viewport){var y=g.center?g.center:o,v=null==g.zoom?m:g.zoom;!0===d?this.leafletElement.flyTo(y,v,this.getZoomPanOptions(e)):this.leafletElement.setView(y,v,this.getZoomPanOptions(e))}else o&&this.shouldUpdateCenter(o,t.center)?!0===d?this.leafletElement.flyTo(o,m,this.getZoomPanOptions(e)):this.leafletElement.setView(o,m,this.getZoomPanOptions(e)):"number"===typeof m&&m!==t.zoom&&(null==t.zoom?this.leafletElement.setView(o,m,this.getZoomPanOptions(e)):this.leafletElement.setZoom(m,this.getZoomPanOptions(e)));c&&this.shouldUpdateBounds(c,t.maxBounds)&&this.leafletElement.setMaxBounds(c),n&&(this.shouldUpdateBounds(n,t.bounds)||r!==t.boundsOptions)&&(!0===d?this.leafletElement.flyToBounds(n,this.getFitBoundsOptions(e)):this.leafletElement.fitBounds(n,this.getFitBoundsOptions(e))),i!==t.boxZoom&&(!0===i?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),s!==t.doubleClickZoom&&(!0===s||"string"===typeof s?(this.leafletElement.options.doubleClickZoom=s,this.leafletElement.doubleClickZoom.enable()):this.leafletElement.doubleClickZoom.disable()),u!==t.dragging&&(!0===u?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),l!==t.keyboard&&(!0===l?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),h!==t.scrollWheelZoom&&(!0===h||"string"===typeof h?(this.leafletElement.options.scrollWheelZoom=h,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),f!==t.tap&&(!0===f?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),p!==t.touchZoom&&(!0===p||"string"===typeof p?(this.leafletElement.options.touchZoom=p,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},n.getZoomPanOptions=function(t){return{animate:t.animate,duration:t.duration,easeLinearity:t.easeLinearity,noMoveStart:t.noMoveStart}},n.getFitBoundsOptions=function(t){var e=this.getZoomPanOptions(t);return Object(r.a)({},e,{},t.boundsOptions)},n.componentDidMount=function(){var e=Y.apply(void 0,[this.props].concat(q));this.leafletElement=this.createLeafletElement(e),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),null!=e.bounds&&this.leafletElement.fitBounds(e.bounds,this.getFitBoundsOptions(e)),this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement},t.prototype.componentDidMount.call(this),this.forceUpdate()},n.componentDidUpdate=function(e){!1===this._ready&&(this._ready=!0,this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady)),t.prototype.componentDidUpdate.call(this,e),this.updateLeafletElement(e,this.props)},n.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},n.shouldUpdateCenter=function(t,e){return!e||(t=X(t),e=X(e),t[0]!==e[0]||t[1]!==e[1])},n.shouldUpdateBounds=function(t,e){return!e||!Object(d.latLngBounds)(t).equals(Object(d.latLngBounds)(e))},n.render=function(){return s.a.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?s.a.createElement(h,{value:this.contextValue},this.props.children):null)},e}(x),J=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=new d.Marker(t.position,this.getOptions(t));return this.contextValue=Object(r.a)({},t.leaflet,{popupContainer:e}),e},n.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setLatLng(e.position),e.icon!==t.icon&&this.leafletElement.setIcon(e.icon),e.zIndexOffset!==t.zIndexOffset&&this.leafletElement.setZIndexOffset(e.zIndexOffset),e.opacity!==t.opacity&&this.leafletElement.setOpacity(e.opacity),e.draggable!==t.draggable&&(!0===e.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},n.render=function(){var t=this.props.children;return null==t||null==this.contextValue?null:s.a.createElement(h,{value:this.contextValue},t)},e}(O)),Q=(n(13),0),$=["tile","shadow","overlay","map","marker","tooltip","popup"],tt=/-*pane/gi,et={position:"absolute",top:0,right:0,bottom:0,left:0},nt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,Object(m.a)(Object(g.a)(e),"state",{name:void 0,context:void 0}),Object(m.a)(Object(g.a)(e),"setStyle",(function(t){var n=void 0===t?e.props:t,r=n.style,i=n.className,o=e.getPane(e.state.name);o&&(i&&k(o,i),r&&Object.keys(r).forEach((function(t){o.style[t]=r[t]})))})),e}Object(p.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.createPane(this.props)},n.componentDidUpdate=function(t){if(this.state.name)if(this.props.name!==t.name)this.removePane(),this.createPane(this.props);else{if(t.className&&this.props.className!==t.className){var e=this.getPane(this.state.name);null!=e&&null!=t.className&&I(e,t.className)}this.setStyle(this.props)}},n.componentWillUnmount=function(){this.removePane()},n.createPane=function(t){var e=t.leaflet.map,n=t.name||"pane-"+ ++Q;if(null!=e&&null!=e.createPane){var i=function(t){return-1!==$.indexOf(t.replace(tt,""))}(n);if(null==(i||this.getPane(n)))e.createPane(n,this.getParentPane());else;this.setState({name:n,context:Object(r.a)({},t.leaflet,{pane:n})},this.setStyle)}},n.removePane=function(){var t=this.state.name;if(null!=t){var e=this.getPane(t);null!=e&&e.remove&&e.remove();var n=this.props.leaflet.map;null!=n&&null!=n._panes&&(n._panes=Y(n._panes,t),n._paneRenderers=Y(n._paneRenderers,t))}},n.getParentPane=function(){return this.getPane(this.props.pane||this.props.leaflet.pane)},n.getPane=function(t){if(null!=t&&null!=this.props.leaflet.map)return this.props.leaflet.map.getPane(t)},n.render=function(){var t=this.state.context;return t?s.a.createElement(h,{value:t},s.a.createElement("div",{style:et},this.props.children)):null},e}(a.Component),rt=f(nt),it=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new d.Polygon(t.positions,this.getOptions(t))},n.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},e}(A)),ot=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new d.Polyline(t.positions,this.getOptions(t))},n.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},e}(A)),at=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,Object(m.a)(Object(g.a)(e),"onPopupOpen",(function(t){t.popup===e.leafletElement&&e.onOpen()})),Object(m.a)(Object(g.a)(e),"onPopupClose",(function(t){t.popup===e.leafletElement&&e.onClose()})),Object(m.a)(Object(g.a)(e),"onRender",(function(){!1!==e.props.autoPan&&e.leafletElement.isOpen()&&(e.leafletElement._map&&e.leafletElement._map._panAnim&&(e.leafletElement._map._panAnim=void 0),e.leafletElement._adjustPan())})),e}Object(p.a)(e,t);var n=e.prototype;return n.getOptions=function(e){return Object(r.a)({},t.prototype.getOptions.call(this,e),{autoPan:!1})},n.createLeafletElement=function(t){var e=this.getOptions(t);return e.autoPan=!1!==t.autoPan,new d.Popup(e,t.leaflet.popupContainer)},n.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setLatLng(e.position)},n.componentDidMount=function(){var t=this.props.position,e=this.props.leaflet,n=e.map,r=e.popupContainer,i=this.leafletElement;null!=n&&n.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),r?r.bindPopup(i):(t&&i.setLatLng(t),i.openOn(n))},n.componentWillUnmount=function(){var e=this.props.leaflet.map;null!=e&&(e.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),e.removeLayer(this.leafletElement)),t.prototype.componentWillUnmount.call(this)},e}(D);Object(m.a)(at,"defaultProps",{pane:"popupPane"});var st=f(at),ut=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new d.Rectangle(t.bounds,this.getOptions(t))},n.updateLeafletElement=function(t,e){e.bounds!==t.bounds&&this.leafletElement.setBounds(e.bounds),this.setStyleIfChanged(t,e)},e}(A)),lt=f(function(t){function e(){return t.apply(this,arguments)||this}return Object(p.a)(e,t),e.prototype.createLeafletElement=function(t){return new d.Control.Scale(t)},e}(y)),ct=f(function(t){function e(e){var n;return n=t.call(this,e)||this,Object(m.a)(Object(g.a)(n),"leafletElement",void 0),Object(m.a)(Object(g.a)(n),"container",void 0),n.leafletElement=n.createLeafletElement(e),n}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return this.container=document.createElementNS("http://www.w3.org/2000/svg","svg"),new d.SVGOverlay(this.container,t.bounds,this.getOptions(t))},n.updateLeafletElement=function(t,e){e.bounds!==t.bounds&&this.leafletElement.setBounds(e.bounds),e.opacity!==t.opacity&&this.leafletElement.setOpacity(e.opacity),e.zIndex!==t.zIndex&&this.leafletElement.setZIndex(e.zIndex)},n.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},n.componentDidUpdate=function(e){if(t.prototype.componentDidUpdate.call(this,e),this.props.attribution!==e.attribution){var n=this.props.leaflet.map;null!=n&&null!=n.attributionControl&&(n.attributionControl.removeAttribution(e.attribution),n.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(e,this.props)},n.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement),this.container=null},n.render=function(){var t=this.props.children;return null==t||null==this.container?null:Object(R.createPortal)(t,this.container)},Object(w.a)(e,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),e}(T)),ht=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new d.TileLayer(t.url,this.getOptions(t))},n.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n),n.url!==e.url&&this.leafletElement.setUrl(n.url)},e}(V)),ft=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,Object(m.a)(Object(g.a)(e),"onTooltipOpen",(function(t){t.tooltip===e.leafletElement&&e.onOpen()})),Object(m.a)(Object(g.a)(e),"onTooltipClose",(function(t){t.tooltip===e.leafletElement&&e.onClose()})),e}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new d.Tooltip(this.getOptions(t),t.leaflet.popupContainer)},n.componentDidMount=function(){var t=this.props.leaflet.popupContainer;null!=t&&(t.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),t.bindTooltip(this.leafletElement))},n.componentWillUnmount=function(){var t=this.props.leaflet.popupContainer;null!=t&&(t.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),null!=t._map&&t.unbindTooltip(this.leafletElement))},e}(D);Object(m.a)(ft,"defaultProps",{pane:"tooltipPane"});var pt=f(ft),dt=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new d.VideoOverlay(t.url,t.bounds,this.getOptions(t))},n.componentDidMount=function(){t.prototype.componentDidMount.call(this),!0===this.props.play&&this.leafletElement.getElement().play()},n.updateLeafletElement=function(t,e){e.url!==t.url&&this.leafletElement.setUrl(e.url),e.bounds!==t.bounds&&this.leafletElement.setBounds(Object(d.latLngBounds)(e.bounds)),e.opacity!==t.opacity&&this.leafletElement.setOpacity(e.opacity),e.zIndex!==t.zIndex&&this.leafletElement.setZIndex(e.zIndex),!0!==e.play||t.play?e.play||!0!==t.play||this.leafletElement.getElement().pause():this.leafletElement.getElement().play()},e}(O)),gt=f(function(t){function e(){return t.apply(this,arguments)||this}Object(p.a)(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=t.url,n=Object(b.a)(t,["url"]),r=this.getOptions(n),i=(r.leaflet,Object(b.a)(r,["leaflet"]));return new d.TileLayer.WMS(e,i)},n.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n);var r=e.url,i=(e.opacity,e.zIndex,Object(b.a)(e,["url","opacity","zIndex"])),o=this.getOptions(i),a=(o.leaflet,Object(b.a)(o,["leaflet"])),s=n.url,u=(n.opacity,n.zIndex,Object(b.a)(n,["url","opacity","zIndex"])),l=this.getOptions(u),c=(l.leaflet,Object(b.a)(l,["leaflet"]));s!==r&&this.leafletElement.setUrl(s),_()(c,a)||this.leafletElement.setParams(c)},n.getOptions=function(e){var n=t.prototype.getOptions.call(this,e);return Object.keys(n).reduce((function(t,e){return S.test(e)||(t[e]=n[e]),t}),{})},e}(V)),mt=f(function(t){function e(){return t.apply(this,arguments)||this}return Object(p.a)(e,t),e.prototype.createLeafletElement=function(t){return new d.Control.Zoom(t)},e}(y));n.d(e,"LeafletConsumer",(function(){return c})),n.d(e,"LeafletProvider",(function(){return h})),n.d(e,"withLeaflet",(function(){return f})),n.d(e,"useLeaflet",(function(){return l})),n.d(e,"AttributionControl",(function(){return v})),n.d(e,"Circle",(function(){return L})),n.d(e,"CircleMarker",(function(){return P})),n.d(e,"DivOverlay",(function(){return D})),n.d(e,"FeatureGroup",(function(){return j})),n.d(e,"GeoJSON",(function(){return F})),n.d(e,"GridLayer",(function(){return V})),n.d(e,"ImageOverlay",(function(){return B})),n.d(e,"LayerGroup",(function(){return U})),n.d(e,"LayersControl",(function(){return H})),n.d(e,"ControlledLayer",(function(){return G})),n.d(e,"Map",(function(){return Z})),n.d(e,"MapComponent",(function(){return T})),n.d(e,"MapControl",(function(){return y})),n.d(e,"MapEvented",(function(){return x})),n.d(e,"MapLayer",(function(){return O})),n.d(e,"Marker",(function(){return J})),n.d(e,"Pane",(function(){return rt})),n.d(e,"Path",(function(){return A})),n.d(e,"Polygon",(function(){return it})),n.d(e,"Polyline",(function(){return ot})),n.d(e,"Popup",(function(){return st})),n.d(e,"Rectangle",(function(){return ut})),n.d(e,"ScaleControl",(function(){return lt})),n.d(e,"SVGOverlay",(function(){return ct})),n.d(e,"TileLayer",(function(){return ht})),n.d(e,"Tooltip",(function(){return pt})),n.d(e,"VideoOverlay",(function(){return dt})),n.d(e,"WMSTileLayer",(function(){return gt})),n.d(e,"ZoomControl",(function(){return mt}))},,function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=n(22),a=n(128),s=function(t){var e=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e=i,n||(n=requestAnimationFrame((function(){n=null,t.apply(void 0,e)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},u=n(1);var l=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},c=n(129),h="object"==typeof self&&self&&self.Object===Object&&self,f=c.a||h||Function("return this")(),p=function(){return f.Date.now()},d=f.Symbol,g=Object.prototype,m=g.hasOwnProperty,y=g.toString,v=d?d.toStringTag:void 0;var b=function(t){var e=m.call(t,v),n=t[v];try{t[v]=void 0;var r=!0}catch(o){}var i=y.call(t);return r&&(e?t[v]=n:delete t[v]),i},E=Object.prototype.toString;var _=function(t){return E.call(t)},w=d?d.toStringTag:void 0;var S=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":w&&w in Object(t)?b(t):_(t)};var x=function(t){return null!=t&&"object"==typeof t};var T=function(t){return"symbol"==typeof t||x(t)&&"[object Symbol]"==S(t)},O=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,L=/^0o[0-7]+$/i,P=parseInt;var R=function(t){if("number"==typeof t)return t;if(T(t))return NaN;if(l(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=l(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(O,"");var n=A.test(t);return n||L.test(t)?P(t.slice(2),n?2:8):C.test(t)?NaN:+t},M=Math.max,k=Math.min;var I=function(t,e,n){var r,i,o,a,s,u,c=0,h=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function m(t){return c=t,s=setTimeout(v,e),h?g(t):a}function y(t){var n=t-u;return void 0===u||n>=e||n<0||f&&t-c>=o}function v(){var t=p();if(y(t))return b(t);s=setTimeout(v,function(t){var n=e-(t-u);return f?k(n,o-(t-c)):n}(t))}function b(t){return s=void 0,d&&r?g(t):(r=i=void 0,a)}function E(){var t=p(),n=y(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return m(u);if(f)return clearTimeout(s),s=setTimeout(v,e),g(u)}return void 0===s&&(s=setTimeout(v,e)),a}return e=R(e)||0,l(n)&&(h=!!n.leading,o=(f="maxWait"in n)?M(R(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),E.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},E.flush=function(){return void 0===s?a:b(p())},E};var N=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return l(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),I(t,e,{leading:r,maxWait:e,trailing:i})},D={debounce:I,throttle:N},j=function(t){return"function"===typeof t},F=function(){return"undefined"===typeof window};function V(t){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e){return!e||"object"!==V(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(){return B(this,e),G(this,W(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return this.props.children}}])&&U(n.prototype,r),i&&U(n,i),e}(r.PureComponent);function H(t){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==H(e)&&"function"!==typeof e?X(t):e}(this,q(e).call(this,t)),J(X(n),"cancelHandler",(function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)})),J(X(n),"rafClean",(function(){n.raf&&n.raf.cancel&&(n.raf.cancel(),n.raf=null)})),J(X(n),"toggleObserver",(function(t){var e=n.getElement();e&&n.resizeObserver[t]&&n.resizeObserver[t](e)})),J(X(n),"getElement",(function(){var t=n.props,e=t.querySelector,r=t.targetDomEl;if(!F()){if(e)return document.querySelector(e);if(r&&((i=r)instanceof Element||i instanceof HTMLDocument))return r;var i,a=n.element&&Object(o.findDOMNode)(n.element);if(a)return a.parentElement}})),J(X(n),"createUpdater",(function(){return n.rafClean(),n.raf=s((function(t){var e=t.width,r=t.height,i=n.props.onResize;j(i)&&i(e,r),n.setState({width:e,height:r})})),n.raf})),J(X(n),"createResizeHandler",(function(t){var e=n.state,r=e.width,i=e.height,o=n.props,a=o.handleWidth,s=o.handleHeight;if(a||s){var u=n.createUpdater();t.forEach((function(t){var e=t&&t.contentRect||{},o=e.width,l=e.height,c=a&&r!==o||s&&i!==l;!n.skipOnMount&&c&&!F()&&u({width:o,height:l}),n.skipOnMount=!1}))}})),J(X(n),"onRef",(function(t){n.element=t})),J(X(n),"getRenderType",(function(){var t=n.props,e=t.render,i=t.children;return j(e)?"renderProp":j(i)?"childFunction":Object(r.isValidElement)(i)?"child":Array.isArray(i)?"childArray":"parent"})),J(X(n),"getTargetComponent",(function(){var t=n.props,e=t.render,i=t.children,o=t.nodeType,a=n.state,s={width:a.width,height:a.height};switch(n.getRenderType()){case"renderProp":return Object(r.cloneElement)(e(s),{key:"resize-detector"});case"childFunction":return Object(r.cloneElement)(i(s));case"child":return Object(r.cloneElement)(i,s);case"childArray":return i.map((function(t){return!!t&&Object(r.cloneElement)(t,s)}));default:return Object(r.createElement)(o)}}));var i=t.skipOnMount,u=t.refreshMode,l=t.refreshRate,c=t.refreshOptions;n.state={width:void 0,height:void 0},n.skipOnMount=i,n.raf=null,n.element=null,n.unmounted=!1;var h=D[u];return n.resizeHandler=h?h(n.createResizeHandler,l,c):n.createResizeHandler,n.resizeObserver=new a.a(n.resizeHandler),n}var n,u,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,t),n=e,(u=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return i.a.createElement(z,{ref:this.onRef},this.getTargetComponent())}}])&&Y(n.prototype,u),l&&Y(n,l),e}(r.PureComponent);Q.propTypes={handleWidth:u.bool,handleHeight:u.bool,skipOnMount:u.bool,refreshRate:u.number,refreshMode:u.string,refreshOptions:Object(u.shape)({leading:u.bool,trailing:u.bool}),querySelector:u.string,targetDomEl:u.any,onResize:u.func,render:u.func,children:u.any,nodeType:u.node},Q.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};var $=Q;function tt(t){return(tt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return e&&nt(t.prototype,e),n&&nt(t,n),t}function it(t,e){return!e||"object"!==tt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function at(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return(function(n){function r(){return et(this,r),it(this,ot(r).apply(this,arguments))}return at(r,n),rt(r,[{key:"render",value:function(){return i.a.createElement($,e,i.a.createElement(t,this.props))}}]),r}(r.Component))};n.d(e,"withResizeDetector",(function(){return ut}));e.default=$},function(t,e,n){"use strict";n.r(e);var r=n(13),i=n.n(r),o=n(0),a=n.n(o),s=n(1),u=n.n(s),l=n(16),c=n(32).a;function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var p=function(t){function e(){var n,r;h(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,t.call.apply(t,[this].concat(o))),r.history=Object(l.a)(r.props),f(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(c,{history:this.history,children:this.props.children})},e}(a.a.Component);p.propTypes={basename:u.a.string,forceRefresh:u.a.bool,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};var d=p;function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var y=function(t){function e(){var n,r;g(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=m(this,t.call.apply(t,[this].concat(o))),r.history=Object(l.b)(r.props),m(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(c,{history:this.history,children:this.props.children})},e}(a.a.Component);y.propTypes={basename:u.a.string,getUserConfirmation:u.a.func,hashType:u.a.oneOf(["hashbang","noslash","slash"]),children:u.a.node};var v=y,b=n(15),E=n.n(b),_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var x=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},T=function(t){function e(){var n,r;w(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=S(this,t.call.apply(t,[this].concat(o))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!x(t)){t.preventDefault();var e=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?e.replace(o):e.push(o)}},S(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["replace","to","innerRef"]);E()(this.context.router,"You should not use <Link> outside a <Router>"),E()(void 0!==e,'You must specify the "to" property');var i=this.context.router.history,o="string"===typeof e?Object(l.c)(e,null,null,i.location):e,s=i.createHref(o);return a.a.createElement("a",_({},r,{onClick:this.handleClick,href:s,ref:n}))},e}(a.a.Component);T.propTypes={onClick:u.a.func,target:u.a.string,replace:u.a.bool,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired,innerRef:u.a.oneOfType([u.a.string,u.a.func])},T.defaultProps={replace:!1},T.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired,createHref:u.a.func.isRequired}).isRequired}).isRequired};var O=T,C=n(53).a,A=n(39).a,L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var R=function(t){var e=t.to,n=t.exact,r=t.strict,i=t.location,o=t.activeClassName,s=t.className,u=t.activeStyle,l=t.style,c=t.isActive,h=t["aria-current"],f=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),p="object"===("undefined"===typeof e?"undefined":P(e))?e.pathname:e,d=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return a.a.createElement(A,{path:d,exact:n,strict:r,location:i,children:function(t){var n=t.location,r=t.match,i=!!(c?c(r,n):r);return a.a.createElement(O,L({to:e,className:i?[s,o].filter((function(t){return t})).join(" "):s,style:i?L({},l,u):l,"aria-current":i&&h||null},f))}})};R.propTypes={to:O.propTypes.to,exact:u.a.bool,strict:u.a.bool,location:u.a.object,activeClassName:u.a.string,className:u.a.string,activeStyle:u.a.object,style:u.a.object,isActive:u.a.func,"aria-current":u.a.oneOf(["page","step","location","date","time","true"])},R.defaultProps={activeClassName:"active","aria-current":"page"};var M=R,k=n(54).a,I=n(55).a,N=n(56).a,D=n(57).a,j=n(35).a,F=n(33).a,V=n(58).a;n.d(e,"BrowserRouter",(function(){return d})),n.d(e,"HashRouter",(function(){return v})),n.d(e,"Link",(function(){return O})),n.d(e,"MemoryRouter",(function(){return C})),n.d(e,"NavLink",(function(){return M})),n.d(e,"Prompt",(function(){return k})),n.d(e,"Redirect",(function(){return I})),n.d(e,"Route",(function(){return A})),n.d(e,"Router",(function(){return c})),n.d(e,"StaticRouter",(function(){return N})),n.d(e,"Switch",(function(){return D})),n.d(e,"generatePath",(function(){return j})),n.d(e,"matchPath",(function(){return F})),n.d(e,"withRouter",(function(){return V}))},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(64),u=n(32),l="@@router/LOCATION_CHANGE",c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:l,payload:{location:t,action:e,isFirstRendering:n}}},h=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return{type:"@@router/CALL_HISTORY_METHOD",payload:{method:t,args:n}}}},f=h("push"),p=h("replace"),d=h("go"),g=h("goBack"),m=h("goForward"),y={push:f,replace:p,go:d,goBack:g,goForward:m},v=n(33);function b(t){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var E=function(t){var e=t.getIn,n=t.toJS,r=function(t){var r,i=n(e(t,["router"]));if(null==(r=i)||"object"!==b(r)||!e(r,["location"])||!e(r,["action"]))throw'Could not find router reducer in state tree, it must be mounted under "router"';return i},i=function(t){return n(e(r(t),["location"]))};return{getLocation:i,getAction:function(t){return n(e(r(t),["action"]))},getRouter:r,getSearch:function(t){return n(e(r(t),["location","search"]))},getHash:function(t){return n(e(r(t),["location","hash"]))},createMatchSelector:function(t){var e=null,n=null;return function(r){var o=(i(r)||{}).pathname;if(o===e)return n;e=o;var a=Object(v.a)(o,t);return a&&n&&a.url===n.url||(n=a),n}}}};function _(t){return(_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(){return(w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return!e||"object"!==_(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C=function(t){var e=E(t).getLocation,n=function(t){function n(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r=x(this,T(n).call(this,t));var i=t.store,o=t.history,a=t.onLocationChanged;r.inTimeTravelling=!1,r.unsubscribe=i.subscribe((function(){var t=e(i.getState()),n=t.pathname,a=t.search,s=t.hash,u=o.location,l=u.pathname,c=u.search,h=u.hash;l===n&&c===a&&h===s||(r.inTimeTravelling=!0,o.push({pathname:n,search:a,hash:s}))}));var s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.inTimeTravelling?r.inTimeTravelling=!1:a(t,e,n)};return r.unlisten=o.listen(s),s(o.location,o.action,!0),r}var r,o,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(n,t),r=n,(o=[{key:"componentWillUnmount",value:function(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function(){var t=this.props,e=t.history,n=t.children;return i.a.createElement(u.a,{history:e},n)}}])&&S(r.prototype,o),a&&S(r,a),n}(r.PureComponent);n.propTypes={store:a.a.shape({getState:a.a.func.isRequired,subscribe:a.a.func.isRequired}).isRequired,history:a.a.shape({action:a.a.string.isRequired,listen:a.a.func.isRequired,location:a.a.object.isRequired,push:a.a.func.isRequired}).isRequired,basename:a.a.string,children:a.a.oneOfType([a.a.func,a.a.node]),onLocationChanged:a.a.func.isRequired};var o=function(t){var e=t.context||s.ReactReduxContext;if(null==e)throw"Please upgrade to react-redux v6";return i.a.createElement(e.Consumer,null,(function(e){var r=e.store;return i.a.createElement(n,w({store:r},t))}))};return o.propTypes={context:a.a.object},Object(s.connect)(null,(function(t){return{onLocationChanged:function(e,n){return t(c(e,n))}}}))(o)},A=function(t){var e=t.fromJS,n=t.merge;return function(t){var r=e({location:t.location,action:t.action});return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.type,a=i.payload;if(o===l){var s=a.location,u=a.action,c=a.isFirstRendering;return c?t:n(t,{location:e(s),action:u})}return t}}};function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P={fromJS:function(t){return t},getIn:function(t,e){if(!t)return t;var n=e.length;if(n){for(var r=t,i=0;i<n&&r;++i)r=r[e[i]];return r}},merge:function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){L(t,e,n[e])}))}return t}({},t,e)},toJS:function(t){return t}};function R(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var M=function(t){return function(e){return function(e){return function(n){if("@@router/CALL_HISTORY_METHOD"!==n.type)return e(n);var r=n.payload,i=r.method,o=r.args;t[i].apply(t,R(o))}}}};n.d(e,"ConnectedRouter",(function(){return k})),n.d(e,"connectRouter",(function(){return I})),n.d(e,"getLocation",(function(){return D})),n.d(e,"getAction",(function(){return j})),n.d(e,"getHash",(function(){return F})),n.d(e,"getSearch",(function(){return V})),n.d(e,"createMatchSelector",(function(){return B})),n.d(e,"LOCATION_CHANGE",(function(){return l})),n.d(e,"CALL_HISTORY_METHOD",(function(){return"@@router/CALL_HISTORY_METHOD"})),n.d(e,"onLocationChanged",(function(){return c})),n.d(e,"push",(function(){return f})),n.d(e,"replace",(function(){return p})),n.d(e,"go",(function(){return d})),n.d(e,"goBack",(function(){return g})),n.d(e,"goForward",(function(){return m})),n.d(e,"routerActions",(function(){return y})),n.d(e,"routerMiddleware",(function(){return M}));var k=C(P),I=A(P),N=E(P),D=N.getLocation,j=N.getAction,F=N.getHash,V=N.getSearch,B=N.createMatchSelector},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r);function o(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var a=function(t,e){var n;void 0===e&&(e=o);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&e(o,i)||(r=t.apply(this,o),a=!0,n=this,i=o),r}},s=n(10),u=n(22),l=n(1),c=n.n(l),h=n(126),f=n.n(h),p=n(127),d=n.n(p),g=n(66);function m(t){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(){return(_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){E(t,e,n[e])}))}return t}function S(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?C(t):e}function L(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"SelectBase",(function(){return zt})),n.d(e,"Async",(function(){return Jt})),n.d(e,"makeAsyncSelect",(function(){return Xt})),n.d(e,"AsyncCreatable",(function(){return re})),n.d(e,"Creatable",(function(){return ee})),n.d(e,"makeCreatableSelect",(function(){return te})),n.d(e,"createFilter",(function(){return rt})),n.d(e,"makeAnimated",(function(){return pe})),n.d(e,"components",(function(){return Ft})),n.d(e,"mergeStyles",(function(){return Ut})),n.d(e,"defaultTheme",(function(){return Gt}));var P=function(){};function R(t,e){return e?"-"===e[0]?t+e:t+"__"+e:t}function M(t,e,n,r){var i=[e,r];if(n&&t)for(var o in n)n.hasOwnProperty(o)&&n[o]&&i.push("".concat(R(t,o)));return i.filter((function(t){return t})).map((function(t){return String(t).trim()})).join(" ")}var k=function(t){return Array.isArray(t)?t.filter(Boolean):"object"===m(t)&&null!==t?[t]:[]};function I(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function N(t){return I(t)?window.pageYOffset:t.scrollTop}function D(t,e){I(t)?window.scrollTo(0,e):t.scrollTop=e}function j(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function F(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P,i=N(t),o=e-i,a=10,s=0;function u(){var e=j(s+=a,i,o,n);D(t,e),s<n?f()(u):r(t)}u()}function V(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}function B(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,a=t.isFixedPosition,s=t.theme.spacing,u=function(t){var e=getComputedStyle(t),n="absolute"===e.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===e.position)return i;for(var o=t;o=o.parentElement;)if(e=getComputedStyle(o),(!n||"static"!==e.position)&&r.test(e.overflow+e.overflowY+e.overflowX))return o;return i}(n),l={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return l;var c=u.getBoundingClientRect().height,h=n.getBoundingClientRect(),f=h.bottom,p=h.height,d=h.top,g=n.offsetParent.getBoundingClientRect().top,m=window.innerHeight,y=N(u),v=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),E=g-b,_=m-d,w=E+y,S=c-y-d,x=f-m+y+v,T=y+d-b;switch(i){case"auto":case"bottom":if(_>=p)return{placement:"bottom",maxHeight:e};if(S>=p&&!a)return o&&F(u,x,160),{placement:"bottom",maxHeight:e};if(!a&&S>=r||a&&_>=r)return o&&F(u,x,160),{placement:"bottom",maxHeight:a?_-v:S-v};if("auto"===i||a){var O=e,C=a?E:w;return C>=r&&(O=Math.min(C-v-s.controlHeight,e)),{placement:"top",maxHeight:O}}if("bottom"===i)return D(u,x),{placement:"bottom",maxHeight:e};break;case"top":if(E>=p)return{placement:"top",maxHeight:e};if(w>=p&&!a)return o&&F(u,T,160),{placement:"top",maxHeight:e};if(!a&&w>=r||a&&E>=r){var A=e;return(!a&&w>=r||a&&E>=r)&&(A=a?E-b:w-b),o&&F(u,T,160),{placement:"top",maxHeight:A}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return l}var U=function(t){return"auto"===t?"bottom":t},G=function(t){function e(){var t,n;y(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return E(C(C(n=A(this,(t=x(e)).call.apply(t,[this].concat(i))))),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),E(C(C(n)),"getPlacement",(function(t){var e=n.props,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,a=e.menuPosition,s=e.menuShouldScrollIntoView,u=e.theme,l=n.context.getPortalPlacement;if(t){var c="fixed"===a,h=B({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!c,isFixedPosition:c,theme:u});l&&l(h),n.setState(h)}})),E(C(C(n)),"getUpdatedProps",(function(){var t=n.props.menuPlacement,e=n.state.placement||U(t);return w({},n.props,{placement:e,maxHeight:n.state.maxHeight})})),n}return S(e,t),b(e,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),e}(r.Component);E(G,"contextTypes",{getPortalPlacement:c.a.func});var W=function(t){var e=t.theme,n=e.spacing.baseUnit;return{color:e.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},K=W,z=W,H=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.innerProps;return i.a.createElement("div",_({className:r(Object(s.a)(o("noOptionsMessage",t)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},a),e)};H.defaultProps={children:"No options"};var Y=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.innerProps;return i.a.createElement("div",_({className:r(Object(s.a)(o("loadingMessage",t)),{"menu-notice":!0,"menu-notice--loading":!0},n)},a),e)};Y.defaultProps={children:"Loading..."};var q=function(t){function e(){var t,n;y(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return E(C(C(n=A(this,(t=x(e)).call.apply(t,[this].concat(i))))),"state",{placement:null}),E(C(C(n)),"getPortalPlacement",(function(t){var e=t.placement;e!==U(n.props.menuPlacement)&&n.setState({placement:e})})),n}return S(e,t),b(e,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var t=this.props,e=t.appendTo,n=t.children,r=t.controlElement,o=t.menuPlacement,a=t.menuPosition,l=t.getStyles,c="fixed"===a;if(!e&&!c||!r)return null;var h=this.state.placement||U(o),f=function(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}(r),p=c?0:window.pageYOffset,d={offset:f[h]+p,position:a,rect:f},g=i.a.createElement("div",{className:Object(s.a)(l("menuPortal",d))},n);return e?Object(u.createPortal)(g,e):g}}]),e}(r.Component);E(q,"childContextTypes",{getPortalPlacement:c.a.func});var X=Array.isArray,Z=Object.keys,J=Object.prototype.hasOwnProperty;function Q(t,e){try{return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==m(e)&&"object"==m(n)){var r,i,o,a=X(e),s=X(n);if(a&&s){if((i=e.length)!=n.length)return!1;for(r=i;0!==r--;)if(!t(e[r],n[r]))return!1;return!0}if(a!=s)return!1;var u=e instanceof Date,l=n instanceof Date;if(u!=l)return!1;if(u&&l)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Z(e);if((i=f.length)!==Z(n).length)return!1;for(r=i;0!==r--;)if(!J.call(n,f[r]))return!1;for(r=i;0!==r--;)if(("_owner"!==(o=f[r])||!e.$$typeof)&&!t(e[o],n[o]))return!1;return!0}return e!==e&&n!==n}(t,e)}catch(n){if(n.message&&n.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}var $=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],tt=function(t){for(var e=0;e<$.length;e++)t=t.replace($[e].letters,$[e].base);return t},et=function(t){return t.replace(/^\s+|\s+$/g,"")},nt=function(t){return"".concat(t.label," ").concat(t.value)},rt=function(t){return function(e,n){var r=w({ignoreCase:!0,ignoreAccents:!0,stringify:nt,trim:!0,matchFrom:"any"},t),i=r.ignoreCase,o=r.ignoreAccents,a=r.stringify,s=r.trim,u=r.matchFrom,l=s?et(n):n,c=s?et(a(e)):a(e);return i&&(l=l.toLowerCase(),c=c.toLowerCase()),o&&(l=tt(l),c=tt(c)),"start"===u?c.substr(0,l.length)===l:c.indexOf(l)>-1}},it=function(t){return i.a.createElement("span",_({className:Object(s.a)({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},t))},ot=function(t){function e(){return y(this,e),A(this,x(e).apply(this,arguments))}return S(e,t),b(e,[{key:"render",value:function(){var t=this.props,e=(t.in,t.out,t.onExited,t.appear,t.enter,t.exit,t.innerRef),n=(t.emotion,O(t,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return i.a.createElement("input",_({ref:e},n,{className:Object(s.a)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),e}(r.Component),at=function(t){function e(){return y(this,e),A(this,x(e).apply(this,arguments))}return S(e,t),b(e,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(u.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),e}(r.Component),st=["boxSizing","height","overflow","paddingRight","position"],ut={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function lt(t){t.preventDefault()}function ct(t){t.stopPropagation()}function ht(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;0===t?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function ft(){return"ontouchstart"in window||navigator.maxTouchPoints}var pt=!("undefined"===typeof window||!window.document||!window.document.createElement),dt=0,gt=function(t){function e(){var t,n;y(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return E(C(C(n=A(this,(t=x(e)).call.apply(t,[this].concat(i))))),"originalStyles",{}),E(C(C(n)),"listenerOptions",{capture:!1,passive:!1}),n}return S(e,t),b(e,[{key:"componentDidMount",value:function(){var t=this;if(pt){var e=this.props,n=e.accountForScrollbars,r=e.touchScrollTarget,i=document.body,o=i&&i.style;if(n&&st.forEach((function(e){var n=o&&o[e];t.originalStyles[e]=n})),n&&dt<1){var a=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,u=window.innerWidth-s+a||0;Object.keys(ut).forEach((function(t){var e=ut[t];o&&(o[t]=e)})),o&&(o.paddingRight="".concat(u,"px"))}i&&ft()&&(i.addEventListener("touchmove",lt,this.listenerOptions),r&&(r.addEventListener("touchstart",ht,this.listenerOptions),r.addEventListener("touchmove",ct,this.listenerOptions))),dt+=1}}},{key:"componentWillUnmount",value:function(){var t=this;if(pt){var e=this.props,n=e.accountForScrollbars,r=e.touchScrollTarget,i=document.body,o=i&&i.style;dt=Math.max(dt-1,0),n&&dt<1&&st.forEach((function(e){var n=t.originalStyles[e];o&&(o[e]=n)})),i&&ft()&&(i.removeEventListener("touchmove",lt,this.listenerOptions),r&&(r.removeEventListener("touchstart",ht,this.listenerOptions),r.removeEventListener("touchmove",ct,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),e}(r.Component);E(gt,"defaultProps",{accountForScrollbars:!0});var mt=function(t){function e(){var t,n;y(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return E(C(C(n=A(this,(t=x(e)).call.apply(t,[this].concat(i))))),"state",{touchScrollTarget:null}),E(C(C(n)),"getScrollTarget",(function(t){t!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:t})})),E(C(C(n)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),n}return S(e,t),b(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.isEnabled,r=this.state.touchScrollTarget;return n?i.a.createElement("div",null,i.a.createElement("div",{onClick:this.blurSelectInput,className:Object(s.a)({position:"fixed",left:0,bottom:0,right:0,top:0})}),i.a.createElement(at,{innerRef:this.getScrollTarget},e),r?i.a.createElement(gt,{touchScrollTarget:r}):null):e}}]),e}(r.PureComponent),yt=function(t){function e(){var t,n;y(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return E(C(C(n=A(this,(t=x(e)).call.apply(t,[this].concat(i))))),"isBottom",!1),E(C(C(n)),"isTop",!1),E(C(C(n)),"scrollTarget",void 0),E(C(C(n)),"touchStart",void 0),E(C(C(n)),"cancelScroll",(function(t){t.preventDefault(),t.stopPropagation()})),E(C(C(n)),"handleEventDelta",(function(t,e){var r=n.props,i=r.onBottomArrive,o=r.onBottomLeave,a=r.onTopArrive,s=r.onTopLeave,u=n.scrollTarget,l=u.scrollTop,c=u.scrollHeight,h=u.clientHeight,f=n.scrollTarget,p=e>0,d=c-h-l,g=!1;d>e&&n.isBottom&&(o&&o(t),n.isBottom=!1),p&&n.isTop&&(s&&s(t),n.isTop=!1),p&&e>d?(i&&!n.isBottom&&i(t),f.scrollTop=c,g=!0,n.isBottom=!0):!p&&-e>l&&(a&&!n.isTop&&a(t),f.scrollTop=0,g=!0,n.isTop=!0),g&&n.cancelScroll(t)})),E(C(C(n)),"onWheel",(function(t){n.handleEventDelta(t,t.deltaY)})),E(C(C(n)),"onTouchStart",(function(t){n.touchStart=t.changedTouches[0].clientY})),E(C(C(n)),"onTouchMove",(function(t){var e=n.touchStart-t.changedTouches[0].clientY;n.handleEventDelta(t,e)})),E(C(C(n)),"getScrollTarget",(function(t){n.scrollTarget=t})),n}return S(e,t),b(e,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(t){t&&(t.scrollHeight<=t.clientHeight||("function"===typeof t.addEventListener&&t.addEventListener("wheel",this.onWheel,!1),"function"===typeof t.addEventListener&&t.addEventListener("touchstart",this.onTouchStart,!1),"function"===typeof t.addEventListener&&t.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(t){t.scrollHeight<=t.clientHeight||("function"===typeof t.removeEventListener&&t.removeEventListener("wheel",this.onWheel,!1),"function"===typeof t.removeEventListener&&t.removeEventListener("touchstart",this.onTouchStart,!1),"function"===typeof t.removeEventListener&&t.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return i.a.createElement(at,{innerRef:this.getScrollTarget},this.props.children)}}]),e}(r.Component),vt=function(t){function e(){return y(this,e),A(this,x(e).apply(this,arguments))}return S(e,t),b(e,[{key:"render",value:function(){var t=this.props,e=t.isEnabled,n=O(t,["isEnabled"]);return e?i.a.createElement(yt,n):this.props.children}}]),e}(r.Component);E(vt,"defaultProps",{isEnabled:!0});var bt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.isSearchable,r=e.isMulti,i=e.label,o=e.isDisabled;switch(t){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(i||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},Et=function(t,e){var n=e.value,r=e.isDisabled;if(n)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.")}},_t=function(t){return!!t.isDisabled},wt=function(t){function e(){return y(this,e),A(this,x(e).apply(this,arguments))}return S(e,t),b(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.cx,o=t.isMulti,a=t.getStyles,u=t.hasValue;return i.a.createElement("div",{className:r(Object(s.a)(a("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":u},n)},e)}}]),e}(r.Component),St=function(t){var e=t.size,n=O(t,["size"]);return i.a.createElement("svg",_({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:Object(s.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},xt=function(t){return i.a.createElement(St,_({size:20},t),i.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Tt=function(t){return i.a.createElement(St,_({size:20},t),i.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ot=function(t){var e=t.isFocused,n=t.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:e?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:e?i.neutral80:i.neutral40}}},Ct=Ot,At=Ot,Lt=!1,Pt=function(t){var e=t.color,n=t.delay,r=t.offset;return i.a.createElement("span",{className:Object(s.a)({animationDuration:"1s",animationDelay:"".concat(n,"ms"),animationIterationCount:"infinite",animationName:"react-select-loading-indicator",animationTimingFunction:"ease-in-out",backgroundColor:e,borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},Rt=function(t){var e=t.className,n=t.cx,r=t.getStyles,o=t.innerProps,a=t.isFocused,u=t.isRtl,l=t.theme.colors,c=a?l.neutral80:l.neutral20;return Lt||(Object(s.b)("@keyframes ","react-select-loading-indicator","{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),Lt=!0),i.a.createElement("div",_({},o,{className:n(Object(s.a)(r("loadingIndicator",t)),{indicator:!0,"loading-indicator":!0},e)}),i.a.createElement(Pt,{color:c,delay:0,offset:u}),i.a.createElement(Pt,{color:c,delay:160,offset:!0}),i.a.createElement(Pt,{color:c,delay:320,offset:!u}))};Rt.defaultProps={size:4};var Mt=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},kt=function(t){var e=t.children,n=t.innerProps;return i.a.createElement("div",n,e)},It=kt,Nt=kt,Dt=function(t){function e(){return y(this,e),A(this,x(e).apply(this,arguments))}return S(e,t),b(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.innerProps;return i.a.createElement("div",n,e||i.a.createElement(xt,{size:14}))}}]),e}(r.Component),jt=function(t){function e(){return y(this,e),A(this,x(e).apply(this,arguments))}return S(e,t),b(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.components,o=t.cx,a=t.data,u=t.getStyles,l=t.innerProps,c=t.isDisabled,h=t.removeProps,f=t.selectProps,p=r.Container,d=r.Label,g=r.Remove,m=w({className:o(Object(s.a)(u("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":c},n)},l),y={className:o(Object(s.a)(u("multiValueLabel",this.props)),{"multi-value__label":!0},n)},v=w({className:o(Object(s.a)(u("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},h);return i.a.createElement(p,{data:a,innerProps:m,selectProps:f},i.a.createElement(d,{data:a,innerProps:y,selectProps:f},e),i.a.createElement(g,{data:a,innerProps:v,selectProps:f}))}}]),e}(r.Component);E(jt,"defaultProps",{cropWithEllipsis:!0});var Ft={ClearIndicator:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.innerProps;return i.a.createElement("div",_({},a,{className:r(Object(s.a)(o("clearIndicator",t)),{indicator:!0,"clear-indicator":!0},n)}),e||i.a.createElement(xt,null))},Control:function(t){var e=t.children,n=t.cx,r=t.getStyles,o=t.className,a=t.isDisabled,u=t.isFocused,l=t.innerRef,c=t.innerProps,h=t.menuIsOpen;return i.a.createElement("div",_({ref:l,className:n(Object(s.a)(r("control",t)),{control:!0,"control--is-disabled":a,"control--is-focused":u,"control--menu-is-open":h},o)},c),e)},DropdownIndicator:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.innerProps;return i.a.createElement("div",_({},a,{className:r(Object(s.a)(o("dropdownIndicator",t)),{indicator:!0,"dropdown-indicator":!0},n)}),e||i.a.createElement(Tt,null))},DownChevron:Tt,CrossIcon:xt,Group:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.Heading,u=t.headingProps,l=t.label,c=t.theme,h=t.selectProps;return i.a.createElement("div",{className:r(Object(s.a)(o("group",t)),{group:!0},n)},i.a.createElement(a,_({},u,{selectProps:h,theme:c,getStyles:o,cx:r}),l),i.a.createElement("div",null,e))},GroupHeading:function(t){var e=t.className,n=t.cx,r=t.getStyles,o=t.theme,a=(t.selectProps,O(t,["className","cx","getStyles","theme","selectProps"]));return i.a.createElement("div",_({className:n(Object(s.a)(r("groupHeading",w({theme:o},a))),{"group-heading":!0},e)},a))},IndicatorsContainer:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles;return i.a.createElement("div",{className:r(Object(s.a)(o("indicatorsContainer",t)),{indicators:!0},n)},e)},IndicatorSeparator:function(t){var e=t.className,n=t.cx,r=t.getStyles,o=t.innerProps;return i.a.createElement("span",_({},o,{className:n(Object(s.a)(r("indicatorSeparator",t)),{"indicator-separator":!0},e)}))},Input:function(t){var e=t.className,n=t.cx,r=t.getStyles,o=t.innerRef,a=t.isHidden,u=t.isDisabled,l=t.theme,c=(t.selectProps,O(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return i.a.createElement("div",{className:Object(s.a)(r("input",w({theme:l},c)))},i.a.createElement(d.a,_({className:n(null,{input:!0},e),inputRef:o,inputStyle:Mt(a),disabled:u},c)))},LoadingIndicator:Rt,Menu:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.innerRef,u=t.innerProps,l=r(Object(s.a)(o("menu",t)),{menu:!0},n);return i.a.createElement("div",_({className:l},u,{ref:a}),e)},MenuList:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.isMulti,u=t.innerRef;return i.a.createElement("div",{className:r(Object(s.a)(o("menuList",t)),{"menu-list":!0,"menu-list--is-multi":a},n),ref:u},e)},MenuPortal:q,LoadingMessage:Y,NoOptionsMessage:H,MultiValue:jt,MultiValueContainer:It,MultiValueLabel:Nt,MultiValueRemove:Dt,Option:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.isDisabled,u=t.isFocused,l=t.isSelected,c=t.innerRef,h=t.innerProps;return i.a.createElement("div",_({ref:c,className:r(Object(s.a)(o("option",t)),{option:!0,"option--is-disabled":a,"option--is-focused":u,"option--is-selected":l},n)},h),e)},Placeholder:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.innerProps;return i.a.createElement("div",_({className:r(Object(s.a)(o("placeholder",t)),{placeholder:!0},n)},a),e)},SelectContainer:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.innerProps,u=t.isDisabled,l=t.isRtl;return i.a.createElement("div",_({className:r(Object(s.a)(o("container",t)),{"--is-disabled":u,"--is-rtl":l},n)},a),e)},SingleValue:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,a=t.isDisabled,u=t.innerProps;return i.a.createElement("div",_({className:r(Object(s.a)(o("singleValue",t)),{"single-value":!0,"single-value--is-disabled":a},n)},u),e)},ValueContainer:wt},Vt=function(t){return w({},Ft,t.components)},Bt={clearIndicator:At,container:function(t){var e=t.isDisabled;return{label:"container",direction:t.isRtl?"rtl":null,pointerEvents:e?"none":null,position:"relative"}},control:function(t){var e=t.isDisabled,n=t.isFocused,r=t.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:e?i.neutral5:i.neutral0,borderColor:e?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:Ct,group:function(t){var e=t.theme.spacing;return{paddingBottom:2*e.baseUnit,paddingTop:2*e.baseUnit}},groupHeading:function(t){var e=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*e.baseUnit,paddingRight:3*e.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(t){var e=t.isDisabled,n=t.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:e?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:e?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(t){var e=t.isFocused,n=t.size,r=t.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:e?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:z,menu:function(t){var e,n=t.placement,r=t.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return E(e={label:"menu"},function(t){return t?{bottom:"top",top:"bottom"}[t]:"bottom"}(n),"100%"),E(e,"backgroundColor",a.neutral0),E(e,"borderRadius",i),E(e,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),E(e,"marginBottom",o.menuGutter),E(e,"marginTop",o.menuGutter),E(e,"position","absolute"),E(e,"width","100%"),E(e,"zIndex",1),e},menuList:function(t){var e=t.maxHeight,n=t.theme.spacing.baseUnit;return{maxHeight:e,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(t){var e=t.rect,n=t.offset,r=t.position;return{left:e.left,position:r,top:n,width:e.width,zIndex:1}},multiValue:function(t){var e=t.theme,n=e.spacing,r=e.borderRadius;return{label:"multiValue",backgroundColor:e.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(t){var e=t.theme,n=e.borderRadius,r=e.colors,i=t.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(t){var e=t.theme,n=e.spacing,r=e.borderRadius,i=e.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:t.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:K,option:function(t){var e=t.isDisabled,n=t.isFocused,r=t.isSelected,i=t.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:e?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!e&&(r?a.primary:a.primary50)}}},placeholder:function(t){var e=t.theme,n=e.spacing;return{label:"placeholder",color:e.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:e?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(t){var e=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(e.baseUnit/2,"px ").concat(2*e.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};function Ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=w({},t);return Object.keys(e).forEach((function(r){t[r]?n[r]=function(n,i){return e[r](t[r](n,i),i)}:n[r]=e[r]})),n}var Gt={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Wt={backspaceRemovesValue:!0,blurInputOnSelect:V(),captureMenuScroll:!V(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:rt(),formatGroupLabel:function(t){return t.label},getOptionLabel:function(t){return t.label},getOptionValue:function(t){return t.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:_t,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return"".concat(e," result").concat(1!==e?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},Kt=1,zt=function(t){function e(t){var n;y(this,e),E(C(C(n=A(this,x(e).call(this,t)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),E(C(C(n)),"blockOptionHover",!1),E(C(C(n)),"isComposing",!1),E(C(C(n)),"clearFocusValueOnUpdate",!1),E(C(C(n)),"commonProps",void 0),E(C(C(n)),"components",void 0),E(C(C(n)),"hasGroups",!1),E(C(C(n)),"initialTouchX",0),E(C(C(n)),"initialTouchY",0),E(C(C(n)),"inputIsHiddenAfterUpdate",void 0),E(C(C(n)),"instancePrefix",""),E(C(C(n)),"openAfterFocus",!1),E(C(C(n)),"scrollToFocusedOptionOnUpdate",!1),E(C(C(n)),"userIsDragging",void 0),E(C(C(n)),"controlRef",null),E(C(C(n)),"getControlRef",(function(t){n.controlRef=t})),E(C(C(n)),"focusedOptionRef",null),E(C(C(n)),"getFocusedOptionRef",(function(t){n.focusedOptionRef=t})),E(C(C(n)),"menuListRef",null),E(C(C(n)),"getMenuListRef",(function(t){n.menuListRef=t})),E(C(C(n)),"inputRef",null),E(C(C(n)),"getInputRef",(function(t){n.inputRef=t})),E(C(C(n)),"cacheComponents",(function(t){n.components=Vt({components:t})})),E(C(C(n)),"focus",n.focusInput),E(C(C(n)),"blur",n.blurInput),E(C(C(n)),"onChange",(function(t,e){var r=n.props;(0,r.onChange)(t,w({},e,{name:r.name}))})),E(C(C(n)),"setValue",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments.length>2?arguments[2]:void 0,i=n.props,o=i.closeMenuOnSelect,a=i.isMulti;n.onInputChange("",{action:"set-value"}),o&&(n.inputIsHiddenAfterUpdate=!a,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(t,{action:e,option:r})})),E(C(C(n)),"selectOption",(function(t){var e=n.props,r=e.blurInputOnSelect,i=e.isMulti,o=n.state.selectValue;if(i)if(n.isOptionSelected(t,o)){var a=n.getOptionValue(t);n.setValue(o.filter((function(t){return n.getOptionValue(t)!==a})),"deselect-option",t),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(t)}})}else n.isOptionDisabled(t,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t),isDisabled:!0}}):(n.setValue([].concat(L(o),[t]),"select-option",t),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t)}}));else n.isOptionDisabled(t,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t),isDisabled:!0}}):(n.setValue(t,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t)}}));r&&n.blurInput()})),E(C(C(n)),"removeValue",(function(t){var e=n.state.selectValue,r=n.getOptionValue(t);n.onChange(e.filter((function(t){return n.getOptionValue(t)!==r})),{action:"remove-value",removedValue:t}),n.announceAriaLiveSelection({event:"remove-value",context:{value:t?n.getOptionLabel(t):""}}),n.focusInput()})),E(C(C(n)),"clearValue",(function(){var t=n.props.isMulti;n.onChange(t?[]:null,{action:"clear"})})),E(C(C(n)),"popValue",(function(){var t=n.state.selectValue,e=t[t.length-1];n.announceAriaLiveSelection({event:"pop-value",context:{value:e?n.getOptionLabel(e):""}}),n.onChange(t.slice(0,t.length-1),{action:"pop-value",removedValue:e})})),E(C(C(n)),"getOptionLabel",(function(t){return n.props.getOptionLabel(t)})),E(C(C(n)),"getOptionValue",(function(t){return n.props.getOptionValue(t)})),E(C(C(n)),"getStyles",(function(t,e){var r=Bt[t](e);r.boxSizing="border-box";var i=n.props.styles[t];return i?i(r,e):r})),E(C(C(n)),"getElementId",(function(t){return"".concat(n.instancePrefix,"-").concat(t)})),E(C(C(n)),"getActiveDescendentId",(function(){var t=n.props.menuIsOpen,e=n.state,r=e.menuOptions,i=e.focusedOption;if(i&&t){var o=r.focusable.indexOf(i),a=r.render[o];return a&&a.key}})),E(C(C(n)),"announceAriaLiveSelection",(function(t){var e=t.event,r=t.context;n.setState({ariaLiveSelection:Et(e,r)})})),E(C(C(n)),"announceAriaLiveContext",(function(t){var e=t.event,r=t.context;n.setState({ariaLiveContext:bt(e,w({},r,{label:n.props["aria-label"]}))})})),E(C(C(n)),"onMenuMouseDown",(function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),n.focusInput())})),E(C(C(n)),"onMenuMouseMove",(function(t){n.blockOptionHover=!1})),E(C(C(n)),"onControlMouseDown",(function(t){var e=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==t.target.tagName&&n.onMenuClose():e&&n.openMenu("first"):(e&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==t.target.tagName&&t.preventDefault()})),E(C(C(n)),"onDropdownIndicatorMouseDown",(function(t){if((!t||"mousedown"!==t.type||0===t.button)&&!n.props.isDisabled){var e=n.props,r=e.isMulti,i=e.menuIsOpen;n.focusInput(),i?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu("first"),t.preventDefault(),t.stopPropagation()}})),E(C(C(n)),"onClearIndicatorMouseDown",(function(t){t&&"mousedown"===t.type&&0!==t.button||(n.clearValue(),t.stopPropagation(),n.openAfterFocus=!1,setTimeout((function(){return n.focusInput()})))})),E(C(C(n)),"onScroll",(function(t){"boolean"===typeof n.props.closeMenuOnScroll?t.target instanceof HTMLElement&&I(t.target)&&n.props.onMenuClose():"function"===typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(t)&&n.props.onMenuClose()})),E(C(C(n)),"onCompositionStart",(function(){n.isComposing=!0})),E(C(C(n)),"onCompositionEnd",(function(){n.isComposing=!1})),E(C(C(n)),"onTouchStart",(function(t){var e=t.touches.item(0);e&&(n.initialTouchX=e.clientX,n.initialTouchY=e.clientY,n.userIsDragging=!1)})),E(C(C(n)),"onTouchMove",(function(t){var e=t.touches.item(0);if(e){var r=Math.abs(e.clientX-n.initialTouchX),i=Math.abs(e.clientY-n.initialTouchY);n.userIsDragging=r>5||i>5}})),E(C(C(n)),"onTouchEnd",(function(t){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(t.target)&&n.menuListRef&&!n.menuListRef.contains(t.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)})),E(C(C(n)),"onControlTouchEnd",(function(t){n.userIsDragging||n.onControlMouseDown(t)})),E(C(C(n)),"onClearIndicatorTouchEnd",(function(t){n.userIsDragging||n.onClearIndicatorMouseDown(t)})),E(C(C(n)),"onDropdownIndicatorTouchEnd",(function(t){n.userIsDragging||n.onDropdownIndicatorMouseDown(t)})),E(C(C(n)),"handleInputChange",(function(t){var e=t.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(e,{action:"input-change"}),n.onMenuOpen()})),E(C(C(n)),"onInputFocus",(function(t){var e=n.props,r=e.isSearchable,i=e.isMulti;n.props.onFocus&&n.props.onFocus(t),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:i}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1})),E(C(C(n)),"onInputBlur",(function(t){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(t),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))})),E(C(C(n)),"onOptionHover",(function(t){n.blockOptionHover||n.state.focusedOption===t||n.setState({focusedOption:t})})),E(C(C(n)),"shouldHideSelectedOptions",(function(){var t=n.props,e=t.hideSelectedOptions,r=t.isMulti;return void 0===e?r:e})),E(C(C(n)),"onKeyDown",(function(t){var e=n.props,r=e.isMulti,i=e.backspaceRemovesValue,o=e.escapeClearsValue,a=e.inputValue,s=e.isClearable,u=e.isDisabled,l=e.menuIsOpen,c=e.onKeyDown,h=e.tabSelectsValue,f=e.openMenuOnFocus,p=n.state,d=p.focusedOption,g=p.focusedValue,m=p.selectValue;if(!u&&("function"!==typeof c||(c(t),!t.defaultPrevented))){switch(n.blockOptionHover=!0,t.key){case"ArrowLeft":if(!r||a)return;n.focusValue("previous");break;case"ArrowRight":if(!r||a)return;n.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(g)n.removeValue(g);else{if(!i)return;r?n.popValue():s&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(t.shiftKey||!l||!h||!d||f&&n.isOptionSelected(d,m))return;n.selectOption(d);break;case"Enter":if(229===t.keyCode)break;if(l){if(!d)return;if(n.isComposing)return;n.selectOption(d);break}return;case"Escape":l?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):s&&o&&n.clearValue();break;case" ":if(a)return;if(!l){n.openMenu("first");break}if(!d)return;n.selectOption(d);break;case"ArrowUp":l?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":l?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!l)return;n.focusOption("pageup");break;case"PageDown":if(!l)return;n.focusOption("pagedown");break;case"Home":if(!l)return;n.focusOption("first");break;case"End":if(!l)return;n.focusOption("last");break;default:return}t.preventDefault()}}));var r=t.value;n.cacheComponents=a(n.cacheComponents,Q).bind(C(C(n))),n.cacheComponents(t.components),n.instancePrefix="react-select-"+(n.props.instanceId||++Kt);var i=k(r),o=n.buildMenuOptions(t,i);return n.state.menuOptions=o,n.state.selectValue=i,n}return S(e,t),b(e,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.options,r=e.value,i=e.inputValue;if(this.cacheComponents(t.components),t.value!==r||t.options!==n||t.inputValue!==i){var o=k(t.value),a=this.buildMenuOptions(t,o),s=this.getNextFocusedValue(o),u=this.getNextFocusedOption(a.focusable);this.setState({menuOptions:a,selectValue:o,focusedOption:u,focusedValue:s})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.isDisabled,r=e.menuIsOpen,i=this.state.isFocused;(i&&!n&&t.isDisabled||i&&r&&!t.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&function(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?D(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&D(t,Math.max(e.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var t=this.props,e=t.isSearchable,n=t.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:e,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(t,e){this.props.onInputChange(t,e)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(t){var e=this.state,n=e.menuOptions,r=e.selectValue,i=e.isFocused,o=this.props.isMulti,a="first"===t?0:n.focusable.length-1;if(!o){var s=n.focusable.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[a]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(t){var e=this.props,n=e.isMulti,r=e.isSearchable,i=this.state,o=i.selectValue,a=i.focusedValue;if(n){this.setState({focusedOption:null});var s=o.indexOf(a);a||(s=-1,this.announceAriaLiveContext({event:"value"}));var u=o.length-1,l=-1;if(o.length){switch(t){case"previous":l=0===s?0:-1===s?u:s-1;break;case"next":s>-1&&s<u&&(l=s+1)}-1===l&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==l,focusedValue:o[l]})}}}},{key:"focusOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",e=this.props.pageSize,n=this.state,r=n.focusedOption,i=n.menuOptions,o=i.focusable;if(o.length){var a=0,s=o.indexOf(r);r||(s=-1,this.announceAriaLiveContext({event:"menu"})),"up"===t?a=s>0?s-1:o.length-1:"down"===t?a=(s+1)%o.length:"pageup"===t?(a=s-e)<0&&(a=0):"pagedown"===t?(a=s+e)>o.length-1&&(a=o.length-1):"last"===t&&(a=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[a],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:_t(o[a])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Gt):w({},Gt,this.props.theme):Gt}},{key:"getCommonProps",value:function(){var t=this.clearValue,e=this.getStyles,n=this.setValue,r=this.selectOption,i=this.props,o=i.classNamePrefix,a=i.isMulti,s=i.isRtl,u=i.options,l=this.state.selectValue,c=this.hasValue();return{cx:M.bind(null,o),clearValue:t,getStyles:e,getValue:function(){return l},hasValue:c,isMulti:a,isRtl:s,options:u,selectOption:r,setValue:n,selectProps:i,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(t){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var e=this.state,n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}},{key:"getNextFocusedOption",value:function(t){var e=this.state.focusedOption;return e&&t.indexOf(e)>-1?e:t[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var t=this.props,e=t.isClearable,n=t.isMulti;return void 0===e?n:e}},{key:"isOptionDisabled",value:function(t,e){return"function"===typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(t,e)}},{key:"isOptionSelected",value:function(t,e){var n=this;if(e.indexOf(t)>-1)return!0;if("function"===typeof this.props.isOptionSelected)return this.props.isOptionSelected(t,e);var r=this.getOptionValue(t);return e.some((function(t){return n.getOptionValue(t)===r}))}},{key:"filterOption",value:function(t,e){return!this.props.filterOption||this.props.filterOption(t,e)}},{key:"formatOptionLabel",value:function(t,e){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(t,{context:e,inputValue:n,selectValue:r})}return this.getOptionLabel(t)}},{key:"formatGroupLabel",value:function(t){return this.props.formatGroupLabel(t)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(t,e){var n=this,r=t.inputValue,i=void 0===r?"":r,o=t.options,a=function(t,r){var o=n.isOptionDisabled(t,e),a=n.isOptionSelected(t,e),s=n.getOptionLabel(t),u=n.getOptionValue(t);if(!(n.shouldHideSelectedOptions()&&a||!n.filterOption({label:s,value:u,data:t},i))){var l=o?void 0:function(){return n.onOptionHover(t)},c=o?void 0:function(){return n.selectOption(t)},h="".concat(n.getElementId("option"),"-").concat(r);return{innerProps:{id:h,onClick:c,onMouseMove:l,onMouseOver:l,tabIndex:-1},data:t,isDisabled:o,isSelected:a,key:h,label:s,type:"option",value:u}}};return o.reduce((function(t,e,r){if(e.options){n.hasGroups||(n.hasGroups=!0);var i=e.options.map((function(e,n){var i=a(e,"".concat(r,"-").concat(n));return i&&t.focusable.push(e),i})).filter(Boolean);if(i.length){var o="".concat(n.getElementId("group"),"-").concat(r);t.render.push({type:"group",key:o,data:e,options:i})}}else{var s=a(e,"".concat(r));s&&(t.render.push(s),t.focusable.push(e))}return t}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var t=this.state,e=t.ariaLiveContext,n=t.selectValue,r=t.focusedValue,i=t.focusedOption,o=this.props,a=o.options,s=o.menuIsOpen,u=o.inputValue,l=o.screenReaderStatus,c=r?function(t){var e=t.focusedValue,n=t.getOptionLabel,r=t.selectValue;return"value ".concat(n(e)," focused, ").concat(r.indexOf(e)+1," of ").concat(r.length,".")}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"",h=i&&s?function(t){var e=t.focusedOption,n=t.getOptionLabel,r=t.options;return"option ".concat(n(e)," focused").concat(e.isDisabled?" disabled":"",", ").concat(r.indexOf(e)+1," of ").concat(r.length,".")}({focusedOption:i,getOptionLabel:this.getOptionLabel,options:a}):"",f=function(t){var e=t.inputValue,n=t.screenReaderMessage;return"".concat(n).concat(e?" for search term "+e:"",".")}({inputValue:u,screenReaderMessage:l({count:this.countOptions()})});return"".concat(c," ").concat(h," ").concat(f," ").concat(e)}},{key:"renderInput",value:function(){var t=this.props,e=t.isDisabled,n=t.isSearchable,r=t.inputId,o=t.inputValue,a=t.tabIndex,s=this.components.Input,u=this.state.inputIsHidden,l=r||this.getElementId("input");if(!n)return i.a.createElement(ot,{id:l,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:P,onFocus:this.onInputFocus,readOnly:!0,disabled:e,tabIndex:a,value:""});var c={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},h=this.commonProps,f=h.cx,p=h.theme,d=h.selectProps;return i.a.createElement(s,_({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:f,getStyles:this.getStyles,id:l,innerRef:this.getInputRef,isDisabled:e,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:d,spellCheck:"false",tabIndex:a,theme:p,type:"text",value:o},c))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,e=this.components,n=e.MultiValue,r=e.MultiValueContainer,o=e.MultiValueLabel,a=e.MultiValueRemove,s=e.SingleValue,u=e.Placeholder,l=this.commonProps,c=this.props,h=c.controlShouldRenderValue,f=c.isDisabled,p=c.isMulti,d=c.inputValue,g=c.placeholder,m=this.state,y=m.selectValue,v=m.focusedValue,b=m.isFocused;if(!this.hasValue()||!h)return d?null:i.a.createElement(u,_({},l,{key:"placeholder",isDisabled:f,isFocused:b}),g);if(p)return y.map((function(e){var s=e===v;return i.a.createElement(n,_({},l,{components:{Container:r,Label:o,Remove:a},isFocused:s,isDisabled:f,key:t.getOptionValue(e),removeProps:{onClick:function(){return t.removeValue(e)},onTouchEnd:function(){return t.removeValue(e)},onMouseDown:function(t){t.preventDefault(),t.stopPropagation()}},data:e}),t.formatOptionLabel(e,"value"))}));if(d)return null;var E=y[0];return i.a.createElement(s,_({},l,{data:E,isDisabled:f}),this.formatOptionLabel(E,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.components.ClearIndicator,e=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!t||r||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return i.a.createElement(t,_({},e,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var t=this.components.LoadingIndicator,e=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,a=this.state.isFocused;if(!t||!o)return null;return i.a.createElement(t,_({},e,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var t=this.components,e=t.DropdownIndicator,n=t.IndicatorSeparator;if(!e||!n)return null;var r=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return i.a.createElement(n,_({},r,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var t=this.components.DropdownIndicator;if(!t)return null;var e=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return i.a.createElement(t,_({},e,{innerProps:o,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var t=this,e=this.components,n=e.Group,r=e.GroupHeading,o=e.Menu,a=e.MenuList,s=e.MenuPortal,u=e.LoadingMessage,l=e.NoOptionsMessage,c=e.Option,h=this.commonProps,f=this.state,p=f.focusedOption,d=f.menuOptions,g=this.props,m=g.captureMenuScroll,y=g.inputValue,v=g.isLoading,b=g.loadingMessage,E=g.minMenuHeight,w=g.maxMenuHeight,S=g.menuIsOpen,x=g.menuPlacement,T=g.menuPosition,C=g.menuPortalTarget,A=g.menuShouldBlockScroll,L=g.menuShouldScrollIntoView,P=g.noOptionsMessage,R=g.onMenuScrollToTop,M=g.onMenuScrollToBottom;if(!S)return null;var k,I=function(e){var n=p===e.data;return e.innerRef=n?t.getFocusedOptionRef:void 0,i.a.createElement(c,_({},h,e,{isFocused:n}),t.formatOptionLabel(e.data,"menu"))};if(this.hasOptions())k=d.render.map((function(e){if("group"===e.type){e.type;var o=O(e,["type"]),a="".concat(e.key,"-heading");return i.a.createElement(n,_({},h,o,{Heading:r,headingProps:{id:a},label:t.formatGroupLabel(e.data)}),e.options.map((function(t){return I(t)})))}if("option"===e.type)return I(e)}));else if(v){var N=b({inputValue:y});if(null===N)return null;k=i.a.createElement(u,h,N)}else{var D=P({inputValue:y});if(null===D)return null;k=i.a.createElement(l,h,D)}var j={minMenuHeight:E,maxMenuHeight:w,menuPlacement:x,menuPosition:T,menuShouldScrollIntoView:L},F=i.a.createElement(G,_({},h,j),(function(e){var n=e.ref,r=e.placerProps,s=r.placement,u=r.maxHeight;return i.a.createElement(o,_({},h,j,{innerRef:n,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:v,placement:s}),i.a.createElement(vt,{isEnabled:m,onTopArrive:R,onBottomArrive:M},i.a.createElement(mt,{isEnabled:A},i.a.createElement(a,_({},h,{innerRef:t.getMenuListRef,isLoading:v,maxHeight:u}),k))))}));return C||"fixed"===T?i.a.createElement(s,_({},h,{appendTo:C,controlElement:this.controlRef,menuPlacement:x,menuPosition:T}),F):F}},{key:"renderFormField",value:function(){var t=this,e=this.props,n=e.delimiter,r=e.isDisabled,o=e.isMulti,a=e.name,s=this.state.selectValue;if(a&&!r){if(o){if(n){var u=s.map((function(e){return t.getOptionValue(e)})).join(n);return i.a.createElement("input",{name:a,type:"hidden",value:u})}var l=s.length>0?s.map((function(e,n){return i.a.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:t.getOptionValue(e)})})):i.a.createElement("input",{name:a,type:"hidden"});return i.a.createElement("div",null,l)}var c=s[0]?this.getOptionValue(s[0]):"";return i.a.createElement("input",{name:a,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?i.a.createElement(it,{"aria-live":"assertive"},i.a.createElement("p",{id:"aria-selection-event"},"\xa0",this.state.ariaLiveSelection),i.a.createElement("p",{id:"aria-context"},"\xa0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var t=this.components,e=t.Control,n=t.IndicatorsContainer,r=t.SelectContainer,o=t.ValueContainer,a=this.props,s=a.className,u=a.id,l=a.isDisabled,c=a.menuIsOpen,h=this.state.isFocused,f=this.commonProps=this.getCommonProps();return i.a.createElement(r,_({},f,{className:s,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:h}),this.renderLiveRegion(),i.a.createElement(e,_({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:h,menuIsOpen:c}),i.a.createElement(o,_({},f,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),i.a.createElement(n,_({},f,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),e}(r.Component);E(zt,"defaultProps",Wt);var Ht={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Yt=function(t){var e,n;return n=e=function(e){function n(){var t,e;y(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return E(C(C(e=A(this,(t=x(n)).call.apply(t,[this].concat(i))))),"select",void 0),E(C(C(e)),"state",{inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue}),E(C(C(e)),"onChange",(function(t,n){e.callProp("onChange",t,n),e.setState({value:t})})),E(C(C(e)),"onInputChange",(function(t,n){var r=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==r?r:t})})),E(C(C(e)),"onMenuOpen",(function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})})),E(C(C(e)),"onMenuClose",(function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})})),e}return S(n,e),b(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(t){return void 0!==this.props[t]?this.props[t]:this.state[t]}},{key:"callProp",value:function(t){if("function"===typeof this.props[t]){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this.props)[t].apply(e,r)}}},{key:"render",value:function(){var e=this,n=this.props,r=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,O(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return i.a.createElement(t,_({},r,{ref:function(t){e.select=t},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(r.Component),E(e,"defaultProps",Ht),n},qt={cacheOptions:!1,defaultOptions:!1,filterOption:null},Xt=function(t){var e,n;return n=e=function(e){function n(t){var e;return y(this,n),E(C(C(e=A(this,x(n).call(this)))),"select",void 0),E(C(C(e)),"lastRequest",void 0),E(C(C(e)),"mounted",!1),E(C(C(e)),"optionsCache",{}),E(C(C(e)),"handleInputChange",(function(t,n){var r=e.props,i=r.cacheOptions,o=function(t,e,n){if(n){var r=n(t,e);if("string"===typeof r)return r}return t}(t,n,r.onInputChange);if(!o)return delete e.lastRequest,void e.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(i&&e.optionsCache[o])e.setState({inputValue:o,loadedInputValue:o,loadedOptions:e.optionsCache[o],isLoading:!1,passEmptyOptions:!1});else{var a=e.lastRequest={};e.setState({inputValue:o,isLoading:!0,passEmptyOptions:!e.state.loadedInputValue},(function(){e.loadOptions(o,(function(t){e.mounted&&(t&&(e.optionsCache[o]=t),a===e.lastRequest&&(delete e.lastRequest,e.setState({isLoading:!1,loadedInputValue:o,loadedOptions:t||[],passEmptyOptions:!1})))}))}))}return o})),e.state={defaultOptions:Array.isArray(t.defaultOptions)?t.defaultOptions:void 0,inputValue:"undefined"!==typeof t.inputValue?t.inputValue:"",isLoading:!0===t.defaultOptions,loadedOptions:[],passEmptyOptions:!1},e}return S(n,e),b(n,[{key:"componentDidMount",value:function(){var t=this;this.mounted=!0;var e=this.props.defaultOptions,n=this.state.inputValue;!0===e&&this.loadOptions(n,(function(e){if(t.mounted){var n=!!t.lastRequest;t.setState({defaultOptions:e||[],isLoading:n})}}))}},{key:"componentWillReceiveProps",value:function(t){t.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),t.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(t.defaultOptions)?t.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(t,e){var n=this.props.loadOptions;if(!n)return e();var r=n(t,e);r&&"function"===typeof r.then&&r.then(e,(function(){return e()}))}},{key:"render",value:function(){var e=this,n=this.props,r=(n.loadOptions,O(n,["loadOptions"])),o=this.state,a=o.defaultOptions,s=o.inputValue,u=o.isLoading,l=o.loadedInputValue,c=o.loadedOptions,h=o.passEmptyOptions?[]:s&&l?c:a||[];return i.a.createElement(t,_({},r,{ref:function(t){e.select=t},options:h,isLoading:u,onInputChange:this.handleInputChange}))}}]),n}(r.Component),E(e,"defaultProps",qt),n},Zt=Yt(zt),Jt=Xt(Zt),Qt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=String(t).toLowerCase(),r=String(e.value).toLowerCase(),i=String(e.label).toLowerCase();return r===n||i===n},$t=w({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,e,n){return!(!t||e.some((function(e){return Qt(t,e)}))||n.some((function(e){return Qt(t,e)})))},getNewOptionData:function(t,e){return{label:e,value:t,__isNew__:!0}}}),te=function(t){var e,n;return n=e=function(e){function n(t){var e;y(this,n),E(C(C(e=A(this,x(n).call(this,t)))),"select",void 0),E(C(C(e)),"onChange",(function(t,n){var r=e.props,i=r.getNewOptionData,o=r.inputValue,a=r.isMulti,s=r.onChange,u=r.onCreateOption,l=r.value;if("select-option"!==n.action)return s(t,n);var c=e.state.newOption,h=Array.isArray(t)?t:[t];if(h[h.length-1]!==c)s(t,n);else if(u)u(o);else{var f=i(o,o),p={action:"create-option"};s(a?[].concat(L(k(l)),[f]):f,p)}}));var r=t.options||[];return e.state={newOption:void 0,options:r},e}return S(n,e),b(n,[{key:"componentWillReceiveProps",value:function(t){var e=t.allowCreateWhileLoading,n=t.createOptionPosition,r=t.formatCreateLabel,i=t.getNewOptionData,o=t.inputValue,a=t.isLoading,s=t.isValidNewOption,u=t.value,l=t.options||[],c=this.state.newOption;c=s(o,k(u),l)?i(o,r(o)):void 0,this.setState({newOption:c,options:!e&&a||!c?l:"first"===n?[c].concat(L(l)):[].concat(L(l),[c])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var e=this,n=_({},this.props),r=this.state.options;return i.a.createElement(t,_({},n,{ref:function(t){e.select=t},options:r,onChange:this.onChange}))}}]),n}(r.Component),E(e,"defaultProps",$t),n},ee=Yt(te(zt)),ne=Yt(te(zt)),re=Xt(ne),ie=function(t){return function(e){e.in,e.onExited,e.appear,e.enter,e.exit;var n=O(e,["in","onExited","appear","enter","exit"]);return i.a.createElement(t,n)}},oe=function(t){var e=t.component,n=t.duration,r=void 0===n?1:n,o=t.in,a=(t.onExited,O(t,["component","duration","in","onExited"])),s={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return i.a.createElement(g.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:o,timeout:r},(function(t){var n={style:w({},s[t])};return i.a.createElement(e,_({innerProps:n},a))}))},ae=function(t){function e(){var t,n;y(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return E(C(C(n=A(this,(t=x(e)).call.apply(t,[this].concat(i))))),"duration",260),E(C(C(n)),"rafID",void 0),E(C(C(n)),"state",{width:"auto"}),E(C(C(n)),"transition",{exiting:{width:0,transition:"width ".concat(n.duration,"ms ease-out")},exited:{width:0}}),E(C(C(n)),"getWidth",(function(t){t&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame((function(){var e=t.getBoundingClientRect().width;n.setState({width:e})})))})),E(C(C(n)),"getStyle",(function(t){return{overflow:"hidden",whiteSpace:"nowrap",width:t}})),E(C(C(n)),"getTransition",(function(t){return n.transition[t]})),n}return S(e,t),b(e,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.in,o=this.state.width;return i.a.createElement(g.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:this.duration},(function(e){var r=w({},t.getStyle(o),t.getTransition(e));return i.a.createElement("div",{ref:t.getWidth,style:r},n)}))}}]),e}(r.Component),se=function(t){return function(e){var n=e.in,r=e.onExited,o=O(e,["in","onExited"]);return i.a.createElement(ae,{in:n,onExited:r},i.a.createElement(t,_({cropWithEllipsis:n},o)))}},ue=function(t){return function(e){return i.a.createElement(oe,_({component:t,duration:e.isMulti?260:1},e))}},le=function(t){return function(e){return i.a.createElement(oe,_({component:t},e))}},ce=function(t){return function(e){return i.a.createElement(g.TransitionGroup,_({component:t},e))}},he=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Vt({components:t}),n=e.Input,r=e.MultiValue,i=e.Placeholder,o=e.SingleValue,a=e.ValueContainer,s=O(e,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return w({Input:ie(n),MultiValue:se(r),Placeholder:ue(i),SingleValue:le(o),ValueContainer:ce(a)},s)},fe=he(),pe=(fe.Input,fe.MultiValue,fe.Placeholder,fe.SingleValue,fe.ValueContainer,a(he,Q)),de=Yt(zt);e.default=de}]]);
//# sourceMappingURL=2.2cc3be70.chunk.js.map