(this["webpackJsonpapp-tacr-agritas"]=this["webpackJsonpapp-tacr-agritas"]||[]).push([[0],{126:function(e,a,t){e.exports=t.p+"static/media/biofyzika_figure1.23a5cef5.png"},127:function(e,a,t){e.exports=t.p+"static/media/biofyzika_figure2.23e5168f.png"},128:function(e,a,t){e.exports=t.p+"static/media/biofyzika_figure3.2b6f916b.png"},129:function(e,a,t){e.exports=t.p+"static/media/biofyzika_figure4.c7e6bfa1.png"},130:function(e,a,t){e.exports=t.p+"static/media/biofyzika_figure5.b91115da.png"},131:function(e,a,t){e.exports=t.p+"static/media/dlouhodoby_normal_figure1.1e78a9dd.png"},132:function(e,a,t){e.exports=t.p+"static/media/phenology.504aa51a.png"},133:function(e,a,t){e.exports=t.p+"static/media/productivity.7267d677.png"},134:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAABPCAYAAABRavg1AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAqbSURBVHjaYmEYBaNgkADd0C36QGoCOXovr/ZxHA3B4Q8AAohlGCV2e2CiPTgapUMaCACxw2gwjAJcACCABmWBBSx8+oGUARGJ2wBNH4i6AEr0wMLr42j0joJRMLwAQAAN1hZWAxAfIKLQwgZAeg4AC6/RQmsUjIJhBgACaFAWWKCCBlTgUKHQSgCadXE0mkfBKKBrD8meTK0XCDUyAAJo0I5hIRVaGxjIG9dAbmmNFlqjYBTQDxwgUx8on+MdhwYIIKbB7GtQoQWd/VlAphEC0EJLfzQNjYJRMPQBQAAxDQVHAgutxNFCaxSMglEAEEBMQ8Wh0EJrApnaRwutUTAKhgEACCCmoeRYYKFVCKQSRgutUTAKRiYACCCmoeZgYKG1cLTQGgWjYGQCgAAakivdQYUWdJHoAjILrQvQJQ8LR5PAoAIfGMifYRoFIwAABBDjUHY8sNCJZyB/MB4ERgutUTAKqJ8v/5Op1YHQ9jqAAGIaygEDLWwcoDUzOWABtNAbBaNgFAwBABBATEPdA9ASOYECI0YLrVEwCoYIAAggpuHgCWChtXG00BoFo2D4A4AAouoYFnT2DdRFU2CAbI3BOFGBATGoegGGqbV1ZnRMi2DcHIDGCT3AAUJnVFEw1oGt0mKkQhjJM0C2ghkMljCiZZghAdCQCsEtbNA9ggcGMh0DBBALFSLZH0gFQDExmcEBjQaZ8QAaEBMoKbwonD2EtbQUgOY0jhZWIwuM8DCCLfcZ9PtuAQKIiczI5QfifCC+D62REiiMaAWoGaDlBvcp6Z5BW0iUtLIagPbPH82Io4XVCC20BvXQCEAAMZERuSAPgVpEE6AFDbWBArSlc5/cYyqg23goabomDIdCazQjjoYRGYXWoB7PBQggJhIiVh6I90NbL/SIXAVoib8e1KIjQ38AtGAdkYXWaEYcDSMKwKAttAACiInIiAU5Hnz08AC4MQDaVSRpOw30ILAACu0eyoXWaEYcDSNKC61Bt4UNIIAIFlhAR9fTsVVFqLVFUqkPHUBsGKGF1mhGHA2jYRc+AAHERKCwmk+FDD+g/WvojN8DCu1OGE4D8aNgFAxVABBATHgKK9DNNQmDtKnqT2qBQwV7QYXWeTLH00bBKBgFVAAAAcSEo7ACtWIKhkv/Grp95wAV7IWdEz9aaI2CUTAAACCAmLAUVmTfvkvn7uEGEgsOanVtRwutUTAKBggABBC2le4LGIbGYKQCtBAqJLaVBV1Rr0DFQms43n2IXrA7MNBudrgBS5wmDMEwIhc8oJPd1HRvAw3tW0AoTAACiBGtdZU/BFpX6MCB2CvqaeC/QXvLNLl7ztD35EFniclJgOTskyN7rxo5ewmpFUaDHdDyfCp62wcQQExIlvAzDJ4ZQVrVHhuobPdo93AUjAI6AoAAQh7DKmAYmutSHIjdwgMsvR9CW0W0KLRGz4kfBaOAxgAggJDHsBKGsD9ArSxiux8LaNDtHb1legQBUIt6IIYBoC15g5Ec9gABxAQNCNC6JoUh7A8H6FlGxIALNHLD6I08Iwc8IGMtIDUKqwNk4mEDAAII1iUMGAZ+IcoP5AwijhZaowBLPG+gYGM+uYWVwUgPeIAAGk4FFild2gM0TsyjhdbIAAHQ1pY9rSwYLaxQAUAAMUEz1nDYBEpKhD6gQw08WmgNfvCBinHdT+3W1mhhhQkAAohpOAUGCTXdAzo4Z7TQGvzAgUqFFgiAZtkvUKu1NVpYYQcAAQQqsBSGkX+IjdwLdHLPkDh2dqQC6IwuNQstBWh811OpABwtrNAAQAAxDbNAIbZr+4HObhq9RmzwF1rUbHU3QE/2GG1dUxkABBATw+ghZvQCo4XW4C60DKjc8jaAdhHrR0OYegAggJhGqL8fDJC9C+i9fmcUEF1ofYS2tKg9XABqbe0f3b5FHQAQQEwjNHE+HCCrQZnhwGiyG/SFFrV3QjgwkHEvwSjABAABxDQaBHQtrIbjcTTDrtACYtCRRaA1VtQc61RgGJ01phgABBATA30HoEcLq1EwVAqujdBChponfNBjqQvsditkPGwAQACxQD0YMIwKBoKAliuTRwurYddFDISOOy5goM4EFa2vhf+Avv0MaNewiROAAGJioN+aJHqAB6Mtq1FAo9YW+ESOIdTSGpYAIICGU4H1gYQaix5rzzaMFlbDqtB6CD1BFbSgk1pbeiaMhixpACCAmKAzZg+GgV9Iqf0UaOyWBcBwDRwtrIZlwTWRgfprtkYBkQAggJiQWgNDHZDiBwcaF1aJo0lr2Le2DBmG5pHiQxoABBDsxNEFDIP7HkKC3UFiCywan9o45AsrLBMSCqPZBGfB1QgMrw3Q/DO6748OACCAmKABf5FhaC9o3EBC94tWM6LDpWV1AA0njGYTvIXWxWHSQxkSACCAkBeOLhjC/iClaU6LAmu0GzgKRgEdAEAAMSHVFAuHaCtrAbFbbaDnvgfQwP7RwmoUjAI6AIAAQt+aM9TGsT6Q6GZqd28SRgurUTAK6AcAAogFvT8ObIVMGEIFVwGxY1fQwXZq+isB2iodBWQCCm4IJsasBtCgOL3sH0TAYQj76wChVfkAAYSx+Rm68XMorDFZQGKBQc2LYkcLq1EwCgYAAAQQrtMaHBgG96boC6S0lqjcuhoqhVXCaPIeBcMNAAQQ1gIL6VygwVhokbM/bwKVWldDpmUFdedgr3hGwSggCQAEEBOeBH9xECZ4kgsr6EJIarQ2hlw3ELprf7TQGgXDBgAEEBOBBE+Ls67JBQfIKKxAXcEFFNoLyuwBQ3XMapBWPKNgFJAFAAKIiYgE/xCa4BcMoDtBMz6OZGwmBnUFFSgsrBygx4sMWTBaaA1agC9PbRjC8UWzsgIggFiITPCggiIRum+K0kKA1C5gAfqBZES2ruIp7ArCCquLwyFnQP0hSEY4gm59aRgtW6gO8A4xQJcYOUB7FgJDLK0lQpcnJFDbbIAAYiLRIbCDzBpoXPo/gEaoIZmFlT6FpfywKqxGwdAqrIZDyxi6oJrqLS2AAGIiwyEfoQvyQK2sAgbqnqV1ARqZiuSOGSFd8T1aWI2CIVtYjRZa2AFAADFR4BhQwTURVLhAW10TGMgbnD8ALfgUoC0qsge3kQorcpvQo4XVKKAVIHvyZrTQQgCAAGKhkqNAAVqIVHDYQwsNAzyF1AdqFgxIhZUBBQlq2BRWoMs7qWSUAg2d2UBDsw8MsP3oYAMlaQtpTIueF8Y8oFL5ABrTusBAhbE4gABiHC7VFzBA5jOQP8h3AVr7PRxG4THQ+8kOQM9AHwWjgGoAIIBYhknmpLSwGr0sYhSMgiEAAAJoyN/8PFpYjYJRMHIAQAAN6QJrtLAaBaNgZAGAABqyBdZoYTUKRsHIAwABNOTGsKgwGzhaWNEHjN7bNwqoDgACaEi1sKhQWB0YLazoAhZAD4IcBaOAqgAggIZMC4sKhdXoZRH0AQSPJh4Fo4BcABBAQ6LAgu4NBG28VhgtrAY1GD06ehTQFAAE0KAvsKCFFahlRe4q2dHCarSwGgXDBAAE0KAusEYLK4rAATratWC0sBoF9AAAATRot+ZAz7Oi5Cz20ZbVKBgFwwwABNCgbGFBC6sFFNb4o4XVKBgFwwwABBgAhRrazK5JP78AAAAASUVORK5CYII="},135:function(e,a,t){e.exports=t.p+"static/media/czechglobe_logo.63fcb4d0.png"},136:function(e,a,t){e.exports=t.p+"static/media/favicon.3082ed7f.ico"},140:function(e,a,t){e.exports=t(318)},275:function(e,a,t){},276:function(e,a,t){},308:function(e,a,t){},318:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(26),r=t.n(o),i=t(2),s=t(118),c=t.n(s),d=t(10),v=t(119),u=t(4),p=t(35).utils.deepKeyMirror(Object(u.a)({},i.commonActionTypesDefinitions,{},{TACR_AGRITAS_DATA:{ADD:null}})),m=Object(u.a)({},i.DEFAULT_INITIAL_STATE),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.TACR_AGRITAS_DATA.ADD:return i.commonReducers.add(e,a);default:return e}},y=t(24),f=t(3),g=t.n(f),b=function(e){return e.specific.tacrAgritasData},k=i.commonSelectors.getAllAsObject(b),A=i.commonSelectors.getByKey(b),E={getSubstate:b,getFeaturesForActiveMetadata:Object(y.createSelector)([k,i.placesSelectors.getActiveKey,i.scopesSelectors.getActiveKey,i.periodsSelectors.getActiveKey,i.casesSelectors.getActiveKey],(function(e,a,t,n,l){var o=e["".concat(a,"_").concat(t,"_").concat(n)];return o&&o.data&&o.data.features?g.a.filter(o.data.features,(function(e){return e.properties.CROP_LABEL===l})):null})),getByKey:A},z=function(e,a,t,n){if(e&&a&&t&&n){var l=n[a]&&n[a][t]&&Object.keys(n[a][t]);return g.a.filter(e,(function(e){return g.a.includes(l,e.key)}))}return null},B=Object(y.createSelector)([i.Select.periods.getAll,i.Select.places.getActiveKey,i.Select.scopes.getActiveKey,function(e){return i.Select.app.getConfiguration(e,"resources")}],z),j=Object(y.createSelector)([i.Select.periods.getAll,i.Select.places.getActiveKey,function(e,a){return a},function(e){return i.Select.app.getConfiguration(e,"resources")}],z),S=Object(y.createSelector)([i.Select.scopes.getAll,i.Select.places.getActiveKey,function(e){return i.Select.app.getConfiguration(e,"resources")}],(function(e,a,t){if(e&&a&&t){var n=t[a]&&Object.keys(t[a]);return g.a.filter(e,(function(e){return g.a.includes(n,e.key)}))}return null})),N=Object(y.createSelector)([i.Select.scopes.getActiveKey,i.Select.places.getActiveKey,i.Select.periods.getActiveKey,function(e){return i.Select.app.getConfiguration(e,"rasters")}],(function(e,a,t,n){return e&&a&&t&&n?n[a]&&n[a][e]&&n[a][e][t]:null})),C=Object(u.a)({},i.Select,{specific:{tacrAgritas:{getPeriodsForScope:j,getPeriodsForActiveScope:B,getScopesForActivePlace:S,getRastersForActiveMetadata:N},tacrAgritasData:E}}),D=t(16),I="http://project.gisat.cz/agritas/static/data/",O="http://45.56.96.184:8965/geoserver/agritas/wms";"gisat.github.io"===window.location.hostname?(I="https://cors-anywhere.herokuapp.com/http://project.gisat.cz/agritas/static/data/",O="http://45.56.96.184:8965/geoserver/agritas/wms/http://project.gisat.cz/agritas/static/data/"):"localhost"===window.location.hostname&&(I="http://localhost:3031/agritas/static/data/",O="http://localhost:3032/geoserver/agritas/wms");var w={requestPageSize:100,tacrAgritasDataRepositoryUrl:I,tacrAgritasGeoserverWmsUrl:O},M=g.a.merge({},D.configDefaults,w),T=t(120),K=t.n(T),P=t(41),x=t.n(P);var V={fillStyleTemplate:function(e){return{key:"test",data:{nameDisplay:"",source:"definition",definition:{rules:[{styles:[e]}]}}}},request:function(e,a,t,n){return t&&(e+="?"+K.a.stringify(t)),x()(e,{method:a,body:n?JSON.stringify(n):null}).then((function(e){e.headers.get("Content-type");if(e.ok)return e.json().then((function(e){if(e)return e;throw new Error("no data returned")}));throw new Error("response error")}),(function(e){throw e}))}},_={add:i.commonActions.add(p.TACR_AGRITAS_DATA)},L=Object(u.a)({},i.Action,{specific:{tacrAgritas:{changeAppView:function(){return function(e,a){var t=a(),n=C.app.getConfiguration(t,"resources"),l=C.places.getActiveKey(t),o=C.periods.getActiveKey(t),r=C.scopes.getActiveKey(t);if(n&&l&&o&&r){var i=n[l][r][o],s="".concat(l,"_").concat(r,"_").concat(o),c=C.specific.tacrAgritasData.getByKey(t,s);if(i&&!c){var d=M.tacrAgritasDataRepositoryUrl+i;V.request(d,"GET",null,null).then((function(a){if(!a)throw new Error("No data returned or no features found");e(_.add([{key:s,data:a}]))}))}}}},setActiveScope:function(e){return function(a,t){var n=i.Select.periods.getActiveKey(t()),l=C.specific.tacrAgritas.getPeriodsForScope(t(),e);if(l){var o=l.map((function(e){return e.key}));g.a.includes(o,n)||a(i.Action.periods.setActiveKey(o[o.length-1]))}a(i.Action.scopes.setActiveKey(e))}}},tacrAgritasData:_}}),R=(t(273),t(274),t(275),t(11)),F=t(12),G=t(18),Q=t(19),Y=t(20),W=t(7),H=t(27),U=t.n(H),Z=(t(276),t(15)),q=t(13),J=t.n(q),X=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(G.a)(this,Object(Q.a)(a).call(this,e))).ref=l.a.createRef(),t.state={fixedHeaderOpen:!1},t.onCaseChange=t.onCaseChange.bind(Object(W.a)(t)),t.onPeriodChange=t.onPeriodChange.bind(Object(W.a)(t)),t.onScopeChange=t.onScopeChange.bind(Object(W.a)(t)),window.addEventListener("scroll",t.onWindowScroll.bind(Object(W.a)(t))),t}return Object(Y.a)(a,e),Object(F.a)(a,[{key:"onWindowScroll",value:function(e){var a=e.currentTarget.scrollY>(this.ref&&this.ref.current&&this.ref.current.offsetHeight)-100;a!==this.state.fixedHeaderOpen&&this.setState({fixedHeaderOpen:a})}},{key:"onCaseChange",value:function(e){this.props.onCaseChange(e.key)}},{key:"onPeriodChange",value:function(e){this.props.onPeriodChange(e.key)}},{key:"onScopeChange",value:function(e){this.props.onScopeChange(e.key),setTimeout((function(){document.querySelector("#tacrAgritas-content").scrollIntoView({behavior:"smooth",block:"start"})}),500)}},{key:"render",value:function(){var e=this.props,a=U()("tacrAgritas-fixed-header",{open:this.state.fixedHeaderOpen});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tacrAgritas-header",ref:this.ref},l.a.createElement(J.a,{cascade:!0,left:!0,distance:"50px",duration:500,delay:200},l.a.createElement("div",{className:"tacrAgritas-header-content"},e.place?this.renderTitle(!0):null,e.cases&&e.scopes&&e.periods?this.renderSelections():null))),l.a.createElement("div",{className:a},l.a.createElement("div",{className:"tacrAgritas-fixed-header-content"},e.place?this.renderTitle():null,e.cases&&e.scopes&&e.periods?this.renderSelections():null)))}},{key:"renderTitle",value:function(e){return l.a.createElement("h1",{className:"tacrAgritas-title"},this.props.place.data.nameInternal&&e?this.props.place.data.nameInternal:this.props.place.data.nameDisplay)}},{key:"renderSelections",value:function(){var e=this.props;return l.a.createElement("div",{className:"tacrAgritas-selections"},e.scopes?this.renderSelection("Monitoring",this.props.scopes,this.props.availableScopes,this.props.activeScope,this.onScopeChange,"monitoring"):null,e.periods?this.renderSelection("Sez\xf3na",this.props.periods,this.props.availablePeriods,this.props.activePeriod,this.onPeriodChange,"calendar"):null,e.cases?this.renderSelection("Plodiny",this.props.cases,this.props.cases,this.props.activeCase,this.onCaseChange,"crop"):null)}},{key:"renderSelection",value:function(e,a,t,n,o,r){var i=[];return a.forEach((function(e){var a=!!g.a.find(t,(function(a){return a.key===e.key}));i.push(Object(u.a)({},e,{isDisabled:!a}))})),l.a.createElement("div",{className:"tacrAgritas-header-select-container"},l.a.createElement(Z.Select,{formatOptionLabel:this.formatOptionLabel.bind(this,e,r),className:"tacrAgritas-header-select",value:n,optionLabel:"data.nameDisplay",optionValue:"key",options:i,onChange:o}))}},{key:"formatOptionLabel",value:function(e,a,t){var n=U()("tacrAgritas-header-select-value-container",{disabled:t.isDisabled});return l.a.createElement("div",{className:n},l.a.createElement("div",{className:"tacrAgritas-header-select-label"},l.a.createElement(Z.Icon,{icon:a}),l.a.createElement("div",null,e)),l.a.createElement("div",{className:"tacrAgritas-header-select-value"},t.data.nameDisplay))}}]),a}(l.a.PureComponent),$=Object(i.connect)((function(e,a){return{cases:C.cases.getAll(e),activeCase:C.cases.getActive(e),place:C.places.getActive(e),periods:C.periods.getAll(e),availablePeriods:C.specific.tacrAgritas.getPeriodsForActiveScope(e),activePeriod:C.periods.getActive(e),scopes:C.scopes.getAll(e),availableScopes:C.specific.tacrAgritas.getScopesForActivePlace(e),activeScope:C.scopes.getActive(e)}}),(function(e,a){return{onCaseChange:function(a){e(L.cases.setActiveKey(a))},onPeriodChange:function(a){e(L.periods.setActiveKey(a)),e(L.specific.tacrAgritas.changeAppView())},onScopeChange:function(a){e(L.specific.tacrAgritas.setActiveScope(a)),e(L.specific.tacrAgritas.changeAppView())}}}))(X),ee=t(59),ae=t.n(ee),te=t(6),ne=t.n(te),le=t(37),oe=t(14),re={rules:[{styles:[{outlineColor:"#ff66b3",outlineWidth:4}]}]},ie={rules:[{styles:[{outlineColor:"#ff00ff",outlineWidth:4}]}]},se=V.fillStyleTemplate({outlineWidth:2,outlineColor:"#000000",fillOpacity:0}),ce=V.fillStyleTemplate({attributeKey:"AMPLITUDE",attributeClasses:[{interval:[0,2e3],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[2e3,2500],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[2500,3e3],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[3e3,3500],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[3500,4e3],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[4e3,4500],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[4500,5e3],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[5e3,5500],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[5500,6e3],intervalBounds:[!1,!0],fill:"#356120"},{interval:[6e3,1e4],intervalBounds:[!1,!0],fill:"#104510"}]}),de=V.fillStyleTemplate({attributeKey:"BASE_GRW",attributeClasses:[{interval:[0,2e3],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[2e3,2500],intervalBounds:[!1,!0],fill:"#80421f"},{interval:[2500,3e3],intervalBounds:[!1,!0],fill:"#9e7337"},{interval:[3e3,3500],intervalBounds:[!1,!0],fill:"#bdad55"},{interval:[3500,4e3],intervalBounds:[!1,!0],fill:"#aeb858"},{interval:[4e3,4500],intervalBounds:[!1,!0],fill:"#708c3b"},{interval:[4500,5e3],intervalBounds:[!1,!0],fill:"#3f6925"},{interval:[5e3,1e4],intervalBounds:[!1,!0],fill:"#104510"}]}),ve=V.fillStyleTemplate({attributeKey:"BASE_SEN",attributeClasses:[{interval:[0,1e3],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[1e3,1500],intervalBounds:[!1,!0],fill:"#80421f"},{interval:[1500,2e3],intervalBounds:[!1,!0],fill:"#9e7337"},{interval:[2e3,2500],intervalBounds:[!1,!0],fill:"#bdad55"},{interval:[2500,3e3],intervalBounds:[!1,!0],fill:"#aeb858"},{interval:[3e3,3500],intervalBounds:[!1,!0],fill:"#708c3b"},{interval:[3500,4e3],intervalBounds:[!1,!0],fill:"#3f6925"},{interval:[4e3,1e4],intervalBounds:[!1,!0],fill:"#104510"}]}),ue=V.fillStyleTemplate({attributeKey:"CLIMAX_DOY",attributeClasses:[{interval:[0,100],intervalBounds:[!1,!0],fill:"#709959"},{interval:[101,115],intervalBounds:[!0,!0],fill:"#a9bf78"},{interval:[116,130],intervalBounds:[!0,!0],fill:"#e7e89b"},{interval:[131,145],intervalBounds:[!0,!0],fill:"#f2e599"},{interval:[146,160],intervalBounds:[!0,!0],fill:"#f2d58d"},{interval:[161,175],intervalBounds:[!0,!0],fill:"#e6bb83"},{interval:[176,190],intervalBounds:[!0,!0],fill:"#d19f82"},{interval:[191,205],intervalBounds:[!0,!0],fill:"#c99389"},{interval:[206,220],intervalBounds:[!0,!0],fill:"#e6bec9"},{interval:[220,365],intervalBounds:[!0,!0],fill:"#fff2ff"}]}),pe=V.fillStyleTemplate({attributeKey:"CLIMAX_VI",attributeClasses:[{interval:[0,5e3],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[5e3,5500],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[5500,6e3],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[6e3,6500],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[6500,7e3],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[7e3,7500],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[7500,8e3],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[8e3,8500],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[8500,9e3],intervalBounds:[!1,!0],fill:"#356120"},{interval:[9e3,1e4],intervalBounds:[!1,!0],fill:"#104510"}]}),me=V.fillStyleTemplate({attributeKey:"EOS",attributeClasses:[{interval:[0,180],intervalBounds:[!1,!0],fill:"#709959"},{interval:[181,195],intervalBounds:[!0,!0],fill:"#a9bf78"},{interval:[196,210],intervalBounds:[!0,!0],fill:"#e7e89b"},{interval:[211,225],intervalBounds:[!0,!0],fill:"#f2e599"},{interval:[226,240],intervalBounds:[!0,!0],fill:"#f2d58d"},{interval:[241,255],intervalBounds:[!0,!0],fill:"#e6bb83"},{interval:[256,270],intervalBounds:[!0,!0],fill:"#d19f82"},{interval:[271,285],intervalBounds:[!0,!0],fill:"#c99389"},{interval:[286,300],intervalBounds:[!0,!0],fill:"#e6bec9"},{interval:[301,365],intervalBounds:[!0,!0],fill:"#fff2ff"}]}),he=V.fillStyleTemplate({attributeKey:"GRW_DOY",attributeClasses:[{interval:[0,90],intervalBounds:[!1,!0],fill:"#709959"},{interval:[91,105],intervalBounds:[!0,!0],fill:"#a9bf78"},{interval:[106,120],intervalBounds:[!0,!0],fill:"#e7e89b"},{interval:[121,135],intervalBounds:[!0,!0],fill:"#f2e599"},{interval:[136,150],intervalBounds:[!0,!0],fill:"#f2d58d"},{interval:[151,165],intervalBounds:[!0,!0],fill:"#e6bb83"},{interval:[166,180],intervalBounds:[!0,!0],fill:"#d19f82"},{interval:[181,195],intervalBounds:[!0,!0],fill:"#c99389"},{interval:[196,210],intervalBounds:[!0,!0],fill:"#e6bec9"},{interval:[211,365],intervalBounds:[!0,!0],fill:"#fff2ff"}]}),ye=V.fillStyleTemplate({attributeKey:"GRW_RATE",attributeClasses:[{interval:[0,50],intervalBounds:[!1,!0],fill:"#61391b"},{interval:[50,100],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[100,150],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[150,200],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[200,250],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[250,300],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[300,350],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[350,400],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[400,450],intervalBounds:[!1,!0],fill:"#356120"},{interval:[450,999],intervalBounds:[!1,!0],fill:"#104510"}]}),fe=V.fillStyleTemplate({attributeKey:"LINT_GRW",attributeClasses:[{interval:[0,1e3],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[1e3,1500],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[1500,2e3],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[2e3,2500],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[2500,3e3],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[3e3,3500],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[3500,4e3],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[4e3,4500],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[4500,5e3],intervalBounds:[!1,!0],fill:"#356120"},{interval:[5e3,1e4],intervalBounds:[!1,!0],fill:"#104510"}]}),ge=V.fillStyleTemplate({attributeKey:"LINT_SEN",attributeClasses:[{interval:[0,1e3],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[1e3,1500],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[1500,2e3],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[2e3,2500],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[2500,3e3],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[3e3,3500],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[3500,4e3],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[4e3,4500],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[4500,5e3],intervalBounds:[!1,!0],fill:"#356120"},{interval:[5e3,1e4],intervalBounds:[!1,!0],fill:"#104510"}]}),be=V.fillStyleTemplate({attributeKey:"LINT_TOT",attributeClasses:[{interval:[0,3e3],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[3e3,3500],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[3500,4e3],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[4e3,4500],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[4500,5e3],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[5e3,5500],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[5500,6e3],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[6e3,6500],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[6500,7e3],intervalBounds:[!1,!0],fill:"#356120"},{interval:[7e3,1e4],intervalBounds:[!1,!0],fill:"#104510"}]}),ke=V.fillStyleTemplate({attributeKey:"LOS_GRW",attributeClasses:[{interval:[0,20],intervalBounds:[!1,!0],fill:"#709959"},{interval:[21,30],intervalBounds:[!0,!0],fill:"#bbcc83"},{interval:[31,40],intervalBounds:[!0,!0],fill:"#f2eaa0"},{interval:[41,50],intervalBounds:[!0,!0],fill:"#f2d88f"},{interval:[51,60],intervalBounds:[!0,!0],fill:"#e3b684"},{interval:[61,70],intervalBounds:[!0,!0],fill:"#c7927d"},{interval:[71,80],intervalBounds:[!0,!0],fill:"#e0b1b8"},{interval:[81,365],intervalBounds:[!0,!0],fill:"#fff2ff"}]}),Ae=V.fillStyleTemplate({attributeKey:"LOS_TOT",attributeClasses:[{interval:[0,60],intervalBounds:[!1,!0],fill:"#709959"},{interval:[61,75],intervalBounds:[!0,!0],fill:"#a9bf78"},{interval:[76,90],intervalBounds:[!0,!0],fill:"#e7e89b"},{interval:[91,105],intervalBounds:[!0,!0],fill:"#f2e599"},{interval:[106,120],intervalBounds:[!0,!0],fill:"#f2d58d"},{interval:[121,135],intervalBounds:[!0,!0],fill:"#e6bb83"},{interval:[136,150],intervalBounds:[!0,!0],fill:"#d19f82"},{interval:[151,165],intervalBounds:[!0,!0],fill:"#c99389"},{interval:[166,180],intervalBounds:[!0,!0],fill:"#e6bec9"},{interval:[180,365],intervalBounds:[!0,!0],fill:"#fff2ff"}]}),Ee=V.fillStyleTemplate({attributeKey:"LOS_SEN",attributeClasses:[{interval:[0,40],intervalBounds:[!1,!0],fill:"#709959"},{interval:[41,50],intervalBounds:[!0,!0],fill:"#bbcc83"},{interval:[51,60],intervalBounds:[!0,!0],fill:"#f2eaa0"},{interval:[61,70],intervalBounds:[!0,!0],fill:"#f2d88f"},{interval:[71,80],intervalBounds:[!0,!0],fill:"#e3b684"},{interval:[81,90],intervalBounds:[!0,!0],fill:"#c7927d"},{interval:[91,100],intervalBounds:[!0,!0],fill:"#e0b1b8"},{interval:[101,365],intervalBounds:[!0,!0],fill:"#fff2ff"}]}),ze=V.fillStyleTemplate({attributeKey:"SEN_DOY",attributeClasses:[{interval:[0,150],intervalBounds:[!1,!0],fill:"#709959"},{interval:[151,165],intervalBounds:[!0,!0],fill:"#a9bf78"},{interval:[166,180],intervalBounds:[!0,!0],fill:"#e7e89b"},{interval:[181,195],intervalBounds:[!0,!0],fill:"#f2e599"},{interval:[196,210],intervalBounds:[!0,!0],fill:"#f2d58d"},{interval:[211,225],intervalBounds:[!0,!0],fill:"#e6bb83"},{interval:[226,240],intervalBounds:[!0,!0],fill:"#d19f82"},{interval:[241,255],intervalBounds:[!0,!0],fill:"#c99389"},{interval:[256,270],intervalBounds:[!0,!0],fill:"#e6bec9"},{interval:[271,365],intervalBounds:[!0,!0],fill:"#fff2ff"}]}),Be=V.fillStyleTemplate({attributeKey:"SEN_RATE",attributeClasses:[{interval:[-999,-450],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[-450,-400],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[-400,-350],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[-350,-300],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[-300,-250],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[-250,-200],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[-200,-150],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[-150,-100],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[-100,-50],intervalBounds:[!1,!0],fill:"#356120"},{interval:[-50,0],intervalBounds:[!1,!0],fill:"#104510"}]}),je=V.fillStyleTemplate({attributeKey:"SINT_GRW",attributeClasses:[{interval:[0,500],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[500,750],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[750,1e3],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[1e3,1250],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[1250,1500],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[1500,1750],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[1750,2e3],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[2e3,2250],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[2250,2500],intervalBounds:[!1,!0],fill:"#356120"},{interval:[2500,4e3],intervalBounds:[!1,!0],fill:"#104510"}]}),Se=V.fillStyleTemplate({attributeKey:"SINT_SEN",attributeClasses:[{interval:[0,500],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[500,750],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[750,1e3],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[1e3,1250],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[1250,1500],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[1500,1750],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[1750,2e3],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[2e3,2250],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[2250,2500],intervalBounds:[!1,!0],fill:"#356120"},{interval:[2500,4e3],intervalBounds:[!1,!0],fill:"#104510"}]}),Ne=V.fillStyleTemplate({attributeKey:"SINT_TOT",attributeClasses:[{interval:[0,1e3],intervalBounds:[!1,!0],fill:"#61150d"},{interval:[1e3,1500],intervalBounds:[!1,!0],fill:"#7a391b"},{interval:[1500,2e3],intervalBounds:[!1,!0],fill:"#915d2c"},{interval:[2e3,2500],intervalBounds:[!1,!0],fill:"#a88640"},{interval:[2500,3e3],intervalBounds:[!1,!0],fill:"#c2b659"},{interval:[3e3,3500],intervalBounds:[!1,!0],fill:"#b5bd5b"},{interval:[3500,4e3],intervalBounds:[!1,!0],fill:"#849c44"},{interval:[4e3,4500],intervalBounds:[!1,!0],fill:"#5b7d31"},{interval:[4500,5e3],intervalBounds:[!1,!0],fill:"#356120"},{interval:[5e3,1e4],intervalBounds:[!1,!0],fill:"#104510"}]}),Ce=V.fillStyleTemplate({attributeKey:"SOS",attributeClasses:[{interval:[0,90],intervalBounds:[!1,!0],fill:"#709959"},{interval:[90,100],intervalBounds:[!0,!0],fill:"#a9bf78"},{interval:[101,110],intervalBounds:[!0,!0],fill:"#e7e89b"},{interval:[111,120],intervalBounds:[!0,!0],fill:"#f2e599"},{interval:[121,130],intervalBounds:[!0,!0],fill:"#f2d58d"},{interval:[131,140],intervalBounds:[!0,!0],fill:"#e6bb83"},{interval:[141,150],intervalBounds:[!0,!0],fill:"#d19f82"},{interval:[151,160],intervalBounds:[!0,!0],fill:"#c99389"},{interval:[161,170],intervalBounds:[!0,!0],fill:"#e6bec9"},{interval:[171,365],intervalBounds:[!0,!0],fill:"#fff2ff"}]}),De={cartoDbLight:{key:"cartoDbBasemap",type:"wmts",options:{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"}},cartoDbVoyagerLight:{key:"cartoDbBasemap",type:"wmts",options:{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager_labels_under/{z}/{x}/{y}.png"}}},Ie=[{key:"0301_0310",label:"1. - 10. b\u0159ezna"},{key:"0311_0320",label:"11. - 20. b\u0159ezna"},{key:"0321_0331",label:"21. - 31. b\u0159ezna"},{key:"0401_0410",label:"1. - 10. dubna"},{key:"0411_0420",label:"11. - 20. dubna"},{key:"0421_0430",label:"21. - 30. dubna"},{key:"0501_0510",label:"1. - 10. kv\u011btna"},{key:"0511_0520",label:"11. - 20. kv\u011btna"},{key:"0521_0531",label:"21. - 31. kv\u011btna"},{key:"0601_0610",label:"1. - 10. \u010dervna"},{key:"0611_0620",label:"11. - 20. \u010dervna"},{key:"0621_0630",label:"21. - 30. \u010dervna"},{key:"0701_0710",label:"1. - 10. \u010dervence"},{key:"0711_0720",label:"11. - 20. \u010dervence"},{key:"0721_0731",label:"21. - 31. \u010dervence"},{key:"0801_0810",label:"1. - 10. srpna"},{key:"0811_0820",label:"11. - 20. srpna"},{key:"0821_0831",label:"21. - 31. srpna"},{key:"0901_0910",label:"1. - 10. z\xe1\u0159\xed"},{key:"0911_0920",label:"11. - 20. z\xe1\u0159\xed"},{key:"0921_0930",label:"21. - 30. z\xe1\u0159\xed"},{key:"1001_1010",label:"1. - 10. \u0159\xedjna"},{key:"1011_1020",label:"11. - 20. \u0159\xedjna"},{key:"1021_1031",label:"21. - 31. \u0159\xedjna"}],Oe=[{key:"0301_0315",label:"1. - 15. b\u0159ezna"},{key:"0316_0331",label:"16. - 31. b\u0159ezna"},{key:"0401_0415",label:"1. - 15. dubna"},{key:"0416_0430",label:"16. - 30. dubna"},{key:"0501_0515",label:"1. - 15. kv\u011btna"},{key:"0516_0531",label:"16. - 31. kv\u011btna"},{key:"0601_0615",label:"1. - 15. \u010dervna"},{key:"0615_0630",label:"16. - 30. \u010dervna"},{key:"0701_0715",label:"1. - 15. \u010dervence"},{key:"0716_0731",label:"16. - 31. \u010dervence"},{key:"0801_0815",label:"1. - 15. srpna"},{key:"0816_0831",label:"16. - 31. srpna"},{key:"0901_0915",label:"1. - 15. z\xe1\u0159\xed"},{key:"0916_0930",label:"16. - 30. z\xe1\u0159\xed"},{key:"1001_1015",label:"1. - 15. \u0159\xedjna"},{key:"1016_1031",label:"16. - 31. \u0159\xedjna"}],we=[{key:"SOS",name:"Datum za\u010d\xe1tku vegeta\u010dn\xed sez\xf3ny",longName:"Datum za\u010d\xe1tku vegeta\u010dn\xed sez\xf3ny (SOS)",unit:"DOY",style:Ce},{key:"EOS",name:"Datum konce vegeta\u010dn\xed sez\xf3ny",longName:"Datum konce vegeta\u010dn\xed sez\xf3ny (EOS)",unit:"DOY",style:me},{key:"LOS_GRW",name:"D\xe9lka r\u016fstov\xe9 f\xe1ze",longName:"D\xe9lka r\u016fstov\xe9 f\xe1ze (LOS_GRW)",unit:"dny",style:ke},{key:"LOS_SEN",name:"D\xe9lka senescen\u010dn\xed f\xe1ze",longName:"D\xe9lka senescen\u010dn\xed f\xe1ze (LOS_SEN)",unit:"dny",style:Ee},{key:"LOS_TOT",name:"Celkov\xe1 d\xe9lka vegeta\u010dn\xed sez\xf3ny",longName:"Celkov\xe1 d\xe9lka vegeta\u010dn\xed sez\xf3ny (LOS_TOT)",unit:"dny",style:Ae},{key:"BASE_GRW",name:"Po\u010d\xe1te\u010dn\xed \xfarove\u0148 (baseline) r\u016fstov\xe9 f\xe1ze ",longName:"Po\u010d\xe1te\u010dn\xed \xfarove\u0148 (baseline) r\u016fstov\xe9 f\xe1ze (BASE_GRW)",unit:"NDVI",style:de},{key:"BASE_SEN",name:"Koncov\xe1 \xfarove\u0148 (baseline) senescen\u010dn\xed f\xe1ze",longName:"Koncov\xe1 \xfarove\u0148 (baseline) senescen\u010dn\xed f\xe1ze (BASE_SEN)",unit:"NDVI",style:ve},{key:"CLIMAX_DOY",name:"Datum maxima vegeta\u010dn\xed sez\xf3ny",longName:"Datum maxima vegeta\u010dn\xed sez\xf3ny (CLIM_DOY)",unit:"DOY",style:ue},{key:"CLIMAX_VI",name:"Maxim\xe1ln\xed dosa\u017een\xe1 hodnota NDVI",longName:"Maxim\xe1ln\xed dosa\u017een\xe1 hodnota NDVI (CLIMAX_VI)",unit:"MDVI",style:pe},{key:"AMPLITUDE",name:"Sez\xf3nn\xed amplituda NDVI",longName:"Sez\xf3nn\xed amplituda NDVI (AMPLITUDE)",unit:"NDVI",style:ce},{key:"GRW_DOY",name:"Datum maxim\xe1ln\xed rychlosti n\xe1r\u016fstu NDVI v r\u016fstov\xe9 f\xe1zi",longName:"Datum maxim\xe1ln\xed rychlosti n\xe1r\u016fstu NDVI v r\u016fstov\xe9 f\xe1zi (GRW_DOY)",unit:"DOY",style:he},{key:"GRW_RATE",name:"Hodnota maxim\xe1ln\xed rychlosti n\xe1r\u016fstu NDVI v r\u016fstov\xe9 f\xe1zi",longName:"Hodnota maxim\xe1ln\xed rychlosti n\xe1r\u016fstu NDVI v r\u016fstov\xe9 f\xe1zi (GRW_RATE)",unit:"",style:ye},{key:"SEN_DOY",name:"Datum maxim\xe1ln\xed rychlosti poklesu NDVI v senescen\u010dn\xed f\xe1zi",longName:"Datum maxim\xe1ln\xed rychlosti poklesu NDVI v senescen\u010dn\xed f\xe1zi (SEN_DOY)",unit:"DOY",style:ze},{key:"SEN_RATE",name:"Hodnota maxim\xe1ln\xed rychlosti pokledu NDVI v senescen\u010dn\xed f\xe1zi",longName:"Hodnota maxim\xe1ln\xed rychlosti pokledu NDVI v senescen\u010dn\xed f\xe1zi (SEN_RATE)",unit:"",style:Be},{key:"LINT_GRW",name:"Gross productivity r\u016fstov\xe9 f\xe1ze",longName:"Gross productivity r\u016fstov\xe9 f\xe1ze (LINT_GRW)",unit:"",style:fe},{key:"LINT_SEN",name:"Gross productivity senescen\u010dn\xed f\xe1ze",longName:"Gross productivity senescen\u010dn\xed f\xe1ze (LINT_SEN)",unit:"",style:ge},{key:"LINT_TOT",name:"Gross productivity - celkov\xe1",longName:"Gross productivity - celkov\xe1 (LINT_TOT)",unit:"",style:be},{key:"SINT_GRW",name:"Net productivity r\u016fstov\xe9 f\xe1ze",longName:"Net productivity r\u016fstov\xe9 f\xe1ze (SINT_GRW)",unit:"",style:je},{key:"SINT_SEN",name:"Net productivity senescen\u010dn\xed f\xe1ze",longName:"Net productivity senescen\u010dn\xed f\xe1ze (SINT_SEN)",unit:"",style:Se},{key:"SINT_TOT",name:"Net productivity - celkov\xe1",longName:"Net productivity - celkov\xe1 (SINT_TOT)",unit:"",style:Ne}],Me=function(e){var a,t,n,o=e.data;if(o.value||0===o.value){a=o.value.toLocaleString();var r=ne()(o.date),i=ne()(o.dateEnd);o.xOptions.popupValueFormat?(r=r.format(o.xOptions.popupValueFormat),i=i.format(o.xOptions.popupValueFormat)):(r=r.format(),i=i.format()),t=r,n=i}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ptr-popup-header"},o.name),o.value||0===o.value?l.a.createElement("div",{className:"ptr-popup-record-group"},l.a.createElement("div",{className:"ptr-popup-record"},l.a.createElement("div",{className:"ptr-popup-record-attribute"},t+" - "+n),l.a.createElement("div",{className:"ptr-popup-record-value-group"},l.a.createElement("span",{className:"value"},a),o.yOptions&&o.yOptions.unit?l.a.createElement("span",{className:"unit"},o.yOptions.unit):null))):null)},Te=function(e){var a={borderColor:ie.rules[0].styles[0].outlineColor};return l.a.createElement("div",{className:"tacrAgritas-map-info"},l.a.createElement("div",{className:"tacrAgritas-map-info-selected"},l.a.createElement("div",{className:"tacrAgritas-map-info-selected-icon",style:a}),l.a.createElement("div",{className:"tacrAgritas-map-info-selected-text"},"Vybran\xfd p\u016fdn\xed blok: ",l.a.createElement("b",null,e.selectedAreaName))),l.a.createElement("div",null,"Aktu\xe1ln\u011b p\u011bstovan\xe1 plodina: ",l.a.createElement("b",null,e.cropName)),l.a.createElement("div",null,"Klimatick\xfd region: ",l.a.createElement("b",null," ",e.selectedAreaClimRegion)))},Ke=function(e){var a=e.style&&e.style.data.definition.rules[0].styles[0].attributeClasses,t=e.style&&e.style.data.definition.rules[0].styles[0].attributeValues;return a?l.a.createElement("div",{className:"tacrAgritas-map-legend"},l.a.createElement("div",{className:"tacrAgritas-map-legend-title"},l.a.createElement("span",{className:"tacrAgritas-map-legend-attribute"},e.name),e.unit&&e.unit.length?l.a.createElement("span",null,"(",e.unit,"):"):":"),l.a.createElement("div",{className:"tacrAgritas-map-legend-content"},a.map((function(e,a){return l.a.createElement("div",{className:"tacrAgritas-map-legend-item",key:a},l.a.createElement("div",{className:"tacrAgritas-map-legend-symbol",style:{background:e.fill}}),l.a.createElement("div",{className:"tacrAgritas-map-legend-text"},"".concat(e.interval[0]," - ").concat(e.interval[1])))})),e.noData?l.a.createElement("div",{className:"tacrAgritas-map-legend-item"},l.a.createElement("div",{className:"tacrAgritas-map-legend-symbol",style:{background:"#ffffff"}}),l.a.createElement("div",{className:"tacrAgritas-map-legend-text"},"No data")):null)):t?l.a.createElement("div",{className:"tacrAgritas-map-legend"},l.a.createElement("div",{className:"tacrAgritas-map-legend-title"},l.a.createElement("span",{className:"tacrAgritas-map-legend-attribute"},e.name),e.unit&&e.unit.length?l.a.createElement("span",null,"(",e.unit,"):"):":"),l.a.createElement("div",{className:"tacrAgritas-map-legend-content"},t.map((function(e,a){return l.a.createElement("div",{className:"tacrAgritas-map-legend-item",key:a},l.a.createElement("div",{className:"tacrAgritas-map-legend-symbol",style:{background:e.fill}}),l.a.createElement("div",{className:"tacrAgritas-map-legend-text"},"".concat(e.value)))})),e.noData?l.a.createElement("div",{className:"tacrAgritas-map-legend-item"},l.a.createElement("div",{className:"tacrAgritas-map-legend-symbol",style:{background:"#ffffff"}}),l.a.createElement("div",{className:"tacrAgritas-map-legend-text"},"No data")):null)):null},Pe=function(e){var a=e.data&&e.data[0]&&e.data[0].data,t=a&&a.NKOD_DPB2,n=a&&a[e.valueColumnName];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ptr-popup-header"},"DPB: "+t),n?l.a.createElement("div",{className:"ptr-popup-record-group"},l.a.createElement("div",{className:"ptr-popup-record"},l.a.createElement("div",{className:"ptr-popup-record-value-group"},l.a.createElement("span",{className:"value"},n),l.a.createElement("span",{className:"unit"},e.unit)))):null)},xe=t(126),Ve=t.n(xe),_e=t(127),Le=t.n(_e),Re=t(128),Fe=t.n(Re),Ge=t(129),Qe=t.n(Ge),Ye=t(130),We=t.n(Ye),He=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(G.a)(this,Object(Q.a)(a).call(this,e))).state={activeDpbKey:e.data&&e.data[0].properties.ID_DPB,mapView:e.activePlaceView,selectedMapPeriod:Ie[3],showChoropleth:!0},t.onMapViewChange=t.onMapViewChange.bind(Object(W.a)(t)),t.onMapClick=t.onMapClick.bind(Object(W.a)(t)),t.onMapPeriodChange=t.onMapPeriodChange.bind(Object(W.a)(t)),t.onShowChoropleth=t.onShowChoropleth.bind(Object(W.a)(t)),t}return Object(Y.a)(a,e),Object(F.a)(a,[{key:"componentDidMount",value:function(){this.props.placeView&&this.setState({mapView:this.props.placeView})}},{key:"componentDidUpdate",value:function(e,a,t){var n=this.props;n.data&&(this.getSelectedAreaData()||this.setState({activeDpbKey:n.data&&n.data[0]&&n.data[0].properties.ID_DPB}));e.placeView!==this.props.placeView&&this.setState({mapView:this.props.placeView})}},{key:"onMapViewChange",value:function(e){var a=this;this.mapViewTimeout&&clearTimeout(this.mapViewTimeout),this.mapViewTimeout=setTimeout((function(){a.setState({mapView:e})}),1e3)}},{key:"onMapClick",value:function(e,a,t){this.setState({activeDpbKey:t[0]})}},{key:"onMapPeriodChange",value:function(e){this.setState({selectedMapPeriod:e})}},{key:"onShowChoropleth",value:function(){this.setState({showChoropleth:!this.state.showChoropleth})}},{key:"render",value:function(){var e,a,t,n,o=this.props,r=null,i=V.fillStyleTemplate({attributeValues:[{value:0,fill:"#000000"},{value:1,fill:"#d7191c"},{value:2,fill:"#fdae61"},{value:3,fill:"#ffffbf"},{value:4,fill:"#a6d96a"}]}),s="C"+this.state.selectedMapPeriod.key,c=(e=s,V.fillStyleTemplate({attributeKey:e,attributeClasses:[{interval:[0,15],intervalBounds:[!1,!1],fill:"#ba1414"},{interval:[15,20],intervalBounds:[!0,!1],fill:"#d14e30"},{interval:[20,25],intervalBounds:[!0,!1],fill:"#e37d52"},{interval:[25,30],intervalBounds:[!0,!1],fill:"#f2ae79"},{interval:[30,35],intervalBounds:[!0,!1],fill:"#fce4a7"},{interval:[35,40],intervalBounds:[!0,!1],fill:"#e9f5ae"},{interval:[40,45],intervalBounds:[!0,!1],fill:"#b9db86"},{interval:[45,50],intervalBounds:[!0,!1],fill:"#8cc263"},{interval:[50,55],intervalBounds:[!0,!1],fill:"#61ab41"},{interval:[55,100],intervalBounds:[!0,!1],fill:"#369121"}]})),d="W"+this.state.selectedMapPeriod.key,v=function(e){return V.fillStyleTemplate({attributeKey:e,attributeClasses:[{interval:[0,.01],intervalBounds:[!1,!1],fill:"#d62f27"},{interval:[.01,.015],intervalBounds:[!0,!1],fill:"#e66043"},{interval:[.015,.02],intervalBounds:[!0,!1],fill:"#f28d61"},{interval:[.02,.025],intervalBounds:[!0,!1],fill:"#fab984"},{interval:[.025,.03],intervalBounds:[!0,!1],fill:"#ffe9ad"},{interval:[.03,.035],intervalBounds:[!0,!1],fill:"#e9edbe"},{interval:[.035,.04],intervalBounds:[!0,!1],fill:"#c0ccbe"},{interval:[.04,.045],intervalBounds:[!0,!1],fill:"#99aebd"},{interval:[.045,.05],intervalBounds:[!0,!1],fill:"#6e8fb8"},{interval:[.05,.06],intervalBounds:[!0,!1],fill:"#4575b5"}]})}(d),u="L"+this.state.selectedMapPeriod.key,p=function(e){return V.fillStyleTemplate({attributeKey:e,attributeClasses:[{interval:[0,1],intervalBounds:[!1,!1],fill:"#61150d"},{interval:[1,1.5],intervalBounds:[!0,!1],fill:"#7a391b"},{interval:[1.5,2],intervalBounds:[!0,!1],fill:"#915d2c"},{interval:[2,2.5],intervalBounds:[!0,!1],fill:"#a88640"},{interval:[2.5,3],intervalBounds:[!0,!1],fill:"#c2b659"},{interval:[3,3.5],intervalBounds:[!0,!1],fill:"#b5bd5b"},{interval:[3.5,4],intervalBounds:[!0,!1],fill:"#849c44"},{interval:[4,4.5],intervalBounds:[!0,!1],fill:"#5b7d31"},{interval:[4.5,5],intervalBounds:[!0,!1],fill:"#356120"},{interval:[5,15],intervalBounds:[!0,!1],fill:"#104510"}]})}(u),m=[],h=[],y=[];return this.state.activeDpbKey&&(r=this.prepareDataForCharts()),this.props.data&&this.props.rasters&&(a=this.getMapLayers(this.state.showChoropleth?c:se,"cab"),m=this.getMapLayers(se,"cab_zonace"),t=this.getMapLayers(this.state.showChoropleth?v:se,"cw"),h=this.getMapLayers(se,"cw_zonace"),n=this.getMapLayers(this.state.showChoropleth?p:se,"lai"),y=this.getMapLayers(se,"lai_zonace")),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tacrAgritas-section"},l.a.createElement("div",null,l.a.createElement("h1",null,o.scope&&o.scope.data.nameDisplay),l.a.createElement("p",null,"Biofyzik\xe1ln\xed monitoring p\u0159edstavuje vizualizaci v\xfdsledk\u016f kvantitativn\xedho odhadu hodnot vybran\xfdch biofyzik\xe1ln\xedch charakteristik porost\u016f zem\u011bd\u011blsk\xfdch plodin: ",l.a.createElement("b",null,"obsahu chlorofylu (C",l.a.createElement("sub",null,"ab"),"), obsahu vody (C",l.a.createElement("sub",null,"w"),") a indexu listov\xe9 plochy (LAI)"),". Vlastn\xed v\xfdpo\u010det t\u011bchto parametr\u016f je zalo\u017eeno na zpracov\xe1n\xed dru\u017eicov\xfdch dat Sentinel-2. V\xfdsledn\xe9 hodnoty jednotliv\xfdch parametr\u016f jsou potom agregov\xe1ny v\u017edy po 10-denn\xedch \u010dasov\xfdch obdob\xedch (v\u017edy 1. \u2013 10., 11. -  20. a 21. \u2013 30./31. dne v dan\xe9m m\u011bs\xedci). Z \xfarovn\u011b dru\u017eicov\xfdch sn\xedmk\u016f jsou pak hodnoty d\xedl\u010d\xedch biofyzik\xe1ln\xedch charakteristik d\xe1le prostorov\u011b agregov\xe1ny na \xfarove\u0148 jednotliv\xfdch zem\u011bd\u011blsk\xfdch pozemk\u016f. Z\xedskan\xe9 odhady biofyzik\xe1ln\xedch charakteristik jsou n\xe1sledn\u011b pou\u017eity pro vymezen\xed tzv. management z\xf3n v r\xe1mci monitorovan\xfdch zem\u011bd\u011blsk\xfdch pozemk\u016f. Tato zonace je pak zalo\u017eena na srovn\xe1n\xed aktu\xe1ln\u011b zji\u0161t\u011bn\xfdch hodnot dan\xe9ho parametru s hodnotami obvykl\xfdmi pro danou plodinu, term\xedn a klimatick\xe9 podm\xednky. "))),l.a.createElement("div",{className:"tacrAgritas-section"},l.a.createElement("div",null,l.a.createElement("h2",null,"Obsah chlorofylu"),l.a.createElement("p",null,"Vrstva \u201eobsah chlorofylu\u201c vyjad\u0159uje obsah fotosynteticky aktivn\xedch pigment\u016f v listov\xed vegetace p\u0159epo\u010dten\xfd na listovou plochu (\u03bcg/cm",l.a.createElement("sup",null,"2"),"). Mno\u017estv\xed listov\xfdch pigment\u016f velmi t\u011bsn\u011b souvis\xed s celkovou fotosyntetickou aktivitou rostlin, kter\xe1 je pak d\xe1le nav\xe1z\xe1na na v\xfd\u017eivu porostu (nap\u0159\xedklad dus\xedkem)."),l.a.createElement("p",null,"Obsah chlorofylu je tedy jednou ze z\xe1kladn\xedch vstup\u016f pro tvorbu map pro variabiln\xed aplikace (nap\u0159. aplikace hnojiv b\u011bhem produk\u010dn\xedho a kvalitativn\xedho hnojen\xed). P\u0159i sledov\xe1n\xed \u010dasov\xe9 \u0159ady obsahu chlorofylu je pak mo\u017en\xe9 i zhodnotit dopady proveden\xfdch agrotechnick\xfdch opat\u0159en\xed (op\u011bt zejm\xe9na hnojen\xed, p\u0159\xedpadn\u011b aplikace POR). V pr\u016fb\u011bhu dozr\xe1v\xe1n\xed (obilniny, \u0159epka apod.) doch\xe1z\xed v d\u016fsledku celkov\xe9ho pros\xfdch\xe1n\xed porost\u016f k p\u0159irozen\xe9mu \xfabytku obsahu chlorofylu. D\xedky tomu je mo\u017en\xe9 sledovat nejen aktu\xe1ln\xed stav zralosti porost\u016f, ale tak\xe9 p\u0159\xedpadn\xe9 selektivn\xed dozr\xe1v\xe1n\xed porostu v r\xe1mci jednoho pozemku. Hodnoty obsahu chlorofylu se u zdrav\xfdch porost\u016f pohybuj\xed nej\u010dast\u011bji v rozmez\xed mezi 20 \u2013 60 \u03bcg/cm",l.a.createElement("sup",null,"2"),". U zral\xfdch/such\xfdch porost\u016f pak obsah chlorofylu kles\xe1 zpravidla pod 10 \u03bcg/cm",l.a.createElement("sup",null,"2"),"."),l.a.createElement("p",{className:"tacrAgritas-component-description"},"Mapov\xe9 okno vlevo zn\xe1zor\u0148uje v\xfdsledky kvantitativn\xedho odhadu obsahu chlorofylu v absolutn\xed hodnot\u011b (\u03bcg/cm",l.a.createElement("sup",null,"2"),"), a to jak na \xfarovni dru\u017eicov\xfdch dat Sentinel-2, tak jako hodnoty agregovan\xe9 za jednotliv\xe9 zem\u011bd\u011blsk\xe9 pozemky. Mapov\xe9 okno vpravo zn\xe1zor\u0148uje vymezen\xed tzv. management z\xf3n na z\xe1klad\u011b prostorov\xe9 variability hodnot obsahu chlorofylu a jejich srovn\xe1n\xed s hodnotami obvykl\xfdmi pro danou plodinu, term\xedn a klimatick\xe9 podm\xednky."),l.a.createElement("div",{className:"tacrAgritas-map-component-wrapper"},l.a.createElement("div",{className:"tacrAgritas-map-layers"},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:this.state.showChoropleth,onChange:this.onShowChoropleth}),l.a.createElement("div",null,"Zobraz hodnoty agregovan\xe9 na p\u016fdn\xed blok"))),this.renderMapSet("map-set-1",a,m,s,"\u03bcg/cm2"),l.a.createElement("div",{className:"tacrAgritas-legend-set"},l.a.createElement(Ke,{style:c,name:"Obsah chlorofylu",unit:"\u03bcg/cm2",noData:!0}),l.a.createElement(Ke,{style:i,name:"Management z\xf3ny"}))),r&&r.chlorophyll?this.renderChlorophyllChart(r):null)),l.a.createElement("div",{className:"tacrAgritas-section"},l.a.createElement("div",null,l.a.createElement("h2",null,"Obsah vody"),l.a.createElement("p",null,"Obsah vody je v tomto p\u0159\xedpad\u011b vyj\xe1d\u0159en v podob\u011b tzv. Equivalent Water Thickness (EWT) popisuj\xedc\xed tlou\u0161\u0165ku vrstvi\u010dky vody, kter\xe9 by se vytvo\u0159ila, pokud bychom ve\u0161kerou vodu obsa\u017eenou v listov\xed vyseparovali a rovnom\u011brn\u011b rozprost\u0159eli po plo\u0161e listu. Mno\u017estv\xed vody je tedy vyj\xe1d\u0159eno v centimetrech (cm). Obsah vody je obecn\u011b velmi dynamick\xfd parametr popisuj\xedc\xed aktu\xe1ln\xed z\xe1sobenost rostlin vodou. D\xedky tomu je mo\u017en\xe9 pomoc\xed t\xe9to datov\xe9 vrstvy sledovat p\u0159\xedpadn\xe9 ohro\u017een\xed rostlin nedostatkem vody (nap\u0159. vlivem sucha). Podobn\u011b jako v p\u0159\xedpad\u011b obsahu chlorofylu kles\xe1 p\u0159irozen\u011b obsah vody v pr\u016fb\u011bhu dozr\xe1v\xe1n\xed (obilniny, \u0159epka apod.). Proto je mo\u017en\xe9 datovou vrstvu vyu\u017e\xedt i pro sledov\xe1n\xed selektivn\xedho dozr\xe1v\xe1n\xed plodin. Obdobn\xfdm zp\u016fsobem je pak mo\u017en\xe9 sledovat nap\u0159\xedklad p\u0159\xedtomnost r\u016fzn\xfdch anom\xe1li\xed (nap\u0159. podm\xe1\u010den\xfdch ploch apod.). Hodnoty obsahu vody se u \u201e\u010derstv\xe9\u201c zelen\xe9 vegetace pohybuj\xed nej\u010dast\u011bji v rozmez\xed 0.0100 \u2013 0.0550 cm, u such\xfdch, zraj\xedc\xedch porost\u016f se pak zpravidla obsah vody pohybuje v rozmez\xed 0.0005 \u2013 0.0100 cm."),l.a.createElement("p",{className:"tacrAgritas-component-description"},"Mapov\xe9 okno vlevo zn\xe1zor\u0148uje v\xfdsledky kvantitativn\xedho odhadu obsahu vody v absolutn\xed hodnot\u011b (cm), a to jak na \xfarovni dru\u017eicov\xfdch dat Sentinel-2, tak jako hodnoty agregovan\xe9 za jednotliv\xe9 zem\u011bd\u011blsk\xe9 pozemky. Mapov\xe9 okno vpravo zn\xe1zor\u0148uje vymezen\xed tzv. management z\xf3n na z\xe1klad\u011b prostorov\xe9 variability hodnot obsahu vody a jejich srovn\xe1n\xed s hodnotami obvykl\xfdmi pro danou plodinu, term\xedn a klimatick\xe9 podm\xednky."),l.a.createElement("div",{className:"tacrAgritas-map-component-wrapper"},l.a.createElement("div",{className:"tacrAgritas-map-layers"},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:this.state.showChoropleth,onChange:this.onShowChoropleth}),l.a.createElement("div",null,"Zobraz hodnoty agregovan\xe9 na p\u016fdn\xed blok"))),this.renderMapSet("map-set-2",t,h,d,"cm"),l.a.createElement(Ke,{style:v,name:"Obsah vody",unit:"cm",noData:!0}),l.a.createElement(Ke,{style:i,name:"Management z\xf3ny"})),r&&r.water?this.renderWaterChart(r):null)),l.a.createElement("div",{className:"tacrAgritas-section"},l.a.createElement("div",null,l.a.createElement("h2",null,"Index listov\xe9 plochy"),l.a.createElement("p",null,"Index listov\xe9 plochy (LAI) je definov\xe1n jako jednostrann\xe1 plocha listov\xed vegetace vzta\u017een\xe1 na jednotkovou plochou povrchu. Jedn\xe1 se tedy o bezrozm\u011brnou veli\u010dinu (resp. jej\xed jednotkou by byly m",l.a.createElement("sup",null,"2"),"/m",l.a.createElement("sup",null,"2"),"). LAI je d\u016fle\u017eit\xfdm parametrem k ur\u010dov\xe1n\xed mnoha dal\u0161\xedch biologick\xfdch a fyzik\xe1ln\xedch proces\u016f souvisej\xedc\xedch s vegetac\xed nebo\u0165 de facto popisuje plochu, na n\xed\u017e doch\xe1z\xed k p\u0159\xedjmu slune\u010dn\xedho z\xe1\u0159en\xed a dal\u0161\xedch l\xe1tek ze zemsk\xe9 atmosf\xe9ry. Pomoc\xed hodnot indexu listov\xe9 plochy lze sledovat p\u0159edev\u0161\xedm zapojenost porostu a n\xe1r\u016fst mno\u017estv\xed biomasy v \u010dase, \u010deho\u017e lze vyu\u017e\xedt p\u0159i p\u0159\xedprav\u011b podklad\u016f pro variabiln\xed aplikace hnojiv p\u0159i produk\u010dn\xedm a kvalitativn\xedm hnojen\xed, a n\xe1sledn\u011b t\xe9\u017e pro sledov\xe1n\xed jejich dopad\u016f. Hodnoty indexu listov\xe9 plochy se mohou pro r\u016fzn\xe9 plodiny a r\u016fzn\xe1 st\xe1dia v\xfdvoje t\u011bchto plodin pom\u011brn\u011b v\xfdrazn\u011b li\u0161it."),l.a.createElement("p",{className:"tacrAgritas-component-description"},"Mapov\xe9 okno vlevo zn\xe1zor\u0148uje v\xfdsledky kvantitativn\xedho odhadu indexu listov\xe9 plochy v absolutn\xed hodnot\u011b (m",l.a.createElement("sup",null,"2"),"/m",l.a.createElement("sup",null,"2"),"), a to jak na \xfarovni dru\u017eicov\xfdch dat Sentinel-2, tak jako hodnoty agregovan\xe9 za jednotliv\xe9 zem\u011bd\u011blsk\xe9 pozemky. Mapov\xe9 okno vpravo zn\xe1zor\u0148uje vymezen\xed tzv. management z\xf3n na z\xe1klad\u011b prostorov\xe9 variability hodnot indexu listov\xe9 plochy a jejich srovn\xe1n\xed s hodnotami obvykl\xfdmi pro danou plodinu, term\xedn a klimatick\xe9 podm\xednky."),l.a.createElement("div",{className:"tacrAgritas-map-component-wrapper"},l.a.createElement("div",{className:"tacrAgritas-map-layers"},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:this.state.showChoropleth,onChange:this.onShowChoropleth}),l.a.createElement("div",null,"Zobraz hodnoty agregovan\xe9 na p\u016fdn\xed blok"))),this.renderMapSet("map-set-3",n,y,u,"m2/m2"),l.a.createElement(Ke,{style:p,name:"Index listov\xe9 plochy",unit:l.a.createElement(l.a.Fragment,null,"m",l.a.createElement("sup",null,"2"),"/m",l.a.createElement("sup",null,"2")),noData:!0}),l.a.createElement(Ke,{style:i,name:"Management z\xf3ny"})),r&&r.leafs?this.renderLeafsChart(r):null)),this.renderMethodology())}},{key:"renderMapSet",value:function(e,a,t,n,o){var r=this.getSelectedAreaData();return l.a.createElement(J.a,{left:!0,distance:"50px"},l.a.createElement("div",{className:"tacrAgritas-map-set-container"},l.a.createElement(D.HoverHandler,{popupContentComponent:l.a.createElement(Pe,{valueColumnName:n,unit:o})},l.a.createElement(oe.MapSet,{activeMapKey:e,mapComponent:oe.WorldWindMap,view:this.state.mapView,onViewChange:this.onMapViewChange,sync:{boxRange:!0,center:!0,tilt:!0,heading:!0,roll:!0},backgroundLayer:De.cartoDbLight},l.a.createElement(oe.MapSetPresentationMap,{mapKey:e+"-map-1",layers:a,onLayerClick:this.onMapClick}),l.a.createElement(oe.MapSetPresentationMap,{mapKey:e+"-map-2",layers:t,onLayerClick:this.onMapClick}),l.a.createElement(oe.MapControls,{zoomOnly:!0}),l.a.createElement(Te,{cropName:r&&r.properties.CROP_NAME,selectedAreaName:r&&r.properties.NKOD_DPB2,selectedAreaClimRegion:r&&r.properties.CLIM_LABEL}),l.a.createElement(Z.Select,{className:"tacrAgritas-map-label",value:this.state.selectedMapPeriod,optionLabel:"label",optionValue:"key",options:Ie,onChange:this.onMapPeriodChange})))))}},{key:"renderChlorophyllChart",value:function(e){var a=this.getSelectedAreaData();return l.a.createElement("div",{className:"tacrAgritas-chart-wrapper"},l.a.createElement(D.HoverHandler,{popupContentComponent:Me},l.a.createElement("div",{className:"tacrAgritas-chart-title"},"P\u016fdn\xed blok",l.a.createElement("em",null," ",a&&a.properties.NKOD_DPB2)),l.a.createElement(le.LineChart,{key:"chlorophyll",data:[e],keySourcePath:"ID_DPB",nameSourcePath:"NKOD_DPB",serieDataSourcePath:"chlorophyll",xSourcePath:"date",ySourcePath:"value",colorSourcePath:"color",isSerie:!0,pointRadius:3,xScaleType:"time",xValuesSize:4,xOptions:{name:"Time",axisValueFormat:"MMMM",popupValueFormat:"D. MMMM YYYY",min:"".concat(this.props.activePeriodKey,"-02-28T00:00:00.000Z"),max:"".concat(this.props.activePeriodKey,"-11-01T00:00:00.000Z")},yLabel:!0,yValuesSize:3,yOptions:{unit:"\u03bcg/cm2",name:"Obsah chlorofylu"},withoutYbaseline:!1}),l.a.createElement("p",{className:"tacrAgritas-component-description"},"\u010casov\xfd v\xfdvoj obsahu chlorofylu (\u03bcg/cm",l.a.createElement("sup",null,"2"),") pro vybran\xfd zem\u011bd\u011blsk\xfd pozemek.")))}},{key:"renderWaterChart",value:function(e){var a=this.getSelectedAreaData();return l.a.createElement("div",{className:"tacrAgritas-chart-wrapper"},l.a.createElement(D.HoverHandler,{popupContentComponent:Me},l.a.createElement("div",{className:"tacrAgritas-chart-title"},"P\u016fdn\xed blok",l.a.createElement("em",null," ",a&&a.properties.NKOD_DPB2)),l.a.createElement(le.LineChart,{key:"water",data:[e],keySourcePath:"ID_DPB",nameSourcePath:"NKOD_DPB",serieDataSourcePath:"water",xSourcePath:"date",ySourcePath:"value",colorSourcePath:"color",isSerie:!0,pointRadius:3,xScaleType:"time",xValuesSize:4,xOptions:{name:"Time",axisValueFormat:"MMMM",popupValueFormat:"D. MMMM YYYY",min:"".concat(this.props.activePeriodKey,"-02-28T00:00:00.000Z"),max:"".concat(this.props.activePeriodKey,"-11-01T00:00:00.000Z")},yLabel:!0,yValuesSize:3,yOptions:{unit:"cm",name:"Obsah vody"},withoutYbaseline:!1}),l.a.createElement("p",{className:"tacrAgritas-component-description"},"\u010casov\xfd v\xfdvoj obsahu vody (cm) pro vybran\xfd zem\u011bd\u011blsk\xfd pozemek.")))}},{key:"renderLeafsChart",value:function(e){var a=this.getSelectedAreaData();return l.a.createElement("div",{className:"tacrAgritas-chart-wrapper"},l.a.createElement(D.HoverHandler,{popupContentComponent:Me},l.a.createElement("div",{className:"tacrAgritas-chart-title"},"P\u016fdn\xed blok",l.a.createElement("em",null," ",a&&a.properties.NKOD_DPB2)),l.a.createElement(le.LineChart,{key:"leafs",data:[e],keySourcePath:"ID_DPB",nameSourcePath:"NKOD_DPB2",serieDataSourcePath:"leafs",xSourcePath:"date",ySourcePath:"value",colorSourcePath:"color",isSerie:!0,pointRadius:3,xScaleType:"time",xValuesSize:4,xOptions:{name:"Time",axisValueFormat:"MMMM",popupValueFormat:"D. MMMM YYYY",min:"".concat(this.props.activePeriodKey,"-02-28T00:00:00.000Z"),max:"".concat(this.props.activePeriodKey,"-11-01T00:00:00.000Z")},yLabel:!0,yValuesSize:3,yOptions:{unit:"m2/m2",name:"Index listov\xe9 plochy"},withoutYbaseline:!1}),l.a.createElement("p",{className:"tacrAgritas-component-description"},"\u010casov\xfd v\xfdvoj indexu listov\xe9 plochy (m",l.a.createElement("sup",null,"2"),"/m",l.a.createElement("sup",null,"2"),") pro vybran\xfd zem\u011bd\u011blsk\xfd pozemek.")))}},{key:"renderMethodology",value:function(){return l.a.createElement("div",{className:"tacrAgritas-section methodology"},l.a.createElement("div",null,l.a.createElement("h3",null,"Kvantitativn\xed odhad biofyzik\xe1ln\xedch charakteristik porost\u016f zem\u011bd\u011blsk\xfdch plodin"),l.a.createElement("p",null,"Kvantitativn\xed odhad hlavn\xedch biofyzik\xe1ln\xedch parametr\u016f je zalo\u017een na obecn\xe9 skute\u010dnosti, \u017ee biofyzik\xe1ln\xed parametry ovliv\u0148uj\xed spektr\xe1ln\xed charakteristiky porost\u016f sledovan\xe9 pomoc\xed dru\u017eicov\xfdch dat. Vz\xe1jemn\xfd funk\u010dn\xed vztah mezi spektr\xe1ln\xed signaturou a biofyzik\xe1ln\xedmi parametry porost\u016f je v p\u0159\xedpad\u011b na\u0161ich produkt\u016f \u0159e\u0161en metodou aplikace modelu p\u0159enosu z\xe1\u0159en\xed PROSAIL (radiative transfer model). Tento koncept je zalo\u017een na vyu\u017eit\xed matematick\xe9ho modelu popisuj\xedc\xedho p\u0159enos z\xe1\u0159en\xed p\u0159i jeho interakci s povrchem (vegetac\xed). V\xfdstupem modelu je simulace spektr\xe1ln\xed signatury porostu pro danou kombinaci biofyzik\xe1ln\xedch (a jin\xfdch) parametr\u016f. Krom\u011b vlastn\xedch biofyzik\xe1ln\xedch charakteristik porost\u016f (jako jsou nap\u0159\xedklad obsahy listov\xfdch pigment\u016f, vody a su\u0161iny, index listov\xe9 plochy aj.) bere model v potaz parametry popisuj\xedc\xed strukturu porostu (nap\u0159. orientaci listov\xed v prostoru), vliv geometrie po\u0159\xedzen\xed obrazov\xfdch dat (nap\u0159. poloha Slunce, sm\u011br pohledu senzoru apod.) a vliv spektr\xe1ln\xedch charakteristik p\u016fdy. Hlavn\xed v\xfdhodou vyu\u017eit\xed konceptu modelu p\u0159enosu z\xe1\u0159en\xed je skute\u010dnost, \u017ee pomoc\xed n\u011bj m\u016f\u017eeme nasimulovat spektr\xe1ln\xed signatury porost\u016f pro velk\xe9 rozsahy hodnot jednotliv\xfdch vstupn\xedch parametr\u016f, jejich\u017e pokryt\xed re\xe1ln\xfdm pozemn\xedm vzorkov\xe1n\xedm by bylo prakticky nerealizovateln\xe9. A\u010dkoliv je model p\u0159enosu z\xe1\u0159en\xed zalo\u017een na obecn\xfdch fyzik\xe1ln\xedch z\xe1konech, je nejprve nutn\xe9 jej parametrizovat (\u201ezkalibrovat\u201c) tak, aby v\xfdsledn\xe9 simulace byly realistick\xe9. V p\u0159\xedpad\u011b na\u0161ich produkt\u016f je optimalizace pou\u017eit\xe9ho modelu provedena specificky pro ka\u017edou z\xe1jmovou plodinu. T\xedm je zaji\u0161t\u011bn nejlep\u0161\xed mo\u017en\xfd soulad modelovan\xfdch hodnot s realitou."),l.a.createElement("p",null,"Vlastn\xed odhad jednotliv\xfdch biofyzik\xe1ln\xedch parametr\u016f je n\xe1sledn\u011b realizov\xe1n s vyu\u017eit\xedm n\xe1stroj\u016f tzv. strojov\xe9ho u\u010den\xed (machine learning) jejich\u017e \u201eu\u010den\xed\u201c prob\xedh\xe1 pomoc\xed datab\xe1ze nasimulovan\xfdch spektr\xe1ln\xedch signatur jednotliv\xfdch plodin, po n\u011bm\u017e je algoritmus aplikov\xe1n na re\xe1ln\xe1 data Sentinel-2. Fin\xe1ln\xedm v\xfdstupem v\xfd\u0161e popsan\xe9ho procesu je kvantitativn\xed odhad t\u0159\xed hlavn\xed biofyzik\xe1ln\xedch parametr\u016f porost\u016f: ",l.a.createElement("b",null,"obsah chlorofylu (C",l.a.createElement("sub",null,"ab"),")")," vyj\xe1d\u0159en\xfd v \u03bcg/cm",l.a.createElement("sup",null,"2"),", ",l.a.createElement("b",null,"obsah vody (C",l.a.createElement("sub",null,"w"),")")," vyj\xe1d\u0159en\xfd jako tzv. Equivalent Water Thickness (tlou\u0161\u0165ka vrstvy, kter\xe1 by vznikla rozprost\u0159en\xedm ve\u0161ker\xe9 obsa\u017een\xe9 vody po plo\u0161e listu) v cm a ",l.a.createElement("b",null,"index listov\xe9 plochy (LAI)"),", kter\xfd je bezrozm\u011brnou jednotkou a vyjad\u0159uje pod\xedl plochy listov\xed porostu v\u016f\u010di jednotkov\xe9 plo\u0161e povrchu."),this.renderImageContainer(Ve.a,"Uk\xe1zka odhadu obsahu chlorofylu pro porosty ozim\xe9 p\u0161enice v r\u016fzn\xe9m stupni zralosti (20.6. 2017)"),this.renderImageContainer(Le.a,"Uk\xe1zka odhadu obsahu vody pro porost jarn\xedho je\u010dmene. Nap\u0159\xed\u010d zem\u011bd\u011blsk\xfdm pozemkem vede star\xe9 zazemn\u011bn\xe9 \u0159\xed\u010dn\xed rameno Labe. P\u016fda je v tomto m\xedst\u011b vlh\u010d\xed, co\u017e se v\xfdrazn\u011b projev\xed jak na rychlost\xed dozr\xe1v\xe1n\xed porostu, tak na jeho obsahu vody."),this.renderImageContainer(Fe.a,"Uk\xe1zka odhadu indexu listov\xe9 plochy pro porosty ozim\xe9 p\u0161enice. Srovn\xe1n\xed hust\xe9ho (zapojen\xe9ho) a \u0159\xeddk\xe9ho (nezapojen\xe9ho) porostu (1.4. 2017)."),l.a.createElement("p",null,"Krom\u011b z\xe1kladn\xedho v\xfdstupu zobrazuj\xedc\xedho odhadovan\xe9 hodnoty jednotliv\xfdch parametr\u016f v p\u016fvodn\xedch fyzik\xe1ln\xedch jednotk\xe1ch je sou\u010dasn\u011b vytvo\u0159ena i mapa tzv. management z\xf3n, sdru\u017euj\xedc\xedch v\u017edy \u010d\xe1sti porostu s podobn\xfdmi vlastnostmi. Oproti obdobn\xfdm \u0159e\u0161en\xedm zalo\u017een\xfdm na anal\xfdze jednoduch\xfdch vegeta\u010dn\xedch index\u016f (nap\u0159. NDVI) je zde v\xfdhoda p\u0159edev\u0161\xedm v tom, \u017ee p\u0159\xedpadn\xe9 rozd\xedly v charakteru porostu v d\xedl\u010d\xedch \u010d\xe1stech pozemku je mo\u017en\xe9 p\u0159esn\u011bji specifikovat. Za\u0159azen\xed do ur\u010dit\xe9 management z\xf3ny zohled\u0148uje aktu\xe1ln\u011b p\u011bstovanou plodinu, klimatick\xfd region, do kter\xe9ho dan\xfd pozemek spad\xe1, a datum, ke n\u011bm\u017e je v\xfdsledek anal\xfdzy vzta\u017een. Rozsahy hodnot jednotliv\xfdch parametr\u016f jsou pro d\xedl\u010d\xed management z\xf3ny odvozeny ze statistick\xe9 anal\xfdzy 4333 zem\u011bd\u011blsk\xfdch pozemk\u016f z let 2016 \u2013 2019 a p\u0159edstavuj\xed kvantily (Q",l.a.createElement("sub",null,"0.25"),", Q",l.a.createElement("sub",null,"0.50")," a Q",l.a.createElement("sub",null,"0.75"),") hodnot dan\xe9ho biofyzik\xe1ln\xedho parametru pro danou plodinu, klimatick\xfd region a datum. Z\xf3na 1 tak p\u0159edstavuje hodnoty spadaj\xedc\xed mezi 25 % nejni\u017e\u0161\xedch hodnot pro danou plodinu, klimatick\xfd region a \u010das, zat\xedmco z\xf3na 4 analogicky zahrnuje hodnoty spadaj\xedc\xed mezi 25 % nejvy\u0161\u0161\xedch hodnot pro danou plodinu, klimatick\xfd region a \u010das."),this.renderImageContainer(Qe.a,"P\u0159ehled referen\u010dn\xedch zem\u011bd\u011blsk\xfdch pozemk\u016f pro ur\u010den\xed norm\xe1lov\xfdch hodnot jednotliv\xfdch biofyzik\xe1ln\xedch parametr\u016f a jejich v\xfdvoje v \u010dase."),this.renderImageContainer(We.a,l.a.createElement(l.a.Fragment,null,"Uk\xe1zka sez\xf3nn\xedho v\xfdvoje indexu listov\xe9 plochy (LAI) z\xe1jmov\xfdch zem\u011bd\u011blsk\xfdch plodin (skupin plodin) v klimatick\xe9m regionu T2 a principu vymezen\xed jednotliv\xfdch management z\xf3n pomoc\xed kvantil\u016f Q",l.a.createElement("sub",null,"0.25"),", Q",l.a.createElement("sub",null,"0.50")," a Q",l.a.createElement("sub",null,"0.75")))))}},{key:"renderImageContainer",value:function(e,a){return l.a.createElement(J.a,{left:!0,distance:"50px"},l.a.createElement("div",{className:"tacrAgritas-image"},l.a.createElement("img",{src:e}),l.a.createElement("p",{className:"tacrAgritas-component-description"},a)))}},{key:"getMapLayers",value:function(e,a){var t=this.props.rasters[a],n=this.state.selectedMapPeriod.key.split("_")[0],l=t["".concat(this.props.activePeriodKey).concat(n)],o=[{key:"test",layerKey:"test",type:"vector",opacity:1,options:{features:this.props.data,style:e.data.definition,hovered:{style:re},selected:{test:{style:ie,keys:[this.state.activeDpbKey]}},fidColumnName:"ID_DPB"}}];return l&&o.unshift({key:"wms",type:"wms",opacity:1,options:{url:M.tacrAgritasGeoserverWmsUrl,params:{layers:l}}}),o}},{key:"prepareDataForCharts",value:function(){var e=this,a=[],t=[],n=[],l=this.getSelectedAreaData();return l?(g.a.forIn(l.properties,(function(l,o){var r=o.split("_"),i=r[0];if(5===i.length){var s=i.substring(0,1),c=i.substring(1,5),d=Number(i.substring(1,5));if(!g.a.isNaN(d)){var v=c.substring(2,4),u=c.substring(0,2),p=ne()("".concat(e.props.activePeriodKey,"-").concat(u,"-").concat(v)).toISOString(),m=r[1],h=m.substring(2,4),y=m.substring(0,2),f={date:p,dateEnd:ne()("".concat(e.props.activePeriodKey,"-").concat(y,"-").concat(h)).toISOString(),value:l};l&&("C"===s?a.push(f):"W"===s?t.push(f):"L"===s&&n.push(f))}}})),Object(u.a)({},l.properties,{chlorophyll:a,water:t,leafs:n,color:"#ff00ff"})):null}},{key:"getSelectedAreaData",value:function(){var e=this;return g.a.find(this.props.data,(function(a){return a.properties.ID_DPB===e.state.activeDpbKey}))}}]),a}(l.a.PureComponent),Ue=t(131),Ze=t.n(Ue),qe=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(G.a)(this,Object(Q.a)(a).call(this,e))).state={activeDpbKey:e.data&&e.data[0].properties.ID_DPB,selectedMapPeriod:Oe[3]},t.onMapClick=t.onMapClick.bind(Object(W.a)(t)),t.onMapPeriodChange=t.onMapPeriodChange.bind(Object(W.a)(t)),t}return Object(Y.a)(a,e),Object(F.a)(a,[{key:"componentDidUpdate",value:function(e,a,t){var n=this.props;n.data&&(this.getSelectedAreaData()||this.setState({activeDpbKey:n.data&&n.data[0]&&n.data[0].properties.ID_DPB}))}},{key:"onMapClick",value:function(e,a,t){this.setState({activeDpbKey:t[0]})}},{key:"onMapPeriodChange",value:function(e){this.setState({selectedMapPeriod:e})}},{key:"render",value:function(){var e,a=this.props,t=null,n="P"+this.state.selectedMapPeriod.key,o=(e=n,V.fillStyleTemplate({attributeKey:e,attributeClasses:[{interval:[0,50],intervalBounds:[!1,!1],fill:"#ff0000"},{interval:[50,70],intervalBounds:[!0,!1],fill:"#ff8888"},{interval:[70,90],intervalBounds:[!0,!1],fill:"#ffaa00"},{interval:[90,110],intervalBounds:[!0,!1],fill:"#ffff00"},{interval:[110,130],intervalBounds:[!0,!1],fill:"#b0e000"},{interval:[130,150],intervalBounds:[!0,!1],fill:"#6fc400"},{interval:[150,300],intervalBounds:[!0,!1],fill:"#38a800"}]})),r=[];return this.state.activeDpbKey&&(t=this.prepareDataForCharts()),this.props.data&&(r=this.getMapLayers(o)),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tacrAgritas-section"},l.a.createElement("div",null,l.a.createElement("h1",null,a.scope&&a.scope.data.nameDisplay),l.a.createElement("div",{className:"tacrAgritas-section-subtitle"},"Srovn\xe1n\xed aktu\xe1ln\xedho stavu zem\u011bd\u011blsk\xfd porost\u016f s dlouhodob\xfdm norm\xe1lem (1985 - 2015)"),l.a.createElement("p",null,"Srovn\xe1n\xed aktu\xe1ln\xedho stavu s dlouhodob\xfdm norm\xe1lem je zalo\u017eeno na zpracov\xe1n\xed dlouhodob\xe9 \u010dasov\xe9 \u0159ady dru\u017eicov\xfdch dat Landsat, obsahuj\xedc\xed p\u0159ibli\u017en\u011b 8500 sc\xe9n po\u0159\xedzen\xfdch v pr\u016fb\u011bhu obdob\xed 1985 \u2013 2015. Anal\xfdzou t\u011bchto dru\u017eicov\xfdch sn\xedmk\u016f byly stanoveny tzv. norm\xe1lov\xe9 k\u0159ivky popisuj\xedc\xed obvykl\xfd \u010dasov\xfd v\xfdvoj hodnot vegeta\u010dn\xedho indexu NDVI pro r\u016fzn\xe9 zem\u011bd\u011blsk\xe9 plodiny za dan\xfdch klimatick\xfdch podm\xednek. Aktu\xe1ln\xed hodnoty vegeta\u010dn\xedho indexu NDVI (zji\u0161t\u011bn\xe9 pomoc\xed dru\u017eicov\xfdch dat po\u0159\xedzen\xfdch v pr\u016fb\u011bhu aktu\xe1ln\xed vegeta\u010dn\xed sez\xf3ny) jsou potom srovn\xe1v\xe1ny s hodnotou dlouhodob\xe9ho norm\xe1lu (pro danou plodinu, term\xedn a klimatick\xfd region). V\xfdsledek je vyj\xe1d\u0159en jako procentu\xe1ln\xed pod\xedl aktu\xe1ln\xed hodnoty ku hodnot\u011b dlouhodob\xe9ho norm\xe1lu (tj. 100 % = aktu\xe1ln\xed hodnota je pr\xe1v\u011b rovna hodnot\u011b dlouhodob\xe9ho norm\xe1lu pro danou plodinu, term\xedn a klimatick\xfd region). Srovn\xe1n\xed aktu\xe1ln\xedho stavu s dlouhodob\xfdm norm\xe1lem je pak realizov\xe1no pr\u016fb\u011b\u017en\u011b v\u017edy 2x do m\u011bs\xedce (1. \u2013 15. a 16. \u2013 30./31. dne v dan\xe9m m\u011bs\xedci). V\xfdsledky jsou v tomto p\u0159\xedpad\u011b agregov\xe1ny na \xfarove\u0148 jednotliv\xfdch zem\u011bd\u011blsk\xfdch pozemk\u016f."),l.a.createElement("div",{className:"tacrAgritas-map-component-wrapper"},this.renderMapSet("map-set-historie",r,n,"%"),l.a.createElement(Ke,{style:o,name:"Aktu\xe1ln\xed hodnota NDVI vs. dlouhodob\xfd norm\xe1l",unit:"%",noData:!0})),t?this.renderChart(t):null,l.a.createElement("p",null,"Ur\u010den\xed referen\u010dn\xedch norm\xe1lov\xfdch k\u0159ivek vegeta\u010dn\xedho indexu NDVI pro jednotliv\xe9 zem\u011bd\u011blsk\xe9 plodiny a klimatick\xe9 regiony bylo zalo\u017eeno na zpracov\xe1n\xed kompletn\xedho archivu dru\u017eicov\xfdch dat Landsat pro \u010ceskou republiku. Toto zpracov\xe1n\xed zahrnovalo celkem p\u0159ibli\u017en\u011b 8500 sc\xe9n po\u0159\xedzen\xfdch v obdob\xed mezi roky 1985 \u2013 2015. V prvn\xed f\xe1zi zpracov\xe1n\xed byly na podklad\u011b t\u011bchto sc\xe9n vytvo\u0159eny plodinov\xe9 mapy pro v\u0161echny vegeta\u010dn\xed sez\xf3ny uveden\xe9ho obdob\xed 1985 \u2013 2015. Prov\xe1d\u011bn\xed anal\xfdzy \u010dasov\xe9ho pr\u016fb\u011bhu hodnot vegeta\u010dn\xedho indexu specificky pro jednotliv\xe9 plodiny je zcela kl\xed\u010dov\xe9, vzhledem k odli\u0161nostem v \u010dasov\xe9m v\xfdvoji jednotliv\xfdch plodin (nap\u0159. ozim\xe9 obiloviny ve srovn\xe1n\xed s cukrovkou apod.). Ze s\xe9ri\xed dru\u017eicov\xfdch dat byly n\xe1sledn\u011b pro jednotliv\xe9 kombinace plodina \u2013 klimatick\xfd region extrahov\xe1ny tempor\xe1ln\xed profily indexu NDVI (popisuj\xedc\xed v\xfdvoj hodnot tohoto indexu v \u010dase). Tyto k\u0159ivky pak byly p\u0159evedeny do jednotn\xe9ho \u010dasov\xe9ho m\u011b\u0159\xedtka (uva\u017eov\xe1na byla agregace dat do 15-denn\xedch interval\u016f). Z d\xedl\u010d\xedch k\u0159ivek potom byla vygenerov\xe1na tzv. norm\xe1lov\xe1 k\u0159ivka popisuj\xedc\xed z dlouhodob\xe9ho hlediska obvykl\xfd pr\u016fb\u011bh hodnot indexu NDVI pro danou plodinu a klimatick\xfd region. Klimatick\xe9 regiony, uva\u017eovan\xe9 v r\xe1mci t\xe9to anal\xfdzy, vych\xe1zej\xed z regionalizace pou\u017e\xedvan\xe9 v syst\xe9mu bonitovan\xfdch p\u016fdn\u011b-ekologick\xfdch jednotek (BPEJ)."),l.a.createElement("p",null,"V dal\u0161\xed f\xe1zi jsou hodnoty NDVI pr\u016fb\u011b\u017en\u011b extrahov\xe1ny z dru\u017eicov\xfdch dat po\u0159\xedzen\xfdch v pr\u016fb\u011bhu aktu\xe1ln\xed vegeta\u010dn\xed sez\xf3ny (op\u011bt v\u017edy v 15-denn\xedch monitorovac\xedch oknech). Aby byla maximalizov\xe1na pravd\u011bpodobnost, \u017ee analyzovan\xfd pozemek bude v r\xe1mci dan\xe9ho monitorovac\xedch obdob\xed zachycen bez obla\u010dnosti, jsou pro sledov\xe1n\xed aktu\xe1ln\xedch hodnot indexu NDVI vyu\u017e\xedv\xe1na nejen dru\u017eicov\xe1 data Landsat, ale sou\u010dasn\u011b i Sentinel-2. S ohledem na pon\u011bkud odli\u0161n\xe9 radiometrick\xe9 charakteristiky senzor\u016f OLI (Landsat-8) a MSI (Sentinel-2) je v tomto p\u0159\xedpad\u011b ov\u0161em nutn\xe9 na data Sentinel-2 nejprve aplikovat proces radiometrick\xe9 harmonizace, d\xedky n\u011bmu\u017e jsou hodnoty indexu NDVI odvozen\xe9 z dat Sentinel-2 a Landsat-8 navz\xe1jem srovnateln\xe9. Aktu\xe1ln\xed hodnoty indexu NDVI jsou v n\xe1sleduj\xedc\xedm kroku srovn\xe1v\xe1ny s hodnotou odvozenou z norm\xe1lov\xe9 k\u0159ivky pro danou plodinu a dan\xfd klimatick\xfd region. V\xfdsledn\xfd mapov\xfd produkt tak vyjad\u0159uje procentu\xe1ln\xed \xfarove\u0148 aktu\xe1ln\xed hodnoty indexu NDVI v\u016f\u010di norm\xe1lov\xe9 hodnot\u011b (100 %). Srovn\xe1n\xed aktu\xe1ln\xedho v\xfdvoje s dlouhodob\xfdm norm\xe1lem je mo\u017en\xe9 pro jednotliv\xe9 zem\u011bd\u011blsk\xe9 parcely vyj\xe1d\u0159it rovn\u011b\u017e v podob\u011b grafu zobrazuj\xedc\xedm pr\u016fb\u011bh aktu\xe1ln\xed tempor\xe1ln\xed k\u0159ivky indexu NDVI a jeho srovn\xe1n\xed s pr\u016fb\u011bhem k\u0159ivky norm\xe1lov\xe9."),l.a.createElement("p",null,"V dal\u0161\xed f\xe1zi jsou hodnoty NDVI pr\u016fb\u011b\u017en\u011b extrahov\xe1ny z dru\u017eicov\xfdch dat po\u0159\xedzen\xfdch v pr\u016fb\u011bhu aktu\xe1ln\xed vegeta\u010dn\xed sez\xf3ny (op\u011bt v\u017edy v 15-denn\xedch monitorovac\xedch oknech). Aby byla maximalizov\xe1na pravd\u011bpodobnost, \u017ee analyzovan\xfd pozemek bude v r\xe1mci dan\xe9ho monitorovac\xedch obdob\xed zachycen bez obla\u010dnosti, jsou pro sledov\xe1n\xed aktu\xe1ln\xedch hodnot indexu NDVI vyu\u017e\xedv\xe1na nejen dru\u017eicov\xe1 data Landsat, ale sou\u010dasn\u011b i Sentinel-2. S ohledem na pon\u011bkud odli\u0161n\xe9 radiometrick\xe9 charakteristiky senzor\u016f OLI (Landsat-8) a MSI (Sentinel-2) je v tomto p\u0159\xedpad\u011b ov\u0161em nutn\xe9 na data Sentinel-2 nejprve aplikovat proces radiometrick\xe9 harmonizace, d\xedky n\u011bmu\u017e jsou hodnoty indexu NDVI odvozen\xe9 z dat Sentinel-2 a Landsat-8 navz\xe1jem srovnateln\xe9. Aktu\xe1ln\xed hodnoty indexu NDVI jsou v n\xe1sleduj\xedc\xedm kroku srovn\xe1v\xe1ny s hodnotou odvozenou z norm\xe1lov\xe9 k\u0159ivky pro danou plodinu a dan\xfd klimatick\xfd region. V\xfdsledn\xfd mapov\xfd produkt tak vyjad\u0159uje procentu\xe1ln\xed \xfarove\u0148 aktu\xe1ln\xed hodnoty indexu NDVI v\u016f\u010di norm\xe1lov\xe9 hodnot\u011b (100 %). Srovn\xe1n\xed aktu\xe1ln\xedho v\xfdvoje s dlouhodob\xfdm norm\xe1lem je mo\u017en\xe9 pro jednotliv\xe9 zem\u011bd\u011blsk\xe9 parcely vyj\xe1d\u0159it rovn\u011b\u017e v podob\u011b grafu zobrazuj\xedc\xedm pr\u016fb\u011bh aktu\xe1ln\xed tempor\xe1ln\xed k\u0159ivky indexu NDVI a jeho srovn\xe1n\xed s pr\u016fb\u011bhem k\u0159ivky norm\xe1lov\xe9.")),l.a.createElement(J.a,{left:!0,distance:"50px"},l.a.createElement("div",{className:"tacrAgritas-image"},l.a.createElement("img",{src:Ze.a}),l.a.createElement("p",{className:"tacrAgritas-component-description"},"Uk\xe1zka srovn\xe1n\xed aktu\xe1ln\xedho stavu porostu ozim\xe9 p\u0161enice (A) a jarn\xedho je\u010dmene (B) vzhledem k dlouhodob\xe9mu norm\xe1lu (1985 - 2015). Po rychl\xe9m n\xe1r\u016fstu na po\u010d\xe1tku vegeta\u010dn\xed sez\xf3ny, kter\xfd byl d\xe1n zejm\xe9na neobvykle tepl\xfdm po\u010das\xedm v dubnu (v\xfdvoj n\u011bkter\xfdch plodin byl urychlen o 30 \u2013 40 dn\xed), za\u010dal vlivem nastupuj\xedc\xedho sucha stav porost\u016f v polovin\u011b kv\u011btna stagnovat a v pr\u016fb\u011bhu \u010dervna klesl a\u017e k podpr\u016fm\u011brn\xfdm hodnot\xe1m.")))))}},{key:"renderMapSet",value:function(e,a,t,n){var o=this.getSelectedAreaData();return l.a.createElement(J.a,{left:!0,distance:"50px"},l.a.createElement("div",{className:"tacrAgritas-map-set-container single-map"},l.a.createElement(D.HoverHandler,{popupContentComponent:l.a.createElement(Pe,{valueColumnName:t,unit:n})},l.a.createElement(oe.MapSet,{activeMapKey:e,mapComponent:oe.WorldWindMap,view:this.props.placeView,sync:{boxRange:!0,center:!0,tilt:!0,heading:!0,roll:!0},backgroundLayer:De.cartoDbLight},l.a.createElement(oe.MapSetPresentationMap,{mapKey:e+"-map-1",layers:a,onLayerClick:this.onMapClick}),l.a.createElement(oe.MapControls,{zoomOnly:!0}),l.a.createElement(Te,{cropName:o&&o.properties.CROP_NAME,selectedAreaName:o&&o.properties.NKOD_DPB2,selectedAreaClimRegion:o&&o.properties.CLIM_LABEL}),l.a.createElement(Z.Select,{className:"tacrAgritas-map-label",value:this.state.selectedMapPeriod,optionLabel:"label",optionValue:"key",options:Oe,onChange:this.onMapPeriodChange})))))}},{key:"renderChart",value:function(e){var a=this.getSelectedAreaData();return l.a.createElement("div",{className:"tacrAgritas-chart-wrapper"},l.a.createElement(D.HoverHandler,{popupContentComponent:Me},l.a.createElement("div",{className:"tacrAgritas-chart-title"},"P\u016fdn\xed blok",l.a.createElement("em",null," ",a&&a.properties.NKOD_DPB2)),l.a.createElement(le.LineChart,{key:"history",data:e,keySourcePath:"key",nameSourcePath:"name",serieDataSourcePath:"data",xSourcePath:"date",ySourcePath:"value",colorSourcePath:"color",isSerie:!0,pointRadius:3,xScaleType:"time",xValuesSize:4,xOptions:{name:"Time",axisValueFormat:"MMMM",popupValueFormat:"D. MMMM YYYY",min:"".concat(this.props.activePeriodKey,"-02-28T00:00:00.000Z"),max:"".concat(this.props.activePeriodKey,"-11-01T00:00:00.000Z")},yLabel:!0,yValuesSize:3,yOptions:{name:"NDVI"},withoutYbaseline:!1,legend:!0})))}},{key:"getSelectedAreaData",value:function(){var e=this;return g.a.find(this.props.data,(function(a){return a.properties.ID_DPB===e.state.activeDpbKey}))}},{key:"getMapLayers",value:function(e){return[{key:"test",layerKey:"test",type:"vector",opacity:.7,options:{features:this.props.data,style:e.data.definition,hovered:{style:re},selected:{test:{style:ie,keys:[this.state.activeDpbKey]}},fidColumnName:"ID_DPB"}}]}},{key:"prepareDataForCharts",value:function(){var e=this,a=[],t=[],n=this.getSelectedAreaData();return n?(g.a.forIn(n.properties,(function(n,l){var o=l.split("_"),r=o[0];if(5===r.length){var i=r.substring(0,1),s=r.substring(1,5),c=Number(r.substring(1,5));if(!g.a.isNaN(c)){var d=s.substring(2,4),v=s.substring(0,2),u=ne()("".concat(e.props.activePeriodKey,"-").concat(v,"-").concat(d)).toISOString(),p=o[1],m=p.substring(2,4),h=p.substring(0,2),y={date:u,dateEnd:ne()("".concat(e.props.activePeriodKey,"-").concat(h,"-").concat(m)).toISOString(),value:n};n&&("R"===i?a.push(y):"C"===i&&t.push(y))}}})),[Object(u.a)({},n.properties,{key:"history",name:"Dlouhodob\xfd norm\xe1l",data:a,color:"#aaaaaa"}),Object(u.a)({},n.properties,{key:"current",name:"Aktu\xe1ln\xed hodnota",data:t,color:"#ff00ff"})]):null}}]),a}(l.a.PureComponent),Je=t(1),Xe=t.n(Je),$e=t(132),ea=t.n($e),aa=t(133),ta=t.n(aa),na=(t(308),function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(G.a)(this,Object(Q.a)(a).call(this,e))).state={barWidth:0,meanLeft:0},t}return Object(Y.a)(a,e),Object(F.a)(a,[{key:"componentDidMount",value:function(e,a,t){this.update()}},{key:"componentDidUpdate",value:function(e,a,t){this.update()}},{key:"update",value:function(){var e=this.props;if((e.min||0===e.min)&&(e.max||0===e.max)){var a=e.max-e.min,t=e.mean-e.min,n=e.value-e.min;this.setState({barWidth:"".concat(n/a*100,"%"),meanLeft:"".concat(t/a*100,"%")})}}},{key:"render",value:function(){var e=this.props;return l.a.createElement("div",{className:"ptr-hbar-infographic-item"},l.a.createElement("div",{className:"ptr-hbar-infographic-top"},l.a.createElement("div",{className:"ptr-hbar-infographic-name"},l.a.createElement("div",{className:"ptr-hbar-infographic-title"},e.name," ",l.a.createElement("i",null,e.unit))),l.a.createElement("div",{className:"ptr-hbar-infographic-value"},e.value)),l.a.createElement("div",{className:"ptr-hbar-infographic-bar-box"},l.a.createElement("div",{className:"ptr-hbar-infographic-bar-rail"},l.a.createElement("div",{className:"ptr-hbar-infographic-bar",style:{width:this.state.barWidth}}),l.a.createElement("div",{title:"Medi\xe1n: "+e.mean,className:"ptr-hbar-infographic-mean",style:{left:this.state.meanLeft}}))),l.a.createElement("div",{className:"ptr-hbar-infographic-bottom"},l.a.createElement("div",{className:"ptr-hbar-infographic-min"},e.min),l.a.createElement("div",{className:"ptr-hbar-infographic-max"},e.max)))}}]),a}(l.a.PureComponent)),la=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(G.a)(this,Object(Q.a)(a).call(this,e))).state={rasters:Xe.a.object,activeDpbKey:e.data&&e.data[0].properties.ID_DPB,selectedAttribute:we[0],showChoropleth:!0},t.onMapClick=t.onMapClick.bind(Object(W.a)(t)),t.onAttributeChange=t.onAttributeChange.bind(Object(W.a)(t)),t.onShowChoropleth=t.onShowChoropleth.bind(Object(W.a)(t)),t}return Object(Y.a)(a,e),Object(F.a)(a,[{key:"componentDidUpdate",value:function(e,a,t){var n=this.props;n.data&&(this.getSelectedAreaData()||this.setState({activeDpbKey:n.data&&n.data[0]&&n.data[0].properties.ID_DPB}))}},{key:"onMapClick",value:function(e,a,t){this.setState({activeDpbKey:t[0]})}},{key:"onAttributeChange",value:function(e){this.setState({selectedAttribute:e})}},{key:"onShowChoropleth",value:function(){this.setState({showChoropleth:!this.state.showChoropleth})}},{key:"render",value:function(){this.props;var e=this.getSelectedAreaData(),a=this.state.selectedAttribute,t=[],n=null;return this.props.data&&this.state.selectedAttribute&&(t=this.getMapLayers(this.state.showChoropleth?a.style:se)),this.props.data&&this.state.activeDpbKey&&(n=this.getDataForChart()),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tacrAgritas-section"},l.a.createElement("div",null,l.a.createElement("h1",null,"Fenologick\xe9 a produk\u010dn\xed charakteristiky porost\u016f zem\u011bd\u011blsk\xfd plodin"),l.a.createElement("p",null,"Fenologie se zab\xfdv\xe1 popisem \u010dasov\xe9ho pr\u016fb\u011bhu \u017eivotn\xedch projev\u016f rostlin (a \u017eivo\u010dich\u016f). Jej\xedm c\xedlem je p\u0159edev\u0161\xedm ur\u010den\xed term\xedn\u016f periodicky se opakuj\xedc\xedch stav\u016f (tzv. fenof\xe1z\xed), jak\xfdmi je v p\u0159\xedpad\u011b rostlin nap\u0159\xedklad kveten\xed \u010di senescence. I kdy\u017e v\u011bt\u0161inu projev\u016f monitorovan\xfdch v r\xe1mci pozemn\xedch fenologick\xfdch pozorov\xe1n\xed nelze p\u0159\xedmo zachytit pomoc\xed dat d\xe1lkov\xe9ho pr\u016fzkumu, p\u0159esto lze na z\xe1klad\u011b zpracov\xe1n\xed \u010dasov\xfdch \u0159ad dru\u017eicov\xfdch sn\xedmk\u016f z\xedskat mnoho d\u016fle\u017eit\xfdch informac\xed popisuj\xedc\xedch \u010dasov\xfd v\xfdvoj rostlinn\xe9ho porostu (nap\u0159. term\xedny za\u010d\xe1tku, konce a vrcholu vegeta\u010dn\xed sez\xf3ny, d\xe9lku vegeta\u010dn\xed sez\xf3ny apod.). V\xfdvoj vegetace v \u010dase pak sou\u010dasn\u011b souvis\xed i s celkovou produktivitou porostu."),l.a.createElement("p",null,"Mapov\xe9 vrstvy p\u0159edstavuj\xed hodnoty celkem 14 r\u016fzn\xfdch fenologick\xfdch charakteristik, odvozen\xfdch pomoc\xed matematick\xe9 anal\xfdzy \u010dasov\xe9ho v\xfdvoje hodnot vegeta\u010dn\xedch index\u016f NDVI a NRERI z\xedskan\xfdch z dru\u017eicov\xfdch dat Sentinel-2. Tyto hodnoty jsou prezentov\xe1ny jak v rastrov\xe9 podob\u011b (tj. na \xfarovni pixelu), tak jako hodnoty agregovan\xe9 na \xfarove\u0148 jednotliv\xfdch zem\u011bd\u011blsk\xfdch pozemk\u016f. Obdobn\u011b je pak ur\u010deno celkem 6 indik\xe1tor\u016f produktivity porost\u016f."),l.a.createElement("div",{className:"tacrAgritas-map-component-wrapper"},l.a.createElement("div",{className:"tacrAgritas-map-layers"},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:this.state.showChoropleth,onChange:this.onShowChoropleth}),l.a.createElement("div",null,"Zobraz hodnoty agregovan\xe9 na p\u016fdn\xed blok"))),l.a.createElement(J.a,{left:!0,distance:"50px"},l.a.createElement("div",{className:"tacrAgritas-map-set-container single-map"},l.a.createElement(D.HoverHandler,{popupContentComponent:l.a.createElement(Pe,{valueColumnName:a&&a.key,unit:a&&a.unit})},l.a.createElement(oe.MapSet,{activeMapKey:"productivity-map-set",mapComponent:oe.WorldWindMap,view:this.props.placeView,backgroundLayer:De.cartoDbLight},l.a.createElement(oe.MapSetPresentationMap,{mapKey:"map-1",layers:t,onLayerClick:this.onMapClick}),l.a.createElement(oe.MapControls,{zoomOnly:!0}),l.a.createElement(Te,{cropName:e&&e.properties.CROP_NAME,selectedAreaName:e&&e.properties.NKOD_DPB2,selectedAreaClimRegion:e&&e.properties.CLIM_LABEL}),l.a.createElement(Z.Select,{className:"tacrAgritas-map-label wide",value:this.state.selectedAttribute,optionLabel:"longName",optionValue:"key",options:we,onChange:this.onAttributeChange}))))),l.a.createElement(Ke,{style:a&&a.style,name:a&&a.name,unit:a&&a.unit,noData:!0})),n?this.renderChart(n):null)),l.a.createElement("div",{className:"tacrAgritas-section"},l.a.createElement("div",null,l.a.createElement("h2",null,"Popis fenologick\xfdch charakteristik"),l.a.createElement("div",{className:"tacrAgritas-fenology-list"},l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"SOS (A)"),l.a.createElement("div",null,"Datum za\u010d\xe1tku vegeta\u010dn\xed sez\xf3ny vyj\xe1d\u0159en\xe9 v DOY")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"EOS (B)"),l.a.createElement("div",null,"Datum konce vegeta\u010dn\xed sez\xf3ny vyj\xe1d\u0159en\xe9 v DOY")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"LOS_GRW (C)"),l.a.createElement("div",null,"D\xe9lka r\u016fstov\xe9 f\xe1ze vegeta\u010dn\xed sez\xf3ny vyj\xe1d\u0159en\xe1 ve dnech (doba od za\u010d\xe1tku do vrcholu vegeta\u010dn\xed sez\xf3ny)")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"LOS_SEN (D)"),l.a.createElement("div",null,"D\xe9lka senescen\u010dn\xed f\xe1ze vegeta\u010dn\xed sez\xf3ny vyj\xe1d\u0159en\xe1 ve dnech (doba od vrcholu do konce vegeta\u010dn\xed sez\xf3ny) ")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"LOS_TOT (E)"),l.a.createElement("div",null,"Celkov\xe1 d\xe9lka vegeta\u010dn\xed sez\xf3ny vyj\xe1d\u0159en\xe1 ve dnech (doba od za\u010d\xe1tku do konce vegeta\u010dn\xed sez\xf3ny)")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"BASE_GRW (F)"),l.a.createElement("div",null,"B\xe1ze za\u010d\xe1tku vegeta\u010dn\xed sez\xf3ny \u2013 po\u010d\xe1te\u010dn\xed stav (hodnota minima p\u0159ed za\u010d\xe1tkem vegeta\u010dn\xed sez\xf3ny)")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"BASE_SEN (G)"),l.a.createElement("div",null,"B\xe1ze konce vegeta\u010dn\xed sez\xf3ny \u2013 koncov\xfd stav (hodnota minima po konci vegeta\u010dn\xed sez\xf3ny) ")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"CLIMAX_DOY (H)"),l.a.createElement("div",null,"Datum dosa\u017een\xed sez\xf3nn\xedho maxima vyj\xe1d\u0159en\xe9 v DOY")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"CLIMAX_VI (I)"),l.a.createElement("div",null,"Hodnota vegeta\u010dn\xedho indexu v term\xednu maxima")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"AMPLITUDE (J)"),l.a.createElement("div",null,"Sez\xf3nn\xed amplituda hodnot vegeta\u010dn\xedho indexu")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"GRW_DOY (K)"),l.a.createElement("div",null,"Term\xedn dosa\u017een\xed maxim\xe1ln\xed rychlosti n\xe1r\u016fstu hodnoty vegeta\u010dn\xedho indexu vyj\xe1d\u0159en\xfd v DOY")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"GRW_RATE (L)"),l.a.createElement("div",null,"Maxim\xe1ln\xed rychlost n\xe1r\u016fstu hodnoty vegeta\u010dn\xedho indexu")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"SEN_DOY (M)"),l.a.createElement("div",null,"Term\xedn dosa\u017een\xed maxim\xe1ln\xed rychlosti poklesu hodnoty vegeta\u010dn\xedho indexu vyj\xe1d\u0159en\xfd v DOY")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"SEN_RATE (N)"),l.a.createElement("div",null,"Maxim\xe1ln\xed rychlost poklesu hodnoty vegeta\u010dn\xedho indexu")),l.a.createElement(J.a,{left:!0,distance:"50px"},l.a.createElement("div",{className:"tacrAgritas-image"},l.a.createElement("img",{style:{padding:"1rem"},src:ea.a}),l.a.createElement("p",{className:"tacrAgritas-component-description"},"Pozn.: DOY = Day Of Year, tj. po\u0159adov\xe9 \u010d\xedslo dne v dan\xe9m roce. 1.1. = DOY 1, 2.1. = DOY 2\u202631.12. = DOY 365 (v nep\u0159estupn\xe9m roce)")))),l.a.createElement("h2",null,"Popis produk\u010dn\xedch charakteristik"),l.a.createElement("div",{className:"tacrAgritas-fenology-list"},l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"LINT_GRW (O)"),l.a.createElement("div",null,"Indik\xe1tor hrub\xe9 produkce v r\u016fstov\xe9 f\xe1zi vegeta\u010dn\xed sez\xf3ny")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"LINT_SEN (P)"),l.a.createElement("div",null,"Indik\xe1tor hrub\xe9 produkce v senescen\u010dn\xed f\xe1zi vegeta\u010dn\xed sez\xf3ny")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"LINT_TOT (Q)"),l.a.createElement("div",null,"Indik\xe1tor hrub\xe9 produkce za vegeta\u010dn\xed sez\xf3nu")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"SINT_GRW (R)"),l.a.createElement("div",null,"Indik\xe1tor \u010dist\xe9 produkce v r\u016fstov\xe9 f\xe1zi vegeta\u010dn\xed sez\xf3ny")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"SINT_SEN (S)"),l.a.createElement("div",null,"Indik\xe1tor \u010dist\xe9 produkce v senescen\u010dn\xed f\xe1zi vegeta\u010dn\xed sez\xf3ny")),l.a.createElement("div",{className:"tacrAgritas-fenology-list-item"},l.a.createElement("div",null,"SINT_TOT (T)"),l.a.createElement("div",null,"Indik\xe1tor \u010dist\xe9 produkce za vegeta\u010dn\xed sez\xf3nu"))),l.a.createElement(J.a,{left:!0,distance:"50px"},l.a.createElement("div",{className:"tacrAgritas-image"},l.a.createElement("img",{style:{padding:"1rem"},src:ta.a}),l.a.createElement("p",{className:"tacrAgritas-component-description"},"Pozn.: indik\xe1tor hrub\xe9 produkce koreluje s celkov\xfdm mno\u017estv\xedm biomasy porostu, zat\xedmco indik\xe1tor \u010dist\xe9 produkce bere v potaz pouze n\xe1r\u016fst biomasy nad \xfarove\u0148 b\xe1ze na za\u010d\xe1tku vegeta\u010dn\xed sez\xf3ny. Ani v jednom p\u0159\xedpad\u011b se v\u0161ak nejedn\xe1 o kvantitativn\xed odhad tzv. hrub\xe9 prim\xe1rn\xed produkce (gross primary production - GPP) \u010di \u010dist\xe9 prim\xe1rn\xed produkce (net primary production - NPP). "))))))}},{key:"renderChart",value:function(e){return l.a.createElement("div",{className:"tacrAgritas-fenology-chart"},e.map((function(e,a){return l.a.createElement(na,{key:a,name:e.longName,unit:e.unit,min:e.min,max:e.max,mean:e.mean,value:e.currentValue})})))}},{key:"getSelectedAreaData",value:function(){var e=this;return g.a.find(this.props.data,(function(a){return a.properties.ID_DPB===e.state.activeDpbKey}))}},{key:"getMapLayers",value:function(e){var a=this.state.selectedAttribute.key,t=this.props.rasters[a],n=[{key:"test",layerKey:"test",type:"vector",opacity:1,options:{features:this.props.data,style:e&&e.data.definition,hovered:{style:re},selected:{test:{style:ie,keys:[this.state.activeDpbKey]}},fidColumnName:"ID_DPB"}}];return t&&n.unshift({key:"wms",type:"wms",opacity:1,options:{url:M.tacrAgritasGeoserverWmsUrl,params:{layers:t}}}),n}},{key:"getDataForChart",value:function(){var e=this,a=this.getSelectedAreaData();return a?we.map((function(t){var n=e.props.data.map((function(e){return e.properties[t.key]})),l=g.a.sortBy(n);return Object(u.a)({},t,{min:l[0],max:l[l.length-1],mean:l[Math.floor(l.length/2)],currentValue:a.properties[t.key]})})):null}}]),a}(l.a.PureComponent),oa=t(134),ra=t.n(oa),ia=t(135),sa=t.n(ia),ca=function(e){function a(e){return Object(R.a)(this,a),Object(G.a)(this,Object(Q.a)(a).call(this,e))}return Object(Y.a)(a,e),Object(F.a)(a,[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"render",value:function(){var e=this.props;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ae.a,{titleTemplate:"%s | AGRITAS port\xe1l",defaultTitle:"AGRITAS port\xe1l"},this.props.activePlace&&this.props.activePlace.data.nameDisplay?l.a.createElement("title",null,this.props.activePlace.data.nameDisplay):null),l.a.createElement($,null),l.a.createElement("div",{className:"tacrAgritas-content",id:"tacrAgritas-content"},e.activeScope?this.renderMonitoring(e.activeScope):null),this.renderFooter())}},{key:"renderMonitoring",value:function(e){switch(e.key){case"biofyzika":return l.a.createElement(He,{data:this.props.data,rasters:this.props.rasters,placeView:this.props.activePlaceView,activePeriodKey:this.props.activePeriodKey,scope:e});case"produktivita":return l.a.createElement(la,{data:this.props.data,rasters:this.props.rasters,placeView:this.props.activePlaceView,activePeriodKey:this.props.activePeriodKey,scope:e});case"historie":return l.a.createElement(qe,{data:this.props.data,placeView:this.props.activePlaceView,activePeriodKey:this.props.activePeriodKey,scope:e});default:return null}}},{key:"renderFooter",value:function(){return l.a.createElement("div",{className:"tacrAgritas-footer"},l.a.createElement("p",null,'V\xfdvoj tohoto mapov\xe9ho port\xe1lu a metodiky pro kvantitativn\xed odhad hodnot biofyzik\xe1ln\xedch charakteristik porost\u016f zem\u011bd\u011blsk\xfdch plodin byl podpo\u0159en Technologickou Agenturou \u010cesk\xe9 Republiky (TA \u010cR) v r\xe1mci projektu TH02030248 "Vyu\u017eit\xed dru\u017eicov\xfdch dat Copernicus pro efektivn\xed monitoring stavu a managementu vybran\xfdch rostlinn\xfdch agrosyst\xe9m\u016f".'),l.a.createElement("div",{className:"tacrAgritas-footer-consortium"},l.a.createElement("div",{className:"tacrAgritas-footer-member"},l.a.createElement("a",{href:"http://gisat.cz",target:"_blank"},l.a.createElement("img",{src:ra.a})),l.a.createElement("div",null,"Gisat s.r.o.",l.a.createElement("br",null),"Milady Hor\xe1kov\xe9 547/57 ",l.a.createElement("br",null),"Praha 7, Hole\u0161ovice, 170 00")),l.a.createElement("div",{className:"tacrAgritas-footer-member"},l.a.createElement("a",{href:"http://www.czechglobe.cz/cs/",target:"_blank"},l.a.createElement("img",{src:sa.a})),l.a.createElement("div",null,"\xdastav v\xfdzkumu glob\xe1ln\xed zm\u011bny AV \u010cR v.v.i.",l.a.createElement("br",null),"B\u011blidla 986/4a",l.a.createElement("br",null),"Brno, 603 00"))),l.a.createElement("div",null,"\xa9 Gisat ".concat((new Date).getFullYear())))}}]),a}(l.a.PureComponent),da=Object(i.connect)((function(e,a){return{activeScope:C.scopes.getActive(e),activePlace:C.places.getActive(e),activePlaceView:C.places.getActiveView(e),activePeriodKey:C.periods.getActiveKey(e),data:C.specific.tacrAgritasData.getFeaturesForActiveMetadata(e),rasters:C.specific.tacrAgritas.getRastersForActiveMetadata(e)}}),(function(e,a){return{onMount:function(){e(L.places.setActiveKey(a.placeKey)),e(L.specific.tacrAgritas.changeAppView())}}}))(ca),va=t(136),ua=t.n(va),pa=t(137),ma=t.n(pa),ha=function(e){var a=e.places;return l.a.createElement("div",{className:"tacrAgritas-index"},l.a.createElement(ae.a,{defaultTitle:"AGRITAS port\xe1l"}),l.a.createElement("div",{className:"tacrAgritas-index-background"}),l.a.createElement("div",{className:"tacrAgritas-index-content"},l.a.createElement(J.a,{duration:1500},l.a.createElement("h1",null,l.a.createElement(Z.Icon,{icon:"crop"}),"AGRITAS port\xe1l"),l.a.createElement("p",null,"Biofyzik\xe1ln\xed monitoring, fenologick\xe9 a produk\u010dn\xed charakteristiky porost\u016f zem\u011bd\u011blsk\xfd plodin, Srovn\xe1n\xed aktu\xe1ln\xedho stavu zem\u011bd\u011blsk\xfd porost\u016f s dlouhodob\xfdm norm\xe1lem (1985 - 2015)."),l.a.createElement("div",{className:"tacrAgritas-index-cta"},l.a.createElement(ma.a,{delay:1500},l.a.createElement(Z.Icon,{icon:"arrow-left"})),l.a.createElement("span",null,"Za\u010dn\u011bte v\xfdb\u011brem farmy"))),l.a.createElement(J.a,{left:!0,cascade:!0,distance:"50px"},l.a.createElement("div",{className:"tacrAgritas-index-cards"},a.map((function(e){return l.a.createElement(i.NavLink,{key:e.key,to:"/"+e.key,className:"tacrAgritas-index-card ".concat(e.key," ").concat(e.data.bbox?"":"disabled")},l.a.createElement("div",{className:"tacrAgritas-index-card-content"},l.a.createElement("div",{className:"tacrAgritas-index-card-title"},e.data.nameDisplay),l.a.createElement("div",{className:"tacrAgritas-index-card-subtitle"},e.data.description)))}))))),l.a.createElement("div",{className:"tacrAgritas-index-footer"},l.a.createElement(J.a,{duration:1500},l.a.createElement("p",null,'V\xfdvoj tohoto mapov\xe9ho port\xe1lu a metodiky pro kvantitativn\xed odhad hodnot biofyzik\xe1ln\xedch charakteristik porost\u016f zem\u011bd\u011blsk\xfdch plodin byl podpo\u0159en Technologickou Agenturou \u010cesk\xe9 Republiky (TA \u010cR) v r\xe1mci projektu TH02030248 "Vyu\u017eit\xed dru\u017eicov\xfdch dat Copernicus pro efektivn\xed monitoring stavu a managementu vybran\xfdch rostlinn\xfdch agrosyst\xe9m\u016f".'),l.a.createElement("p",null,"\xa9 ",l.a.createElement("a",{href:"http://gisat.cz",target:"_blank"},"Gisat s.r.o.")," a ",l.a.createElement("a",{href:"http://www.czechglobe.cz/cs/",target:"_blank"},"\xdastav v\xfdzkumu glob\xe1ln\xed zm\u011bny AV \u010cR v.v.i."),", ","".concat((new Date).getFullYear())))))},ya=t(138);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fa=i.connects.AppContainer(ya.AppContainer),ga=function(e){var a=Object(d.a)(e);return Object(v.wrapHistory)(a,{primaryFocusTarget:"body",smoothScroll:!0}),a}(),ba=function(e){var a=Object(i.applyMiddleware)(i.thunk,Object(i.routerMiddleware)(e));return Object(i.createStore)(Object(i.combineReducers)({specific:Object(i.combineReducers)({tacrAgritasData:h}),app:i.appReducers,cases:i.casesReducers,periods:i.periodsReducers,places:i.placesReducers,router:Object(i.connectRouter)(e),scopes:i.scopesReducers,users:i.usersReducers}),Object(i.compose)(i.reduxBatch,a,i.reduxBatch,Object(i.applyMiddleware)(i.thunk),i.reduxBatch))}(ga);ba.dispatch(L.app.updateLocalConfiguration(M));var ka=M.tacrAgritasDataRepositoryUrl+"config.json";V.request(ka,"GET",null,null).then((function(e){if(!e||!e.data)throw new Error("No data in config!");var a=e.data;if(a.configurations){var t=a.configurations[0].data.data;ba.dispatch(L.app.add(t))}a.cases&&ba.dispatch(L.cases.add(a.cases)),a.scopes&&ba.dispatch(L.scopes.add(a.scopes)),a.periods&&ba.dispatch(L.periods.add(a.periods)),a.places&&ba.dispatch(L.places.add(a.places)),a.activeCaseKey&&ba.dispatch(L.cases.setActiveKey(a.activeCaseKey)),a.activePeriodKey&&ba.dispatch(L.periods.setActiveKey(a.activePeriodKey)),a.activeScopeKey&&ba.dispatch(L.scopes.setActiveKey(a.activeScopeKey));var n=a.places.map((function(e){return e.key}));r.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{url:ua.a}),l.a.createElement(i.Provider,{store:ba},l.a.createElement(fa,{appKey:"tacrAgritas"},l.a.createElement(i.ConnectedRouter,{history:ga},l.a.createElement(i.Switch,null,n.map((function(e){return l.a.createElement(i.Route,{key:e,path:"/"+e,render:function(a){return l.a.createElement(da,{placeKey:e})}})})),l.a.createElement(i.Route,{path:"/",render:function(){return l.a.createElement(ha,{places:a.places})}})))))),document.getElementById("ptr"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[140,1,2]]]);
//# sourceMappingURL=main.eb62dfc6.chunk.js.map